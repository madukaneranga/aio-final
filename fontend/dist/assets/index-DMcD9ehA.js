function pM(t,r){for(var n=0;n<r.length;n++){const s=r[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(s,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lT={exports:{}},zv={},cT={exports:{}},Zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym=Symbol.for("react.element"),mM=Symbol.for("react.portal"),gM=Symbol.for("react.fragment"),yM=Symbol.for("react.strict_mode"),xM=Symbol.for("react.profiler"),vM=Symbol.for("react.provider"),bM=Symbol.for("react.context"),wM=Symbol.for("react.forward_ref"),jM=Symbol.for("react.suspense"),NM=Symbol.for("react.memo"),SM=Symbol.for("react.lazy"),Q3=Symbol.iterator;function BM(t){return t===null||typeof t!="object"?null:(t=Q3&&t[Q3]||t["@@iterator"],typeof t=="function"?t:null)}var uT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dT=Object.assign,AT={};function Bh(t,r,n){this.props=t,this.context=r,this.refs=AT,this.updater=n||uT}Bh.prototype.isReactComponent={};Bh.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};Bh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fT(){}fT.prototype=Bh.prototype;function cj(t,r,n){this.props=t,this.context=r,this.refs=AT,this.updater=n||uT}var uj=cj.prototype=new fT;uj.constructor=cj;dT(uj,Bh.prototype);uj.isPureReactComponent=!0;var $3=Array.isArray,hT=Object.prototype.hasOwnProperty,dj={current:null},pT={key:!0,ref:!0,__self:!0,__source:!0};function mT(t,r,n){var s,i={},o=null,l=null;if(r!=null)for(s in r.ref!==void 0&&(l=r.ref),r.key!==void 0&&(o=""+r.key),r)hT.call(r,s)&&!pT.hasOwnProperty(s)&&(i[s]=r[s]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(s in c=t.defaultProps,c)i[s]===void 0&&(i[s]=c[s]);return{$$typeof:ym,type:t,key:o,ref:l,props:i,_owner:dj.current}}function CM(t,r){return{$$typeof:ym,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function Aj(t){return typeof t=="object"&&t!==null&&t.$$typeof===ym}function _M(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return r[n]})}var H3=/\/+/g;function gb(t,r){return typeof t=="object"&&t!==null&&t.key!=null?_M(""+t.key):r.toString(36)}function Oy(t,r,n,s,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ym:case mM:l=!0}}if(l)return l=t,i=i(l),t=s===""?"."+gb(l,0):s,$3(i)?(n="",t!=null&&(n=t.replace(H3,"$&/")+"/"),Oy(i,r,n,"",function(d){return d})):i!=null&&(Aj(i)&&(i=CM(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(H3,"$&/")+"/")+t)),r.push(i)),1;if(l=0,s=s===""?".":s+":",$3(t))for(var c=0;c<t.length;c++){o=t[c];var u=s+gb(o,c);l+=Oy(o,r,n,u,i)}else if(u=BM(t),typeof u=="function")for(t=u.call(t),c=0;!(o=t.next()).done;)o=o.value,u=s+gb(o,c++),l+=Oy(o,r,n,u,i);else if(o==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function vg(t,r,n){if(t==null)return t;var s=[],i=0;return Oy(t,s,"","",function(o){return r.call(n,o,i++)}),s}function EM(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var ma={current:null},Fy={transition:null},kM={ReactCurrentDispatcher:ma,ReactCurrentBatchConfig:Fy,ReactCurrentOwner:dj};function gT(){throw Error("act(...) is not supported in production builds of React.")}Zr.Children={map:vg,forEach:function(t,r,n){vg(t,function(){r.apply(this,arguments)},n)},count:function(t){var r=0;return vg(t,function(){r++}),r},toArray:function(t){return vg(t,function(r){return r})||[]},only:function(t){if(!Aj(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Zr.Component=Bh;Zr.Fragment=gM;Zr.Profiler=xM;Zr.PureComponent=cj;Zr.StrictMode=yM;Zr.Suspense=jM;Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kM;Zr.act=gT;Zr.cloneElement=function(t,r,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=dT({},t.props),i=t.key,o=t.ref,l=t._owner;if(r!=null){if(r.ref!==void 0&&(o=r.ref,l=dj.current),r.key!==void 0&&(i=""+r.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in r)hT.call(r,u)&&!pT.hasOwnProperty(u)&&(s[u]=r[u]===void 0&&c!==void 0?c[u]:r[u])}var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];s.children=c}return{$$typeof:ym,type:t.type,key:i,ref:o,props:s,_owner:l}};Zr.createContext=function(t){return t={$$typeof:bM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vM,_context:t},t.Consumer=t};Zr.createElement=mT;Zr.createFactory=function(t){var r=mT.bind(null,t);return r.type=t,r};Zr.createRef=function(){return{current:null}};Zr.forwardRef=function(t){return{$$typeof:wM,render:t}};Zr.isValidElement=Aj;Zr.lazy=function(t){return{$$typeof:SM,_payload:{_status:-1,_result:t},_init:EM}};Zr.memo=function(t,r){return{$$typeof:NM,type:t,compare:r===void 0?null:r}};Zr.startTransition=function(t){var r=Fy.transition;Fy.transition={};try{t()}finally{Fy.transition=r}};Zr.unstable_act=gT;Zr.useCallback=function(t,r){return ma.current.useCallback(t,r)};Zr.useContext=function(t){return ma.current.useContext(t)};Zr.useDebugValue=function(){};Zr.useDeferredValue=function(t){return ma.current.useDeferredValue(t)};Zr.useEffect=function(t,r){return ma.current.useEffect(t,r)};Zr.useId=function(){return ma.current.useId()};Zr.useImperativeHandle=function(t,r,n){return ma.current.useImperativeHandle(t,r,n)};Zr.useInsertionEffect=function(t,r){return ma.current.useInsertionEffect(t,r)};Zr.useLayoutEffect=function(t,r){return ma.current.useLayoutEffect(t,r)};Zr.useMemo=function(t,r){return ma.current.useMemo(t,r)};Zr.useReducer=function(t,r,n){return ma.current.useReducer(t,r,n)};Zr.useRef=function(t){return ma.current.useRef(t)};Zr.useState=function(t){return ma.current.useState(t)};Zr.useSyncExternalStore=function(t,r,n){return ma.current.useSyncExternalStore(t,r,n)};Zr.useTransition=function(){return ma.current.useTransition()};Zr.version="18.3.1";cT.exports=Zr;var te=cT.exports;const wt=gm(te),TM=pM({__proto__:null,default:wt},[te]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OM=te,FM=Symbol.for("react.element"),IM=Symbol.for("react.fragment"),PM=Object.prototype.hasOwnProperty,LM=OM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DM={key:!0,ref:!0,__self:!0,__source:!0};function yT(t,r,n){var s,i={},o=null,l=null;n!==void 0&&(o=""+n),r.key!==void 0&&(o=""+r.key),r.ref!==void 0&&(l=r.ref);for(s in r)PM.call(r,s)&&!DM.hasOwnProperty(s)&&(i[s]=r[s]);if(t&&t.defaultProps)for(s in r=t.defaultProps,r)i[s]===void 0&&(i[s]=r[s]);return{$$typeof:FM,type:t,key:o,ref:l,props:i,_owner:LM.current}}zv.Fragment=IM;zv.jsx=yT;zv.jsxs=yT;lT.exports=zv;var a=lT.exports,xT={exports:{}},eo={},vT={exports:{}},bT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r(K,Y){var V=K.length;K.push(Y);e:for(;0<V;){var I=V-1>>>1,O=K[I];if(0<i(O,Y))K[I]=Y,K[V]=O,V=I;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var Y=K[0],V=K.pop();if(V!==Y){K[0]=V;e:for(var I=0,O=K.length,R=O>>>1;I<R;){var U=2*(I+1)-1,T=K[U],z=U+1,G=K[z];if(0>i(T,V))z<O&&0>i(G,T)?(K[I]=G,K[z]=V,I=z):(K[I]=T,K[U]=V,I=U);else if(z<O&&0>i(G,V))K[I]=G,K[z]=V,I=z;else break e}}return Y}function i(K,Y){var V=K.sortIndex-Y.sortIndex;return V!==0?V:K.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],d=[],A=1,f=null,h=3,p=!1,m=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(K){for(var Y=n(d);Y!==null;){if(Y.callback===null)s(d);else if(Y.startTime<=K)s(d),Y.sortIndex=Y.expirationTime,r(u,Y);else break;Y=n(d)}}function w(K){if(g=!1,v(K),!m)if(n(u)!==null)m=!0,F(_);else{var Y=n(d);Y!==null&&Q(w,Y.startTime-K)}}function _(K,Y){m=!1,g&&(g=!1,y(j),j=-1),p=!0;var V=h;try{for(v(Y),f=n(u);f!==null&&(!(f.expirationTime>Y)||K&&!S());){var I=f.callback;if(typeof I=="function"){f.callback=null,h=f.priorityLevel;var O=I(f.expirationTime<=Y);Y=t.unstable_now(),typeof O=="function"?f.callback=O:f===n(u)&&s(u),v(Y)}else s(u);f=n(u)}if(f!==null)var R=!0;else{var U=n(d);U!==null&&Q(w,U.startTime-Y),R=!1}return R}finally{f=null,h=V,p=!1}}var B=!1,N=null,j=-1,C=5,E=-1;function S(){return!(t.unstable_now()-E<C)}function k(){if(N!==null){var K=t.unstable_now();E=K;var Y=!0;try{Y=N(!0,K)}finally{Y?P():(B=!1,N=null)}}else B=!1}var P;if(typeof x=="function")P=function(){x(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,H=M.port2;M.port1.onmessage=k,P=function(){H.postMessage(null)}}else P=function(){b(k,0)};function F(K){N=K,B||(B=!0,P())}function Q(K,Y){j=b(function(){K(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,F(_))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var V=h;h=Y;try{return K()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,Y){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var V=h;h=K;try{return Y()}finally{h=V}},t.unstable_scheduleCallback=function(K,Y,V){var I=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?I+V:I):V=I,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=V+O,K={id:A++,callback:Y,priorityLevel:K,startTime:V,expirationTime:O,sortIndex:-1},V>I?(K.sortIndex=V,r(d,K),n(u)===null&&K===n(d)&&(g?(y(j),j=-1):g=!0,Q(w,V-I))):(K.sortIndex=O,r(u,K),m||p||(m=!0,F(_))),K},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(K){var Y=h;return function(){var V=h;h=Y;try{return K.apply(this,arguments)}finally{h=V}}}})(bT);vT.exports=bT;var UM=vT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RM=te,Xa=UM;function Dt(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wT=new Set,b0={};function NA(t,r){lh(t,r),lh(t+"Capture",r)}function lh(t,r){for(b0[t]=r,t=0;t<r.length;t++)wT.add(r[t])}var jc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w2=Object.prototype.hasOwnProperty,MM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V3={},z3={};function QM(t){return w2.call(z3,t)?!0:w2.call(V3,t)?!1:MM.test(t)?z3[t]=!0:(V3[t]=!0,!1)}function $M(t,r,n,s){if(n!==null&&n.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HM(t,r,n,s){if(r===null||typeof r>"u"||$M(t,r,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function ga(t,r,n,s,i,o,l){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=r,this.sanitizeURL=o,this.removeEmptyString=l}var Ui={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ui[t]=new ga(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];Ui[r]=new ga(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ui[t]=new ga(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ui[t]=new ga(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ui[t]=new ga(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ui[t]=new ga(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ui[t]=new ga(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ui[t]=new ga(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ui[t]=new ga(t,5,!1,t.toLowerCase(),null,!1,!1)});var fj=/[\-:]([a-z])/g;function hj(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(fj,hj);Ui[r]=new ga(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(fj,hj);Ui[r]=new ga(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(fj,hj);Ui[r]=new ga(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ui[t]=new ga(t,1,!1,t.toLowerCase(),null,!1,!1)});Ui.xlinkHref=new ga("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ui[t]=new ga(t,1,!1,t.toLowerCase(),null,!0,!0)});function pj(t,r,n,s){var i=Ui.hasOwnProperty(r)?Ui[r]:null;(i!==null?i.type!==0:s||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(HM(r,n,i,s)&&(n=null),s||i===null?QM(r)&&(n===null?t.removeAttribute(r):t.setAttribute(r,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(r=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(r):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,r,n):t.setAttribute(r,n))))}var Ic=RM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bg=Symbol.for("react.element"),mf=Symbol.for("react.portal"),gf=Symbol.for("react.fragment"),mj=Symbol.for("react.strict_mode"),j2=Symbol.for("react.profiler"),jT=Symbol.for("react.provider"),NT=Symbol.for("react.context"),gj=Symbol.for("react.forward_ref"),N2=Symbol.for("react.suspense"),S2=Symbol.for("react.suspense_list"),yj=Symbol.for("react.memo"),au=Symbol.for("react.lazy"),ST=Symbol.for("react.offscreen"),K3=Symbol.iterator;function op(t){return t===null||typeof t!="object"?null:(t=K3&&t[K3]||t["@@iterator"],typeof t=="function"?t:null)}var ps=Object.assign,yb;function _p(t){if(yb===void 0)try{throw Error()}catch(n){var r=n.stack.trim().match(/\n( *(at )?)/);yb=r&&r[1]||""}return`
`+yb+t}var xb=!1;function vb(t,r){if(!t||xb)return"";xb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(d){var s=d}Reflect.construct(t,[],r)}else{try{r.call()}catch(d){s=d}t.call(r.prototype)}else{try{throw Error()}catch(d){s=d}t()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=s.stack.split(`
`),l=i.length-1,c=o.length-1;1<=l&&0<=c&&i[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==o[c]){var u=`
`+i[l].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=l&&0<=c);break}}}finally{xb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_p(t):""}function VM(t){switch(t.tag){case 5:return _p(t.type);case 16:return _p("Lazy");case 13:return _p("Suspense");case 19:return _p("SuspenseList");case 0:case 2:case 15:return t=vb(t.type,!1),t;case 11:return t=vb(t.type.render,!1),t;case 1:return t=vb(t.type,!0),t;default:return""}}function B2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gf:return"Fragment";case mf:return"Portal";case j2:return"Profiler";case mj:return"StrictMode";case N2:return"Suspense";case S2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NT:return(t.displayName||"Context")+".Consumer";case jT:return(t._context.displayName||"Context")+".Provider";case gj:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yj:return r=t.displayName||null,r!==null?r:B2(t.type)||"Memo";case au:r=t._payload,t=t._init;try{return B2(t(r))}catch{}}return null}function zM(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B2(r);case 8:return r===mj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function $u(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BT(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function KM(t){var r=BT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),s=""+t[r];if(!t.hasOwnProperty(r)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return i.call(this)},set:function(l){s=""+l,o.call(this,l)}}),Object.defineProperty(t,r,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function wg(t){t._valueTracker||(t._valueTracker=KM(t))}function CT(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var n=r.getValue(),s="";return t&&(s=BT(t)?t.checked?"true":"false":t.value),t=s,t!==n?(r.setValue(t),!0):!1}function Ax(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function C2(t,r){var n=r.checked;return ps({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function G3(t,r){var n=r.defaultValue==null?"":r.defaultValue,s=r.checked!=null?r.checked:r.defaultChecked;n=$u(r.value!=null?r.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function _T(t,r){r=r.checked,r!=null&&pj(t,"checked",r,!1)}function _2(t,r){_T(t,r);var n=$u(r.value),s=r.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?E2(t,r.type,n):r.hasOwnProperty("defaultValue")&&E2(t,r.type,$u(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function W3(t,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var s=r.type;if(!(s!=="submit"&&s!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,n||r===t.value||(t.value=r),t.defaultValue=r}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function E2(t,r,n){(r!=="number"||Ax(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ep=Array.isArray;function Qf(t,r,n,s){if(t=t.options,r){r={};for(var i=0;i<n.length;i++)r["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=r.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+$u(n),r=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}r!==null||t[i].disabled||(r=t[i])}r!==null&&(r.selected=!0)}}function k2(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(Dt(91));return ps({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function q3(t,r){var n=r.value;if(n==null){if(n=r.children,r=r.defaultValue,n!=null){if(r!=null)throw Error(Dt(92));if(Ep(n)){if(1<n.length)throw Error(Dt(93));n=n[0]}r=n}r==null&&(r=""),n=r}t._wrapperState={initialValue:$u(n)}}function ET(t,r){var n=$u(r.value),s=$u(r.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),r.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Y3(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function kT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function T2(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?kT(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jg,TT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(r,n,s,i)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(jg=jg||document.createElement("div"),jg.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=jg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function w0(t,r){if(r){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=r;return}}t.textContent=r}var zp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GM=["Webkit","ms","Moz","O"];Object.keys(zp).forEach(function(t){GM.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),zp[r]=zp[t]})});function OT(t,r,n){return r==null||typeof r=="boolean"||r===""?"":n||typeof r!="number"||r===0||zp.hasOwnProperty(t)&&zp[t]?(""+r).trim():r+"px"}function FT(t,r){t=t.style;for(var n in r)if(r.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=OT(n,r[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var WM=ps({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O2(t,r){if(r){if(WM[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(Dt(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(Dt(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(Dt(61))}if(r.style!=null&&typeof r.style!="object")throw Error(Dt(62))}}function F2(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I2=null;function xj(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var P2=null,$f=null,Hf=null;function X3(t){if(t=bm(t)){if(typeof P2!="function")throw Error(Dt(280));var r=t.stateNode;r&&(r=Yv(r),P2(t.stateNode,t.type,r))}}function IT(t){$f?Hf?Hf.push(t):Hf=[t]:$f=t}function PT(){if($f){var t=$f,r=Hf;if(Hf=$f=null,X3(t),r)for(t=0;t<r.length;t++)X3(r[t])}}function LT(t,r){return t(r)}function DT(){}var bb=!1;function UT(t,r,n){if(bb)return t(r,n);bb=!0;try{return LT(t,r,n)}finally{bb=!1,($f!==null||Hf!==null)&&(DT(),PT())}}function j0(t,r){var n=t.stateNode;if(n===null)return null;var s=Yv(n);if(s===null)return null;n=s[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Dt(231,r,typeof n));return n}var L2=!1;if(jc)try{var lp={};Object.defineProperty(lp,"passive",{get:function(){L2=!0}}),window.addEventListener("test",lp,lp),window.removeEventListener("test",lp,lp)}catch{L2=!1}function qM(t,r,n,s,i,o,l,c,u){var d=Array.prototype.slice.call(arguments,3);try{r.apply(n,d)}catch(A){this.onError(A)}}var Kp=!1,fx=null,hx=!1,D2=null,YM={onError:function(t){Kp=!0,fx=t}};function XM(t,r,n,s,i,o,l,c,u){Kp=!1,fx=null,qM.apply(YM,arguments)}function JM(t,r,n,s,i,o,l,c,u){if(XM.apply(this,arguments),Kp){if(Kp){var d=fx;Kp=!1,fx=null}else throw Error(Dt(198));hx||(hx=!0,D2=d)}}function SA(t){var r=t,n=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(n=r.return),t=r.return;while(t)}return r.tag===3?n:null}function RT(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function J3(t){if(SA(t)!==t)throw Error(Dt(188))}function ZM(t){var r=t.alternate;if(!r){if(r=SA(t),r===null)throw Error(Dt(188));return r!==t?null:t}for(var n=t,s=r;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return J3(i),t;if(o===s)return J3(i),r;o=o.sibling}throw Error(Dt(188))}if(n.return!==s.return)n=i,s=o;else{for(var l=!1,c=i.child;c;){if(c===n){l=!0,n=i,s=o;break}if(c===s){l=!0,s=i,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,s=i;break}if(c===s){l=!0,s=o,n=i;break}c=c.sibling}if(!l)throw Error(Dt(189))}}if(n.alternate!==s)throw Error(Dt(190))}if(n.tag!==3)throw Error(Dt(188));return n.stateNode.current===n?t:r}function MT(t){return t=ZM(t),t!==null?QT(t):null}function QT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=QT(t);if(r!==null)return r;t=t.sibling}return null}var $T=Xa.unstable_scheduleCallback,Z3=Xa.unstable_cancelCallback,e9=Xa.unstable_shouldYield,t9=Xa.unstable_requestPaint,Ds=Xa.unstable_now,r9=Xa.unstable_getCurrentPriorityLevel,vj=Xa.unstable_ImmediatePriority,HT=Xa.unstable_UserBlockingPriority,px=Xa.unstable_NormalPriority,n9=Xa.unstable_LowPriority,VT=Xa.unstable_IdlePriority,Kv=null,_l=null;function s9(t){if(_l&&typeof _l.onCommitFiberRoot=="function")try{_l.onCommitFiberRoot(Kv,t,void 0,(t.current.flags&128)===128)}catch{}}var tl=Math.clz32?Math.clz32:o9,i9=Math.log,a9=Math.LN2;function o9(t){return t>>>=0,t===0?32:31-(i9(t)/a9|0)|0}var Ng=64,Sg=4194304;function kp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mx(t,r){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var c=l&~i;c!==0?s=kp(c):(o&=l,o!==0&&(s=kp(o)))}else l=n&~i,l!==0?s=kp(l):o!==0&&(s=kp(o));if(s===0)return 0;if(r!==0&&r!==s&&!(r&i)&&(i=s&-s,o=r&-r,i>=o||i===16&&(o&4194240)!==0))return r;if(s&4&&(s|=n&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=s;0<r;)n=31-tl(r),i=1<<n,s|=t[n],r&=~i;return s}function l9(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c9(t,r){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-tl(o),c=1<<l,u=i[l];u===-1?(!(c&n)||c&s)&&(i[l]=l9(c,r)):u<=r&&(t.expiredLanes|=c),o&=~c}}function U2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zT(){var t=Ng;return Ng<<=1,!(Ng&4194240)&&(Ng=64),t}function wb(t){for(var r=[],n=0;31>n;n++)r.push(t);return r}function xm(t,r,n){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-tl(r),t[r]=n}function u9(t,r){var n=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tl(n),o=1<<i;r[i]=0,s[i]=-1,t[i]=-1,n&=~o}}function bj(t,r){var n=t.entangledLanes|=r;for(t=t.entanglements;n;){var s=31-tl(n),i=1<<s;i&r|t[s]&r&&(t[s]|=r),n&=~i}}var kn=0;function KT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var GT,wj,WT,qT,YT,R2=!1,Bg=[],Bu=null,Cu=null,_u=null,N0=new Map,S0=new Map,cu=[],d9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eB(t,r){switch(t){case"focusin":case"focusout":Bu=null;break;case"dragenter":case"dragleave":Cu=null;break;case"mouseover":case"mouseout":_u=null;break;case"pointerover":case"pointerout":N0.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":S0.delete(r.pointerId)}}function cp(t,r,n,s,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:r,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[i]},r!==null&&(r=bm(r),r!==null&&wj(r)),t):(t.eventSystemFlags|=s,r=t.targetContainers,i!==null&&r.indexOf(i)===-1&&r.push(i),t)}function A9(t,r,n,s,i){switch(r){case"focusin":return Bu=cp(Bu,t,r,n,s,i),!0;case"dragenter":return Cu=cp(Cu,t,r,n,s,i),!0;case"mouseover":return _u=cp(_u,t,r,n,s,i),!0;case"pointerover":var o=i.pointerId;return N0.set(o,cp(N0.get(o)||null,t,r,n,s,i)),!0;case"gotpointercapture":return o=i.pointerId,S0.set(o,cp(S0.get(o)||null,t,r,n,s,i)),!0}return!1}function XT(t){var r=Id(t.target);if(r!==null){var n=SA(r);if(n!==null){if(r=n.tag,r===13){if(r=RT(n),r!==null){t.blockedOn=r,YT(t.priority,function(){WT(n)});return}}else if(r===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iy(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var n=M2(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);I2=s,n.target.dispatchEvent(s),I2=null}else return r=bm(n),r!==null&&wj(r),t.blockedOn=n,!1;r.shift()}return!0}function tB(t,r,n){Iy(t)&&n.delete(r)}function f9(){R2=!1,Bu!==null&&Iy(Bu)&&(Bu=null),Cu!==null&&Iy(Cu)&&(Cu=null),_u!==null&&Iy(_u)&&(_u=null),N0.forEach(tB),S0.forEach(tB)}function up(t,r){t.blockedOn===r&&(t.blockedOn=null,R2||(R2=!0,Xa.unstable_scheduleCallback(Xa.unstable_NormalPriority,f9)))}function B0(t){function r(i){return up(i,t)}if(0<Bg.length){up(Bg[0],t);for(var n=1;n<Bg.length;n++){var s=Bg[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Bu!==null&&up(Bu,t),Cu!==null&&up(Cu,t),_u!==null&&up(_u,t),N0.forEach(r),S0.forEach(r),n=0;n<cu.length;n++)s=cu[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<cu.length&&(n=cu[0],n.blockedOn===null);)XT(n),n.blockedOn===null&&cu.shift()}var Vf=Ic.ReactCurrentBatchConfig,gx=!0;function h9(t,r,n,s){var i=kn,o=Vf.transition;Vf.transition=null;try{kn=1,jj(t,r,n,s)}finally{kn=i,Vf.transition=o}}function p9(t,r,n,s){var i=kn,o=Vf.transition;Vf.transition=null;try{kn=4,jj(t,r,n,s)}finally{kn=i,Vf.transition=o}}function jj(t,r,n,s){if(gx){var i=M2(t,r,n,s);if(i===null)Ob(t,r,s,yx,n),eB(t,s);else if(A9(i,t,r,n,s))s.stopPropagation();else if(eB(t,s),r&4&&-1<d9.indexOf(t)){for(;i!==null;){var o=bm(i);if(o!==null&&GT(o),o=M2(t,r,n,s),o===null&&Ob(t,r,s,yx,n),o===i)break;i=o}i!==null&&s.stopPropagation()}else Ob(t,r,s,null,n)}}var yx=null;function M2(t,r,n,s){if(yx=null,t=xj(s),t=Id(t),t!==null)if(r=SA(t),r===null)t=null;else if(n=r.tag,n===13){if(t=RT(r),t!==null)return t;t=null}else if(n===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return yx=t,null}function JT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r9()){case vj:return 1;case HT:return 4;case px:case n9:return 16;case VT:return 536870912;default:return 16}default:return 16}}var pu=null,Nj=null,Py=null;function ZT(){if(Py)return Py;var t,r=Nj,n=r.length,s,i="value"in pu?pu.value:pu.textContent,o=i.length;for(t=0;t<n&&r[t]===i[t];t++);var l=n-t;for(s=1;s<=l&&r[n-s]===i[o-s];s++);return Py=i.slice(t,1<s?1-s:void 0)}function Ly(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Cg(){return!0}function rB(){return!1}function to(t){function r(n,s,i,o,l){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Cg:rB,this.isPropagationStopped=rB,this}return ps(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cg)},persist:function(){},isPersistent:Cg}),r}var Ch={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sj=to(Ch),vm=ps({},Ch,{view:0,detail:0}),m9=to(vm),jb,Nb,dp,Gv=ps({},vm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bj,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dp&&(dp&&t.type==="mousemove"?(jb=t.screenX-dp.screenX,Nb=t.screenY-dp.screenY):Nb=jb=0,dp=t),jb)},movementY:function(t){return"movementY"in t?t.movementY:Nb}}),nB=to(Gv),g9=ps({},Gv,{dataTransfer:0}),y9=to(g9),x9=ps({},vm,{relatedTarget:0}),Sb=to(x9),v9=ps({},Ch,{animationName:0,elapsedTime:0,pseudoElement:0}),b9=to(v9),w9=ps({},Ch,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),j9=to(w9),N9=ps({},Ch,{data:0}),sB=to(N9),S9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _9(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=C9[t])?!!r[t]:!1}function Bj(){return _9}var E9=ps({},vm,{key:function(t){if(t.key){var r=S9[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ly(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?B9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bj,charCode:function(t){return t.type==="keypress"?Ly(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ly(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k9=to(E9),T9=ps({},Gv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iB=to(T9),O9=ps({},vm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bj}),F9=to(O9),I9=ps({},Ch,{propertyName:0,elapsedTime:0,pseudoElement:0}),P9=to(I9),L9=ps({},Gv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),D9=to(L9),U9=[9,13,27,32],Cj=jc&&"CompositionEvent"in window,Gp=null;jc&&"documentMode"in document&&(Gp=document.documentMode);var R9=jc&&"TextEvent"in window&&!Gp,eO=jc&&(!Cj||Gp&&8<Gp&&11>=Gp),aB=" ",oB=!1;function tO(t,r){switch(t){case"keyup":return U9.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yf=!1;function M9(t,r){switch(t){case"compositionend":return rO(r);case"keypress":return r.which!==32?null:(oB=!0,aB);case"textInput":return t=r.data,t===aB&&oB?null:t;default:return null}}function Q9(t,r){if(yf)return t==="compositionend"||!Cj&&tO(t,r)?(t=ZT(),Py=Nj=pu=null,yf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return eO&&r.locale!=="ko"?null:r.data;default:return null}}var $9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lB(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!$9[t.type]:r==="textarea"}function nO(t,r,n,s){IT(s),r=xx(r,"onChange"),0<r.length&&(n=new Sj("onChange","change",null,n,s),t.push({event:n,listeners:r}))}var Wp=null,C0=null;function H9(t){hO(t,0)}function Wv(t){var r=bf(t);if(CT(r))return t}function V9(t,r){if(t==="change")return r}var sO=!1;if(jc){var Bb;if(jc){var Cb="oninput"in document;if(!Cb){var cB=document.createElement("div");cB.setAttribute("oninput","return;"),Cb=typeof cB.oninput=="function"}Bb=Cb}else Bb=!1;sO=Bb&&(!document.documentMode||9<document.documentMode)}function uB(){Wp&&(Wp.detachEvent("onpropertychange",iO),C0=Wp=null)}function iO(t){if(t.propertyName==="value"&&Wv(C0)){var r=[];nO(r,C0,t,xj(t)),UT(H9,r)}}function z9(t,r,n){t==="focusin"?(uB(),Wp=r,C0=n,Wp.attachEvent("onpropertychange",iO)):t==="focusout"&&uB()}function K9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wv(C0)}function G9(t,r){if(t==="click")return Wv(r)}function W9(t,r){if(t==="input"||t==="change")return Wv(r)}function q9(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var sl=typeof Object.is=="function"?Object.is:q9;function _0(t,r){if(sl(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var n=Object.keys(t),s=Object.keys(r);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!w2.call(r,i)||!sl(t[i],r[i]))return!1}return!0}function dB(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AB(t,r){var n=dB(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=r&&s>=r)return{node:n,offset:r-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dB(n)}}function aO(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?aO(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function oO(){for(var t=window,r=Ax();r instanceof t.HTMLIFrameElement;){try{var n=typeof r.contentWindow.location.href=="string"}catch{n=!1}if(n)t=r.contentWindow;else break;r=Ax(t.document)}return r}function _j(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Y9(t){var r=oO(),n=t.focusedElem,s=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&aO(n.ownerDocument.documentElement,n)){if(s!==null&&_j(n)){if(r=s.start,t=s.end,t===void 0&&(t=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(t,n.value.length);else if(t=(r=n.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(s.start,i);s=s.end===void 0?o:Math.min(s.end,i),!t.extend&&o>s&&(i=s,s=o,o=i),i=AB(n,o);var l=AB(n,s);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(r=r.createRange(),r.setStart(i.node,i.offset),t.removeAllRanges(),o>s?(t.addRange(r),t.extend(l.node,l.offset)):(r.setEnd(l.node,l.offset),t.addRange(r)))}}for(r=[],t=n;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<r.length;n++)t=r[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var X9=jc&&"documentMode"in document&&11>=document.documentMode,xf=null,Q2=null,qp=null,$2=!1;function fB(t,r,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$2||xf==null||xf!==Ax(s)||(s=xf,"selectionStart"in s&&_j(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),qp&&_0(qp,s)||(qp=s,s=xx(Q2,"onSelect"),0<s.length&&(r=new Sj("onSelect","select",null,r,n),t.push({event:r,listeners:s}),r.target=xf)))}function _g(t,r){var n={};return n[t.toLowerCase()]=r.toLowerCase(),n["Webkit"+t]="webkit"+r,n["Moz"+t]="moz"+r,n}var vf={animationend:_g("Animation","AnimationEnd"),animationiteration:_g("Animation","AnimationIteration"),animationstart:_g("Animation","AnimationStart"),transitionend:_g("Transition","TransitionEnd")},_b={},lO={};jc&&(lO=document.createElement("div").style,"AnimationEvent"in window||(delete vf.animationend.animation,delete vf.animationiteration.animation,delete vf.animationstart.animation),"TransitionEvent"in window||delete vf.transitionend.transition);function qv(t){if(_b[t])return _b[t];if(!vf[t])return t;var r=vf[t],n;for(n in r)if(r.hasOwnProperty(n)&&n in lO)return _b[t]=r[n];return t}var cO=qv("animationend"),uO=qv("animationiteration"),dO=qv("animationstart"),AO=qv("transitionend"),fO=new Map,hB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rd(t,r){fO.set(t,r),NA(r,[t])}for(var Eb=0;Eb<hB.length;Eb++){var kb=hB[Eb],J9=kb.toLowerCase(),Z9=kb[0].toUpperCase()+kb.slice(1);rd(J9,"on"+Z9)}rd(cO,"onAnimationEnd");rd(uO,"onAnimationIteration");rd(dO,"onAnimationStart");rd("dblclick","onDoubleClick");rd("focusin","onFocus");rd("focusout","onBlur");rd(AO,"onTransitionEnd");lh("onMouseEnter",["mouseout","mouseover"]);lh("onMouseLeave",["mouseout","mouseover"]);lh("onPointerEnter",["pointerout","pointerover"]);lh("onPointerLeave",["pointerout","pointerover"]);NA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));NA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));NA("onBeforeInput",["compositionend","keypress","textInput","paste"]);NA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));NA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));NA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tp));function pB(t,r,n){var s=t.type||"unknown-event";t.currentTarget=n,JM(s,r,void 0,t),t.currentTarget=null}function hO(t,r){r=(r&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var o=void 0;if(r)for(var l=s.length-1;0<=l;l--){var c=s[l],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==o&&i.isPropagationStopped())break e;pB(i,c,d),o=u}else for(l=0;l<s.length;l++){if(c=s[l],u=c.instance,d=c.currentTarget,c=c.listener,u!==o&&i.isPropagationStopped())break e;pB(i,c,d),o=u}}}if(hx)throw t=D2,hx=!1,D2=null,t}function es(t,r){var n=r[G2];n===void 0&&(n=r[G2]=new Set);var s=t+"__bubble";n.has(s)||(pO(r,t,2,!1),n.add(s))}function Tb(t,r,n){var s=0;r&&(s|=4),pO(n,t,s,r)}var Eg="_reactListening"+Math.random().toString(36).slice(2);function E0(t){if(!t[Eg]){t[Eg]=!0,wT.forEach(function(n){n!=="selectionchange"&&(eQ.has(n)||Tb(n,!1,t),Tb(n,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Eg]||(r[Eg]=!0,Tb("selectionchange",!1,r))}}function pO(t,r,n,s){switch(JT(r)){case 1:var i=h9;break;case 4:i=p9;break;default:i=jj}n=i.bind(null,r,n,t),i=void 0,!L2||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(r,n,{capture:!0,passive:i}):t.addEventListener(r,n,!0):i!==void 0?t.addEventListener(r,n,{passive:i}):t.addEventListener(r,n,!1)}function Ob(t,r,n,s,i){var o=s;if(!(r&1)&&!(r&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var c=s.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=s.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;c!==null;){if(l=Id(c),l===null)return;if(u=l.tag,u===5||u===6){s=o=l;continue e}c=c.parentNode}}s=s.return}UT(function(){var d=o,A=xj(n),f=[];e:{var h=fO.get(t);if(h!==void 0){var p=Sj,m=t;switch(t){case"keypress":if(Ly(n)===0)break e;case"keydown":case"keyup":p=k9;break;case"focusin":m="focus",p=Sb;break;case"focusout":m="blur",p=Sb;break;case"beforeblur":case"afterblur":p=Sb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=nB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=y9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=F9;break;case cO:case uO:case dO:p=b9;break;case AO:p=P9;break;case"scroll":p=m9;break;case"wheel":p=D9;break;case"copy":case"cut":case"paste":p=j9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=iB}var g=(r&4)!==0,b=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var x=d,v;x!==null;){v=x;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,y!==null&&(w=j0(x,y),w!=null&&g.push(k0(x,w,v)))),b)break;x=x.return}0<g.length&&(h=new p(h,m,null,n,A),f.push({event:h,listeners:g}))}}if(!(r&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==I2&&(m=n.relatedTarget||n.fromElement)&&(Id(m)||m[Nc]))break e;if((p||h)&&(h=A.window===A?A:(h=A.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=d,m=m?Id(m):null,m!==null&&(b=SA(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=d),p!==m)){if(g=nB,w="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=iB,w="onPointerLeave",y="onPointerEnter",x="pointer"),b=p==null?h:bf(p),v=m==null?h:bf(m),h=new g(w,x+"leave",p,n,A),h.target=b,h.relatedTarget=v,w=null,Id(A)===d&&(g=new g(y,x+"enter",m,n,A),g.target=v,g.relatedTarget=b,w=g),b=w,p&&m)t:{for(g=p,y=m,x=0,v=g;v;v=qA(v))x++;for(v=0,w=y;w;w=qA(w))v++;for(;0<x-v;)g=qA(g),x--;for(;0<v-x;)y=qA(y),v--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=qA(g),y=qA(y)}g=null}else g=null;p!==null&&mB(f,h,p,g,!1),m!==null&&b!==null&&mB(f,b,m,g,!0)}}e:{if(h=d?bf(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=V9;else if(lB(h))if(sO)_=W9;else{_=K9;var B=z9}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=G9);if(_&&(_=_(t,d))){nO(f,_,n,A);break e}B&&B(t,h,d),t==="focusout"&&(B=h._wrapperState)&&B.controlled&&h.type==="number"&&E2(h,"number",h.value)}switch(B=d?bf(d):window,t){case"focusin":(lB(B)||B.contentEditable==="true")&&(xf=B,Q2=d,qp=null);break;case"focusout":qp=Q2=xf=null;break;case"mousedown":$2=!0;break;case"contextmenu":case"mouseup":case"dragend":$2=!1,fB(f,n,A);break;case"selectionchange":if(X9)break;case"keydown":case"keyup":fB(f,n,A)}var N;if(Cj)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else yf?tO(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(eO&&n.locale!=="ko"&&(yf||j!=="onCompositionStart"?j==="onCompositionEnd"&&yf&&(N=ZT()):(pu=A,Nj="value"in pu?pu.value:pu.textContent,yf=!0)),B=xx(d,j),0<B.length&&(j=new sB(j,t,null,n,A),f.push({event:j,listeners:B}),N?j.data=N:(N=rO(n),N!==null&&(j.data=N)))),(N=R9?M9(t,n):Q9(t,n))&&(d=xx(d,"onBeforeInput"),0<d.length&&(A=new sB("onBeforeInput","beforeinput",null,n,A),f.push({event:A,listeners:d}),A.data=N))}hO(f,r)})}function k0(t,r,n){return{instance:t,listener:r,currentTarget:n}}function xx(t,r){for(var n=r+"Capture",s=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=j0(t,n),o!=null&&s.unshift(k0(t,o,i)),o=j0(t,r),o!=null&&s.push(k0(t,o,i))),t=t.return}return s}function qA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mB(t,r,n,s,i){for(var o=r._reactName,l=[];n!==null&&n!==s;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===s)break;c.tag===5&&d!==null&&(c=d,i?(u=j0(n,o),u!=null&&l.unshift(k0(n,u,c))):i||(u=j0(n,o),u!=null&&l.push(k0(n,u,c)))),n=n.return}l.length!==0&&t.push({event:r,listeners:l})}var tQ=/\r\n?/g,rQ=/\u0000|\uFFFD/g;function gB(t){return(typeof t=="string"?t:""+t).replace(tQ,`
`).replace(rQ,"")}function kg(t,r,n){if(r=gB(r),gB(t)!==r&&n)throw Error(Dt(425))}function vx(){}var H2=null,V2=null;function z2(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var K2=typeof setTimeout=="function"?setTimeout:void 0,nQ=typeof clearTimeout=="function"?clearTimeout:void 0,yB=typeof Promise=="function"?Promise:void 0,sQ=typeof queueMicrotask=="function"?queueMicrotask:typeof yB<"u"?function(t){return yB.resolve(null).then(t).catch(iQ)}:K2;function iQ(t){setTimeout(function(){throw t})}function Fb(t,r){var n=r,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),B0(r);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);B0(r)}function Eu(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function xB(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(r===0)return t;r--}else n==="/$"&&r++}t=t.previousSibling}return null}var _h=Math.random().toString(36).slice(2),jl="__reactFiber$"+_h,T0="__reactProps$"+_h,Nc="__reactContainer$"+_h,G2="__reactEvents$"+_h,aQ="__reactListeners$"+_h,oQ="__reactHandles$"+_h;function Id(t){var r=t[jl];if(r)return r;for(var n=t.parentNode;n;){if(r=n[Nc]||n[jl]){if(n=r.alternate,r.child!==null||n!==null&&n.child!==null)for(t=xB(t);t!==null;){if(n=t[jl])return n;t=xB(t)}return r}t=n,n=t.parentNode}return null}function bm(t){return t=t[jl]||t[Nc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Dt(33))}function Yv(t){return t[T0]||null}var W2=[],wf=-1;function nd(t){return{current:t}}function ss(t){0>wf||(t.current=W2[wf],W2[wf]=null,wf--)}function Jn(t,r){wf++,W2[wf]=t.current,t.current=r}var Hu={},ra=nd(Hu),ka=nd(!1),sA=Hu;function ch(t,r){var n=t.type.contextTypes;if(!n)return Hu;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=r[o];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ta(t){return t=t.childContextTypes,t!=null}function bx(){ss(ka),ss(ra)}function vB(t,r,n){if(ra.current!==Hu)throw Error(Dt(168));Jn(ra,r),Jn(ka,n)}function mO(t,r,n){var s=t.stateNode;if(r=r.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in r))throw Error(Dt(108,zM(t)||"Unknown",i));return ps({},n,s)}function wx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hu,sA=ra.current,Jn(ra,t),Jn(ka,ka.current),!0}function bB(t,r,n){var s=t.stateNode;if(!s)throw Error(Dt(169));n?(t=mO(t,r,sA),s.__reactInternalMemoizedMergedChildContext=t,ss(ka),ss(ra),Jn(ra,t)):ss(ka),Jn(ka,n)}var dc=null,Xv=!1,Ib=!1;function gO(t){dc===null?dc=[t]:dc.push(t)}function lQ(t){Xv=!0,gO(t)}function sd(){if(!Ib&&dc!==null){Ib=!0;var t=0,r=kn;try{var n=dc;for(kn=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}dc=null,Xv=!1}catch(i){throw dc!==null&&(dc=dc.slice(t+1)),$T(vj,sd),i}finally{kn=r,Ib=!1}}return null}var jf=[],Nf=0,jx=null,Nx=0,go=[],yo=0,iA=null,fc=1,hc="";function Nd(t,r){jf[Nf++]=Nx,jf[Nf++]=jx,jx=t,Nx=r}function yO(t,r,n){go[yo++]=fc,go[yo++]=hc,go[yo++]=iA,iA=t;var s=fc;t=hc;var i=32-tl(s)-1;s&=~(1<<i),n+=1;var o=32-tl(r)+i;if(30<o){var l=i-i%5;o=(s&(1<<l)-1).toString(32),s>>=l,i-=l,fc=1<<32-tl(r)+i|n<<i|s,hc=o+t}else fc=1<<o|n<<i|s,hc=t}function Ej(t){t.return!==null&&(Nd(t,1),yO(t,1,0))}function kj(t){for(;t===jx;)jx=jf[--Nf],jf[Nf]=null,Nx=jf[--Nf],jf[Nf]=null;for(;t===iA;)iA=go[--yo],go[yo]=null,hc=go[--yo],go[yo]=null,fc=go[--yo],go[yo]=null}var Ya=null,Wa=null,os=!1,Yo=null;function xO(t,r){var n=wo(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=t,r=t.deletions,r===null?(t.deletions=[n],t.flags|=16):r.push(n)}function wB(t,r){switch(t.tag){case 5:var n=t.type;return r=r.nodeType!==1||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Ya=t,Wa=Eu(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Ya=t,Wa=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(n=iA!==null?{id:fc,overflow:hc}:null,t.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},n=wo(18,null,null,0),n.stateNode=r,n.return=t,t.child=n,Ya=t,Wa=null,!0):!1;default:return!1}}function q2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Y2(t){if(os){var r=Wa;if(r){var n=r;if(!wB(t,r)){if(q2(t))throw Error(Dt(418));r=Eu(n.nextSibling);var s=Ya;r&&wB(t,r)?xO(s,n):(t.flags=t.flags&-4097|2,os=!1,Ya=t)}}else{if(q2(t))throw Error(Dt(418));t.flags=t.flags&-4097|2,os=!1,Ya=t}}}function jB(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ya=t}function Tg(t){if(t!==Ya)return!1;if(!os)return jB(t),os=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!z2(t.type,t.memoizedProps)),r&&(r=Wa)){if(q2(t))throw vO(),Error(Dt(418));for(;r;)xO(t,r),r=Eu(r.nextSibling)}if(jB(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Dt(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(r===0){Wa=Eu(t.nextSibling);break e}r--}else n!=="$"&&n!=="$!"&&n!=="$?"||r++}t=t.nextSibling}Wa=null}}else Wa=Ya?Eu(t.stateNode.nextSibling):null;return!0}function vO(){for(var t=Wa;t;)t=Eu(t.nextSibling)}function uh(){Wa=Ya=null,os=!1}function Tj(t){Yo===null?Yo=[t]:Yo.push(t)}var cQ=Ic.ReactCurrentBatchConfig;function Ap(t,r,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Dt(309));var s=n.stateNode}if(!s)throw Error(Dt(147,t));var i=s,o=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===o?r.ref:(r=function(l){var c=i.refs;l===null?delete c[o]:c[o]=l},r._stringRef=o,r)}if(typeof t!="string")throw Error(Dt(284));if(!n._owner)throw Error(Dt(290,t))}return t}function Og(t,r){throw t=Object.prototype.toString.call(r),Error(Dt(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function NB(t){var r=t._init;return r(t._payload)}function bO(t){function r(y,x){if(t){var v=y.deletions;v===null?(y.deletions=[x],y.flags|=16):v.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)r(y,x),x=x.sibling;return null}function s(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Fu(y,x),y.index=0,y.sibling=null,y}function o(y,x,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<x?(y.flags|=2,x):v):(y.flags|=2,x)):(y.flags|=1048576,x)}function l(y){return t&&y.alternate===null&&(y.flags|=2),y}function c(y,x,v,w){return x===null||x.tag!==6?(x=Qb(v,y.mode,w),x.return=y,x):(x=i(x,v),x.return=y,x)}function u(y,x,v,w){var _=v.type;return _===gf?A(y,x,v.props.children,w,v.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===au&&NB(_)===x.type)?(w=i(x,v.props),w.ref=Ap(y,x,v),w.return=y,w):(w=Hy(v.type,v.key,v.props,null,y.mode,w),w.ref=Ap(y,x,v),w.return=y,w)}function d(y,x,v,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=$b(v,y.mode,w),x.return=y,x):(x=i(x,v.children||[]),x.return=y,x)}function A(y,x,v,w,_){return x===null||x.tag!==7?(x=$d(v,y.mode,w,_),x.return=y,x):(x=i(x,v),x.return=y,x)}function f(y,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Qb(""+x,y.mode,v),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bg:return v=Hy(x.type,x.key,x.props,null,y.mode,v),v.ref=Ap(y,null,x),v.return=y,v;case mf:return x=$b(x,y.mode,v),x.return=y,x;case au:var w=x._init;return f(y,w(x._payload),v)}if(Ep(x)||op(x))return x=$d(x,y.mode,v,null),x.return=y,x;Og(y,x)}return null}function h(y,x,v,w){var _=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:c(y,x,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bg:return v.key===_?u(y,x,v,w):null;case mf:return v.key===_?d(y,x,v,w):null;case au:return _=v._init,h(y,x,_(v._payload),w)}if(Ep(v)||op(v))return _!==null?null:A(y,x,v,w,null);Og(y,v)}return null}function p(y,x,v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(v)||null,c(x,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bg:return y=y.get(w.key===null?v:w.key)||null,u(x,y,w,_);case mf:return y=y.get(w.key===null?v:w.key)||null,d(x,y,w,_);case au:var B=w._init;return p(y,x,v,B(w._payload),_)}if(Ep(w)||op(w))return y=y.get(v)||null,A(x,y,w,_,null);Og(x,w)}return null}function m(y,x,v,w){for(var _=null,B=null,N=x,j=x=0,C=null;N!==null&&j<v.length;j++){N.index>j?(C=N,N=null):C=N.sibling;var E=h(y,N,v[j],w);if(E===null){N===null&&(N=C);break}t&&N&&E.alternate===null&&r(y,N),x=o(E,x,j),B===null?_=E:B.sibling=E,B=E,N=C}if(j===v.length)return n(y,N),os&&Nd(y,j),_;if(N===null){for(;j<v.length;j++)N=f(y,v[j],w),N!==null&&(x=o(N,x,j),B===null?_=N:B.sibling=N,B=N);return os&&Nd(y,j),_}for(N=s(y,N);j<v.length;j++)C=p(N,y,j,v[j],w),C!==null&&(t&&C.alternate!==null&&N.delete(C.key===null?j:C.key),x=o(C,x,j),B===null?_=C:B.sibling=C,B=C);return t&&N.forEach(function(S){return r(y,S)}),os&&Nd(y,j),_}function g(y,x,v,w){var _=op(v);if(typeof _!="function")throw Error(Dt(150));if(v=_.call(v),v==null)throw Error(Dt(151));for(var B=_=null,N=x,j=x=0,C=null,E=v.next();N!==null&&!E.done;j++,E=v.next()){N.index>j?(C=N,N=null):C=N.sibling;var S=h(y,N,E.value,w);if(S===null){N===null&&(N=C);break}t&&N&&S.alternate===null&&r(y,N),x=o(S,x,j),B===null?_=S:B.sibling=S,B=S,N=C}if(E.done)return n(y,N),os&&Nd(y,j),_;if(N===null){for(;!E.done;j++,E=v.next())E=f(y,E.value,w),E!==null&&(x=o(E,x,j),B===null?_=E:B.sibling=E,B=E);return os&&Nd(y,j),_}for(N=s(y,N);!E.done;j++,E=v.next())E=p(N,y,j,E.value,w),E!==null&&(t&&E.alternate!==null&&N.delete(E.key===null?j:E.key),x=o(E,x,j),B===null?_=E:B.sibling=E,B=E);return t&&N.forEach(function(k){return r(y,k)}),os&&Nd(y,j),_}function b(y,x,v,w){if(typeof v=="object"&&v!==null&&v.type===gf&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case bg:e:{for(var _=v.key,B=x;B!==null;){if(B.key===_){if(_=v.type,_===gf){if(B.tag===7){n(y,B.sibling),x=i(B,v.props.children),x.return=y,y=x;break e}}else if(B.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===au&&NB(_)===B.type){n(y,B.sibling),x=i(B,v.props),x.ref=Ap(y,B,v),x.return=y,y=x;break e}n(y,B);break}else r(y,B);B=B.sibling}v.type===gf?(x=$d(v.props.children,y.mode,w,v.key),x.return=y,y=x):(w=Hy(v.type,v.key,v.props,null,y.mode,w),w.ref=Ap(y,x,v),w.return=y,y=w)}return l(y);case mf:e:{for(B=v.key;x!==null;){if(x.key===B)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(y,x.sibling),x=i(x,v.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else r(y,x);x=x.sibling}x=$b(v,y.mode,w),x.return=y,y=x}return l(y);case au:return B=v._init,b(y,x,B(v._payload),w)}if(Ep(v))return m(y,x,v,w);if(op(v))return g(y,x,v,w);Og(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,v),x.return=y,y=x):(n(y,x),x=Qb(v,y.mode,w),x.return=y,y=x),l(y)):n(y,x)}return b}var dh=bO(!0),wO=bO(!1),Sx=nd(null),Bx=null,Sf=null,Oj=null;function Fj(){Oj=Sf=Bx=null}function Ij(t){var r=Sx.current;ss(Sx),t._currentValue=r}function X2(t,r,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),t===n)break;t=t.return}}function zf(t,r){Bx=t,Oj=Sf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Ca=!0),t.firstContext=null)}function Co(t){var r=t._currentValue;if(Oj!==t)if(t={context:t,memoizedValue:r,next:null},Sf===null){if(Bx===null)throw Error(Dt(308));Sf=t,Bx.dependencies={lanes:0,firstContext:t}}else Sf=Sf.next=t;return r}var Pd=null;function Pj(t){Pd===null?Pd=[t]:Pd.push(t)}function jO(t,r,n,s){var i=r.interleaved;return i===null?(n.next=n,Pj(r)):(n.next=i.next,i.next=n),r.interleaved=n,Sc(t,s)}function Sc(t,r){t.lanes|=r;var n=t.alternate;for(n!==null&&(n.lanes|=r),n=t,t=t.return;t!==null;)t.childLanes|=r,n=t.alternate,n!==null&&(n.childLanes|=r),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ou=!1;function Lj(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NO(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gc(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function ku(t,r,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,fn&2){var i=s.pending;return i===null?r.next=r:(r.next=i.next,i.next=r),s.pending=r,Sc(t,n)}return i=s.interleaved,i===null?(r.next=r,Pj(s)):(r.next=i.next,i.next=r),s.interleaved=r,Sc(t,n)}function Dy(t,r,n){if(r=r.updateQueue,r!==null&&(r=r.shared,(n&4194240)!==0)){var s=r.lanes;s&=t.pendingLanes,n|=s,r.lanes=n,bj(t,n)}}function SB(t,r){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=r:o=o.next=r}else i=o=r;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=r:t.next=r,n.lastBaseUpdate=r}function Cx(t,r,n,s){var i=t.updateQueue;ou=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,d=u.next;u.next=null,l===null?o=d:l.next=d,l=u;var A=t.alternate;A!==null&&(A=A.updateQueue,c=A.lastBaseUpdate,c!==l&&(c===null?A.firstBaseUpdate=d:c.next=d,A.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;l=0,A=d=u=null,c=o;do{var h=c.lane,p=c.eventTime;if((s&h)===h){A!==null&&(A=A.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var m=t,g=c;switch(h=r,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=ps({},f,h);break e;case 2:ou=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[c]:h.push(c))}else p={eventTime:p,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},A===null?(d=A=p,u=f):A=A.next=p,l|=h;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;h=c,c=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(A===null&&(u=f),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=A,r=i.shared.interleaved,r!==null){i=r;do l|=i.lane,i=i.next;while(i!==r)}else o===null&&(i.shared.lanes=0);oA|=l,t.lanes=l,t.memoizedState=f}}function BB(t,r,n){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var s=t[r],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(Dt(191,i));i.call(s)}}}var wm={},El=nd(wm),O0=nd(wm),F0=nd(wm);function Ld(t){if(t===wm)throw Error(Dt(174));return t}function Dj(t,r){switch(Jn(F0,r),Jn(O0,t),Jn(El,wm),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:T2(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=T2(r,t)}ss(El),Jn(El,r)}function Ah(){ss(El),ss(O0),ss(F0)}function SO(t){Ld(F0.current);var r=Ld(El.current),n=T2(r,t.type);r!==n&&(Jn(O0,t),Jn(El,n))}function Uj(t){O0.current===t&&(ss(El),ss(O0))}var ds=nd(0);function _x(t){for(var r=t;r!==null;){if(r.tag===13){var n=r.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Pb=[];function Rj(){for(var t=0;t<Pb.length;t++)Pb[t]._workInProgressVersionPrimary=null;Pb.length=0}var Uy=Ic.ReactCurrentDispatcher,Lb=Ic.ReactCurrentBatchConfig,aA=0,fs=null,ii=null,gi=null,Ex=!1,Yp=!1,I0=0,uQ=0;function Hi(){throw Error(Dt(321))}function Mj(t,r){if(r===null)return!1;for(var n=0;n<r.length&&n<t.length;n++)if(!sl(t[n],r[n]))return!1;return!0}function Qj(t,r,n,s,i,o){if(aA=o,fs=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Uy.current=t===null||t.memoizedState===null?hQ:pQ,t=n(s,i),Yp){o=0;do{if(Yp=!1,I0=0,25<=o)throw Error(Dt(301));o+=1,gi=ii=null,r.updateQueue=null,Uy.current=mQ,t=n(s,i)}while(Yp)}if(Uy.current=kx,r=ii!==null&&ii.next!==null,aA=0,gi=ii=fs=null,Ex=!1,r)throw Error(Dt(300));return t}function $j(){var t=I0!==0;return I0=0,t}function vl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gi===null?fs.memoizedState=gi=t:gi=gi.next=t,gi}function _o(){if(ii===null){var t=fs.alternate;t=t!==null?t.memoizedState:null}else t=ii.next;var r=gi===null?fs.memoizedState:gi.next;if(r!==null)gi=r,ii=t;else{if(t===null)throw Error(Dt(310));ii=t,t={memoizedState:ii.memoizedState,baseState:ii.baseState,baseQueue:ii.baseQueue,queue:ii.queue,next:null},gi===null?fs.memoizedState=gi=t:gi=gi.next=t}return gi}function P0(t,r){return typeof r=="function"?r(t):r}function Db(t){var r=_o(),n=r.queue;if(n===null)throw Error(Dt(311));n.lastRenderedReducer=t;var s=ii,i=s.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}s.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,s=s.baseState;var c=l=null,u=null,d=o;do{var A=d.lane;if((aA&A)===A)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var f={lane:A,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=f,l=s):u=u.next=f,fs.lanes|=A,oA|=A}d=d.next}while(d!==null&&d!==o);u===null?l=s:u.next=c,sl(s,r.memoizedState)||(Ca=!0),r.memoizedState=s,r.baseState=l,r.baseQueue=u,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do o=i.lane,fs.lanes|=o,oA|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function Ub(t){var r=_o(),n=r.queue;if(n===null)throw Error(Dt(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,o=r.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);sl(o,r.memoizedState)||(Ca=!0),r.memoizedState=o,r.baseQueue===null&&(r.baseState=o),n.lastRenderedState=o}return[o,s]}function BO(){}function CO(t,r){var n=fs,s=_o(),i=r(),o=!sl(s.memoizedState,i);if(o&&(s.memoizedState=i,Ca=!0),s=s.queue,Hj(kO.bind(null,n,s,t),[t]),s.getSnapshot!==r||o||gi!==null&&gi.memoizedState.tag&1){if(n.flags|=2048,L0(9,EO.bind(null,n,s,i,r),void 0,null),wi===null)throw Error(Dt(349));aA&30||_O(n,r,i)}return i}function _O(t,r,n){t.flags|=16384,t={getSnapshot:r,value:n},r=fs.updateQueue,r===null?(r={lastEffect:null,stores:null},fs.updateQueue=r,r.stores=[t]):(n=r.stores,n===null?r.stores=[t]:n.push(t))}function EO(t,r,n,s){r.value=n,r.getSnapshot=s,TO(r)&&OO(t)}function kO(t,r,n){return n(function(){TO(r)&&OO(t)})}function TO(t){var r=t.getSnapshot;t=t.value;try{var n=r();return!sl(t,n)}catch{return!0}}function OO(t){var r=Sc(t,1);r!==null&&rl(r,t,1,-1)}function CB(t){var r=vl();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:P0,lastRenderedState:t},r.queue=t,t=t.dispatch=fQ.bind(null,fs,t),[r.memoizedState,t]}function L0(t,r,n,s){return t={tag:t,create:r,destroy:n,deps:s,next:null},r=fs.updateQueue,r===null?(r={lastEffect:null,stores:null},fs.updateQueue=r,r.lastEffect=t.next=t):(n=r.lastEffect,n===null?r.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,r.lastEffect=t)),t}function FO(){return _o().memoizedState}function Ry(t,r,n,s){var i=vl();fs.flags|=t,i.memoizedState=L0(1|r,n,void 0,s===void 0?null:s)}function Jv(t,r,n,s){var i=_o();s=s===void 0?null:s;var o=void 0;if(ii!==null){var l=ii.memoizedState;if(o=l.destroy,s!==null&&Mj(s,l.deps)){i.memoizedState=L0(r,n,o,s);return}}fs.flags|=t,i.memoizedState=L0(1|r,n,o,s)}function _B(t,r){return Ry(8390656,8,t,r)}function Hj(t,r){return Jv(2048,8,t,r)}function IO(t,r){return Jv(4,2,t,r)}function PO(t,r){return Jv(4,4,t,r)}function LO(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function DO(t,r,n){return n=n!=null?n.concat([t]):null,Jv(4,4,LO.bind(null,r,t),n)}function Vj(){}function UO(t,r){var n=_o();r=r===void 0?null:r;var s=n.memoizedState;return s!==null&&r!==null&&Mj(r,s[1])?s[0]:(n.memoizedState=[t,r],t)}function RO(t,r){var n=_o();r=r===void 0?null:r;var s=n.memoizedState;return s!==null&&r!==null&&Mj(r,s[1])?s[0]:(t=t(),n.memoizedState=[t,r],t)}function MO(t,r,n){return aA&21?(sl(n,r)||(n=zT(),fs.lanes|=n,oA|=n,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Ca=!0),t.memoizedState=n)}function dQ(t,r){var n=kn;kn=n!==0&&4>n?n:4,t(!0);var s=Lb.transition;Lb.transition={};try{t(!1),r()}finally{kn=n,Lb.transition=s}}function QO(){return _o().memoizedState}function AQ(t,r,n){var s=Ou(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},$O(t))HO(r,n);else if(n=jO(t,r,n,s),n!==null){var i=fa();rl(n,t,s,i),VO(n,r,s)}}function fQ(t,r,n){var s=Ou(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if($O(t))HO(r,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=r.lastRenderedReducer,o!==null))try{var l=r.lastRenderedState,c=o(l,n);if(i.hasEagerState=!0,i.eagerState=c,sl(c,l)){var u=r.interleaved;u===null?(i.next=i,Pj(r)):(i.next=u.next,u.next=i),r.interleaved=i;return}}catch{}finally{}n=jO(t,r,i,s),n!==null&&(i=fa(),rl(n,t,s,i),VO(n,r,s))}}function $O(t){var r=t.alternate;return t===fs||r!==null&&r===fs}function HO(t,r){Yp=Ex=!0;var n=t.pending;n===null?r.next=r:(r.next=n.next,n.next=r),t.pending=r}function VO(t,r,n){if(n&4194240){var s=r.lanes;s&=t.pendingLanes,n|=s,r.lanes=n,bj(t,n)}}var kx={readContext:Co,useCallback:Hi,useContext:Hi,useEffect:Hi,useImperativeHandle:Hi,useInsertionEffect:Hi,useLayoutEffect:Hi,useMemo:Hi,useReducer:Hi,useRef:Hi,useState:Hi,useDebugValue:Hi,useDeferredValue:Hi,useTransition:Hi,useMutableSource:Hi,useSyncExternalStore:Hi,useId:Hi,unstable_isNewReconciler:!1},hQ={readContext:Co,useCallback:function(t,r){return vl().memoizedState=[t,r===void 0?null:r],t},useContext:Co,useEffect:_B,useImperativeHandle:function(t,r,n){return n=n!=null?n.concat([t]):null,Ry(4194308,4,LO.bind(null,r,t),n)},useLayoutEffect:function(t,r){return Ry(4194308,4,t,r)},useInsertionEffect:function(t,r){return Ry(4,2,t,r)},useMemo:function(t,r){var n=vl();return r=r===void 0?null:r,t=t(),n.memoizedState=[t,r],t},useReducer:function(t,r,n){var s=vl();return r=n!==void 0?n(r):r,s.memoizedState=s.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=AQ.bind(null,fs,t),[s.memoizedState,t]},useRef:function(t){var r=vl();return t={current:t},r.memoizedState=t},useState:CB,useDebugValue:Vj,useDeferredValue:function(t){return vl().memoizedState=t},useTransition:function(){var t=CB(!1),r=t[0];return t=dQ.bind(null,t[1]),vl().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,n){var s=fs,i=vl();if(os){if(n===void 0)throw Error(Dt(407));n=n()}else{if(n=r(),wi===null)throw Error(Dt(349));aA&30||_O(s,r,n)}i.memoizedState=n;var o={value:n,getSnapshot:r};return i.queue=o,_B(kO.bind(null,s,o,t),[t]),s.flags|=2048,L0(9,EO.bind(null,s,o,n,r),void 0,null),n},useId:function(){var t=vl(),r=wi.identifierPrefix;if(os){var n=hc,s=fc;n=(s&~(1<<32-tl(s)-1)).toString(32)+n,r=":"+r+"R"+n,n=I0++,0<n&&(r+="H"+n.toString(32)),r+=":"}else n=uQ++,r=":"+r+"r"+n.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},pQ={readContext:Co,useCallback:UO,useContext:Co,useEffect:Hj,useImperativeHandle:DO,useInsertionEffect:IO,useLayoutEffect:PO,useMemo:RO,useReducer:Db,useRef:FO,useState:function(){return Db(P0)},useDebugValue:Vj,useDeferredValue:function(t){var r=_o();return MO(r,ii.memoizedState,t)},useTransition:function(){var t=Db(P0)[0],r=_o().memoizedState;return[t,r]},useMutableSource:BO,useSyncExternalStore:CO,useId:QO,unstable_isNewReconciler:!1},mQ={readContext:Co,useCallback:UO,useContext:Co,useEffect:Hj,useImperativeHandle:DO,useInsertionEffect:IO,useLayoutEffect:PO,useMemo:RO,useReducer:Ub,useRef:FO,useState:function(){return Ub(P0)},useDebugValue:Vj,useDeferredValue:function(t){var r=_o();return ii===null?r.memoizedState=t:MO(r,ii.memoizedState,t)},useTransition:function(){var t=Ub(P0)[0],r=_o().memoizedState;return[t,r]},useMutableSource:BO,useSyncExternalStore:CO,useId:QO,unstable_isNewReconciler:!1};function Ko(t,r){if(t&&t.defaultProps){r=ps({},r),t=t.defaultProps;for(var n in t)r[n]===void 0&&(r[n]=t[n]);return r}return r}function J2(t,r,n,s){r=t.memoizedState,n=n(s,r),n=n==null?r:ps({},r,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zv={isMounted:function(t){return(t=t._reactInternals)?SA(t)===t:!1},enqueueSetState:function(t,r,n){t=t._reactInternals;var s=fa(),i=Ou(t),o=gc(s,i);o.payload=r,n!=null&&(o.callback=n),r=ku(t,o,i),r!==null&&(rl(r,t,i,s),Dy(r,t,i))},enqueueReplaceState:function(t,r,n){t=t._reactInternals;var s=fa(),i=Ou(t),o=gc(s,i);o.tag=1,o.payload=r,n!=null&&(o.callback=n),r=ku(t,o,i),r!==null&&(rl(r,t,i,s),Dy(r,t,i))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var n=fa(),s=Ou(t),i=gc(n,s);i.tag=2,r!=null&&(i.callback=r),r=ku(t,i,s),r!==null&&(rl(r,t,s,n),Dy(r,t,s))}};function EB(t,r,n,s,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,o,l):r.prototype&&r.prototype.isPureReactComponent?!_0(n,s)||!_0(i,o):!0}function zO(t,r,n){var s=!1,i=Hu,o=r.contextType;return typeof o=="object"&&o!==null?o=Co(o):(i=Ta(r)?sA:ra.current,s=r.contextTypes,o=(s=s!=null)?ch(t,i):Hu),r=new r(n,o),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Zv,t.stateNode=r,r._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),r}function kB(t,r,n,s){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(n,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(n,s),r.state!==t&&Zv.enqueueReplaceState(r,r.state,null)}function Z2(t,r,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Lj(t);var o=r.contextType;typeof o=="object"&&o!==null?i.context=Co(o):(o=Ta(r)?sA:ra.current,i.context=ch(t,o)),i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(J2(t,r,o,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Zv.enqueueReplaceState(i,i.state,null),Cx(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fh(t,r){try{var n="",s=r;do n+=VM(s),s=s.return;while(s);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:r,stack:i,digest:null}}function Rb(t,r,n){return{value:t,source:null,stack:n??null,digest:r??null}}function e5(t,r){try{console.error(r.value)}catch(n){setTimeout(function(){throw n})}}var gQ=typeof WeakMap=="function"?WeakMap:Map;function KO(t,r,n){n=gc(-1,n),n.tag=3,n.payload={element:null};var s=r.value;return n.callback=function(){Ox||(Ox=!0,u5=s),e5(t,r)},n}function GO(t,r,n){n=gc(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=r.value;n.payload=function(){return s(i)},n.callback=function(){e5(t,r)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){e5(t,r),typeof s!="function"&&(Tu===null?Tu=new Set([this]):Tu.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})}),n}function TB(t,r,n){var s=t.pingCache;if(s===null){s=t.pingCache=new gQ;var i=new Set;s.set(r,i)}else i=s.get(r),i===void 0&&(i=new Set,s.set(r,i));i.has(n)||(i.add(n),t=TQ.bind(null,t,r,n),r.then(t,t))}function OB(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function FB(t,r,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===r?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(r=gc(-1,1),r.tag=2,ku(n,r,1))),n.lanes|=1),t)}var yQ=Ic.ReactCurrentOwner,Ca=!1;function la(t,r,n,s){r.child=t===null?wO(r,null,n,s):dh(r,t.child,n,s)}function IB(t,r,n,s,i){n=n.render;var o=r.ref;return zf(r,i),s=Qj(t,r,n,s,o,i),n=$j(),t!==null&&!Ca?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~i,Bc(t,r,i)):(os&&n&&Ej(r),r.flags|=1,la(t,r,s,i),r.child)}function PB(t,r,n,s,i){if(t===null){var o=n.type;return typeof o=="function"&&!Jj(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(r.tag=15,r.type=o,WO(t,r,o,s,i)):(t=Hy(n.type,null,s,r,r.mode,i),t.ref=r.ref,t.return=r,r.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:_0,n(l,s)&&t.ref===r.ref)return Bc(t,r,i)}return r.flags|=1,t=Fu(o,s),t.ref=r.ref,t.return=r,r.child=t}function WO(t,r,n,s,i){if(t!==null){var o=t.memoizedProps;if(_0(o,s)&&t.ref===r.ref)if(Ca=!1,r.pendingProps=s=o,(t.lanes&i)!==0)t.flags&131072&&(Ca=!0);else return r.lanes=t.lanes,Bc(t,r,i)}return t5(t,r,n,s,i)}function qO(t,r,n){var s=r.pendingProps,i=s.children,o=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(Cf,Ha),Ha|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Jn(Cf,Ha),Ha|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:n,Jn(Cf,Ha),Ha|=s}else o!==null?(s=o.baseLanes|n,r.memoizedState=null):s=n,Jn(Cf,Ha),Ha|=s;return la(t,r,i,n),r.child}function YO(t,r){var n=r.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function t5(t,r,n,s,i){var o=Ta(n)?sA:ra.current;return o=ch(r,o),zf(r,i),n=Qj(t,r,n,s,o,i),s=$j(),t!==null&&!Ca?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~i,Bc(t,r,i)):(os&&s&&Ej(r),r.flags|=1,la(t,r,n,i),r.child)}function LB(t,r,n,s,i){if(Ta(n)){var o=!0;wx(r)}else o=!1;if(zf(r,i),r.stateNode===null)My(t,r),zO(r,n,s),Z2(r,n,s,i),s=!0;else if(t===null){var l=r.stateNode,c=r.memoizedProps;l.props=c;var u=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=Co(d):(d=Ta(n)?sA:ra.current,d=ch(r,d));var A=n.getDerivedStateFromProps,f=typeof A=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==s||u!==d)&&kB(r,l,s,d),ou=!1;var h=r.memoizedState;l.state=h,Cx(r,s,l,i),u=r.memoizedState,c!==s||h!==u||ka.current||ou?(typeof A=="function"&&(J2(r,n,A,s),u=r.memoizedState),(c=ou||EB(r,n,c,s,h,u,d))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(r.flags|=4194308)):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=u),l.props=s,l.state=u,l.context=d,s=c):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{l=r.stateNode,NO(t,r),c=r.memoizedProps,d=r.type===r.elementType?c:Ko(r.type,c),l.props=d,f=r.pendingProps,h=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=Co(u):(u=Ta(n)?sA:ra.current,u=ch(r,u));var p=n.getDerivedStateFromProps;(A=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==f||h!==u)&&kB(r,l,s,u),ou=!1,h=r.memoizedState,l.state=h,Cx(r,s,l,i);var m=r.memoizedState;c!==f||h!==m||ka.current||ou?(typeof p=="function"&&(J2(r,n,p,s),m=r.memoizedState),(d=ou||EB(r,n,d,s,h,m,u)||!1)?(A||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,m,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,m,u)),typeof l.componentDidUpdate=="function"&&(r.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=m),l.props=s,l.state=m,l.context=u,s=d):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(r.flags|=1024),s=!1)}return r5(t,r,n,s,o,i)}function r5(t,r,n,s,i,o){YO(t,r);var l=(r.flags&128)!==0;if(!s&&!l)return i&&bB(r,n,!1),Bc(t,r,o);s=r.stateNode,yQ.current=r;var c=l&&typeof n.getDerivedStateFromError!="function"?null:s.render();return r.flags|=1,t!==null&&l?(r.child=dh(r,t.child,null,o),r.child=dh(r,null,c,o)):la(t,r,c,o),r.memoizedState=s.state,i&&bB(r,n,!0),r.child}function XO(t){var r=t.stateNode;r.pendingContext?vB(t,r.pendingContext,r.pendingContext!==r.context):r.context&&vB(t,r.context,!1),Dj(t,r.containerInfo)}function DB(t,r,n,s,i){return uh(),Tj(i),r.flags|=256,la(t,r,n,s),r.child}var n5={dehydrated:null,treeContext:null,retryLane:0};function s5(t){return{baseLanes:t,cachePool:null,transitions:null}}function JO(t,r,n){var s=r.pendingProps,i=ds.current,o=!1,l=(r.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(o=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Jn(ds,i&1),t===null)return Y2(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(l=s.children,t=s.fallback,o?(s=r.mode,o=r.child,l={mode:"hidden",children:l},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=r1(l,s,0,null),t=$d(t,s,n,null),o.return=r,t.return=r,o.sibling=t,r.child=o,r.child.memoizedState=s5(n),r.memoizedState=n5,t):zj(r,l));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return xQ(t,r,l,s,c,i,n);if(o){o=s.fallback,l=r.mode,i=t.child,c=i.sibling;var u={mode:"hidden",children:s.children};return!(l&1)&&r.child!==i?(s=r.child,s.childLanes=0,s.pendingProps=u,r.deletions=null):(s=Fu(i,u),s.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Fu(c,o):(o=$d(o,l,n,null),o.flags|=2),o.return=r,s.return=r,s.sibling=o,r.child=s,s=o,o=r.child,l=t.child.memoizedState,l=l===null?s5(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,r.memoizedState=n5,s}return o=t.child,t=o.sibling,s=Fu(o,{mode:"visible",children:s.children}),!(r.mode&1)&&(s.lanes=n),s.return=r,s.sibling=null,t!==null&&(n=r.deletions,n===null?(r.deletions=[t],r.flags|=16):n.push(t)),r.child=s,r.memoizedState=null,s}function zj(t,r){return r=r1({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Fg(t,r,n,s){return s!==null&&Tj(s),dh(r,t.child,null,n),t=zj(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function xQ(t,r,n,s,i,o,l){if(n)return r.flags&256?(r.flags&=-257,s=Rb(Error(Dt(422))),Fg(t,r,l,s)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(o=s.fallback,i=r.mode,s=r1({mode:"visible",children:s.children},i,0,null),o=$d(o,i,l,null),o.flags|=2,s.return=r,o.return=r,s.sibling=o,r.child=s,r.mode&1&&dh(r,t.child,null,l),r.child.memoizedState=s5(l),r.memoizedState=n5,o);if(!(r.mode&1))return Fg(t,r,l,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var c=s.dgst;return s=c,o=Error(Dt(419)),s=Rb(o,s,void 0),Fg(t,r,l,s)}if(c=(l&t.childLanes)!==0,Ca||c){if(s=wi,s!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Sc(t,i),rl(s,t,i,-1))}return Xj(),s=Rb(Error(Dt(421))),Fg(t,r,l,s)}return i.data==="$?"?(r.flags|=128,r.child=t.child,r=OQ.bind(null,t),i._reactRetry=r,null):(t=o.treeContext,Wa=Eu(i.nextSibling),Ya=r,os=!0,Yo=null,t!==null&&(go[yo++]=fc,go[yo++]=hc,go[yo++]=iA,fc=t.id,hc=t.overflow,iA=r),r=zj(r,s.children),r.flags|=4096,r)}function UB(t,r,n){t.lanes|=r;var s=t.alternate;s!==null&&(s.lanes|=r),X2(t.return,r,n)}function Mb(t,r,n,s,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(o.isBackwards=r,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=i)}function ZO(t,r,n){var s=r.pendingProps,i=s.revealOrder,o=s.tail;if(la(t,r,s.children,n),s=ds.current,s&2)s=s&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&UB(t,n,r);else if(t.tag===19)UB(t,n,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Jn(ds,s),!(r.mode&1))r.memoizedState=null;else switch(i){case"forwards":for(n=r.child,i=null;n!==null;)t=n.alternate,t!==null&&_x(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=r.child,r.child=null):(i=n.sibling,n.sibling=null),Mb(r,!1,i,n,o);break;case"backwards":for(n=null,i=r.child,r.child=null;i!==null;){if(t=i.alternate,t!==null&&_x(t)===null){r.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mb(r,!0,n,null,o);break;case"together":Mb(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function My(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Bc(t,r,n){if(t!==null&&(r.dependencies=t.dependencies),oA|=r.lanes,!(n&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(Dt(153));if(r.child!==null){for(t=r.child,n=Fu(t,t.pendingProps),r.child=n,n.return=r;t.sibling!==null;)t=t.sibling,n=n.sibling=Fu(t,t.pendingProps),n.return=r;n.sibling=null}return r.child}function vQ(t,r,n){switch(r.tag){case 3:XO(r),uh();break;case 5:SO(r);break;case 1:Ta(r.type)&&wx(r);break;case 4:Dj(r,r.stateNode.containerInfo);break;case 10:var s=r.type._context,i=r.memoizedProps.value;Jn(Sx,s._currentValue),s._currentValue=i;break;case 13:if(s=r.memoizedState,s!==null)return s.dehydrated!==null?(Jn(ds,ds.current&1),r.flags|=128,null):n&r.child.childLanes?JO(t,r,n):(Jn(ds,ds.current&1),t=Bc(t,r,n),t!==null?t.sibling:null);Jn(ds,ds.current&1);break;case 19:if(s=(n&r.childLanes)!==0,t.flags&128){if(s)return ZO(t,r,n);r.flags|=128}if(i=r.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jn(ds,ds.current),s)break;return null;case 22:case 23:return r.lanes=0,qO(t,r,n)}return Bc(t,r,n)}var eF,i5,tF,rF;eF=function(t,r){for(var n=r.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};i5=function(){};tF=function(t,r,n,s){var i=t.memoizedProps;if(i!==s){t=r.stateNode,Ld(El.current);var o=null;switch(n){case"input":i=C2(t,i),s=C2(t,s),o=[];break;case"select":i=ps({},i,{value:void 0}),s=ps({},s,{value:void 0}),o=[];break;case"textarea":i=k2(t,i),s=k2(t,s),o=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=vx)}O2(n,s);var l;n=null;for(d in i)if(!s.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var c=i[d];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(b0.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in s){var u=s[d];if(c=i!=null?i[d]:void 0,s.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(o||(o=[]),o.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(o=o||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(b0.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&es("scroll",t),o||c===u||(o=[])):(o=o||[]).push(d,u))}n&&(o=o||[]).push("style",n);var d=o;(r.updateQueue=d)&&(r.flags|=4)}};rF=function(t,r,n,s){n!==s&&(r.flags|=4)};function fp(t,r){if(!os)switch(t.tailMode){case"hidden":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Vi(t){var r=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(r)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,r}function bQ(t,r,n){var s=r.pendingProps;switch(kj(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(r),null;case 1:return Ta(r.type)&&bx(),Vi(r),null;case 3:return s=r.stateNode,Ah(),ss(ka),ss(ra),Rj(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Tg(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Yo!==null&&(f5(Yo),Yo=null))),i5(t,r),Vi(r),null;case 5:Uj(r);var i=Ld(F0.current);if(n=r.type,t!==null&&r.stateNode!=null)tF(t,r,n,s,i),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!s){if(r.stateNode===null)throw Error(Dt(166));return Vi(r),null}if(t=Ld(El.current),Tg(r)){s=r.stateNode,n=r.type;var o=r.memoizedProps;switch(s[jl]=r,s[T0]=o,t=(r.mode&1)!==0,n){case"dialog":es("cancel",s),es("close",s);break;case"iframe":case"object":case"embed":es("load",s);break;case"video":case"audio":for(i=0;i<Tp.length;i++)es(Tp[i],s);break;case"source":es("error",s);break;case"img":case"image":case"link":es("error",s),es("load",s);break;case"details":es("toggle",s);break;case"input":G3(s,o),es("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},es("invalid",s);break;case"textarea":q3(s,o),es("invalid",s)}O2(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?s.textContent!==c&&(o.suppressHydrationWarning!==!0&&kg(s.textContent,c,t),i=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&kg(s.textContent,c,t),i=["children",""+c]):b0.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&es("scroll",s)}switch(n){case"input":wg(s),W3(s,o,!0);break;case"textarea":wg(s),Y3(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=vx)}s=i,r.updateQueue=s,s!==null&&(r.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=l.createElement(n,{is:s.is}):(t=l.createElement(n),n==="select"&&(l=t,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):t=l.createElementNS(t,n),t[jl]=r,t[T0]=s,eF(t,r,!1,!1),r.stateNode=t;e:{switch(l=F2(n,s),n){case"dialog":es("cancel",t),es("close",t),i=s;break;case"iframe":case"object":case"embed":es("load",t),i=s;break;case"video":case"audio":for(i=0;i<Tp.length;i++)es(Tp[i],t);i=s;break;case"source":es("error",t),i=s;break;case"img":case"image":case"link":es("error",t),es("load",t),i=s;break;case"details":es("toggle",t),i=s;break;case"input":G3(t,s),i=C2(t,s),es("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=ps({},s,{value:void 0}),es("invalid",t);break;case"textarea":q3(t,s),i=k2(t,s),es("invalid",t);break;default:i=s}O2(n,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var u=c[o];o==="style"?FT(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&TT(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&w0(t,u):typeof u=="number"&&w0(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(b0.hasOwnProperty(o)?u!=null&&o==="onScroll"&&es("scroll",t):u!=null&&pj(t,o,u,l))}switch(n){case"input":wg(t),W3(t,s,!1);break;case"textarea":wg(t),Y3(t);break;case"option":s.value!=null&&t.setAttribute("value",""+$u(s.value));break;case"select":t.multiple=!!s.multiple,o=s.value,o!=null?Qf(t,!!s.multiple,o,!1):s.defaultValue!=null&&Qf(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vx)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Vi(r),null;case 6:if(t&&r.stateNode!=null)rF(t,r,t.memoizedProps,s);else{if(typeof s!="string"&&r.stateNode===null)throw Error(Dt(166));if(n=Ld(F0.current),Ld(El.current),Tg(r)){if(s=r.stateNode,n=r.memoizedProps,s[jl]=r,(o=s.nodeValue!==n)&&(t=Ya,t!==null))switch(t.tag){case 3:kg(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kg(s.nodeValue,n,(t.mode&1)!==0)}o&&(r.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[jl]=r,r.stateNode=s}return Vi(r),null;case 13:if(ss(ds),s=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(os&&Wa!==null&&r.mode&1&&!(r.flags&128))vO(),uh(),r.flags|=98560,o=!1;else if(o=Tg(r),s!==null&&s.dehydrated!==null){if(t===null){if(!o)throw Error(Dt(318));if(o=r.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Dt(317));o[jl]=r}else uh(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Vi(r),o=!1}else Yo!==null&&(f5(Yo),Yo=null),o=!0;if(!o)return r.flags&65536?r:null}return r.flags&128?(r.lanes=n,r):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(r.child.flags|=8192,r.mode&1&&(t===null||ds.current&1?oi===0&&(oi=3):Xj())),r.updateQueue!==null&&(r.flags|=4),Vi(r),null);case 4:return Ah(),i5(t,r),t===null&&E0(r.stateNode.containerInfo),Vi(r),null;case 10:return Ij(r.type._context),Vi(r),null;case 17:return Ta(r.type)&&bx(),Vi(r),null;case 19:if(ss(ds),o=r.memoizedState,o===null)return Vi(r),null;if(s=(r.flags&128)!==0,l=o.rendering,l===null)if(s)fp(o,!1);else{if(oi!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(l=_x(t),l!==null){for(r.flags|=128,fp(o,!1),s=l.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),r.subtreeFlags=0,s=n,n=r.child;n!==null;)o=n,t=s,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Jn(ds,ds.current&1|2),r.child}t=t.sibling}o.tail!==null&&Ds()>hh&&(r.flags|=128,s=!0,fp(o,!1),r.lanes=4194304)}else{if(!s)if(t=_x(l),t!==null){if(r.flags|=128,s=!0,n=t.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),fp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!os)return Vi(r),null}else 2*Ds()-o.renderingStartTime>hh&&n!==1073741824&&(r.flags|=128,s=!0,fp(o,!1),r.lanes=4194304);o.isBackwards?(l.sibling=r.child,r.child=l):(n=o.last,n!==null?n.sibling=l:r.child=l,o.last=l)}return o.tail!==null?(r=o.tail,o.rendering=r,o.tail=r.sibling,o.renderingStartTime=Ds(),r.sibling=null,n=ds.current,Jn(ds,s?n&1|2:n&1),r):(Vi(r),null);case 22:case 23:return Yj(),s=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(r.flags|=8192),s&&r.mode&1?Ha&1073741824&&(Vi(r),r.subtreeFlags&6&&(r.flags|=8192)):Vi(r),null;case 24:return null;case 25:return null}throw Error(Dt(156,r.tag))}function wQ(t,r){switch(kj(r),r.tag){case 1:return Ta(r.type)&&bx(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ah(),ss(ka),ss(ra),Rj(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Uj(r),null;case 13:if(ss(ds),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(Dt(340));uh()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ss(ds),null;case 4:return Ah(),null;case 10:return Ij(r.type._context),null;case 22:case 23:return Yj(),null;case 24:return null;default:return null}}var Ig=!1,Xi=!1,jQ=typeof WeakSet=="function"?WeakSet:Set,cr=null;function Bf(t,r){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Bs(t,r,s)}else n.current=null}function a5(t,r,n){try{n()}catch(s){Bs(t,r,s)}}var RB=!1;function NQ(t,r){if(H2=gx,t=oO(),_j(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,c=-1,u=-1,d=0,A=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(c=l+i),f!==o||s!==0&&f.nodeType!==3||(u=l+s),f.nodeType===3&&(l+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++d===i&&(c=l),h===o&&++A===s&&(u=l),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(V2={focusedElem:t,selectionRange:n},gx=!1,cr=r;cr!==null;)if(r=cr,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,cr=t;else for(;cr!==null;){r=cr;try{var m=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,b=m.memoizedState,y=r.stateNode,x=y.getSnapshotBeforeUpdate(r.elementType===r.type?g:Ko(r.type,g),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=r.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Dt(163))}}catch(w){Bs(r,r.return,w)}if(t=r.sibling,t!==null){t.return=r.return,cr=t;break}cr=r.return}return m=RB,RB=!1,m}function Xp(t,r,n){var s=r.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&a5(r,n,o)}i=i.next}while(i!==s)}}function e1(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==r)}}function o5(t){var r=t.ref;if(r!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof r=="function"?r(t):r.current=t}}function nF(t){var r=t.alternate;r!==null&&(t.alternate=null,nF(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[jl],delete r[T0],delete r[G2],delete r[aQ],delete r[oQ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sF(t){return t.tag===5||t.tag===3||t.tag===4}function MB(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function l5(t,r,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,r?n.nodeType===8?n.parentNode.insertBefore(t,r):n.insertBefore(t,r):(n.nodeType===8?(r=n.parentNode,r.insertBefore(t,n)):(r=n,r.appendChild(t)),n=n._reactRootContainer,n!=null||r.onclick!==null||(r.onclick=vx));else if(s!==4&&(t=t.child,t!==null))for(l5(t,r,n),t=t.sibling;t!==null;)l5(t,r,n),t=t.sibling}function c5(t,r,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,r?n.insertBefore(t,r):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(c5(t,r,n),t=t.sibling;t!==null;)c5(t,r,n),t=t.sibling}var Ci=null,Wo=!1;function Jc(t,r,n){for(n=n.child;n!==null;)iF(t,r,n),n=n.sibling}function iF(t,r,n){if(_l&&typeof _l.onCommitFiberUnmount=="function")try{_l.onCommitFiberUnmount(Kv,n)}catch{}switch(n.tag){case 5:Xi||Bf(n,r);case 6:var s=Ci,i=Wo;Ci=null,Jc(t,r,n),Ci=s,Wo=i,Ci!==null&&(Wo?(t=Ci,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ci.removeChild(n.stateNode));break;case 18:Ci!==null&&(Wo?(t=Ci,n=n.stateNode,t.nodeType===8?Fb(t.parentNode,n):t.nodeType===1&&Fb(t,n),B0(t)):Fb(Ci,n.stateNode));break;case 4:s=Ci,i=Wo,Ci=n.stateNode.containerInfo,Wo=!0,Jc(t,r,n),Ci=s,Wo=i;break;case 0:case 11:case 14:case 15:if(!Xi&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&a5(n,r,l),i=i.next}while(i!==s)}Jc(t,r,n);break;case 1:if(!Xi&&(Bf(n,r),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(c){Bs(n,r,c)}Jc(t,r,n);break;case 21:Jc(t,r,n);break;case 22:n.mode&1?(Xi=(s=Xi)||n.memoizedState!==null,Jc(t,r,n),Xi=s):Jc(t,r,n);break;default:Jc(t,r,n)}}function QB(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jQ),r.forEach(function(s){var i=FQ.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function Do(t,r){var n=r.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var o=t,l=r,c=l;e:for(;c!==null;){switch(c.tag){case 5:Ci=c.stateNode,Wo=!1;break e;case 3:Ci=c.stateNode.containerInfo,Wo=!0;break e;case 4:Ci=c.stateNode.containerInfo,Wo=!0;break e}c=c.return}if(Ci===null)throw Error(Dt(160));iF(o,l,i),Ci=null,Wo=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){Bs(i,r,d)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)aF(r,t),r=r.sibling}function aF(t,r){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Do(r,t),hl(t),s&4){try{Xp(3,t,t.return),e1(3,t)}catch(g){Bs(t,t.return,g)}try{Xp(5,t,t.return)}catch(g){Bs(t,t.return,g)}}break;case 1:Do(r,t),hl(t),s&512&&n!==null&&Bf(n,n.return);break;case 5:if(Do(r,t),hl(t),s&512&&n!==null&&Bf(n,n.return),t.flags&32){var i=t.stateNode;try{w0(i,"")}catch(g){Bs(t,t.return,g)}}if(s&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&_T(i,o),F2(c,l);var d=F2(c,o);for(l=0;l<u.length;l+=2){var A=u[l],f=u[l+1];A==="style"?FT(i,f):A==="dangerouslySetInnerHTML"?TT(i,f):A==="children"?w0(i,f):pj(i,A,f,d)}switch(c){case"input":_2(i,o);break;case"textarea":ET(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Qf(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Qf(i,!!o.multiple,o.defaultValue,!0):Qf(i,!!o.multiple,o.multiple?[]:"",!1))}i[T0]=o}catch(g){Bs(t,t.return,g)}}break;case 6:if(Do(r,t),hl(t),s&4){if(t.stateNode===null)throw Error(Dt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){Bs(t,t.return,g)}}break;case 3:if(Do(r,t),hl(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{B0(r.containerInfo)}catch(g){Bs(t,t.return,g)}break;case 4:Do(r,t),hl(t);break;case 13:Do(r,t),hl(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Wj=Ds())),s&4&&QB(t);break;case 22:if(A=n!==null&&n.memoizedState!==null,t.mode&1?(Xi=(d=Xi)||A,Do(r,t),Xi=d):Do(r,t),hl(t),s&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!A&&t.mode&1)for(cr=t,A=t.child;A!==null;){for(f=cr=A;cr!==null;){switch(h=cr,p=h.child,h.tag){case 0:case 11:case 14:case 15:Xp(4,h,h.return);break;case 1:Bf(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){s=h,n=h.return;try{r=s,m.props=r.memoizedProps,m.state=r.memoizedState,m.componentWillUnmount()}catch(g){Bs(s,n,g)}}break;case 5:Bf(h,h.return);break;case 22:if(h.memoizedState!==null){HB(f);continue}}p!==null?(p.return=h,cr=p):HB(f)}A=A.sibling}e:for(A=null,f=t;;){if(f.tag===5){if(A===null){A=f;try{i=f.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=f.stateNode,u=f.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=OT("display",l))}catch(g){Bs(t,t.return,g)}}}else if(f.tag===6){if(A===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){Bs(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;A===f&&(A=null),f=f.return}A===f&&(A=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Do(r,t),hl(t),s&4&&QB(t);break;case 21:break;default:Do(r,t),hl(t)}}function hl(t){var r=t.flags;if(r&2){try{e:{for(var n=t.return;n!==null;){if(sF(n)){var s=n;break e}n=n.return}throw Error(Dt(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(w0(i,""),s.flags&=-33);var o=MB(t);c5(t,o,i);break;case 3:case 4:var l=s.stateNode.containerInfo,c=MB(t);l5(t,c,l);break;default:throw Error(Dt(161))}}catch(u){Bs(t,t.return,u)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function SQ(t,r,n){cr=t,oF(t)}function oF(t,r,n){for(var s=(t.mode&1)!==0;cr!==null;){var i=cr,o=i.child;if(i.tag===22&&s){var l=i.memoizedState!==null||Ig;if(!l){var c=i.alternate,u=c!==null&&c.memoizedState!==null||Xi;c=Ig;var d=Xi;if(Ig=l,(Xi=u)&&!d)for(cr=i;cr!==null;)l=cr,u=l.child,l.tag===22&&l.memoizedState!==null?VB(i):u!==null?(u.return=l,cr=u):VB(i);for(;o!==null;)cr=o,oF(o),o=o.sibling;cr=i,Ig=c,Xi=d}$B(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,cr=o):$B(t)}}function $B(t){for(;cr!==null;){var r=cr;if(r.flags&8772){var n=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Xi||e1(5,r);break;case 1:var s=r.stateNode;if(r.flags&4&&!Xi)if(n===null)s.componentDidMount();else{var i=r.elementType===r.type?n.memoizedProps:Ko(r.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=r.updateQueue;o!==null&&BB(r,o,s);break;case 3:var l=r.updateQueue;if(l!==null){if(n=null,r.child!==null)switch(r.child.tag){case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}BB(r,l,n)}break;case 5:var c=r.stateNode;if(n===null&&r.flags&4){n=c;var u=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var d=r.alternate;if(d!==null){var A=d.memoizedState;if(A!==null){var f=A.dehydrated;f!==null&&B0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Dt(163))}Xi||r.flags&512&&o5(r)}catch(h){Bs(r,r.return,h)}}if(r===t){cr=null;break}if(n=r.sibling,n!==null){n.return=r.return,cr=n;break}cr=r.return}}function HB(t){for(;cr!==null;){var r=cr;if(r===t){cr=null;break}var n=r.sibling;if(n!==null){n.return=r.return,cr=n;break}cr=r.return}}function VB(t){for(;cr!==null;){var r=cr;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{e1(4,r)}catch(u){Bs(r,n,u)}break;case 1:var s=r.stateNode;if(typeof s.componentDidMount=="function"){var i=r.return;try{s.componentDidMount()}catch(u){Bs(r,i,u)}}var o=r.return;try{o5(r)}catch(u){Bs(r,o,u)}break;case 5:var l=r.return;try{o5(r)}catch(u){Bs(r,l,u)}}}catch(u){Bs(r,r.return,u)}if(r===t){cr=null;break}var c=r.sibling;if(c!==null){c.return=r.return,cr=c;break}cr=r.return}}var BQ=Math.ceil,Tx=Ic.ReactCurrentDispatcher,Kj=Ic.ReactCurrentOwner,So=Ic.ReactCurrentBatchConfig,fn=0,wi=null,Js=null,Pi=0,Ha=0,Cf=nd(0),oi=0,D0=null,oA=0,t1=0,Gj=0,Jp=null,Sa=null,Wj=0,hh=1/0,uc=null,Ox=!1,u5=null,Tu=null,Pg=!1,mu=null,Fx=0,Zp=0,d5=null,Qy=-1,$y=0;function fa(){return fn&6?Ds():Qy!==-1?Qy:Qy=Ds()}function Ou(t){return t.mode&1?fn&2&&Pi!==0?Pi&-Pi:cQ.transition!==null?($y===0&&($y=zT()),$y):(t=kn,t!==0||(t=window.event,t=t===void 0?16:JT(t.type)),t):1}function rl(t,r,n,s){if(50<Zp)throw Zp=0,d5=null,Error(Dt(185));xm(t,n,s),(!(fn&2)||t!==wi)&&(t===wi&&(!(fn&2)&&(t1|=n),oi===4&&uu(t,Pi)),Oa(t,s),n===1&&fn===0&&!(r.mode&1)&&(hh=Ds()+500,Xv&&sd()))}function Oa(t,r){var n=t.callbackNode;c9(t,r);var s=mx(t,t===wi?Pi:0);if(s===0)n!==null&&Z3(n),t.callbackNode=null,t.callbackPriority=0;else if(r=s&-s,t.callbackPriority!==r){if(n!=null&&Z3(n),r===1)t.tag===0?lQ(zB.bind(null,t)):gO(zB.bind(null,t)),sQ(function(){!(fn&6)&&sd()}),n=null;else{switch(KT(s)){case 1:n=vj;break;case 4:n=HT;break;case 16:n=px;break;case 536870912:n=VT;break;default:n=px}n=pF(n,lF.bind(null,t))}t.callbackPriority=r,t.callbackNode=n}}function lF(t,r){if(Qy=-1,$y=0,fn&6)throw Error(Dt(327));var n=t.callbackNode;if(Kf()&&t.callbackNode!==n)return null;var s=mx(t,t===wi?Pi:0);if(s===0)return null;if(s&30||s&t.expiredLanes||r)r=Ix(t,s);else{r=s;var i=fn;fn|=2;var o=uF();(wi!==t||Pi!==r)&&(uc=null,hh=Ds()+500,Qd(t,r));do try{EQ();break}catch(c){cF(t,c)}while(!0);Fj(),Tx.current=o,fn=i,Js!==null?r=0:(wi=null,Pi=0,r=oi)}if(r!==0){if(r===2&&(i=U2(t),i!==0&&(s=i,r=A5(t,i))),r===1)throw n=D0,Qd(t,0),uu(t,s),Oa(t,Ds()),n;if(r===6)uu(t,s);else{if(i=t.current.alternate,!(s&30)&&!CQ(i)&&(r=Ix(t,s),r===2&&(o=U2(t),o!==0&&(s=o,r=A5(t,o))),r===1))throw n=D0,Qd(t,0),uu(t,s),Oa(t,Ds()),n;switch(t.finishedWork=i,t.finishedLanes=s,r){case 0:case 1:throw Error(Dt(345));case 2:Sd(t,Sa,uc);break;case 3:if(uu(t,s),(s&130023424)===s&&(r=Wj+500-Ds(),10<r)){if(mx(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){fa(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=K2(Sd.bind(null,t,Sa,uc),r);break}Sd(t,Sa,uc);break;case 4:if(uu(t,s),(s&4194240)===s)break;for(r=t.eventTimes,i=-1;0<s;){var l=31-tl(s);o=1<<l,l=r[l],l>i&&(i=l),s&=~o}if(s=i,s=Ds()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*BQ(s/1960))-s,10<s){t.timeoutHandle=K2(Sd.bind(null,t,Sa,uc),s);break}Sd(t,Sa,uc);break;case 5:Sd(t,Sa,uc);break;default:throw Error(Dt(329))}}}return Oa(t,Ds()),t.callbackNode===n?lF.bind(null,t):null}function A5(t,r){var n=Jp;return t.current.memoizedState.isDehydrated&&(Qd(t,r).flags|=256),t=Ix(t,r),t!==2&&(r=Sa,Sa=n,r!==null&&f5(r)),t}function f5(t){Sa===null?Sa=t:Sa.push.apply(Sa,t)}function CQ(t){for(var r=t;;){if(r.flags&16384){var n=r.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],o=i.getSnapshot;i=i.value;try{if(!sl(o(),i))return!1}catch{return!1}}}if(n=r.child,r.subtreeFlags&16384&&n!==null)n.return=r,r=n;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function uu(t,r){for(r&=~Gj,r&=~t1,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var n=31-tl(r),s=1<<n;t[n]=-1,r&=~s}}function zB(t){if(fn&6)throw Error(Dt(327));Kf();var r=mx(t,0);if(!(r&1))return Oa(t,Ds()),null;var n=Ix(t,r);if(t.tag!==0&&n===2){var s=U2(t);s!==0&&(r=s,n=A5(t,s))}if(n===1)throw n=D0,Qd(t,0),uu(t,r),Oa(t,Ds()),n;if(n===6)throw Error(Dt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Sd(t,Sa,uc),Oa(t,Ds()),null}function qj(t,r){var n=fn;fn|=1;try{return t(r)}finally{fn=n,fn===0&&(hh=Ds()+500,Xv&&sd())}}function lA(t){mu!==null&&mu.tag===0&&!(fn&6)&&Kf();var r=fn;fn|=1;var n=So.transition,s=kn;try{if(So.transition=null,kn=1,t)return t()}finally{kn=s,So.transition=n,fn=r,!(fn&6)&&sd()}}function Yj(){Ha=Cf.current,ss(Cf)}function Qd(t,r){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nQ(n)),Js!==null)for(n=Js.return;n!==null;){var s=n;switch(kj(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&bx();break;case 3:Ah(),ss(ka),ss(ra),Rj();break;case 5:Uj(s);break;case 4:Ah();break;case 13:ss(ds);break;case 19:ss(ds);break;case 10:Ij(s.type._context);break;case 22:case 23:Yj()}n=n.return}if(wi=t,Js=t=Fu(t.current,null),Pi=Ha=r,oi=0,D0=null,Gj=t1=oA=0,Sa=Jp=null,Pd!==null){for(r=0;r<Pd.length;r++)if(n=Pd[r],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,s.next=l}n.pending=s}Pd=null}return t}function cF(t,r){do{var n=Js;try{if(Fj(),Uy.current=kx,Ex){for(var s=fs.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Ex=!1}if(aA=0,gi=ii=fs=null,Yp=!1,I0=0,Kj.current=null,n===null||n.return===null){oi=1,D0=r,Js=null;break}e:{var o=t,l=n.return,c=n,u=r;if(r=Pi,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,A=c,f=A.tag;if(!(A.mode&1)&&(f===0||f===11||f===15)){var h=A.alternate;h?(A.updateQueue=h.updateQueue,A.memoizedState=h.memoizedState,A.lanes=h.lanes):(A.updateQueue=null,A.memoizedState=null)}var p=OB(l);if(p!==null){p.flags&=-257,FB(p,l,c,o,r),p.mode&1&&TB(o,d,r),r=p,u=d;var m=r.updateQueue;if(m===null){var g=new Set;g.add(u),r.updateQueue=g}else m.add(u);break e}else{if(!(r&1)){TB(o,d,r),Xj();break e}u=Error(Dt(426))}}else if(os&&c.mode&1){var b=OB(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),FB(b,l,c,o,r),Tj(fh(u,c));break e}}o=u=fh(u,c),oi!==4&&(oi=2),Jp===null?Jp=[o]:Jp.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,r&=-r,o.lanes|=r;var y=KO(o,u,r);SB(o,y);break e;case 1:c=u;var x=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Tu===null||!Tu.has(v)))){o.flags|=65536,r&=-r,o.lanes|=r;var w=GO(o,c,r);SB(o,w);break e}}o=o.return}while(o!==null)}AF(n)}catch(_){r=_,Js===n&&n!==null&&(Js=n=n.return);continue}break}while(!0)}function uF(){var t=Tx.current;return Tx.current=kx,t===null?kx:t}function Xj(){(oi===0||oi===3||oi===2)&&(oi=4),wi===null||!(oA&268435455)&&!(t1&268435455)||uu(wi,Pi)}function Ix(t,r){var n=fn;fn|=2;var s=uF();(wi!==t||Pi!==r)&&(uc=null,Qd(t,r));do try{_Q();break}catch(i){cF(t,i)}while(!0);if(Fj(),fn=n,Tx.current=s,Js!==null)throw Error(Dt(261));return wi=null,Pi=0,oi}function _Q(){for(;Js!==null;)dF(Js)}function EQ(){for(;Js!==null&&!e9();)dF(Js)}function dF(t){var r=hF(t.alternate,t,Ha);t.memoizedProps=t.pendingProps,r===null?AF(t):Js=r,Kj.current=null}function AF(t){var r=t;do{var n=r.alternate;if(t=r.return,r.flags&32768){if(n=wQ(n,r),n!==null){n.flags&=32767,Js=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{oi=6,Js=null;return}}else if(n=bQ(n,r,Ha),n!==null){Js=n;return}if(r=r.sibling,r!==null){Js=r;return}Js=r=t}while(r!==null);oi===0&&(oi=5)}function Sd(t,r,n){var s=kn,i=So.transition;try{So.transition=null,kn=1,kQ(t,r,n,s)}finally{So.transition=i,kn=s}return null}function kQ(t,r,n,s){do Kf();while(mu!==null);if(fn&6)throw Error(Dt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Dt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(u9(t,o),t===wi&&(Js=wi=null,Pi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pg||(Pg=!0,pF(px,function(){return Kf(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=So.transition,So.transition=null;var l=kn;kn=1;var c=fn;fn|=4,Kj.current=null,NQ(t,n),aF(n,t),Y9(V2),gx=!!H2,V2=H2=null,t.current=n,SQ(n),t9(),fn=c,kn=l,So.transition=o}else t.current=n;if(Pg&&(Pg=!1,mu=t,Fx=i),o=t.pendingLanes,o===0&&(Tu=null),s9(n.stateNode),Oa(t,Ds()),r!==null)for(s=t.onRecoverableError,n=0;n<r.length;n++)i=r[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Ox)throw Ox=!1,t=u5,u5=null,t;return Fx&1&&t.tag!==0&&Kf(),o=t.pendingLanes,o&1?t===d5?Zp++:(Zp=0,d5=t):Zp=0,sd(),null}function Kf(){if(mu!==null){var t=KT(Fx),r=So.transition,n=kn;try{if(So.transition=null,kn=16>t?16:t,mu===null)var s=!1;else{if(t=mu,mu=null,Fx=0,fn&6)throw Error(Dt(331));var i=fn;for(fn|=4,cr=t.current;cr!==null;){var o=cr,l=o.child;if(cr.flags&16){var c=o.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(cr=d;cr!==null;){var A=cr;switch(A.tag){case 0:case 11:case 15:Xp(8,A,o)}var f=A.child;if(f!==null)f.return=A,cr=f;else for(;cr!==null;){A=cr;var h=A.sibling,p=A.return;if(nF(A),A===d){cr=null;break}if(h!==null){h.return=p,cr=h;break}cr=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}cr=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,cr=l;else e:for(;cr!==null;){if(o=cr,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xp(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,cr=y;break e}cr=o.return}}var x=t.current;for(cr=x;cr!==null;){l=cr;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,cr=v;else e:for(l=x;cr!==null;){if(c=cr,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:e1(9,c)}}catch(_){Bs(c,c.return,_)}if(c===l){cr=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,cr=w;break e}cr=c.return}}if(fn=i,sd(),_l&&typeof _l.onPostCommitFiberRoot=="function")try{_l.onPostCommitFiberRoot(Kv,t)}catch{}s=!0}return s}finally{kn=n,So.transition=r}}return!1}function KB(t,r,n){r=fh(n,r),r=KO(t,r,1),t=ku(t,r,1),r=fa(),t!==null&&(xm(t,1,r),Oa(t,r))}function Bs(t,r,n){if(t.tag===3)KB(t,t,n);else for(;r!==null;){if(r.tag===3){KB(r,t,n);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Tu===null||!Tu.has(s))){t=fh(n,t),t=GO(r,t,1),r=ku(r,t,1),t=fa(),r!==null&&(xm(r,1,t),Oa(r,t));break}}r=r.return}}function TQ(t,r,n){var s=t.pingCache;s!==null&&s.delete(r),r=fa(),t.pingedLanes|=t.suspendedLanes&n,wi===t&&(Pi&n)===n&&(oi===4||oi===3&&(Pi&130023424)===Pi&&500>Ds()-Wj?Qd(t,0):Gj|=n),Oa(t,r)}function fF(t,r){r===0&&(t.mode&1?(r=Sg,Sg<<=1,!(Sg&130023424)&&(Sg=4194304)):r=1);var n=fa();t=Sc(t,r),t!==null&&(xm(t,r,n),Oa(t,n))}function OQ(t){var r=t.memoizedState,n=0;r!==null&&(n=r.retryLane),fF(t,n)}function FQ(t,r){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(Dt(314))}s!==null&&s.delete(r),fF(t,n)}var hF;hF=function(t,r,n){if(t!==null)if(t.memoizedProps!==r.pendingProps||ka.current)Ca=!0;else{if(!(t.lanes&n)&&!(r.flags&128))return Ca=!1,vQ(t,r,n);Ca=!!(t.flags&131072)}else Ca=!1,os&&r.flags&1048576&&yO(r,Nx,r.index);switch(r.lanes=0,r.tag){case 2:var s=r.type;My(t,r),t=r.pendingProps;var i=ch(r,ra.current);zf(r,n),i=Qj(null,r,s,t,i,n);var o=$j();return r.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ta(s)?(o=!0,wx(r)):o=!1,r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Lj(r),i.updater=Zv,r.stateNode=i,i._reactInternals=r,Z2(r,s,t,n),r=r5(null,r,s,!0,o,n)):(r.tag=0,os&&o&&Ej(r),la(null,r,i,n),r=r.child),r;case 16:s=r.elementType;e:{switch(My(t,r),t=r.pendingProps,i=s._init,s=i(s._payload),r.type=s,i=r.tag=PQ(s),t=Ko(s,t),i){case 0:r=t5(null,r,s,t,n);break e;case 1:r=LB(null,r,s,t,n);break e;case 11:r=IB(null,r,s,t,n);break e;case 14:r=PB(null,r,s,Ko(s.type,t),n);break e}throw Error(Dt(306,s,""))}return r;case 0:return s=r.type,i=r.pendingProps,i=r.elementType===s?i:Ko(s,i),t5(t,r,s,i,n);case 1:return s=r.type,i=r.pendingProps,i=r.elementType===s?i:Ko(s,i),LB(t,r,s,i,n);case 3:e:{if(XO(r),t===null)throw Error(Dt(387));s=r.pendingProps,o=r.memoizedState,i=o.element,NO(t,r),Cx(r,s,null,n);var l=r.memoizedState;if(s=l.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},r.updateQueue.baseState=o,r.memoizedState=o,r.flags&256){i=fh(Error(Dt(423)),r),r=DB(t,r,s,n,i);break e}else if(s!==i){i=fh(Error(Dt(424)),r),r=DB(t,r,s,n,i);break e}else for(Wa=Eu(r.stateNode.containerInfo.firstChild),Ya=r,os=!0,Yo=null,n=wO(r,null,s,n),r.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uh(),s===i){r=Bc(t,r,n);break e}la(t,r,s,n)}r=r.child}return r;case 5:return SO(r),t===null&&Y2(r),s=r.type,i=r.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,z2(s,i)?l=null:o!==null&&z2(s,o)&&(r.flags|=32),YO(t,r),la(t,r,l,n),r.child;case 6:return t===null&&Y2(r),null;case 13:return JO(t,r,n);case 4:return Dj(r,r.stateNode.containerInfo),s=r.pendingProps,t===null?r.child=dh(r,null,s,n):la(t,r,s,n),r.child;case 11:return s=r.type,i=r.pendingProps,i=r.elementType===s?i:Ko(s,i),IB(t,r,s,i,n);case 7:return la(t,r,r.pendingProps,n),r.child;case 8:return la(t,r,r.pendingProps.children,n),r.child;case 12:return la(t,r,r.pendingProps.children,n),r.child;case 10:e:{if(s=r.type._context,i=r.pendingProps,o=r.memoizedProps,l=i.value,Jn(Sx,s._currentValue),s._currentValue=l,o!==null)if(sl(o.value,l)){if(o.children===i.children&&!ka.current){r=Bc(t,r,n);break e}}else for(o=r.child,o!==null&&(o.return=r);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var u=c.firstContext;u!==null;){if(u.context===s){if(o.tag===1){u=gc(-1,n&-n),u.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var A=d.pending;A===null?u.next=u:(u.next=A.next,A.next=u),d.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),X2(o.return,n,r),c.lanes|=n;break}u=u.next}}else if(o.tag===10)l=o.type===r.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(Dt(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),X2(l,n,r),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===r){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}la(t,r,i.children,n),r=r.child}return r;case 9:return i=r.type,s=r.pendingProps.children,zf(r,n),i=Co(i),s=s(i),r.flags|=1,la(t,r,s,n),r.child;case 14:return s=r.type,i=Ko(s,r.pendingProps),i=Ko(s.type,i),PB(t,r,s,i,n);case 15:return WO(t,r,r.type,r.pendingProps,n);case 17:return s=r.type,i=r.pendingProps,i=r.elementType===s?i:Ko(s,i),My(t,r),r.tag=1,Ta(s)?(t=!0,wx(r)):t=!1,zf(r,n),zO(r,s,i),Z2(r,s,i,n),r5(null,r,s,!0,t,n);case 19:return ZO(t,r,n);case 22:return qO(t,r,n)}throw Error(Dt(156,r.tag))};function pF(t,r){return $T(t,r)}function IQ(t,r,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wo(t,r,n,s){return new IQ(t,r,n,s)}function Jj(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PQ(t){if(typeof t=="function")return Jj(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gj)return 11;if(t===yj)return 14}return 2}function Fu(t,r){var n=t.alternate;return n===null?(n=wo(t.tag,r,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=r,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,r=t.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hy(t,r,n,s,i,o){var l=2;if(s=t,typeof t=="function")Jj(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case gf:return $d(n.children,i,o,r);case mj:l=8,i|=8;break;case j2:return t=wo(12,n,r,i|2),t.elementType=j2,t.lanes=o,t;case N2:return t=wo(13,n,r,i),t.elementType=N2,t.lanes=o,t;case S2:return t=wo(19,n,r,i),t.elementType=S2,t.lanes=o,t;case ST:return r1(n,i,o,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jT:l=10;break e;case NT:l=9;break e;case gj:l=11;break e;case yj:l=14;break e;case au:l=16,s=null;break e}throw Error(Dt(130,t==null?t:typeof t,""))}return r=wo(l,n,r,i),r.elementType=t,r.type=s,r.lanes=o,r}function $d(t,r,n,s){return t=wo(7,t,s,r),t.lanes=n,t}function r1(t,r,n,s){return t=wo(22,t,s,r),t.elementType=ST,t.lanes=n,t.stateNode={isHidden:!1},t}function Qb(t,r,n){return t=wo(6,t,null,r),t.lanes=n,t}function $b(t,r,n){return r=wo(4,t.children!==null?t.children:[],t.key,r),r.lanes=n,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function LQ(t,r,n,s,i){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wb(0),this.expirationTimes=wb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wb(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zj(t,r,n,s,i,o,l,c,u){return t=new LQ(t,r,n,c,u),r===1?(r=1,o===!0&&(r|=8)):r=0,o=wo(3,null,null,r),t.current=o,o.stateNode=t,o.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lj(o),t}function DQ(t,r,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mf,key:s==null?null:""+s,children:t,containerInfo:r,implementation:n}}function mF(t){if(!t)return Hu;t=t._reactInternals;e:{if(SA(t)!==t||t.tag!==1)throw Error(Dt(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ta(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(Dt(171))}if(t.tag===1){var n=t.type;if(Ta(n))return mO(t,n,r)}return r}function gF(t,r,n,s,i,o,l,c,u){return t=Zj(n,s,!0,t,i,o,l,c,u),t.context=mF(null),n=t.current,s=fa(),i=Ou(n),o=gc(s,i),o.callback=r??null,ku(n,o,i),t.current.lanes=i,xm(t,i,s),Oa(t,s),t}function n1(t,r,n,s){var i=r.current,o=fa(),l=Ou(i);return n=mF(n),r.context===null?r.context=n:r.pendingContext=n,r=gc(o,l),r.payload={element:t},s=s===void 0?null:s,s!==null&&(r.callback=s),t=ku(i,r,l),t!==null&&(rl(t,i,l,o),Dy(t,i,l)),l}function Px(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function GB(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<r?n:r}}function eN(t,r){GB(t,r),(t=t.alternate)&&GB(t,r)}function UQ(){return null}var yF=typeof reportError=="function"?reportError:function(t){console.error(t)};function tN(t){this._internalRoot=t}s1.prototype.render=tN.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(Dt(409));n1(t,r,null,null)};s1.prototype.unmount=tN.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;lA(function(){n1(null,t,null,null)}),r[Nc]=null}};function s1(t){this._internalRoot=t}s1.prototype.unstable_scheduleHydration=function(t){if(t){var r=qT();t={blockedOn:null,target:t,priority:r};for(var n=0;n<cu.length&&r!==0&&r<cu[n].priority;n++);cu.splice(n,0,t),n===0&&XT(t)}};function rN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function i1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function WB(){}function RQ(t,r,n,s,i){if(i){if(typeof s=="function"){var o=s;s=function(){var d=Px(l);o.call(d)}}var l=gF(r,s,t,0,null,!1,!1,"",WB);return t._reactRootContainer=l,t[Nc]=l.current,E0(t.nodeType===8?t.parentNode:t),lA(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var c=s;s=function(){var d=Px(u);c.call(d)}}var u=Zj(t,0,!1,null,null,!1,!1,"",WB);return t._reactRootContainer=u,t[Nc]=u.current,E0(t.nodeType===8?t.parentNode:t),lA(function(){n1(r,u,n,s)}),u}function a1(t,r,n,s,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var c=i;i=function(){var u=Px(l);c.call(u)}}n1(r,l,t,i)}else l=RQ(n,r,t,i,s);return Px(l)}GT=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var n=kp(r.pendingLanes);n!==0&&(bj(r,n|1),Oa(r,Ds()),!(fn&6)&&(hh=Ds()+500,sd()))}break;case 13:lA(function(){var s=Sc(t,1);if(s!==null){var i=fa();rl(s,t,1,i)}}),eN(t,1)}};wj=function(t){if(t.tag===13){var r=Sc(t,134217728);if(r!==null){var n=fa();rl(r,t,134217728,n)}eN(t,134217728)}};WT=function(t){if(t.tag===13){var r=Ou(t),n=Sc(t,r);if(n!==null){var s=fa();rl(n,t,r,s)}eN(t,r)}};qT=function(){return kn};YT=function(t,r){var n=kn;try{return kn=t,r()}finally{kn=n}};P2=function(t,r,n){switch(r){case"input":if(_2(t,n),r=n.name,n.type==="radio"&&r!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var s=n[r];if(s!==t&&s.form===t.form){var i=Yv(s);if(!i)throw Error(Dt(90));CT(s),_2(s,i)}}}break;case"textarea":ET(t,n);break;case"select":r=n.value,r!=null&&Qf(t,!!n.multiple,r,!1)}};LT=qj;DT=lA;var MQ={usingClientEntryPoint:!1,Events:[bm,bf,Yv,IT,PT,qj]},hp={findFiberByHostInstance:Id,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QQ={bundleType:hp.bundleType,version:hp.version,rendererPackageName:hp.rendererPackageName,rendererConfig:hp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ic.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MT(t),t===null?null:t.stateNode},findFiberByHostInstance:hp.findFiberByHostInstance||UQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lg.isDisabled&&Lg.supportsFiber)try{Kv=Lg.inject(QQ),_l=Lg}catch{}}eo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MQ;eo.createPortal=function(t,r){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rN(r))throw Error(Dt(200));return DQ(t,r,null,n)};eo.createRoot=function(t,r){if(!rN(t))throw Error(Dt(299));var n=!1,s="",i=yF;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),r=Zj(t,1,!1,null,null,n,!1,s,i),t[Nc]=r.current,E0(t.nodeType===8?t.parentNode:t),new tN(r)};eo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(Dt(188)):(t=Object.keys(t).join(","),Error(Dt(268,t)));return t=MT(r),t=t===null?null:t.stateNode,t};eo.flushSync=function(t){return lA(t)};eo.hydrate=function(t,r,n){if(!i1(r))throw Error(Dt(200));return a1(null,t,r,!0,n)};eo.hydrateRoot=function(t,r,n){if(!rN(t))throw Error(Dt(405));var s=n!=null&&n.hydratedSources||null,i=!1,o="",l=yF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),r=gF(r,null,t,1,n??null,i,!1,o,l),t[Nc]=r.current,E0(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,i]:r.mutableSourceEagerHydrationData.push(n,i);return new s1(r)};eo.render=function(t,r,n){if(!i1(r))throw Error(Dt(200));return a1(null,t,r,!1,n)};eo.unmountComponentAtNode=function(t){if(!i1(t))throw Error(Dt(40));return t._reactRootContainer?(lA(function(){a1(null,null,t,!1,function(){t._reactRootContainer=null,t[Nc]=null})}),!0):!1};eo.unstable_batchedUpdates=qj;eo.unstable_renderSubtreeIntoContainer=function(t,r,n,s){if(!i1(n))throw Error(Dt(200));if(t==null||t._reactInternals===void 0)throw Error(Dt(38));return a1(t,r,n,!1,s)};eo.version="18.3.1-next-f1338f8080-20240426";function xF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xF)}catch(t){console.error(t)}}xF(),xT.exports=eo;var vF=xT.exports;const $Q=gm(vF);var bF,qB=vF;bF=qB.createRoot,qB.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},U0.apply(this,arguments)}var gu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gu||(gu={}));const YB="popstate";function HQ(t){t===void 0&&(t={});function r(s,i){let{pathname:o,search:l,hash:c}=s.location;return h5("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Lx(i)}return zQ(r,n,null,t)}function Qs(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function wF(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function VQ(){return Math.random().toString(36).substr(2,8)}function XB(t,r){return{usr:t.state,key:t.key,idx:r}}function h5(t,r,n,s){return n===void 0&&(n=null),U0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?Eh(r):r,{state:n,key:r&&r.key||s||VQ()})}function Lx(t){let{pathname:r="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Eh(t){let r={};if(t){let n=t.indexOf("#");n>=0&&(r.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(r.search=t.substr(s),t=t.substr(0,s)),t&&(r.pathname=t)}return r}function zQ(t,r,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:o=!1}=s,l=i.history,c=gu.Pop,u=null,d=A();d==null&&(d=0,l.replaceState(U0({},l.state,{idx:d}),""));function A(){return(l.state||{idx:null}).idx}function f(){c=gu.Pop;let b=A(),y=b==null?null:b-d;d=b,u&&u({action:c,location:g.location,delta:y})}function h(b,y){c=gu.Push;let x=h5(g.location,b,y);d=A()+1;let v=XB(x,d),w=g.createHref(x);try{l.pushState(v,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(w)}o&&u&&u({action:c,location:g.location,delta:1})}function p(b,y){c=gu.Replace;let x=h5(g.location,b,y);d=A();let v=XB(x,d),w=g.createHref(x);l.replaceState(v,"",w),o&&u&&u({action:c,location:g.location,delta:0})}function m(b){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:Lx(b);return x=x.replace(/ $/,"%20"),Qs(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return c},get location(){return t(i,l)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(YB,f),u=b,()=>{i.removeEventListener(YB,f),u=null}},createHref(b){return r(i,b)},createURL:m,encodeLocation(b){let y=m(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(b){return l.go(b)}};return g}var JB;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(JB||(JB={}));function KQ(t,r,n){return n===void 0&&(n="/"),GQ(t,r,n,!1)}function GQ(t,r,n,s){let i=typeof r=="string"?Eh(r):r,o=nN(i.pathname||"/",n);if(o==null)return null;let l=jF(t);WQ(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let d=i$(o);c=n$(l[u],d,s)}return c}function jF(t,r,n,s){r===void 0&&(r=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(o,l,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(Qs(u.relativePath.startsWith(s),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(s.length));let d=Iu([s,u.relativePath]),A=n.concat(u);o.children&&o.children.length>0&&(Qs(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),jF(o.children,r,A,d)),!(o.path==null&&!o.index)&&r.push({path:d,score:t$(d,o.index),routesMeta:A})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of NF(o.path))i(o,l,u)}),r}function NF(t){let r=t.split("/");if(r.length===0)return[];let[n,...s]=r,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return i?[o,""]:[o];let l=NF(s.join("/")),c=[];return c.push(...l.map(u=>u===""?o:[o,u].join("/"))),i&&c.push(...l),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function WQ(t){t.sort((r,n)=>r.score!==n.score?n.score-r.score:r$(r.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const qQ=/^:[\w-]+$/,YQ=3,XQ=2,JQ=1,ZQ=10,e$=-2,ZB=t=>t==="*";function t$(t,r){let n=t.split("/"),s=n.length;return n.some(ZB)&&(s+=e$),r&&(s+=XQ),n.filter(i=>!ZB(i)).reduce((i,o)=>i+(qQ.test(o)?YQ:o===""?JQ:ZQ),s)}function r$(t,r){return t.length===r.length&&t.slice(0,-1).every((s,i)=>s===r[i])?t[t.length-1]-r[r.length-1]:0}function n$(t,r,n){let{routesMeta:s}=t,i={},o="/",l=[];for(let c=0;c<s.length;++c){let u=s[c],d=c===s.length-1,A=o==="/"?r:r.slice(o.length)||"/",f=eC({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},A),h=u.route;if(!f&&d&&n&&!s[s.length-1].route.index&&(f=eC({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},A)),!f)return null;Object.assign(i,f.params),l.push({params:i,pathname:Iu([o,f.pathname]),pathnameBase:c$(Iu([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Iu([o,f.pathnameBase]))}return l}function eC(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=s$(t.path,t.caseSensitive,t.end),i=r.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:s.reduce((d,A,f)=>{let{paramName:h,isOptional:p}=A;if(h==="*"){let g=c[f]||"";l=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=c[f];return p&&!m?d[h]=void 0:d[h]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:t}}function s$(t,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),wF(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(s.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,r?void 0:"i"),s]}function i$(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return wF(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function nN(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function a$(t,r){r===void 0&&(r="/");let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?Eh(t):t;return{pathname:n?n.startsWith("/")?n:o$(n,r):r,search:u$(s),hash:d$(i)}}function o$(t,r){let n=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hb(t,r,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l$(t){return t.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function sN(t,r){let n=l$(t);return r?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function iN(t,r,n,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=Eh(t):(i=U0({},t),Qs(!i.pathname||!i.pathname.includes("?"),Hb("?","pathname","search",i)),Qs(!i.pathname||!i.pathname.includes("#"),Hb("#","pathname","hash",i)),Qs(!i.search||!i.search.includes("#"),Hb("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let f=r.length-1;if(!s&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}c=f>=0?r[f]:"/"}let u=a$(i,c),d=l&&l!=="/"&&l.endsWith("/"),A=(o||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||A)&&(u.pathname+="/"),u}const Iu=t=>t.join("/").replace(/\/\/+/g,"/"),c$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,d$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function A$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const SF=["post","put","patch","delete"];new Set(SF);const f$=["get",...SF];new Set(f$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},R0.apply(this,arguments)}const aN=te.createContext(null),h$=te.createContext(null),id=te.createContext(null),o1=te.createContext(null),Pc=te.createContext({outlet:null,matches:[],isDataRoute:!1}),BF=te.createContext(null);function p$(t,r){let{relative:n}=r===void 0?{}:r;kh()||Qs(!1);let{basename:s,navigator:i}=te.useContext(id),{hash:o,pathname:l,search:c}=_F(t,{relative:n}),u=l;return s!=="/"&&(u=l==="/"?s:Iu([s,l])),i.createHref({pathname:u,search:c,hash:o})}function kh(){return te.useContext(o1)!=null}function al(){return kh()||Qs(!1),te.useContext(o1).location}function CF(t){te.useContext(id).static||te.useLayoutEffect(t)}function Hs(){let{isDataRoute:t}=te.useContext(Pc);return t?_$():m$()}function m$(){kh()||Qs(!1);let t=te.useContext(aN),{basename:r,future:n,navigator:s}=te.useContext(id),{matches:i}=te.useContext(Pc),{pathname:o}=al(),l=JSON.stringify(sN(i,n.v7_relativeSplatPath)),c=te.useRef(!1);return CF(()=>{c.current=!0}),te.useCallback(function(d,A){if(A===void 0&&(A={}),!c.current)return;if(typeof d=="number"){s.go(d);return}let f=iN(d,JSON.parse(l),o,A.relative==="path");t==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:Iu([r,f.pathname])),(A.replace?s.replace:s.push)(f,A.state,A)},[r,s,l,o,t])}function l1(){let{matches:t}=te.useContext(Pc),r=t[t.length-1];return r?r.params:{}}function _F(t,r){let{relative:n}=r===void 0?{}:r,{future:s}=te.useContext(id),{matches:i}=te.useContext(Pc),{pathname:o}=al(),l=JSON.stringify(sN(i,s.v7_relativeSplatPath));return te.useMemo(()=>iN(t,JSON.parse(l),o,n==="path"),[t,l,o,n])}function g$(t,r){return y$(t,r)}function y$(t,r,n,s){kh()||Qs(!1);let{navigator:i}=te.useContext(id),{matches:o}=te.useContext(Pc),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=al(),A;if(r){var f;let b=typeof r=="string"?Eh(r):r;u==="/"||(f=b.pathname)!=null&&f.startsWith(u)||Qs(!1),A=b}else A=d;let h=A.pathname||"/",p=h;if(u!=="/"){let b=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=KQ(t,{pathname:p}),g=j$(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Iu([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Iu([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,s);return r&&g?te.createElement(o1.Provider,{value:{location:R0({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:gu.Pop}},g):g}function x$(){let t=C$(),r=A$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},r),n?te.createElement("pre",{style:i},n):null,null)}const v$=te.createElement(x$,null);class b$ extends te.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?te.createElement(Pc.Provider,{value:this.props.routeContext},te.createElement(BF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w$(t){let{routeContext:r,match:n,children:s}=t,i=te.useContext(aN);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),te.createElement(Pc.Provider,{value:r},s)}function j$(t,r,n,s){var i;if(r===void 0&&(r=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=s)!=null&&o.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let A=l.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);A>=0||Qs(!1),l=l.slice(0,Math.min(l.length,A+1))}let u=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let A=0;A<l.length;A++){let f=l[A];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=A),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){u=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((A,f,h)=>{let p,m=!1,g=null,b=null;n&&(p=c&&f.route.id?c[f.route.id]:void 0,g=f.route.errorElement||v$,u&&(d<0&&h===0?(m=!0,b=null):d===h&&(m=!0,b=f.route.hydrateFallbackElement||null)));let y=r.concat(l.slice(0,h+1)),x=()=>{let v;return p?v=g:m?v=b:f.route.Component?v=te.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=A,te.createElement(w$,{match:f,routeContext:{outlet:A,matches:y,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?te.createElement(b$,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var EF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(EF||{}),Dx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dx||{});function N$(t){let r=te.useContext(aN);return r||Qs(!1),r}function S$(t){let r=te.useContext(h$);return r||Qs(!1),r}function B$(t){let r=te.useContext(Pc);return r||Qs(!1),r}function kF(t){let r=B$(),n=r.matches[r.matches.length-1];return n.route.id||Qs(!1),n.route.id}function C$(){var t;let r=te.useContext(BF),n=S$(Dx.UseRouteError),s=kF(Dx.UseRouteError);return r!==void 0?r:(t=n.errors)==null?void 0:t[s]}function _$(){let{router:t}=N$(EF.UseNavigateStable),r=kF(Dx.UseNavigateStable),n=te.useRef(!1);return CF(()=>{n.current=!0}),te.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,R0({fromRouteId:r},o)))},[t,r])}function E$(t,r){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function k$(t){let{to:r,replace:n,state:s,relative:i}=t;kh()||Qs(!1);let{future:o,static:l}=te.useContext(id),{matches:c}=te.useContext(Pc),{pathname:u}=al(),d=Hs(),A=iN(r,sN(c,o.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(A);return te.useEffect(()=>d(JSON.parse(f),{replace:n,state:s,relative:i}),[d,f,i,n,s]),null}function Rr(t){Qs(!1)}function T$(t){let{basename:r="/",children:n=null,location:s,navigationType:i=gu.Pop,navigator:o,static:l=!1,future:c}=t;kh()&&Qs(!1);let u=r.replace(/^\/*/,"/"),d=te.useMemo(()=>({basename:u,navigator:o,static:l,future:R0({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);typeof s=="string"&&(s=Eh(s));let{pathname:A="/",search:f="",hash:h="",state:p=null,key:m="default"}=s,g=te.useMemo(()=>{let b=nN(A,u);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:m},navigationType:i}},[u,A,f,h,p,m,i]);return g==null?null:te.createElement(id.Provider,{value:d},te.createElement(o1.Provider,{children:n,value:g}))}function tC(t){let{children:r,location:n}=t;return g$(p5(r),n)}new Promise(()=>{});function p5(t,r){r===void 0&&(r=[]);let n=[];return te.Children.forEach(t,(s,i)=>{if(!te.isValidElement(s))return;let o=[...r,i];if(s.type===te.Fragment){n.push.apply(n,p5(s.props.children,o));return}s.type!==Rr&&Qs(!1),!s.props.index||!s.props.children||Qs(!1);let l={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=p5(s.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m5(){return m5=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},m5.apply(this,arguments)}function O$(t,r){if(t==null)return{};var n={},s=Object.keys(t),i,o;for(o=0;o<s.length;o++)i=s[o],!(r.indexOf(i)>=0)&&(n[i]=t[i]);return n}function F$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I$(t,r){return t.button===0&&(!r||r==="_self")&&!F$(t)}function g5(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,n)=>{let s=t[n];return r.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function P$(t,r){let n=g5(t);return r&&r.forEach((s,i)=>{n.has(i)||r.getAll(i).forEach(o=>{n.append(i,o)})}),n}const L$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],D$="6";try{window.__reactRouterVersion=D$}catch{}const U$="startTransition",rC=TM[U$];function R$(t){let{basename:r,children:n,future:s,window:i}=t,o=te.useRef();o.current==null&&(o.current=HQ({window:i,v5Compat:!0}));let l=o.current,[c,u]=te.useState({action:l.action,location:l.location}),{v7_startTransition:d}=s||{},A=te.useCallback(f=>{d&&rC?rC(()=>u(f)):u(f)},[u,d]);return te.useLayoutEffect(()=>l.listen(A),[l,A]),te.useEffect(()=>E$(s),[s]),te.createElement(T$,{basename:r,children:n,location:c.location,navigationType:c.action,navigator:l,future:s})}const M$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=te.forwardRef(function(r,n){let{onClick:s,relative:i,reloadDocument:o,replace:l,state:c,target:u,to:d,preventScrollReset:A,viewTransition:f}=r,h=O$(r,L$),{basename:p}=te.useContext(id),m,g=!1;if(typeof d=="string"&&Q$.test(d)&&(m=d,M$))try{let v=new URL(window.location.href),w=d.startsWith("//")?new URL(v.protocol+d):new URL(d),_=nN(w.pathname,p);w.origin===v.origin&&_!=null?d=_+w.search+w.hash:g=!0}catch{}let b=p$(d,{relative:i}),y=$$(d,{replace:l,state:c,target:u,preventScrollReset:A,relative:i,viewTransition:f});function x(v){s&&s(v),v.defaultPrevented||y(v)}return te.createElement("a",m5({},h,{href:m||b,onClick:g||o?s:x,ref:n,target:u}))});var nC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nC||(nC={}));var sC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sC||(sC={}));function $$(t,r){let{target:n,replace:s,state:i,preventScrollReset:o,relative:l,viewTransition:c}=r===void 0?{}:r,u=Hs(),d=al(),A=_F(t,{relative:l});return te.useCallback(f=>{if(I$(f,n)){f.preventDefault();let h=s!==void 0?s:Lx(d)===Lx(A);u(t,{replace:h,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[d,u,A,s,i,n,t,o,l,c])}function oN(t){let r=te.useRef(g5(t)),n=te.useRef(!1),s=al(),i=te.useMemo(()=>P$(s.search,n.current?null:r.current),[s.search]),o=Hs(),l=te.useCallback((c,u)=>{const d=g5(typeof c=="function"?c(i):c);n.current=!0,o("?"+d,u)},[o,i]);return[i,l]}const H$=()=>{};var iC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=function(t){const r=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=i&63|128)}return r},V$=function(t){const r=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)r[s++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];r[s++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;r[s++]=String.fromCharCode(55296+(u>>10)),r[s++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],l=t[n++];r[s++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return r.join("")},OF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,r){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,A=o>>2,f=(o&3)<<4|c>>4;let h=(c&15)<<2|d>>6,p=d&63;u||(p=64,l||(h=64)),s.push(n[A],n[f],n[h],n[p])}return s.join("")},encodeString(t,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(t):this.encodeByteArray(TF(t),r)},decodeString(t,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(t):V$(this.decodeStringToByteArray(t,r))},decodeStringToByteArray(t,r){this.init_();const n=r?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||d==null||f==null)throw new z$;const h=o<<2|c>>4;if(s.push(h),d!==64){const p=c<<4&240|d>>2;if(s.push(p),f!==64){const m=d<<6&192|f;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K$=function(t){const r=TF(t);return OF.encodeByteArray(r,!0)},Ux=function(t){return K$(t).replace(/\./g,"")},FF=function(t){try{return OF.decodeString(t,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=()=>G$().__FIREBASE_DEFAULTS__,q$=()=>{if(typeof process>"u"||typeof iC>"u")return;const t=iC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=t&&FF(t[1]);return r&&JSON.parse(r)},lN=()=>{try{return H$()||W$()||q$()||Y$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IF=t=>{var r,n;return(n=(r=lN())===null||r===void 0?void 0:r.emulatorHosts)===null||n===void 0?void 0:n[t]},X$=t=>{const r=IF(t);if(!r)return;const n=r.lastIndexOf(":");if(n<=0||n+1===r.length)throw new Error(`Invalid host ${r} with no separate hostname and port!`);const s=parseInt(r.substring(n+1),10);return r[0]==="["?[r.substring(1,n-1),s]:[r.substring(0,n),s]},PF=()=>{var t;return(t=lN())===null||t===void 0?void 0:t.config},LF=t=>{var r;return(r=lN())===null||r===void 0?void 0:r[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,n)=>{this.resolve=r,this.reject=n})}wrapCallback(r){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(n):r(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DF(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(t,r){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=r||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ux(JSON.stringify(n)),Ux(JSON.stringify(l)),""].join(".")}const e0={};function eH(){const t={prod:[],emulator:[]};for(const r of Object.keys(e0))e0[r]?t.emulator.push(r):t.prod.push(r);return t}function tH(t){let r=document.getElementById(t),n=!1;return r||(r=document.createElement("div"),r.setAttribute("id",t),n=!0),{created:n,element:r}}let aC=!1;function UF(t,r){if(typeof window>"u"||typeof document>"u"||!Th(window.location.host)||e0[t]===r||e0[t]||aC)return;e0[t]=r;function n(h){return`__firebase__banner__${h}`}const s="__firebase__banner",o=eH().prod.length>0;function l(){const h=document.getElementById(s);h&&h.remove()}function c(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function u(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function d(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{aC=!0,l()},h}function A(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=tH(s),p=n("text"),m=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),b=document.getElementById(g)||document.createElement("a"),y=n("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const v=h.element;c(v),A(b,g);const w=d();u(x,y),v.append(x,m,b,w),document.body.appendChild(v)}o?(m.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pa())}function nH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aH(){const t=pa();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oH(){try{return typeof indexedDB=="object"}catch{return!1}}function lH(){return new Promise((t,r)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;r(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){r(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH="FirebaseError";class Lc extends Error{constructor(r,n,s){super(n),this.code=r,this.customData=s,this.name=cH,Object.setPrototypeOf(this,Lc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jm.prototype.create)}}class jm{constructor(r,n,s){this.service=r,this.serviceName=n,this.errors=s}create(r,...n){const s=n[0]||{},i=`${this.service}/${r}`,o=this.errors[r],l=o?uH(o,s):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Lc(i,c,s)}}function uH(t,r){return t.replace(dH,(n,s)=>{const i=r[s];return i!=null?String(i):`<${s}?>`})}const dH=/\{\$([^}]+)}/g;function AH(t){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function ph(t,r){if(t===r)return!0;const n=Object.keys(t),s=Object.keys(r);for(const i of n){if(!s.includes(i))return!1;const o=t[i],l=r[i];if(oC(o)&&oC(l)){if(!ph(o,l))return!1}else if(o!==l)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function oC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t){const r=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{r.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):r.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return r.length?"&"+r.join("&"):""}function Op(t){const r={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,o]=s.split("=");r[decodeURIComponent(i)]=decodeURIComponent(o)}}),r}function Fp(t){const r=t.indexOf("?");if(!r)return"";const n=t.indexOf("#",r);return t.substring(r,n>0?n:void 0)}function fH(t,r){const n=new hH(t,r);return n.subscribe.bind(n)}class hH{constructor(r,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{r(this)}).catch(s=>{this.error(s)})}next(r){this.forEachObserver(n=>{n.next(r)})}error(r){this.forEachObserver(n=>{n.error(r)}),this.close(r)}complete(){this.forEachObserver(r=>{r.complete()}),this.close()}subscribe(r,n,s){let i;if(r===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pH(r,["next","error","complete"])?i=r:i={next:r,error:n,complete:s},i.next===void 0&&(i.next=Vb),i.error===void 0&&(i.error=Vb),i.complete===void 0&&(i.complete=Vb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(r){this.observers===void 0||this.observers[r]===void 0||(delete this.observers[r],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(r){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,r)}sendOne(r,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[r]!==void 0)try{n(this.observers[r])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(r){this.finalized||(this.finalized=!0,r!==void 0&&(this.finalError=r),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pH(t,r){if(typeof t!="object"||t===null)return!1;for(const n of r)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){return t&&t._delegate?t._delegate:t}class cA{constructor(r,n,s){this.name=r,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(r,n){this.name=r,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const n=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(n)){const s=new J$;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(r){var n;const s=this.normalizeInstanceIdentifier(r==null?void 0:r.identifier),i=(n=r==null?void 0:r.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(yH(r))try{this.getOrInitializeService({instanceIdentifier:Bd})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});s.resolve(o)}catch{}}}}clearInstance(r=Bd){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...r.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=Bd){return this.instances.has(r)}getOptions(r=Bd){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:n={}}=r,s=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);s===c&&l.resolve(i)}return i}onInit(r,n){var s;const i=this.normalizeInstanceIdentifier(n),o=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;o.add(r),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&r(l,i),()=>{o.delete(r)}}invokeOnInitCallbacks(r,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(r,n)}catch{}}getOrInitializeService({instanceIdentifier:r,options:n={}}){let s=this.instances.get(r);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gH(r),options:n}),this.instances.set(r,s),this.instancesOptions.set(r,n),this.invokeOnInitCallbacks(s,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,s)}catch{}return s||null}normalizeInstanceIdentifier(r=Bd){return this.component?this.component.multipleInstances?r:Bd:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gH(t){return t===Bd?void 0:t}function yH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const n=this.getProvider(r.name);if(n.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);n.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const n=new mH(r,this);return this.providers.set(r,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(zn||(zn={}));const vH={debug:zn.DEBUG,verbose:zn.VERBOSE,info:zn.INFO,warn:zn.WARN,error:zn.ERROR,silent:zn.SILENT},bH=zn.INFO,wH={[zn.DEBUG]:"log",[zn.VERBOSE]:"log",[zn.INFO]:"info",[zn.WARN]:"warn",[zn.ERROR]:"error"},jH=(t,r,...n)=>{if(r<t.logLevel)return;const s=new Date().toISOString(),i=wH[r];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};let RF=class{constructor(r){this.name=r,this._logLevel=bH,this._logHandler=jH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in zn))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?vH[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,zn.DEBUG,...r),this._logHandler(this,zn.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,zn.VERBOSE,...r),this._logHandler(this,zn.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,zn.INFO,...r),this._logHandler(this,zn.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,zn.WARN,...r),this._logHandler(this,zn.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,zn.ERROR,...r),this._logHandler(this,zn.ERROR,...r)}};const NH=(t,r)=>r.some(n=>t instanceof n);let lC,cC;function SH(){return lC||(lC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BH(){return cC||(cC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MF=new WeakMap,y5=new WeakMap,QF=new WeakMap,zb=new WeakMap,cN=new WeakMap;function CH(t){const r=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Pu(t.result)),i()},l=()=>{s(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return r.then(n=>{n instanceof IDBCursor&&MF.set(n,t)}).catch(()=>{}),cN.set(r,t),r}function _H(t){if(y5.has(t))return;const r=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});y5.set(t,r)}let x5={get(t,r,n){if(t instanceof IDBTransaction){if(r==="done")return y5.get(t);if(r==="objectStoreNames")return t.objectStoreNames||QF.get(t);if(r==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pu(t[r])},set(t,r,n){return t[r]=n,!0},has(t,r){return t instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in t}};function EH(t){x5=t(x5)}function kH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...n){const s=t.call(Kb(this),r,...n);return QF.set(s,r.sort?r.sort():[r]),Pu(s)}:BH().includes(t)?function(...r){return t.apply(Kb(this),r),Pu(MF.get(this))}:function(...r){return Pu(t.apply(Kb(this),r))}}function TH(t){return typeof t=="function"?kH(t):(t instanceof IDBTransaction&&_H(t),NH(t,SH())?new Proxy(t,x5):t)}function Pu(t){if(t instanceof IDBRequest)return CH(t);if(zb.has(t))return zb.get(t);const r=TH(t);return r!==t&&(zb.set(t,r),cN.set(r,t)),r}const Kb=t=>cN.get(t);function OH(t,r,{blocked:n,upgrade:s,blocking:i,terminated:o}={}){const l=indexedDB.open(t,r),c=Pu(l);return s&&l.addEventListener("upgradeneeded",u=>{s(Pu(l.result),u.oldVersion,u.newVersion,Pu(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const FH=["get","getKey","getAll","getAllKeys","count"],IH=["put","add","delete","clear"],Gb=new Map;function uC(t,r){if(!(t instanceof IDBDatabase&&!(r in t)&&typeof r=="string"))return;if(Gb.get(r))return Gb.get(r);const n=r.replace(/FromIndex$/,""),s=r!==n,i=IH.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||FH.includes(n)))return;const o=async function(l,...c){const u=this.transaction(l,i?"readwrite":"readonly");let d=u.store;return s&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&u.done]))[0]};return Gb.set(r,o),o}EH(t=>({...t,get:(r,n,s)=>uC(r,n)||t.get(r,n,s),has:(r,n)=>!!uC(r,n)||t.has(r,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LH(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LH(t){const r=t.getComponent();return(r==null?void 0:r.type)==="VERSION"}const v5="@firebase/app",dC="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new RF("@firebase/app"),DH="@firebase/app-compat",UH="@firebase/analytics-compat",RH="@firebase/analytics",MH="@firebase/app-check-compat",QH="@firebase/app-check",$H="@firebase/auth",HH="@firebase/auth-compat",VH="@firebase/database",zH="@firebase/data-connect",KH="@firebase/database-compat",GH="@firebase/functions",WH="@firebase/functions-compat",qH="@firebase/installations",YH="@firebase/installations-compat",XH="@firebase/messaging",JH="@firebase/messaging-compat",ZH="@firebase/performance",eV="@firebase/performance-compat",tV="@firebase/remote-config",rV="@firebase/remote-config-compat",nV="@firebase/storage",sV="@firebase/storage-compat",iV="@firebase/firestore",aV="@firebase/ai",oV="@firebase/firestore-compat",lV="firebase",cV="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="[DEFAULT]",uV={[v5]:"fire-core",[DH]:"fire-core-compat",[RH]:"fire-analytics",[UH]:"fire-analytics-compat",[QH]:"fire-app-check",[MH]:"fire-app-check-compat",[$H]:"fire-auth",[HH]:"fire-auth-compat",[VH]:"fire-rtdb",[zH]:"fire-data-connect",[KH]:"fire-rtdb-compat",[GH]:"fire-fn",[WH]:"fire-fn-compat",[qH]:"fire-iid",[YH]:"fire-iid-compat",[XH]:"fire-fcm",[JH]:"fire-fcm-compat",[ZH]:"fire-perf",[eV]:"fire-perf-compat",[tV]:"fire-rc",[rV]:"fire-rc-compat",[nV]:"fire-gcs",[sV]:"fire-gcs-compat",[iV]:"fire-fst",[oV]:"fire-fst-compat",[aV]:"fire-vertex","fire-js":"fire-js",[lV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Map,dV=new Map,w5=new Map;function AC(t,r){try{t.container.addComponent(r)}catch(n){Cc.debug(`Component ${r.name} failed to register with FirebaseApp ${t.name}`,n)}}function mh(t){const r=t.name;if(w5.has(r))return Cc.debug(`There were multiple attempts to register component ${r}.`),!1;w5.set(r,t);for(const n of Rx.values())AC(n,t);for(const n of dV.values())AC(n,t);return!0}function uN(t,r){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(r)}function bo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lu=new jm("app","Firebase",AV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(r,n,s){this._isDeleted=!1,this._options=Object.assign({},r),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new cA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw Lu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=cV;function $F(t,r={}){let n=t;typeof r!="object"&&(r={name:r});const s=Object.assign({name:b5,automaticDataCollectionEnabled:!0},r),i=s.name;if(typeof i!="string"||!i)throw Lu.create("bad-app-name",{appName:String(i)});if(n||(n=PF()),!n)throw Lu.create("no-options");const o=Rx.get(i);if(o){if(ph(n,o.options)&&ph(s,o.config))return o;throw Lu.create("duplicate-app",{appName:i})}const l=new xH(i);for(const u of w5.values())l.addComponent(u);const c=new fV(n,s,l);return Rx.set(i,c),c}function HF(t=b5){const r=Rx.get(t);if(!r&&t===b5&&PF())return $F();if(!r)throw Lu.create("no-app",{appName:t});return r}function Du(t,r,n){var s;let i=(s=uV[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=r.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${r}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${r}" contains illegal characters (whitespace or "/")`),Cc.warn(c.join(" "));return}mh(new cA(`${i}-version`,()=>({library:i,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="firebase-heartbeat-database",pV=1,M0="firebase-heartbeat-store";let Wb=null;function VF(){return Wb||(Wb=OH(hV,pV,{upgrade:(t,r)=>{switch(r){case 0:try{t.createObjectStore(M0)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lu.create("idb-open",{originalErrorMessage:t.message})})),Wb}async function mV(t){try{const n=(await VF()).transaction(M0),s=await n.objectStore(M0).get(zF(t));return await n.done,s}catch(r){if(r instanceof Lc)Cc.warn(r.message);else{const n=Lu.create("idb-get",{originalErrorMessage:r==null?void 0:r.message});Cc.warn(n.message)}}}async function fC(t,r){try{const s=(await VF()).transaction(M0,"readwrite");await s.objectStore(M0).put(r,zF(t)),await s.done}catch(n){if(n instanceof Lc)Cc.warn(n.message);else{const s=Lu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cc.warn(s.message)}}}function zF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=1024,yV=30;class xV{constructor(r){this.container=r,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bV(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var r,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hC();if(((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>yV){const l=wV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Cc.warn(s)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hC(),{heartbeatsToSend:s,unsentEntries:i}=vV(this._heartbeatsCache.heartbeats),o=Ux(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Cc.warn(n),""}}}function hC(){return new Date().toISOString().substring(0,10)}function vV(t,r=gV){const n=[];let s=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),pC(n)>r){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pC(n)>r){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class bV{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oH()?lH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fC(this.app,{lastSentHeartbeatDate:(n=r.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fC(this.app,{lastSentHeartbeatDate:(n=r.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...r.heartbeats]})}else return}}function pC(t){return Ux(JSON.stringify({version:2,heartbeats:t})).length}function wV(t){if(t.length===0)return-1;let r=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,r=s);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){mh(new cA("platform-logger",r=>new PH(r),"PRIVATE")),mh(new cA("heartbeat",r=>new xV(r),"PRIVATE")),Du(v5,dC,t),Du(v5,dC,"esm2017"),Du("fire-js","")}jV("");function dN(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function KF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NV=KF,GF=new jm("auth","Firebase",KF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new RF("@firebase/auth");function SV(t,...r){Mx.logLevel<=zn.WARN&&Mx.warn(`Auth (${Oh}): ${t}`,...r)}function Vy(t,...r){Mx.logLevel<=zn.ERROR&&Mx.error(`Auth (${Oh}): ${t}`,...r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t,...r){throw AN(t,...r)}function kl(t,...r){return AN(t,...r)}function WF(t,r,n){const s=Object.assign(Object.assign({},NV()),{[r]:n});return new jm("auth","Firebase",s).create(r,{appName:t.name})}function yc(t){return WF(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AN(t,...r){if(typeof t!="string"){const n=r[0],s=[...r.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return GF.create(t,...r)}function Br(t,r,...n){if(!t)throw AN(r,...n)}function pc(t){const r="INTERNAL ASSERTION FAILED: "+t;throw Vy(r),new Error(r)}function _c(t,r){t||pc(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function BV(){return mC()==="http:"||mC()==="https:"}function mC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BV()||sH()||"connection"in navigator)?navigator.onLine:!0}function _V(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(r,n){this.shortDelay=r,this.longDelay=n,_c(n>r,"Short delay should be less than long delay!"),this.isMobile=rH()||iH()}get(){return CV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t,r){_c(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return r?`${n}${r.startsWith("/")?r.slice(1):r}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{static initialize(r,n,s){this.fetchImpl=r,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TV=new Sm(3e4,6e4);function ad(t,r){return t.tenantId&&!r.tenantId?Object.assign(Object.assign({},r),{tenantId:t.tenantId}):r}async function od(t,r,n,s,i={}){return YF(t,i,async()=>{let o={},l={};s&&(r==="GET"?l=s:o={body:JSON.stringify(s)});const c=Nm(Object.assign({key:t.config.apiKey},l)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:r,headers:u},o);return nH()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Th(t.emulatorConfig.host)&&(d.credentials="include"),qF.fetch()(await XF(t,t.config.apiHost,n,c),d)})}async function YF(t,r,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},EV),r);try{const i=new FV(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Dg(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dg(t,"credential-already-in-use",l);if(u==="EMAIL_EXISTS")throw Dg(t,"email-already-in-use",l);if(u==="USER_DISABLED")throw Dg(t,"user-disabled",l);const A=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw WF(t,A,d);il(t,A)}}catch(i){if(i instanceof Lc)throw i;il(t,"network-request-failed",{message:String(i)})}}async function Bm(t,r,n,s,i={}){const o=await od(t,r,n,s,i);return"mfaPendingCredential"in o&&il(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function XF(t,r,n,s){const i=`${r}${n}?${s}`,o=t,l=o.config.emulator?fN(t.config,i):`${t.config.apiScheme}://${i}`;return kV.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function OV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(r){this.auth=r,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(kl(this.auth,"network-request-failed")),TV.get())})}}function Dg(t,r,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=kl(t,r,s);return i.customData._tokenResponse=n,i}function gC(t){return t!==void 0&&t.enterprise!==void 0}class IV{constructor(r){if(this.siteKey="",this.recaptchaEnforcementState=[],r.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=r.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=r.recaptchaEnforcementState}getProviderEnforcementState(r){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===r)return OV(n.enforcementState);return null}isProviderEnabled(r){return this.getProviderEnforcementState(r)==="ENFORCE"||this.getProviderEnforcementState(r)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PV(t,r){return od(t,"GET","/v2/recaptchaConfig",ad(t,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t,r){return od(t,"POST","/v1/accounts:delete",r)}async function Qx(t,r){return od(t,"POST","/v1/accounts:lookup",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t){if(t)try{const r=new Date(Number(t));if(!isNaN(r.getTime()))return r.toUTCString()}catch{}}async function DV(t,r=!1){const n=ko(t),s=await n.getIdToken(r),i=hN(s);Br(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:s,authTime:t0(qb(i.auth_time)),issuedAtTime:t0(qb(i.iat)),expirationTime:t0(qb(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function qb(t){return Number(t)*1e3}function hN(t){const[r,n,s]=t.split(".");if(r===void 0||n===void 0||s===void 0)return Vy("JWT malformed, contained fewer than 3 sections"),null;try{const i=FF(n);return i?JSON.parse(i):(Vy("Failed to decode base64 JWT payload"),null)}catch(i){return Vy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yC(t){const r=hN(t);return Br(r,"internal-error"),Br(typeof r.exp<"u","internal-error"),Br(typeof r.iat<"u","internal-error"),Number(r.exp)-Number(r.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q0(t,r,n=!1){if(n)return r;try{return await r}catch(s){throw s instanceof Lc&&UV(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function UV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(r){this.user=r,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(r){var n;if(r){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(r=!1){if(!this.isRunning)return;const n=this.getInterval(r);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(r){(r==null?void 0:r.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(r,n){this.createdAt=r,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=t0(this.lastLoginAt),this.creationTime=t0(this.createdAt)}_copy(r){this.createdAt=r.createdAt,this.lastLoginAt=r.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(t){var r;const n=t.auth,s=await t.getIdToken(),i=await Q0(t,Qx(n,{idToken:s}));Br(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((r=o.providerUserInfo)===null||r===void 0)&&r.length?JF(o.providerUserInfo):[],c=QV(t.providerData,l),u=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),A=u?d:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new N5(o.createdAt,o.lastLoginAt),isAnonymous:A};Object.assign(t,f)}async function MV(t){const r=ko(t);await $x(r),await r.auth._persistUserIfCurrent(r),r.auth._notifyListenersIfCurrent(r)}function QV(t,r){return[...t.filter(s=>!r.some(i=>i.providerId===s.providerId)),...r]}function JF(t){return t.map(r=>{var{providerId:n}=r,s=dN(r,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(t,r){const n=await YF(t,{},async()=>{const s=Nm({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await XF(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:s};return t.emulatorConfig&&Th(t.emulatorConfig.host)&&(u.credentials="include"),qF.fetch()(l,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HV(t,r){return od(t,"POST","/v2/accounts:revokeToken",ad(t,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(r){Br(r.idToken,"internal-error"),Br(typeof r.idToken<"u","internal-error"),Br(typeof r.refreshToken<"u","internal-error");const n="expiresIn"in r&&typeof r.expiresIn<"u"?Number(r.expiresIn):yC(r.idToken);this.updateTokensAndExpiration(r.idToken,r.refreshToken,n)}updateFromIdToken(r){Br(r.length!==0,"internal-error");const n=yC(r);this.updateTokensAndExpiration(r,null,n)}async getToken(r,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Br(this.refreshToken,r,"user-token-expired"),this.refreshToken?(await this.refresh(r,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(r,n){const{accessToken:s,refreshToken:i,expiresIn:o}=await $V(r,n);this.updateTokensAndExpiration(s,i,Number(o))}updateTokensAndExpiration(r,n,s){this.refreshToken=n||null,this.accessToken=r||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(r,n){const{refreshToken:s,accessToken:i,expirationTime:o}=n,l=new Gf;return s&&(Br(typeof s=="string","internal-error",{appName:r}),l.refreshToken=s),i&&(Br(typeof i=="string","internal-error",{appName:r}),l.accessToken=i),o&&(Br(typeof o=="number","internal-error",{appName:r}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(r){this.accessToken=r.accessToken,this.refreshToken=r.refreshToken,this.expirationTime=r.expirationTime}_clone(){return Object.assign(new Gf,this.toJSON())}_performRefresh(){return pc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t,r){Br(typeof t=="string"||typeof t>"u","internal-error",{appName:r})}class Jo{constructor(r){var{uid:n,auth:s,stsTokenManager:i}=r,o=dN(r,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new N5(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(r){const n=await Q0(this,this.stsTokenManager.getToken(this.auth,r));return Br(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(r){return DV(this,r)}reload(){return MV(this)}_assign(r){this!==r&&(Br(this.uid===r.uid,this.auth,"internal-error"),this.displayName=r.displayName,this.photoURL=r.photoURL,this.email=r.email,this.emailVerified=r.emailVerified,this.phoneNumber=r.phoneNumber,this.isAnonymous=r.isAnonymous,this.tenantId=r.tenantId,this.providerData=r.providerData.map(n=>Object.assign({},n)),this.metadata._copy(r.metadata),this.stsTokenManager._assign(r.stsTokenManager))}_clone(r){const n=new Jo(Object.assign(Object.assign({},this),{auth:r,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(r){Br(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=r,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(r){this.reloadListener?this.reloadListener(r):this.reloadUserInfo=r}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(r,n=!1){let s=!1;r.idToken&&r.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(r),s=!0),n&&await $x(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bo(this.auth.app))return Promise.reject(yc(this.auth));const r=await this.getIdToken();return await Q0(this,LV(this.auth,{idToken:r})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(r=>Object.assign({},r)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(r,n){var s,i,o,l,c,u,d,A;const f=(s=n.displayName)!==null&&s!==void 0?s:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(l=n.photoURL)!==null&&l!==void 0?l:void 0,g=(c=n.tenantId)!==null&&c!==void 0?c:void 0,b=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,y=(d=n.createdAt)!==null&&d!==void 0?d:void 0,x=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:v,emailVerified:w,isAnonymous:_,providerData:B,stsTokenManager:N}=n;Br(v&&N,r,"internal-error");const j=Gf.fromJSON(this.name,N);Br(typeof v=="string",r,"internal-error"),Zc(f,r.name),Zc(h,r.name),Br(typeof w=="boolean",r,"internal-error"),Br(typeof _=="boolean",r,"internal-error"),Zc(p,r.name),Zc(m,r.name),Zc(g,r.name),Zc(b,r.name),Zc(y,r.name),Zc(x,r.name);const C=new Jo({uid:v,auth:r,email:h,emailVerified:w,displayName:f,isAnonymous:_,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:j,createdAt:y,lastLoginAt:x});return B&&Array.isArray(B)&&(C.providerData=B.map(E=>Object.assign({},E))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(r,n,s=!1){const i=new Gf;i.updateFromServerResponse(n);const o=new Jo({uid:n.localId,auth:r,stsTokenManager:i,isAnonymous:s});return await $x(o),o}static async _fromGetAccountInfoResponse(r,n,s){const i=n.users[0];Br(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?JF(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new Gf;c.updateFromIdToken(s);const u=new Jo({uid:i.localId,auth:r,stsTokenManager:c,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new N5(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new Map;function mc(t){_c(t instanceof Function,"Expected a class definition");let r=xC.get(t);return r?(_c(r instanceof t,"Instance stored in cache mismatched with class"),r):(r=new t,xC.set(t,r),r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(r,n){this.storage[r]=n}async _get(r){const n=this.storage[r];return n===void 0?null:n}async _remove(r){delete this.storage[r]}_addListener(r,n){}_removeListener(r,n){}}ZF.type="NONE";const vC=ZF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t,r,n){return`firebase:${t}:${r}:${n}`}class Wf{constructor(r,n,s){this.persistence=r,this.auth=n,this.userKey=s;const{config:i,name:o}=this.auth;this.fullUserKey=zy(this.userKey,i.apiKey,o),this.fullPersistenceKey=zy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(r){return this.persistence._set(this.fullUserKey,r.toJSON())}async getCurrentUser(){const r=await this.persistence._get(this.fullUserKey);if(!r)return null;if(typeof r=="string"){const n=await Qx(this.auth,{idToken:r}).catch(()=>{});return n?Jo._fromGetAccountInfoResponse(this.auth,n,r):null}return Jo._fromJSON(this.auth,r)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(r){if(this.persistence===r)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=r,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(r,n,s="authUser"){if(!n.length)return new Wf(mc(vC),r,s);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||mc(vC);const l=zy(s,r.config.apiKey,r.name);let c=null;for(const d of n)try{const A=await d._get(l);if(A){let f;if(typeof A=="string"){const h=await Qx(r,{idToken:A}).catch(()=>{});if(!h)break;f=await Jo._fromGetAccountInfoResponse(r,h,A)}else f=Jo._fromJSON(r,A);d!==o&&(c=f),o=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Wf(o,r,s):(o=u[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Wf(o,r,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){const r=t.toLowerCase();if(r.includes("opera/")||r.includes("opr/")||r.includes("opios/"))return"Opera";if(nI(r))return"IEMobile";if(r.includes("msie")||r.includes("trident/"))return"IE";if(r.includes("edge/"))return"Edge";if(eI(r))return"Firefox";if(r.includes("silk/"))return"Silk";if(iI(r))return"Blackberry";if(aI(r))return"Webos";if(tI(r))return"Safari";if((r.includes("chrome/")||rI(r))&&!r.includes("edge/"))return"Chrome";if(sI(r))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function eI(t=pa()){return/firefox\//i.test(t)}function tI(t=pa()){const r=t.toLowerCase();return r.includes("safari/")&&!r.includes("chrome/")&&!r.includes("crios/")&&!r.includes("android")}function rI(t=pa()){return/crios\//i.test(t)}function nI(t=pa()){return/iemobile/i.test(t)}function sI(t=pa()){return/android/i.test(t)}function iI(t=pa()){return/blackberry/i.test(t)}function aI(t=pa()){return/webos/i.test(t)}function pN(t=pa()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VV(t=pa()){var r;return pN(t)&&!!(!((r=window.navigator)===null||r===void 0)&&r.standalone)}function zV(){return aH()&&document.documentMode===10}function oI(t=pa()){return pN(t)||sI(t)||aI(t)||iI(t)||/windows phone/i.test(t)||nI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t,r=[]){let n;switch(t){case"Browser":n=bC(pa());break;case"Worker":n=`${bC(pa())}-${t}`;break;default:n=t}const s=r.length?r.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oh}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(r){this.auth=r,this.queue=[]}pushCallback(r,n){const s=o=>new Promise((l,c)=>{try{const u=r(o);l(u)}catch(u){c(u)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(r){if(this.auth.currentUser===r)return;const n=[];try{for(const s of this.queue)await s(r),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t,r={}){return od(t,"GET","/v2/passwordPolicy",ad(t,r))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=6;class qV{constructor(r){var n,s,i,o;const l=r.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:WV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=r.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=r.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=r.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=r.schemaVersion}validatePassword(r){var n,s,i,o,l,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(r,u),this.validatePasswordCharacterOptions(r,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(s=u.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNumericCharacter)!==null&&l!==void 0?l:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(r,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=r.length>=s),i&&(n.meetsMaxPasswordLength=r.length<=i)}validatePasswordCharacterOptions(r,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<r.length;i++)s=r.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(r,n,s,i,o){this.customStrengthOptions.containsLowercaseLetter&&(r.containsLowercaseLetter||(r.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(r.containsUppercaseLetter||(r.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(r.containsNumericCharacter||(r.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(r.containsNonAlphanumericCharacter||(r.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(r,n,s,i){this.app=r,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wC(this),this.idTokenSubscription=new wC(this),this.beforeStateQueue=new KV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=r.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(r,n){return n&&(this._popupRedirectResolver=mc(n)),this._initializationPromise=this.queue(async()=>{var s,i,o;if(!this._deleted&&(this.persistenceManager=await Wf.create(this,r),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const r=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!r)){if(this.currentUser&&r&&this.currentUser.uid===r.uid){this._currentUser._assign(r),await this.currentUser.getIdToken();return}await this._updateCurrentUser(r,!0)}}async initializeCurrentUserFromIdToken(r){try{const n=await Qx(this,{idToken:r}),s=await Jo._fromGetAccountInfoResponse(this,n,r);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(r){var n;if(bo(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,o=!1;if(r&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(r);(!l||l===c)&&(u!=null&&u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Br(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(r){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,r,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(r){try{await $x(r)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(r)}useDeviceLanguage(){this.languageCode=_V()}async _delete(){this._deleted=!0}async updateCurrentUser(r){if(bo(this.app))return Promise.reject(yc(this));const n=r?ko(r):null;return n&&Br(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(r,n=!1){if(!this._deleted)return r&&Br(this.tenantId===r.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(r),this.queue(async()=>{await this.directlySetCurrentUser(r),this.notifyAuthListeners()})}async signOut(){return bo(this.app)?Promise.reject(yc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(r){return bo(this.app)?Promise.reject(yc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mc(r))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(r){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(r)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const r=await GV(this),n=new qV(r);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(r){this._errorFactory=new jm("auth","Firebase",r())}onAuthStateChanged(r,n,s){return this.registerStateListener(this.authStateSubscription,r,n,s)}beforeAuthStateChanged(r,n){return this.beforeStateQueue.pushCallback(r,n)}onIdTokenChanged(r,n,s){return this.registerStateListener(this.idTokenSubscription,r,n,s)}authStateReady(){return new Promise((r,n)=>{if(this.currentUser)r();else{const s=this.onAuthStateChanged(()=>{s(),r()},n)}})}async revokeAccessToken(r){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:r,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await HV(this,s)}}toJSON(){var r;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(r=this._currentUser)===null||r===void 0?void 0:r.toJSON()}}async _setRedirectUser(r,n){const s=await this.getOrInitRedirectPersistenceManager(n);return r===null?s.removeCurrentUser():s.setCurrentUser(r)}async getOrInitRedirectPersistenceManager(r){if(!this.redirectPersistenceManager){const n=r&&mc(r)||this._popupRedirectResolver;Br(n,this,"argument-error"),this.redirectPersistenceManager=await Wf.create(this,[mc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(r){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===r?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===r?this.redirectUser:null}async _persistUserIfCurrent(r){if(r===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(r))}_notifyListenersIfCurrent(r){r===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(r=this.currentUser)===null||r===void 0?void 0:r.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(r,n,s,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Br(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const u=r.addObserver(n,s,i);return()=>{l=!0,u()}}else{const u=r.addObserver(n);return()=>{l=!0,u()}}}async directlySetCurrentUser(r){this.currentUser&&this.currentUser!==r&&this._currentUser._stopProactiveRefresh(),r&&this.isProactiveRefreshEnabled&&r._startProactiveRefresh(),this.currentUser=r,r?await this.assertedPersistence.setCurrentUser(r):await this.assertedPersistence.removeCurrentUser()}queue(r){return this.operations=this.operations.then(r,r),this.operations}get assertedPersistence(){return Br(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(r){!r||this.frameworks.includes(r)||(this.frameworks.push(r),this.frameworks.sort(),this.clientVersion=lI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||r===void 0?void 0:r.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var r;if(bo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||r===void 0?void 0:r.getToken());return n!=null&&n.error&&SV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function BA(t){return ko(t)}class wC{constructor(r){this.auth=r,this.observer=null,this.addObserver=fH(n=>this.observer=n)}get next(){return Br(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XV(t){c1=t}function cI(t){return c1.loadJS(t)}function JV(){return c1.recaptchaEnterpriseScript}function ZV(){return c1.gapiScript}function ez(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tz{constructor(){this.enterprise=new rz}ready(r){r()}execute(r,n){return Promise.resolve("token")}render(r,n){return""}}class rz{ready(r){r()}execute(r,n){return Promise.resolve("token")}render(r,n){return""}}const nz="recaptcha-enterprise",uI="NO_RECAPTCHA";class sz{constructor(r){this.type=nz,this.auth=BA(r)}async verify(r="verify",n=!1){async function s(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{PV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new IV(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(u=>{c(u)})})}function i(o,l,c){const u=window.grecaptcha;gC(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:r}).then(d=>{l(d)}).catch(()=>{l(uI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tz().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{s(this.auth).then(c=>{if(!n&&gC(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let u=JV();u.length!==0&&(u+=c),cI(u).then(()=>{i(c,o,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function jC(t,r,n,s=!1,i=!1){const o=new sz(t);let l;if(i)l=uI;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},r);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return s?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function S5(t,r,n,s,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await jC(t,r,n,n==="getOobCode");return s(t,l)}else return s(t,r).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await jC(t,r,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t,r){const n=uN(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ph(o,r??{}))return i;il(i,"already-initialized")}return n.initialize({options:r})}function az(t,r){const n=(r==null?void 0:r.persistence)||[],s=(Array.isArray(n)?n:[n]).map(mc);r!=null&&r.errorMap&&t._updateErrorMap(r.errorMap),t._initializeWithPersistence(s,r==null?void 0:r.popupRedirectResolver)}function oz(t,r,n){const s=BA(t);Br(/^https?:\/\//.test(r),s,"invalid-emulator-scheme");const i=!1,o=dI(r),{host:l,port:c}=lz(r),u=c===null?"":`:${c}`,d={url:`${o}//${l}${u}/`},A=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Br(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Br(ph(d,s.config.emulator)&&ph(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Th(l)?(DF(`${o}//${l}${u}`),UF("Auth",!0)):cz()}function dI(t){const r=t.indexOf(":");return r<0?"":t.substr(0,r+1)}function lz(t){const r=dI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(r.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const o=i[1];return{host:o,port:NC(s.substr(o.length+1))}}else{const[o,l]=s.split(":");return{host:o,port:NC(l)}}}function NC(t){if(!t)return null;const r=Number(t);return isNaN(r)?null:r}function cz(){function t(){const r=document.createElement("p"),n=r.style;r.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",r.classList.add("firebase-emulator-warning"),document.body.appendChild(r)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(r,n){this.providerId=r,this.signInMethod=n}toJSON(){return pc("not implemented")}_getIdTokenResponse(r){return pc("not implemented")}_linkToIdToken(r,n){return pc("not implemented")}_getReauthenticationResolver(r){return pc("not implemented")}}async function uz(t,r){return od(t,"POST","/v1/accounts:signUp",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,r){return Bm(t,"POST","/v1/accounts:signInWithPassword",ad(t,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(t,r){return Bm(t,"POST","/v1/accounts:signInWithEmailLink",ad(t,r))}async function fz(t,r){return Bm(t,"POST","/v1/accounts:signInWithEmailLink",ad(t,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends mN{constructor(r,n,s,i=null){super("password",s),this._email=r,this._password=n,this._tenantId=i}static _fromEmailAndPassword(r,n){return new $0(r,n,"password")}static _fromEmailAndCode(r,n,s=null){return new $0(r,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(r){const n=typeof r=="string"?JSON.parse(r):r;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(r){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S5(r,n,"signInWithPassword",dz);case"emailLink":return Az(r,{email:this._email,oobCode:this._password});default:il(r,"internal-error")}}async _linkToIdToken(r,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S5(r,s,"signUpPassword",uz);case"emailLink":return fz(r,{idToken:n,email:this._email,oobCode:this._password});default:il(r,"internal-error")}}_getReauthenticationResolver(r){return this._getIdTokenResponse(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(t,r){return Bm(t,"POST","/v1/accounts:signInWithIdp",ad(t,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz="http://localhost";class uA extends mN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(r){const n=new uA(r.providerId,r.signInMethod);return r.idToken||r.accessToken?(r.idToken&&(n.idToken=r.idToken),r.accessToken&&(n.accessToken=r.accessToken),r.nonce&&!r.pendingToken&&(n.nonce=r.nonce),r.pendingToken&&(n.pendingToken=r.pendingToken)):r.oauthToken&&r.oauthTokenSecret?(n.accessToken=r.oauthToken,n.secret=r.oauthTokenSecret):il("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(r){const n=typeof r=="string"?JSON.parse(r):r,{providerId:s,signInMethod:i}=n,o=dN(n,["providerId","signInMethod"]);if(!s||!i)return null;const l=new uA(s,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(r){const n=this.buildRequest();return qf(r,n)}_linkToIdToken(r,n){const s=this.buildRequest();return s.idToken=n,qf(r,s)}_getReauthenticationResolver(r){const n=this.buildRequest();return n.autoCreate=!1,qf(r,n)}buildRequest(){const r={requestUri:hz,returnSecureToken:!0};if(this.pendingToken)r.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),r.postBody=Nm(n)}return r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mz(t){const r=Op(Fp(t)).link,n=r?Op(Fp(r)).deep_link_id:null,s=Op(Fp(t)).deep_link_id;return(s?Op(Fp(s)).link:null)||s||n||r||t}class gN{constructor(r){var n,s,i,o,l,c;const u=Op(Fp(r)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,A=(s=u.oobCode)!==null&&s!==void 0?s:null,f=pz((i=u.mode)!==null&&i!==void 0?i:null);Br(d&&A&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=A,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=u.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(r){const n=mz(r);try{return new gN(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this.providerId=Fh.PROVIDER_ID}static credential(r,n){return $0._fromEmailAndPassword(r,n)}static credentialWithLink(r,n){const s=gN.parseLink(n);return Br(s,"argument-error"),$0._fromEmailAndCode(r,s.code,s.tenantId)}}Fh.PROVIDER_ID="password";Fh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(r){this.providerId=r,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(r){this.defaultLanguageCode=r}setCustomParameters(r){return this.customParameters=r,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends AI{constructor(){super(...arguments),this.scopes=[]}addScope(r){return this.scopes.includes(r)||this.scopes.push(r),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends Cm{constructor(){super("facebook.com")}static credential(r){return uA._fromParams({providerId:du.PROVIDER_ID,signInMethod:du.FACEBOOK_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return du.credentialFromTaggedObject(r)}static credentialFromError(r){return du.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return du.credential(r.oauthAccessToken)}catch{return null}}}du.FACEBOOK_SIGN_IN_METHOD="facebook.com";du.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends Cm{constructor(){super("google.com"),this.addScope("profile")}static credential(r,n){return uA._fromParams({providerId:Au.PROVIDER_ID,signInMethod:Au.GOOGLE_SIGN_IN_METHOD,idToken:r,accessToken:n})}static credentialFromResult(r){return Au.credentialFromTaggedObject(r)}static credentialFromError(r){return Au.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthIdToken:n,oauthAccessToken:s}=r;if(!n&&!s)return null;try{return Au.credential(n,s)}catch{return null}}}Au.GOOGLE_SIGN_IN_METHOD="google.com";Au.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Cm{constructor(){super("github.com")}static credential(r){return uA._fromParams({providerId:fu.PROVIDER_ID,signInMethod:fu.GITHUB_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return fu.credentialFromTaggedObject(r)}static credentialFromError(r){return fu.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return fu.credential(r.oauthAccessToken)}catch{return null}}}fu.GITHUB_SIGN_IN_METHOD="github.com";fu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Cm{constructor(){super("twitter.com")}static credential(r,n){return uA._fromParams({providerId:hu.PROVIDER_ID,signInMethod:hu.TWITTER_SIGN_IN_METHOD,oauthToken:r,oauthTokenSecret:n})}static credentialFromResult(r){return hu.credentialFromTaggedObject(r)}static credentialFromError(r){return hu.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=r;if(!n||!s)return null;try{return hu.credential(n,s)}catch{return null}}}hu.TWITTER_SIGN_IN_METHOD="twitter.com";hu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(t,r){return Bm(t,"POST","/v1/accounts:signUp",ad(t,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(r){this.user=r.user,this.providerId=r.providerId,this._tokenResponse=r._tokenResponse,this.operationType=r.operationType}static async _fromIdTokenResponse(r,n,s,i=!1){const o=await Jo._fromIdTokenResponse(r,s,i),l=SC(s);return new dA({user:o,providerId:l,_tokenResponse:s,operationType:n})}static async _forOperation(r,n,s){await r._updateTokensIfNecessary(s,!0);const i=SC(s);return new dA({user:r,providerId:i,_tokenResponse:s,operationType:n})}}function SC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx extends Lc{constructor(r,n,s,i){var o;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Hx.prototype),this.customData={appName:r.name,tenantId:(o=r.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(r,n,s,i){return new Hx(r,n,s,i)}}function fI(t,r,n,s){return(r==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Hx._fromErrorAndOperation(t,o,r,s):o})}async function yz(t,r,n=!1){const s=await Q0(t,r._linkToIdToken(t.auth,await t.getIdToken()),n);return dA._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(t,r,n=!1){const{auth:s}=t;if(bo(s.app))return Promise.reject(yc(s));const i="reauthenticate";try{const o=await Q0(t,fI(s,i,r,t),n);Br(o.idToken,s,"internal-error");const l=hN(o.idToken);Br(l,s,"internal-error");const{sub:c}=l;return Br(t.uid===c,s,"user-mismatch"),dA._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&il(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(t,r,n=!1){if(bo(t.app))return Promise.reject(yc(t));const s="signIn",i=await fI(t,s,r),o=await dA._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(o.user),o}async function vz(t,r){return hI(BA(t),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(t){const r=BA(t);r._getPasswordPolicyInternal()&&await r._updatePasswordPolicy()}async function bz(t,r,n){if(bo(t.app))return Promise.reject(yc(t));const s=BA(t),l=await S5(s,{returnSecureToken:!0,email:r,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gz).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&pI(t),u}),c=await dA._fromIdTokenResponse(s,"signIn",l);return await s._updateCurrentUser(c.user),c}function BC(t,r,n){return bo(t.app)?Promise.reject(yc(t)):vz(ko(t),Fh.credential(r,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&pI(t),s})}function wz(t,r,n,s){return ko(t).onIdTokenChanged(r,n,s)}function jz(t,r,n){return ko(t).beforeAuthStateChanged(r,n)}function Nz(t){return ko(t).signOut()}const Vx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(r,n){this.storageRetriever=r,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vx,"1"),this.storage.removeItem(Vx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(r,n){return this.storage.setItem(r,JSON.stringify(n)),Promise.resolve()}_get(r){const n=this.storage.getItem(r);return Promise.resolve(n?JSON.parse(n):null)}_remove(r){return this.storage.removeItem(r),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=1e3,Bz=10;class gI extends mI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(r,n)=>this.onStorageEvent(r,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oI(),this._shouldAllowMigration=!0}forAllChangedKeys(r){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&r(n,i,s)}}onStorageEvent(r,n=!1){if(!r.key){this.forAllChangedKeys((l,c,u)=>{this.notifyListeners(l,u)});return}const s=r.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(s);!n&&this.localCache[s]===l||this.notifyListeners(s,l)},o=this.storage.getItem(s);zV()&&o!==r.newValue&&r.newValue!==r.oldValue?setTimeout(i,Bz):i()}notifyListeners(r,n){this.localCache[r]=n;const s=this.listeners[r];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((r,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:n,newValue:s}),!0)})},Sz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(r,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[r]||(this.listeners[r]=new Set,this.localCache[r]=this.storage.getItem(r)),this.listeners[r].add(n)}_removeListener(r,n){this.listeners[r]&&(this.listeners[r].delete(n),this.listeners[r].size===0&&delete this.listeners[r]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(r,n){await super._set(r,n),this.localCache[r]=JSON.stringify(n)}async _get(r){const n=await super._get(r);return this.localCache[r]=JSON.stringify(n),n}async _remove(r){await super._remove(r),delete this.localCache[r]}}gI.type="LOCAL";const Cz=gI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends mI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(r,n){}_removeListener(r,n){}}yI.type="SESSION";const xI=yI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(t){return Promise.all(t.map(async r=>{try{return{fulfilled:!0,value:await r}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(r){this.eventTarget=r,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(r){const n=this.receivers.find(i=>i.isListeningto(r));if(n)return n;const s=new u1(r);return this.receivers.push(s),s}isListeningto(r){return this.eventTarget===r}async handleEvent(r){const n=r,{eventId:s,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const c=Array.from(l).map(async d=>d(n.origin,o)),u=await _z(c);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:u})}_subscribe(r,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[r]||(this.handlersMap[r]=new Set),this.handlersMap[r].add(n)}_unsubscribe(r,n){this.handlersMap[r]&&n&&this.handlersMap[r].delete(n),(!n||this.handlersMap[r].size===0)&&delete this.handlersMap[r],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}u1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t="",r=10){let n="";for(let s=0;s<r;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(r){this.target=r,this.handlers=new Set}removeMessageHandler(r){r.messageChannel&&(r.messageChannel.port1.removeEventListener("message",r.onMessage),r.messageChannel.port1.close()),this.handlers.delete(r)}async _send(r,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,u)=>{const d=yN("",20);i.port1.start();const A=setTimeout(()=>{u(new Error("unsupported_event"))},s);l={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===d)switch(h.data.status){case"ack":clearTimeout(A),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(A),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:r,eventId:d,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(){return window}function kz(t){Tl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){return typeof Tl().WorkerGlobalScope<"u"&&typeof Tl().importScripts=="function"}async function Tz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Oz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Fz(){return vI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="firebaseLocalStorageDb",Iz=1,zx="firebaseLocalStorage",wI="fbase_key";class _m{constructor(r){this.request=r}toPromise(){return new Promise((r,n)=>{this.request.addEventListener("success",()=>{r(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function d1(t,r){return t.transaction([zx],r?"readwrite":"readonly").objectStore(zx)}function Pz(){const t=indexedDB.deleteDatabase(bI);return new _m(t).toPromise()}function B5(){const t=indexedDB.open(bI,Iz);return new Promise((r,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(zx,{keyPath:wI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(zx)?r(s):(s.close(),await Pz(),r(await B5()))})})}async function CC(t,r,n){const s=d1(t,!0).put({[wI]:r,value:n});return new _m(s).toPromise()}async function Lz(t,r){const n=d1(t,!1).get(r),s=await new _m(n).toPromise();return s===void 0?null:s.value}function _C(t,r){const n=d1(t,!0).delete(r);return new _m(n).toPromise()}const Dz=800,Uz=3;class jI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await B5(),this.db)}async _withRetries(r){let n=0;for(;;)try{const s=await this._openDb();return await r(s)}catch(s){if(n++>Uz)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=u1._getInstance(Fz()),this.receiver._subscribe("keyChanged",async(r,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(r,n)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await Tz(),!this.activeServiceWorker)return;this.sender=new Ez(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((r=s[0])===null||r===void 0)&&r.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(r){if(!(!this.sender||!this.activeServiceWorker||Oz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:r},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const r=await B5();return await CC(r,Vx,"1"),await _C(r,Vx),!0}catch{}return!1}async _withPendingWrite(r){this.pendingWrites++;try{await r()}finally{this.pendingWrites--}}async _set(r,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>CC(s,r,n)),this.localCache[r]=n,this.notifyServiceWorker(r)))}async _get(r){const n=await this._withRetries(s=>Lz(s,r));return this.localCache[r]=n,n}async _remove(r){return this._withPendingWrite(async()=>(await this._withRetries(n=>_C(n,r)),delete this.localCache[r],this.notifyServiceWorker(r)))}async _poll(){const r=await this._withRetries(i=>{const o=d1(i,!1).getAll();return new _m(o).toPromise()});if(!r)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(r.length!==0)for(const{fbase_key:i,value:o}of r)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(r,n){this.localCache[r]=n;const s=this.listeners[r];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(r,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[r]||(this.listeners[r]=new Set,this._get(r)),this.listeners[r].add(n)}_removeListener(r,n){this.listeners[r]&&(this.listeners[r].delete(n),this.listeners[r].size===0&&delete this.listeners[r]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jI.type="LOCAL";const Rz=jI;new Sm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t,r){return r?mc(r):(Br(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN extends mN{constructor(r){super("custom","custom"),this.params=r}_getIdTokenResponse(r){return qf(r,this._buildIdpRequest())}_linkToIdToken(r,n){return qf(r,this._buildIdpRequest(n))}_getReauthenticationResolver(r){return qf(r,this._buildIdpRequest())}_buildIdpRequest(r){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return r&&(n.idToken=r),n}}function Qz(t){return hI(t.auth,new xN(t),t.bypassAuthState)}function $z(t){const{auth:r,user:n}=t;return Br(n,r,"internal-error"),xz(n,new xN(t),t.bypassAuthState)}async function Hz(t){const{auth:r,user:n}=t;return Br(n,r,"internal-error"),yz(n,new xN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(r,n,s,i,o=!1){this.auth=r,this.resolver=s,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(r,n)=>{this.pendingPromise={resolve:r,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(r){const{urlResponse:n,sessionId:s,postBody:i,tenantId:o,error:l,type:c}=r;if(l){this.reject(l);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(r){this.reject(r)}getIdpTask(r){switch(r){case"signInViaPopup":case"signInViaRedirect":return Qz;case"linkViaPopup":case"linkViaRedirect":return Hz;case"reauthViaPopup":case"reauthViaRedirect":return $z;default:il(this.auth,"internal-error")}}resolve(r){_c(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(r),this.unregisterAndCleanUp()}reject(r){_c(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(r),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=new Sm(2e3,1e4);class _f extends NI{constructor(r,n,s,i,o){super(r,n,i,o),this.provider=s,this.authWindow=null,this.pollId=null,_f.currentPopupAction&&_f.currentPopupAction.cancel(),_f.currentPopupAction=this}async executeNotNull(){const r=await this.execute();return Br(r,this.auth,"internal-error"),r}async onExecution(){_c(this.filter.length===1,"Popup operations only handle one event");const r=yN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],r),this.authWindow.associatedEvent=r,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var r;return((r=this.authWindow)===null||r===void 0?void 0:r.associatedEvent)||null}cancel(){this.reject(kl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_f.currentPopupAction=null}pollUserCancellation(){const r=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(r,Vz.get())};r()}}_f.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz="pendingRedirect",Ky=new Map;class Kz extends NI{constructor(r,n,s=!1){super(r,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let r=Ky.get(this.auth._key());if(!r){try{const s=await Gz(this.resolver,this.auth)?await super.execute():null;r=()=>Promise.resolve(s)}catch(n){r=()=>Promise.reject(n)}Ky.set(this.auth._key(),r)}return this.bypassAuthState||Ky.set(this.auth._key(),()=>Promise.resolve(null)),r()}async onAuthEvent(r){if(r.type==="signInViaRedirect")return super.onAuthEvent(r);if(r.type==="unknown"){this.resolve(null);return}if(r.eventId){const n=await this.auth._redirectUserForId(r.eventId);if(n)return this.user=n,super.onAuthEvent(r);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gz(t,r){const n=Yz(r),s=qz(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function Wz(t,r){Ky.set(t._key(),r)}function qz(t){return mc(t._redirectPersistence)}function Yz(t){return zy(zz,t.config.apiKey,t.name)}async function Xz(t,r,n=!1){if(bo(t.app))return Promise.reject(yc(t));const s=BA(t),i=Mz(s,r),l=await new Kz(s,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await s._persistUserIfCurrent(l.user),await s._setRedirectUser(null,r)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=10*60*1e3;class Zz{constructor(r){this.auth=r,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(r){this.consumers.add(r),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,r)&&(this.sendToConsumer(this.queuedRedirectEvent,r),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(r){this.consumers.delete(r)}onEvent(r){if(this.hasEventBeenHandled(r))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(r,s)&&(n=!0,this.sendToConsumer(r,s),this.saveEventToCache(r))}),this.hasHandledPotentialRedirect||!eK(r)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=r,n=!0)),n}sendToConsumer(r,n){var s;if(r.error&&!SI(r)){const i=((s=r.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(kl(this.auth,i))}else n.onAuthEvent(r)}isEventForConsumer(r,n){const s=n.eventId===null||!!r.eventId&&r.eventId===n.eventId;return n.filter.includes(r.type)&&s}hasEventBeenHandled(r){return Date.now()-this.lastProcessedEventTime>=Jz&&this.cachedEventUids.clear(),this.cachedEventUids.has(EC(r))}saveEventToCache(r){this.cachedEventUids.add(EC(r)),this.lastProcessedEventTime=Date.now()}}function EC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(r=>r).join("-")}function SI({type:t,error:r}){return t==="unknown"&&(r==null?void 0:r.code)==="auth/no-auth-event"}function eK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tK(t,r={}){return od(t,"GET","/v1/projects",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nK=/^https?/;async function sK(t){if(t.config.emulator)return;const{authorizedDomains:r}=await tK(t);for(const n of r)try{if(iK(n))return}catch{}il(t,"unauthorized-domain")}function iK(t){const r=j5(),{protocol:n,hostname:s}=new URL(r);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===r.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===s}if(!nK.test(n))return!1;if(rK.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=new Sm(3e4,6e4);function kC(){const t=Tl().___jsl;if(t!=null&&t.H){for(const r of Object.keys(t.H))if(t.H[r].r=t.H[r].r||[],t.H[r].L=t.H[r].L||[],t.H[r].r=[...t.H[r].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oK(t){return new Promise((r,n)=>{var s,i,o;function l(){kC(),gapi.load("gapi.iframes",{callback:()=>{r(gapi.iframes.getContext())},ontimeout:()=>{kC(),n(kl(t,"network-request-failed"))},timeout:aK.get()})}if(!((i=(s=Tl().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)r(gapi.iframes.getContext());else if(!((o=Tl().gapi)===null||o===void 0)&&o.load)l();else{const c=ez("iframefcb");return Tl()[c]=()=>{gapi.load?l():n(kl(t,"network-request-failed"))},cI(`${ZV()}?onload=${c}`).catch(u=>n(u))}}).catch(r=>{throw Gy=null,r})}let Gy=null;function lK(t){return Gy=Gy||oK(t),Gy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK=new Sm(5e3,15e3),uK="__/auth/iframe",dK="emulator/auth/iframe",AK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hK(t){const r=t.config;Br(r.authDomain,t,"auth-domain-config-required");const n=r.emulator?fN(r,dK):`https://${t.config.authDomain}/${uK}`,s={apiKey:r.apiKey,appName:t.name,v:Oh},i=fK.get(t.config.apiHost);i&&(s.eid=i);const o=t._getFrameworks();return o.length&&(s.fw=o.join(",")),`${n}?${Nm(s).slice(1)}`}async function pK(t){const r=await lK(t),n=Tl().gapi;return Br(n,t,"internal-error"),r.open({where:document.body,url:hK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AK,dontclear:!0},s=>new Promise(async(i,o)=>{await s.restyle({setHideOnLeave:!1});const l=kl(t,"network-request-failed"),c=Tl().setTimeout(()=>{o(l)},cK.get());function u(){Tl().clearTimeout(c),i(s)}s.ping(u).then(u,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gK=500,yK=600,xK="_blank",vK="http://localhost";class TC{constructor(r){this.window=r,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bK(t,r,n,s=gK,i=yK){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-s)/2,0).toString();let c="";const u=Object.assign(Object.assign({},mK),{width:s.toString(),height:i.toString(),top:o,left:l}),d=pa().toLowerCase();n&&(c=rI(d)?xK:n),eI(d)&&(r=r||vK,u.scrollbars="yes");const A=Object.entries(u).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(VV(d)&&c!=="_self")return wK(r||"",c),new TC(null);const f=window.open(r||"",c,A);Br(f,t,"popup-blocked");try{f.focus()}catch{}return new TC(f)}function wK(t,r){const n=document.createElement("a");n.href=t,n.target=r;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK="__/auth/handler",NK="emulator/auth/handler",SK=encodeURIComponent("fac");async function OC(t,r,n,s,i,o){Br(t.config.authDomain,t,"auth-domain-config-required"),Br(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Oh,eventId:i};if(r instanceof AI){r.setDefaultLanguage(t.languageCode),l.providerId=r.providerId||"",AH(r.getCustomParameters())||(l.customParameters=JSON.stringify(r.getCustomParameters()));for(const[A,f]of Object.entries({}))l[A]=f}if(r instanceof Cm){const A=r.getScopes().filter(f=>f!=="");A.length>0&&(l.scopes=A.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const A of Object.keys(c))c[A]===void 0&&delete c[A];const u=await t._getAppCheckToken(),d=u?`#${SK}=${encodeURIComponent(u)}`:"";return`${BK(t)}?${Nm(c).slice(1)}${d}`}function BK({config:t}){return t.emulator?fN(t,NK):`https://${t.authDomain}/${jK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="webStorageSupport";class CK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xI,this._completeRedirectFn=Xz,this._overrideRedirectResult=Wz}async _openPopup(r,n,s,i){var o;_c((o=this.eventManagers[r._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await OC(r,n,s,j5(),i);return bK(r,l,yN())}async _openRedirect(r,n,s,i){await this._originValidation(r);const o=await OC(r,n,s,j5(),i);return kz(o),new Promise(()=>{})}_initialize(r){const n=r._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_c(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(r);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(r){const n=await pK(r),s=new Zz(r);return n.register("authEvent",i=>(Br(i==null?void 0:i.authEvent,r,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[r._key()]={manager:s},this.iframes[r._key()]=n,s}_isIframeWebStorageSupported(r,n){this.iframes[r._key()].send(Yb,{type:Yb},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Yb];l!==void 0&&n(!!l),il(r,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(r){const n=r._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sK(r)),this.originValidationPromises[n]}get _shouldInitProactively(){return oI()||tI()||pN()}}const _K=CK;var FC="@firebase/auth",IC="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(r){this.auth=r,this.internalListeners=new Map}getUid(){var r;return this.assertAuthConfigured(),((r=this.auth.currentUser)===null||r===void 0?void 0:r.uid)||null}async getToken(r){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(r)}:null}addAuthTokenListener(r){if(this.assertAuthConfigured(),this.internalListeners.has(r))return;const n=this.auth.onIdTokenChanged(s=>{r((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(r,n),this.updateProactiveRefresh()}removeAuthTokenListener(r){this.assertAuthConfigured();const n=this.internalListeners.get(r);n&&(this.internalListeners.delete(r),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Br(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TK(t){mh(new cA("auth",(r,{options:n})=>{const s=r.getProvider("app").getImmediate(),i=r.getProvider("heartbeat"),o=r.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=s.options;Br(l&&!l.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lI(t)},d=new YV(s,i,o,u);return az(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,n,s)=>{r.getProvider("auth-internal").initialize()})),mh(new cA("auth-internal",r=>{const n=BA(r.getProvider("auth").getImmediate());return(s=>new EK(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Du(FC,IC,kK(t)),Du(FC,IC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK=5*60,FK=LF("authIdTokenMaxAge")||OK;let PC=null;const IK=t=>async r=>{const n=r&&await r.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>FK)return;const i=n==null?void 0:n.token;PC!==i&&(PC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function PK(t=HF()){const r=uN(t,"auth");if(r.isInitialized())return r.getImmediate();const n=iz(t,{popupRedirectResolver:_K,persistence:[Rz,Cz,xI]}),s=LF("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const l=IK(o.toString());jz(n,l,()=>l(n.currentUser)),wz(n,c=>l(c))}}const i=IF("auth");return i&&oz(n,`http://${i}`),n}function LK(){var t,r;return(r=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&r!==void 0?r:document}XV({loadJS(t){return new Promise((r,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=r,s.onerror=i=>{const o=kl("internal-error");o.customData=i,n(o)},s.type="text/javascript",s.charset="UTF-8",LK().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TK("Browser");var DK="firebase",UK="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Du(DK,UK,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="firebasestorage.googleapis.com",CI="storageBucket",RK=2*60*1e3,MK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Lc{constructor(r,n,s=0){super(Xb(r),`Firebase Storage: ${n} (${Xb(r)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gs.prototype)}get status(){return this.status_}set status(r){this.status_=r}_codeEquals(r){return Xb(r)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(r){this.customData.serverResponse=r,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ms;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ms||(ms={}));function Xb(t){return"storage/"+t}function vN(){const t="An unknown error occurred, please check the error payload for server response.";return new gs(ms.UNKNOWN,t)}function QK(t){return new gs(ms.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $K(t){return new gs(ms.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function HK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gs(ms.UNAUTHENTICATED,t)}function VK(){return new gs(ms.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zK(t){return new gs(ms.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function KK(){return new gs(ms.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GK(){return new gs(ms.CANCELED,"User canceled the upload/download.")}function WK(t){return new gs(ms.INVALID_URL,"Invalid URL '"+t+"'.")}function qK(t){return new gs(ms.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function YK(){return new gs(ms.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CI+"' property when initializing the app?")}function XK(){return new gs(ms.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JK(){return new gs(ms.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ZK(t){return new gs(ms.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Kx(t){return new gs(ms.INVALID_ARGUMENT,t)}function _I(){return new gs(ms.APP_DELETED,"The Firebase app was deleted.")}function EI(t){return new gs(ms.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function r0(t,r){return new gs(ms.INVALID_FORMAT,"String does not match format '"+t+"': "+r)}function pp(t){throw new gs(ms.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(r,n){this.bucket=r,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const r=encodeURIComponent;return"/b/"+r(this.bucket)+"/o/"+r(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(r,n){let s;try{s=_a.makeFromUrl(r,n)}catch{return new _a(r,"")}if(s.path==="")return s;throw qK(r)}static makeFromUrl(r,n){let s=null;const i="([A-Za-z0-9.\\-_]+)";function o(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),u={bucket:1,path:3};function d(w){w.path_=decodeURIComponent(w.path)}const A="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${A}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=n===BI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",y=new RegExp(`^https?://${g}/${i}/${b}`,"i"),v=[{regex:c,indices:u,postModify:o},{regex:p,indices:m,postModify:d},{regex:y,indices:{bucket:1,path:2},postModify:d}];for(let w=0;w<v.length;w++){const _=v[w],B=_.regex.exec(r);if(B){const N=B[_.indices.bucket];let j=B[_.indices.path];j||(j=""),s=new _a(N,j),_.postModify(s);break}}if(s==null)throw WK(r);return s}}class eG{constructor(r){this.promise_=Promise.reject(r)}getPromise(){return this.promise_}cancel(r=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tG(t,r,n){let s=1,i=null,o=null,l=!1,c=0;function u(){return c===2}let d=!1;function A(...b){d||(d=!0,r.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,t(p,u())},b)}function h(){o&&clearTimeout(o)}function p(b,...y){if(d){h();return}if(b){h(),A.call(null,b,...y);return}if(u()||l){h(),A.call(null,b,...y);return}s<64&&(s*=2);let v;c===1?(c=2,v=0):v=(s+Math.random())*1e3,f(v)}let m=!1;function g(b){m||(m=!0,h(),!d&&(i!==null?(b||(c=2),clearTimeout(i),f(0)):b||(c=1)))}return f(0),o=setTimeout(()=>{l=!0,g(!0)},n),g}function rG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(t){return t!==void 0}function sG(t){return typeof t=="object"&&!Array.isArray(t)}function bN(t){return typeof t=="string"||t instanceof String}function LC(t){return wN()&&t instanceof Blob}function wN(){return typeof Blob<"u"}function DC(t,r,n,s){if(s<r)throw Kx(`Invalid value for '${t}'. Expected ${r} or greater.`);if(s>n)throw Kx(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t,r,n){let s=r;return n==null&&(s=`https://${r}`),`${n}://${s}/v0${t}`}function kI(t){const r=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const i=r(s)+"="+r(t[s]);n=n+i+"&"}return n=n.slice(0,-1),n}var Hd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Hd||(Hd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iG(t,r){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=r.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(r,n,s,i,o,l,c,u,d,A,f,h=!0,p=!1){this.url_=r,this.method_=n,this.headers_=s,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=A,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const r=(s,i)=>{if(i){s(!1,new Ug(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const u=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Hd.NO_ERROR,u=o.getStatus();if(!c||iG(u,this.additionalRetryCodes_)&&this.retry){const A=o.getErrorCode()===Hd.ABORT;s(!1,new Ug(!1,null,A));return}const d=this.successCodes_.indexOf(u)!==-1;s(!0,new Ug(d,o))})},n=(s,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());nG(u)?o(u):o()}catch(u){l(u)}else if(c!==null){const u=vN();u.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,u)):l(u)}else if(i.canceled){const u=this.appDelete_?_I():GK();l(u)}else{const u=KK();l(u)}};this.canceled_?n(!1,new Ug(!1,null,!0)):this.backoffId_=tG(r,n,this.timeout_)}getPromise(){return this.promise_}cancel(r){this.canceled_=!0,this.appDelete_=r||!1,this.backoffId_!==null&&rG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ug{constructor(r,n,s){this.wasSuccessCode=r,this.connection=n,this.canceled=!!s}}function oG(t,r){r!==null&&r.length>0&&(t.Authorization="Firebase "+r)}function lG(t,r){t["X-Firebase-Storage-Version"]="webjs/"+(r??"AppManager")}function cG(t,r){r&&(t["X-Firebase-GMPID"]=r)}function uG(t,r){r!==null&&(t["X-Firebase-AppCheck"]=r)}function dG(t,r,n,s,i,o,l=!0,c=!1){const u=kI(t.urlParams),d=t.url+u,A=Object.assign({},t.headers);return cG(A,r),oG(A,n),lG(A,o),uG(A,s),new aG(d,t.method,A,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function fG(...t){const r=AG();if(r!==void 0){const n=new r;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(wN())return new Blob(t);throw new gs(ms.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function hG(t,r,n){return t.webkitSlice?t.webkitSlice(r,n):t.mozSlice?t.mozSlice(r,n):t.slice?t.slice(r,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(t){if(typeof atob>"u")throw ZK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jb{constructor(r,n){this.data=r,this.contentType=n||null}}function TI(t,r){switch(t){case Zo.RAW:return new Jb(OI(r));case Zo.BASE64:case Zo.BASE64URL:return new Jb(FI(t,r));case Zo.DATA_URL:return new Jb(gG(r),yG(r))}throw vN()}function OI(t){const r=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)r.push(s);else if(s<=2047)r.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))r.push(239,191,189);else{const o=s,l=t.charCodeAt(++n);s=65536|(o&1023)<<10|l&1023,r.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?r.push(239,191,189):r.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(r)}function mG(t){let r;try{r=decodeURIComponent(t)}catch{throw r0(Zo.DATA_URL,"Malformed data URL.")}return OI(r)}function FI(t,r){switch(t){case Zo.BASE64:{const i=r.indexOf("-")!==-1,o=r.indexOf("_")!==-1;if(i||o)throw r0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Zo.BASE64URL:{const i=r.indexOf("+")!==-1,o=r.indexOf("/")!==-1;if(i||o)throw r0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pG(r)}catch(i){throw i.message.includes("polyfill")?i:r0(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}class II{constructor(r){this.base64=!1,this.contentType=null;const n=r.match(/^data:([^,]+)?,/);if(n===null)throw r0(Zo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=xG(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=r.substring(r.indexOf(",")+1)}}function gG(t){const r=new II(t);return r.base64?FI(Zo.BASE64,r.rest):mG(r.rest)}function yG(t){return new II(t).contentType}function xG(t,r){return t.length>=r.length?t.substring(t.length-r.length)===r:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(r,n){let s=0,i="";LC(r)?(this.data_=r,s=r.size,i=r.type):r instanceof ArrayBuffer?(n?this.data_=new Uint8Array(r):(this.data_=new Uint8Array(r.byteLength),this.data_.set(new Uint8Array(r))),s=this.data_.length):r instanceof Uint8Array&&(n?this.data_=r:(this.data_=new Uint8Array(r.length),this.data_.set(r)),s=r.length),this.size_=s,this.type_=i}size(){return this.size_}type(){return this.type_}slice(r,n){if(LC(this.data_)){const s=this.data_,i=hG(s,r,n);return i===null?null:new Ac(i)}else{const s=new Uint8Array(this.data_.buffer,r,n-r);return new Ac(s,!0)}}static getBlob(...r){if(wN()){const n=r.map(s=>s instanceof Ac?s.data_:s);return new Ac(fG.apply(null,n))}else{const n=r.map(l=>bN(l)?TI(Zo.RAW,l).data:l.data_);let s=0;n.forEach(l=>{s+=l.byteLength});const i=new Uint8Array(s);let o=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)i[o++]=l[c]}),new Ac(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t){let r;try{r=JSON.parse(t)}catch{return null}return sG(r)?r:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vG(t){if(t.length===0)return null;const r=t.lastIndexOf("/");return r===-1?"":t.slice(0,r)}function bG(t,r){const n=r.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function LI(t){const r=t.lastIndexOf("/",t.length-2);return r===-1?t:t.slice(r+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(t,r){return r}class aa{constructor(r,n,s,i){this.server=r,this.local=n||r,this.writable=!!s,this.xform=i||wG}}let Rg=null;function jG(t){return!bN(t)||t.length<2?t:LI(t)}function DI(){if(Rg)return Rg;const t=[];t.push(new aa("bucket")),t.push(new aa("generation")),t.push(new aa("metageneration")),t.push(new aa("name","fullPath",!0));function r(o,l){return jG(l)}const n=new aa("name");n.xform=r,t.push(n);function s(o,l){return l!==void 0?Number(l):l}const i=new aa("size");return i.xform=s,t.push(i),t.push(new aa("timeCreated")),t.push(new aa("updated")),t.push(new aa("md5Hash",null,!0)),t.push(new aa("cacheControl",null,!0)),t.push(new aa("contentDisposition",null,!0)),t.push(new aa("contentEncoding",null,!0)),t.push(new aa("contentLanguage",null,!0)),t.push(new aa("contentType",null,!0)),t.push(new aa("metadata","customMetadata",!0)),Rg=t,Rg}function NG(t,r){function n(){const s=t.bucket,i=t.fullPath,o=new _a(s,i);return r._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function SG(t,r,n){const s={};s.type="file";const i=n.length;for(let o=0;o<i;o++){const l=n[o];s[l.local]=l.xform(s,r[l.server])}return NG(s,t),s}function UI(t,r,n){const s=PI(r);return s===null?null:SG(t,s,n)}function BG(t,r,n,s){const i=PI(r);if(i===null||!bN(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(d=>{const A=t.bucket,f=t.fullPath,h="/b/"+l(A)+"/o/"+l(f),p=jN(h,n,s),m=kI({alt:"media",token:d});return p+m})[0]}function CG(t,r){const n={},s=r.length;for(let i=0;i<s;i++){const o=r[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class RI{constructor(r,n,s,i){this.url=r,this.method=n,this.handler=s,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t){if(!t)throw vN()}function _G(t,r){function n(s,i){const o=UI(t,i,r);return MI(o!==null),o}return n}function EG(t,r){function n(s,i){const o=UI(t,i,r);return MI(o!==null),BG(o,i,t.host,t._protocol)}return n}function QI(t){function r(n,s){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=VK():i=HK():n.getStatus()===402?i=$K(t.bucket):n.getStatus()===403?i=zK(t.path):i=s,i.status=n.getStatus(),i.serverResponse=s.serverResponse,i}return r}function kG(t){const r=QI(t);function n(s,i){let o=r(s,i);return s.getStatus()===404&&(o=QK(t.path)),o.serverResponse=i.serverResponse,o}return n}function TG(t,r,n){const s=r.fullServerUrl(),i=jN(s,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,c=new RI(i,o,EG(t,n),l);return c.errorHandler=kG(r),c}function OG(t,r){return t&&t.contentType||r&&r.type()||"application/octet-stream"}function FG(t,r,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=r.size(),s.contentType||(s.contentType=OG(null,r)),s}function IG(t,r,n,s,i){const o=r.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let v="";for(let w=0;w<2;w++)v=v+Math.random().toString().slice(2);return v}const u=c();l["Content-Type"]="multipart/related; boundary="+u;const d=FG(r,s,i),A=CG(d,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+A+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,h=`\r
--`+u+"--",p=Ac.getBlob(f,s,h);if(p===null)throw XK();const m={name:d.fullPath},g=jN(o,t.host,t._protocol),b="POST",y=t.maxUploadRetryTime,x=new RI(g,b,_G(t,n),y);return x.urlParams=m,x.headers=l,x.body=p.uploadData(),x.errorHandler=QI(r),x}class PG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hd.NO_ERROR,this.sendPromise_=new Promise(r=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hd.ABORT,r()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hd.NETWORK_ERROR,r()}),this.xhr_.addEventListener("load",()=>{r()})})}send(r,n,s,i,o){if(this.sent_)throw pp("cannot .send() more than once");if(Th(r)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,r,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(r){return this.xhr_.getResponseHeader(r)}addUploadProgressListener(r){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",r)}removeUploadProgressListener(r){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",r)}}class LG extends PG{initXhr(){this.xhr_.responseType="text"}}function $I(){return new LG}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(r,n){this._service=r,n instanceof _a?this._location=n:this._location=_a.makeFromUrl(n,r.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(r,n){return new AA(r,n)}get root(){const r=new _a(this._location.bucket,"");return this._newRef(this._service,r)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LI(this._location.path)}get storage(){return this._service}get parent(){const r=vG(this._location.path);if(r===null)return null;const n=new _a(this._location.bucket,r);return new AA(this._service,n)}_throwIfRoot(r){if(this._location.path==="")throw EI(r)}}function DG(t,r,n){t._throwIfRoot("uploadBytes");const s=IG(t.storage,t._location,DI(),new Ac(r,!0),n);return t.storage.makeRequestWithTokens(s,$I).then(i=>({metadata:i,ref:t}))}function UG(t){t._throwIfRoot("getDownloadURL");const r=TG(t.storage,t._location,DI());return t.storage.makeRequestWithTokens(r,$I).then(n=>{if(n===null)throw JK();return n})}function RG(t,r){const n=bG(t._location.path,r),s=new _a(t._location.bucket,n);return new AA(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MG(t){return/^[A-Za-z]+:\/\//.test(t)}function QG(t,r){return new AA(t,r)}function HI(t,r){if(t instanceof NN){const n=t;if(n._bucket==null)throw YK();const s=new AA(n,n._bucket);return r!=null?HI(s,r):s}else return r!==void 0?RG(t,r):t}function $G(t,r){if(r&&MG(r)){if(t instanceof NN)return QG(t,r);throw Kx("To use ref(service, url), the first argument must be a Storage instance.")}else return HI(t,r)}function UC(t,r){const n=r==null?void 0:r[CI];return n==null?null:_a.makeFromBucketSpec(n,t)}function HG(t,r,n,s={}){t.host=`${r}:${n}`;const i=Th(r);i&&(DF(`https://${t.host}/b`),UF("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=s;o&&(t._overrideAuthToken=typeof o=="string"?o:Z$(o,t.app.options.projectId))}class NN{constructor(r,n,s,i,o,l=!1){this.app=r,this._authProvider=n,this._appCheckProvider=s,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=BI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RK,this._maxUploadRetryTime=MK,this._requests=new Set,i!=null?this._bucket=_a.makeFromBucketSpec(i,this._host):this._bucket=UC(this._host,this.app.options)}get host(){return this._host}set host(r){this._host=r,this._url!=null?this._bucket=_a.makeFromBucketSpec(this._url,r):this._bucket=UC(r,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(r){DC("time",0,Number.POSITIVE_INFINITY,r),this._maxUploadRetryTime=r}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(r){DC("time",0,Number.POSITIVE_INFINITY,r),this._maxOperationRetryTime=r}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const r=this._authProvider.getImmediate({optional:!0});if(r){const n=await r.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(bo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=this._appCheckProvider.getImmediate({optional:!0});return r?(await r.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(r=>r.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(r){return new AA(this,r)}_makeRequest(r,n,s,i,o=!0){if(this._deleted)return new eG(_I());{const l=dG(r,this._appId,s,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(r,n){const[s,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(r,n,s,i).getPromise()}}const RC="@firebase/storage",MC="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="storage";function Ol(t,r,n){return t=ko(t),DG(t,r,n)}function Fl(t){return t=ko(t),UG(t)}function Il(t,r){return t=ko(t),$G(t,r)}function zI(t=HF(),r){t=ko(t);const s=uN(t,VI).getImmediate({identifier:r}),i=X$("storage");return i&&KI(s,...i),s}function KI(t,r,n,s={}){HG(t,r,n,s)}function VG(t,{instanceIdentifier:r}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new NN(n,s,i,r,Oh)}function zG(){mh(new cA(VI,VG,"PUBLIC").setMultipleInstances(!0)),Du(RC,MC,""),Du(RC,MC,"esm2017")}zG();const KG=Object.freeze(Object.defineProperty({__proto__:null,StorageError:gs,get StorageErrorCode(){return ms},StringFormat:Zo,_FbsBlob:Ac,_Location:_a,_dataFromString:TI,_invalidArgument:Kx,_invalidRootOperation:EI,connectStorageEmulator:KI,getDownloadURL:Fl,getStorage:zI,ref:Il,uploadBytes:Ol},Symbol.toStringTag,{value:"Module"})),GG={apiKey:"AIzaSyCg8I0ffnAWnoXOf_2nECrwY2CS6RQItUs",authDomain:"all-in-one-98568.firebaseapp.com",projectId:"all-in-one-98568",storageBucket:"all-in-one-98568.firebasestorage.app",messagingSenderId:"86801808333",appId:"1:86801808333:web:7bd536c9fa784b32ed2284"},GI=$F(GG),Pl=zI(GI),uf=PK(GI),WG=Object.freeze(Object.defineProperty({__proto__:null,auth:uf,storage:Pl},Symbol.toStringTag,{value:"Module"})),WI=te.createContext(),On=()=>{const t=te.useContext(WI);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},qG=({children:t})=>{const[r,n]=te.useState(null),[s,i]=te.useState(!0);te.useEffect(()=>{o()},[]);const o=async()=>{try{const h=await fetch("http://localhost:10000/api/auth/me",{method:"GET",credentials:"include"});if(h.ok){const p=await h.json();n(p.user)}else n(null)}catch(h){console.error("Error fetching user:",h),n(null)}finally{i(!1)}},f={user:r,login:async(h,p)=>{try{try{await BC(uf,h,p)}catch{return{success:!1,error:"Firebase login failed"}}const m=await fetch("http://localhost:10000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:h,password:p})}),g=await m.json();return m.ok?(n(g.user),{success:!0}):{success:!1,error:g.error}}catch{return{success:!1,error:"Network error"}}},register:async h=>{try{await bz(uf,h.email,h.password),await BC(uf,h.email,h.password);const p=await fetch("http://localhost:10000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(h)}),m=await p.json();if(p.ok)return n(m.user),{success:!0};{const g=uf.currentUser;return g&&await g.delete(),{success:!1,error:m.error}}}catch(p){return{success:!1,error:"Registration failed: "+p.message}}},logout:async()=>{try{await fetch("http://localhost:10000/api/auth/logout",{method:"POST",credentials:"include"})}catch(h){console.error("Error during logout:",h)}finally{n(null),Nz(uf)}},refreshUser:async()=>{try{const h=await fetch("http://localhost:10000/api/auth/me",{method:"GET",credentials:"include"});if(h.ok){const p=await h.json();n(p.user)}else n(null)}catch(h){console.error("Error refreshing user:",h),n(null)}},switchRole:async()=>{try{const h=await fetch("http://localhost:10000/api/auth/switch-role",{method:"PUT",credentials:"include"});if(h.ok){const p=await h.json();return n(m=>({...m,role:p.role})),{success:!0,role:p.role}}else return{success:!1,error:(await h.json()).error}}catch{return{success:!1,error:"Network error"}}},loading:s};return a.jsx(WI.Provider,{value:f,children:t})},qI=te.createContext(),ld=()=>{const t=te.useContext(qI);if(!t)throw new Error("useCart must be used within a CartProvider");return t},YG=({children:t,showToast:r})=>{const[n,s]=te.useState([]),[i,o]=te.useState([]);te.useEffect(()=>{const b=localStorage.getItem("order"),y=localStorage.getItem("bookings");b&&s(JSON.parse(b)),y&&o(JSON.parse(y))},[]),te.useEffect(()=>{localStorage.setItem("order",JSON.stringify(n))},[n]),te.useEffect(()=>{localStorage.setItem("bookings",JSON.stringify(i))},[i]);const l=(b,y=1)=>{if(i.length>0){if(!window.confirm("You have existing bookings in your cart. Adding an order will clear your bookings. Continue?"))return;o([]),r&&r("Bookings cleared to add order items.")}s(x=>{var w;return x.find(_=>_.id===b._id)?x.map(_=>_.id===b._id?{..._,quantity:_.quantity+y}:_):[...x,{id:b._id,title:b.title,price:b.price,image:(w=b.images)==null?void 0:w[0],quantity:y,storeId:typeof b.storeId=="object"?b.storeId._id:b.storeId||b.storeId}]})},c=(b,y)=>{if(n.length>0){if(!window.confirm("You have existing orders in your cart. Adding a booking will clear your orders. Continue?"))return;s([]),r&&r("Orders cleared to add booking items.")}o(x=>{var v;return[...x,{id:b._id,title:b.title,price:b.price,image:(v=b.images)==null?void 0:v[0],bookingDetails:y,storeId:typeof b.storeId=="object"?b.storeId._id:b.storeId||b.storeId}]})},u=b=>{s(y=>y.filter(x=>x.id!==b))},d=(b,y)=>{if(y<=0){u(b);return}s(x=>x.map(v=>v.id===b?{...v,quantity:y}:v))},A=b=>{o(y=>y.filter(x=>x.id!==b))},f=()=>s([]),h=()=>o([]),p=n.reduce((b,y)=>b+y.price*y.quantity,0),m=i.reduce((b,y)=>b+y.price,0),g={orderItems:n,bookingItems:i,addToOrder:l,removeFromOrder:u,updateQuantity:d,addToBooking:c,removeFromBooking:A,clearOrder:f,clearBookings:h,orderTotal:p,bookingTotal:m};return a.jsx(qI.Provider,{value:g,children:t})},$l=Object.create(null);$l.open="0";$l.close="1";$l.ping="2";$l.pong="3";$l.message="4";$l.upgrade="5";$l.noop="6";const Wy=Object.create(null);Object.keys($l).forEach(t=>{Wy[$l[t]]=t});const C5={type:"error",data:"parser error"},YI=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",XI=typeof ArrayBuffer=="function",JI=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,SN=({type:t,data:r},n,s)=>YI&&r instanceof Blob?n?s(r):QC(r,s):XI&&(r instanceof ArrayBuffer||JI(r))?n?s(r):QC(new Blob([r]),s):s($l[t]+(r||"")),QC=(t,r)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];r("b"+(s||""))},n.readAsDataURL(t)};function $C(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Zb;function XG(t,r){if(YI&&t.data instanceof Blob)return t.data.arrayBuffer().then($C).then(r);if(XI&&(t.data instanceof ArrayBuffer||JI(t.data)))return r($C(t.data));SN(t,!1,n=>{Zb||(Zb=new TextEncoder),r(Zb.encode(n))})}const HC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ip=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<HC.length;t++)Ip[HC.charCodeAt(t)]=t;const JG=t=>{let r=t.length*.75,n=t.length,s,i=0,o,l,c,u;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);const d=new ArrayBuffer(r),A=new Uint8Array(d);for(s=0;s<n;s+=4)o=Ip[t.charCodeAt(s)],l=Ip[t.charCodeAt(s+1)],c=Ip[t.charCodeAt(s+2)],u=Ip[t.charCodeAt(s+3)],A[i++]=o<<2|l>>4,A[i++]=(l&15)<<4|c>>2,A[i++]=(c&3)<<6|u&63;return d},ZG=typeof ArrayBuffer=="function",BN=(t,r)=>{if(typeof t!="string")return{type:"message",data:ZI(t,r)};const n=t.charAt(0);return n==="b"?{type:"message",data:eW(t.substring(1),r)}:Wy[n]?t.length>1?{type:Wy[n],data:t.substring(1)}:{type:Wy[n]}:C5},eW=(t,r)=>{if(ZG){const n=JG(t);return ZI(n,r)}else return{base64:!0,data:t}},ZI=(t,r)=>{switch(r){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},e8="",tW=(t,r)=>{const n=t.length,s=new Array(n);let i=0;t.forEach((o,l)=>{SN(o,!1,c=>{s[l]=c,++i===n&&r(s.join(e8))})})},rW=(t,r)=>{const n=t.split(e8),s=[];for(let i=0;i<n.length;i++){const o=BN(n[i],r);if(s.push(o),o.type==="error")break}return s};function nW(){return new TransformStream({transform(t,r){XG(t,n=>{const s=n.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(i[0]|=128),r.enqueue(i),r.enqueue(n)})}})}let ew;function Mg(t){return t.reduce((r,n)=>r+n.length,0)}function Qg(t,r){if(t[0].length===r)return t.shift();const n=new Uint8Array(r);let s=0;for(let i=0;i<r;i++)n[i]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function sW(t,r){ew||(ew=new TextDecoder);const n=[];let s=0,i=-1,o=!1;return new TransformStream({transform(l,c){for(n.push(l);;){if(s===0){if(Mg(n)<1)break;const u=Qg(n,1);o=(u[0]&128)===128,i=u[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(Mg(n)<2)break;const u=Qg(n,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),s=3}else if(s===2){if(Mg(n)<8)break;const u=Qg(n,8),d=new DataView(u.buffer,u.byteOffset,u.length),A=d.getUint32(0);if(A>Math.pow(2,21)-1){c.enqueue(C5);break}i=A*Math.pow(2,32)+d.getUint32(4),s=3}else{if(Mg(n)<i)break;const u=Qg(n,i);c.enqueue(BN(o?u:ew.decode(u),r)),s=0}if(i===0||i>t){c.enqueue(C5);break}}}})}const t8=4;function Zs(t){if(t)return iW(t)}function iW(t){for(var r in Zs.prototype)t[r]=Zs.prototype[r];return t}Zs.prototype.on=Zs.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this};Zs.prototype.once=function(t,r){function n(){this.off(t,n),r.apply(this,arguments)}return n.fn=r,this.on(t,n),this};Zs.prototype.off=Zs.prototype.removeListener=Zs.prototype.removeAllListeners=Zs.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,i=0;i<n.length;i++)if(s=n[i],s===r||s.fn===r){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Zs.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,i=n.length;s<i;++s)n[s].apply(this,r)}return this};Zs.prototype.emitReserved=Zs.prototype.emit;Zs.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Zs.prototype.hasListeners=function(t){return!!this.listeners(t).length};const A1=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,n)=>n(r,0),xo=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),aW="arraybuffer";function r8(t,...r){return r.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const oW=xo.setTimeout,lW=xo.clearTimeout;function f1(t,r){r.useNativeTimers?(t.setTimeoutFn=oW.bind(xo),t.clearTimeoutFn=lW.bind(xo)):(t.setTimeoutFn=xo.setTimeout.bind(xo),t.clearTimeoutFn=xo.clearTimeout.bind(xo))}const cW=1.33;function uW(t){return typeof t=="string"?dW(t):Math.ceil((t.byteLength||t.size)*cW)}function dW(t){let r=0,n=0;for(let s=0,i=t.length;s<i;s++)r=t.charCodeAt(s),r<128?n+=1:r<2048?n+=2:r<55296||r>=57344?n+=3:(s++,n+=4);return n}function n8(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function AW(t){let r="";for(let n in t)t.hasOwnProperty(n)&&(r.length&&(r+="&"),r+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return r}function fW(t){let r={},n=t.split("&");for(let s=0,i=n.length;s<i;s++){let o=n[s].split("=");r[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return r}class hW extends Error{constructor(r,n,s){super(r),this.description=n,this.context=s,this.type="TransportError"}}class CN extends Zs{constructor(r){super(),this.writable=!1,f1(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,n,s){return super.emitReserved("error",new hW(r,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const n=BN(r,this.socket.binaryType);this.onPacket(n)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,n={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const n=AW(r);return n.length?"?"+n:""}}class pW extends CN{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const n=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};rW(r,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,tW(r,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=n8()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(r,n)}}let s8=!1;try{s8=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const mW=s8;function gW(){}class yW extends pW{constructor(r){if(super(r),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||s!==r.port}}doWrite(r,n){const s=this.request({method:"POST",data:r});s.on("success",n),s.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=r}}class Ll extends Zs{constructor(r,n,s){super(),this.createRequest=r,f1(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var r;const n=r8(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Ll.requestsCount++,Ll.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=gW,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ll.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ll.requestsCount=0;Ll.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",VC);else if(typeof addEventListener=="function"){const t="onpagehide"in xo?"pagehide":"unload";addEventListener(t,VC,!1)}}function VC(){for(let t in Ll.requests)Ll.requests.hasOwnProperty(t)&&Ll.requests[t].abort()}const xW=function(){const t=i8({xdomain:!1});return t&&t.responseType!==null}();class vW extends yW{constructor(r){super(r);const n=r&&r.forceBase64;this.supportsBinary=xW&&!n}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new Ll(i8,this.uri(),r)}}function i8(t){const r=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||mW))return new XMLHttpRequest}catch{}if(!r)try{return new xo[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const a8=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class bW extends CN{get name(){return"websocket"}doOpen(){const r=this.uri(),n=this.opts.protocols,s=a8?{}:r8(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,n,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let n=0;n<r.length;n++){const s=r[n],i=n===r.length-1;SN(s,this.supportsBinary,o=>{try{this.doWrite(s,o)}catch{}i&&A1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=n8()),this.supportsBinary||(n.b64=1),this.createUri(r,n)}}const tw=xo.WebSocket||xo.MozWebSocket;class wW extends bW{createSocket(r,n,s){return a8?new tw(r,n,s):n?new tw(r,n):new tw(r)}doWrite(r,n){this.ws.send(n)}}class jW extends CN{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const n=sW(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=r.readable.pipeThrough(n).getReader(),i=nW();i.readable.pipeTo(r.writable),this._writer=i.writable.getWriter();const o=()=>{s.read().then(({done:c,value:u})=>{c||(this.onPacket(u),o())}).catch(c=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let n=0;n<r.length;n++){const s=r[n],i=n===r.length-1;this._writer.write(s).then(()=>{i&&A1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const NW={websocket:wW,webtransport:jW,polling:vW},SW=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,BW=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function _5(t){if(t.length>8e3)throw"URI too long";const r=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let i=SW.exec(t||""),o={},l=14;for(;l--;)o[BW[l]]=i[l]||"";return n!=-1&&s!=-1&&(o.source=r,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=CW(o,o.path),o.queryKey=_W(o,o.query),o}function CW(t,r){const n=/\/{2,9}/g,s=r.replace(n,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&s.splice(0,1),r.slice(-1)=="/"&&s.splice(s.length-1,1),s}function _W(t,r){const n={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,o){i&&(n[i]=o)}),n}const E5=typeof addEventListener=="function"&&typeof removeEventListener=="function",qy=[];E5&&addEventListener("offline",()=>{qy.forEach(t=>t())},!1);class Uu extends Zs{constructor(r,n){if(super(),this.binaryType=aW,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(n=r,r=null),r){const s=_5(r);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=_5(n.host).host);f1(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const i=s.prototype.name;this.transports.push(i),this._transportsByName[i]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=fW(this.opts.query)),E5&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},qy.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const n=Object.assign({},this.opts.query);n.EIO=t8,n.transport=r,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&Uu.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(r);n.open(),this.setTransport(n)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Uu.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=r.data,this._onError(n);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(n+=uW(i)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,A1(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,n,s){return this._sendPacket("message",r,n,s),this}send(r,n,s){return this._sendPacket("message",r,n,s),this}_sendPacket(r,n,s,i){if(typeof n=="function"&&(i=n,n=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:r,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),r()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():r()}):this.upgrading?s():r()),this}_onError(r){if(Uu.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),E5&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=qy.indexOf(this._offlineEventListener);s!==-1&&qy.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,n),this.writeBuffer=[],this._prevBufferLen=0}}}Uu.protocol=t8;class EW extends Uu{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let n=this.createTransport(r),s=!1;Uu.priorWebsocketSuccess=!1;const i=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!s)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Uu.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(A(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function o(){s||(s=!0,A(),n.close(),n=null)}const l=f=>{const h=new Error("probe error: "+f);h.transport=n.name,o(),this.emitReserved("upgradeError",h)};function c(){l("transport closed")}function u(){l("socket closed")}function d(f){n&&f.name!==n.name&&o()}const A=()=>{n.removeListener("open",i),n.removeListener("error",l),n.removeListener("close",c),this.off("close",u),this.off("upgrading",d)};n.once("open",i),n.once("error",l),n.once("close",c),this.once("close",u),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const n=[];for(let s=0;s<r.length;s++)~this.transports.indexOf(r[s])&&n.push(r[s]);return n}}let kW=class extends EW{constructor(r,n={}){const s=typeof r=="object"?r:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(i=>NW[i]).filter(i=>!!i)),super(r,s)}};function TW(t,r="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=_5(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+r,s.href=s.protocol+"://"+o+(n&&n.port===s.port?"":":"+s.port),s}const OW=typeof ArrayBuffer=="function",FW=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,o8=Object.prototype.toString,IW=typeof Blob=="function"||typeof Blob<"u"&&o8.call(Blob)==="[object BlobConstructor]",PW=typeof File=="function"||typeof File<"u"&&o8.call(File)==="[object FileConstructor]";function _N(t){return OW&&(t instanceof ArrayBuffer||FW(t))||IW&&t instanceof Blob||PW&&t instanceof File}function Yy(t,r){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(Yy(t[n]))return!0;return!1}if(_N(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Yy(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Yy(t[n]))return!0;return!1}function LW(t){const r=[],n=t.data,s=t;return s.data=k5(n,r),s.attachments=r.length,{packet:s,buffers:r}}function k5(t,r){if(!t)return t;if(_N(t)){const n={_placeholder:!0,num:r.length};return r.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=k5(t[s],r);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=k5(t[s],r));return n}return t}function DW(t,r){return t.data=T5(t.data,r),delete t.attachments,t}function T5(t,r){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<r.length)return r[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=T5(t[n],r);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=T5(t[n],r));return t}const UW=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],RW=5;var rn;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(rn||(rn={}));class MW{constructor(r){this.replacer=r}encode(r){return(r.type===rn.EVENT||r.type===rn.ACK)&&Yy(r)?this.encodeAsBinary({type:r.type===rn.EVENT?rn.BINARY_EVENT:rn.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let n=""+r.type;return(r.type===rn.BINARY_EVENT||r.type===rn.BINARY_ACK)&&(n+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(n+=r.nsp+","),r.id!=null&&(n+=r.id),r.data!=null&&(n+=JSON.stringify(r.data,this.replacer)),n}encodeAsBinary(r){const n=LW(r),s=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(s),i}}function zC(t){return Object.prototype.toString.call(t)==="[object Object]"}class EN extends Zs{constructor(r){super(),this.reviver=r}add(r){let n;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(r);const s=n.type===rn.BINARY_EVENT;s||n.type===rn.BINARY_ACK?(n.type=s?rn.EVENT:rn.ACK,this.reconstructor=new QW(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(_N(r)||r.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(r),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let n=0;const s={type:Number(r.charAt(0))};if(rn[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===rn.BINARY_EVENT||s.type===rn.BINARY_ACK){const o=n+1;for(;r.charAt(++n)!=="-"&&n!=r.length;);const l=r.substring(o,n);if(l!=Number(l)||r.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(r.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(r.charAt(n)===","||n===r.length););s.nsp=r.substring(o,n)}else s.nsp="/";const i=r.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const l=r.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===r.length)break}s.id=Number(r.substring(o,n+1))}if(r.charAt(++n)){const o=this.tryParse(r.substr(n));if(EN.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,n){switch(r){case rn.CONNECT:return zC(n);case rn.DISCONNECT:return n===void 0;case rn.CONNECT_ERROR:return typeof n=="string"||zC(n);case rn.EVENT:case rn.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&UW.indexOf(n[0])===-1);case rn.ACK:case rn.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class QW{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const n=DW(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const $W=Object.freeze(Object.defineProperty({__proto__:null,Decoder:EN,Encoder:MW,get PacketType(){return rn},protocol:RW},Symbol.toStringTag,{value:"Module"}));function qo(t,r,n){return t.on(r,n),function(){t.off(r,n)}}const HW=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class l8 extends Zs{constructor(r,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[qo(r,"open",this.onopen.bind(this)),qo(r,"packet",this.onpacket.bind(this)),qo(r,"error",this.onerror.bind(this)),qo(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...n){var s,i,o;if(HW.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(n.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const l={type:rn.EVENT,data:n};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const A=this.ids++,f=n.pop();this._registerAckCallback(A,f),l.id=A}const c=(i=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!c||(u?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(r,n){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[r]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===r&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},i),l=(...c)=>{this.io.clearTimeoutFn(o),n.apply(this,c)};l.withError=!0,this.acks[r]=l}emitWithAck(r,...n){return new Promise((s,i)=>{const o=(l,c)=>l?i(l):s(c);o.withError=!0,n.push(o),this.emit(r,...n)})}_addToQueue(r){let n;typeof r[r.length-1]=="function"&&(n=r.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((i,...o)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!r||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:rn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(s=>String(s.id)===r)){const s=this.acks[r];delete this.acks[r],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case rn.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case rn.EVENT:case rn.BINARY_EVENT:this.onevent(r);break;case rn.ACK:case rn.BINARY_ACK:this.onack(r);break;case rn.DISCONNECT:this.ondisconnect();break;case rn.CONNECT_ERROR:this.destroy();const s=new Error(r.data.message);s.data=r.data.data,this.emitReserved("connect_error",s);break}}onevent(r){const n=r.data||[];r.id!=null&&n.push(this.ack(r.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const n=this;let s=!1;return function(...i){s||(s=!0,n.packet({type:rn.ACK,id:r,data:i}))}}onack(r){const n=this.acks[r.id];typeof n=="function"&&(delete this.acks[r.id],n.withError&&r.data.unshift(null),n.apply(this,r.data))}onconnect(r,n){this.id=r,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:rn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(r===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(r===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,r.data)}}}function Ih(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ih.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),n=Math.floor(r*this.jitter*t);t=Math.floor(r*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Ih.prototype.reset=function(){this.attempts=0};Ih.prototype.setMin=function(t){this.ms=t};Ih.prototype.setMax=function(t){this.max=t};Ih.prototype.setJitter=function(t){this.jitter=t};class O5 extends Zs{constructor(r,n){var s;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(n=r,r=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,f1(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Ih({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=r;const i=n.parser||$W;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var n;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(n=this.backoff)===null||n===void 0||n.setMin(r),this)}randomizationFactor(r){var n;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(n=this.backoff)===null||n===void 0||n.setJitter(r),this)}reconnectionDelayMax(r){var n;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(n=this.backoff)===null||n===void 0||n.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new kW(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=qo(n,"open",function(){s.onopen(),r&&r()}),o=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),r?r(c):this.maybeReconnectOnOpen()},l=qo(n,"error",o);if(this._timeout!==!1){const c=this._timeout,u=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},c);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(l),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(qo(r,"ping",this.onping.bind(this)),qo(r,"data",this.ondata.bind(this)),qo(r,"error",this.onerror.bind(this)),qo(r,"close",this.onclose.bind(this)),qo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(n){this.onclose("parse error",n)}}ondecoded(r){A1(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,n){let s=this.nsps[r];return s?this._autoConnect&&!s.active&&s.connect():(s=new l8(this,r,n),this.nsps[r]=s),s}_destroy(r){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(r){const n=this.encoder.encode(r);for(let s=0;s<n.length;s++)this.engine.write(n[s],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(i=>{i?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",i)):r.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const mp={};function Vd(t,r){typeof t=="object"&&(r=t,t=void 0),r=r||{};const n=TW(t,r.path||"/socket.io"),s=n.source,i=n.id,o=n.path,l=mp[i]&&o in mp[i].nsps,c=r.forceNew||r["force new connection"]||r.multiplex===!1||l;let u;return c?u=new O5(s,r):(mp[i]||(mp[i]=new O5(s,r)),u=mp[i]),n.query&&!r.query&&(r.query=n.queryKey),u.socket(n.path,r)}Object.assign(Vd,{Manager:O5,Socket:l8,io:Vd,connect:Vd});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),bt=(t,r)=>{const n=te.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u,...d},A)=>te.createElement("svg",{ref:A,...VW,width:i,height:i,stroke:s,strokeWidth:l?Number(o)*24/Number(i):o,className:["lucide",`lucide-${zW(t)}`,c].join(" "),...d},[...r.map(([f,h])=>te.createElement(f,h)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=bt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=bt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=bt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=bt("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=bt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=bt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=bt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=bt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=bt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=bt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=bt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=bt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=bt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=bt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=bt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=bt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=bt("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=bt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=bt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=bt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=bt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=bt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=bt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=bt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=bt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=bt("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=bt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=bt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=bt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=bt("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=bt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=bt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=bt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=bt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=bt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=bt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=bt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=bt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=bt("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=bt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=bt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=bt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=bt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=bt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=bt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=bt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=bt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=bt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=bt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=bt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=bt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=bt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=bt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=bt("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=bt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=bt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=bt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=bt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=bt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=bt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=bt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=bt("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=bt("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=bt("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=bt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=bt("Paintbrush",[["path",{d:"M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z",key:"m6k5sh"}],["path",{d:"M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7",key:"arzq70"}],["path",{d:"M14.5 17.5 4.5 15",key:"s7fvrz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=bt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=bt("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=bt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=bt("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=bt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=bt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=bt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=bt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=bt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=bt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=bt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=bt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=bt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=bt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=bt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=bt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=bt("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=bt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=bt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=bt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=bt("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=bt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=bt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=bt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=bt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=bt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=bt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=bt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=bt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=bt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=bt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=bt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=bt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=bt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=bt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=bt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=bt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=bt("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=bt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=bt("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=bt("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=bt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=bt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=bt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=bt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),w8={order_update:fq,booking_update:YW,review_update:Wr,promotion:nq,warning:xq,announcement:lq,withdrawal_update:xA},j8=te.createContext(),_q=({children:t})=>{const{user:r}=On(),[n,s]=te.useState([]),[i,o]=te.useState(0),[l,c]=te.useState(null),u=te.useRef(null),d=async()=>{try{const g=await fetch("http://localhost:10000/api/notifications",{credentials:"include"});if(g.ok){const b=await g.json();s(b.notifications);const y=b.notifications.filter(x=>!x.isRead&&!x.isDeleted).length;o(y)}}catch(g){console.error("Failed to fetch notifications:",g)}};te.useEffect(()=>{if(r)return d(),u.current=Vd("http://localhost:10000",{withCredentials:!0,transports:["websocket"]}),u.current.on("connect",()=>{}),u.current.on("disconnect",()=>{}),u.current.on("new-notification",g=>{s(b=>[g,...b]),o(b=>b+1),c(g),setTimeout(()=>c(null),5e3)}),()=>{var g;(g=u.current)==null||g.disconnect()}},[r]);const A=async g=>{try{(await fetch(`http://localhost:10000/api/notifications/${g}/read`,{method:"PATCH",credentials:"include"})).ok&&(s(y=>y.map(x=>x._id===g?{...x,isRead:!0}:x)),o(y=>Math.max(0,y-1)))}catch(b){console.error("Mark read failed",b)}},f=async()=>{try{(await fetch("http://localhost:10000/api/notifications/mark-all-read",{method:"PATCH",credentials:"include"})).ok&&(s(b=>b.map(y=>({...y,isRead:!0}))),o(0))}catch(g){console.error("Mark all read failed",g)}},h=async g=>{try{if((await fetch(`http://localhost:10000/api/notifications/${g}/delete`,{method:"PATCH",credentials:"include"})).ok){s(x=>x.map(v=>v._id===g?{...v,isDeleted:!0}:v));const y=n.find(x=>x._id===g);y&&!y.isRead&&o(x=>Math.max(0,x-1))}}catch(b){console.error("Soft delete failed",b)}},p=()=>{c(null)},m=()=>{l!=null&&l.link&&(l.link.startsWith("http")?window.open(l.link,"_blank"):window.location.href=l.link),p()};return a.jsxs(a.Fragment,{children:[l&&a.jsx("div",{className:"fixed bottom-6 right-4 z-50 bg-white border border-purple-300 rounded-xl shadow-lg p-4 w-80 max-w-full animate-slide-in cursor-pointer",onClick:m,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-purple-600",children:(()=>{const g=w8[l.type];return g?a.jsx(g,{className:"w-5 h-5"}):null})()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-sm",children:l.title}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:l.body})]}),a.jsx("button",{onClick:g=>{g.stopPropagation(),p()},className:"text-gray-400 hover:text-gray-600 transition-colors",children:"✕"})]})}),a.jsx(j8.Provider,{value:{notifications:n,unreadCount:i,fetchNotifications:d,markAsRead:A,markAllRead:f,softDelete:h,setNotifications:s,setUnreadCount:o,dismissToast:p},children:t})]})},N8=()=>te.useContext(j8),S8=te.createContext(),m1=()=>{const t=te.useContext(S8);if(!t)throw new Error("useGlobalChat must be used within a ChatProvider");return t},Eq=({children:t})=>{const[r,n]=te.useState(0),[s,i]=te.useState(!1),o=te.useRef(null),l=te.useRef(null),c="http://localhost:10000",u=te.useCallback(p=>{var g,b;if(!(p!=null&&p.id)){console.log("❌ Cannot initialize socket: no user ID");return}if(((g=l.current)==null?void 0:g.id)===p.id&&((b=o.current)!=null&&b.connected)){console.log("✅ Socket already initialized for user:",p.id);return}console.log("🔄 Initializing global chat socket for user:",p.id),l.current=p,o.current&&o.current.disconnect();const m=Vd(c,{withCredentials:!0,transports:["websocket","polling"],forceNew:!0});o.current=m,m.on("connect",()=>{console.log("🔗 Global chat socket connected for user:",p.id),i(!0),setTimeout(()=>{d()},200)}),m.on("disconnect",()=>{i(!1)}),m.on("unread-count-updated",y=>{console.log("🔔 Backend unread count event received:",y.unreadCount),n(x=>(console.log("🔄 Updating count:",x,"→",y.unreadCount),y.unreadCount||0))}),m.on("new-message",y=>{y.sender._id!==p.id&&(console.log("📥 New message received from:",y.sender.name),n(x=>{const v=x+1;return console.log("🔔 Temporary increment:",x,"→",v,"(waiting for backend)"),v}))}),m.on("messages-marked-read",y=>{console.log("📖 Messages marked as read, updating global count"),setTimeout(()=>{d()},50)})},[c]),d=async()=>{var p;if(!((p=l.current)!=null&&p.id)){console.log("❌ Cannot fetch unread count: no user");return}try{console.log("🔄 Fetching unread count for user:",l.current.id);const m=await fetch(`${c}/api/chat/unread-count`,{credentials:"include"});if(m.ok){const g=await m.json();console.log("✅ Fetched unread count:",g.unreadCount),n(g.unreadCount||0)}else console.error("❌ Failed to fetch unread count - HTTP",m.status)}catch(m){console.error("❌ Failed to fetch unread count:",m)}},h={globalUnreadCount:r,isConnected:s,initializeSocket:u,updateUnreadCount:p=>{n(p)},decrementUnreadCount:(p,m=1)=>{var g;n(b=>Math.max(0,b-m)),(g=o.current)!=null&&g.connected&&o.current.emit("chat-read-notification",{chatId:p,count:m})},fetchUnreadCount:d,socket:o.current};return a.jsx(S8.Provider,{value:h,children:t})};class kq extends wt.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Error caught by boundary:",r,n)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md",children:[a.jsx(yu,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),a.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center space-x-2 bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:[a.jsx(M5,{className:"w-5 h-5"}),a.jsx("span",{children:"Refresh Page"})]})]})}):this.props.children}}const Tq=({currentRole:t,isTransitioning:r=!1})=>{const n={customer:{icon:ol,title:"Customer Mode",subtitle:"Browse and purchase products",fromText:"Shopping Mode",toText:"Store Management"},store_owner:{icon:li,title:"Store Owner Mode",subtitle:"Manage your store and products",fromText:"Store Management",toText:"Shopping Mode"}},s=()=>t==="customer"?"store_owner":"customer",i=n[t]||{},o=n[s()]||{},l=i.icon||(()=>null),c=o.icon||(()=>null);return a.jsxs(a.Fragment,{children:[r&&a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[a.jsxs("div",{className:"absolute inset-0 bg-black",children:[a.jsxs("div",{className:"absolute inset-0 opacity-5",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_25%_25%,white_0%,transparent_50%)] animate-pulse"}),a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_75%_75%,white_0%,transparent_50%)] animate-pulse",style:{animationDelay:"1s"}})]}),a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-px h-32 bg-white/8 rotate-45 animate-fade-in",style:{animationDelay:"0.5s"}}),a.jsx("div",{className:"absolute top-3/4 right-1/4 w-px h-32 bg-white/8 -rotate-45 animate-fade-in",style:{animationDelay:"0.7s"}}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-px bg-white/8 animate-fade-in",style:{animationDelay:"0.9s"}}),a.jsx("div",{className:"absolute top-1/3 right-1/3 w-24 h-px bg-white/6 rotate-90 animate-fade-in",style:{animationDelay:"1.1s"}})]}),a.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(12)].map((u,d)=>a.jsx("div",{className:"absolute w-0.5 h-0.5 bg-white rounded-full opacity-20 animate-float",style:{left:`${20+Math.random()*60}%`,top:`${20+Math.random()*60}%`,animationDelay:`${Math.random()*4}s`,animationDuration:`${4+Math.random()*2}s`}},d))})]}),a.jsxs("div",{className:"relative z-10 text-center",children:[a.jsxs("div",{className:"mb-16 flex items-center justify-center space-x-16",children:[a.jsxs("div",{className:"text-center animate-fade-out",style:{animationDelay:"0.5s"},children:[a.jsxs("div",{className:"relative p-8 mb-6",children:[a.jsx("div",{className:"absolute inset-0 border border-white/15 rounded-full animate-shrink"}),a.jsx(l,{className:"w-10 h-10 text-white/40 relative z-10"})]}),a.jsx("p",{className:"text-white/30 text-sm font-light tracking-wider uppercase",children:i.fromText})]}),a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(GW,{className:"w-6 h-6 text-white/60 animate-pulse"}),a.jsx("div",{className:"absolute -inset-2 border border-white/10 rounded-full animate-ping opacity-20"})]}),a.jsx("div",{className:"w-20 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"})]}),a.jsxs("div",{className:"text-center animate-fade-in-scale",children:[a.jsxs("div",{className:"relative p-8 mb-6",children:[a.jsx("div",{className:"absolute inset-0 border border-white/30 rounded-full animate-glow-ring"}),a.jsx("div",{className:"absolute inset-2 border border-white/10 rounded-full animate-pulse"}),a.jsx(c,{className:"w-10 h-10 text-white relative z-10"})]}),a.jsx("p",{className:"text-white text-sm font-light tracking-wider uppercase",children:i.toText})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-6xl md:text-7xl font-thin text-white tracking-[0.2em]",children:a.jsx("span",{className:"inline-block animate-fade-in-up",style:{animationDelay:"0.2s"},children:"SWITCHING"})}),a.jsx("h2",{className:"text-2xl md:text-3xl font-extralight text-white/80 tracking-[0.3em] animate-fade-in-up",style:{animationDelay:"0.4s"},children:"ROLES"})]}),a.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"0.6s"},children:[a.jsx("div",{className:"w-24 h-px bg-white/30 mx-auto mb-4"}),a.jsxs("p",{className:"text-white/50 text-base font-light tracking-wide",children:["Transitioning to ",i.toText.toLowerCase()]})]})]}),a.jsx("div",{className:"mt-20 flex justify-center",children:a.jsxs("div",{className:"relative w-48",children:[a.jsx("div",{className:"h-px bg-white/10"}),a.jsx("div",{className:"absolute top-0 left-0 h-px bg-white/40 animate-progress-elegant"})]})})]}),a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("div",{className:"absolute top-12 left-12 w-12 h-12 border-l border-t border-white/15 animate-fade-in"}),a.jsx("div",{className:"absolute top-12 right-12 w-12 h-12 border-r border-t border-white/15 animate-fade-in",style:{animationDelay:"0.3s"}}),a.jsx("div",{className:"absolute bottom-12 left-12 w-12 h-12 border-l border-b border-white/15 animate-fade-in",style:{animationDelay:"0.6s"}}),a.jsx("div",{className:"absolute bottom-12 right-12 w-12 h-12 border-r border-b border-white/15 animate-fade-in",style:{animationDelay:"0.9s"}})]})]}),a.jsx("style",{children:`
        @keyframes fade-in-up {
          from {
            opacity: 0;
            transform: translateY(40px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fade-in {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes fade-out {
          from {
            opacity: 1;
            transform: scale(1);
          }
          to {
            opacity: 0.2;
            transform: scale(0.9);
          }
        }

        @keyframes fade-in-scale {
          0% {
            opacity: 0;
            transform: scale(0.8);
          }
          50% {
            opacity: 0.3;
            transform: scale(0.95);
          }
          100% {
            opacity: 1;
            transform: scale(1);
          }
        }

        @keyframes shrink {
          from {
            transform: scale(1);
            opacity: 0.3;
          }
          to {
            transform: scale(0.8);
            opacity: 0.1;
          }
        }

        @keyframes glow-ring {
          0%,
          100% {
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
            transform: scale(1);
          }
          50% {
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
          }
        }

        @keyframes progress-elegant {
          from {
            width: 0;
            opacity: 0.3;
          }
          to {
            width: 100%;
            opacity: 0.8;
          }
        }

        @keyframes shimmer {
          0%,
          100% {
            opacity: 0.2;
          }
          50% {
            opacity: 0.6;
          }
        }

        @keyframes float {
          0%,
          100% {
            transform: translateY(0px) rotate(0deg);
          }
          50% {
            transform: translateY(-10px) rotate(180deg);
          }
        }

        .animate-fade-in-up {
          animation: fade-in-up 1s ease-out forwards;
          opacity: 0;
        }

        .animate-fade-in {
          animation: fade-in 1.2s ease-out forwards;
          opacity: 0;
        }

        .animate-fade-out {
          animation: fade-out 1.5s ease-out forwards;
        }

        .animate-fade-in-scale {
          animation: fade-in-scale 2s ease-out forwards;
          opacity: 0;
        }

        .animate-shrink {
          animation: shrink 1.5s ease-out forwards;
        }

        .animate-glow-ring {
          animation: glow-ring 2s ease-in-out infinite;
        }

        .animate-progress-elegant {
          animation: progress-elegant 2.5s ease-out forwards;
        }

        .animate-shimmer {
          animation: shimmer 2s ease-in-out infinite;
        }

        .animate-float {
          animation: float 6s ease-in-out infinite;
        }
      `})]})},Oq=`
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes slideUp {
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-20px);
    }
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateX(20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  .animate-fadeIn {
    animation: fadeIn 0.3s ease-out;
  }
`,Fq=({categories:t=[],isOpen:r,onClose:n,onCategoryClick:s})=>{const[i,o]=te.useState(null),[l,c]=te.useState(!1),u=te.useRef(null),d=te.useRef(null);te.useEffect(()=>{const b=()=>{c(window.innerWidth<768)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const A=b=>{!l&&r&&(u.current&&clearTimeout(u.current),o(b))},f=()=>{!l&&r&&(u.current=setTimeout(()=>{n==null||n(),o(null)},200))},h=()=>{u.current&&clearTimeout(u.current)},p=(b,y)=>{l?(y.preventDefault(),o(i===b._id?null:b._id)):(s==null||s(b),n==null||n())},m=(b,y)=>{s==null||s(b,y),n==null||n(),o(null)},g=(b,y,x)=>{s==null||s(b,y,x),n==null||n(),o(null)};return te.useEffect(()=>{const b=y=>{l&&d.current&&!d.current.contains(y.target)&&(n==null||n(),o(null))};if(r&&l)return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[r,n,l]),te.useEffect(()=>{r||(o(null),u.current&&clearTimeout(u.current))},[r]),te.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]),te.useEffect(()=>{if(typeof document<"u"){const b=document.createElement("style");return b.textContent=Oq,document.head.appendChild(b),()=>{b.parentNode&&b.parentNode.removeChild(b)}}},[]),r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block fixed top-16 left-0 right-0 z-40 flex justify-center",children:a.jsx("div",{ref:d,className:"mt-2 bg-white backdrop-blur-xl border border-gray-100 shadow-2xl rounded-2xl overflow-hidden transform transition-all duration-300 ease-out",onMouseLeave:f,onMouseEnter:h,style:{maxWidth:"calc(100vw - 40px)",width:"fit-content",minWidth:"900px",maxHeight:"calc(100vh - 80px)",animation:r?"slideDown 0.3s ease-out":"slideUp 0.3s ease-out"},children:a.jsxs("div",{className:"flex min-h-[500px] max-h-full overflow-hidden",children:[a.jsx("div",{className:"w-80 bg-gradient-to-b from-gray-50 to-gray-100/80 border-r border-gray-200",children:a.jsxs("div",{className:"p-2",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider px-4 py-3",children:"Browse Categories"}),t.map(b=>a.jsxs("button",{onMouseEnter:()=>A(b._id),onClick:y=>p(b,y),className:`w-full flex items-center justify-between px-4 py-3.5 mx-2 rounded-xl text-left text-sm font-medium transition-all duration-300 group ${i===b._id?"bg-black text-white shadow-lg transform scale-[1.02]":"text-gray-700 hover:bg-white hover:shadow-md hover:transform hover:scale-[1.01]"}`,children:[a.jsx("span",{className:"flex-1",children:b.name}),a.jsx(Ru,{className:`w-4 h-4 transition-all duration-300 ${i===b._id?"text-white transform rotate-90":"text-gray-400 group-hover:text-gray-600 group-hover:transform group-hover:translate-x-1"}`})]},b._id))]})}),a.jsxs("div",{className:"flex-1 bg-white overflow-y-auto",children:[i&&a.jsx("div",{className:"animate-fadeIn",children:(()=>{const b=t.find(y=>y._id===i);return b?a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"flex items-center mb-8",children:[a.jsx("div",{className:"w-2 h-8 bg-black rounded-full mr-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:b.name})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-8",children:b.subcategories.map((y,x)=>a.jsxs("div",{className:"group",children:[a.jsx("button",{onClick:()=>m(b,y),className:"text-base font-bold text-gray-900 hover:text-black transition-all duration-300 block text-left mb-4 group-hover:transform group-hover:translate-x-2",children:y.name}),a.jsx("div",{className:"space-y-2 pl-0 group-hover:pl-4 transition-all duration-300",children:y.childCategories.map((v,w)=>a.jsx("button",{onClick:()=>g(b,y,v),className:"block text-sm text-gray-600 hover:text-black hover:font-medium transition-all duration-300 text-left leading-relaxed py-1 hover:transform hover:translate-x-2",children:v},w))})]},x))})]}):null})()}),!i&&a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(Ru,{className:"w-8 h-8 text-gray-400"})}),a.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"Hover over a category to explore"})]})})]})]})})}),a.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:n}),a.jsxs("div",{ref:d,className:"absolute left-0 top-0 h-full w-80 bg-white shadow-2xl transform transition-transform duration-300 ease-out flex flex-col",style:{transform:r?"translateX(0)":"translateX(-100%)"},children:[a.jsx("div",{className:"bg-gradient-to-r from-black to-gray-800 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Browse Categories"}),a.jsx("button",{onClick:n,className:"p-2 rounded-xl text-white/80 hover:text-white hover:bg-white/10 transition-all duration-200",children:a.jsx(hs,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"overflow-y-auto flex-1 pb-6",style:{maxHeight:"calc(100vh - 120px)"},children:a.jsx("div",{className:"py-4",children:t.map((b,y)=>a.jsxs("div",{className:"mb-2",children:[a.jsxs("button",{onClick:x=>p(b,x),className:`w-full flex items-center justify-between px-6 py-4 text-left font-medium transition-all duration-300 group ${i===b._id?"bg-black text-white shadow-lg":"text-gray-700 hover:bg-gray-50"}`,children:[a.jsx("span",{className:"text-base",children:b.name}),a.jsx(Ru,{className:`w-5 h-5 transition-all duration-300 ${i===b._id?"rotate-90 text-white":"text-gray-400 group-hover:text-gray-600"}`})]}),a.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-out ${i===b._id?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:a.jsx("div",{className:"bg-gradient-to-b from-gray-50 to-gray-100 border-y border-gray-200",children:b.subcategories.map((x,v)=>a.jsxs("div",{className:"px-6 py-3 border-b border-gray-200/50 last:border-b-0",children:[a.jsx("button",{onClick:()=>m(b,x),className:"block w-full text-left text-sm font-semibold text-gray-900 hover:text-black transition-all duration-200 mb-2",children:x.name}),a.jsx("div",{className:"space-y-1 pl-3 border-l-2 border-gray-300",children:x.childCategories.map((w,_)=>a.jsx("button",{onClick:()=>g(b,x,w),className:"block w-full text-left text-xs text-gray-600 hover:text-black hover:font-medium transition-all duration-200 py-1 leading-relaxed",children:w},_))})]},v))})})]},b._id))})})]})]})]}):null},Iq=()=>{const{user:t,logout:r,refreshUser:n}=On(),{orderItems:s,bookingItems:i}=ld(),{unreadCount:o}=N8(),[l,c]=te.useState(!1),[u,d]=te.useState(!1),[A,f]=te.useState(!1),[h,p]=te.useState(""),[m,g]=te.useState(!1),[b,y]=te.useState([]),[x,v]=te.useState(!1),w=Hs(),{globalUnreadCount:_=0,isConnected:B,initializeSocket:N}=m1();te.useEffect(()=>{t!=null&&t.id&&(console.log("📱 Header: Initializing chat socket for user:",t.id),N(t))},[t==null?void 0:t.id,N]),te.useEffect(()=>{console.log("📱 Header: Chat unread count changed:",_,"Connected:",B)},[_,B]),te.useEffect(()=>{const F=()=>{f(window.scrollY>50)};return window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)},[]);const j=F=>{const Q=F.target.value;p(Q)},C=(F,Q,K)=>{console.log("Navigate to:",{category:F.name,subcategory:Q==null?void 0:Q.name,childCategory:K})},E=F=>{if(F.preventDefault(),h.trim()){const Q=`/products?search=${encodeURIComponent(h)}`;w(Q)}};te.useEffect(()=>{(async()=>{try{const Q=await fetch("http://localhost:10000/api/categories");if(!Q.ok)throw new Error("Failed to fetch categories");const K=await Q.json();y(K)}catch(Q){console.error("Error loading categories:",Q)}})()},[]);const S=()=>{r(),d(!1),w("/")},k=async()=>{const F=await fetch("http://localhost:10000/api/auth/switch-role",{method:"PUT",credentials:"include"});if(!F.ok){const Q=await F.json();throw new Error(Q.error||"Failed to switch role")}return n(),F.json()},P=()=>{g(!0),setTimeout(async()=>{try{(await k()).role==="customer"?w("/"):t!=null&&t.storeId?w("/dashboard"):w("/create-store")}catch(F){console.error(F.message)}finally{g(!1)}},4e3)},M=s.reduce((F,Q)=>F+Q.quantity,0)+i.length,H=({onClick:F,isOpen:Q})=>a.jsx("button",{onClick:F,className:"p-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Toggle menu",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Q?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})});return a.jsxs(a.Fragment,{children:[a.jsx(Tq,{currentRole:t==null?void 0:t.role,isTransitioning:m}),a.jsx("header",{className:`sticky top-0 z-50 transition-all duration-300 ${A?"bg-white/95 backdrop-blur-md shadow-lg":"bg-white"}`,children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx($t,{to:"/",className:"text-3xl font-black text-black hover:text-gray-700 transition-colors tracking-tight font-sans",children:"AIO"}),a.jsx(H,{onClick:F=>{F.preventDefault(),F.stopPropagation(),v(!x)},isOpen:x})]}),a.jsx("div",{className:"hidden lg:flex flex-1 justify-center max-w-2xl mx-8",children:a.jsx("form",{onSubmit:E,className:"w-full max-w-lg",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ja,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",value:h,onChange:j,placeholder:"Search products & services...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent shadow-sm text-sm"})]})})}),a.jsxs("nav",{className:"hidden lg:flex items-center space-x-6",children:[a.jsx($t,{to:"/products",className:"text-gray-600 hover:text-black transition-colors font-medium text-sm",children:"Products"}),a.jsx($t,{to:"/services",className:"text-gray-600 hover:text-black transition-colors font-medium text-sm",children:"Services"}),a.jsx($t,{to:"/stores",className:"text-gray-600 hover:text-black transition-colors font-medium text-sm",children:"Stores"}),(t==null?void 0:t.role)==="store_owner"&&a.jsx($t,{to:"/dashboard",className:"text-gray-600 hover:text-black transition-colors font-medium text-sm",children:"Dashboard"}),t&&a.jsx("button",{onClick:P,className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${(t==null?void 0:t.role)==="store_owner"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 shadow-md"}`,children:(t==null?void 0:t.role)==="store_owner"?"Switch to Buying":"Switch to Selling"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[(t==null?void 0:t.role)==="customer"&&a.jsxs($t,{to:"/cart",className:"relative p-2.5 text-gray-600 hover:text-black hover:bg-gray-100 rounded-lg transition-all",children:[a.jsx(gA,{className:"w-5 h-5"}),M>0&&a.jsx("span",{className:"absolute -top-0.5 -right-0.5 bg-black text-white text-xs rounded-full w-4 h-4 flex items-center justify-center font-medium",children:M})]}),(t==null?void 0:t.role)==="store_owner"&&a.jsx($t,{to:"/wallet-dashboard",className:"relative p-2.5 text-gray-600 hover:text-black hover:bg-gray-100 rounded-lg transition-all",children:a.jsx(xA,{className:"w-5 h-5"})}),t&&a.jsxs($t,{to:"/chats",className:"relative p-2.5 text-gray-600 hover:text-black hover:bg-gray-100 rounded-lg transition-all","aria-label":`You have ${_} unread messages`,title:`Chat ${B?"(Connected)":"(Disconnected)"} - ${_} unread`,children:[a.jsx(yh,{className:"w-5 h-5"}),_>0&&a.jsx("span",{className:"absolute -top-0.5 -right-0.5 bg-red-500 text-white text-xs rounded-full min-w-[16px] h-4 flex items-center justify-center px-1 font-medium",children:_>99?"99+":_})]}),t&&a.jsxs($t,{to:"/notifications",className:"relative p-2.5 text-gray-600 hover:text-black hover:bg-gray-100 rounded-lg transition-all","aria-label":`You have ${o} unread notifications`,children:[a.jsx(kN,{className:"w-5 h-5"}),o>0&&a.jsx("span",{className:"absolute -top-0.5 -right-0.5 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center font-medium",children:o})]}),t?a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>d(!u),className:"flex items-center space-x-2 p-2 text-gray-700 hover:text-black transition-colors",children:[a.jsx(Vl,{className:"w-6 h-6"}),a.jsx("span",{className:"hidden sm:block font-medium",children:t.name})]}),u&&a.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-gray-200",children:[a.jsx("p",{className:"font-medium text-gray-900",children:t.name}),a.jsx("p",{className:"text-sm text-gray-500 capitalize",children:t.role.replace("_"," ")})]}),a.jsx($t,{to:"/profile",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>d(!1),children:"Profile Settings"}),t&&a.jsx("button",{onClick:P,className:`block px-4 py-2  font-medium transition-colors ${(t==null?void 0:t.role)==="store_owner"?"text-black hover:text-gray-700":"bg-gradient-to-r from-blue-500 via-purple-500 to-blue-500 bg-clip-text text-transparent hover:opacity-80 animate-pulse"}`,children:(t==null?void 0:t.role)==="store_owner"?"Switch to Buying":"Switch to Selling"}),t.role==="customer"&&a.jsxs(a.Fragment,{children:[a.jsx($t,{to:"/orders",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>d(!1),children:"My Orders"}),a.jsx($t,{to:"/bookings",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>d(!1),children:"My Bookings"})]}),t.role==="store_owner"&&a.jsxs(a.Fragment,{children:[a.jsx($t,{to:"/dashboard",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>d(!1),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(li,{className:"w-4 h-4"}),a.jsx("span",{children:"Dashboard"})]})}),a.jsx($t,{to:"/sales-analytics",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>d(!1),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Hl,{className:"w-4 h-4"}),a.jsx("span",{children:"Analytics"})]})}),a.jsx($t,{to:"/orders",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>d(!1),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fi,{className:"w-4 h-4"}),a.jsx("span",{children:"Orders"})]})}),a.jsx($t,{to:"/bookings",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>d(!1),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Es,{className:"w-4 h-4"}),a.jsx("span",{children:"Bookings"})]})})]}),a.jsx("hr",{className:"my-2"}),a.jsx("button",{onClick:S,className:"block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",children:"Sign Out"})]})]}):a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx($t,{to:"/login",className:"text-gray-700 hover:text-black transition-colors font-medium",children:"Sign In"}),a.jsx($t,{to:"/register",className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors font-medium",children:"Get Started"})]}),a.jsx("button",{onClick:()=>c(!l),className:"lg:hidden p-2.5 text-gray-600 hover:text-black hover:bg-gray-100 rounded-lg transition-all ml-2","aria-label":"Toggle mobile menu",children:l?a.jsx(hs,{className:"w-5 h-5"}):a.jsx(L5,{className:"w-5 h-5"})})]})]}),l&&a.jsx("div",{className:"lg:hidden border-t border-gray-100 bg-white",children:a.jsxs("div",{className:"py-4 space-y-4",children:[a.jsx("form",{onSubmit:E,className:"px-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ja,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",value:h,onChange:j,placeholder:"Search products & services...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-sm"})]})}),a.jsxs("nav",{className:"px-4 space-y-1",children:[a.jsx($t,{to:"/products",className:"flex items-center px-3 py-2.5 text-gray-600 hover:text-black hover:bg-gray-50 rounded-lg transition-colors font-medium",onClick:()=>c(!1),children:"Products"}),a.jsx($t,{to:"/services",className:"flex items-center px-3 py-2.5 text-gray-600 hover:text-black hover:bg-gray-50 rounded-lg transition-colors font-medium",onClick:()=>c(!1),children:"Services"}),a.jsx($t,{to:"/stores",className:"flex items-center px-3 py-2.5 text-gray-600 hover:text-black hover:bg-gray-50 rounded-lg transition-colors font-medium",onClick:()=>c(!1),children:"Stores"}),(t==null?void 0:t.role)==="store_owner"&&a.jsx($t,{to:"/dashboard",className:"flex items-center px-3 py-2.5 text-gray-600 hover:text-black hover:bg-gray-50 rounded-lg transition-colors font-medium",onClick:()=>c(!1),children:"Dashboard"}),t&&a.jsx("button",{onClick:()=>{P(),c(!1)},className:`w-full text-left px-3 py-2.5 rounded-lg transition-all font-medium ${(t==null?void 0:t.role)==="store_owner"?"text-gray-600 hover:text-black hover:bg-gray-50":"bg-gradient-to-r from-blue-500 to-purple-600 text-white"}`,children:(t==null?void 0:t.role)==="store_owner"?"Switch to Buying":"Switch to Selling"})]})]})})]})}),a.jsx(Fq,{categories:b,isOpen:x,onClose:()=>v(!1),onCategoryClick:C})]})},Pq=()=>{const[t,r]=te.useState(""),[n,s]=te.useState(!1),[i,o]=te.useState({x:0,y:0}),[l,c]=te.useState(!1),[u,d]=te.useState(null);te.useEffect(()=>{const p=m=>{o({x:m.clientX,y:m.clientY})};return window.addEventListener("mousemove",p),()=>window.removeEventListener("mousemove",p)},[]);const A=async()=>{if(!t){d("Please enter an email.");return}d(null),c(!0);try{const p=await fetch("http://localhost:10000/api/email-subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),m=await p.json();if(!p.ok){d(m.message||"Subscription failed"),c(!1);return}s(!0),c(!1),setTimeout(()=>{s(!1),r("")},2500)}catch{d("Network error. Please try again later."),c(!1)}},f=[{icon:z0,title:"Bank-Grade Security",desc:"SSL & encrypted transactions"},{icon:Wd,title:"Island-wide Delivery",desc:"Colombo to Jaffna in 24hrs"},{icon:Kd,title:"Verified Sellers",desc:"Licensed Sri Lankan businesses"},{icon:Kn,title:"Quality Guaranteed",desc:"100% authentic products"}],h=[{title:"Marketplace",links:["Premium Stores","Featured Products","New Arrivals","Top Sellers"]},{title:"Sellers",links:["Start Selling","Business Account","Seller Resources","Success Stories"]},{title:"Support",links:["Help Center","Live Chat","Returns Policy","Contact Us"]},{title:"Company",links:["About AIO","Careers","Press","Partnerships"]}];return a.jsxs("footer",{className:"relative bg-black text-white overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-5",children:[a.jsx("div",{className:"absolute inset-0 transition-all duration-1000",style:{background:`radial-gradient(circle 200px at ${i.x}px ${i.y}px, rgba(255,255,255,0.1), transparent 50%)`}}),a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(45deg, transparent 49%, rgba(255,255,255,0.03) 50%, transparent 51%)",backgroundSize:"20px 20px"}})]}),a.jsx("div",{className:"relative border-b border-white/10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:f.map((p,m)=>{const g=p.icon;return a.jsxs("div",{className:"group relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent rounded-xl transform group-hover:scale-105 transition-all duration-500 group-hover:from-white/20"}),a.jsxs("div",{className:"relative p-4 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 mb-3 rounded-full bg-white/10 group-hover:bg-white/20 transition-all duration-500 group-hover:scale-110",children:a.jsx(g,{className:"w-4 h-4 text-white"})}),a.jsx("h4",{className:"text-sm font-medium mb-1 group-hover:text-white transition-colors duration-300",children:p.title}),a.jsx("p",{className:"text-white/60 font-light text-xs group-hover:text-white/80 transition-colors duration-300",children:p.desc})]})]},m)})})})}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-white/10 via-transparent to-white/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-all duration-700 blur-xl"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center mr-3 group-hover:scale-110 transition-transform duration-500",children:a.jsx("span",{className:"text-black font-bold text-lg",children:"A"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-light tracking-wider",children:"AIO"}),a.jsx("p",{className:"text-white/60 text-xs font-light",children:"All In One"})]})]}),a.jsx("p",{className:"text-white/80 font-light leading-relaxed mb-6 text-sm",children:"Sri Lanka's premier digital marketplace connecting authentic local businesses with discerning customers."}),a.jsxs("div",{className:"relative",children:[a.jsx("h4",{className:"text-sm font-medium mb-3 tracking-wide",children:"Stay Connected"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"email",value:t,onChange:p=>r(p.target.value),placeholder:"Enter email",className:"flex-1 px-4 py-2 bg-white/10 backdrop-blur-sm text-white rounded-l-xl border border-white/20 focus:outline-none focus:border-white/40 placeholder-white/50 font-light transition-all duration-300 text-sm"}),a.jsx("button",{onClick:A,disabled:n||l,className:`px-4 py-2 rounded-r-xl font-medium transition-all duration-500 text-sm ${n?"bg-green-500 text-white":"bg-white text-black hover:bg-white/90 hover:scale-105"} ${l?"opacity-50 cursor-not-allowed":""}`,children:n?a.jsx(Kn,{className:"w-4 h-4"}):l?a.jsx("span",{children:"Loading..."}):a.jsx(F5,{className:"w-4 h-4"})}),u&&a.jsx("p",{className:"mt-1 text-white-400 text-xs",children:u})]})]})]})]})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:h.map((p,m)=>a.jsxs("div",{className:"group",children:[a.jsx("h4",{className:"text-sm font-medium mb-4 tracking-wide group-hover:text-white transition-colors duration-300",children:p.title}),a.jsx("ul",{className:"space-y-2",children:p.links.map((g,b)=>a.jsx("li",{children:a.jsxs("a",{href:"#",className:"text-white/70 font-light hover:text-white transition-all duration-300 flex items-center group/link text-xs",children:[a.jsx("span",{className:"group-hover/link:translate-x-1 transition-transform duration-300",children:g}),a.jsx(F5,{className:"w-3 h-3 ml-1 opacity-0 group-hover/link:opacity-100 transition-all duration-300"})]})},b))})]},m))})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6 pt-6 border-t border-white/10",children:[a.jsxs("div",{className:"flex items-center group/contact cursor-pointer",children:[a.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center mr-3 group-hover/contact:bg-white/20 transition-all duration-300",children:a.jsx(Wl,{className:"w-3 h-3"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium group-hover/contact:text-white transition-colors text-sm",children:"support@aio.lk"}),a.jsx("p",{className:"text-white/60 text-xs",children:"24/7 Support"})]})]}),a.jsxs("div",{className:"flex items-center group/contact cursor-pointer",children:[a.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center mr-3 group-hover/contact:bg-white/20 transition-all duration-300",children:a.jsx(ql,{className:"w-3 h-3"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium group-hover/contact:text-white transition-colors text-sm",children:"Colombo, Sri Lanka"}),a.jsx("p",{className:"text-white/60 text-xs",children:"Island-wide Service"})]})]})]})]}),a.jsx("div",{className:"relative border-t border-white/10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-2 md:space-y-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-1 md:space-y-0 md:space-x-6 text-white/60",children:[a.jsxs("p",{className:"font-light text-sm",children:["© ",new Date().getFullYear()," AIO Sri Lanka. All rights reserved."]}),a.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(zu,{className:"w-3 h-3 mr-1"}),"SSL Secured"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Vu,{className:"w-3 h-3 mr-1"}),"Secure Payments"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(u8,{className:"w-3 h-3 mr-1"}),"Licensed Business"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-white/60 font-light text-xs",children:"Proudly Sri Lankan"})]})]})})})]})};function Lq(){const{pathname:t}=al();return te.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function Dq(){const[t,r]=te.useState(!1);te.useEffect(()=>{const s=()=>{r(window.scrollY>200)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return a.jsx("button",{onClick:n,className:`fixed bottom-5 right-5 flex items-center justify-center
        w-12 h-12 rounded-full border-2 border-white bg-black text-white text-2xl shadow-lg
        transition-all duration-300 hover:scale-110 hover:bg-gray-800
        ${t?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-label":"Scroll to top",children:"↑"})}const Lr=t=>(typeof t!="number"&&(t=parseFloat(t)||0),new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)),nw=t=>(typeof t!="number"&&(t=parseFloat(t)||0),t>=1e6?`LKR ${(t/1e6).toFixed(1)}M`:t>=1e3?`LKR ${(t/1e3).toFixed(1)}K`:Lr(t)),FN=({product:t})=>{var b,y,x,v;const r=te.useRef(null),{addToOrder:n}=ld(),{user:s}=On(),[i,o]=te.useState(!1),[l,c]=te.useState(!1),[u,d]=te.useState(1);te.useEffect(()=>{const w=new IntersectionObserver(_=>{_.forEach(B=>{B.isIntersecting&&(fetch("http://localhost:10000/api/products/impression",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:t._id})}).catch(N=>console.error("Impression error:",N)),w.unobserve(B.target))})},{threshold:.5});return r.current&&w.observe(r.current),()=>{r.current&&w.unobserve(r.current)}},[t._id]);const A=()=>{const w=new Date(Date.now()-6048e5);return new Date(t.createdAt)>w},f=()=>t.oldPrice&&t.oldPrice>t.price,h=()=>t.stock<=5&&t.stock>0,p=w=>{var B;if(w.preventDefault(),w.stopPropagation(),(s==null?void 0:s.role)!=="customer"){alert("Only customers can add items to cart");return}const _={...t,storeId:((B=t.storeId)==null?void 0:B._id)||t.storeId};console.log("Added to cart:",{product:t._id,quantity:u}),o(!1),n(_,u)},m=w=>{w.preventDefault(),w.stopPropagation(),o(!0)},g=w=>{w.preventDefault(),w.stopPropagation(),c(!l)};return a.jsxs(a.Fragment,{children:[a.jsx($t,{to:`/product/${t._id}`,className:"block",children:a.jsx("div",{className:"relative w-full",ref:r,children:a.jsxs("div",{className:"group relative bg-white rounded-lg sm:rounded-xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden border border-gray-200 hover:border-black transform hover:-translate-y-1 sm:hover:-translate-y-2 w-full h-full flex flex-col",children:[a.jsxs("div",{className:"absolute top-2 sm:top-3 left-2 sm:left-3 z-20 flex flex-col gap-1 sm:gap-2",children:[A()&&a.jsx("span",{className:"bg-black text-white text-xs font-bold px-2 sm:px-4 py-1 sm:py-1.5 rounded-full shadow-lg backdrop-blur-sm tracking-wider",children:"NEW"}),f()&&a.jsx("span",{className:"bg-black text-white text-xs font-bold px-2 sm:px-4 py-1 sm:py-1.5 rounded-full shadow-lg backdrop-blur-sm tracking-wider",children:"SALE"}),h()&&a.jsxs("span",{className:"bg-black text-white text-xs font-bold px-2 sm:px-4 py-1 sm:py-1.5 rounded-full shadow-lg backdrop-blur-sm flex items-center gap-1 tracking-wider",children:[a.jsx(Li,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),a.jsx("span",{className:"hidden sm:inline",children:"LOW STOCK"}),a.jsx("span",{className:"sm:hidden",children:"LOW"})]})]}),a.jsx("div",{className:"absolute top-2 sm:top-3 right-2 sm:right-3 z-20 flex flex-row sm:flex-col gap-1 sm:gap-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-all duration-500 transform translate-x-0 sm:translate-x-4 sm:group-hover:translate-x-0",children:(s==null?void 0:s.role)==="customer"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:g,className:`p-2 sm:p-3 rounded-full backdrop-blur-md transition-all duration-300 shadow-xl ${l?"bg-black text-white":"bg-white/95 text-gray-700 hover:bg-black hover:text-white border border-gray-200"}`,children:a.jsx(pA,{className:`w-3 h-3 sm:w-4 sm:h-4 ${l?"fill-current":""}`})}),a.jsx("button",{onClick:m,className:"p-2 sm:p-3 rounded-full bg-white/95 backdrop-blur-md text-gray-700 hover:bg-black hover:text-white transition-all duration-300 shadow-xl border border-gray-200",children:a.jsx(Zn,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})}),a.jsxs("div",{className:"relative h-32 sm:h-36 lg:h-40 overflow-hidden",children:[a.jsx("img",{src:((b=t.images)==null?void 0:b[0])||"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:t.title,className:`absolute inset-0 w-full h-full object-cover transition-all duration-700 group-hover:scale-110 ${(y=t.images)!=null&&y[1]?"group-hover:opacity-0":"group-hover:opacity-60"}`}),((x=t.images)==null?void 0:x[1])&&a.jsx("img",{src:t.images[1],alt:`${t.title} hover`,className:"absolute inset-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-all duration-700 group-hover:scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),a.jsxs("div",{className:"p-2 flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1 h-4",children:[a.jsx(Ku,{className:"w-2.5 h-2.5 text-gray-600"}),a.jsx("span",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide truncate",children:t.category})]}),a.jsx("h3",{className:"font-bold text-black mb-2 line-clamp-2 group-hover:text-gray-800 transition-all duration-300 leading-tight text-xs h-8 overflow-hidden font-body",children:t.title}),a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("span",{className:"text-sm sm:text-base font-black text-black",children:Lr(t.price)}),f()&&a.jsx("span",{className:"text-xs sm:text-sm text-gray-400 line-through font-medium",children:Lr(t.oldPrice)}),f()&&a.jsxs("span",{className:"text-xs font-bold text-white bg-black px-2 sm:px-3 py-0.5 sm:py-1 rounded-full",children:[Math.round((t.oldPrice-t.price)/t.oldPrice*100),"%"]})]}),(t.rating>0||t.totalOrders>0)&&a.jsxs("div",{className:`grid gap-2 mb-1 ${t.rating>0&&t.totalOrders>0?"grid-cols-2":"grid-cols-1"}`,children:[t.rating>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map((w,_)=>a.jsx(Wr,{className:`w-2.5 h-2.5 ${_<Math.floor(t.rating)?"fill-black text-black":"fill-gray-300 text-gray-300"}`},_))}),a.jsx("span",{className:"text-xs text-black font-medium",children:t.rating})]}),t.totalOrders>0&&a.jsx("div",{className:`${t.rating>0?"text-right":"text-left"}`,children:a.jsxs("span",{className:"text-xs text-black font-medium",children:[t.totalOrders," sold"]})})]}),a.jsx("div",{className:"flex justify-center mb-1",children:a.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full w-full text-center ${t.stock>5?"text-black bg-gray-100":t.stock>0?"text-white bg-gray-600":"text-white bg-black"}`,children:t.stock>0?`${t.stock} in stock`:"Out of stock"})}),a.jsx("div",{className:"mt-auto pt-1",children:t.stock>0&&a.jsxs("button",{onClick:m,className:"w-full bg-black text-white py-1.5 rounded-lg font-bold transition-all duration-300 hover:bg-gray-800 hover:shadow-xl transform hover:scale-[1.02] text-xs",children:[a.jsx("span",{className:"hidden sm:inline",children:"QUICK VIEW"}),a.jsx("span",{className:"sm:hidden",children:"VIEW"})]})})]})]})})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-xs sm:max-w-md max-h-[90vh] overflow-y-auto border border-gray-200",children:a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>o(!1),className:"absolute top-3 sm:top-4 right-3 sm:right-4 z-10 p-2 bg-white/95 backdrop-blur-md rounded-full hover:bg-black hover:text-white transition-all duration-300 border border-gray-200",children:a.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("div",{className:"h-48 sm:h-64 overflow-hidden rounded-t-xl sm:rounded-t-2xl",children:a.jsx("img",{src:((v=t.images)==null?void 0:v[0])||"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:t.title,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ku,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),a.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-500 uppercase tracking-widest",children:t.category})]}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-black mb-3 sm:mb-4 font-display",children:t.title}),a.jsx("p",{className:"text-gray-600 mb-4 sm:mb-5 leading-relaxed text-sm sm:text-base font-body",children:t.description}),a.jsxs("div",{className:"flex items-baseline gap-2 sm:gap-3 mb-4",children:[a.jsx("span",{className:"text-2xl sm:text-3xl font-black text-black",children:Lr(t.price)}),f()&&a.jsx("span",{className:"text-base sm:text-lg text-gray-400 line-through font-medium",children:Lr(t.oldPrice)})]}),a.jsxs("div",{className:`grid gap-4 mb-6 p-3 bg-gray-100 rounded-lg grid-cols-${[t.rating>0,!0,t.totalOrders>0].filter(Boolean).length}`,children:[t.rating>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"block text-lg font-bold text-black",children:t.rating}),a.jsx("span",{className:"text-xs text-gray-700 uppercase tracking-wide",children:"Rating"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"block text-lg font-bold text-black",children:t.stock||0}),a.jsx("span",{className:"text-xs text-gray-700 uppercase tracking-wide",children:"Stock"})]}),t.totalOrders>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"block text-lg font-bold text-black",children:t.totalOrders}),a.jsx("span",{className:"text-xs text-gray-700 uppercase tracking-wide",children:"Sold"})]})]}),t.rating>0&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map((w,_)=>a.jsx(Wr,{className:`w-5 h-5 ${_<Math.floor(t.rating)?"fill-black text-black":"fill-gray-300 text-gray-300"}`},_))}),a.jsxs("span",{className:"text-base font-medium text-black",children:["(",t.rating,"/5)"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 mb-6 sm:mb-8",children:[a.jsx("span",{className:"text-sm font-bold text-gray-900",children:"QUANTITY:"}),a.jsxs("div",{className:"flex items-center border-2 border-gray-900 rounded-lg w-fit",children:[a.jsx("button",{type:"button",onClick:()=>d(Math.max(1,u-1)),className:"px-3 sm:px-4 py-2 text-gray-900 hover:bg-gray-100 transition-colors font-bold",children:"−"}),a.jsx("span",{className:"px-4 sm:px-6 py-2 border-x-2 border-gray-900 bg-gray-50 font-bold min-w-[60px] text-center",children:u}),a.jsx("button",{type:"button",onClick:()=>d(Math.min(t.stock,u+1)),className:"px-3 sm:px-4 py-2 text-gray-900 hover:bg-gray-100 transition-colors font-bold",children:"+"})]})]}),a.jsxs("button",{onClick:p,className:"w-full bg-black text-white py-3 sm:py-4 rounded-lg sm:rounded-xl font-bold transition-all duration-300 hover:bg-gray-900 hover:shadow-2xl transform hover:scale-[1.02] flex items-center justify-center gap-2 sm:gap-3 tracking-wide text-sm sm:text-base",children:[a.jsx(gA,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"ADD TO CART"]})]})]})})})]})},IN=({service:t})=>{var h,p,m,g;const r=te.useRef(null),[n,s]=te.useState(!1),[i,o]=te.useState(!1),{addToBooking:l}=ld(),{user:c}=On();te.useEffect(()=>{const b=new IntersectionObserver(y=>{y.forEach(x=>{x.isIntersecting&&(fetch("http://localhost:10000/api/services/impression",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serviceId:t._id})}).catch(v=>console.error("Impression error:",v)),b.unobserve(x.target))})},{threshold:.5});return r.current&&b.observe(r.current),()=>{r.current&&b.unobserve(r.current)}},[t._id]);const u=()=>{const b=new Date(Date.now()-6048e5);return new Date(t.createdAt)>b},d=b=>{b.preventDefault(),b.stopPropagation(),o(!i)},A=b=>{b.preventDefault(),b.stopPropagation(),s(!0)},f=b=>{var x;if(b.preventDefault(),b.stopPropagation(),(c==null?void 0:c.role)!=="customer"){alert("Only customers can add items to cart");return}const y={...t,storeId:((x=t.storeId)==null?void 0:x._id)||t.storeId};console.log("Added to cart:",{service:t._id}),s(!1),l(y)};return a.jsxs(a.Fragment,{children:[a.jsx($t,{to:`/service/${t._id}`,className:"block",children:a.jsx("div",{className:"relative w-full",ref:r,children:a.jsxs("div",{className:"group relative bg-white rounded-lg sm:rounded-xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden border border-gray-200 hover:border-black transform hover:-translate-y-1 sm:hover:-translate-y-2 w-full h-full flex flex-col",children:[a.jsxs("div",{className:"absolute top-2 sm:top-3 left-2 sm:left-3 z-20 flex flex-col gap-1 sm:gap-2",children:[u()&&a.jsx("span",{className:"bg-black text-white text-xs font-bold px-2 sm:px-4 py-1 sm:py-1.5 rounded-full shadow-lg backdrop-blur-sm tracking-wider",children:"NEW"}),a.jsx("span",{className:"bg-black text-white text-xs font-bold px-2 sm:px-4 py-1 sm:py-1.5 rounded-full shadow-lg backdrop-blur-sm tracking-wider uppercase",children:t.priceType})]}),a.jsx("div",{className:"absolute top-2 sm:top-3 right-2 sm:right-3 z-20 flex flex-row sm:flex-col gap-1 sm:gap-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-all duration-500 transform translate-x-0 sm:translate-x-4 sm:group-hover:translate-x-0",children:(c==null?void 0:c.role)==="customer"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:d,className:`p-2 sm:p-3 rounded-full backdrop-blur-md transition-all duration-300 shadow-xl ${i?"bg-black text-white":"bg-white/95 text-black hover:bg-black hover:text-white border border-black"}`,children:a.jsx(pA,{className:`w-3 h-3 sm:w-4 sm:h-4 ${i?"fill-current":""}`})}),a.jsx("button",{onClick:A,className:"p-2 sm:p-3 rounded-full bg-white/95 backdrop-blur-md text-black hover:bg-black hover:text-white transition-all duration-300 shadow-xl border border-black",children:a.jsx(Zn,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})}),a.jsxs("div",{className:"relative h-32 sm:h-36 lg:h-40 overflow-hidden",children:[a.jsx("img",{src:((h=t.images)==null?void 0:h[0])||"https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop",alt:t.title,className:`absolute inset-0 w-full h-full object-cover transition-all duration-700 group-hover:scale-110 ${(p=t.images)!=null&&p[1]?"group-hover:opacity-0":"group-hover:opacity-60"}`}),((m=t.images)==null?void 0:m[1])&&a.jsx("img",{src:t.images[1],alt:`${t.title} hover`,className:"absolute inset-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-all duration-700 group-hover:scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),a.jsxs("div",{className:"p-2 flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1 h-4",children:[a.jsx(Ku,{className:"w-2.5 h-2.5 text-gray-600"}),a.jsx("span",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide truncate",children:t.category})]}),a.jsx("h3",{className:"font-bold text-black mb-2 line-clamp-2 group-hover:text-gray-800 transition-all duration-300 leading-tight text-xs h-8 overflow-hidden font-body",children:t.title}),a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("span",{className:"text-sm sm:text-base font-black text-black",children:Lr(t.price)}),t.priceType==="hourly"&&a.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:"/HOUR"})]}),(t.rating>0||t.totalBookings>0)&&a.jsxs("div",{className:`grid gap-2 mb-1 ${t.rating>0&&t.totalBookings>0?"grid-cols-2":"grid-cols-1"}`,children:[t.rating>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map((b,y)=>a.jsx(Wr,{className:`w-2.5 h-2.5 ${y<Math.floor(t.rating)?"fill-black text-black":"fill-gray-300 text-gray-300"}`},y))}),a.jsx("span",{className:"text-xs text-black font-medium",children:t.rating})]}),t.totalBookings>0&&a.jsx("div",{className:`${t.rating>0?"text-right":"text-left"}`,children:a.jsxs("span",{className:"text-xs text-black font-medium",children:[t.totalBookings," booked"]})})]}),a.jsx("div",{className:"flex justify-center mb-1",children:a.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold px-2 py-1 rounded-full bg-gray-100 text-black w-full justify-center",children:[a.jsx($s,{className:"w-3 h-3"}),a.jsxs("span",{className:"hidden sm:inline",children:[t.duration," minutes"]}),a.jsxs("span",{className:"sm:hidden",children:[t.duration,"m"]})]})}),a.jsx("div",{className:"mt-auto pt-1",children:c&&a.jsxs("button",{onClick:A,className:"w-full bg-black text-white py-1.5 rounded-lg font-bold transition-all duration-300 hover:bg-gray-800 hover:shadow-xl transform hover:scale-[1.02] text-xs",children:[a.jsx("span",{className:"hidden sm:inline",children:"QUICK VIEW"}),a.jsx("span",{className:"sm:hidden",children:"VIEW"})]})})]})]})})}),n&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-xs sm:max-w-md max-h-[90vh] overflow-y-auto border border-gray-200",children:a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>s(!1),className:"absolute top-3 sm:top-4 right-3 sm:right-4 z-10 p-2 bg-white/95 backdrop-blur-md rounded-full hover:bg-black hover:text-white transition-all duration-300 border border-gray-200",children:a.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("div",{className:"h-48 sm:h-64 overflow-hidden rounded-t-xl sm:rounded-t-2xl",children:a.jsx("img",{src:((g=t.images)==null?void 0:g[0])||"https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop",alt:t.title,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ku,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),a.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-500 uppercase tracking-widest",children:t.category})]}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-black mb-3 sm:mb-4 font-display",children:t.title}),a.jsx("p",{className:"text-gray-600 mb-4 sm:mb-5 leading-relaxed text-sm sm:text-base font-body",children:t.description}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-2xl sm:text-3xl font-black text-black",children:Lr(t.price)}),t.priceType==="hourly"&&a.jsx("span",{className:"text-sm font-bold text-gray-500 uppercase tracking-wide",children:"/HOUR"})]}),a.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-3 py-2 rounded-full",children:[a.jsx($s,{className:"w-4 h-4 text-black"}),a.jsxs("span",{className:"text-sm font-bold text-black",children:[t.duration," min"]})]})]}),a.jsxs("div",{className:`grid gap-4 mb-6 p-3 bg-gray-100 rounded-lg grid-cols-${[t.rating>0,!0,t.totalBookings>0].filter(Boolean).length}`,children:[t.rating>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"block text-lg font-bold text-black",children:t.rating}),a.jsx("span",{className:"text-xs text-gray-700 uppercase tracking-wide",children:"Rating"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"block text-lg font-bold text-black",children:t.duration||0}),a.jsx("span",{className:"text-xs text-gray-700 uppercase tracking-wide",children:"Minutes"})]}),t.totalBookings>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"block text-lg font-bold text-black",children:t.totalBookings}),a.jsx("span",{className:"text-xs text-gray-700 uppercase tracking-wide",children:"Booked"})]})]}),t.rating>0&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map((b,y)=>a.jsx(Wr,{className:`w-5 h-5 ${y<Math.floor(t.rating)?"fill-black text-black":"fill-gray-300 text-gray-300"}`},y))}),a.jsxs("span",{className:"text-base font-medium text-black",children:["(",t.rating,"/5)"]})]}),a.jsxs("button",{onClick:f,className:"w-full bg-black text-white py-3 sm:py-4 rounded-lg sm:rounded-xl font-bold transition-all duration-300 hover:bg-gray-800 hover:shadow-2xl transform hover:scale-[1.02] flex items-center justify-center gap-2 sm:gap-3 tracking-wide text-sm sm:text-base",children:[a.jsx(Es,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"BOOK SERVICE"]})]})]})})})]})},B8=({store:t})=>{var f,h,p,m,g,b;const[r,n]=te.useState(!1),[s,i]=te.useState(!1),[o,l]=te.useState(0),{user:c}=On();te.useEffect(()=>{(async()=>{try{const v=await(await fetch(`http://localhost:10000/api/stores/${t._id}/item-count`)).json();l(v.count)}catch(x){console.error("Error fetching product count",x),l(0)}})()},[t._id]);const u=()=>{const y=new Date(Date.now()-6048e5);return new Date(t.createdAt)>y},d=y=>{y.preventDefault(),y.stopPropagation(),i(!s)},A=y=>{y.preventDefault(),y.stopPropagation(),n(!0)};return a.jsxs(a.Fragment,{children:[a.jsx($t,{to:`/store/${t._id}`,className:"block",children:a.jsx("div",{className:"relative w-full",children:a.jsxs("div",{className:"group relative bg-white rounded-lg sm:rounded-xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden border border-gray-100 hover:border-black transform hover:-translate-y-1 sm:hover:-translate-y-2 w-full",children:[a.jsxs("div",{className:"absolute top-2 sm:top-3 left-2 sm:left-3 z-20 flex flex-col gap-1 sm:gap-2",children:[u()&&a.jsx("span",{className:"bg-black text-white text-xs font-bold px-2 sm:px-4 py-1 sm:py-1.5 rounded-full shadow-lg backdrop-blur-sm tracking-wider",children:"NEW"}),a.jsxs("span",{className:"bg-gray-900 text-white text-xs font-bold px-2 sm:px-4 py-1 sm:py-1.5 rounded-full shadow-lg backdrop-blur-sm tracking-wider uppercase flex items-center gap-1",children:[a.jsx(li,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),a.jsx("span",{className:"hidden sm:inline",children:t.type}),a.jsx("span",{className:"sm:hidden",children:t.type.charAt(0).toUpperCase()})]})]}),a.jsx("div",{className:"absolute top-2 sm:top-3 right-12 sm:right-16 z-20",children:a.jsxs("span",{className:`text-xs font-bold px-2 sm:px-3 py-1 sm:py-1.5 rounded-full shadow-lg backdrop-blur-sm ${t.isActive?"bg-green-600 text-white":"bg-gray-600 text-white"}`,children:[a.jsx("span",{className:"hidden sm:inline",children:t.isActive?"ACTIVE":"INACTIVE"}),a.jsx("span",{className:"sm:hidden",children:"●"})]})}),a.jsx("div",{className:"absolute top-2 sm:top-3 right-2 sm:right-3 z-20 flex flex-row sm:flex-col gap-1 sm:gap-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-all duration-500 transform translate-x-0 sm:translate-x-4 sm:group-hover:translate-x-0",children:(c==null?void 0:c.role)==="customer"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:d,className:`p-2 sm:p-3 rounded-full backdrop-blur-md transition-all duration-300 shadow-xl ${s?"bg-black text-white":"bg-white/95 text-gray-700 hover:bg-black hover:text-white border border-gray-200"}`,children:a.jsx(pA,{className:`w-3 h-3 sm:w-4 sm:h-4 ${s?"fill-current":""}`})}),a.jsx("button",{onClick:A,className:"p-2 sm:p-3 rounded-full bg-white/95 backdrop-blur-md text-gray-700 hover:bg-black hover:text-white transition-all duration-300 shadow-xl border border-gray-200",children:a.jsx(Zn,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})}),a.jsxs("div",{className:"relative h-32 sm:h-36 lg:h-40 overflow-hidden",children:[a.jsx("img",{src:((f=t.heroImages)==null?void 0:f[0])||"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",alt:t.name,className:`absolute inset-0 w-full h-full object-cover transition-all duration-700 group-hover:scale-110 ${(h=t.heroImages)!=null&&h[1]?"group-hover:opacity-0":"group-hover:opacity-60"}`}),((p=t.heroImages)==null?void 0:p[1])&&a.jsx("img",{src:t.heroImages[1],alt:`${t.name} hero`,className:"absolute inset-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-all duration-700 group-hover:scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),a.jsxs("div",{className:"p-2 sm:p-3",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-1.5 line-clamp-2 group-hover:text-black transition-all duration-300 leading-tight text-xs sm:text-sm",children:t.name.length>30?`${t.name.slice(0,30)}...`:t.name}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map((y,x)=>a.jsx(Wr,{className:`w-3 h-3 ${x<Math.floor(t.rating)?"fill-gray-900 text-gray-900":"fill-gray-300 text-gray-300"}`},x))}),a.jsxs("span",{className:"text-xs text-gray-600 ml-1 font-medium",children:["(",t.rating,")"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold px-2 sm:px-3 py-1 sm:py-1.5 rounded-full bg-gray-100 text-black",children:[a.jsx(Hl,{className:"w-3 h-3"}),a.jsxs("span",{className:"hidden sm:inline",children:[t.totalSales," SALES"]}),a.jsx("span",{className:"sm:hidden",children:t.totalSales})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[a.jsx(Vl,{className:"w-3 h-3"}),a.jsx("span",{className:"font-medium",children:((m=t.ownerId)==null?void 0:m.name)||"Store Owner"})]}),t.location&&a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[a.jsx(ql,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:t.location}),a.jsx("span",{className:"sm:hidden",children:"📍"})]})]}),c&&t.isActive&&a.jsxs("button",{onClick:A,className:"w-full bg-black text-white py-1.5 sm:py-2 rounded-lg font-bold transition-all duration-300 hover:bg-gray-900 hover:shadow-2xl transform hover:scale-[1.02] focus:outline-none focus:ring-4 focus:ring-gray-300 tracking-wide text-xs",children:[a.jsx("span",{className:"hidden sm:inline",children:"QUICK VIEW"}),a.jsx("span",{className:"sm:hidden",children:"VIEW"})]})]})]})})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-xs sm:max-w-md max-h-[90vh] overflow-y-auto border border-gray-200",children:a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>n(!1),className:"absolute top-3 sm:top-4 right-3 sm:right-4 z-10 p-2 bg-white/95 backdrop-blur-md rounded-full hover:bg-black hover:text-white transition-all duration-300 border border-gray-200",children:a.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("div",{className:"h-48 sm:h-64 overflow-hidden rounded-t-xl sm:rounded-t-2xl",children:a.jsx("img",{src:((g=t.heroImages)==null?void 0:g[0])||"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",alt:t.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(li,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),a.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-500 uppercase tracking-widest",children:t.type}),a.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ml-auto ${t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.isActive?"ACTIVE":"INACTIVE"})]}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-black mb-3 sm:mb-4",children:t.name}),a.jsx("p",{className:"text-gray-600 mb-4 sm:mb-5 leading-relaxed text-sm sm:text-base",children:t.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 sm:mb-6",children:[a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[a.jsx("div",{className:"text-lg sm:text-xl font-bold text-black",children:o||0}),a.jsx("div",{className:"text-xs text-gray-600 font-semibold uppercase tracking-wide",children:"Products"})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[a.jsx("div",{className:"text-lg sm:text-xl font-bold text-black",children:t.totalSales}),a.jsx("div",{className:"text-xs text-gray-600 font-semibold uppercase tracking-wide",children:"Sales"})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map((y,x)=>a.jsx(Wr,{className:`w-5 h-5 ${x<Math.floor(t.rating)?"fill-gray-900 text-gray-900":"fill-gray-300 text-gray-300"}`},x))}),a.jsxs("span",{className:"text-base font-medium text-gray-600",children:["(",t.rating,")"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(Vl,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:(b=t.ownerId)==null?void 0:b.name})]})]}),t.isActive&&a.jsx($t,{to:`/store/${t._id}`,children:a.jsxs("button",{className:"w-full bg-black text-white py-3 sm:py-4 rounded-lg sm:rounded-xl font-bold transition-all duration-300 hover:bg-gray-900 hover:shadow-2xl transform hover:scale-[1.02] flex items-center justify-center gap-2 sm:gap-3 tracking-wide text-sm sm:text-base",children:[a.jsx(li,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"VISIT STORE"]})})]})]})})})]})},Uq=({category:t,index:r})=>{const[n,s]=te.useState(!1),i=()=>{s(!0)},o=t.image&&t.image.length>0?t.image[0]:null,l=["from-purple-600 via-blue-600 to-cyan-600","from-pink-500 via-red-500 to-yellow-500","from-green-500 via-teal-500 to-blue-500","from-indigo-600 via-purple-600 to-pink-600","from-orange-500 via-red-500 to-pink-500","from-emerald-500 via-teal-500 to-cyan-500","from-violet-600 via-purple-600 to-blue-600","from-amber-500 via-orange-500 to-red-500"],c=l[r%l.length];return a.jsx($t,{to:`/products?category=${encodeURIComponent(t.name)}`,children:a.jsx("div",{className:"group cursor-pointer flex-none",children:a.jsxs("div",{className:"relative w-72 h-40 rounded-2xl overflow-hidden transition-all duration-500 hover:shadow-2xl hover:shadow-black/20 hover:scale-[1.02] transform",children:[o&&!n?a.jsx("img",{src:o,alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:i}):a.jsx("div",{className:`w-full h-full bg-gradient-to-br ${c}`}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),a.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between p-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center space-x-1 px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full",children:[a.jsx(yA,{className:"w-3 h-3 text-white"}),a.jsx("span",{className:"text-xs text-white font-medium",children:"Popular"})]}),a.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-x-2 group-hover:translate-x-0",children:a.jsx(F5,{className:"w-4 h-4 text-white"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-bold text-white leading-tight drop-shadow-lg",children:t.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-white/80",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Hl,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs font-medium",children:"Trending"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(zl,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs font-medium",children:"1.2k+ items"})]})]})]})]}),a.jsx("div",{className:"absolute inset-0 rounded-2xl ring-2 ring-transparent group-hover:ring-white/30 transition-all duration-300"})]})})})},Rq=({categories:t,title:r="Explore Categories"})=>{const n=te.useRef(null),s=o=>{const l=n.current;if(!l)return;const c=300,u=l.scrollWidth-l.clientWidth;o==="left"?l.scrollLeft<=0?l.scrollTo({left:u,behavior:"smooth"}):l.scrollBy({left:-c,behavior:"smooth"}):l.scrollLeft>=u?l.scrollTo({left:0,behavior:"smooth"}):l.scrollBy({left:c,behavior:"smooth"})},i=t&&t.length>0?t:[{_id:1,name:"Digital Marketing & SEO",image:["https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=600&h=400&fit=crop"]},{_id:2,name:"Web Development & Design",image:["https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=600&h=400&fit=crop"]},{_id:3,name:"Graphic Design & Branding",image:["https://images.unsplash.com/photo-1561070791-2526d30994b5?w=600&h=400&fit=crop"]},{_id:4,name:"Business Consulting",image:["https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=600&h=400&fit=crop"]},{_id:5,name:"Content Creation & Copywriting",image:["https://images.unsplash.com/photo-1486312338219-ce68e2c6b81d?w=600&h=400&fit=crop"]},{_id:6,name:"Photography & Video",image:["https://images.unsplash.com/photo-1502920917128-1aa500764cbd?w=600&h=400&fit=crop"]},{_id:7,name:"E-commerce Solutions",image:["https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=600&h=400&fit=crop"]},{_id:8,name:"Legal & Financial Services",image:["https://images.unsplash.com/photo-1450101499163-c8848c66ca85?w=600&h=400&fit=crop"]}];return a.jsx("section",{className:"py-16 bg-gradient-to-b from-gray-50 to-white",children:a.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-4 leading-tight font-sans",children:r})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>s("left"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 bg-white rounded-full shadow-xl border border-gray-100 flex items-center justify-center hover:bg-gray-50 hover:shadow-2xl transition-all duration-300 group",children:a.jsx(km,{className:"w-6 h-6 text-gray-600 group-hover:text-black transition-colors"})}),a.jsx("button",{onClick:()=>s("right"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 bg-white rounded-full shadow-xl border border-gray-100 flex items-center justify-center hover:bg-gray-50 hover:shadow-2xl transition-all duration-300 group",children:a.jsx(Ru,{className:"w-6 h-6 text-gray-600 group-hover:text-black transition-colors"})}),a.jsx("div",{className:"mx-16",children:a.jsx("div",{ref:n,className:"flex space-x-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitScrollbar:{display:"none"}},children:i.map((o,l)=>a.jsx(Uq,{category:o,index:l},o._id))})})]})]})})},C8=({saleStartsInHours:t=0,saleStartsInMinutes:r=0,saleStartsInSeconds:n=4,saleEndsInHours:s=6,saleEndsInMinutes:i=30,saleEndsInSeconds:o=0,saleName:l="MEGA FLASH SALE",saleSubtitle:c="Limited time offers you can't miss",discountText:u="UP TO 80% OFF",buttonText:d="SHOP NOW",timerLabel:A="Sale Starts In:",backgroundColor:f="linear-gradient(135deg, #ff1744, #e91e63, #f50057)",backgroundImage:h=null,textColor:p="#ffffff",accentColor:m="#ffff00",heroImage:g="https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?w=500&h=400&fit=crop&format=png",showHeroImage:b=!0,products:y=[{id:1,image:"https://firebasestorage.googleapis.com/v0/b/all-in-one-98568.firebasestorage.app/o/sales%2Fsale.png?alt=media&token=131461b9-f22b-41fc-b8e8-3d467401d3d7",title:"Top deals",price:"LKR926.18",category:"Electronics"},{id:2,image:"https://firebasestorage.googleapis.com/v0/b/all-in-one-98568.firebasestorage.app/o/sales%2Fsale.png?alt=media&token=131461b9-f22b-41fc-b8e8-3d467401d3d7",title:"Tech essentials",price:"LKR953.86",category:"Gadgets"},{id:3,image:"https://firebasestorage.googleapis.com/v0/b/all-in-one-98568.firebasestorage.app/o/sales%2Fsale.png?alt=media&token=131461b9-f22b-41fc-b8e8-3d467401d3d7",title:"Top deals",price:"LKR14,184.05",category:"Fashion"}],onPage:x=!1})=>{const[v,w]=te.useState(0),[_,B]=te.useState({hours:0,minutes:4,seconds:20}),[N,j]=te.useState(!1);te.useEffect(()=>{const E=setInterval(()=>{w(S=>(S+1)%y.length)},4e3);return()=>clearInterval(E)},[y.length]),te.useEffect(()=>{const E=new Date,S=new Date(E.getTime()+t*60*60*1e3+r*60*1e3+n*1e3),k=new Date(S.getTime()+s*60*60*1e3+i*60*1e3+o*1e3),P=()=>{const H=new Date;if(H<S){j(!1);const F=S-H,Q=Math.floor(F/(1e3*60*60)),K=Math.floor(F%(1e3*60*60)/(1e3*60)),Y=Math.floor(F%(1e3*60)/1e3);B({hours:Q,minutes:K,seconds:Y})}else if(H<k){j(!0);const F=k-H,Q=Math.floor(F/(1e3*60*60)),K=Math.floor(F%(1e3*60*60)/(1e3*60)),Y=Math.floor(F%(1e3*60)/1e3);B({hours:Q,minutes:K,seconds:Y})}else j(!1),B({hours:0,minutes:0,seconds:0})};P();const M=setInterval(P,1e3);return()=>clearInterval(M)},[t,r,n,s,i,o]);const C=h?{backgroundImage:`url(${h})`,backgroundSize:"cover",backgroundPosition:"center"}:{background:f};return a.jsxs("section",{className:"relative overflow-hidden",style:C,children:[a.jsxs("div",{className:"absolute inset-0 opacity-20",children:[a.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-10 right-20 w-48 h-48 bg-white rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-white rounded-full blur-2xl"}),a.jsx("div",{className:"absolute top-5 right-5 w-4 h-4 bg-yellow-300 rotate-45"}),a.jsx("div",{className:"absolute bottom-20 left-20 w-6 h-6 bg-cyan-300 rotate-12"}),a.jsx("div",{className:"absolute top-20 right-1/3 w-3 h-3 bg-pink-300 rounded-full"})]}),a.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch min-h-[500px]",children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center lg:text-left px-4 sm:px-6 lg:px-8 py-12 lg:py-16",style:{color:p},children:[a.jsxs("div",{className:"inline-flex items-center gap-3 bg-black/30 backdrop-blur-sm rounded-full px-4 py-2 mb-6 mx-auto lg:mx-0 w-fit",children:[a.jsx($s,{className:"w-4 h-4"}),a.jsx("span",{className:"font-bold text-sm",children:N?"Sale Ends In:":A}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("span",{className:"bg-white text-black px-2 py-1 rounded text-sm font-mono font-bold min-w-[30px]",children:String(_.hours).padStart(2,"0")}),a.jsx("span",{className:"bg-white text-black px-2 py-1 rounded text-sm font-mono font-bold min-w-[30px]",children:String(_.minutes).padStart(2,"0")}),a.jsx("span",{className:"bg-white text-black px-2 py-1 rounded text-sm font-mono font-bold min-w-[30px]",children:String(_.seconds).padStart(2,"0")})]})]}),a.jsx("h1",{className:"text-4xl lg:text-6xl font-black mb-4",children:l}),a.jsxs("div",{className:"text-3xl lg:text-5xl font-black mb-6",style:{color:m},children:[u,a.jsx(zd,{className:"inline ml-4 w-8 h-8 lg:w-12 lg:h-12"})]}),a.jsx("p",{className:"text-lg lg:text-xl mb-8 opacity-90 max-w-2xl mx-auto lg:mx-0",children:c}),!x&&N&&a.jsx($t,{to:"/sale",children:a.jsxs("button",{type:"button",className:"bg-white text-black font-bold text-lg px-8 py-4 rounded-lg hover:bg-gray-100 transition-all duration-300 shadow-xl hover:scale-105 flex items-center gap-3 mx-auto lg:mx-0 w-fit",children:[d,a.jsx(zd,{className:"w-5 h-5"})]})})]}),b&&a.jsx("div",{className:"hidden lg:block flex-1",children:a.jsx("img",{src:g,alt:"Sale Hero",className:"w-full h-full object-cover"})})]})})]})},Mq=({headline:t="Discover Amazing Products",description:r="Experience quality and style like never before",ctaButtonText:n="SHOP NOW",ctaButtonLink:s="/shop",badgeText:i="NEW COLLECTION",showBadge:o=!0,showCtaButton:l=!0,backgroundColor:c="linear-gradient(135deg, #667eea, #764ba2)",backgroundImage:u=null,textColor:d="#ffffff",accentColor:A="#ffff00",buttonBgColor:f="#ffffff",buttonTextColor:h="#000000",heroImage:p="https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?w=500&h=400&fit=crop&format=png",heroImageAlt:m="Hero Image",showHeroImage:g=!0,className:b="",minHeight:y="500px"})=>{const x=u?{backgroundImage:`url(${u})`,backgroundSize:"cover",backgroundPosition:"center"}:{background:c};return a.jsxs("section",{className:`relative overflow-hidden ${b}`,style:{...x,minHeight:y},children:[a.jsxs("div",{className:"absolute inset-0 opacity-20",children:[a.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-10 right-20 w-48 h-48 bg-white rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-white rounded-full blur-2xl"}),a.jsx("div",{className:"absolute top-5 right-5 w-4 h-4 bg-yellow-300 rotate-45"}),a.jsx("div",{className:"absolute bottom-20 left-20 w-6 h-6 bg-cyan-300 rotate-12"}),a.jsx("div",{className:"absolute top-20 right-1/3 w-3 h-3 bg-pink-300 rounded-full"})]}),a.jsx("div",{className:"max-w-7xl mx-auto relative z-10 h-full",children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch h-full",style:{minHeight:y},children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center lg:text-left px-4 sm:px-6 lg:px-8 py-12 lg:py-16",style:{color:d},children:[o&&i&&a.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/30 backdrop-blur-sm rounded-full px-4 py-2 mb-6 mx-auto lg:mx-0 w-fit",style:{backgroundColor:`${A}20`},children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:A}}),a.jsx("span",{className:"font-bold text-sm",children:i})]}),a.jsx("h1",{className:"text-4xl lg:text-6xl font-black mb-6 leading-tight",children:t}),a.jsx("p",{className:"text-lg lg:text-xl mb-8 opacity-90 max-w-2xl mx-auto lg:mx-0 leading-relaxed",children:r}),l&&n&&a.jsx("a",{href:s,className:"inline-block",children:a.jsxs("button",{type:"button",className:"font-bold text-lg px-8 py-4 rounded-lg transition-all duration-300 shadow-xl hover:scale-105 flex items-center gap-3 mx-auto lg:mx-0 w-fit hover:shadow-2xl",style:{backgroundColor:f,color:h},onMouseEnter:v=>{v.target.style.filter="brightness(0.9)"},onMouseLeave:v=>{v.target.style.filter="brightness(1)"},children:[n,a.jsx(zd,{className:"w-5 h-5"})]})})]}),g&&p&&a.jsx("div",{className:"hidden lg:block flex-1",children:a.jsx("img",{src:p,alt:m,className:"w-full h-full object-cover"})})]})})]})},Qq=({banners:t=[],autoSlideInterval:r=5e3,showControls:n=!0,showDots:s=!0,pauseOnHover:i=!0,enableSwipe:o=!0,transitionDuration:l=500,className:c=""})=>{const[u,d]=wt.useState(0),[A,f]=wt.useState(!1),[h,p]=wt.useState(!1),m=wt.useRef(0),g=wt.useRef(0),b=wt.useRef(null);wt.useEffect(()=>{if(!(t.length<=1||A))return b.current=setInterval(()=>{y()},r),()=>{b.current&&clearInterval(b.current)}},[u,t.length,r,A]);const y=()=>{h||(p(!0),d(C=>(C+1)%t.length),setTimeout(()=>p(!1),l))},x=()=>{h||(p(!0),d(C=>(C-1+t.length)%t.length),setTimeout(()=>p(!1),l))},v=C=>{h||C===u||(p(!0),d(C),setTimeout(()=>p(!1),l))},w=C=>{o&&(m.current=C.touches[0].clientX)},_=C=>{o&&(g.current=C.touches[0].clientX)},B=()=>{if(!o)return;const C=m.current-g.current;Math.abs(C)>50&&(C>0?y():x())},N=()=>{i&&f(!0)},j=()=>{i&&f(!1)};return!t||t.length===0?a.jsx("div",{className:"w-full h-[500px] bg-gray-100 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500 text-lg",children:"No banners to display"})}):a.jsxs("div",{className:`relative w-full overflow-hidden ${c}`,onMouseEnter:N,onMouseLeave:j,onTouchStart:w,onTouchMove:_,onTouchEnd:B,children:[a.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${u*100}%)`,transitionDuration:`${l}ms`},children:t.map((C,E)=>a.jsx("div",{className:"w-full flex-shrink-0",children:a.jsx(Mq,{...C})},E))}),n&&t.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:x,disabled:h,className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full backdrop-blur-sm transition-all duration-300 hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Previous slide",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("button",{onClick:y,disabled:h,className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full backdrop-blur-sm transition-all duration-300 hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Next slide",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),s&&t.length>1&&a.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-20 flex gap-3",children:t.map((C,E)=>a.jsx("button",{onClick:()=>v(E),disabled:h,className:`w-3 h-3 rounded-full transition-all duration-300 ${E===u?"bg-white scale-125 shadow-lg":"bg-white/50 hover:bg-white/80 hover:scale-110"} disabled:cursor-not-allowed`,"aria-label":`Go to slide ${E+1}`},E))})]})},$q=()=>{const t=[{headline:"Discover Your Style",description:"Explore our curated collection of premium fashion and accessories that define modern elegance.",badgeText:"NEW COLLECTION",ctaButtonText:"EXPLORE NOW",ctaButtonLink:"/collections",backgroundColor:"linear-gradient(135deg, #667eea, #764ba2)",accentColor:"#ffff00",heroImage:"https://firebasestorage.googleapis.com/v0/b/all-in-one-98568.firebasestorage.app/o/sales%2Fsale.png?alt=media&token=131461b9-f22b-41fc-b8e8-3d467401d3d7",showBadge:!0,showCtaButton:!0},{headline:"Tech Revolution",description:"Experience the latest in technology with our cutting-edge gadgets and innovative solutions.",badgeText:"INNOVATION HUB",ctaButtonText:"DISCOVER TECH",ctaButtonLink:"/tech",backgroundColor:"linear-gradient(135deg, #000428, #004e92)",accentColor:"#00ff88",heroImage:"https://firebasestorage.googleapis.com/v0/b/all-in-one-98568.firebasestorage.app/o/sales%2Fsale.png?alt=media&token=131461b9-f22b-41fc-b8e8-3d467401d3d7",showBadge:!0,showCtaButton:!0},{headline:"Lifestyle Reimagined",description:"Transform your everyday with products designed for the modern lifestyle. Quality meets innovation.",badgeText:"FEATURED",ctaButtonText:"SHOP LIFESTYLE",ctaButtonLink:"/lifestyle",backgroundColor:"linear-gradient(135deg, #ff9a56, #ff6b6b)",accentColor:"#ffffff",buttonBgColor:"#000000",buttonTextColor:"#ffffff",heroImage:"https://firebasestorage.googleapis.com/v0/b/all-in-one-98568.firebasestorage.app/o/sales%2Fsale.png?alt=media&token=131461b9-f22b-41fc-b8e8-3d467401d3d7",showBadge:!0,showCtaButton:!0}];return a.jsx("div",{className:"w-full",children:a.jsx(Qq,{banners:t,autoSlideInterval:6e3,showControls:!0,showDots:!0,pauseOnHover:!0,enableSwipe:!0,transitionDuration:500})})},Hq=()=>{const[t,r]=te.useState([]),[n,s]=te.useState([]),[i,o]=te.useState([]),[l,c]=te.useState(!0),[u,d]=te.useState([]),[A,f]=te.useState(null),[h,p]=te.useState(!1),m=te.useRef(null),g=()=>{var N;(N=m.current)==null||N.scrollIntoView({behavior:"smooth",block:"start"}),console.log("Explore button clicked")};te.useEffect(()=>{b(),v(),y()},[]);const b=async()=>{try{const[N,j,C]=await Promise.all([fetch("http://localhost:10000/api/products"),fetch("http://localhost:10000/api/services"),fetch("http://localhost:10000/api/stores/featured/list")]);if(N.ok)try{const E=await N.json();r(E.slice(0,12))}catch(E){console.error("Error parsing products JSON:",E),r([])}if(j.ok)try{const E=await j.json();s(E.slice(0,8))}catch(E){console.error("Error parsing services JSON:",E),s([])}if(C.ok)try{const E=await C.json();o(E)}catch(E){console.error("Error parsing stores JSON:",E),o([])}}catch(N){console.error("Error fetching featured content:",N),r([]),s([]),o([])}finally{c(!1)}},y=async()=>{try{const N=await fetch("http://localhost:10000/api/flash-deals/current");if(!N.ok){console.error("Failed to fetch flash deal:",N.statusText),p(!1);return}const j=await N.json();j.success&&j.data?(f(j.data),p(!0)):(f(null),p(!1))}catch(N){console.error("Error fetching flash deal:",N),f(null),p(!1)}},x=async N=>{try{await fetch(`http://localhost:10000/api/flash-deals/${N}/click`,{method:"POST"})}catch(j){console.error("Error tracking click:",j)}},v=async()=>{try{const N=await fetch("http://localhost:10000/api/categories");if(!N.ok)throw new Error("Failed to fetch categories");const j=await N.json();d(j)}catch(N){console.error("Error loading categories:",N)}},w=()=>{A&&(x(A._id),window.location.href="/deals")},B=(()=>{if(!A)return null;const{timeRemaining:N,saleStatus:j}=A;return j==="upcoming"?{saleStartsInHours:N.hours,saleStartsInMinutes:N.minutes,saleStartsInSeconds:N.seconds,saleEndsInHours:0,saleEndsInMinutes:0,saleEndsInSeconds:0,timerLabel:A.timerLabel}:{saleStartsInHours:0,saleStartsInMinutes:0,saleStartsInSeconds:0,saleEndsInHours:N.hours,saleEndsInMinutes:N.minutes,saleEndsInSeconds:N.seconds,timerLabel:"Sale Ends In:"}})();return l?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black"})}):a.jsxs("div",{children:[h&&A&&B?a.jsx("section",{className:"py-0 bg-white",children:a.jsx(C8,{...B,saleName:A.saleName,saleSubtitle:A.saleSubtitle,discountText:A.discountText,buttonText:A.buttonText,backgroundColor:A.backgroundColor,backgroundImage:A.backgroundImage,textColor:A.textColor,accentColor:A.accentColor,heroImage:A.heroImage,showHeroImage:A.showHeroImage,onButtonClick:w})}):a.jsx($q,{apiEndpoint:"http://localhost:10000/api/products/trending",handlePrimaryButtonClick:g}),a.jsx("section",{className:"py-0",ref:m,children:a.jsx(Rq,{categories:u})}),a.jsx("section",{className:"py-5 bg-gray-50",children:a.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-4 leading-tight font-sans",children:"Featured Products"})}),t.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 gap-4",children:t.map(N=>a.jsx(FN,{product:N},N._id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs($t,{to:"/products",className:"inline-flex items-center space-x-2 bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors font-medium",children:[a.jsx("span",{children:"View All Products"}),a.jsx(zd,{className:"w-5 h-5"})]})})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Fi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No products available yet"})]})]})}),a.jsx("section",{className:"py-5 bg-white",children:a.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-4 leading-tight font-sans",children:"Featured Services"})}),n.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 gap-4",children:n.map(N=>a.jsx(IN,{service:N},N._id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs($t,{to:"/services",className:"inline-flex items-center space-x-2 bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors font-medium",children:[a.jsx("span",{children:"View All Services"}),a.jsx(zd,{className:"w-5 h-5"})]})})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Es,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No services available yet"})]})]})}),a.jsx("section",{className:"py-10 bg-black text-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-black mb-6 leading-tight font-sans",children:"Start Your Business Journey"}),a.jsx("p",{className:"text-xl mb-10 opacity-90 max-w-2xl mx-auto font-body",children:"Join thousands of successful entrepreneurs and start earning today. Create your store in minutes."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs($t,{to:"/register",className:"bg-white text-black px-8 py-4 rounded-lg font-semibold hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[a.jsx(Fi,{className:"w-5 h-5"}),a.jsx("span",{children:"Sell Products"})]}),a.jsxs($t,{to:"/register",className:"bg-transparent border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-black transition-colors flex items-center justify-center space-x-2",children:[a.jsx(Es,{className:"w-5 h-5"}),a.jsx("span",{children:"Offer Services"})]})]})]})}),a.jsx("section",{className:"py-5 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-4 leading-tight font-sans",children:"Premium Stores"})}),i.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:i.map(N=>a.jsx(B8,{store:N},N._id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs($t,{to:"/stores",className:"inline-flex items-center space-x-2 bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors font-medium",children:[a.jsx("span",{children:"View All Stores"}),a.jsx(zd,{className:"w-5 h-5"})]})})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(li,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No stores available yet"})]})]})})]})},_s=({size:t="md",className:r=""})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"};return a.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-black ${n[t]} ${r}`})},PN=({icon:t,title:r,description:n,action:s})=>a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[t&&a.jsx(t,{className:"w-16 h-16 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r}),a.jsx("p",{className:"text-gray-600 text-center mb-6 max-w-md",children:n}),s]}),Vq=({stores:t,loading:r,error:n})=>r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(_s,{size:"xl"})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:n}),a.jsx("div",{className:"mb-6",children:a.jsxs("p",{className:"text-gray-600",children:[t.length," store",t.length!==1?"s":""," found"]})}),t.length===0?a.jsx(PN,{icon:li,title:"No stores found",description:"Try adjusting your search criteria or check back later for new stores."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(s=>a.jsx(B8,{store:s},s._id))})]}),zq=()=>{const[t,r]=te.useState([]),[n,s]=te.useState(!0),[i,o]=te.useState(""),[l,c]=te.useState(""),[u,d]=te.useState(!1);te.useEffect(()=>{A({})},[]);const A=async(m={})=>{try{s(!0),o("");const g=typeof m=="object"&&m!==null?m:{};console.log("Valid Filters:",g);const b=await fetch("http://localhost:10000/api/stores/listing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(b.ok){const y=await b.json();r(y)}else o("Failed to fetch stores")}catch(g){console.error("Error fetching stores:",g),o("Network error. Please try again.")}finally{s(!1)}},f=m=>{var b;(b=m==null?void 0:m.preventDefault)==null||b.call(m),A({search:l})},h=()=>{c(""),A({})},p=!!l;return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"All Stores"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",value:l,onChange:m=>{c(m.target.value)},placeholder:"Search stores...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsx("button",{type:"button",onClick:f,className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Search"}),a.jsxs("button",{type:"button",onClick:()=>d(!u),className:`flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ${p?"bg-black text-white border-black":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,children:[a.jsx(Om,{className:"w-4 h-4"}),a.jsx("span",{children:u?"Hide Filters":"Show Filters"}),p&&a.jsx("span",{className:"bg-white text-black text-xs px-1.5 py-0.5 rounded-full",children:"1"})]})]}),u&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"}),p&&a.jsxs("button",{type:"button",onClick:h,className:"text-sm text-gray-500 hover:text-gray-700 flex items-center space-x-1",children:[a.jsx(hs,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear all"})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Search"}),a.jsx("input",{type:"text",value:l,onChange:m=>c(m.target.value),placeholder:"Enter store name, location, or owner...",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})}),a.jsx("button",{type:"button",onClick:f,className:"w-full bg-black text-white py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Apply Filters"})]})]})]})}),a.jsx(Vq,{stores:t,loading:n,error:i})]})},LN=({items:t=[],loading:r=!1,error:n=null,type:s="product"})=>{const i=t||[];return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(_s,{size:"xl"})}):a.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:n}),a.jsx("div",{className:"mb-6",children:a.jsxs("p",{className:"text-gray-600",children:[i.length," ",s==="product"?"product":"service",i.length!==1?"s":""," found"]})}),i.length===0?a.jsx(PN,{icon:Fi,title:"No items found",description:"Try adjusting your search criteria or check back later for new items."}):a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 gap-4",children:[s==="product"&&i.map(o=>a.jsx(FN,{product:o},o._id)),s==="service"&&i.map(o=>a.jsx(IN,{service:o},o._id))]})]})},Kq=({showFilters:t,setShowFilters:r,categorySet:n,filters:s,updateFilter:i,updateFilters:o,clearAllFilters:l})=>{const c=n.find(f=>f.name===s.category),u=(c==null?void 0:c.subcategories)||[],d=u.find(f=>f.name===s.subcategory),A=((d==null?void 0:d.childCategories)||[]).filter(f=>f&&(f.name||typeof f=="string"));return a.jsxs(a.Fragment,{children:[t&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>r(!1)}),a.jsxs("div",{className:`fixed top-0 left-0 h-full w-80 bg-white border-r border-gray-200 shadow-lg transform transition-transform duration-300 z-50
        ${t?"translate-x-0":"-translate-x-full"}`,children:[a.jsxs("div",{className:"p-4 flex justify-between items-center border-b",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"}),a.jsxs("button",{type:"button",onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700 flex items-center",children:[a.jsx(hs,{className:"w-5 h-5"}),a.jsx("span",{className:"ml-1",children:"Close"})]})]}),a.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto",style:{height:"calc(100% - 120px)"},children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories"}),a.jsxs("select",{value:s.category,onChange:f=>i("category",f.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 mt-2",children:[a.jsx("option",{value:"",children:"All Categories"}),n.map(f=>a.jsx("option",{value:f.name,children:f.name},f.name))]}),s.category&&u.length>0&&a.jsxs("select",{value:s.subcategory,onChange:f=>i("subcategory",f.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 mt-2",children:[a.jsx("option",{value:"",children:"All Subcategories"}),u.map((f,h)=>a.jsx("option",{value:f.name,children:f.name},`subcategory-${s.category}-${h}`))]}),s.subcategory&&A.length>0&&a.jsxs("select",{value:s.childCategory,onChange:f=>i("childCategory",f.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 mt-2",children:[a.jsx("option",{value:"",children:"All Child Categories"}),A.map((f,h)=>{const p=typeof f=="string"?f:f.name,m=typeof f=="string"?f:f.name||f._id||f;return a.jsx("option",{value:m,children:p},`childcategory-${s.category}-${s.subcategory}-${h}`)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",value:s.priceRange.min,min:"0",onChange:f=>{const h=f.target.value===""?"":Math.max(0,Number(f.target.value));i("priceRange",{...s.priceRange,min:h})},placeholder:"Min",className:"w-full border border-gray-300 rounded-lg px-3 py-2"}),a.jsx("input",{type:"number",value:s.priceRange.max,min:"0",onChange:f=>{const h=f.target.value===""?"":Math.max(0,Number(f.target.value));i("priceRange",{...s.priceRange,max:h})},placeholder:"Max",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Availability"}),a.jsxs("select",{value:s.stock,onChange:f=>i("stock",f.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"All"}),a.jsx("option",{value:"in",children:"In Stock"}),a.jsx("option",{value:"out",children:"Out of Stock"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Rating"}),a.jsx("div",{className:"flex space-x-1 cursor-pointer",children:[1,2,3,4,5].map(f=>a.jsx(Wr,{size:24,className:`transition-colors ${f<=s.rating?"text-yellow-400":"text-gray-300"}`,onClick:()=>{const h=f===s.rating?"":f;i("rating",h)}},f))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Options"}),a.jsxs("select",{value:s.shipping,onChange:f=>i("shipping",f.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"All"}),a.jsx("option",{value:"free-shiping",children:"Free Shipping"}),a.jsx("option",{value:"paid-shipping",children:"Paid Shipping"}),a.jsx("option",{value:"local-pickup",children:"Local Pickup"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),a.jsxs("select",{value:s.condition,onChange:f=>i("condition",f.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"Any"}),a.jsx("option",{value:"new",children:"New"}),a.jsx("option",{value:"used",children:"Used"}),a.jsx("option",{value:"refurbished",children:"Refurbished"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Warranty (Months)"}),a.jsx("input",{type:"number",min:"0",value:s.warrantyMonths,onChange:f=>i("warrantyMonths",f.target.value),placeholder:"e.g., 12",className:"w-full border border-gray-300 rounded-lg px-3 py-2"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter warranty months (e.g., 6 means ≥ 6 months)"})]})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t bg-white space-y-2",children:a.jsx("button",{type:"button",onClick:l,className:"w-full bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Clear All Filters"})})]})]})},Gq=(t,r)=>{const[n,s]=te.useState(t);return te.useEffect(()=>{const i=setTimeout(()=>{s(t)},r);return()=>{clearTimeout(i)}},[t,r]),n},Wq=(t,r={})=>{const n=te.useRef(null);return te.useEffect(()=>{const s=new IntersectionObserver(t,{threshold:.1,rootMargin:"100px",...r}),i=n.current;return i&&s.observe(i),()=>{i&&s.unobserve(i)}},[t,r]),n},qq=()=>{var T,z;const[t]=oN(),r=al(),[n,s]=te.useState([]),[i,o]=te.useState(!0),[l,c]=te.useState(!1),[u,d]=te.useState(""),[A,f]=te.useState([]),[h,p]=te.useState(1),[m,g]=te.useState(0),[b,y]=te.useState(!0),x=20,[v,w]=te.useState({search:"",category:"",subcategory:"",childCategory:"",priceRange:{min:"",max:""},stock:"",rating:"",shipping:"",condition:"",warrantyMonths:""}),[_,B]=te.useState(!1),[N,j]=te.useState(!1),C=te.useRef(!1),E=Gq(v,N?300:0),S=A.find(G=>G.name===v.category);(T=((S==null?void 0:S.subcategories)||[]).find(G=>G.name===v.subcategory))!=null&&T.childCategories,te.useEffect(()=>{if(C.current)return;const G=t.get("search"),J=t.get("category");console.log("=== INITIALIZING FROM URL ==="),console.log("Current URL:",r.pathname+r.search),console.log("Search from URL:",G),console.log("Category from URL:",J),console.log("All URL params:",Object.fromEntries(t.entries()));const ee={search:G||"",category:J||"",subcategory:"",childCategory:"",priceRange:{min:"",max:""},stock:"",rating:"",shipping:"",condition:"",warrantyMonths:""};console.log("Setting initial filters:",ee),w(ee),C.current=!0,P(ee,1,!1).then(()=>{j(!0)})},[]);const P=async(G={},J=1,ee=!1)=>{var fe,de;try{ee?c(!0):(o(!0),s([])),d(""),console.log("Fetching products with filters:",G,"Page:",J);const ae={search:G.search||"",category:G.category||"",subcategory:G.subcategory||"",childCategory:G.childCategory||"",minPrice:((fe=G.priceRange)==null?void 0:fe.min)||"",maxPrice:((de=G.priceRange)==null?void 0:de.max)||"",stock:G.stock||"",rating:G.rating||"",shipping:G.shipping||"",condition:G.condition||"",warrantyMonths:G.warrantyMonths||"",page:J,limit:x},xe=await fetch("http://localhost:10000/api/products/listing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});if(xe.ok){const X=await xe.json();console.log("Products fetched:",X.products.length,"items","Total:",X.total),s(ee?ie=>[...ie,...X.products]:X.products),g(X.total),y(X.products.length===x&&X.hasMore),p(J)}else d("Failed to fetch products"),console.error("API Error:",xe.status,xe.statusText)}catch(ae){console.error("Error fetching products:",ae),d("Network error. Please try again.")}finally{o(!1),c(!1)}},M=te.useCallback(()=>{if(!l&&b&&!i){const G=h+1;P(E,G,!0)}},[l,b,i,h,E]),H=Wq(te.useCallback(G=>{const[J]=G;J.isIntersecting&&M()},[M]));te.useEffect(()=>{N&&C.current&&(console.log("Filter changed after initialization:",E),p(1),P(E,1,!1))},[E,N]);const F=async()=>{try{const G=await fetch("http://localhost:10000/api/categories");if(!G.ok)throw new Error("Failed to fetch categories");const J=await G.json();f(J)}catch(G){console.error("Error loading categories:",G)}};te.useEffect(()=>{F()},[]);const Q=te.useCallback((G,J)=>{w(ee=>{const fe={...ee,[G]:J};return G==="category"?(fe.subcategory="",fe.childCategory=""):G==="subcategory"&&(fe.childCategory=""),fe})},[]),K=te.useCallback(G=>{w(J=>({...J,...G}))},[]),Y=te.useCallback(()=>{w({search:"",category:"",subcategory:"",childCategory:"",priceRange:{min:"",max:""},stock:"",rating:"",shipping:"",condition:"",warrantyMonths:""})},[]),V=G=>{var J;(J=G==null?void 0:G.preventDefault)==null||J.call(G),P(v,1,!1)},I=!!(v.search||v.category||v.subcategory||v.childCategory||v.priceRange.min||v.priceRange.max||v.stock||v.rating||v.shipping||v.condition||v.warrantyMonths),O=[v.search,v.category,v.subcategory,v.childCategory,v.priceRange.min,v.priceRange.max,v.stock,v.rating,v.shipping,v.condition,v.warrantyMonths].filter(Boolean).length,R=n.length>0?1:0,U=n.length;return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Products"}),a.jsxs("div",{className:"space-y-4",children:[(v.subcategory||v.childCategory)&&a.jsx("nav",{"aria-label":"breadcrumb",className:"text-sm text-gray-600 mt-2 select-none",children:a.jsxs("ol",{className:"list-reset flex space-x-2",children:[v.category&&a.jsx("li",{children:((z=A.find(G=>G.name.toString()===v.category))==null?void 0:z.name)||"Category"}),v.subcategory&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"→"}),a.jsx("li",{children:v.subcategory})]}),v.childCategory&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"→"}),a.jsx("li",{children:v.childCategory})]})]})}),a.jsxs("form",{onSubmit:V,className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",value:v.search,onChange:G=>{Q("search",G.target.value),console.log("Search query changed to:",G.target.value)},placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsx("button",{type:"submit",className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Search"})]}),!i&&a.jsxs("div",{className:"flex items-center justify-between py-4 px-6 bg-gradient-to-r from-gray-50 to-white border border-gray-200 rounded-xl shadow-sm",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[a.jsx(yA,{className:"w-4 h-4 text-amber-500"}),a.jsxs("span",{className:"text-sm font-medium",children:["Showing ",R.toLocaleString(),"-",U.toLocaleString()," of"," ",m.toLocaleString()," results"]})]}),I&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),a.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:[O," filter",O!==1?"s":""," applied"]})]})]}),b&&a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[a.jsx("div",{className:"animate-pulse w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:"More available"})]})]}),a.jsx(Kq,{showFilters:_,setShowFilters:B,categorySet:A,filters:v,updateFilter:Q,updateFilters:K,clearAllFilters:Y})]})]})}),!_&&a.jsxs("button",{onClick:()=>B(!0),className:`\r
            fixed \r
            left-0 \r
            top-1/2 \r
            -translate-y-1/2\r
            z-40 \r
            bg-gradient-to-b from-black via-gray-800 to-white\r
            text-white px-3 py-6 rounded-r-xl shadow-xl \r
            flex flex-col items-center justify-center space-y-2\r
            hover:scale-105 hover:shadow-2xl transition-all duration-300 ease-out\r
            border border-gray-700\r
            writing-mode-vertical\r
            min-h-[120px]\r
          `,children:[a.jsx(Om,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium text-sm transform -rotate-90 whitespace-nowrap",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:"Filters"}),I&&a.jsx("span",{className:"bg-white text-black text-xs font-semibold px-2 py-1 rounded-full shadow-md min-w-[24px] text-center",children:O})]}),n&&a.jsx(LN,{items:n,loading:i,error:u,type:"product"}),!i&&n.length>0&&a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:b?a.jsx("div",{ref:H,className:"flex flex-col items-center justify-center py-12 space-y-6",children:l?a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-black rounded-full animate-spin"}),a.jsx("div",{className:"absolute inset-0 w-12 h-12 border-4 border-transparent border-r-gray-400 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 font-medium",children:"Loading more products..."}),a.jsx("p",{className:"text-sm text-gray-400",children:"Finding the perfect items for you"})]})]}):a.jsxs("button",{onClick:M,className:"group relative overflow-hidden bg-gradient-to-r from-gray-900 to-black text-white px-8 py-4 rounded-full font-semibold text-lg shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-out",children:[a.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[a.jsx("span",{children:"Load More Products"}),a.jsx(Em,{className:"w-5 h-5 group-hover:animate-bounce"})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black to-gray-800 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-black rounded-full flex items-center justify-center shadow-lg",children:a.jsx(yA,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"You've seen it all! ✨"}),a.jsx("p",{className:"text-gray-600 max-w-md",children:"That's every product we have matching your criteria. Try adjusting your filters to discover more amazing items."})]})]})}),!i&&n.length===0&&!u&&a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center mx-auto shadow-lg",children:a.jsx(Ja,{className:"w-12 h-12 text-gray-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No products found"}),a.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-6",children:"We couldn't find any products matching your search criteria. Try adjusting your filters or search terms."}),I&&a.jsxs("button",{onClick:Y,className:"inline-flex items-center space-x-2 bg-black text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-800 transition-colors",children:[a.jsx(hs,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear All Filters"})]})]})]})})]})},Yq=({showFilters:t,setShowFilters:r,categorySet:n,filters:s,updateFilter:i,updateFilters:o,clearAllFilters:l})=>{const c=n.find(f=>f.name===s.category),u=(c==null?void 0:c.subcategories)||[],d=u.find(f=>f.name===s.subcategory),A=((d==null?void 0:d.childCategories)||[]).filter(f=>f&&(f.name||typeof f=="string"));return a.jsxs(a.Fragment,{children:[t&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>r(!1)}),a.jsxs("div",{className:`fixed top-0 left-0 h-full w-80 bg-white border-r border-gray-200 shadow-lg transform transition-transform duration-300 z-50
        ${t?"translate-x-0":"-translate-x-full"}`,children:[a.jsxs("div",{className:"p-4 flex justify-between items-center border-b",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"}),a.jsxs("button",{type:"button",onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700 flex items-center",children:[a.jsx(hs,{className:"w-5 h-5"}),a.jsx("span",{className:"ml-1",children:"Close"})]})]}),a.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto",style:{height:"calc(100% - 120px)"},children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories"}),a.jsxs("select",{value:s.category,onChange:f=>i("category",f.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 mt-2",children:[a.jsx("option",{value:"",children:"All Categories"}),n.map(f=>a.jsx("option",{value:f.name,children:f.name},f.name))]}),s.category&&u.length>0&&a.jsxs("select",{value:s.subcategory,onChange:f=>i("subcategory",f.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 mt-2",children:[a.jsx("option",{value:"",children:"All Subcategories"}),u.map((f,h)=>a.jsx("option",{value:f.name,children:f.name},`subcategory-${s.category}-${h}`))]}),s.subcategory&&A.length>0&&a.jsxs("select",{value:s.childCategory,onChange:f=>i("childCategory",f.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 mt-2",children:[a.jsx("option",{value:"",children:"All Child Categories"}),A.map((f,h)=>{const p=typeof f=="string"?f:f.name,m=typeof f=="string"?f:f.name||f._id||f;return a.jsx("option",{value:m,children:p},`childcategory-${s.category}-${s.subcategory}-${h}`)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",value:s.priceRange.min,min:"0",onChange:f=>{const h=f.target.value===""?"":Math.max(0,Number(f.target.value));i("priceRange",{...s.priceRange,min:h})},placeholder:"Min",className:"w-full border border-gray-300 rounded-lg px-3 py-2"}),a.jsx("input",{type:"number",value:s.priceRange.max,min:"0",onChange:f=>{const h=f.target.value===""?"":Math.max(0,Number(f.target.value));i("priceRange",{...s.priceRange,max:h})},placeholder:"Max",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Duration"}),a.jsxs("select",{value:s.duration,onChange:f=>i("duration",f.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"All"}),a.jsx("option",{value:"30",children:"30 min"}),a.jsx("option",{value:"60",children:"1 hr"}),a.jsx("option",{value:"180",children:"3 hrs"}),a.jsx("option",{value:"360",children:"6 hrs"}),a.jsx("option",{value:"720",children:"12 hrs"}),a.jsx("option",{value:"1440",children:"24 hrs"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Rating"}),a.jsx("div",{className:"flex space-x-1 cursor-pointer",children:[1,2,3,4,5].map(f=>a.jsx(Wr,{size:24,className:`transition-colors ${f<=s.rating?"text-yellow-400":"text-gray-300"}`,onClick:()=>{const h=f===s.rating?"":f;i("rating",h)}},f))})]})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t bg-white space-y-2",children:a.jsx("button",{type:"button",onClick:l,className:"w-full bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Clear All Filters"})})]})]})},Xq=(t,r)=>{const[n,s]=te.useState(t);return te.useEffect(()=>{const i=setTimeout(()=>{s(t)},r);return()=>{clearTimeout(i)}},[t,r]),n},Jq=(t,r={})=>{const n=te.useRef(null);return te.useEffect(()=>{const s=new IntersectionObserver(t,{threshold:.1,rootMargin:"100px",...r}),i=n.current;return i&&s.observe(i),()=>{i&&s.unobserve(i)}},[t,r]),n},Zq=()=>{var T,z;const[t]=oN(),r=al(),[n,s]=te.useState([]),[i,o]=te.useState(!0),[l,c]=te.useState(!1),[u,d]=te.useState(""),[A,f]=te.useState([]),[h,p]=te.useState(1),[m,g]=te.useState(0),[b,y]=te.useState(!0),x=20,[v,w]=te.useState({search:"",category:"",subcategory:"",childCategory:"",priceRange:{min:"",max:""},rating:"",duration:""}),[_,B]=te.useState(!1),[N,j]=te.useState(!1),C=te.useRef(!1),E=Xq(v,N?300:0),S=A.find(G=>G.name===v.category);(T=((S==null?void 0:S.subcategories)||[]).find(G=>G.name===v.subcategory))!=null&&T.childCategories,te.useEffect(()=>{if(C.current)return;const G=t.get("search"),J=t.get("category");console.log("=== INITIALIZING SERVICES FROM URL ==="),console.log("Current URL:",r.pathname+r.search),console.log("Search from URL:",G),console.log("Category from URL:",J),console.log("All URL params:",Object.fromEntries(t.entries()));const ee={search:G||"",category:J||"",subcategory:"",childCategory:"",priceRange:{min:"",max:""},rating:"",duration:""};console.log("Setting initial service filters:",ee),w(ee),C.current=!0,P(ee,1,!1).then(()=>{j(!0)})},[]);const P=async(G={},J=1,ee=!1)=>{var fe,de;try{ee?c(!0):(o(!0),s([])),d(""),console.log("Fetching services with filters:",G,"Page:",J);const ae={search:G.search||"",category:G.category||"",subcategory:G.subcategory||"",childCategory:G.childCategory||"",minPrice:((fe=G.priceRange)==null?void 0:fe.min)||"",maxPrice:((de=G.priceRange)==null?void 0:de.max)||"",rating:G.rating||"",duration:G.duration||"",page:J,limit:x},xe=await fetch("http://localhost:10000/api/services/listing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});if(xe.ok){const X=await xe.json();console.log("Services fetched:",X.services.length,"items","Total:",X.total),s(ee?ie=>[...ie,...X.services]:X.services),g(X.total),y(X.services.length===x&&X.hasMore),p(J)}else d("Failed to fetch services"),console.error("API Error:",xe.status,xe.statusText)}catch(ae){console.error("Error fetching services:",ae),d("Network error. Please try again.")}finally{o(!1),c(!1)}},M=te.useCallback(()=>{if(!l&&b&&!i){const G=h+1;P(E,G,!0)}},[l,b,i,h,E]),H=Jq(te.useCallback(G=>{const[J]=G;J.isIntersecting&&M()},[M]));te.useEffect(()=>{N&&C.current&&(console.log("Service filter changed after initialization:",E),p(1),P(E,1,!1))},[E,N]);const F=async()=>{try{const G=await fetch("http://localhost:10000/api/categories");if(!G.ok)throw new Error("Failed to fetch categories");const J=await G.json();f(J)}catch(G){console.error("Error loading categories:",G)}};te.useEffect(()=>{F()},[]);const Q=te.useCallback((G,J)=>{w(ee=>{const fe={...ee,[G]:J};return G==="category"?(fe.subcategory="",fe.childCategory=""):G==="subcategory"&&(fe.childCategory=""),fe})},[]),K=te.useCallback(G=>{w(J=>({...J,...G}))},[]),Y=te.useCallback(()=>{w({search:"",category:"",subcategory:"",childCategory:"",priceRange:{min:"",max:""},rating:"",duration:""})},[]),V=G=>{var J;(J=G==null?void 0:G.preventDefault)==null||J.call(G),P(v,1,!1)},I=!!(v.search||v.category||v.subcategory||v.childCategory||v.priceRange.min||v.priceRange.max||v.rating||v.duration),O=[v.search,v.category,v.subcategory,v.childCategory,v.priceRange.min,v.priceRange.max,v.rating,v.duration].filter(Boolean).length,R=n.length>0?1:0,U=n.length;return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Services"}),a.jsxs("div",{className:"space-y-4",children:[(v.subcategory||v.childCategory)&&a.jsx("nav",{"aria-label":"breadcrumb",className:"text-sm text-gray-600 mt-2 select-none",children:a.jsxs("ol",{className:"list-reset flex space-x-2",children:[v.category&&a.jsx("li",{children:((z=A.find(G=>G.name.toString()===v.category))==null?void 0:z.name)||"Category"}),v.subcategory&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"→"}),a.jsx("li",{children:v.subcategory})]}),v.childCategory&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"→"}),a.jsx("li",{children:v.childCategory})]})]})}),a.jsxs("form",{onSubmit:V,className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",value:v.search,onChange:G=>{Q("search",G.target.value),console.log("Search query changed to:",G.target.value)},placeholder:"Search services...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsx("button",{type:"submit",className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Search"})]}),!i&&a.jsxs("div",{className:"flex items-center justify-between py-4 px-6 bg-gradient-to-r from-gray-50 to-white border border-gray-200 rounded-xl shadow-sm",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[a.jsx(yA,{className:"w-4 h-4 text-amber-500"}),a.jsxs("span",{className:"text-sm font-medium",children:["Showing ",R.toLocaleString(),"-",U.toLocaleString()," of"," ",m.toLocaleString()," results"]})]}),I&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),a.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:[O," filter",O!==1?"s":""," applied"]})]})]}),b&&a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[a.jsx("div",{className:"animate-pulse w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:"More available"})]})]}),a.jsx(Yq,{showFilters:_,setShowFilters:B,categorySet:A,filters:v,updateFilter:Q,updateFilters:K,clearAllFilters:Y})]})]})}),!_&&a.jsxs("button",{onClick:()=>B(!0),className:`\r
            fixed \r
            left-0 \r
            top-1/2 \r
            -translate-y-1/2\r
            z-40 \r
            bg-gradient-to-b from-black via-gray-800 to-white\r
            text-white px-3 py-6 rounded-r-xl shadow-xl \r
            flex flex-col items-center justify-center space-y-2\r
            hover:scale-105 hover:shadow-2xl transition-all duration-300 ease-out\r
            border border-gray-700\r
            writing-mode-vertical\r
            min-h-[120px]\r
          `,children:[a.jsx(Om,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium text-sm transform -rotate-90 whitespace-nowrap",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:"Filters"}),I&&a.jsx("span",{className:"bg-white text-black text-xs font-semibold px-2 py-1 rounded-full shadow-md min-w-[24px] text-center",children:O})]}),n&&a.jsx(LN,{items:n,loading:i,error:u,type:"service"}),!i&&n.length>0&&a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:b?a.jsx("div",{ref:H,className:"flex flex-col items-center justify-center py-12 space-y-6",children:l?a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-black rounded-full animate-spin"}),a.jsx("div",{className:"absolute inset-0 w-12 h-12 border-4 border-transparent border-r-gray-400 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 font-medium",children:"Loading more services..."}),a.jsx("p",{className:"text-sm text-gray-400",children:"Finding the perfect services for you"})]})]}):a.jsxs("button",{onClick:M,className:"group relative overflow-hidden bg-gradient-to-r from-gray-900 to-black text-white px-8 py-4 rounded-full font-semibold text-lg shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-out",children:[a.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[a.jsx("span",{children:"Load More Services"}),a.jsx(Em,{className:"w-5 h-5 group-hover:animate-bounce"})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black to-gray-800 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-black rounded-full flex items-center justify-center shadow-lg",children:a.jsx(yA,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"You've seen it all! ✨"}),a.jsx("p",{className:"text-gray-600 max-w-md",children:"That's every service we have matching your criteria. Try adjusting your filters to discover more amazing services."})]})]})}),!i&&n.length===0&&!u&&a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center mx-auto shadow-lg",children:a.jsx(Ja,{className:"w-12 h-12 text-gray-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No services found"}),a.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-6",children:"We couldn't find any services matching your search criteria. Try adjusting your filters or search terms."}),I&&a.jsxs("button",{onClick:Y,className:"inline-flex items-center space-x-2 bg-black text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-800 transition-colors",children:[a.jsx(hs,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear All Filters"})]})]})]})})]})};function XC(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function DN(t,r){t===void 0&&(t={}),r===void 0&&(r={});const n=["__proto__","constructor","prototype"];Object.keys(r).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=r[s]:XC(r[s])&&XC(t[s])&&Object.keys(r[s]).length>0&&DN(t[s],r[s])})}const _8={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Dl(){const t=typeof document<"u"?document:{};return DN(t,_8),t}const eY={document:_8,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function ya(){const t=typeof window<"u"?window:{};return DN(t,eY),t}function tY(t){return t===void 0&&(t=""),t.trim().split(" ").filter(r=>!!r.trim())}function rY(t){const r=t;Object.keys(r).forEach(n=>{try{r[n]=null}catch{}try{delete r[n]}catch{}})}function E8(t,r){return r===void 0&&(r=0),setTimeout(t,r)}function Wx(){return Date.now()}function nY(t){const r=ya();let n;return r.getComputedStyle&&(n=r.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function sY(t,r){r===void 0&&(r="x");const n=ya();let s,i,o;const l=nY(t);return n.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(c=>c.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(i==="none"?"":i)):(o=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=o.toString().split(",")),r==="x"&&(n.WebKitCSSMatrix?i=o.m41:s.length===16?i=parseFloat(s[12]):i=parseFloat(s[4])),r==="y"&&(n.WebKitCSSMatrix?i=o.m42:s.length===16?i=parseFloat(s[13]):i=parseFloat(s[5])),i||0}function $g(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function iY(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Va(){const t=Object(arguments.length<=0?void 0:arguments[0]),r=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!iY(s)){const i=Object.keys(Object(s)).filter(o=>r.indexOf(o)<0);for(let o=0,l=i.length;o<l;o+=1){const c=i[o],u=Object.getOwnPropertyDescriptor(s,c);u!==void 0&&u.enumerable&&($g(t[c])&&$g(s[c])?s[c].__swiper__?t[c]=s[c]:Va(t[c],s[c]):!$g(t[c])&&$g(s[c])?(t[c]={},s[c].__swiper__?t[c]=s[c]:Va(t[c],s[c])):t[c]=s[c])}}}return t}function Hg(t,r,n){t.style.setProperty(r,n)}function k8(t){let{swiper:r,targetPosition:n,side:s}=t;const i=ya(),o=-r.translate;let l=null,c;const u=r.params.speed;r.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(r.cssModeFrameID);const d=n>o?"next":"prev",A=(h,p)=>d==="next"&&h>=p||d==="prev"&&h<=p,f=()=>{c=new Date().getTime(),l===null&&(l=c);const h=Math.max(Math.min((c-l)/u,1),0),p=.5-Math.cos(h*Math.PI)/2;let m=o+p*(n-o);if(A(m,n)&&(m=n),r.wrapperEl.scrollTo({[s]:m}),A(m,n)){r.wrapperEl.style.overflow="hidden",r.wrapperEl.style.scrollSnapType="",setTimeout(()=>{r.wrapperEl.style.overflow="",r.wrapperEl.scrollTo({[s]:m})}),i.cancelAnimationFrame(r.cssModeFrameID);return}r.cssModeFrameID=i.requestAnimationFrame(f)};f()}function Sl(t,r){r===void 0&&(r="");const n=ya(),s=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&s.push(...t.assignedElements()),r?s.filter(i=>i.matches(r)):s}function aY(t,r){const n=[r];for(;n.length>0;){const s=n.shift();if(t===s)return!0;n.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function oY(t,r){const n=ya();let s=r.contains(t);return!s&&n.HTMLSlotElement&&r instanceof HTMLSlotElement&&(s=[...r.assignedElements()].includes(t),s||(s=aY(t,r))),s}function qx(t){try{console.warn(t);return}catch{}}function Yx(t,r){r===void 0&&(r=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(r)?r:tY(r)),n}function lY(t,r){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;r?s.matches(r)&&n.push(s):n.push(s),t=s}return n}function cY(t,r){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;r?s.matches(r)&&n.push(s):n.push(s),t=s}return n}function xu(t,r){return ya().getComputedStyle(t,null).getPropertyValue(r)}function Xx(t){let r=t,n;if(r){for(n=0;(r=r.previousSibling)!==null;)r.nodeType===1&&(n+=1);return n}}function T8(t,r){const n=[];let s=t.parentElement;for(;s;)r?s.matches(r)&&n.push(s):n.push(s),s=s.parentElement;return n}function Q5(t,r,n){const s=ya();return t[r==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(r==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(r==="width"?"margin-left":"margin-bottom"))}function mi(t){return(Array.isArray(t)?t:[t]).filter(r=>!!r)}function Jx(t,r){r===void 0&&(r=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(r):t.innerHTML=r}let sw;function uY(){const t=ya(),r=Dl();return{smoothScroll:r.documentElement&&r.documentElement.style&&"scrollBehavior"in r.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&r instanceof t.DocumentTouch)}}function O8(){return sw||(sw=uY()),sw}let iw;function dY(t){let{userAgent:r}=t===void 0?{}:t;const n=O8(),s=ya(),i=s.navigator.platform,o=r||s.navigator.userAgent,l={ios:!1,android:!1},c=s.screen.width,u=s.screen.height,d=o.match(/(Android);?[\s\/]+([\d.]+)?/);let A=o.match(/(iPad).*OS\s([\d_]+)/);const f=o.match(/(iPod)(.*OS\s([\d_]+))?/),h=!A&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=i==="Win32";let m=i==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!A&&m&&n.touch&&g.indexOf(`${c}x${u}`)>=0&&(A=o.match(/(Version)\/([\d.]+)/),A||(A=[0,1,"13_0_0"]),m=!1),d&&!p&&(l.os="android",l.android=!0),(A||h||f)&&(l.os="ios",l.ios=!0),l}function F8(t){return t===void 0&&(t={}),iw||(iw=dY(t)),iw}let aw;function AY(){const t=ya(),r=F8();let n=!1;function s(){const c=t.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(s()){const c=String(t.navigator.userAgent);if(c.includes("Version/")){const[u,d]=c.split("Version/")[1].split(" ")[0].split(".").map(A=>Number(A));n=u<16||u===16&&d<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),o=s(),l=o||i&&r.ios;return{isSafari:n||o,needPerspectiveFix:n,need3dFix:l,isWebView:i}}function I8(){return aw||(aw=AY()),aw}function fY(t){let{swiper:r,on:n,emit:s}=t;const i=ya();let o=null,l=null;const c=()=>{!r||r.destroyed||!r.initialized||(s("beforeResize"),s("resize"))},u=()=>{!r||r.destroyed||!r.initialized||(o=new ResizeObserver(f=>{l=i.requestAnimationFrame(()=>{const{width:h,height:p}=r;let m=h,g=p;f.forEach(b=>{let{contentBoxSize:y,contentRect:x,target:v}=b;v&&v!==r.el||(m=x?x.width:(y[0]||y).inlineSize,g=x?x.height:(y[0]||y).blockSize)}),(m!==h||g!==p)&&c()})}),o.observe(r.el))},d=()=>{l&&i.cancelAnimationFrame(l),o&&o.unobserve&&r.el&&(o.unobserve(r.el),o=null)},A=()=>{!r||r.destroyed||!r.initialized||s("orientationchange")};n("init",()=>{if(r.params.resizeObserver&&typeof i.ResizeObserver<"u"){u();return}i.addEventListener("resize",c),i.addEventListener("orientationchange",A)}),n("destroy",()=>{d(),i.removeEventListener("resize",c),i.removeEventListener("orientationchange",A)})}function hY(t){let{swiper:r,extendParams:n,on:s,emit:i}=t;const o=[],l=ya(),c=function(A,f){f===void 0&&(f={});const h=l.MutationObserver||l.WebkitMutationObserver,p=new h(m=>{if(r.__preventObserver__)return;if(m.length===1){i("observerUpdate",m[0]);return}const g=function(){i("observerUpdate",m[0])};l.requestAnimationFrame?l.requestAnimationFrame(g):l.setTimeout(g,0)});p.observe(A,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:r.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),o.push(p)},u=()=>{if(r.params.observer){if(r.params.observeParents){const A=T8(r.hostEl);for(let f=0;f<A.length;f+=1)c(A[f])}c(r.hostEl,{childList:r.params.observeSlideChildren}),c(r.wrapperEl,{attributes:!1})}},d=()=>{o.forEach(A=>{A.disconnect()}),o.splice(0,o.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",u),s("destroy",d)}var pY={on(t,r,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof r!="function")return s;const i=n?"unshift":"push";return t.split(" ").forEach(o=>{s.eventsListeners[o]||(s.eventsListeners[o]=[]),s.eventsListeners[o][i](r)}),s},once(t,r,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof r!="function")return s;function i(){s.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r.apply(s,l)}return i.__emitterProxy=r,s.on(t,i,n)},onAny(t,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=r?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsAnyListeners)return r;const n=r.eventsAnyListeners.indexOf(t);return n>=0&&r.eventsAnyListeners.splice(n,1),r},off(t,r){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof r>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((i,o)=>{(i===r||i.__emitterProxy&&i.__emitterProxy===r)&&n.eventsListeners[s].splice(o,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let r,n,s;for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return typeof o[0]=="string"||Array.isArray(o[0])?(r=o[0],n=o.slice(1,o.length),s=t):(r=o[0].events,n=o[0].data,s=o[0].context||t),n.unshift(s),(Array.isArray(r)?r:r.split(" ")).forEach(u=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(s,[u,...n])}),t.eventsListeners&&t.eventsListeners[u]&&t.eventsListeners[u].forEach(d=>{d.apply(s,n)})}),t}};function mY(){const t=this;let r,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?r=t.params.width:r=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(r===0&&t.isHorizontal()||n===0&&t.isVertical())&&(r=r-parseInt(xu(s,"padding-left")||0,10)-parseInt(xu(s,"padding-right")||0,10),n=n-parseInt(xu(s,"padding-top")||0,10)-parseInt(xu(s,"padding-bottom")||0,10),Number.isNaN(r)&&(r=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:r,height:n,size:t.isHorizontal()?r:n}))}function gY(){const t=this;function r(E,S){return parseFloat(E.getPropertyValue(t.getDirectionLabel(S))||0)}const n=t.params,{wrapperEl:s,slidesEl:i,size:o,rtlTranslate:l,wrongRTL:c}=t,u=t.virtual&&n.virtual.enabled,d=u?t.virtual.slides.length:t.slides.length,A=Sl(i,`.${t.params.slideClass}, swiper-slide`),f=u?t.virtual.slides.length:A.length;let h=[];const p=[],m=[];let g=n.slidesOffsetBefore;typeof g=="function"&&(g=n.slidesOffsetBefore.call(t));let b=n.slidesOffsetAfter;typeof b=="function"&&(b=n.slidesOffsetAfter.call(t));const y=t.snapGrid.length,x=t.slidesGrid.length;let v=n.spaceBetween,w=-g,_=0,B=0;if(typeof o>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*o:typeof v=="string"&&(v=parseFloat(v)),t.virtualSize=-v,A.forEach(E=>{l?E.style.marginLeft="":E.style.marginRight="",E.style.marginBottom="",E.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Hg(s,"--swiper-centered-offset-before",""),Hg(s,"--swiper-centered-offset-after",""));const N=n.grid&&n.grid.rows>1&&t.grid;N?t.grid.initSlides(A):t.grid&&t.grid.unsetSlides();let j;const C=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(E=>typeof n.breakpoints[E].slidesPerView<"u").length>0;for(let E=0;E<f;E+=1){j=0;let S;if(A[E]&&(S=A[E]),N&&t.grid.updateSlide(E,S,A),!(A[E]&&xu(S,"display")==="none")){if(n.slidesPerView==="auto"){C&&(A[E].style[t.getDirectionLabel("width")]="");const k=getComputedStyle(S),P=S.style.transform,M=S.style.webkitTransform;if(P&&(S.style.transform="none"),M&&(S.style.webkitTransform="none"),n.roundLengths)j=t.isHorizontal()?Q5(S,"width"):Q5(S,"height");else{const H=r(k,"width"),F=r(k,"padding-left"),Q=r(k,"padding-right"),K=r(k,"margin-left"),Y=r(k,"margin-right"),V=k.getPropertyValue("box-sizing");if(V&&V==="border-box")j=H+K+Y;else{const{clientWidth:I,offsetWidth:O}=S;j=H+F+Q+K+Y+(O-I)}}P&&(S.style.transform=P),M&&(S.style.webkitTransform=M),n.roundLengths&&(j=Math.floor(j))}else j=(o-(n.slidesPerView-1)*v)/n.slidesPerView,n.roundLengths&&(j=Math.floor(j)),A[E]&&(A[E].style[t.getDirectionLabel("width")]=`${j}px`);A[E]&&(A[E].swiperSlideSize=j),m.push(j),n.centeredSlides?(w=w+j/2+_/2+v,_===0&&E!==0&&(w=w-o/2-v),E===0&&(w=w-o/2-v),Math.abs(w)<1/1e3&&(w=0),n.roundLengths&&(w=Math.floor(w)),B%n.slidesPerGroup===0&&h.push(w),p.push(w)):(n.roundLengths&&(w=Math.floor(w)),(B-Math.min(t.params.slidesPerGroupSkip,B))%t.params.slidesPerGroup===0&&h.push(w),p.push(w),w=w+j+v),t.virtualSize+=j+v,_=j,B+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+b,l&&c&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+v}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+v}px`),N&&t.grid.updateWrapperSize(j,h),!n.centeredSlides){const E=[];for(let S=0;S<h.length;S+=1){let k=h[S];n.roundLengths&&(k=Math.floor(k)),h[S]<=t.virtualSize-o&&E.push(k)}h=E,Math.floor(t.virtualSize-o)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-o)}if(u&&n.loop){const E=m[0]+v;if(n.slidesPerGroup>1){const S=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),k=E*n.slidesPerGroup;for(let P=0;P<S;P+=1)h.push(h[h.length-1]+k)}for(let S=0;S<t.virtual.slidesBefore+t.virtual.slidesAfter;S+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+E),p.push(p[p.length-1]+E),t.virtualSize+=E}if(h.length===0&&(h=[0]),v!==0){const E=t.isHorizontal()&&l?"marginLeft":t.getDirectionLabel("marginRight");A.filter((S,k)=>!n.cssMode||n.loop?!0:k!==A.length-1).forEach(S=>{S.style[E]=`${v}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let E=0;m.forEach(k=>{E+=k+(v||0)}),E-=v;const S=E>o?E-o:0;h=h.map(k=>k<=0?-g:k>S?S+b:k)}if(n.centerInsufficientSlides){let E=0;m.forEach(k=>{E+=k+(v||0)}),E-=v;const S=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(E+S<o){const k=(o-E-S)/2;h.forEach((P,M)=>{h[M]=P-k}),p.forEach((P,M)=>{p[M]=P+k})}}if(Object.assign(t,{slides:A,snapGrid:h,slidesGrid:p,slidesSizesGrid:m}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Hg(s,"--swiper-centered-offset-before",`${-h[0]}px`),Hg(s,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const E=-t.snapGrid[0],S=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(k=>k+E),t.slidesGrid=t.slidesGrid.map(k=>k+S)}if(f!==d&&t.emit("slidesLengthChange"),h.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==x&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!u&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const E=`${n.containerModifierClass}backface-hidden`,S=t.el.classList.contains(E);f<=n.maxBackfaceHiddenSlides?S||t.el.classList.add(E):S&&t.el.classList.remove(E)}}function yY(t){const r=this,n=[],s=r.virtual&&r.params.virtual.enabled;let i=0,o;typeof t=="number"?r.setTransition(t):t===!0&&r.setTransition(r.params.speed);const l=c=>s?r.slides[r.getSlideIndexByData(c)]:r.slides[c];if(r.params.slidesPerView!=="auto"&&r.params.slidesPerView>1)if(r.params.centeredSlides)(r.visibleSlides||[]).forEach(c=>{n.push(c)});else for(o=0;o<Math.ceil(r.params.slidesPerView);o+=1){const c=r.activeIndex+o;if(c>r.slides.length&&!s)break;n.push(l(c))}else n.push(l(r.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const c=n[o].offsetHeight;i=c>i?c:i}(i||i===0)&&(r.wrapperEl.style.height=`${i}px`)}function xY(){const t=this,r=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<r.length;s+=1)r[s].swiperSlideOffset=(t.isHorizontal()?r[s].offsetLeft:r[s].offsetTop)-n-t.cssOverflowAdjustment()}const JC=(t,r,n)=>{r&&!t.classList.contains(n)?t.classList.add(n):!r&&t.classList.contains(n)&&t.classList.remove(n)};function vY(t){t===void 0&&(t=this&&this.translate||0);const r=this,n=r.params,{slides:s,rtlTranslate:i,snapGrid:o}=r;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&r.updateSlidesOffset();let l=-t;i&&(l=t),r.visibleSlidesIndexes=[],r.visibleSlides=[];let c=n.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*r.size:typeof c=="string"&&(c=parseFloat(c));for(let u=0;u<s.length;u+=1){const d=s[u];let A=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(A-=s[0].swiperSlideOffset);const f=(l+(n.centeredSlides?r.minTranslate():0)-A)/(d.swiperSlideSize+c),h=(l-o[0]+(n.centeredSlides?r.minTranslate():0)-A)/(d.swiperSlideSize+c),p=-(l-A),m=p+r.slidesSizesGrid[u],g=p>=0&&p<=r.size-r.slidesSizesGrid[u],b=p>=0&&p<r.size-1||m>1&&m<=r.size||p<=0&&m>=r.size;b&&(r.visibleSlides.push(d),r.visibleSlidesIndexes.push(u)),JC(d,b,n.slideVisibleClass),JC(d,g,n.slideFullyVisibleClass),d.progress=i?-f:f,d.originalProgress=i?-h:h}}function bY(t){const r=this;if(typeof t>"u"){const A=r.rtlTranslate?-1:1;t=r&&r.translate&&r.translate*A||0}const n=r.params,s=r.maxTranslate()-r.minTranslate();let{progress:i,isBeginning:o,isEnd:l,progressLoop:c}=r;const u=o,d=l;if(s===0)i=0,o=!0,l=!0;else{i=(t-r.minTranslate())/s;const A=Math.abs(t-r.minTranslate())<1,f=Math.abs(t-r.maxTranslate())<1;o=A||i<=0,l=f||i>=1,A&&(i=0),f&&(i=1)}if(n.loop){const A=r.getSlideIndexByData(0),f=r.getSlideIndexByData(r.slides.length-1),h=r.slidesGrid[A],p=r.slidesGrid[f],m=r.slidesGrid[r.slidesGrid.length-1],g=Math.abs(t);g>=h?c=(g-h)/m:c=(g+m-p)/m,c>1&&(c-=1)}Object.assign(r,{progress:i,progressLoop:c,isBeginning:o,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&r.updateSlidesProgress(t),o&&!u&&r.emit("reachBeginning toEdge"),l&&!d&&r.emit("reachEnd toEdge"),(u&&!o||d&&!l)&&r.emit("fromEdge"),r.emit("progress",i)}const ow=(t,r,n)=>{r&&!t.classList.contains(n)?t.classList.add(n):!r&&t.classList.contains(n)&&t.classList.remove(n)};function wY(){const t=this,{slides:r,params:n,slidesEl:s,activeIndex:i}=t,o=t.virtual&&n.virtual.enabled,l=t.grid&&n.grid&&n.grid.rows>1,c=f=>Sl(s,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let u,d,A;if(o)if(n.loop){let f=i-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),u=c(`[data-swiper-slide-index="${f}"]`)}else u=c(`[data-swiper-slide-index="${i}"]`);else l?(u=r.find(f=>f.column===i),A=r.find(f=>f.column===i+1),d=r.find(f=>f.column===i-1)):u=r[i];u&&(l||(A=cY(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!A&&(A=r[0]),d=lY(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=r[r.length-1]))),r.forEach(f=>{ow(f,f===u,n.slideActiveClass),ow(f,f===A,n.slideNextClass),ow(f,f===d,n.slidePrevClass)}),t.emitSlidesClasses()}const Xy=(t,r)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=r.closest(n());if(s){let i=s.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(s.shadowRoot?i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},lw=(t,r)=>{if(!t.slides[r])return;const n=t.slides[r].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},$5=t=>{if(!t||t.destroyed||!t.params)return;let r=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!r||r<0)return;r=Math.min(r,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const l=i,c=[l-r];c.push(...Array.from({length:r}).map((u,d)=>l+s+d)),t.slides.forEach((u,d)=>{c.includes(u.column)&&lw(t,d)});return}const o=i+s-1;if(t.params.rewind||t.params.loop)for(let l=i-r;l<=o+r;l+=1){const c=(l%n+n)%n;(c<i||c>o)&&lw(t,c)}else for(let l=Math.max(i-r,0);l<=Math.min(o+r,n-1);l+=1)l!==i&&(l>o||l<i)&&lw(t,l)};function jY(t){const{slidesGrid:r,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let i;for(let o=0;o<r.length;o+=1)typeof r[o+1]<"u"?s>=r[o]&&s<r[o+1]-(r[o+1]-r[o])/2?i=o:s>=r[o]&&s<r[o+1]&&(i=o+1):s>=r[o]&&(i=o);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function NY(t){const r=this,n=r.rtlTranslate?r.translate:-r.translate,{snapGrid:s,params:i,activeIndex:o,realIndex:l,snapIndex:c}=r;let u=t,d;const A=p=>{let m=p-r.virtual.slidesBefore;return m<0&&(m=r.virtual.slides.length+m),m>=r.virtual.slides.length&&(m-=r.virtual.slides.length),m};if(typeof u>"u"&&(u=jY(r)),s.indexOf(n)>=0)d=s.indexOf(n);else{const p=Math.min(i.slidesPerGroupSkip,u);d=p+Math.floor((u-p)/i.slidesPerGroup)}if(d>=s.length&&(d=s.length-1),u===o&&!r.params.loop){d!==c&&(r.snapIndex=d,r.emit("snapIndexChange"));return}if(u===o&&r.params.loop&&r.virtual&&r.params.virtual.enabled){r.realIndex=A(u);return}const f=r.grid&&i.grid&&i.grid.rows>1;let h;if(r.virtual&&i.virtual.enabled&&i.loop)h=A(u);else if(f){const p=r.slides.find(g=>g.column===u);let m=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(m)&&(m=Math.max(r.slides.indexOf(p),0)),h=Math.floor(m/i.grid.rows)}else if(r.slides[u]){const p=r.slides[u].getAttribute("data-swiper-slide-index");p?h=parseInt(p,10):h=u}else h=u;Object.assign(r,{previousSnapIndex:c,snapIndex:d,previousRealIndex:l,realIndex:h,previousIndex:o,activeIndex:u}),r.initialized&&$5(r),r.emit("activeIndexChange"),r.emit("snapIndexChange"),(r.initialized||r.params.runCallbacksOnInit)&&(l!==h&&r.emit("realIndexChange"),r.emit("slideChange"))}function SY(t,r){const n=this,s=n.params;let i=t.closest(`.${s.slideClass}, swiper-slide`);!i&&n.isElement&&r&&r.length>1&&r.includes(t)&&[...r.slice(r.indexOf(t)+1,r.length)].forEach(c=>{!i&&c.matches&&c.matches(`.${s.slideClass}, swiper-slide`)&&(i=c)});let o=!1,l;if(i){for(let c=0;c<n.slides.length;c+=1)if(n.slides[c]===i){o=!0,l=c;break}}if(i&&o)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=l;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var BY={updateSize:mY,updateSlides:gY,updateAutoHeight:yY,updateSlidesOffset:xY,updateSlidesProgress:vY,updateProgress:bY,updateSlidesClasses:wY,updateActiveIndex:NY,updateClickedSlide:SY};function CY(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const r=this,{params:n,rtlTranslate:s,translate:i,wrapperEl:o}=r;if(n.virtualTranslate)return s?-i:i;if(n.cssMode)return i;let l=sY(o,t);return l+=r.cssOverflowAdjustment(),s&&(l=-l),l||0}function _Y(t,r){const n=this,{rtlTranslate:s,params:i,wrapperEl:o,progress:l}=n;let c=0,u=0;const d=0;n.isHorizontal()?c=s?-t:t:u=t,i.roundLengths&&(c=Math.floor(c),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:u,i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-u:i.virtualTranslate||(n.isHorizontal()?c-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${c}px, ${u}px, ${d}px)`);let A;const f=n.maxTranslate()-n.minTranslate();f===0?A=0:A=(t-n.minTranslate())/f,A!==l&&n.updateProgress(t),n.emit("setTranslate",n.translate,r)}function EY(){return-this.snapGrid[0]}function kY(){return-this.snapGrid[this.snapGrid.length-1]}function TY(t,r,n,s,i){t===void 0&&(t=0),r===void 0&&(r=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const o=this,{params:l,wrapperEl:c}=o;if(o.animating&&l.preventInteractionOnTransition)return!1;const u=o.minTranslate(),d=o.maxTranslate();let A;if(s&&t>u?A=u:s&&t<d?A=d:A=t,o.updateProgress(A),l.cssMode){const f=o.isHorizontal();if(r===0)c[f?"scrollLeft":"scrollTop"]=-A;else{if(!o.support.smoothScroll)return k8({swiper:o,targetPosition:-A,side:f?"left":"top"}),!0;c.scrollTo({[f?"left":"top"]:-A,behavior:"smooth"})}return!0}return r===0?(o.setTransition(0),o.setTranslate(A),n&&(o.emit("beforeTransitionStart",r,i),o.emit("transitionEnd"))):(o.setTransition(r),o.setTranslate(A),n&&(o.emit("beforeTransitionStart",r,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(h){!o||o.destroyed||h.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var OY={getTranslate:CY,setTranslate:_Y,minTranslate:EY,maxTranslate:kY,translateTo:TY};function FY(t,r){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,r)}function P8(t){let{swiper:r,runCallbacks:n,direction:s,step:i}=t;const{activeIndex:o,previousIndex:l}=r;let c=s;c||(o>l?c="next":o<l?c="prev":c="reset"),r.emit(`transition${i}`),n&&c==="reset"?r.emit(`slideResetTransition${i}`):n&&o!==l&&(r.emit(`slideChangeTransition${i}`),c==="next"?r.emit(`slideNextTransition${i}`):r.emit(`slidePrevTransition${i}`))}function IY(t,r){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),P8({swiper:n,runCallbacks:t,direction:r,step:"Start"}))}function PY(t,r){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),P8({swiper:n,runCallbacks:t,direction:r,step:"End"}))}var LY={setTransition:FY,transitionStart:IY,transitionEnd:PY};function DY(t,r,n,s,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const o=this;let l=t;l<0&&(l=0);const{params:c,snapGrid:u,slidesGrid:d,previousIndex:A,activeIndex:f,rtlTranslate:h,wrapperEl:p,enabled:m}=o;if(!m&&!s&&!i||o.destroyed||o.animating&&c.preventInteractionOnTransition)return!1;typeof r>"u"&&(r=o.params.speed);const g=Math.min(o.params.slidesPerGroupSkip,l);let b=g+Math.floor((l-g)/o.params.slidesPerGroup);b>=u.length&&(b=u.length-1);const y=-u[b];if(c.normalizeSlideIndex)for(let N=0;N<d.length;N+=1){const j=-Math.floor(y*100),C=Math.floor(d[N]*100),E=Math.floor(d[N+1]*100);typeof d[N+1]<"u"?j>=C&&j<E-(E-C)/2?l=N:j>=C&&j<E&&(l=N+1):j>=C&&(l=N)}if(o.initialized&&l!==f&&(!o.allowSlideNext&&(h?y>o.translate&&y>o.minTranslate():y<o.translate&&y<o.minTranslate())||!o.allowSlidePrev&&y>o.translate&&y>o.maxTranslate()&&(f||0)!==l))return!1;l!==(A||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(y);let x;l>f?x="next":l<f?x="prev":x="reset";const v=o.virtual&&o.params.virtual.enabled;if(!(v&&i)&&(h&&-y===o.translate||!h&&y===o.translate))return o.updateActiveIndex(l),c.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),c.effect!=="slide"&&o.setTranslate(y),x!=="reset"&&(o.transitionStart(n,x),o.transitionEnd(n,x)),!1;if(c.cssMode){const N=o.isHorizontal(),j=h?y:-y;if(r===0)v&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),v&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[N?"scrollLeft":"scrollTop"]=j})):p[N?"scrollLeft":"scrollTop"]=j,v&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return k8({swiper:o,targetPosition:j,side:N?"left":"top"}),!0;p.scrollTo({[N?"left":"top"]:j,behavior:"smooth"})}return!0}const B=I8().isSafari;return v&&!i&&B&&o.isElement&&o.virtual.update(!1,!1,l),o.setTransition(r),o.setTranslate(y),o.updateActiveIndex(l),o.updateSlidesClasses(),o.emit("beforeTransitionStart",r,s),o.transitionStart(n,x),r===0?o.transitionEnd(n,x):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(j){!o||o.destroyed||j.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,x))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function UY(t,r,n,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof r>"u"&&(r=i.params.speed);const o=i.grid&&i.params.grid&&i.params.grid.rows>1;let l=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)l=l+i.virtual.slidesBefore;else{let c;if(o){const h=l*i.params.grid.rows;c=i.slides.find(p=>p.getAttribute("data-swiper-slide-index")*1===h).column}else c=i.getSlideIndexByData(l);const u=o?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d}=i.params;let A=i.params.slidesPerView;A==="auto"?A=i.slidesPerViewDynamic():(A=Math.ceil(parseFloat(i.params.slidesPerView,10)),d&&A%2===0&&(A=A+1));let f=u-c<A;if(d&&(f=f||c<Math.ceil(A/2)),s&&d&&i.params.slidesPerView!=="auto"&&!o&&(f=!1),f){const h=d?c<i.activeIndex?"prev":"next":c-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?c+1:c-u+1,slideRealIndex:h==="next"?i.realIndex:void 0})}if(o){const h=l*i.params.grid.rows;l=i.slides.find(p=>p.getAttribute("data-swiper-slide-index")*1===h).column}else l=i.getSlideIndexByData(l)}return requestAnimationFrame(()=>{i.slideTo(l,r,n,s)}),i}function RY(t,r,n){r===void 0&&(r=!0);const s=this,{enabled:i,params:o,animating:l}=s;if(!i||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let c=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(c=Math.max(s.slidesPerViewDynamic("current",!0),1));const u=s.activeIndex<o.slidesPerGroupSkip?1:c,d=s.virtual&&o.virtual.enabled;if(o.loop){if(l&&!d&&o.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+u,t,r,n)}),!0}return o.rewind&&s.isEnd?s.slideTo(0,t,r,n):s.slideTo(s.activeIndex+u,t,r,n)}function MY(t,r,n){r===void 0&&(r=!0);const s=this,{params:i,snapGrid:o,slidesGrid:l,rtlTranslate:c,enabled:u,animating:d}=s;if(!u||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const A=s.virtual&&i.virtual.enabled;if(i.loop){if(d&&!A&&i.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const f=c?s.translate:-s.translate;function h(x){return x<0?-Math.floor(Math.abs(x)):Math.floor(x)}const p=h(f),m=o.map(x=>h(x)),g=i.freeMode&&i.freeMode.enabled;let b=o[m.indexOf(p)-1];if(typeof b>"u"&&(i.cssMode||g)){let x;o.forEach((v,w)=>{p>=v&&(x=w)}),typeof x<"u"&&(b=g?o[x]:o[x>0?x-1:x])}let y=0;if(typeof b<"u"&&(y=l.indexOf(b),y<0&&(y=s.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(y=y-s.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),i.rewind&&s.isBeginning){const x=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(x,t,r,n)}else if(i.loop&&s.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(y,t,r,n)}),!0;return s.slideTo(y,t,r,n)}function QY(t,r,n){r===void 0&&(r=!0);const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,r,n)}function $Y(t,r,n,s){r===void 0&&(r=!0),s===void 0&&(s=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let o=i.activeIndex;const l=Math.min(i.params.slidesPerGroupSkip,o),c=l+Math.floor((o-l)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[c]){const d=i.snapGrid[c],A=i.snapGrid[c+1];u-d>(A-d)*s&&(o+=i.params.slidesPerGroup)}else{const d=i.snapGrid[c-1],A=i.snapGrid[c];u-d<=(A-d)*s&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,t,r,n)}function HY(){const t=this;if(t.destroyed)return;const{params:r,slidesEl:n}=t,s=r.slidesPerView==="auto"?t.slidesPerViewDynamic():r.slidesPerView;let i=t.getSlideIndexWhenGrid(t.clickedIndex),o;const l=t.isElement?"swiper-slide":`.${r.slideClass}`,c=t.grid&&t.params.grid&&t.params.grid.rows>1;if(r.loop){if(t.animating)return;o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),r.centeredSlides?t.slideToLoop(o):i>(c?(t.slides.length-s)/2-(t.params.grid.rows-1):t.slides.length-s)?(t.loopFix(),i=t.getSlideIndex(Sl(n,`${l}[data-swiper-slide-index="${o}"]`)[0]),E8(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var VY={slideTo:DY,slideToLoop:UY,slideNext:RY,slidePrev:MY,slideReset:QY,slideToClosest:$Y,slideToClickedSlide:HY};function zY(t,r){const n=this,{params:s,slidesEl:i}=n;if(!s.loop||n.virtual&&n.params.virtual.enabled)return;const o=()=>{Sl(i,`.${s.slideClass}, swiper-slide`).forEach((p,m)=>{p.setAttribute("data-swiper-slide-index",m)})},l=()=>{const h=Sl(i,`.${s.slideBlankClass}`);h.forEach(p=>{p.remove()}),h.length>0&&(n.recalcSlides(),n.updateSlides())},c=n.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||c)&&l();const u=s.slidesPerGroup*(c?s.grid.rows:1),d=n.slides.length%u!==0,A=c&&n.slides.length%s.grid.rows!==0,f=h=>{for(let p=0;p<h;p+=1){const m=n.isElement?Yx("swiper-slide",[s.slideBlankClass]):Yx("div",[s.slideClass,s.slideBlankClass]);n.slidesEl.append(m)}};if(d){if(s.loopAddBlankSlides){const h=u-n.slides.length%u;f(h),n.recalcSlides(),n.updateSlides()}else qx("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(A){if(s.loopAddBlankSlides){const h=s.grid.rows-n.slides.length%s.grid.rows;f(h),n.recalcSlides(),n.updateSlides()}else qx("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();n.loopFix({slideRealIndex:t,direction:s.centeredSlides?void 0:"next",initial:r})}function KY(t){let{slideRealIndex:r,slideTo:n=!0,direction:s,setTranslate:i,activeSlideIndex:o,initial:l,byController:c,byMousewheel:u}=t===void 0?{}:t;const d=this;if(!d.params.loop)return;d.emit("beforeLoopFix");const{slides:A,allowSlidePrev:f,allowSlideNext:h,slidesEl:p,params:m}=d,{centeredSlides:g,initialSlide:b}=m;if(d.allowSlidePrev=!0,d.allowSlideNext=!0,d.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&d.snapIndex===0?d.slideTo(d.virtual.slides.length,0,!1,!0):m.centeredSlides&&d.snapIndex<m.slidesPerView?d.slideTo(d.virtual.slides.length+d.snapIndex,0,!1,!0):d.snapIndex===d.snapGrid.length-1&&d.slideTo(d.virtual.slidesBefore,0,!1,!0)),d.allowSlidePrev=f,d.allowSlideNext=h,d.emit("loopFix");return}let y=m.slidesPerView;y==="auto"?y=d.slidesPerViewDynamic():(y=Math.ceil(parseFloat(m.slidesPerView,10)),g&&y%2===0&&(y=y+1));const x=m.slidesPerGroupAuto?y:m.slidesPerGroup;let v=g?Math.max(x,Math.ceil(y/2)):x;v%x!==0&&(v+=x-v%x),v+=m.loopAdditionalSlides,d.loopedSlides=v;const w=d.grid&&m.grid&&m.grid.rows>1;A.length<y+v||d.params.effect==="cards"&&A.length<y+v*2?qx("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&m.grid.fill==="row"&&qx("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const _=[],B=[],N=w?Math.ceil(A.length/m.grid.rows):A.length,j=l&&N-b<y&&!g;let C=j?b:d.activeIndex;typeof o>"u"?o=d.getSlideIndex(A.find(F=>F.classList.contains(m.slideActiveClass))):C=o;const E=s==="next"||!s,S=s==="prev"||!s;let k=0,P=0;const H=(w?A[o].column:o)+(g&&typeof i>"u"?-y/2+.5:0);if(H<v){k=Math.max(v-H,x);for(let F=0;F<v-H;F+=1){const Q=F-Math.floor(F/N)*N;if(w){const K=N-Q-1;for(let Y=A.length-1;Y>=0;Y-=1)A[Y].column===K&&_.push(Y)}else _.push(N-Q-1)}}else if(H+y>N-v){P=Math.max(H-(N-v*2),x),j&&(P=Math.max(P,y-N+b+1));for(let F=0;F<P;F+=1){const Q=F-Math.floor(F/N)*N;w?A.forEach((K,Y)=>{K.column===Q&&B.push(Y)}):B.push(Q)}}if(d.__preventObserver__=!0,requestAnimationFrame(()=>{d.__preventObserver__=!1}),d.params.effect==="cards"&&A.length<y+v*2&&(B.includes(o)&&B.splice(B.indexOf(o),1),_.includes(o)&&_.splice(_.indexOf(o),1)),S&&_.forEach(F=>{A[F].swiperLoopMoveDOM=!0,p.prepend(A[F]),A[F].swiperLoopMoveDOM=!1}),E&&B.forEach(F=>{A[F].swiperLoopMoveDOM=!0,p.append(A[F]),A[F].swiperLoopMoveDOM=!1}),d.recalcSlides(),m.slidesPerView==="auto"?d.updateSlides():w&&(_.length>0&&S||B.length>0&&E)&&d.slides.forEach((F,Q)=>{d.grid.updateSlide(Q,F,d.slides)}),m.watchSlidesProgress&&d.updateSlidesOffset(),n){if(_.length>0&&S){if(typeof r>"u"){const F=d.slidesGrid[C],K=d.slidesGrid[C+k]-F;u?d.setTranslate(d.translate-K):(d.slideTo(C+Math.ceil(k),0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-K,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-K))}else if(i){const F=w?_.length/m.grid.rows:_.length;d.slideTo(d.activeIndex+F,0,!1,!0),d.touchEventsData.currentTranslate=d.translate}}else if(B.length>0&&E)if(typeof r>"u"){const F=d.slidesGrid[C],K=d.slidesGrid[C-P]-F;u?d.setTranslate(d.translate-K):(d.slideTo(C-P,0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-K,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-K))}else{const F=w?B.length/m.grid.rows:B.length;d.slideTo(d.activeIndex-F,0,!1,!0)}}if(d.allowSlidePrev=f,d.allowSlideNext=h,d.controller&&d.controller.control&&!c){const F={slideRealIndex:r,direction:s,setTranslate:i,activeSlideIndex:o,byController:!0};Array.isArray(d.controller.control)?d.controller.control.forEach(Q=>{!Q.destroyed&&Q.params.loop&&Q.loopFix({...F,slideTo:Q.params.slidesPerView===m.slidesPerView?n:!1})}):d.controller.control instanceof d.constructor&&d.controller.control.params.loop&&d.controller.control.loopFix({...F,slideTo:d.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}d.emit("loopFix")}function GY(){const t=this,{params:r,slidesEl:n}=t;if(!r.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(i=>{const o=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;s[o]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),s.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var WY={loopCreate:zY,loopFix:KY,loopDestroy:GY};function qY(t){const r=this;if(!r.params.simulateTouch||r.params.watchOverflow&&r.isLocked||r.params.cssMode)return;const n=r.params.touchEventsTarget==="container"?r.el:r.wrapperEl;r.isElement&&(r.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",r.isElement&&requestAnimationFrame(()=>{r.__preventObserver__=!1})}function YY(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var XY={setGrabCursor:qY,unsetGrabCursor:YY};function JY(t,r){r===void 0&&(r=this);function n(s){if(!s||s===Dl()||s===ya())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(t);return!i&&!s.getRootNode?null:i||n(s.getRootNode().host)}return n(r)}function ZC(t,r,n){const s=ya(),{params:i}=t,o=i.edgeSwipeDetection,l=i.edgeSwipeThreshold;return o&&(n<=l||n>=s.innerWidth-l)?o==="prevent"?(r.preventDefault(),!0):!1:!0}function ZY(t){const r=this,n=Dl();let s=t;s.originalEvent&&(s=s.originalEvent);const i=r.touchEventsData;if(s.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==s.pointerId)return;i.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(i.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){ZC(r,s,s.targetTouches[0].pageX);return}const{params:o,touches:l,enabled:c}=r;if(!c||!o.simulateTouch&&s.pointerType==="mouse"||r.animating&&o.preventInteractionOnTransition)return;!r.animating&&o.cssMode&&o.loop&&r.loopFix();let u=s.target;if(o.touchEventsTarget==="wrapper"&&!oY(u,r.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||i.isTouched&&i.isMoved)return;const d=!!o.noSwipingClass&&o.noSwipingClass!=="",A=s.composedPath?s.composedPath():s.path;d&&s.target&&s.target.shadowRoot&&A&&(u=A[0]);const f=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,h=!!(s.target&&s.target.shadowRoot);if(o.noSwiping&&(h?JY(f,u):u.closest(f))){r.allowClick=!0;return}if(o.swipeHandler&&!u.closest(o.swipeHandler))return;l.currentX=s.pageX,l.currentY=s.pageY;const p=l.currentX,m=l.currentY;if(!ZC(r,s,p))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=p,l.startY=m,i.touchStartTime=Wx(),r.allowClick=!0,r.updateSize(),r.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1);let g=!0;u.matches(i.focusableElements)&&(g=!1,u.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==u&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!u.matches(i.focusableElements))&&n.activeElement.blur();const b=g&&r.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||b)&&!u.isContentEditable&&s.preventDefault(),o.freeMode&&o.freeMode.enabled&&r.freeMode&&r.animating&&!o.cssMode&&r.freeMode.onTouchStart(),r.emit("touchStart",s)}function eX(t){const r=Dl(),n=this,s=n.touchEventsData,{params:i,touches:o,rtlTranslate:l,enabled:c}=n;if(!c||!i.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(s.touchId!==null||u.pointerId!==s.pointerId))return;let d;if(u.type==="touchmove"){if(d=[...u.changedTouches].find(B=>B.identifier===s.touchId),!d||d.identifier!==s.touchId)return}else d=u;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",u);return}const A=d.pageX,f=d.pageY;if(u.preventedByNestedSwiper){o.startX=A,o.startY=f;return}if(!n.allowTouchMove){u.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(o,{startX:A,startY:f,currentX:A,currentY:f}),s.touchStartTime=Wx());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(f<o.startY&&n.translate<=n.maxTranslate()||f>o.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(l&&(A>o.startX&&-n.translate<=n.maxTranslate()||A<o.startX&&-n.translate>=n.minTranslate()))return;if(!l&&(A<o.startX&&n.translate<=n.maxTranslate()||A>o.startX&&n.translate>=n.minTranslate()))return}if(r.activeElement&&r.activeElement.matches(s.focusableElements)&&r.activeElement!==u.target&&u.pointerType!=="mouse"&&r.activeElement.blur(),r.activeElement&&u.target===r.activeElement&&u.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",u),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=A,o.currentY=f;const h=o.currentX-o.startX,p=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(h**2+p**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let B;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?s.isScrolling=!1:h*h+p*p>=25&&(B=Math.atan2(Math.abs(p),Math.abs(h))*180/Math.PI,s.isScrolling=n.isHorizontal()?B>i.touchAngle:90-B>i.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",u),typeof s.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(s.startMoving=!0),s.isScrolling||u.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!i.cssMode&&u.cancelable&&u.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&u.stopPropagation();let m=n.isHorizontal()?h:p,g=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;i.oneWayMovement&&(m=Math.abs(m)*(l?1:-1),g=Math.abs(g)*(l?1:-1)),o.diff=m,m*=i.touchRatio,l&&(m=-m,g=-g);const b=n.touchesDirection;n.swipeDirection=m>0?"prev":"next",n.touchesDirection=g>0?"prev":"next";const y=n.params.loop&&!i.cssMode,x=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(y&&x&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const B=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(B)}s.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}let v;if(new Date().getTime(),i._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&b!==n.touchesDirection&&y&&x&&Math.abs(m)>=1){Object.assign(o,{startX:A,startY:f,currentX:A,currentY:f,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",u),s.isMoved=!0,s.currentTranslate=m+s.startTranslate;let w=!0,_=i.resistanceRatio;if(i.touchReleaseOnEdges&&(_=0),m>0?(y&&x&&!v&&s.allowThresholdMove&&s.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(w=!1,i.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+m)**_))):m<0&&(y&&x&&!v&&s.allowThresholdMove&&s.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(w=!1,i.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-m)**_))),w&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),i.threshold>0)if(Math.abs(m)>i.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,s.currentTranslate=s.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{s.currentTranslate=s.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function tX(t){const r=this,n=r.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let i;if(s.type==="touchend"||s.type==="touchcancel"){if(i=[...s.changedTouches].find(_=>_.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(r.browser.isSafari||r.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:l,touches:c,rtlTranslate:u,slidesGrid:d,enabled:A}=r;if(!A||!l.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&r.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&l.grabCursor&&r.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}l.grabCursor&&n.isMoved&&n.isTouched&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!1);const f=Wx(),h=f-n.touchStartTime;if(r.allowClick){const _=s.path||s.composedPath&&s.composedPath();r.updateClickedSlide(_&&_[0]||s.target,_),r.emit("tap click",s),h<300&&f-n.lastClickTime<300&&r.emit("doubleTap doubleClick",s)}if(n.lastClickTime=Wx(),E8(()=>{r.destroyed||(r.allowClick=!0)}),!n.isTouched||!n.isMoved||!r.swipeDirection||c.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(l.followFinger?p=u?r.translate:-r.translate:p=-n.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){r.freeMode.onTouchEnd({currentPos:p});return}const m=p>=-r.maxTranslate()&&!r.params.loop;let g=0,b=r.slidesSizesGrid[0];for(let _=0;_<d.length;_+=_<l.slidesPerGroupSkip?1:l.slidesPerGroup){const B=_<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof d[_+B]<"u"?(m||p>=d[_]&&p<d[_+B])&&(g=_,b=d[_+B]-d[_]):(m||p>=d[_])&&(g=_,b=d[d.length-1]-d[d.length-2])}let y=null,x=null;l.rewind&&(r.isBeginning?x=l.virtual&&l.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1:r.isEnd&&(y=0));const v=(p-d[g])/b,w=g<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(h>l.longSwipesMs){if(!l.longSwipes){r.slideTo(r.activeIndex);return}r.swipeDirection==="next"&&(v>=l.longSwipesRatio?r.slideTo(l.rewind&&r.isEnd?y:g+w):r.slideTo(g)),r.swipeDirection==="prev"&&(v>1-l.longSwipesRatio?r.slideTo(g+w):x!==null&&v<0&&Math.abs(v)>l.longSwipesRatio?r.slideTo(x):r.slideTo(g))}else{if(!l.shortSwipes){r.slideTo(r.activeIndex);return}r.navigation&&(s.target===r.navigation.nextEl||s.target===r.navigation.prevEl)?s.target===r.navigation.nextEl?r.slideTo(g+w):r.slideTo(g):(r.swipeDirection==="next"&&r.slideTo(y!==null?y:g+w),r.swipeDirection==="prev"&&r.slideTo(x!==null?x:g))}}function e_(){const t=this,{params:r,el:n}=t;if(n&&n.offsetWidth===0)return;r.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:i,snapGrid:o}=t,l=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const c=l&&r.loop;(r.slidesPerView==="auto"||r.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!c?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!l?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=s,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function rX(t){const r=this;r.enabled&&(r.allowClick||(r.params.preventClicks&&t.preventDefault(),r.params.preventClicksPropagation&&r.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function nX(){const t=this,{wrapperEl:r,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-r.scrollLeft:t.translate=-r.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const o=t.maxTranslate()-t.minTranslate();o===0?i=0:i=(t.translate-t.minTranslate())/o,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function sX(t){const r=this;Xy(r,t.target),!(r.params.cssMode||r.params.slidesPerView!=="auto"&&!r.params.autoHeight)&&r.update()}function iX(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const L8=(t,r)=>{const n=Dl(),{params:s,el:i,wrapperEl:o,device:l}=t,c=!!s.nested,u=r==="on"?"addEventListener":"removeEventListener",d=r;!i||typeof i=="string"||(n[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:c}),i[u]("touchstart",t.onTouchStart,{passive:!1}),i[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("touchmove",t.onTouchMove,{passive:!1,capture:c}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:c}),n[u]("touchend",t.onTouchEnd,{passive:!0}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("touchcancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),n[u]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&i[u]("click",t.onClick,!0),s.cssMode&&o[u]("scroll",t.onScroll),s.updateOnWindowResize?t[d](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",e_,!0):t[d]("observerUpdate",e_,!0),i[u]("load",t.onLoad,{capture:!0}))};function aX(){const t=this,{params:r}=t;t.onTouchStart=ZY.bind(t),t.onTouchMove=eX.bind(t),t.onTouchEnd=tX.bind(t),t.onDocumentTouchStart=iX.bind(t),r.cssMode&&(t.onScroll=nX.bind(t)),t.onClick=rX.bind(t),t.onLoad=sX.bind(t),L8(t,"on")}function oX(){L8(this,"off")}var lX={attachEvents:aX,detachEvents:oX};const t_=(t,r)=>t.grid&&r.grid&&r.grid.rows>1;function cX(){const t=this,{realIndex:r,initialized:n,params:s,el:i}=t,o=s.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const l=Dl(),c=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",u=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:l.querySelector(s.breakpointsBase),d=t.getBreakpoint(o,c,u);if(!d||t.currentBreakpoint===d)return;const f=(d in o?o[d]:void 0)||t.originalParams,h=t_(t,s),p=t_(t,f),m=t.params.grabCursor,g=f.grabCursor,b=s.enabled;h&&!p?(i.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&p&&(i.classList.add(`${s.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&s.grid.fill==="column")&&i.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),m&&!g?t.unsetGrabCursor():!m&&g&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(B=>{if(typeof f[B]>"u")return;const N=s[B]&&s[B].enabled,j=f[B]&&f[B].enabled;N&&!j&&t[B].disable(),!N&&j&&t[B].enable()});const y=f.direction&&f.direction!==s.direction,x=s.loop&&(f.slidesPerView!==s.slidesPerView||y),v=s.loop;y&&n&&t.changeDirection(),Va(t.params,f);const w=t.params.enabled,_=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),b&&!w?t.disable():!b&&w&&t.enable(),t.currentBreakpoint=d,t.emit("_beforeBreakpoint",f),n&&(x?(t.loopDestroy(),t.loopCreate(r),t.updateSlides()):!v&&_?(t.loopCreate(r),t.updateSlides()):v&&!_&&t.loopDestroy()),t.emit("breakpoint",f)}function uX(t,r,n){if(r===void 0&&(r="window"),!t||r==="container"&&!n)return;let s=!1;const i=ya(),o=r==="window"?i.innerHeight:n.clientHeight,l=Object.keys(t).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const u=parseFloat(c.substr(1));return{value:o*u,point:c}}return{value:c,point:c}});l.sort((c,u)=>parseInt(c.value,10)-parseInt(u.value,10));for(let c=0;c<l.length;c+=1){const{point:u,value:d}=l[c];r==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(s=u):d<=n.clientWidth&&(s=u)}return s||"max"}var dX={setBreakpoint:cX,getBreakpoint:uX};function AX(t,r){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(i=>{s[i]&&n.push(r+i)}):typeof s=="string"&&n.push(r+s)}),n}function fX(){const t=this,{classNames:r,params:n,rtl:s,el:i,device:o}=t,l=AX(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);r.push(...l),i.classList.add(...r),t.emitContainerClasses()}function hX(){const t=this,{el:r,classNames:n}=t;!r||typeof r=="string"||(r.classList.remove(...n),t.emitContainerClasses())}var pX={addClasses:fX,removeClasses:hX};function mX(){const t=this,{isLocked:r,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const i=t.slides.length-1,o=t.slidesGrid[i]+t.slidesSizesGrid[i]+s*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),r&&r!==t.isLocked&&(t.isEnd=!1),r!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var gX={checkOverflow:mX},H5={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function yX(t,r){return function(s){s===void 0&&(s={});const i=Object.keys(s)[0],o=s[i];if(typeof o!="object"||o===null){Va(r,s);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in o)){Va(r,s);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Va(r,s)}}const cw={eventsEmitter:pY,update:BY,translate:OY,transition:LY,slide:VY,loop:WY,grabCursor:XY,events:lX,breakpoints:dX,checkOverflow:gX,classes:pX},uw={};let UN=class cc{constructor(){let r,n;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[r,n]=i,n||(n={}),n=Va({},n),r&&!n.el&&(n.el=r);const l=Dl();if(n.el&&typeof n.el=="string"&&l.querySelectorAll(n.el).length>1){const A=[];return l.querySelectorAll(n.el).forEach(f=>{const h=Va({},n,{el:f});A.push(new cc(h))}),A}const c=this;c.__swiper__=!0,c.support=O8(),c.device=F8({userAgent:n.userAgent}),c.browser=I8(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],n.modules&&Array.isArray(n.modules)&&c.modules.push(...n.modules);const u={};c.modules.forEach(A=>{A({params:n,swiper:c,extendParams:yX(n,u),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const d=Va({},H5,u);return c.params=Va({},d,uw,n),c.originalParams=Va({},c.params),c.passedParams=Va({},n),c.params&&c.params.on&&Object.keys(c.params.on).forEach(A=>{c.on(A,c.params.on[A])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:r,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(r){return this.isHorizontal()?r:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[r]}getSlideIndex(r){const{slidesEl:n,params:s}=this,i=Sl(n,`.${s.slideClass}, swiper-slide`),o=Xx(i[0]);return Xx(r)-o}getSlideIndexByData(r){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===r))}getSlideIndexWhenGrid(r){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?r=Math.floor(r/this.params.grid.rows):this.params.grid.fill==="row"&&(r=r%Math.ceil(this.slides.length/this.params.grid.rows))),r}recalcSlides(){const r=this,{slidesEl:n,params:s}=r;r.slides=Sl(n,`.${s.slideClass}, swiper-slide`)}enable(){const r=this;r.enabled||(r.enabled=!0,r.params.grabCursor&&r.setGrabCursor(),r.emit("enable"))}disable(){const r=this;r.enabled&&(r.enabled=!1,r.params.grabCursor&&r.unsetGrabCursor(),r.emit("disable"))}setProgress(r,n){const s=this;r=Math.min(Math.max(r,0),1);const i=s.minTranslate(),l=(s.maxTranslate()-i)*r+i;s.translateTo(l,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const r=this;if(!r.params._emitClasses||!r.el)return;const n=r.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(r.params.containerModifierClass)===0);r.emit("_containerClasses",n.join(" "))}getSlideClasses(r){const n=this;return n.destroyed?"":r.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const r=this;if(!r.params._emitClasses||!r.el)return;const n=[];r.slides.forEach(s=>{const i=r.getSlideClasses(s);n.push({slideEl:s,classNames:i}),r.emit("_slideClass",s,i)}),r.emit("_slideClasses",n)}slidesPerViewDynamic(r,n){r===void 0&&(r="current"),n===void 0&&(n=!1);const s=this,{params:i,slides:o,slidesGrid:l,slidesSizesGrid:c,size:u,activeIndex:d}=s;let A=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=o[d]?Math.ceil(o[d].swiperSlideSize):0,h;for(let p=d+1;p<o.length;p+=1)o[p]&&!h&&(f+=Math.ceil(o[p].swiperSlideSize),A+=1,f>u&&(h=!0));for(let p=d-1;p>=0;p-=1)o[p]&&!h&&(f+=o[p].swiperSlideSize,A+=1,f>u&&(h=!0))}else if(r==="current")for(let f=d+1;f<o.length;f+=1)(n?l[f]+c[f]-l[d]<u:l[f]-l[d]<u)&&(A+=1);else for(let f=d-1;f>=0;f-=1)l[d]-l[f]<u&&(A+=1);return A}update(){const r=this;if(!r||r.destroyed)return;const{snapGrid:n,params:s}=r;s.breakpoints&&r.setBreakpoint(),[...r.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&Xy(r,l)}),r.updateSize(),r.updateSlides(),r.updateProgress(),r.updateSlidesClasses();function i(){const l=r.rtlTranslate?r.translate*-1:r.translate,c=Math.min(Math.max(l,r.maxTranslate()),r.minTranslate());r.setTranslate(c),r.updateActiveIndex(),r.updateSlidesClasses()}let o;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&r.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&r.isEnd&&!s.centeredSlides){const l=r.virtual&&s.virtual.enabled?r.virtual.slides:r.slides;o=r.slideTo(l.length-1,0,!1,!0)}else o=r.slideTo(r.activeIndex,0,!1,!0);o||i()}s.watchOverflow&&n!==r.snapGrid&&r.checkOverflow(),r.emit("update")}changeDirection(r,n){n===void 0&&(n=!0);const s=this,i=s.params.direction;return r||(r=i==="horizontal"?"vertical":"horizontal"),r===i||r!=="horizontal"&&r!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${r}`),s.emitContainerClasses(),s.params.direction=r,s.slides.forEach(o=>{r==="vertical"?o.style.width="":o.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(r){const n=this;n.rtl&&r==="rtl"||!n.rtl&&r==="ltr"||(n.rtl=r==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(r){const n=this;if(n.mounted)return!0;let s=r||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(i()):Sl(s,i())[0];return!l&&n.params.createElements&&(l=Yx("div",n.params.wrapperClass),s.append(l),Sl(s,`.${n.params.slideClass}`).forEach(c=>{l.append(c)})),Object.assign(n,{el:s,wrapperEl:l,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:l,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||xu(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||xu(s,"direction")==="rtl"),wrongRTL:xu(l,"display")==="-webkit-box"}),!0}init(r){const n=this;if(n.initialized||n.mount(r)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(o=>{o.complete?Xy(n,o):o.addEventListener("load",l=>{Xy(n,l.target)})}),$5(n),n.initialized=!0,$5(n),n.emit("init"),n.emit("afterInit"),n}destroy(r,n){r===void 0&&(r=!0),n===void 0&&(n=!0);const s=this,{params:i,el:o,wrapperEl:l,slides:c}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),n&&(s.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),l&&l.removeAttribute("style"),c&&c.length&&c.forEach(u=>{u.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(u=>{s.off(u)}),r!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),rY(s)),s.destroyed=!0),null}static extendDefaults(r){Va(uw,r)}static get extendedDefaults(){return uw}static get defaults(){return H5}static installModule(r){cc.prototype.__modules__||(cc.prototype.__modules__=[]);const n=cc.prototype.__modules__;typeof r=="function"&&n.indexOf(r)<0&&n.push(r)}static use(r){return Array.isArray(r)?(r.forEach(n=>cc.installModule(n)),cc):(cc.installModule(r),cc)}};Object.keys(cw).forEach(t=>{Object.keys(cw[t]).forEach(r=>{UN.prototype[r]=cw[t][r]})});UN.use([fY,hY]);const D8=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function vA(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Yf(t,r){const n=["__proto__","constructor","prototype"];Object.keys(r).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=r[s]:vA(r[s])&&vA(t[s])&&Object.keys(r[s]).length>0?r[s].__swiper__?t[s]=r[s]:Yf(t[s],r[s]):t[s]=r[s]})}function U8(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function R8(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function M8(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Q8(t){t===void 0&&(t="");const r=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return r.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function xX(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function vX(t){let{swiper:r,slides:n,passedParams:s,changedParams:i,nextEl:o,prevEl:l,scrollbarEl:c,paginationEl:u}=t;const d=i.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:A,pagination:f,navigation:h,scrollbar:p,virtual:m,thumbs:g}=r;let b,y,x,v,w,_,B,N;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&A.thumbs&&(!A.thumbs.swiper||A.thumbs.swiper.destroyed)&&(b=!0),i.includes("controller")&&s.controller&&s.controller.control&&A.controller&&!A.controller.control&&(y=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||u)&&(A.pagination||A.pagination===!1)&&f&&!f.el&&(x=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||c)&&(A.scrollbar||A.scrollbar===!1)&&p&&!p.el&&(v=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||l)&&(s.navigation.nextEl||o)&&(A.navigation||A.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(w=!0);const j=C=>{r[C]&&(r[C].destroy(),C==="navigation"?(r.isElement&&(r[C].prevEl.remove(),r[C].nextEl.remove()),A[C].prevEl=void 0,A[C].nextEl=void 0,r[C].prevEl=void 0,r[C].nextEl=void 0):(r.isElement&&r[C].el.remove(),A[C].el=void 0,r[C].el=void 0))};i.includes("loop")&&r.isElement&&(A.loop&&!s.loop?_=!0:!A.loop&&s.loop?B=!0:N=!0),d.forEach(C=>{if(vA(A[C])&&vA(s[C]))Object.assign(A[C],s[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in s[C]&&!s[C].enabled&&j(C);else{const E=s[C];(E===!0||E===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?E===!1&&j(C):A[C]=s[C]}}),d.includes("controller")&&!y&&r.controller&&r.controller.control&&A.controller&&A.controller.control&&(r.controller.control=A.controller.control),i.includes("children")&&n&&m&&A.virtual.enabled?(m.slides=n,m.update(!0)):i.includes("virtual")&&m&&A.virtual.enabled&&(n&&(m.slides=n),m.update(!0)),i.includes("children")&&n&&A.loop&&(N=!0),b&&g.init()&&g.update(!0),y&&(r.controller.control=A.controller.control),x&&(r.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),r.el.appendChild(u)),u&&(A.pagination.el=u),f.init(),f.render(),f.update()),v&&(r.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),r.el.appendChild(c)),c&&(A.scrollbar.el=c),p.init(),p.updateSize(),p.setTranslate()),w&&(r.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Jx(o,r.hostEl.constructor.nextButtonSvg),o.part.add("button-next"),r.el.appendChild(o)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),Jx(l,r.hostEl.constructor.prevButtonSvg),l.part.add("button-prev"),r.el.appendChild(l))),o&&(A.navigation.nextEl=o),l&&(A.navigation.prevEl=l),h.init(),h.update()),i.includes("allowSlideNext")&&(r.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(r.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&r.changeDirection(s.direction,!1),(_||N)&&r.loopDestroy(),(B||N)&&r.loopCreate(),r.update()}function bX(t,r){t===void 0&&(t={}),r===void 0&&(r=!0);const n={on:{}},s={},i={};Yf(n,H5),n._emitClasses=!0,n.init=!1;const o={},l=D8.map(u=>u.replace(/_/,"")),c=Object.assign({},t);return Object.keys(c).forEach(u=>{typeof t[u]>"u"||(l.indexOf(u)>=0?vA(t[u])?(n[u]={},i[u]={},Yf(n[u],t[u]),Yf(i[u],t[u])):(n[u]=t[u],i[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?r?s[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:o[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:i,rest:o,events:s}}function wX(t,r){let{el:n,nextEl:s,prevEl:i,paginationEl:o,scrollbarEl:l,swiper:c}=t;U8(r)&&s&&i&&(c.params.navigation.nextEl=s,c.originalParams.navigation.nextEl=s,c.params.navigation.prevEl=i,c.originalParams.navigation.prevEl=i),R8(r)&&o&&(c.params.pagination.el=o,c.originalParams.pagination.el=o),M8(r)&&l&&(c.params.scrollbar.el=l,c.originalParams.scrollbar.el=l),c.init(n)}function jX(t,r,n,s,i){const o=[];if(!r)return o;const l=u=>{o.indexOf(u)<0&&o.push(u)};if(n&&s){const u=s.map(i),d=n.map(i);u.join("")!==d.join("")&&l("children"),s.length!==n.length&&l("children")}return D8.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in r)if(vA(t[u])&&vA(r[u])){const d=Object.keys(t[u]),A=Object.keys(r[u]);d.length!==A.length?l(u):(d.forEach(f=>{t[u][f]!==r[u][f]&&l(u)}),A.forEach(f=>{t[u][f]!==r[u][f]&&l(u)}))}else t[u]!==r[u]&&l(u)}),o}const NX=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Zx.apply(this,arguments)}function $8(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function H8(t){const r=[];return wt.Children.toArray(t).forEach(n=>{$8(n)?r.push(n):n.props&&n.props.children&&H8(n.props.children).forEach(s=>r.push(s))}),r}function SX(t){const r=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return wt.Children.toArray(t).forEach(s=>{if($8(s))r.push(s);else if(s.props&&s.props.slot&&n[s.props.slot])n[s.props.slot].push(s);else if(s.props&&s.props.children){const i=H8(s.props.children);i.length>0?i.forEach(o=>r.push(o)):n["container-end"].push(s)}else n["container-end"].push(s)}),{slides:r,slots:n}}function BX(t,r,n){if(!n)return null;const s=A=>{let f=A;return A<0?f=r.length+A:f>=r.length&&(f=f-r.length),f},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:o,to:l}=n,c=t.params.loop?-r.length:0,u=t.params.loop?r.length*2:r.length,d=[];for(let A=c;A<u;A+=1)A>=o&&A<=l&&d.push(r[s(A)]);return d.map((A,f)=>wt.cloneElement(A,{swiper:t,style:i,key:A.props.virtualIndex||A.key||`slide-${f}`}))}function n0(t,r){return typeof window>"u"?te.useEffect(t,r):te.useLayoutEffect(t,r)}const r_=te.createContext(null),CX=te.createContext(null),V5=te.forwardRef(function(t,r){let{className:n,tag:s="div",wrapperTag:i="div",children:o,onSwiper:l,...c}=t===void 0?{}:t,u=!1;const[d,A]=te.useState("swiper"),[f,h]=te.useState(null),[p,m]=te.useState(!1),g=te.useRef(!1),b=te.useRef(null),y=te.useRef(null),x=te.useRef(null),v=te.useRef(null),w=te.useRef(null),_=te.useRef(null),B=te.useRef(null),N=te.useRef(null),{params:j,passedParams:C,rest:E,events:S}=bX(c),{slides:k,slots:P}=SX(o),M=()=>{m(!p)};Object.assign(j.on,{_containerClasses(Y,V){A(V)}});const H=()=>{Object.assign(j.on,S),u=!0;const Y={...j};if(delete Y.wrapperClass,y.current=new UN(Y),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=k;const V={cache:!1,slides:k,renderExternal:h,renderExternalUpdate:!1};Yf(y.current.params.virtual,V),Yf(y.current.originalParams.virtual,V)}};b.current||H(),y.current&&y.current.on("_beforeBreakpoint",M);const F=()=>{u||!S||!y.current||Object.keys(S).forEach(Y=>{y.current.on(Y,S[Y])})},Q=()=>{!S||!y.current||Object.keys(S).forEach(Y=>{y.current.off(Y,S[Y])})};te.useEffect(()=>()=>{y.current&&y.current.off("_beforeBreakpoint",M)}),te.useEffect(()=>{!g.current&&y.current&&(y.current.emitSlidesClasses(),g.current=!0)}),n0(()=>{if(r&&(r.current=b.current),!!b.current)return y.current.destroyed&&H(),wX({el:b.current,nextEl:w.current,prevEl:_.current,paginationEl:B.current,scrollbarEl:N.current,swiper:y.current},j),l&&!y.current.destroyed&&l(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}},[]),n0(()=>{F();const Y=jX(C,x.current,k,v.current,V=>V.key);return x.current=C,v.current=k,Y.length&&y.current&&!y.current.destroyed&&vX({swiper:y.current,slides:k,passedParams:C,changedParams:Y,nextEl:w.current,prevEl:_.current,scrollbarEl:N.current,paginationEl:B.current}),()=>{Q()}}),n0(()=>{NX(y.current)},[f]);function K(){return j.virtual?BX(y.current,k,f):k.map((Y,V)=>wt.cloneElement(Y,{swiper:y.current,swiperSlideIndex:V}))}return wt.createElement(s,Zx({ref:b,className:Q8(`${d}${n?` ${n}`:""}`)},E),wt.createElement(CX.Provider,{value:y.current},P["container-start"],wt.createElement(i,{className:xX(j.wrapperClass)},P["wrapper-start"],K(),P["wrapper-end"]),U8(j)&&wt.createElement(wt.Fragment,null,wt.createElement("div",{ref:_,className:"swiper-button-prev"}),wt.createElement("div",{ref:w,className:"swiper-button-next"})),M8(j)&&wt.createElement("div",{ref:N,className:"swiper-scrollbar"}),R8(j)&&wt.createElement("div",{ref:B,className:"swiper-pagination"}),P["container-end"]))});V5.displayName="Swiper";const z5=te.forwardRef(function(t,r){let{tag:n="div",children:s,className:i="",swiper:o,zoom:l,lazy:c,virtualIndex:u,swiperSlideIndex:d,...A}=t===void 0?{}:t;const f=te.useRef(null),[h,p]=te.useState("swiper-slide"),[m,g]=te.useState(!1);function b(w,_,B){_===f.current&&p(B)}n0(()=>{if(typeof d<"u"&&(f.current.swiperSlideIndex=d),r&&(r.current=f.current),!(!f.current||!o)){if(o.destroyed){h!=="swiper-slide"&&p("swiper-slide");return}return o.on("_slideClass",b),()=>{o&&o.off("_slideClass",b)}}}),n0(()=>{o&&f.current&&!o.destroyed&&p(o.getSlideClasses(f.current))},[o]);const y={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},x=()=>typeof s=="function"?s(y):s,v=()=>{g(!0)};return wt.createElement(n,Zx({ref:f,className:Q8(`${h}${i?` ${i}`:""}`),"data-swiper-slide-index":u,onLoad:v},A),l&&wt.createElement(r_.Provider,{value:y},wt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0},x(),c&&!m&&wt.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&wt.createElement(r_.Provider,{value:y},x(),c&&!m&&wt.createElement("div",{className:"swiper-lazy-preloader"})))});z5.displayName="SwiperSlide";function V8(t,r,n,s){return t.params.createElements&&Object.keys(s).forEach(i=>{if(!n[i]&&n.auto===!0){let o=Sl(t.el,`.${s[i]}`)[0];o||(o=Yx("div",s[i]),o.className=s[i],t.el.append(o)),n[i]=o,r[i]=o}}),n}function n_(t){let{swiper:r,extendParams:n,on:s,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),r.navigation={nextEl:null,prevEl:null};function o(m){let g;return m&&typeof m=="string"&&r.isElement&&(g=r.el.querySelector(m)||r.hostEl.querySelector(m),g)?g:(m&&(typeof m=="string"&&(g=[...document.querySelectorAll(m)]),r.params.uniqueNavElements&&typeof m=="string"&&g&&g.length>1&&r.el.querySelectorAll(m).length===1?g=r.el.querySelector(m):g&&g.length===1&&(g=g[0])),m&&!g?m:g)}function l(m,g){const b=r.params.navigation;m=mi(m),m.forEach(y=>{y&&(y.classList[g?"add":"remove"](...b.disabledClass.split(" ")),y.tagName==="BUTTON"&&(y.disabled=g),r.params.watchOverflow&&r.enabled&&y.classList[r.isLocked?"add":"remove"](b.lockClass))})}function c(){const{nextEl:m,prevEl:g}=r.navigation;if(r.params.loop){l(g,!1),l(m,!1);return}l(g,r.isBeginning&&!r.params.rewind),l(m,r.isEnd&&!r.params.rewind)}function u(m){m.preventDefault(),!(r.isBeginning&&!r.params.loop&&!r.params.rewind)&&(r.slidePrev(),i("navigationPrev"))}function d(m){m.preventDefault(),!(r.isEnd&&!r.params.loop&&!r.params.rewind)&&(r.slideNext(),i("navigationNext"))}function A(){const m=r.params.navigation;if(r.params.navigation=V8(r,r.originalParams.navigation,r.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(m.nextEl||m.prevEl))return;let g=o(m.nextEl),b=o(m.prevEl);Object.assign(r.navigation,{nextEl:g,prevEl:b}),g=mi(g),b=mi(b);const y=(x,v)=>{x&&x.addEventListener("click",v==="next"?d:u),!r.enabled&&x&&x.classList.add(...m.lockClass.split(" "))};g.forEach(x=>y(x,"next")),b.forEach(x=>y(x,"prev"))}function f(){let{nextEl:m,prevEl:g}=r.navigation;m=mi(m),g=mi(g);const b=(y,x)=>{y.removeEventListener("click",x==="next"?d:u),y.classList.remove(...r.params.navigation.disabledClass.split(" "))};m.forEach(y=>b(y,"next")),g.forEach(y=>b(y,"prev"))}s("init",()=>{r.params.navigation.enabled===!1?p():(A(),c())}),s("toEdge fromEdge lock unlock",()=>{c()}),s("destroy",()=>{f()}),s("enable disable",()=>{let{nextEl:m,prevEl:g}=r.navigation;if(m=mi(m),g=mi(g),r.enabled){c();return}[...m,...g].filter(b=>!!b).forEach(b=>b.classList.add(r.params.navigation.lockClass))}),s("click",(m,g)=>{let{nextEl:b,prevEl:y}=r.navigation;b=mi(b),y=mi(y);const x=g.target;let v=y.includes(x)||b.includes(x);if(r.isElement&&!v){const w=g.path||g.composedPath&&g.composedPath();w&&(v=w.find(_=>b.includes(_)||y.includes(_)))}if(r.params.navigation.hideOnClick&&!v){if(r.pagination&&r.params.pagination&&r.params.pagination.clickable&&(r.pagination.el===x||r.pagination.el.contains(x)))return;let w;b.length?w=b[0].classList.contains(r.params.navigation.hiddenClass):y.length&&(w=y[0].classList.contains(r.params.navigation.hiddenClass)),i(w===!0?"navigationShow":"navigationHide"),[...b,...y].filter(_=>!!_).forEach(_=>_.classList.toggle(r.params.navigation.hiddenClass))}});const h=()=>{r.el.classList.remove(...r.params.navigation.navigationDisabledClass.split(" ")),A(),c()},p=()=>{r.el.classList.add(...r.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(r.navigation,{enable:h,disable:p,update:c,init:A,destroy:f})}function gp(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function s_(t){let{swiper:r,extendParams:n,on:s,emit:i}=t;const o="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:x=>x,formatFractionTotal:x=>x,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),r.pagination={el:null,bullets:[]};let l,c=0;function u(){return!r.params.pagination.el||!r.pagination.el||Array.isArray(r.pagination.el)&&r.pagination.el.length===0}function d(x,v){const{bulletActiveClass:w}=r.params.pagination;x&&(x=x[`${v==="prev"?"previous":"next"}ElementSibling`],x&&(x.classList.add(`${w}-${v}`),x=x[`${v==="prev"?"previous":"next"}ElementSibling`],x&&x.classList.add(`${w}-${v}-${v}`)))}function A(x,v,w){if(x=x%w,v=v%w,v===x+1)return"next";if(v===x-1)return"previous"}function f(x){const v=x.target.closest(gp(r.params.pagination.bulletClass));if(!v)return;x.preventDefault();const w=Xx(v)*r.params.slidesPerGroup;if(r.params.loop){if(r.realIndex===w)return;const _=A(r.realIndex,w,r.slides.length);_==="next"?r.slideNext():_==="previous"?r.slidePrev():r.slideToLoop(w)}else r.slideTo(w)}function h(){const x=r.rtl,v=r.params.pagination;if(u())return;let w=r.pagination.el;w=mi(w);let _,B;const N=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.slides.length,j=r.params.loop?Math.ceil(N/r.params.slidesPerGroup):r.snapGrid.length;if(r.params.loop?(B=r.previousRealIndex||0,_=r.params.slidesPerGroup>1?Math.floor(r.realIndex/r.params.slidesPerGroup):r.realIndex):typeof r.snapIndex<"u"?(_=r.snapIndex,B=r.previousSnapIndex):(B=r.previousIndex||0,_=r.activeIndex||0),v.type==="bullets"&&r.pagination.bullets&&r.pagination.bullets.length>0){const C=r.pagination.bullets;let E,S,k;if(v.dynamicBullets&&(l=Q5(C[0],r.isHorizontal()?"width":"height"),w.forEach(P=>{P.style[r.isHorizontal()?"width":"height"]=`${l*(v.dynamicMainBullets+4)}px`}),v.dynamicMainBullets>1&&B!==void 0&&(c+=_-(B||0),c>v.dynamicMainBullets-1?c=v.dynamicMainBullets-1:c<0&&(c=0)),E=Math.max(_-c,0),S=E+(Math.min(C.length,v.dynamicMainBullets)-1),k=(S+E)/2),C.forEach(P=>{const M=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(H=>`${v.bulletActiveClass}${H}`)].map(H=>typeof H=="string"&&H.includes(" ")?H.split(" "):H).flat();P.classList.remove(...M)}),w.length>1)C.forEach(P=>{const M=Xx(P);M===_?P.classList.add(...v.bulletActiveClass.split(" ")):r.isElement&&P.setAttribute("part","bullet"),v.dynamicBullets&&(M>=E&&M<=S&&P.classList.add(...`${v.bulletActiveClass}-main`.split(" ")),M===E&&d(P,"prev"),M===S&&d(P,"next"))});else{const P=C[_];if(P&&P.classList.add(...v.bulletActiveClass.split(" ")),r.isElement&&C.forEach((M,H)=>{M.setAttribute("part",H===_?"bullet-active":"bullet")}),v.dynamicBullets){const M=C[E],H=C[S];for(let F=E;F<=S;F+=1)C[F]&&C[F].classList.add(...`${v.bulletActiveClass}-main`.split(" "));d(M,"prev"),d(H,"next")}}if(v.dynamicBullets){const P=Math.min(C.length,v.dynamicMainBullets+4),M=(l*P-l)/2-k*l,H=x?"right":"left";C.forEach(F=>{F.style[r.isHorizontal()?H:"top"]=`${M}px`})}}w.forEach((C,E)=>{if(v.type==="fraction"&&(C.querySelectorAll(gp(v.currentClass)).forEach(S=>{S.textContent=v.formatFractionCurrent(_+1)}),C.querySelectorAll(gp(v.totalClass)).forEach(S=>{S.textContent=v.formatFractionTotal(j)})),v.type==="progressbar"){let S;v.progressbarOpposite?S=r.isHorizontal()?"vertical":"horizontal":S=r.isHorizontal()?"horizontal":"vertical";const k=(_+1)/j;let P=1,M=1;S==="horizontal"?P=k:M=k,C.querySelectorAll(gp(v.progressbarFillClass)).forEach(H=>{H.style.transform=`translate3d(0,0,0) scaleX(${P}) scaleY(${M})`,H.style.transitionDuration=`${r.params.speed}ms`})}v.type==="custom"&&v.renderCustom?(Jx(C,v.renderCustom(r,_+1,j)),E===0&&i("paginationRender",C)):(E===0&&i("paginationRender",C),i("paginationUpdate",C)),r.params.watchOverflow&&r.enabled&&C.classList[r.isLocked?"add":"remove"](v.lockClass)})}function p(){const x=r.params.pagination;if(u())return;const v=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.grid&&r.params.grid.rows>1?r.slides.length/Math.ceil(r.params.grid.rows):r.slides.length;let w=r.pagination.el;w=mi(w);let _="";if(x.type==="bullets"){let B=r.params.loop?Math.ceil(v/r.params.slidesPerGroup):r.snapGrid.length;r.params.freeMode&&r.params.freeMode.enabled&&B>v&&(B=v);for(let N=0;N<B;N+=1)x.renderBullet?_+=x.renderBullet.call(r,N,x.bulletClass):_+=`<${x.bulletElement} ${r.isElement?'part="bullet"':""} class="${x.bulletClass}"></${x.bulletElement}>`}x.type==="fraction"&&(x.renderFraction?_=x.renderFraction.call(r,x.currentClass,x.totalClass):_=`<span class="${x.currentClass}"></span> / <span class="${x.totalClass}"></span>`),x.type==="progressbar"&&(x.renderProgressbar?_=x.renderProgressbar.call(r,x.progressbarFillClass):_=`<span class="${x.progressbarFillClass}"></span>`),r.pagination.bullets=[],w.forEach(B=>{x.type!=="custom"&&Jx(B,_||""),x.type==="bullets"&&r.pagination.bullets.push(...B.querySelectorAll(gp(x.bulletClass)))}),x.type!=="custom"&&i("paginationRender",w[0])}function m(){r.params.pagination=V8(r,r.originalParams.pagination,r.params.pagination,{el:"swiper-pagination"});const x=r.params.pagination;if(!x.el)return;let v;typeof x.el=="string"&&r.isElement&&(v=r.el.querySelector(x.el)),!v&&typeof x.el=="string"&&(v=[...document.querySelectorAll(x.el)]),v||(v=x.el),!(!v||v.length===0)&&(r.params.uniqueNavElements&&typeof x.el=="string"&&Array.isArray(v)&&v.length>1&&(v=[...r.el.querySelectorAll(x.el)],v.length>1&&(v=v.find(w=>T8(w,".swiper")[0]===r.el))),Array.isArray(v)&&v.length===1&&(v=v[0]),Object.assign(r.pagination,{el:v}),v=mi(v),v.forEach(w=>{x.type==="bullets"&&x.clickable&&w.classList.add(...(x.clickableClass||"").split(" ")),w.classList.add(x.modifierClass+x.type),w.classList.add(r.isHorizontal()?x.horizontalClass:x.verticalClass),x.type==="bullets"&&x.dynamicBullets&&(w.classList.add(`${x.modifierClass}${x.type}-dynamic`),c=0,x.dynamicMainBullets<1&&(x.dynamicMainBullets=1)),x.type==="progressbar"&&x.progressbarOpposite&&w.classList.add(x.progressbarOppositeClass),x.clickable&&w.addEventListener("click",f),r.enabled||w.classList.add(x.lockClass)}))}function g(){const x=r.params.pagination;if(u())return;let v=r.pagination.el;v&&(v=mi(v),v.forEach(w=>{w.classList.remove(x.hiddenClass),w.classList.remove(x.modifierClass+x.type),w.classList.remove(r.isHorizontal()?x.horizontalClass:x.verticalClass),x.clickable&&(w.classList.remove(...(x.clickableClass||"").split(" ")),w.removeEventListener("click",f))})),r.pagination.bullets&&r.pagination.bullets.forEach(w=>w.classList.remove(...x.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!r.pagination||!r.pagination.el)return;const x=r.params.pagination;let{el:v}=r.pagination;v=mi(v),v.forEach(w=>{w.classList.remove(x.horizontalClass,x.verticalClass),w.classList.add(r.isHorizontal()?x.horizontalClass:x.verticalClass)})}),s("init",()=>{r.params.pagination.enabled===!1?y():(m(),p(),h())}),s("activeIndexChange",()=>{typeof r.snapIndex>"u"&&h()}),s("snapIndexChange",()=>{h()}),s("snapGridLengthChange",()=>{p(),h()}),s("destroy",()=>{g()}),s("enable disable",()=>{let{el:x}=r.pagination;x&&(x=mi(x),x.forEach(v=>v.classList[r.enabled?"remove":"add"](r.params.pagination.lockClass)))}),s("lock unlock",()=>{h()}),s("click",(x,v)=>{const w=v.target,_=mi(r.pagination.el);if(r.params.pagination.el&&r.params.pagination.hideOnClick&&_&&_.length>0&&!w.classList.contains(r.params.pagination.bulletClass)){if(r.navigation&&(r.navigation.nextEl&&w===r.navigation.nextEl||r.navigation.prevEl&&w===r.navigation.prevEl))return;const B=_[0].classList.contains(r.params.pagination.hiddenClass);i(B===!0?"paginationShow":"paginationHide"),_.forEach(N=>N.classList.toggle(r.params.pagination.hiddenClass))}});const b=()=>{r.el.classList.remove(r.params.pagination.paginationDisabledClass);let{el:x}=r.pagination;x&&(x=mi(x),x.forEach(v=>v.classList.remove(r.params.pagination.paginationDisabledClass))),m(),p(),h()},y=()=>{r.el.classList.add(r.params.pagination.paginationDisabledClass);let{el:x}=r.pagination;x&&(x=mi(x),x.forEach(v=>v.classList.add(r.params.pagination.paginationDisabledClass))),g()};Object.assign(r.pagination,{enable:b,disable:y,render:p,update:h,init:m,destroy:g})}function _X(t){let{swiper:r,extendParams:n,on:s,emit:i,params:o}=t;r.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,u=o&&o.autoplay?o.autoplay.delay:3e3,d=o&&o.autoplay?o.autoplay.delay:3e3,A,f=new Date().getTime(),h,p,m,g,b,y,x;function v(K){!r||r.destroyed||!r.wrapperEl||K.target===r.wrapperEl&&(r.wrapperEl.removeEventListener("transitionend",v),!(x||K.detail&&K.detail.bySwiperTouchMove)&&E())}const w=()=>{if(r.destroyed||!r.autoplay.running)return;r.autoplay.paused?h=!0:h&&(d=A,h=!1);const K=r.autoplay.paused?A:f+d-new Date().getTime();r.autoplay.timeLeft=K,i("autoplayTimeLeft",K,K/u),c=requestAnimationFrame(()=>{w()})},_=()=>{let K;return r.virtual&&r.params.virtual.enabled?K=r.slides.find(V=>V.classList.contains("swiper-slide-active")):K=r.slides[r.activeIndex],K?parseInt(K.getAttribute("data-swiper-autoplay"),10):void 0},B=K=>{if(r.destroyed||!r.autoplay.running)return;cancelAnimationFrame(c),w();let Y=typeof K>"u"?r.params.autoplay.delay:K;u=r.params.autoplay.delay,d=r.params.autoplay.delay;const V=_();!Number.isNaN(V)&&V>0&&typeof K>"u"&&(Y=V,u=V,d=V),A=Y;const I=r.params.speed,O=()=>{!r||r.destroyed||(r.params.autoplay.reverseDirection?!r.isBeginning||r.params.loop||r.params.rewind?(r.slidePrev(I,!0,!0),i("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(r.slides.length-1,I,!0,!0),i("autoplay")):!r.isEnd||r.params.loop||r.params.rewind?(r.slideNext(I,!0,!0),i("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(0,I,!0,!0),i("autoplay")),r.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{B()})))};return Y>0?(clearTimeout(l),l=setTimeout(()=>{O()},Y)):requestAnimationFrame(()=>{O()}),Y},N=()=>{f=new Date().getTime(),r.autoplay.running=!0,B(),i("autoplayStart")},j=()=>{r.autoplay.running=!1,clearTimeout(l),cancelAnimationFrame(c),i("autoplayStop")},C=(K,Y)=>{if(r.destroyed||!r.autoplay.running)return;clearTimeout(l),K||(y=!0);const V=()=>{i("autoplayPause"),r.params.autoplay.waitForTransition?r.wrapperEl.addEventListener("transitionend",v):E()};if(r.autoplay.paused=!0,Y){b&&(A=r.params.autoplay.delay),b=!1,V();return}A=(A||r.params.autoplay.delay)-(new Date().getTime()-f),!(r.isEnd&&A<0&&!r.params.loop)&&(A<0&&(A=0),V())},E=()=>{r.isEnd&&A<0&&!r.params.loop||r.destroyed||!r.autoplay.running||(f=new Date().getTime(),y?(y=!1,B(A)):B(),r.autoplay.paused=!1,i("autoplayResume"))},S=()=>{if(r.destroyed||!r.autoplay.running)return;const K=Dl();K.visibilityState==="hidden"&&(y=!0,C(!0)),K.visibilityState==="visible"&&E()},k=K=>{K.pointerType==="mouse"&&(y=!0,x=!0,!(r.animating||r.autoplay.paused)&&C(!0))},P=K=>{K.pointerType==="mouse"&&(x=!1,r.autoplay.paused&&E())},M=()=>{r.params.autoplay.pauseOnMouseEnter&&(r.el.addEventListener("pointerenter",k),r.el.addEventListener("pointerleave",P))},H=()=>{r.el&&typeof r.el!="string"&&(r.el.removeEventListener("pointerenter",k),r.el.removeEventListener("pointerleave",P))},F=()=>{Dl().addEventListener("visibilitychange",S)},Q=()=>{Dl().removeEventListener("visibilitychange",S)};s("init",()=>{r.params.autoplay.enabled&&(M(),F(),N())}),s("destroy",()=>{H(),Q(),r.autoplay.running&&j()}),s("_freeModeStaticRelease",()=>{(m||y)&&E()}),s("_freeModeNoMomentumRelease",()=>{r.params.autoplay.disableOnInteraction?j():C(!0,!0)}),s("beforeTransitionStart",(K,Y,V)=>{r.destroyed||!r.autoplay.running||(V||!r.params.autoplay.disableOnInteraction?C(!0,!0):j())}),s("sliderFirstMove",()=>{if(!(r.destroyed||!r.autoplay.running)){if(r.params.autoplay.disableOnInteraction){j();return}p=!0,m=!1,y=!1,g=setTimeout(()=>{y=!0,m=!0,C(!0)},200)}}),s("touchEnd",()=>{if(!(r.destroyed||!r.autoplay.running||!p)){if(clearTimeout(g),clearTimeout(l),r.params.autoplay.disableOnInteraction){m=!1,p=!1;return}m&&r.params.cssMode&&E(),m=!1,p=!1}}),s("slideChange",()=>{r.destroyed||!r.autoplay.running||(b=!0)}),Object.assign(r.autoplay,{start:N,stop:j,pause:C,resume:E})}function EX(){return wt.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},wt.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))}function kX(){return wt.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},wt.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))}const ev=(t,r)=>{var n,s;return t===((s=(n=r==null?void 0:r.tagName)==null?void 0:n.toUpperCase)==null?void 0:s.call(n))},RN=t=>ev("DIV",t)||ev("SPAN",t),tv=t=>ev("IMG",t),i_=t=>t.complete&&t.naturalHeight!==0,Jy=t=>ev("SVG",t),z8=({height:t,offset:r,width:n})=>Math.min((window.innerWidth-r*2)/n,(window.innerHeight-r*2)/t),TX=({containerHeight:t,containerWidth:r,offset:n,targetHeight:s,targetWidth:i})=>{const o=z8({height:s,offset:n,width:i}),l=i>s?i/r:s/t;return o>1?l:o*l},qd=({containerHeight:t,containerWidth:r,hasScalableSrc:n,offset:s,targetHeight:i,targetWidth:o})=>!t||!r?1:!n&&i&&o?TX({containerHeight:t,containerWidth:r,offset:s,targetHeight:i,targetWidth:o}):z8({height:t,offset:s,width:r}),OX=/url(?:\(['"]?)(.*?)(?:['"]?\))/,a_=t=>{var r;if(t){if(tv(t))return t.currentSrc;if(RN(t)){const n=window.getComputedStyle(t).backgroundImage;if(n)return(r=OX.exec(n))==null?void 0:r[1]}}},FX=t=>{if(t)return tv(t)?t.alt??void 0:t.getAttribute("aria-label")??void 0},IX=({containerHeight:t,containerLeft:r,containerTop:n,containerWidth:s,hasScalableSrc:i,offset:o,targetHeight:l,targetWidth:c})=>{const u=qd({containerHeight:t,containerWidth:s,hasScalableSrc:i,offset:o,targetHeight:l,targetWidth:c});return{top:n,left:r,width:s*u,height:t*u,transform:`translate(0,0) scale(${1/u})`}},po=({position:t,relativeNum:r})=>{const n=parseFloat(t);return t.endsWith("%")?r*n/100:n},PX=({containerHeight:t,containerLeft:r,containerTop:n,containerWidth:s,hasScalableSrc:i,objectFit:o,objectPosition:l,offset:c,targetHeight:u,targetWidth:d})=>{if(o==="scale-down"&&(d<=s&&u<=t?o="none":o="contain"),o==="cover"||o==="contain"){const A=s/d,f=t/u,h=o==="cover"?Math.max(A,f):Math.min(A,f),[p="50%",m="50%"]=l.split(" "),g=po({position:p,relativeNum:s-d*h}),b=po({position:m,relativeNum:t-u*h}),y=qd({containerHeight:u*h,containerWidth:d*h,hasScalableSrc:i,offset:c,targetHeight:u,targetWidth:d});return{top:n+b,left:r+g,width:d*h*y,height:u*h*y,transform:`translate(0,0) scale(${1/y})`}}else if(o==="none"){const[A="50%",f="50%"]=l.split(" "),h=po({position:A,relativeNum:s-d}),p=po({position:f,relativeNum:t-u}),m=qd({containerHeight:u,containerWidth:d,hasScalableSrc:i,offset:c,targetHeight:u,targetWidth:d});return{top:n+p,left:r+h,width:d*m,height:u*m,transform:`translate(0,0) scale(${1/m})`}}else if(o==="fill"){const A=s/d,f=t/u,h=Math.max(A,f),p=qd({containerHeight:u*h,containerWidth:d*h,hasScalableSrc:i,offset:c,targetHeight:u,targetWidth:d});return{width:s*p,height:t*p,transform:`translate(0,0) scale(${1/p})`}}else return{}},LX=({backgroundPosition:t,backgroundSize:r,containerHeight:n,containerLeft:s,containerTop:i,containerWidth:o,hasScalableSrc:l,offset:c,targetHeight:u,targetWidth:d})=>{if(r==="cover"||r==="contain"){const A=o/d,f=n/u,h=r==="cover"?Math.max(A,f):Math.min(A,f),[p="50%",m="50%"]=t.split(" "),g=po({position:p,relativeNum:o-d*h}),b=po({position:m,relativeNum:n-u*h}),y=qd({containerHeight:u*h,containerWidth:d*h,hasScalableSrc:l,offset:c,targetHeight:u,targetWidth:d});return{top:i+b,left:s+g,width:d*h*y,height:u*h*y,transform:`translate(0,0) scale(${1/y})`}}else if(r==="auto"){const[A="50%",f="50%"]=t.split(" "),h=po({position:A,relativeNum:o-d}),p=po({position:f,relativeNum:n-u}),m=qd({containerHeight:u,containerWidth:d,hasScalableSrc:l,offset:c,targetHeight:u,targetWidth:d});return{top:i+p,left:s+h,width:d*m,height:u*m,transform:`translate(0,0) scale(${1/m})`}}else{const[A="50%",f="50%"]=r.split(" "),h=po({position:A,relativeNum:o}),p=po({position:f,relativeNum:n}),m=h/d,g=p/u,b=Math.min(m,g),[y="50%",x="50%"]=t.split(" "),v=po({position:y,relativeNum:o-d*b}),w=po({position:x,relativeNum:n-u*b}),_=qd({containerHeight:u*b,containerWidth:d*b,hasScalableSrc:l,offset:c,targetHeight:u,targetWidth:d});return{top:i+w,left:s+v,width:d*b*_,height:u*b*_,transform:`translate(0,0) scale(${1/_})`}}},DX=/\.svg$/i,UX=({hasZoomImg:t,imgSrc:r,isSvg:n,isZoomed:s,loadedImgEl:i,offset:o,shouldRefresh:l,targetEl:c})=>{var y;const u=n||((y=r==null?void 0:r.slice)==null?void 0:y.call(r,0,18))==="data:image/svg+xml"||t||!!(r&&DX.test(r)),d=c.getBoundingClientRect(),A=window.getComputedStyle(c),f=i!=null&&RN(c),h=i!=null&&!f,p=IX({containerHeight:d.height,containerLeft:d.left,containerTop:d.top,containerWidth:d.width,hasScalableSrc:u,offset:o,targetHeight:(i==null?void 0:i.naturalHeight)||d.height,targetWidth:(i==null?void 0:i.naturalWidth)||d.width}),m=h?PX({containerHeight:d.height,containerLeft:d.left,containerTop:d.top,containerWidth:d.width,hasScalableSrc:u,objectFit:A.objectFit,objectPosition:A.objectPosition,offset:o,targetHeight:(i==null?void 0:i.naturalHeight)||d.height,targetWidth:(i==null?void 0:i.naturalWidth)||d.width}):void 0,g=f?LX({backgroundPosition:A.backgroundPosition,backgroundSize:A.backgroundSize,containerHeight:d.height,containerLeft:d.left,containerTop:d.top,containerWidth:d.width,hasScalableSrc:u,offset:o,targetHeight:(i==null?void 0:i.naturalHeight)||d.height,targetWidth:(i==null?void 0:i.naturalWidth)||d.width}):void 0,b=Object.assign({},p,m,g);if(s){const x=window.innerWidth/2,v=window.innerHeight/2,w=parseFloat(String(b.left||0))+parseFloat(String(b.width||0))/2,_=parseFloat(String(b.top||0))+parseFloat(String(b.height||0))/2,B=x-w,N=v-_;l&&(b.transitionDuration="0.01ms"),b.transform=`translate(${B}px,${N}px) scale(1)`}return b},dw=t=>{if(!t)return{};if(Jy(t)){const r=t.parentElement,n=t.getBoundingClientRect();if(r){const s=r.getBoundingClientRect();return{height:n.height,left:s.left-n.left,top:s.top-n.top,width:n.width}}else return{height:n.height,left:n.left,width:n.width,top:n.top}}else return{height:t.offsetHeight,left:t.offsetLeft,width:t.offsetWidth,top:t.offsetTop}},RX=t=>{const r="-zoom",n=["clip-path","fill","mask","marker-start","marker-mid","marker-end"],s=new Map;if(t.hasAttribute("id")){const i=t.id,o=i+r;s.set(i,o),t.id=o}t.querySelectorAll("[id]").forEach(i=>{const o=i.id,l=o+r;s.set(o,l),i.id=l}),s.forEach((i,o)=>{const l=`url(#${o})`,c=`url(#${i})`,u=n.map(d=>`[${d}="${l}"]`).join(", ");t.querySelectorAll(u).forEach(d=>{n.forEach(A=>{d.getAttribute(A)===l&&d.setAttribute(A,c)})})}),t.querySelectorAll("style").forEach(i=>{s.forEach((o,l)=>{i.textContent&&(i.textContent=i.textContent.replaceAll(`#${l}`,`#${o}`))})})},MX=["img","svg",'[role="img"]',"[data-zoom]"].map(t=>`${t}:not([aria-hidden="true"])`).join(","),o_={overflow:"",width:""};function QX(t){return wt.createElement(K8,{...t})}class K8 extends wt.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1,styleGhost:{}},this.refContent=wt.createRef(),this.refDialog=wt.createRef(),this.refModalContent=wt.createRef(),this.refModalImg=wt.createRef(),this.refWrap=wt.createRef(),this.imgEl=null,this.isScaling=!1,this.prevBodyAttrs=o_,this.styleModalImg={},this.handleModalStateChange=r=>{var s,i,o,l;const{modalState:n}=this.state;r!=="LOADING"&&n==="LOADING"?(this.loadZoomImg(),window.addEventListener("resize",this.handleResize,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),document.addEventListener("keydown",this.handleKeyDown,!0)):r!=="LOADED"&&n==="LOADED"?window.addEventListener("wheel",this.handleWheel,{passive:!0}):r!=="UNLOADING"&&n==="UNLOADING"?(this.ensureImgTransitionEnd(),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),document.removeEventListener("keydown",this.handleKeyDown,!0)):r!=="UNLOADED"&&n==="UNLOADED"&&(this.bodyScrollEnable(),window.removeEventListener("resize",this.handleResize),(i=(s=this.refModalImg.current)==null?void 0:s.removeEventListener)==null||i.call(s,"transitionend",this.handleImgTransitionEnd),(l=(o=this.refDialog.current)==null?void 0:o.close)==null||l.call(o))},this.getDialogContainer=()=>{let r=document.querySelector("[data-rmiz-portal]");return r==null&&(r=document.createElement("div"),r.setAttribute("data-rmiz-portal",""),document.body.appendChild(r)),r},this.setId=()=>{const r=()=>Math.random().toString(16).slice(-4);this.setState({id:r()+r()+r()})},this.setAndTrackImg=()=>{var n,s;const r=this.refContent.current;r&&(this.imgEl=r.querySelector(MX),this.imgEl?((s=(n=this.contentNotFoundChangeObserver)==null?void 0:n.disconnect)==null||s.call(n),this.imgEl.addEventListener("load",this.handleImgLoad),this.imgEl.addEventListener("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElResizeObserver=new ResizeObserver(i=>{const o=i[0];o!=null&&o.target&&(this.imgEl=o.target,this.setState({styleGhost:dw(this.imgEl)}))}),this.imgElResizeObserver.observe(this.imgEl),this.contentChangeObserver||(this.contentChangeObserver=new MutationObserver(()=>{this.setState({styleGhost:dw(this.imgEl)})}),this.contentChangeObserver.observe(r,{attributes:!0,childList:!0,subtree:!0}))):this.contentNotFoundChangeObserver||(this.contentNotFoundChangeObserver=new MutationObserver(this.setAndTrackImg),this.contentNotFoundChangeObserver.observe(r,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=r=>{const{isZoomed:n}=this.props;!r&&n?this.zoom():r&&!n&&this.unzoom()},this.handleImgLoad=()=>{const r=a_(this.imgEl);if(!r)return;const n=new Image;tv(this.imgEl)&&(n.sizes=this.imgEl.sizes,n.srcset=this.imgEl.srcset,n.crossOrigin=this.imgEl.crossOrigin),n.src=r;const s=()=>{this.setState({loadedImgEl:n,styleGhost:dw(this.imgEl)})};n.decode().then(s).catch(()=>{if(i_(n)){s();return}n.onload=s})},this.handleZoom=()=>{var r,n;!this.props.isDisabled&&this.hasImage()&&((n=(r=this.props).onZoomChange)==null||n.call(r,!0))},this.handleUnzoom=()=>{var r,n;this.props.isDisabled||(n=(r=this.props).onZoomChange)==null||n.call(r,!1)},this.handleBtnUnzoomClick=r=>{r.preventDefault(),r.stopPropagation(),this.handleUnzoom()},this.handleDialogCancel=r=>{r.preventDefault()},this.handleDialogClick=r=>{(r.target===this.refModalContent.current||r.target===this.refModalImg.current)&&(r.stopPropagation(),this.handleUnzoom())},this.handleDialogClose=r=>{r.stopPropagation(),this.handleUnzoom()},this.handleKeyDown=r=>{(r.key==="Escape"||r.keyCode===27)&&(r.preventDefault(),r.stopPropagation(),this.handleUnzoom())},this.handleWheel=r=>{r.ctrlKey||(r.stopPropagation(),queueMicrotask(()=>{this.handleUnzoom()}))},this.handleTouchStart=r=>{if(r.touches.length>1){this.isScaling=!0;return}r.changedTouches.length===1&&r.changedTouches[0]&&(this.touchYStart=r.changedTouches[0].screenY)},this.handleTouchMove=r=>{var s;const n=((s=window.visualViewport)==null?void 0:s.scale)??1;if(this.props.canSwipeToUnzoom&&!this.isScaling&&n<=1&&this.touchYStart!=null&&r.changedTouches[0]){this.touchYEnd=r.changedTouches[0].screenY;const i=Math.max(this.touchYStart,this.touchYEnd),o=Math.min(this.touchYStart,this.touchYEnd);Math.abs(i-o)>this.props.swipeToUnzoomThreshold&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchEnd=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleTouchCancel=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.hasImage=()=>this.imgEl&&(this.state.loadedImgEl||Jy(this.imgEl))&&window.getComputedStyle(this.imgEl).display!=="none",this.zoom=()=>{var r,n,s,i;this.bodyScrollDisable(),(n=(r=this.refDialog.current)==null?void 0:r.showModal)==null||n.call(r),(i=(s=this.refModalImg.current)==null?void 0:s.addEventListener)==null||i.call(s,"transitionend",this.handleImgTransitionEnd),this.setState({modalState:"LOADING"})},this.unzoom=()=>{this.setState({modalState:"UNLOADING"})},this.handleImgTransitionEnd=()=>{clearTimeout(this.timeoutTransitionEnd),this.state.modalState==="LOADING"?this.setState({modalState:"LOADED"}):this.state.modalState==="UNLOADING"&&this.setState({shouldRefresh:!1,modalState:"UNLOADED"})},this.ensureImgTransitionEnd=()=>{if(this.refModalImg.current){const r=window.getComputedStyle(this.refModalImg.current).transitionDuration,n=parseFloat(r);if(n){const s=n*(r.endsWith("ms")?1:1e3)+50;this.timeoutTransitionEnd=setTimeout(this.handleImgTransitionEnd,s)}}},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const r=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${r}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=o_},this.loadZoomImg=()=>{const{props:{zoomImg:r}}=this,n=r==null?void 0:r.src;if(n){const s=new Image;s.sizes=(r==null?void 0:r.sizes)??"",s.srcset=(r==null?void 0:r.srcSet)??"",s.crossOrigin=(r==null?void 0:r.crossOrigin)??void 0,s.src=n;const i=()=>{this.setState({isZoomImgLoaded:!0})};s.decode().then(i).catch(()=>{if(i_(s)){i();return}s.onload=i})}},this.UNSAFE_handleSvg=()=>{var i,o,l,c,u;const{imgEl:r,refModalImg:n,styleModalImg:s}=this;if(Jy(r)){const d=r.cloneNode(!0);RX(d),d.style.width=`${s.width||0}px`,d.style.height=`${s.height||0}px`,d.addEventListener("click",this.handleUnzoom),(l=(o=(i=n.current)==null?void 0:i.firstChild)==null?void 0:o.remove)==null||l.call(o),(u=(c=n.current)==null?void 0:c.appendChild)==null||u.call(c,d)}}}render(){const{handleBtnUnzoomClick:r,handleDialogCancel:n,handleDialogClick:s,handleDialogClose:i,handleUnzoom:o,handleZoom:l,imgEl:c,props:{a11yNameButtonUnzoom:u,a11yNameButtonZoom:d,children:A,classDialog:f,IconUnzoom:h,IconZoom:p,isZoomed:m,wrapElement:g,ZoomContent:b,zoomImg:y,zoomMargin:x},refContent:v,refDialog:w,refModalContent:_,refModalImg:B,refWrap:N,state:{id:j,isZoomImgLoaded:C,loadedImgEl:E,modalState:S,shouldRefresh:k,styleGhost:P}}=this,M=`rmiz-modal-${j}`,H=`rmiz-modal-img-${j}`,F=RN(c),Q=tv(c),K=Jy(c),Y=FX(c),V=a_(c),I=Q?c.sizes:void 0,O=Q?c.srcset:void 0,R=Q?c.crossOrigin:void 0,U=!!(y!=null&&y.src),T=this.hasImage(),z=Y?`${d}: ${Y}`:d,G=S==="LOADING"||S==="LOADED",J=T?"found":"not-found",ee=S==="UNLOADED"||S==="UNLOADING"?"hidden":"visible",fe={visibility:S==="UNLOADED"?"visible":"hidden"};this.styleModalImg=T?UX({hasZoomImg:U,imgSrc:V,isSvg:K,isZoomed:m&&G,loadedImgEl:E,offset:x,shouldRefresh:k,targetEl:c}):{};let de=null;if(T){const ae=Q||F?wt.createElement("img",{alt:Y,crossOrigin:R,sizes:I,src:V,srcSet:O,...C&&S==="LOADED"?y:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:H,ref:B,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):K?wt.createElement("div",{"data-rmiz-modal-img":!0,ref:B,style:this.styleModalImg}):null,xe=wt.createElement("button",{"aria-label":u,"data-rmiz-btn-unzoom":"",onClick:r,type:"button"},wt.createElement(h,null));de=b?wt.createElement(b,{buttonUnzoom:xe,modalState:S,img:ae,isZoomImgLoaded:C,onUnzoom:o}):wt.createElement(wt.Fragment,null,ae,xe)}return wt.createElement(g,{"aria-owns":M,"data-rmiz":"",ref:N},wt.createElement(g,{"data-rmiz-content":J,ref:v,style:fe},A),T&&wt.createElement(g,{"data-rmiz-ghost":"",style:P},wt.createElement("button",{"aria-label":z,"data-rmiz-btn-zoom":"",onClick:l,type:"button"},wt.createElement(p,null))),T&&$Q.createPortal(wt.createElement("dialog",{"aria-labelledby":H,"aria-modal":"true",className:f,"data-rmiz-modal":"",id:M,onClick:s,onClose:i,onCancel:n,ref:w,role:"dialog"},wt.createElement("div",{"data-rmiz-modal-overlay":ee}),wt.createElement("div",{"data-rmiz-modal-content":"",ref:_},de)),this.getDialogContainer()))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){var r,n,s,i,o,l,c,u,d,A,f,h;this.state.modalState!=="UNLOADED"&&this.bodyScrollEnable(),(n=(r=this.contentChangeObserver)==null?void 0:r.disconnect)==null||n.call(r),(i=(s=this.contentNotFoundChangeObserver)==null?void 0:s.disconnect)==null||i.call(s),(l=(o=this.imgElResizeObserver)==null?void 0:o.disconnect)==null||l.call(o),(u=(c=this.imgEl)==null?void 0:c.removeEventListener)==null||u.call(c,"load",this.handleImgLoad),(A=(d=this.imgEl)==null?void 0:d.removeEventListener)==null||A.call(d,"click",this.handleZoom),(h=(f=this.refModalImg.current)==null?void 0:f.removeEventListener)==null||h.call(f,"transitionend",this.handleImgTransitionEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(r,n){this.handleModalStateChange(n.modalState),this.UNSAFE_handleSvg(),this.handleIfZoomChanged(r.isZoomed)}}K8.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",canSwipeToUnzoom:!0,IconUnzoom:EX,IconZoom:kX,isDisabled:!1,swipeToUnzoomThreshold:10,wrapElement:"div",zoomMargin:0};function $X(t){const[r,n]=wt.useState(!1);return wt.createElement(QX,{...t,isZoomed:r,onZoomChange:n})}const G8=({images:t,title:r})=>{const[n,s]=te.useState(0),[i,o]=te.useState(!1);if(!t||t.length===0)return a.jsx("div",{className:"w-full h-96 bg-gray-200 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-gray-500",children:"No images available"})});const l=c=>c!=null&&c.startsWith("http")?c:`http://localhost:10000${c}`;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:l(t[n]),alt:r,loading:"lazy",className:"hidden md:block w-full h-96 object-cover rounded-lg cursor-zoom-in transition-transform duration-300 group-hover:scale-105",onClick:()=>o(!0)}),a.jsx("div",{className:"md:hidden",children:a.jsx(V5,{modules:[n_,s_,_X],spaceBetween:10,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1},onSlideChange:c=>s(c.activeIndex),className:"w-full h-96 rounded-lg",children:t.map((c,u)=>a.jsx(z5,{children:a.jsx("img",{src:l(c),alt:`${r} ${u+1}`,loading:"lazy",className:"w-full h-full object-cover rounded-lg"})},u))})})]}),t.length>1&&a.jsx("div",{className:"hidden md:flex space-x-2 overflow-x-auto",children:t.map((c,u)=>a.jsx("button",{onClick:()=>s(u),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${n===u?"border-black ring-2 ring-black ring-opacity-50":"border-gray-200 hover:border-gray-400"}`,children:a.jsx("img",{src:l(c),alt:`${r} ${u+1}`,loading:"lazy",className:"w-full h-full object-cover"})},u))}),i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center",onClick:()=>o(!1),children:a.jsxs("div",{className:"relative w-full max-w-4xl h-[80vh]",onClick:c=>c.stopPropagation(),children:[a.jsx(V5,{modules:[n_,s_],spaceBetween:30,slidesPerView:1,navigation:!0,pagination:{clickable:!0},initialSlide:n,onSlideChange:c=>s(c.activeIndex),className:"w-full h-full",children:t.map((c,u)=>a.jsx(z5,{className:"flex items-center justify-center",children:a.jsx($X,{children:a.jsx("img",{src:l(c),alt:`${r} ${u+1}`,className:"max-h-[80vh] object-contain rounded-lg"})})},u))}),a.jsx("button",{className:"absolute top-5 right-5 text-white text-3xl font-bold z-50 cursor-pointer",onClick:()=>o(!1),children:"✕"})]})})]})},HX="modulepreload",VX=function(t){return"/"+t},l_={},G0=function(r,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=VX(u),u in l_)return;l_[u]=!0;const d=u.endsWith(".css"),A=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${A}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":HX,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return r().catch(o)})};function zX(t,r){return r.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(s){if(s!=="default"&&!(s in t)){var i=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:function(){return n[s]}})}})}),Object.freeze(t)}function W8(t,r){return new Promise(function(n,s){let i;return KX(t).then(function(o){try{return i=o,n(new Blob([r.slice(0,2),i,r.slice(2)],{type:"image/jpeg"}))}catch(l){return s(l)}},s)})}const KX=t=>new Promise((r,n)=>{const s=new FileReader;s.addEventListener("load",({target:{result:i}})=>{const o=new DataView(i);let l=0;if(o.getUint16(l)!==65496)return n("not a valid JPEG");for(l+=2;;){const c=o.getUint16(l);if(c===65498)break;const u=o.getUint16(l+2);if(c===65505&&o.getUint32(l+4)===1165519206){const d=l+10;let A;switch(o.getUint16(d)){case 18761:A=!0;break;case 19789:A=!1;break;default:return n("TIFF header contains invalid endian")}if(o.getUint16(d+2,A)!==42)return n("TIFF header contains invalid version");const f=o.getUint32(d+4,A),h=d+f+2+12*o.getUint16(d+f,A);for(let p=d+f+2;p<h;p+=12)if(o.getUint16(p,A)==274){if(o.getUint16(p+2,A)!==3)return n("Orientation data type is invalid");if(o.getUint32(p+4,A)!==1)return n("Orientation data count is invalid");o.setUint16(p+8,1,A);break}return r(i.slice(l,l+2+u))}l+=2+u}return r(new Blob)}),s.readAsArrayBuffer(t)});var rv={},GX={get exports(){return rv},set exports(t){rv=t}};(function(t){var r,n,s={};GX.exports=s,s.parse=function(i,o){for(var l=s.bin.readUshort,c=s.bin.readUint,u=0,d={},A=new Uint8Array(i),f=A.length-4;c(A,f)!=101010256;)f--;u=f,u+=4;var h=l(A,u+=4);l(A,u+=2);var p=c(A,u+=2),m=c(A,u+=4);u+=4,u=m;for(var g=0;g<h;g++){c(A,u),u+=4,u+=4,u+=4,c(A,u+=4),p=c(A,u+=4);var b=c(A,u+=4),y=l(A,u+=4),x=l(A,u+2),v=l(A,u+4);u+=6;var w=c(A,u+=8);u+=4,u+=y+x+v,s._readLocal(A,w,d,p,b,o)}return d},s._readLocal=function(i,o,l,c,u,d){var A=s.bin.readUshort,f=s.bin.readUint;f(i,o),A(i,o+=4),A(i,o+=2);var h=A(i,o+=2);f(i,o+=2),f(i,o+=4),o+=4;var p=A(i,o+=8),m=A(i,o+=2);o+=2;var g=s.bin.readUTF8(i,o,p);if(o+=p,o+=m,d)l[g]={size:u,csize:c};else{var b=new Uint8Array(i.buffer,o);if(h==0)l[g]=new Uint8Array(b.buffer.slice(o,o+c));else{if(h!=8)throw"unknown compression method: "+h;var y=new Uint8Array(u);s.inflateRaw(b,y),l[g]=y}}},s.inflateRaw=function(i,o){return s.F.inflate(i,o)},s.inflate=function(i,o){return i[0],i[1],s.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},s.deflate=function(i,o){o==null&&(o={level:6});var l=0,c=new Uint8Array(50+Math.floor(1.1*i.length));c[l]=120,c[l+1]=156,l+=2,l=s.F.deflateRaw(i,c,l,o.level);var u=s.adler(i,0,i.length);return c[l+0]=u>>>24&255,c[l+1]=u>>>16&255,c[l+2]=u>>>8&255,c[l+3]=u>>>0&255,new Uint8Array(c.buffer,0,l+4)},s.deflateRaw=function(i,o){o==null&&(o={level:6});var l=new Uint8Array(50+Math.floor(1.1*i.length)),c=s.F.deflateRaw(i,l,c,o.level);return new Uint8Array(l.buffer,0,c)},s.encode=function(i,o){o==null&&(o=!1);var l=0,c=s.bin.writeUint,u=s.bin.writeUshort,d={};for(var A in i){var f=!s._noNeed(A)&&!o,h=i[A],p=s.crc.crc(h,0,h.length);d[A]={cpr:f,usize:h.length,crc:p,file:f?s.deflateRaw(h):h}}for(var A in d)l+=d[A].file.length+30+46+2*s.bin.sizeUTF8(A);l+=22;var m=new Uint8Array(l),g=0,b=[];for(var A in d){var y=d[A];b.push(g),g=s._writeHeader(m,g,A,y,0)}var x=0,v=g;for(var A in d)y=d[A],b.push(g),g=s._writeHeader(m,g,A,y,1,b[x++]);var w=g-v;return c(m,g,101010256),g+=4,u(m,g+=4,x),u(m,g+=2,x),c(m,g+=2,w),c(m,g+=4,v),g+=4,g+=2,m.buffer},s._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},s._writeHeader=function(i,o,l,c,u,d){var A=s.bin.writeUint,f=s.bin.writeUshort,h=c.file;return A(i,o,u==0?67324752:33639248),o+=4,u==1&&(o+=2),f(i,o,20),f(i,o+=2,0),f(i,o+=2,c.cpr?8:0),A(i,o+=2,0),A(i,o+=4,c.crc),A(i,o+=4,h.length),A(i,o+=4,c.usize),f(i,o+=4,s.bin.sizeUTF8(l)),f(i,o+=2,0),o+=2,u==1&&(o+=2,o+=2,A(i,o+=6,d),o+=4),o+=s.bin.writeUTF8(i,o,l),u==0&&(i.set(h,o),o+=h.length),o},s.crc={table:function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var l=o,c=0;c<8;c++)1&l?l=3988292384^l>>>1:l>>>=1;i[o]=l}return i}(),update:function(i,o,l,c){for(var u=0;u<c;u++)i=s.crc.table[255&(i^o[l+u])]^i>>>8;return i},crc:function(i,o,l){return 4294967295^s.crc.update(4294967295,i,o,l)}},s.adler=function(i,o,l){for(var c=1,u=0,d=o,A=o+l;d<A;){for(var f=Math.min(d+5552,A);d<f;)u+=c+=i[d++];c%=65521,u%=65521}return u<<16|c},s.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,l){i[o]=255&l,i[o+1]=l>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,l){i[o]=255&l,i[o+1]=l>>8&255,i[o+2]=l>>16&255,i[o+3]=l>>24&255},readASCII:function(i,o,l){for(var c="",u=0;u<l;u++)c+=String.fromCharCode(i[o+u]);return c},writeASCII:function(i,o,l){for(var c=0;c<l.length;c++)i[o+c]=l.charCodeAt(c)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,l){for(var c,u="",d=0;d<l;d++)u+="%"+s.bin.pad(i[o+d].toString(16));try{c=decodeURIComponent(u)}catch{return s.bin.readASCII(i,o,l)}return c},writeUTF8:function(i,o,l){for(var c=l.length,u=0,d=0;d<c;d++){var A=l.charCodeAt(d);if(!(4294967168&A))i[o+u]=A,u++;else if(!(4294965248&A))i[o+u]=192|A>>6,i[o+u+1]=128|A>>0&63,u+=2;else if(!(4294901760&A))i[o+u]=224|A>>12,i[o+u+1]=128|A>>6&63,i[o+u+2]=128|A>>0&63,u+=3;else{if(4292870144&A)throw"e";i[o+u]=240|A>>18,i[o+u+1]=128|A>>12&63,i[o+u+2]=128|A>>6&63,i[o+u+3]=128|A>>0&63,u+=4}}return u},sizeUTF8:function(i){for(var o=i.length,l=0,c=0;c<o;c++){var u=i.charCodeAt(c);if(!(4294967168&u))l++;else if(!(4294965248&u))l+=2;else if(!(4294901760&u))l+=3;else{if(4292870144&u)throw"e";l+=4}}return l}},s.F={},s.F.deflateRaw=function(i,o,l,c){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],d=s.F.U,A=s.F._goodIndex;s.F._hash;var f=s.F._putsE,h=0,p=l<<3,m=0,g=i.length;if(c==0){for(;h<g;)f(o,p,h+(S=Math.min(65535,g-h))==g?1:0),p=s.F._copyExact(i,h,S,o,p+8),h+=S;return p>>>3}var b=d.lits,y=d.strt,x=d.prev,v=0,w=0,_=0,B=0,N=0,j=0;for(g>2&&(y[j=s.F._hash(i,0)]=0),h=0;h<g;h++){if(N=j,h+1<g-2){j=s.F._hash(i,h+1);var C=h+1&32767;x[C]=y[j],y[j]=C}if(m<=h){(v>14e3||w>26697)&&g-h>100&&(m<h&&(b[v]=h-m,v+=2,m=h),p=s.F._writeBlock(h==g-1||m==g?1:0,b,v,B,i,_,h-_,o,p),v=w=B=0,_=h);var E=0;h<g-2&&(E=s.F._bestMatch(i,h,x,N,Math.min(u[2],g-h),u[3]));var S=E>>>16,k=65535&E;if(E!=0){k=65535&E;var P=A(S=E>>>16,d.of0);d.lhst[257+P]++;var M=A(k,d.df0);d.dhst[M]++,B+=d.exb[P]+d.dxb[M],b[v]=S<<23|h-m,b[v+1]=k<<16|P<<8|M,v+=2,m=h+S}else d.lhst[i[h]]++;w++}}for(_==h&&i.length!=0||(m<h&&(b[v]=h-m,v+=2,m=h),p=s.F._writeBlock(1,b,v,B,i,_,h-_,o,p),v=0,w=0,v=w=B=0,_=h);7&p;)p++;return p>>>3},s.F._bestMatch=function(i,o,l,c,u,d){var A=32767&o,f=l[A],h=A-f+32768&32767;if(f==A||c!=s.F._hash(i,o-h))return 0;for(var p=0,m=0,g=Math.min(32767,o);h<=g&&--d!=0&&f!=A;){if(p==0||i[o+p]==i[o+p-h]){var b=s.F._howLong(i,o,h);if(b>p){if(m=h,(p=b)>=u)break;h+2<b&&(b=h+2);for(var y=0,x=0;x<b-2;x++){var v=o-h+x+32768&32767,w=v-l[v]+32768&32767;w>y&&(y=w,f=v)}}}h+=(A=f)-(f=l[A])+32768&32767}return p<<16|m},s.F._howLong=function(i,o,l){if(i[o]!=i[o-l]||i[o+1]!=i[o+1-l]||i[o+2]!=i[o+2-l])return 0;var c=o,u=Math.min(i.length,o+258);for(o+=3;o<u&&i[o]==i[o-l];)o++;return o-c},s.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(i,o,l,c,u,d,A,f,h){var p,m,g,b,y,x,v,w,_,B=s.F.U,N=s.F._putsF,j=s.F._putsE;B.lhst[256]++,m=(p=s.F.getTrees())[0],g=p[1],b=p[2],y=p[3],x=p[4],v=p[5],w=p[6],_=p[7];var C=32+(h+3&7?8-(h+3&7):0)+(A<<3),E=c+s.F.contSize(B.fltree,B.lhst)+s.F.contSize(B.fdtree,B.dhst),S=c+s.F.contSize(B.ltree,B.lhst)+s.F.contSize(B.dtree,B.dhst);S+=14+3*v+s.F.contSize(B.itree,B.ihst)+(2*B.ihst[16]+3*B.ihst[17]+7*B.ihst[18]);for(var k=0;k<286;k++)B.lhst[k]=0;for(k=0;k<30;k++)B.dhst[k]=0;for(k=0;k<19;k++)B.ihst[k]=0;var P=C<E&&C<S?0:E<S?1:2;if(N(f,h,i),N(f,h+1,P),h+=3,P==0){for(;7&h;)h++;h=s.F._copyExact(u,d,A,f,h)}else{var M,H;if(P==1&&(M=B.fltree,H=B.fdtree),P==2){s.F.makeCodes(B.ltree,m),s.F.revCodes(B.ltree,m),s.F.makeCodes(B.dtree,g),s.F.revCodes(B.dtree,g),s.F.makeCodes(B.itree,b),s.F.revCodes(B.itree,b),M=B.ltree,H=B.dtree,j(f,h,y-257),j(f,h+=5,x-1),j(f,h+=5,v-4),h+=4;for(var F=0;F<v;F++)j(f,h+3*F,B.itree[1+(B.ordr[F]<<1)]);h+=3*v,h=s.F._codeTiny(w,B.itree,f,h),h=s.F._codeTiny(_,B.itree,f,h)}for(var Q=d,K=0;K<l;K+=2){for(var Y=o[K],V=Y>>>23,I=Q+(8388607&Y);Q<I;)h=s.F._writeLit(u[Q++],M,f,h);if(V!=0){var O=o[K+1],R=O>>16,U=O>>8&255,T=255&O;j(f,h=s.F._writeLit(257+U,M,f,h),V-B.of0[U]),h+=B.exb[U],N(f,h=s.F._writeLit(T,H,f,h),R-B.df0[T]),h+=B.dxb[T],Q+=V}}h=s.F._writeLit(256,M,f,h)}return h},s.F._copyExact=function(i,o,l,c,u){var d=u>>>3;return c[d]=l,c[d+1]=l>>>8,c[d+2]=255-c[d],c[d+3]=255-c[d+1],d+=4,c.set(new Uint8Array(i.buffer,o,l),d),u+(l+4<<3)},s.F.getTrees=function(){for(var i=s.F.U,o=s.F._hufTree(i.lhst,i.ltree,15),l=s.F._hufTree(i.dhst,i.dtree,15),c=[],u=s.F._lenCodes(i.ltree,c),d=[],A=s.F._lenCodes(i.dtree,d),f=0;f<c.length;f+=2)i.ihst[c[f]]++;for(f=0;f<d.length;f+=2)i.ihst[d[f]]++;for(var h=s.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[o,l,h,u,A,p,c,d]},s.F.getSecond=function(i){for(var o=[],l=0;l<i.length;l+=2)o.push(i[l+1]);return o},s.F.nonZero=function(i){for(var o="",l=0;l<i.length;l+=2)i[l+1]!=0&&(o+=(l>>1)+",");return o},s.F.contSize=function(i,o){for(var l=0,c=0;c<o.length;c++)l+=o[c]*i[1+(c<<1)];return l},s.F._codeTiny=function(i,o,l,c){for(var u=0;u<i.length;u+=2){var d=i[u],A=i[u+1];c=s.F._writeLit(d,o,l,c);var f=d==16?2:d==17?3:7;d>15&&(s.F._putsE(l,c,A,f),c+=f)}return c},s.F._lenCodes=function(i,o){for(var l=i.length;l!=2&&i[l-1]==0;)l-=2;for(var c=0;c<l;c+=2){var u=i[c+1],d=c+3<l?i[c+3]:-1,A=c+5<l?i[c+5]:-1,f=c==0?-1:i[c-1];if(u==0&&d==u&&A==u){for(var h=c+5;h+2<l&&i[h+2]==u;)h+=2;(p=Math.min(h+1-c>>>1,138))<11?o.push(17,p-3):o.push(18,p-11),c+=2*p-2}else if(u==f&&d==u&&A==u){for(h=c+5;h+2<l&&i[h+2]==u;)h+=2;var p=Math.min(h+1-c>>>1,6);o.push(16,p-3),c+=2*p-2}else o.push(u,0)}return l>>>1},s.F._hufTree=function(i,o,l){var c=[],u=i.length,d=o.length,A=0;for(A=0;A<d;A+=2)o[A]=0,o[A+1]=0;for(A=0;A<u;A++)i[A]!=0&&c.push({lit:A,f:i[A]});var f=c.length,h=c.slice(0);if(f==0)return 0;if(f==1){var p=c[0].lit;return h=p==0?1:0,o[1+(p<<1)]=1,o[1+(h<<1)]=1,1}c.sort(function(w,_){return w.f-_.f});var m=c[0],g=c[1],b=0,y=1,x=2;for(c[0]={lit:-1,f:m.f+g.f,l:m,r:g,d:0};y!=f-1;)m=b!=y&&(x==f||c[b].f<c[x].f)?c[b++]:c[x++],g=b!=y&&(x==f||c[b].f<c[x].f)?c[b++]:c[x++],c[y++]={lit:-1,f:m.f+g.f,l:m,r:g};var v=s.F.setDepth(c[y-1],0);for(v>l&&(s.F.restrictDepth(h,l,v),v=l),A=0;A<f;A++)o[1+(h[A].lit<<1)]=h[A].d;return v},s.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(s.F.setDepth(i.l,o+1),s.F.setDepth(i.r,o+1))},s.F.restrictDepth=function(i,o,l){var c=0,u=1<<l-o,d=0;for(i.sort(function(f,h){return h.d==f.d?f.f-h.f:h.d-f.d}),c=0;c<i.length&&i[c].d>o;c++){var A=i[c].d;i[c].d=o,d+=u-(1<<l-A)}for(d>>>=l-o;d>0;)(A=i[c].d)<o?(i[c].d++,d-=1<<o-A-1):c++;for(;c>=0;c--)i[c].d==o&&d<0&&(i[c].d--,d++);d!=0&&console.log("debt left")},s.F._goodIndex=function(i,o){var l=0;return o[16|l]<=i&&(l|=16),o[8|l]<=i&&(l|=8),o[4|l]<=i&&(l|=4),o[2|l]<=i&&(l|=2),o[1|l]<=i&&(l|=1),l},s.F._writeLit=function(i,o,l,c){return s.F._putsF(l,c,o[i<<1]),c+o[1+(i<<1)]},s.F.inflate=function(i,o){var l=Uint8Array;if(i[0]==3&&i[1]==0)return o||new l(0);var c=s.F,u=c._bitsF,d=c._bitsE,A=c._decodeTiny,f=c.makeCodes,h=c.codes2map,p=c._get17,m=c.U,g=o==null;g&&(o=new l(i.length>>>2<<3));for(var b,y,x=0,v=0,w=0,_=0,B=0,N=0,j=0,C=0,E=0;x==0;)if(x=u(i,E,1),v=u(i,E+1,2),E+=3,v!=0){if(g&&(o=s.F._check(o,C+(1<<17))),v==1&&(b=m.flmap,y=m.fdmap,N=511,j=31),v==2){w=d(i,E,5)+257,_=d(i,E+5,5)+1,B=d(i,E+10,4)+4,E+=14;for(var S=0;S<38;S+=2)m.itree[S]=0,m.itree[S+1]=0;var k=1;for(S=0;S<B;S++){var P=d(i,E+3*S,3);m.itree[1+(m.ordr[S]<<1)]=P,P>k&&(k=P)}E+=3*B,f(m.itree,k),h(m.itree,k,m.imap),b=m.lmap,y=m.dmap,E=A(m.imap,(1<<k)-1,w+_,i,E,m.ttree);var M=c._copyOut(m.ttree,0,w,m.ltree);N=(1<<M)-1;var H=c._copyOut(m.ttree,w,_,m.dtree);j=(1<<H)-1,f(m.ltree,M),h(m.ltree,M,b),f(m.dtree,H),h(m.dtree,H,y)}for(;;){var F=b[p(i,E)&N];E+=15&F;var Q=F>>>4;if(!(Q>>>8))o[C++]=Q;else{if(Q==256)break;var K=C+Q-254;if(Q>264){var Y=m.ldef[Q-257];K=C+(Y>>>3)+d(i,E,7&Y),E+=7&Y}var V=y[p(i,E)&j];E+=15&V;var I=V>>>4,O=m.ddef[I],R=(O>>>4)+u(i,E,15&O);for(E+=15&O,g&&(o=s.F._check(o,C+(1<<17)));C<K;)o[C]=o[C++-R],o[C]=o[C++-R],o[C]=o[C++-R],o[C]=o[C++-R];C=K}}}else{7&E&&(E+=8-(7&E));var U=4+(E>>>3),T=i[U-4]|i[U-3]<<8;g&&(o=s.F._check(o,C+T)),o.set(new l(i.buffer,i.byteOffset+U,T),C),E=U+T<<3,C+=T}return o.length==C?o:o.slice(0,C)},s.F._check=function(i,o){var l=i.length;if(o<=l)return i;var c=new Uint8Array(Math.max(l<<1,o));return c.set(i,0),c},s.F._decodeTiny=function(i,o,l,c,u,d){for(var A=s.F._bitsE,f=s.F._get17,h=0;h<l;){var p=i[f(c,u)&o];u+=15&p;var m=p>>>4;if(m<=15)d[h]=m,h++;else{var g=0,b=0;m==16?(b=3+A(c,u,2),u+=2,g=d[h-1]):m==17?(b=3+A(c,u,3),u+=3):m==18&&(b=11+A(c,u,7),u+=7);for(var y=h+b;h<y;)d[h]=g,h++}}return u},s.F._copyOut=function(i,o,l,c){for(var u=0,d=0,A=c.length>>>1;d<l;){var f=i[d+o];c[d<<1]=0,c[1+(d<<1)]=f,f>u&&(u=f),d++}for(;d<A;)c[d<<1]=0,c[1+(d<<1)]=0,d++;return u},s.F.makeCodes=function(i,o){for(var l,c,u,d,A=s.F.U,f=i.length,h=A.bl_count,p=0;p<=o;p++)h[p]=0;for(p=1;p<f;p+=2)h[i[p]]++;var m=A.next_code;for(l=0,h[0]=0,c=1;c<=o;c++)l=l+h[c-1]<<1,m[c]=l;for(u=0;u<f;u+=2)(d=i[u+1])!=0&&(i[u]=m[d],m[d]++)},s.F.codes2map=function(i,o,l){for(var c=i.length,u=s.F.U.rev15,d=0;d<c;d+=2)if(i[d+1]!=0)for(var A=d>>1,f=i[d+1],h=A<<4|f,p=o-f,m=i[d]<<p,g=m+(1<<p);m!=g;)l[u[m]>>>15-o]=h,m++},s.F.revCodes=function(i,o){for(var l=s.F.U.rev15,c=15-o,u=0;u<i.length;u+=2){var d=i[u]<<o-i[u+1];i[u]=l[d]>>>c}},s.F._putsE=function(i,o,l){l<<=7&o;var c=o>>>3;i[c]|=l,i[c+1]|=l>>>8},s.F._putsF=function(i,o,l){l<<=7&o;var c=o>>>3;i[c]|=l,i[c+1]|=l>>>8,i[c+2]|=l>>>16},s.F._bitsE=function(i,o,l){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<l)-1},s.F._bitsF=function(i,o,l){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<l)-1},s.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},s.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},s.F.U=(r=Uint16Array,n=Uint32Array,{next_code:new r(16),bl_count:new r(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new r(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new r(512),fltree:[],fdmap:new r(32),fdtree:[],lmap:new r(32768),ltree:[],ttree:[],dmap:new r(32768),dtree:[],imap:new r(512),itree:[],rev15:new r(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new r(65536),prev:new r(32768)}),function(){for(var i=s.F.U,o=0;o<32768;o++){var l=o;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,i.rev15[o]=(l>>>16|l<<16)>>>17}function c(u,d,A){for(;d--!=0;)u.push(0,A)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];c(i.fltree,144,8),c(i.fltree,112,9),c(i.fltree,24,7),c(i.fltree,8,8),s.F.makeCodes(i.fltree,9),s.F.codes2map(i.fltree,9,i.flmap),s.F.revCodes(i.fltree,9),c(i.fdtree,32,5),s.F.makeCodes(i.fdtree,5),s.F.codes2map(i.fdtree,5,i.fdmap),s.F.revCodes(i.fdtree,5),c(i.itree,19,0),c(i.ltree,286,0),c(i.dtree,30,0),c(i.ttree,320,0)}()})();var WX=zX({__proto__:null,default:rv},[rv]);const Ho=function(){var t={nextZero(A,f){for(;A[f]!=0;)f++;return f},readUshort:(A,f)=>A[f]<<8|A[f+1],writeUshort(A,f,h){A[f]=h>>8&255,A[f+1]=255&h},readUint:(A,f)=>16777216*A[f]+(A[f+1]<<16|A[f+2]<<8|A[f+3]),writeUint(A,f,h){A[f]=h>>24&255,A[f+1]=h>>16&255,A[f+2]=h>>8&255,A[f+3]=255&h},readASCII(A,f,h){let p="";for(let m=0;m<h;m++)p+=String.fromCharCode(A[f+m]);return p},writeASCII(A,f,h){for(let p=0;p<h.length;p++)A[f+p]=h.charCodeAt(p)},readBytes(A,f,h){const p=[];for(let m=0;m<h;m++)p.push(A[f+m]);return p},pad:A=>A.length<2?`0${A}`:A,readUTF8(A,f,h){let p,m="";for(let g=0;g<h;g++)m+=`%${t.pad(A[f+g].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(A,f,h)}return p}};function r(A,f,h,p){const m=f*h,g=o(p),b=Math.ceil(f*g/8),y=new Uint8Array(4*m),x=new Uint32Array(y.buffer),{ctype:v}=p,{depth:w}=p,_=t.readUshort;if(v==6){const Y=m<<2;if(w==8)for(var B=0;B<Y;B+=4)y[B]=A[B],y[B+1]=A[B+1],y[B+2]=A[B+2],y[B+3]=A[B+3];if(w==16)for(B=0;B<Y;B++)y[B]=A[B<<1]}else if(v==2){const Y=p.tabs.tRNS;if(Y==null){if(w==8)for(B=0;B<m;B++){var N=3*B;x[B]=255<<24|A[N+2]<<16|A[N+1]<<8|A[N]}if(w==16)for(B=0;B<m;B++)N=6*B,x[B]=255<<24|A[N+4]<<16|A[N+2]<<8|A[N]}else{var j=Y[0];const V=Y[1],I=Y[2];if(w==8)for(B=0;B<m;B++){var C=B<<2;N=3*B,x[B]=255<<24|A[N+2]<<16|A[N+1]<<8|A[N],A[N]==j&&A[N+1]==V&&A[N+2]==I&&(y[C+3]=0)}if(w==16)for(B=0;B<m;B++)C=B<<2,N=6*B,x[B]=255<<24|A[N+4]<<16|A[N+2]<<8|A[N],_(A,N)==j&&_(A,N+2)==V&&_(A,N+4)==I&&(y[C+3]=0)}}else if(v==3){const Y=p.tabs.PLTE,V=p.tabs.tRNS,I=V?V.length:0;if(w==1)for(var E=0;E<h;E++){var S=E*b,k=E*f;for(B=0;B<f;B++){C=k+B<<2;var P=3*(M=A[S+(B>>3)]>>7-((7&B)<<0)&1);y[C]=Y[P],y[C+1]=Y[P+1],y[C+2]=Y[P+2],y[C+3]=M<I?V[M]:255}}if(w==2)for(E=0;E<h;E++)for(S=E*b,k=E*f,B=0;B<f;B++)C=k+B<<2,P=3*(M=A[S+(B>>2)]>>6-((3&B)<<1)&3),y[C]=Y[P],y[C+1]=Y[P+1],y[C+2]=Y[P+2],y[C+3]=M<I?V[M]:255;if(w==4)for(E=0;E<h;E++)for(S=E*b,k=E*f,B=0;B<f;B++)C=k+B<<2,P=3*(M=A[S+(B>>1)]>>4-((1&B)<<2)&15),y[C]=Y[P],y[C+1]=Y[P+1],y[C+2]=Y[P+2],y[C+3]=M<I?V[M]:255;if(w==8)for(B=0;B<m;B++){var M;C=B<<2,P=3*(M=A[B]),y[C]=Y[P],y[C+1]=Y[P+1],y[C+2]=Y[P+2],y[C+3]=M<I?V[M]:255}}else if(v==4){if(w==8)for(B=0;B<m;B++){C=B<<2;var H=A[F=B<<1];y[C]=H,y[C+1]=H,y[C+2]=H,y[C+3]=A[F+1]}if(w==16)for(B=0;B<m;B++){var F;C=B<<2,H=A[F=B<<2],y[C]=H,y[C+1]=H,y[C+2]=H,y[C+3]=A[F+2]}}else if(v==0)for(j=p.tabs.tRNS?p.tabs.tRNS:-1,E=0;E<h;E++){const Y=E*b,V=E*f;if(w==1)for(var Q=0;Q<f;Q++){var K=(H=255*(A[Y+(Q>>>3)]>>>7-(7&Q)&1))==255*j?0:255;x[V+Q]=K<<24|H<<16|H<<8|H}else if(w==2)for(Q=0;Q<f;Q++)K=(H=85*(A[Y+(Q>>>2)]>>>6-((3&Q)<<1)&3))==85*j?0:255,x[V+Q]=K<<24|H<<16|H<<8|H;else if(w==4)for(Q=0;Q<f;Q++)K=(H=17*(A[Y+(Q>>>1)]>>>4-((1&Q)<<2)&15))==17*j?0:255,x[V+Q]=K<<24|H<<16|H<<8|H;else if(w==8)for(Q=0;Q<f;Q++)K=(H=A[Y+Q])==j?0:255,x[V+Q]=K<<24|H<<16|H<<8|H;else if(w==16)for(Q=0;Q<f;Q++)H=A[Y+(Q<<1)],K=_(A,Y+(Q<<1))==j?0:255,x[V+Q]=K<<24|H<<16|H<<8|H}return y}function n(A,f,h,p){const m=o(A),g=Math.ceil(h*m/8),b=new Uint8Array((g+1+A.interlace)*p);return f=A.tabs.CgBI?i(f,b):s(f,b),A.interlace==0?f=l(f,A,0,h,p):A.interlace==1&&(f=function(x,v){const w=v.width,_=v.height,B=o(v),N=B>>3,j=Math.ceil(w*B/8),C=new Uint8Array(_*j);let E=0;const S=[0,0,4,0,2,0,1],k=[0,4,0,2,0,1,0],P=[8,8,8,4,4,2,2],M=[8,8,4,4,2,2,1];let H=0;for(;H<7;){const Q=P[H],K=M[H];let Y=0,V=0,I=S[H];for(;I<_;)I+=Q,V++;let O=k[H];for(;O<w;)O+=K,Y++;const R=Math.ceil(Y*B/8);l(x,v,E,Y,V);let U=0,T=S[H];for(;T<_;){let z=k[H],G=E+U*R<<3;for(;z<w;){var F;if(B==1&&(F=(F=x[G>>3])>>7-(7&G)&1,C[T*j+(z>>3)]|=F<<7-((7&z)<<0)),B==2&&(F=(F=x[G>>3])>>6-(7&G)&3,C[T*j+(z>>2)]|=F<<6-((3&z)<<1)),B==4&&(F=(F=x[G>>3])>>4-(7&G)&15,C[T*j+(z>>1)]|=F<<4-((1&z)<<2)),B>=8){const J=T*j+z*N;for(let ee=0;ee<N;ee++)C[J+ee]=x[(G>>3)+ee]}G+=B,z+=K}U++,T+=Q}Y*V!=0&&(E+=V*(1+R)),H+=1}return C}(f,A)),f}function s(A,f){return i(new Uint8Array(A.buffer,2,A.length-6),f)}var i=function(){const A={H:{}};return A.H.N=function(f,h){const p=Uint8Array;let m,g,b=0,y=0,x=0,v=0,w=0,_=0,B=0,N=0,j=0;if(f[0]==3&&f[1]==0)return h||new p(0);const C=A.H,E=C.b,S=C.e,k=C.R,P=C.n,M=C.A,H=C.Z,F=C.m,Q=h==null;for(Q&&(h=new p(f.length>>>2<<5));b==0;)if(b=E(f,j,1),y=E(f,j+1,2),j+=3,y!=0){if(Q&&(h=A.H.W(h,N+(1<<17))),y==1&&(m=F.J,g=F.h,_=511,B=31),y==2){x=S(f,j,5)+257,v=S(f,j+5,5)+1,w=S(f,j+10,4)+4,j+=14;let Y=1;for(var K=0;K<38;K+=2)F.Q[K]=0,F.Q[K+1]=0;for(K=0;K<w;K++){const O=S(f,j+3*K,3);F.Q[1+(F.X[K]<<1)]=O,O>Y&&(Y=O)}j+=3*w,P(F.Q,Y),M(F.Q,Y,F.u),m=F.w,g=F.d,j=k(F.u,(1<<Y)-1,x+v,f,j,F.v);const V=C.V(F.v,0,x,F.C);_=(1<<V)-1;const I=C.V(F.v,x,v,F.D);B=(1<<I)-1,P(F.C,V),M(F.C,V,m),P(F.D,I),M(F.D,I,g)}for(;;){const Y=m[H(f,j)&_];j+=15&Y;const V=Y>>>4;if(!(V>>>8))h[N++]=V;else{if(V==256)break;{let I=N+V-254;if(V>264){const z=F.q[V-257];I=N+(z>>>3)+S(f,j,7&z),j+=7&z}const O=g[H(f,j)&B];j+=15&O;const R=O>>>4,U=F.c[R],T=(U>>>4)+E(f,j,15&U);for(j+=15&U;N<I;)h[N]=h[N++-T],h[N]=h[N++-T],h[N]=h[N++-T],h[N]=h[N++-T];N=I}}}}else{7&j&&(j+=8-(7&j));const Y=4+(j>>>3),V=f[Y-4]|f[Y-3]<<8;Q&&(h=A.H.W(h,N+V)),h.set(new p(f.buffer,f.byteOffset+Y,V),N),j=Y+V<<3,N+=V}return h.length==N?h:h.slice(0,N)},A.H.W=function(f,h){const p=f.length;if(h<=p)return f;const m=new Uint8Array(p<<1);return m.set(f,0),m},A.H.R=function(f,h,p,m,g,b){const y=A.H.e,x=A.H.Z;let v=0;for(;v<p;){const w=f[x(m,g)&h];g+=15&w;const _=w>>>4;if(_<=15)b[v]=_,v++;else{let B=0,N=0;_==16?(N=3+y(m,g,2),g+=2,B=b[v-1]):_==17?(N=3+y(m,g,3),g+=3):_==18&&(N=11+y(m,g,7),g+=7);const j=v+N;for(;v<j;)b[v]=B,v++}}return g},A.H.V=function(f,h,p,m){let g=0,b=0;const y=m.length>>>1;for(;b<p;){const x=f[b+h];m[b<<1]=0,m[1+(b<<1)]=x,x>g&&(g=x),b++}for(;b<y;)m[b<<1]=0,m[1+(b<<1)]=0,b++;return g},A.H.n=function(f,h){const p=A.H.m,m=f.length;let g,b,y,x;const v=p.j;for(var w=0;w<=h;w++)v[w]=0;for(w=1;w<m;w+=2)v[f[w]]++;const _=p.K;for(g=0,v[0]=0,b=1;b<=h;b++)g=g+v[b-1]<<1,_[b]=g;for(y=0;y<m;y+=2)x=f[y+1],x!=0&&(f[y]=_[x],_[x]++)},A.H.A=function(f,h,p){const m=f.length,g=A.H.m.r;for(let b=0;b<m;b+=2)if(f[b+1]!=0){const y=b>>1,x=f[b+1],v=y<<4|x,w=h-x;let _=f[b]<<w;const B=_+(1<<w);for(;_!=B;)p[g[_]>>>15-h]=v,_++}},A.H.l=function(f,h){const p=A.H.m.r,m=15-h;for(let g=0;g<f.length;g+=2){const b=f[g]<<h-f[g+1];f[g]=p[b]>>>m}},A.H.M=function(f,h,p){p<<=7&h;const m=h>>>3;f[m]|=p,f[m+1]|=p>>>8},A.H.I=function(f,h,p){p<<=7&h;const m=h>>>3;f[m]|=p,f[m+1]|=p>>>8,f[m+2]|=p>>>16},A.H.e=function(f,h,p){return(f[h>>>3]|f[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},A.H.b=function(f,h,p){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},A.H.Z=function(f,h){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16)>>>(7&h)},A.H.i=function(f,h){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16|f[3+(h>>>3)]<<24)>>>(7&h)},A.H.m=function(){const f=Uint16Array,h=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=A.H.m;for(var h=0;h<32768;h++){let m=h;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,f.r[h]=(m>>>16|m<<16)>>>17}function p(m,g,b){for(;g--!=0;)m.push(0,b)}for(h=0;h<32;h++)f.q[h]=f.S[h]<<3|f.T[h],f.c[h]=f.p[h]<<4|f.z[h];p(f._,144,8),p(f._,112,9),p(f._,24,7),p(f._,8,8),A.H.n(f._,9),A.H.A(f._,9,f.J),A.H.l(f._,9),p(f.$,32,5),A.H.n(f.$,5),A.H.A(f.$,5,f.h),A.H.l(f.$,5),p(f.Q,19,0),p(f.C,286,0),p(f.D,30,0),p(f.v,320,0)}(),A.H.N}();function o(A){return[1,null,3,1,2,null,4][A.ctype]*A.depth}function l(A,f,h,p,m){let g=o(f);const b=Math.ceil(p*g/8);let y,x;g=Math.ceil(g/8);let v=A[h],w=0;if(v>1&&(A[h]=[0,0,1][v-2]),v==3)for(w=g;w<b;w++)A[w+1]=A[w+1]+(A[w+1-g]>>>1)&255;for(let _=0;_<m;_++)if(y=h+_*b,x=y+_+1,v=A[x-1],w=0,v==0)for(;w<b;w++)A[y+w]=A[x+w];else if(v==1){for(;w<g;w++)A[y+w]=A[x+w];for(;w<b;w++)A[y+w]=A[x+w]+A[y+w-g]}else if(v==2)for(;w<b;w++)A[y+w]=A[x+w]+A[y+w-b];else if(v==3){for(;w<g;w++)A[y+w]=A[x+w]+(A[y+w-b]>>>1);for(;w<b;w++)A[y+w]=A[x+w]+(A[y+w-b]+A[y+w-g]>>>1)}else{for(;w<g;w++)A[y+w]=A[x+w]+c(0,A[y+w-b],0);for(;w<b;w++)A[y+w]=A[x+w]+c(A[y+w-g],A[y+w-b],A[y+w-g-b])}return A}function c(A,f,h){const p=A+f-h,m=p-A,g=p-f,b=p-h;return m*m<=g*g&&m*m<=b*b?A:g*g<=b*b?f:h}function u(A,f,h){h.width=t.readUint(A,f),f+=4,h.height=t.readUint(A,f),f+=4,h.depth=A[f],f++,h.ctype=A[f],f++,h.compress=A[f],f++,h.filter=A[f],f++,h.interlace=A[f],f++}function d(A,f,h,p,m,g,b,y,x){const v=Math.min(f,m),w=Math.min(h,g);let _=0,B=0;for(let H=0;H<w;H++)for(let F=0;F<v;F++)if(b>=0&&y>=0?(_=H*f+F<<2,B=(y+H)*m+b+F<<2):(_=(-y+H)*f-b+F<<2,B=H*m+F<<2),x==0)p[B]=A[_],p[B+1]=A[_+1],p[B+2]=A[_+2],p[B+3]=A[_+3];else if(x==1){var N=A[_+3]*.00392156862745098,j=A[_]*N,C=A[_+1]*N,E=A[_+2]*N,S=p[B+3]*(1/255),k=p[B]*S,P=p[B+1]*S,M=p[B+2]*S;const Q=1-N,K=N+S*Q,Y=K==0?0:1/K;p[B+3]=255*K,p[B+0]=(j+k*Q)*Y,p[B+1]=(C+P*Q)*Y,p[B+2]=(E+M*Q)*Y}else if(x==2)N=A[_+3],j=A[_],C=A[_+1],E=A[_+2],S=p[B+3],k=p[B],P=p[B+1],M=p[B+2],N==S&&j==k&&C==P&&E==M?(p[B]=0,p[B+1]=0,p[B+2]=0,p[B+3]=0):(p[B]=j,p[B+1]=C,p[B+2]=E,p[B+3]=N);else if(x==3){if(N=A[_+3],j=A[_],C=A[_+1],E=A[_+2],S=p[B+3],k=p[B],P=p[B+1],M=p[B+2],N==S&&j==k&&C==P&&E==M)continue;if(N<220&&S>20)return!1}return!0}return{decode:function(f){const h=new Uint8Array(f);let p=8;const m=t,g=m.readUshort,b=m.readUint,y={tabs:{},frames:[]},x=new Uint8Array(h.length);let v,w=0,_=0;const B=[137,80,78,71,13,10,26,10];for(var N=0;N<8;N++)if(h[N]!=B[N])throw"The input is not a PNG file!";for(;p<h.length;){const H=m.readUint(h,p);p+=4;const F=m.readASCII(h,p,4);if(p+=4,F=="IHDR")u(h,p,y);else if(F=="iCCP"){for(var j=p;h[j]!=0;)j++;m.readASCII(h,p,j-p),h[j+1];const Q=h.slice(j+2,p+H);let K=null;try{K=s(Q)}catch{K=i(Q)}y.tabs[F]=K}else if(F=="CgBI")y.tabs[F]=h.slice(p,p+4);else if(F=="IDAT"){for(N=0;N<H;N++)x[w+N]=h[p+N];w+=H}else if(F=="acTL")y.tabs[F]={num_frames:b(h,p),num_plays:b(h,p+4)},v=new Uint8Array(h.length);else if(F=="fcTL"){_!=0&&((M=y.frames[y.frames.length-1]).data=n(y,v.slice(0,_),M.rect.width,M.rect.height),_=0);const Q={x:b(h,p+12),y:b(h,p+16),width:b(h,p+4),height:b(h,p+8)};let K=g(h,p+22);K=g(h,p+20)/(K==0?100:K);const Y={rect:Q,delay:Math.round(1e3*K),dispose:h[p+24],blend:h[p+25]};y.frames.push(Y)}else if(F=="fdAT"){for(N=0;N<H-4;N++)v[_+N]=h[p+N+4];_+=H-4}else if(F=="pHYs")y.tabs[F]=[m.readUint(h,p),m.readUint(h,p+4),h[p+8]];else if(F=="cHRM")for(y.tabs[F]=[],N=0;N<8;N++)y.tabs[F].push(m.readUint(h,p+4*N));else if(F=="tEXt"||F=="zTXt"){y.tabs[F]==null&&(y.tabs[F]={});var C=m.nextZero(h,p),E=m.readASCII(h,p,C-p),S=p+H-C-1;if(F=="tEXt")P=m.readASCII(h,C+1,S);else{var k=s(h.slice(C+2,C+2+S));P=m.readUTF8(k,0,k.length)}y.tabs[F][E]=P}else if(F=="iTXt"){y.tabs[F]==null&&(y.tabs[F]={}),C=0,j=p,C=m.nextZero(h,j),E=m.readASCII(h,j,C-j);const Q=h[j=C+1];var P;h[j+1],j+=2,C=m.nextZero(h,j),m.readASCII(h,j,C-j),j=C+1,C=m.nextZero(h,j),m.readUTF8(h,j,C-j),S=H-((j=C+1)-p),Q==0?P=m.readUTF8(h,j,S):(k=s(h.slice(j,j+S)),P=m.readUTF8(k,0,k.length)),y.tabs[F][E]=P}else if(F=="PLTE")y.tabs[F]=m.readBytes(h,p,H);else if(F=="hIST"){const Q=y.tabs.PLTE.length/3;for(y.tabs[F]=[],N=0;N<Q;N++)y.tabs[F].push(g(h,p+2*N))}else if(F=="tRNS")y.ctype==3?y.tabs[F]=m.readBytes(h,p,H):y.ctype==0?y.tabs[F]=g(h,p):y.ctype==2&&(y.tabs[F]=[g(h,p),g(h,p+2),g(h,p+4)]);else if(F=="gAMA")y.tabs[F]=m.readUint(h,p)/1e5;else if(F=="sRGB")y.tabs[F]=h[p];else if(F=="bKGD")y.ctype==0||y.ctype==4?y.tabs[F]=[g(h,p)]:y.ctype==2||y.ctype==6?y.tabs[F]=[g(h,p),g(h,p+2),g(h,p+4)]:y.ctype==3&&(y.tabs[F]=h[p]);else if(F=="IEND")break;p+=H,m.readUint(h,p),p+=4}var M;return _!=0&&((M=y.frames[y.frames.length-1]).data=n(y,v.slice(0,_),M.rect.width,M.rect.height)),y.data=n(y,x,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(f){const h=f.width,p=f.height;if(f.tabs.acTL==null)return[r(f.data,h,p,f).buffer];const m=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const g=h*p*4,b=new Uint8Array(g),y=new Uint8Array(g),x=new Uint8Array(g);for(let w=0;w<f.frames.length;w++){const _=f.frames[w],B=_.rect.x,N=_.rect.y,j=_.rect.width,C=_.rect.height,E=r(_.data,j,C,f);if(w!=0)for(var v=0;v<g;v++)x[v]=b[v];if(_.blend==0?d(E,j,C,b,h,p,B,N,0):_.blend==1&&d(E,j,C,b,h,p,B,N,1),m.push(b.buffer.slice(0)),_.dispose!=0){if(_.dispose==1)d(y,j,C,b,h,p,B,N,0);else if(_.dispose==2)for(v=0;v<g;v++)b[v]=x[v]}}return m},_paeth:c,_copyTile:d,_bin:t}}();(function(){const{_copyTile:t}=Ho,{_bin:r}=Ho,n=Ho._paeth;var s={table:function(){const j=new Uint32Array(256);for(let C=0;C<256;C++){let E=C;for(let S=0;S<8;S++)1&E?E=3988292384^E>>>1:E>>>=1;j[C]=E}return j}(),update(j,C,E,S){for(let k=0;k<S;k++)j=s.table[255&(j^C[E+k])]^j>>>8;return j},crc:(j,C,E)=>4294967295^s.update(4294967295,j,C,E)};function i(j,C,E,S){C[E]+=j[0]*S>>4,C[E+1]+=j[1]*S>>4,C[E+2]+=j[2]*S>>4,C[E+3]+=j[3]*S>>4}function o(j){return Math.max(0,Math.min(255,j))}function l(j,C){const E=j[0]-C[0],S=j[1]-C[1],k=j[2]-C[2],P=j[3]-C[3];return E*E+S*S+k*k+P*P}function c(j,C,E,S,k,P,M){M==null&&(M=1);const H=S.length,F=[];for(var Q=0;Q<H;Q++){const T=S[Q];F.push([T>>>0&255,T>>>8&255,T>>>16&255,T>>>24&255])}for(Q=0;Q<H;Q++){let T=4294967295;for(var K=0,Y=0;Y<H;Y++){var V=l(F[Q],F[Y]);Y!=Q&&V<T&&(T=V,K=Y)}}const I=new Uint32Array(k.buffer),O=new Int16Array(C*E*4),R=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(Q=0;Q<R.length;Q++)R[Q]=255*((R[Q]+.5)/16-.5);for(let T=0;T<E;T++)for(let z=0;z<C;z++){var U;Q=4*(T*C+z),M!=2?U=[o(j[Q]+O[Q]),o(j[Q+1]+O[Q+1]),o(j[Q+2]+O[Q+2]),o(j[Q+3]+O[Q+3])]:(V=R[4*(3&T)+(3&z)],U=[o(j[Q]+V),o(j[Q+1]+V),o(j[Q+2]+V),o(j[Q+3]+V)]),K=0;let G=16777215;for(Y=0;Y<H;Y++){const fe=l(U,F[Y]);fe<G&&(G=fe,K=Y)}const J=F[K],ee=[U[0]-J[0],U[1]-J[1],U[2]-J[2],U[3]-J[3]];M==1&&(z!=C-1&&i(ee,O,Q+4,7),T!=E-1&&(z!=0&&i(ee,O,Q+4*C-4,3),i(ee,O,Q+4*C,5),z!=C-1&&i(ee,O,Q+4*C+4,1))),P[Q>>2]=K,I[Q>>2]=S[K]}}function u(j,C,E,S,k){k==null&&(k={});const{crc:P}=s,M=r.writeUint,H=r.writeUshort,F=r.writeASCII;let Q=8;const K=j.frames.length>1;let Y,V=!1,I=33+(K?20:0);if(k.sRGB!=null&&(I+=13),k.pHYs!=null&&(I+=21),k.iCCP!=null&&(Y=pako.deflate(k.iCCP),I+=21+Y.length+4),j.ctype==3){for(var O=j.plte.length,R=0;R<O;R++)j.plte[R]>>>24!=255&&(V=!0);I+=8+3*O+4+(V?8+1*O+4:0)}for(var U=0;U<j.frames.length;U++)K&&(I+=38),I+=(J=j.frames[U]).cimg.length+12,U!=0&&(I+=4);I+=12;const T=new Uint8Array(I),z=[137,80,78,71,13,10,26,10];for(R=0;R<8;R++)T[R]=z[R];if(M(T,Q,13),Q+=4,F(T,Q,"IHDR"),Q+=4,M(T,Q,C),Q+=4,M(T,Q,E),Q+=4,T[Q]=j.depth,Q++,T[Q]=j.ctype,Q++,T[Q]=0,Q++,T[Q]=0,Q++,T[Q]=0,Q++,M(T,Q,P(T,Q-17,17)),Q+=4,k.sRGB!=null&&(M(T,Q,1),Q+=4,F(T,Q,"sRGB"),Q+=4,T[Q]=k.sRGB,Q++,M(T,Q,P(T,Q-5,5)),Q+=4),k.iCCP!=null){const ee=13+Y.length;M(T,Q,ee),Q+=4,F(T,Q,"iCCP"),Q+=4,F(T,Q,"ICC profile"),Q+=11,Q+=2,T.set(Y,Q),Q+=Y.length,M(T,Q,P(T,Q-(ee+4),ee+4)),Q+=4}if(k.pHYs!=null&&(M(T,Q,9),Q+=4,F(T,Q,"pHYs"),Q+=4,M(T,Q,k.pHYs[0]),Q+=4,M(T,Q,k.pHYs[1]),Q+=4,T[Q]=k.pHYs[2],Q++,M(T,Q,P(T,Q-13,13)),Q+=4),K&&(M(T,Q,8),Q+=4,F(T,Q,"acTL"),Q+=4,M(T,Q,j.frames.length),Q+=4,M(T,Q,k.loop!=null?k.loop:0),Q+=4,M(T,Q,P(T,Q-12,12)),Q+=4),j.ctype==3){for(M(T,Q,3*(O=j.plte.length)),Q+=4,F(T,Q,"PLTE"),Q+=4,R=0;R<O;R++){const ee=3*R,fe=j.plte[R],de=255&fe,ae=fe>>>8&255,xe=fe>>>16&255;T[Q+ee+0]=de,T[Q+ee+1]=ae,T[Q+ee+2]=xe}if(Q+=3*O,M(T,Q,P(T,Q-3*O-4,3*O+4)),Q+=4,V){for(M(T,Q,O),Q+=4,F(T,Q,"tRNS"),Q+=4,R=0;R<O;R++)T[Q+R]=j.plte[R]>>>24&255;Q+=O,M(T,Q,P(T,Q-O-4,O+4)),Q+=4}}let G=0;for(U=0;U<j.frames.length;U++){var J=j.frames[U];K&&(M(T,Q,26),Q+=4,F(T,Q,"fcTL"),Q+=4,M(T,Q,G++),Q+=4,M(T,Q,J.rect.width),Q+=4,M(T,Q,J.rect.height),Q+=4,M(T,Q,J.rect.x),Q+=4,M(T,Q,J.rect.y),Q+=4,H(T,Q,S[U]),Q+=2,H(T,Q,1e3),Q+=2,T[Q]=J.dispose,Q++,T[Q]=J.blend,Q++,M(T,Q,P(T,Q-30,30)),Q+=4);const ee=J.cimg;M(T,Q,(O=ee.length)+(U==0?0:4)),Q+=4;const fe=Q;F(T,Q,U==0?"IDAT":"fdAT"),Q+=4,U!=0&&(M(T,Q,G++),Q+=4),T.set(ee,Q),Q+=O,M(T,Q,P(T,fe,Q-fe)),Q+=4}return M(T,Q,0),Q+=4,F(T,Q,"IEND"),Q+=4,M(T,Q,P(T,Q-4,4)),Q+=4,T.buffer}function d(j,C,E){for(let S=0;S<j.frames.length;S++){const k=j.frames[S];k.rect.width;const P=k.rect.height,M=new Uint8Array(P*k.bpl+P);k.cimg=p(k.img,P,k.bpp,k.bpl,M,C,E)}}function A(j,C,E,S,k){const P=k[0],M=k[1],H=k[2],F=k[3],Q=k[4],K=k[5];let Y=6,V=8,I=255;for(var O=0;O<j.length;O++){const re=new Uint8Array(j[O]);for(var R=re.length,U=0;U<R;U+=4)I&=re[U+3]}const T=I!=255,z=function(ve,ke,Ce,we,oe,pe){const je=[];for(var Te=0;Te<ve.length;Te++){const We=new Uint8Array(ve[Te]),Me=new Uint32Array(We.buffer);var be;let ot=0,xt=0,Ft=ke,nt=Ce,At=we?1:0;if(Te!=0){const Rt=pe||we||Te==1||je[Te-2].dispose!=0?1:2;let Pt=0,ur=1e9;for(let Ht=0;Ht<Rt;Ht++){var De=new Uint8Array(ve[Te-1-Ht]);const lr=new Uint32Array(ve[Te-1-Ht]);let sr=ke,Kt=Ce,Xe=-1,ar=-1;for(let Ke=0;Ke<Ce;Ke++)for(let Tr=0;Tr<ke;Tr++)Me[Qe=Ke*ke+Tr]!=lr[Qe]&&(Tr<sr&&(sr=Tr),Tr>Xe&&(Xe=Tr),Ke<Kt&&(Kt=Ke),Ke>ar&&(ar=Ke));Xe==-1&&(sr=Kt=Xe=ar=0),oe&&((1&sr)==1&&sr--,(1&Kt)==1&&Kt--);const rr=(Xe-sr+1)*(ar-Kt+1);rr<ur&&(ur=rr,Pt=Ht,ot=sr,xt=Kt,Ft=Xe-sr+1,nt=ar-Kt+1)}De=new Uint8Array(ve[Te-1-Pt]),Pt==1&&(je[Te-1].dispose=2),be=new Uint8Array(Ft*nt*4),t(De,ke,Ce,be,Ft,nt,-ot,-xt,0),At=t(We,ke,Ce,be,Ft,nt,-ot,-xt,3)?1:0,At==1?h(We,ke,Ce,be,{x:ot,y:xt,width:Ft,height:nt}):t(We,ke,Ce,be,Ft,nt,-ot,-xt,0)}else be=We.slice(0);je.push({rect:{x:ot,y:xt,width:Ft,height:nt},img:be,blend:At,dispose:0})}if(we)for(Te=0;Te<je.length;Te++){if((Re=je[Te]).blend==1)continue;const We=Re.rect,Me=je[Te-1].rect,ot=Math.min(We.x,Me.x),xt=Math.min(We.y,Me.y),Ft={x:ot,y:xt,width:Math.max(We.x+We.width,Me.x+Me.width)-ot,height:Math.max(We.y+We.height,Me.y+Me.height)-xt};je[Te-1].dispose=1,Te-1!=0&&f(ve,ke,Ce,je,Te-1,Ft,oe),f(ve,ke,Ce,je,Te,Ft,oe)}let qe=0;if(ve.length!=1)for(var Qe=0;Qe<je.length;Qe++){var Re;qe+=(Re=je[Qe]).rect.width*Re.rect.height}return je}(j,C,E,P,M,H),G={},J=[],ee=[];if(S!=0){const re=[];for(U=0;U<z.length;U++)re.push(z[U].img.buffer);const ve=function(oe){let pe=0;for(var je=0;je<oe.length;je++)pe+=oe[je].byteLength;const Te=new Uint8Array(pe);let be=0;for(je=0;je<oe.length;je++){const De=new Uint8Array(oe[je]),qe=De.length;for(let Qe=0;Qe<qe;Qe+=4){let Re=De[Qe],We=De[Qe+1],Me=De[Qe+2];const ot=De[Qe+3];ot==0&&(Re=We=Me=0),Te[be+Qe]=Re,Te[be+Qe+1]=We,Te[be+Qe+2]=Me,Te[be+Qe+3]=ot}be+=qe}return Te.buffer}(re),ke=g(ve,S);for(U=0;U<ke.plte.length;U++)J.push(ke.plte[U].est.rgba);let Ce=0;for(U=0;U<z.length;U++){const we=(de=z[U]).img.length;var fe=new Uint8Array(ke.inds.buffer,Ce>>2,we>>2);ee.push(fe);const oe=new Uint8Array(ke.abuf,Ce,we);K&&c(de.img,de.rect.width,de.rect.height,J,oe,fe),de.img.set(oe),Ce+=we}}else for(O=0;O<z.length;O++){var de=z[O];const re=new Uint32Array(de.img.buffer);var ae=de.rect.width;for(R=re.length,fe=new Uint8Array(R),ee.push(fe),U=0;U<R;U++){const ve=re[U];if(U!=0&&ve==re[U-1])fe[U]=fe[U-1];else if(U>ae&&ve==re[U-ae])fe[U]=fe[U-ae];else{let ke=G[ve];if(ke==null&&(G[ve]=ke=J.length,J.push(ve),J.length>=300))break;fe[U]=ke}}}const xe=J.length;for(xe<=256&&Q==0&&(V=xe<=2?1:xe<=4?2:xe<=16?4:8,V=Math.max(V,F)),O=0;O<z.length;O++){(de=z[O]).rect.x,de.rect.y,ae=de.rect.width;const re=de.rect.height;let ve=de.img;new Uint32Array(ve.buffer);let ke=4*ae,Ce=4;if(xe<=256&&Q==0){ke=Math.ceil(V*ae/8);var X=new Uint8Array(ke*re);const we=ee[O];for(let oe=0;oe<re;oe++){U=oe*ke;const pe=oe*ae;if(V==8)for(var ie=0;ie<ae;ie++)X[U+ie]=we[pe+ie];else if(V==4)for(ie=0;ie<ae;ie++)X[U+(ie>>1)]|=we[pe+ie]<<4-4*(1&ie);else if(V==2)for(ie=0;ie<ae;ie++)X[U+(ie>>2)]|=we[pe+ie]<<6-2*(3&ie);else if(V==1)for(ie=0;ie<ae;ie++)X[U+(ie>>3)]|=we[pe+ie]<<7-1*(7&ie)}ve=X,Y=3,Ce=1}else if(T==0&&z.length==1){X=new Uint8Array(ae*re*3);const we=ae*re;for(U=0;U<we;U++){const oe=3*U,pe=4*U;X[oe]=ve[pe],X[oe+1]=ve[pe+1],X[oe+2]=ve[pe+2]}ve=X,Y=2,Ce=3,ke=3*ae}de.img=ve,de.bpl=ke,de.bpp=Ce}return{ctype:Y,depth:V,plte:J,frames:z}}function f(j,C,E,S,k,P,M){const H=Uint8Array,F=Uint32Array,Q=new H(j[k-1]),K=new F(j[k-1]),Y=k+1<j.length?new H(j[k+1]):null,V=new H(j[k]),I=new F(V.buffer);let O=C,R=E,U=-1,T=-1;for(let G=0;G<P.height;G++)for(let J=0;J<P.width;J++){const ee=P.x+J,fe=P.y+G,de=fe*C+ee,ae=I[de];ae==0||S[k-1].dispose==0&&K[de]==ae&&(Y==null||Y[4*de+3]!=0)||(ee<O&&(O=ee),ee>U&&(U=ee),fe<R&&(R=fe),fe>T&&(T=fe))}U==-1&&(O=R=U=T=0),M&&((1&O)==1&&O--,(1&R)==1&&R--),P={x:O,y:R,width:U-O+1,height:T-R+1};const z=S[k];z.rect=P,z.blend=1,z.img=new Uint8Array(P.width*P.height*4),S[k-1].dispose==0?(t(Q,C,E,z.img,P.width,P.height,-P.x,-P.y,0),h(V,C,E,z.img,P)):t(V,C,E,z.img,P.width,P.height,-P.x,-P.y,0)}function h(j,C,E,S,k){t(j,C,E,S,k.width,k.height,-k.x,-k.y,2)}function p(j,C,E,S,k,P,M){const H=[];let F,Q=[0,1,2,3,4];P!=-1?Q=[P]:(C*S>5e5||E==1)&&(Q=[0]),M&&(F={level:0});const K=WX;for(var Y=0;Y<Q.length;Y++){for(let O=0;O<C;O++)m(k,j,O,S,E,Q[Y]);H.push(K.deflate(k,F))}let V,I=1e9;for(Y=0;Y<H.length;Y++)H[Y].length<I&&(V=Y,I=H[Y].length);return H[V]}function m(j,C,E,S,k,P){const M=E*S;let H=M+E;if(j[H]=P,H++,P==0)if(S<500)for(var F=0;F<S;F++)j[H+F]=C[M+F];else j.set(new Uint8Array(C.buffer,M,S),H);else if(P==1){for(F=0;F<k;F++)j[H+F]=C[M+F];for(F=k;F<S;F++)j[H+F]=C[M+F]-C[M+F-k]+256&255}else if(E==0){for(F=0;F<k;F++)j[H+F]=C[M+F];if(P==2)for(F=k;F<S;F++)j[H+F]=C[M+F];if(P==3)for(F=k;F<S;F++)j[H+F]=C[M+F]-(C[M+F-k]>>1)+256&255;if(P==4)for(F=k;F<S;F++)j[H+F]=C[M+F]-n(C[M+F-k],0,0)+256&255}else{if(P==2)for(F=0;F<S;F++)j[H+F]=C[M+F]+256-C[M+F-S]&255;if(P==3){for(F=0;F<k;F++)j[H+F]=C[M+F]+256-(C[M+F-S]>>1)&255;for(F=k;F<S;F++)j[H+F]=C[M+F]+256-(C[M+F-S]+C[M+F-k]>>1)&255}if(P==4){for(F=0;F<k;F++)j[H+F]=C[M+F]+256-n(0,C[M+F-S],0)&255;for(F=k;F<S;F++)j[H+F]=C[M+F]+256-n(C[M+F-k],C[M+F-S],C[M+F-k-S])&255}}}function g(j,C){const E=new Uint8Array(j),S=E.slice(0),k=new Uint32Array(S.buffer),P=b(S,C),M=P[0],H=P[1],F=E.length,Q=new Uint8Array(F>>2);let K;if(E.length<2e7)for(var Y=0;Y<F;Y+=4)K=y(M,V=E[Y]*(1/255),I=E[Y+1]*(1/255),O=E[Y+2]*(1/255),R=E[Y+3]*(1/255)),Q[Y>>2]=K.ind,k[Y>>2]=K.est.rgba;else for(Y=0;Y<F;Y+=4){var V=E[Y]*.00392156862745098,I=E[Y+1]*(1/255),O=E[Y+2]*(1/255),R=E[Y+3]*(1/255);for(K=M;K.left;)K=x(K.est,V,I,O,R)<=0?K.left:K.right;Q[Y>>2]=K.ind,k[Y>>2]=K.est.rgba}return{abuf:S.buffer,inds:Q,plte:H}}function b(j,C,E){E==null&&(E=1e-4);const S=new Uint32Array(j.buffer),k={i0:0,i1:j.length,bst:null,est:null,tdst:0,left:null,right:null};k.bst=_(j,k.i0,k.i1),k.est=B(k.bst);const P=[k];for(;P.length<C;){let H=0,F=0;for(var M=0;M<P.length;M++)P[M].est.L>H&&(H=P[M].est.L,F=M);if(H<E)break;const Q=P[F],K=v(j,S,Q.i0,Q.i1,Q.est.e,Q.est.eMq255);if(Q.i0>=K||Q.i1<=K){Q.est.L=0;continue}const Y={i0:Q.i0,i1:K,bst:null,est:null,tdst:0,left:null,right:null};Y.bst=_(j,Y.i0,Y.i1),Y.est=B(Y.bst);const V={i0:K,i1:Q.i1,bst:null,est:null,tdst:0,left:null,right:null};for(V.bst={R:[],m:[],N:Q.bst.N-Y.bst.N},M=0;M<16;M++)V.bst.R[M]=Q.bst.R[M]-Y.bst.R[M];for(M=0;M<4;M++)V.bst.m[M]=Q.bst.m[M]-Y.bst.m[M];V.est=B(V.bst),Q.left=Y,Q.right=V,P[F]=Y,P.push(V)}for(P.sort((H,F)=>F.bst.N-H.bst.N),M=0;M<P.length;M++)P[M].ind=M;return[k,P]}function y(j,C,E,S,k){if(j.left==null)return j.tdst=function(Y,V,I,O,R){const U=V-Y[0],T=I-Y[1],z=O-Y[2],G=R-Y[3];return U*U+T*T+z*z+G*G}(j.est.q,C,E,S,k),j;const P=x(j.est,C,E,S,k);let M=j.left,H=j.right;P>0&&(M=j.right,H=j.left);const F=y(M,C,E,S,k);if(F.tdst<=P*P)return F;const Q=y(H,C,E,S,k);return Q.tdst<F.tdst?Q:F}function x(j,C,E,S,k){const{e:P}=j;return P[0]*C+P[1]*E+P[2]*S+P[3]*k-j.eMq}function v(j,C,E,S,k,P){for(S-=4;E<S;){for(;w(j,E,k)<=P;)E+=4;for(;w(j,S,k)>P;)S-=4;if(E>=S)break;const M=C[E>>2];C[E>>2]=C[S>>2],C[S>>2]=M,E+=4,S-=4}for(;w(j,E,k)>P;)E-=4;return E+4}function w(j,C,E){return j[C]*E[0]+j[C+1]*E[1]+j[C+2]*E[2]+j[C+3]*E[3]}function _(j,C,E){const S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[0,0,0,0],P=E-C>>2;for(let M=C;M<E;M+=4){const H=j[M]*.00392156862745098,F=j[M+1]*(1/255),Q=j[M+2]*(1/255),K=j[M+3]*(1/255);k[0]+=H,k[1]+=F,k[2]+=Q,k[3]+=K,S[0]+=H*H,S[1]+=H*F,S[2]+=H*Q,S[3]+=H*K,S[5]+=F*F,S[6]+=F*Q,S[7]+=F*K,S[10]+=Q*Q,S[11]+=Q*K,S[15]+=K*K}return S[4]=S[1],S[8]=S[2],S[9]=S[6],S[12]=S[3],S[13]=S[7],S[14]=S[11],{R:S,m:k,N:P}}function B(j){const{R:C}=j,{m:E}=j,{N:S}=j,k=E[0],P=E[1],M=E[2],H=E[3],F=S==0?0:1/S,Q=[C[0]-k*k*F,C[1]-k*P*F,C[2]-k*M*F,C[3]-k*H*F,C[4]-P*k*F,C[5]-P*P*F,C[6]-P*M*F,C[7]-P*H*F,C[8]-M*k*F,C[9]-M*P*F,C[10]-M*M*F,C[11]-M*H*F,C[12]-H*k*F,C[13]-H*P*F,C[14]-H*M*F,C[15]-H*H*F],K=Q,Y=N;let V=[Math.random(),Math.random(),Math.random(),Math.random()],I=0,O=0;if(S!=0)for(let U=0;U<16&&(V=Y.multVec(K,V),O=Math.sqrt(Y.dot(V,V)),V=Y.sml(1/O,V),!(U!=0&&Math.abs(O-I)<1e-9));U++)I=O;const R=[k*F,P*F,M*F,H*F];return{Cov:Q,q:R,e:V,L:I,eMq255:Y.dot(Y.sml(255,R),V),eMq:Y.dot(V,R),rgba:(Math.round(255*R[3])<<24|Math.round(255*R[2])<<16|Math.round(255*R[1])<<8|Math.round(255*R[0])<<0)>>>0}}var N={multVec:(j,C)=>[j[0]*C[0]+j[1]*C[1]+j[2]*C[2]+j[3]*C[3],j[4]*C[0]+j[5]*C[1]+j[6]*C[2]+j[7]*C[3],j[8]*C[0]+j[9]*C[1]+j[10]*C[2]+j[11]*C[3],j[12]*C[0]+j[13]*C[1]+j[14]*C[2]+j[15]*C[3]],dot:(j,C)=>j[0]*C[0]+j[1]*C[1]+j[2]*C[2]+j[3]*C[3],sml:(j,C)=>[j*C[0],j*C[1],j*C[2],j*C[3]]};Ho.encode=function(C,E,S,k,P,M,H){k==null&&(k=0),H==null&&(H=!1);const F=A(C,E,S,k,[!1,!1,!1,0,H,!1]);return d(F,-1),u(F,E,S,P,M)},Ho.encodeLL=function(C,E,S,k,P,M,H,F){const Q={ctype:0+(k==1?0:2)+(P==0?0:4),depth:M,frames:[]},K=(k+P)*M,Y=K*E;for(let V=0;V<C.length;V++)Q.frames.push({rect:{x:0,y:0,width:E,height:S},img:new Uint8Array(C[V]),blend:0,dispose:1,bpp:Math.ceil(K/8),bpl:Math.ceil(Y/8)});return d(Q,0,!0),u(Q,E,S,H,F)},Ho.encode.compress=A,Ho.encode.dither=c,Ho.quantize=g,Ho.quantize.getKDtree=b,Ho.quantize.getNearest=y})();const q8={toArrayBuffer(t,r){const n=t.width,s=t.height,i=n<<2,o=t.getContext("2d").getImageData(0,0,n,s),l=new Uint32Array(o.data.buffer),c=(32*n+31)/32<<2,u=c*s,d=122+u,A=new ArrayBuffer(d),f=new DataView(A),h=1<<20;let p,m,g,b,y=h,x=0,v=0,w=0;function _(j){f.setUint16(v,j,!0),v+=2}function B(j){f.setUint32(v,j,!0),v+=4}function N(j){v+=j}_(19778),B(d),N(4),B(122),B(108),B(n),B(-s>>>0),_(1),_(32),B(3),B(u),B(2835),B(2835),N(8),B(16711680),B(65280),B(255),B(4278190080),B(1466527264),function j(){for(;x<s&&y>0;){for(b=122+x*c,p=0;p<i;)y--,m=l[w++],g=m>>>24,f.setUint32(b+p,m<<8|g),p+=4;x++}w<l.length?(y=h,setTimeout(j,q8._dly)):r(A)}()},toBlob(t,r){this.toArrayBuffer(t,n=>{r(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Ba={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},qX={[Ba.CHROME]:16384,[Ba.FIREFOX]:11180,[Ba.DESKTOP_SAFARI]:16384,[Ba.IE]:8192,[Ba.IOS]:4096,[Ba.ETC]:8192};const MN=typeof window<"u",Y8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,nv=MN&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),YX=(MN||Y8)&&(nv&&nv.getOriginalSymbol(window,"File")||typeof File<"u"&&File),X8=(MN||Y8)&&(nv&&nv.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function QN(t,r,n=Date.now()){return new Promise(s=>{const i=t.split(","),o=i[0].match(/:(.*?);/)[1],l=globalThis.atob(i[1]);let c=l.length;const u=new Uint8Array(c);for(;c--;)u[c]=l.charCodeAt(c);const d=new Blob([u],{type:o});d.name=r,d.lastModified=n,s(d)})}function J8(t){return new Promise((r,n)=>{const s=new X8;s.onload=()=>r(s.result),s.onerror=i=>n(i),s.readAsDataURL(t)})}function Z8(t){return new Promise((r,n)=>{const s=new Image;s.onload=()=>r(s),s.onerror=i=>n(i),s.src=t})}function Dd(){if(Dd.cachedResult!==void 0)return Dd.cachedResult;let t=Ba.ETC;const{userAgent:r}=navigator;return/Chrom(e|ium)/i.test(r)?t=Ba.CHROME:/iP(ad|od|hone)/i.test(r)&&/WebKit/i.test(r)?t=Ba.IOS:/Safari/i.test(r)?t=Ba.DESKTOP_SAFARI:/Firefox/i.test(r)?t=Ba.FIREFOX:(/MSIE/i.test(r)||document.documentMode)&&(t=Ba.IE),Dd.cachedResult=t,Dd.cachedResult}function eP(t,r){const n=Dd(),s=qX[n];let i=t,o=r,l=i*o;const c=i>o?o/i:i/o;for(;l>s*s;){const u=(s+i)/2,d=(s+o)/2;u<d?(o=d,i=d*c):(o=u*c,i=u),l=i*o}return{width:i,height:o}}function g1(t,r){let n,s;try{if(n=new OffscreenCanvas(t,r),s=n.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),s=n.getContext("2d")}return n.width=t,n.height=r,[n,s]}function tP(t,r){const{width:n,height:s}=eP(t.width,t.height),[i,o]=g1(n,s);return r&&/jpe?g/.test(r)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(t,0,0,i.width,i.height),i}function Zy(){return Zy.cachedResult!==void 0||(Zy.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Zy.cachedResult}function sv(t,r={}){return new Promise(function(n,s){let i,o;var l=function(){try{return o=tP(i,r.fileType||t.type),n([i,o])}catch(u){return s(u)}},c=function(u){try{var d=function(A){try{throw A}catch(f){return s(f)}};try{let A;return J8(t).then(function(f){try{return A=f,Z8(A).then(function(h){try{return i=h,function(){try{return l()}catch(p){return s(p)}}()}catch(p){return d(p)}},d)}catch(h){return d(h)}},d)}catch(A){d(A)}}catch(A){return s(A)}};try{if(Zy()||[Ba.DESKTOP_SAFARI,Ba.MOBILE_SAFARI].includes(Dd()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(u){try{return i=u,l()}catch{return c()}},c)}catch{c()}})}function iv(t,r,n,s,i=1){return new Promise(function(o,l){let c;if(r==="image/png"){let d,A,f;return d=t.getContext("2d"),{data:A}=d.getImageData(0,0,t.width,t.height),f=Ho.encode([A.buffer],t.width,t.height,4096*i),c=new Blob([f],{type:r}),c.name=n,c.lastModified=s,u.call(this)}{let d=function(){return u.call(this)};if(r==="image/bmp")return new Promise(A=>q8.toBlob(t,A)).then((function(A){try{return c=A,c.name=n,c.lastModified=s,d.call(this)}catch(f){return l(f)}}).bind(this),l);{let A=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:r,quality:i}).then((function(f){try{return c=f,c.name=n,c.lastModified=s,A.call(this)}catch(h){return l(h)}}).bind(this),l);{let f;return f=t.toDataURL(r,i),QN(f,n,s).then((function(h){try{return c=h,A.call(this)}catch(p){return l(p)}}).bind(this),l)}}}function u(){return o(c)}})}function bl(t){t.width=0,t.height=0}function Ef(){return new Promise(function(t,r){let n,s,i,o;return Ef.cachedResult!==void 0?t(Ef.cachedResult):QN("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return n=l,sv(n).then(function(c){try{return s=c[1],iv(s,n.type,n.name,n.lastModified).then(function(u){try{return i=u,bl(s),sv(i).then(function(d){try{return o=d[0],Ef.cachedResult=o.width===1&&o.height===2,t(Ef.cachedResult)}catch(A){return r(A)}},r)}catch(d){return r(d)}},r)}catch(u){return r(u)}},r)}catch(c){return r(c)}},r)})}function rP(t){return new Promise((r,n)=>{const s=new X8;s.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return r(-2);const l=o.byteLength;let c=2;for(;c<l;){if(o.getUint16(c+2,!1)<=8)return r(-1);const u=o.getUint16(c,!1);if(c+=2,u==65505){if(o.getUint32(c+=2,!1)!=1165519206)return r(-1);const d=o.getUint16(c+=6,!1)==18761;c+=o.getUint32(c+4,d);const A=o.getUint16(c,d);c+=2;for(let f=0;f<A;f++)if(o.getUint16(c+12*f,d)==274)return r(o.getUint16(c+12*f+8,d))}else{if((65280&u)!=65280)break;c+=o.getUint16(c,!1)}}return r(-1)},s.onerror=i=>n(i),s.readAsArrayBuffer(t)})}function nP(t,r){const{width:n}=t,{height:s}=t,{maxWidthOrHeight:i}=r;let o,l=t;return isFinite(i)&&(n>i||s>i)&&([l,o]=g1(n,s),n>s?(l.width=i,l.height=s/n*i):(l.width=n/s*i,l.height=i),o.drawImage(t,0,0,l.width,l.height),bl(t)),l}function sP(t,r){const{width:n}=t,{height:s}=t,[i,o]=g1(n,s);switch(r>4&&r<9?(i.width=s,i.height=n):(i.width=n,i.height=s),r){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,s);break;case 4:o.transform(1,0,0,-1,0,s);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,s,0);break;case 7:o.transform(0,-1,-1,0,s,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(t,0,0,n,s),bl(t),i}function c_(t,r,n=0){return new Promise(function(s,i){let o,l,c,u,d,A,f,h,p,m,g,b,y,x,v,w,_,B,N,j;function C(S=5){if(r.signal&&r.signal.aborted)throw r.signal.reason;o+=S,r.onProgress(Math.min(o,100))}function E(S){if(r.signal&&r.signal.aborted)throw r.signal.reason;o=Math.min(Math.max(S,o),100),r.onProgress(o)}return o=n,l=r.maxIteration||10,c=1024*r.maxSizeMB*1024,C(),sv(t,r).then((function(S){try{return[,u]=S,C(),d=nP(u,r),C(),new Promise(function(k,P){var M;if(!(M=r.exifOrientation))return rP(t).then((function(F){try{return M=F,H.call(this)}catch(Q){return P(Q)}}).bind(this),P);function H(){return k(M)}return H.call(this)}).then((function(k){try{return A=k,C(),Ef().then((function(P){try{return f=P?d:sP(d,A),C(),h=r.initialQuality||1,p=r.fileType||t.type,iv(f,p,t.name,t.lastModified,h).then((function(M){try{{let F=function(){if(l--&&(v>c||v>y)){let K,Y;return K=j?.95*N.width:N.width,Y=j?.95*N.height:N.height,[_,B]=g1(K,Y),B.drawImage(N,0,0,K,Y),h*=p==="image/png"?.85:.95,iv(_,p,t.name,t.lastModified,h).then(function(V){try{return w=V,bl(N),N=_,v=w.size,E(Math.min(99,Math.floor((x-v)/(x-c)*100))),F}catch(I){return i(I)}},i)}return[1]},Q=function(){return bl(N),bl(_),bl(d),bl(f),bl(u),E(100),s(w)};if(m=M,C(),g=m.size>c,b=m.size>t.size,!g&&!b)return E(100),s(m);var H;return y=t.size,x=m.size,v=x,N=f,j=!r.alwaysKeepResolution&&g,(H=(function(K){for(;K;){if(K.then)return void K.then(H,i);try{if(K.pop){if(K.length)return K.pop()?Q.call(this):K;K=F}else K=K.call(this)}catch(Y){return i(Y)}}}).bind(this))(F)}}catch(F){return i(F)}}).bind(this),i)}catch(M){return i(M)}}).bind(this),i)}catch(P){return i(P)}}).bind(this),i)}catch(k){return i(k)}}).bind(this),i)})}const XX=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Aw;function JX(t,r){return new Promise((n,s)=>{Aw||(Aw=function(l){const c=[];return c.push(l),URL.createObjectURL(new Blob(c))}(XX));const i=new Worker(Aw);i.addEventListener("message",function(l){if(r.signal&&r.signal.aborted)i.terminate();else if(l.data.progress===void 0){if(l.data.error)return s(new Error(l.data.error)),void i.terminate();n(l.data.file),i.terminate()}else r.onProgress(l.data.progress)}),i.addEventListener("error",s),r.signal&&r.signal.addEventListener("abort",()=>{s(r.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:r.libURL,options:{...r,onProgress:void 0,signal:void 0}})})}function ts(t,r){return new Promise(function(n,s){let i,o,l,c,u,d;if(i={...r},l=0,{onProgress:c}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{l=p,typeof c=="function"&&c(l)},!(t instanceof Blob||t instanceof YX))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return s(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||d)return c_(t,i).then((function(p){try{return o=p,h.call(this)}catch(m){return s(m)}}).bind(this),s);var A=(function(){try{return h.call(this)}catch(p){return s(p)}}).bind(this),f=function(p){try{return c_(t,i).then(function(m){try{return o=m,A()}catch(g){return s(g)}},s)}catch(m){return s(m)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",JX(t,i).then(function(p){try{return o=p,A()}catch{return f()}},f)}catch{f()}function h(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(o=W8(t,o))}catch{}return n(o)}})}ts.getDataUrlFromFile=J8,ts.getFilefromDataUrl=QN,ts.loadImage=Z8,ts.drawImageInCanvas=tP,ts.drawFileInCanvas=sv,ts.canvasToFile=iv,ts.getExifOrientation=rP,ts.handleMaxWidthOrHeight=nP,ts.followExifOrientation=sP,ts.cleanupCanvasMemory=bl,ts.isAutoOrientationInBrowser=Ef,ts.approximateBelowMaximumCanvasSizeOfBrowser=eP,ts.copyExifWithoutOrientation=W8,ts.getBrowserName=Dd,ts.version="2.0.2";const W0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvElEQVR4nO2ZPyiFURiHHy4lKSXJYmTUtRBSwupPlCiLmIjBYiMlSQmFokhZ3DtdFjFcE5NdKRs2Eikpfzp1bmRxXe/53iPfU7/6ptN5zuk7ve85EBISokEVMAkkgBMb8z0BRPkDNNhJv32TY6AeD8kCxoGXNCRSeQVmgWw8Yu0HAl+ziieM/EIilSFtiRLgXkDkASjVFFkUkEhlXkvC/KTXgiJX9tAInKigRCqVGiIdDkTaNUQGHYgMaoh0ORDp1BCpcSBSrSGSC9wKStwAOSixJSiyiSIVwLOAhBmjHGXmBERm8IAc4OAXEvtABE/IA7YzkNgB8vGMLGDA1kzfCVwC/Vq1VbqYFe4FYsCZLdEf7LfZgR4fdyEkJOSDNmAXOA0oCaAVYWYcVLrpZlpKok5R4s2m1rebkkyzICES80AkJiES90Ak7lvzpNp0TXkgMiUh0uiBSLPU1ei5osSF5BuKi1vFdNONMMsKEus4wGzvRsAnVQSHDNmOz5XAHdBHQJQBK8CjoIBZnCU7duAUA2NAMsOLuifgEBgFivCEQqDFTsq88u4BR5/6i6TtZ8wr7jDQBBRoTzok5L/wDh6eKQnxUi3iAAAAAElFTkSuQmCC",iP=({storeId:t,productId:r=null,serviceId:n=null,position:s="bottom-left",user:i,onClose:o})=>{var We,Me,ot,xt,Ft;const[l,c]=te.useState(!1),[u,d]=te.useState(!1),[A,f]=te.useState(null),[h,p]=te.useState([]),[m,g]=te.useState(""),[b,y]=te.useState(!1),[x,v]=te.useState(null),[w,_]=te.useState(!1),[B,N]=te.useState(!1),[j,C]=te.useState(0),[E,S]=te.useState(!1),[k,P]=te.useState(!1),[M,H]=te.useState(0),[F,Q]=te.useState(!1),K=te.useRef(null),Y=te.useRef(null),V=te.useRef(null),I=te.useRef(null),O=te.useRef(null),{decrementUnreadCount:R,fetchUnreadCount:U}=m1(),T="http://localhost:10000";te.useEffect(()=>{if(!(!i||!l))return K.current||(K.current=Vd(T,{withCredentials:!0,transports:["websocket"]}),K.current.on("connect",()=>{console.log("Connected to chat socket")}),K.current.on("disconnect",()=>{console.log("Disconnected from chat socket")}),K.current.on("new-message",z),K.current.on("user-typing",G),K.current.on("messages-read",J),K.current.on("user-online-status",ee),K.current.on("message-blocked",fe),K.current.on("error",de),K.current.on("chat-joined",ae)),()=>{K.current&&(K.current.disconnect(),K.current=null)}},[i,l,T]),te.useEffect(()=>{pe()},[h]),te.useEffect(()=>{l&&!u&&A&&j>0&&ke()},[l,u,A,j]);const z=nt=>{p(At=>[...At,nt]),u&&nt.senderId!==i.id&&C(At=>At+1),l&&!u&&nt.senderId!==i.id&&ke()},G=nt=>{nt.userId!==i.id&&N(nt.isTyping)},J=nt=>{console.log("Messages read by:",nt.readBy)},ee=nt=>{nt.userId!==i.id&&S(nt.isOnline)},fe=nt=>{v({type:"moderation",message:nt.userMessage,reason:nt.reason}),setTimeout(()=>v(null),5e3)},de=nt=>{v({type:"socket",message:nt.message||"Connection error"}),setTimeout(()=>v(null),3e3)},ae=nt=>{console.log("Successfully joined chat:",nt.chatId)},xe=async()=>{try{y(!0),v(null);const nt=await fetch(`${T}/api/chat/start`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({storeId:t,productId:r,serviceId:n})}),At=await nt.json();if(!nt.ok)throw new Error(At.error||"Failed to start chat");f(At.chat),K.current&&K.current.emit("join-chat",{chatId:At.chat._id}),await X(At.chat._id)}catch(nt){v({type:"api",message:nt.message})}finally{y(!1)}},X=async nt=>{var At;try{const Rt=await fetch(`${T}/api/chat/${nt}`,{credentials:"include"}),Pt=await Rt.json();if(!Rt.ok)throw new Error(Pt.error||"Failed to load messages");p(Pt.chat.messages||[]),S(((At=Pt.chat.otherParticipant)==null?void 0:At.isOnline)||!1)}catch(Rt){v({type:"api",message:Rt.message})}},ie=async()=>{if(!m.trim()||!A||b)return;const nt=m.trim();g(""),we();try{K.current&&K.current.emit("send-message",{chatId:A._id,content:nt,messageType:"text"})}catch(At){v({type:"send",message:At.message}),g(nt)}},re=async nt=>{const At=nt.target.files[0];if(!(!At||!A)){if(!At.type.startsWith("image/")){v({type:"upload",message:"Only image files are allowed"});return}if(At.size>10*1024*1024){v({type:"upload",message:"File size must be less than 10MB"});return}try{Q(!0);const Pt=await ts(At,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0}),ur=await ve(Pt);K.current&&K.current.emit("send-message",{chatId:A._id,file:ur,messageType:"image"})}catch(Rt){v({type:"upload",message:Rt.message||"Failed to upload file"})}finally{Q(!1),V.current&&(V.current.value="")}}},ve=async nt=>{const{storage:At}=await G0(async()=>{const{storage:rr}=await Promise.resolve().then(()=>WG);return{storage:rr}},void 0),{ref:Rt,uploadBytes:Pt,getDownloadURL:ur}=await G0(async()=>{const{ref:rr,uploadBytes:Ke,getDownloadURL:Tr}=await Promise.resolve().then(()=>KG);return{ref:rr,uploadBytes:Ke,getDownloadURL:Tr}},void 0),Ht=Date.now(),lr=Math.random().toString(36).substring(2,15),sr=`${Ht}_${lr}_${nt.name}`,Kt=Rt(At,`ChatFolder/${sr}`),Xe=await Pt(Kt,nt);return{url:await ur(Xe.ref),filename:nt.name,size:nt.size,mimeType:nt.type}},ke=async()=>{if(A)try{if(!(await fetch(`${T}/api/chat/${A._id}/read`,{method:"PUT",credentials:"include"})).ok)throw new Error("Failed to mark messages as read");K.current&&K.current.emit("mark-messages-read",{chatId:A._id}),C(0),R(A._id),setTimeout(()=>U(),500)}catch(nt){console.error("Failed to mark messages as read:",nt)}},Ce=()=>{!A||w||(_(!0),K.current&&K.current.emit("typing-start",{chatId:A._id}),I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{we()},3e3))},we=()=>{!w||!A||(_(!1),K.current&&K.current.emit("typing-stop",{chatId:A._id}),I.current&&clearTimeout(I.current))},oe=async nt=>{if(!(!A||nt<1||nt>5))try{K.current&&K.current.emit("rate-chat",{chatId:A._id,rating:nt}),P(!1),H(nt)}catch(At){console.error("Failed to submit rating:",At)}},pe=()=>{var nt;(nt=Y.current)==null||nt.scrollIntoView({behavior:"smooth"})},je=nt=>new Date(nt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),Te=nt=>{nt.key==="Enter"&&!nt.shiftKey&&(nt.preventDefault(),ie())},be=nt=>{g(nt.target.value),nt.target.value.trim()?Ce():we()},De={"bottom-left":"bottom-4 left-4","bottom-right":"bottom-4 right-4"},qe=()=>a.jsxs("button",{onClick:()=>{c(!0),!A&&!b&&xe()},className:"group relative bg-gradient-to-r from-gray-900 to-black hover:from-black hover:to-gray-800 text-white p-4 rounded-full shadow-xl transition-all duration-300 hover:scale-110 hover:shadow-2xl border border-gray-700",children:[a.jsx(yh,{className:"w-6 h-6 group-hover:animate-pulse"}),j>0&&a.jsx("span",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-bounce border-2 border-white",children:j>9?"9+":j}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"})]}),Qe=({error:nt})=>a.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-red-100 border border-red-300 rounded-lg p-3 mb-3 shadow-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(yu,{className:"w-4 h-4 text-red-600 mr-2 flex-shrink-0"}),a.jsx("span",{className:"text-red-800 text-sm font-medium",children:nt.message})]}),nt.reason&&a.jsx("p",{className:"text-red-700 text-xs mt-1 ml-6",children:nt.reason})]}),Re=({message:nt})=>{var Pt;const At=nt.senderId===i.id;return nt.messageType==="system"?a.jsx("div",{className:"flex justify-center my-3",children:a.jsx("span",{className:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-600 text-xs px-4 py-2 rounded-full shadow-sm border",children:nt.content})}):a.jsx("div",{className:`flex ${At?"justify-end":"justify-start"} mb-4 group`,children:a.jsxs("div",{className:`max-w-xs lg:max-w-md ${At?"order-2":"order-1"}`,children:[!At&&a.jsx("div",{className:"flex items-center mb-2 ml-1",children:a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:W0,alt:"Store Owner",className:"w-7 h-7 rounded-full mr-3 border-2 border-gray-200 shadow-sm"}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white ${E?"bg-green-400":"bg-gray-400"}`})]})}),a.jsx("div",{className:`rounded-2xl px-4 py-3 shadow-sm transition-all duration-300 group-hover:shadow-lg hover:scale-[1.02] ${At?"bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white ml-4 shadow-gray-900/20":"bg-gradient-to-br from-white via-gray-50/50 to-white text-gray-900 border border-gray-200/50 mr-4 shadow-gray-200/40"}`,children:nt.messageType==="image"&&nt.file?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative group/image",children:[a.jsx("img",{src:nt.file.url,alt:"Shared image",className:"max-w-full h-auto rounded-xl cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-lg",onClick:()=>window.open(nt.file.url,"_blank")}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover/image:bg-black/20 rounded-xl transition-all duration-300 flex items-center justify-center backdrop-blur-0 group-hover/image:backdrop-blur-sm",children:a.jsx(p8,{className:"w-6 h-6 text-white opacity-0 group-hover/image:opacity-100 transition-all duration-300 scale-90 group-hover/image:scale-100"})})]}),nt.content&&a.jsx("p",{className:"text-sm leading-relaxed text-gray-800",children:nt.content})]}):nt.messageType==="receipt"?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(V0,{className:"w-5 h-5 mr-2 text-green-500"}),a.jsx("span",{className:"font-semibold",children:"Receipt"})]}),nt.receipt&&a.jsxs("div",{className:"text-sm space-y-2 bg-gradient-to-r from-green-50 to-emerald-50 p-3 rounded-xl border border-green-200 shadow-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Amount:"})," $",nt.receipt.amount]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"})," ",a.jsx("span",{className:"capitalize",children:nt.receipt.status})]})]})]}):a.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap break-words",children:nt.content})}),a.jsxs("div",{className:"flex items-center justify-between mt-1 px-1",children:[a.jsx("span",{className:"text-xs text-gray-500",children:je(nt.createdAt)}),At&&a.jsx("div",{className:"flex items-center space-x-1",children:((Pt=nt.readBy)==null?void 0:Pt.length)>0&&a.jsx(V0,{className:"w-3 h-3 text-green-500"})})]})]})})};return a.jsx("div",{className:`fixed ${De[s]} z-50`,children:l?a.jsxs("div",{className:`bg-white/95 rounded-3xl shadow-2xl border border-gray-100 transition-all duration-500 ease-out overflow-hidden backdrop-blur-lg ${u?"w-80 h-16 chat-popup minimized":"w-80 h-[500px] sm:w-80 sm:h-[500px] chat-popup"} max-sm:w-[calc(100vw-16px)] max-sm:h-[calc(100vh-32px)] max-sm:rounded-2xl`,style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/5 to-transparent opacity-50"}),a.jsxs("div",{className:"relative z-10 flex items-center space-x-3",children:[(A==null?void 0:A.storeId)&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:A.storeId.profileImage||W0,alt:A.storeId.name,className:"w-11 h-11 rounded-full border-2 border-white/30 shadow-lg object-cover ring-2 ring-white/10"}),a.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-white shadow-lg transition-all duration-300 ${E?"bg-emerald-400 animate-pulse":"bg-gray-500"}`})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-sm leading-tight",children:((We=A==null?void 0:A.storeId)==null?void 0:We.name)||"Loading..."}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-300 mt-0.5",children:[a.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${E?"bg-emerald-400 animate-pulse shadow-sm shadow-emerald-400/50":"bg-gray-500"}`}),a.jsx("span",{className:"font-medium",children:E?"Online":"Offline"})]})]})]}),a.jsxs("div",{className:"relative z-10 flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>d(!u),className:"p-2.5 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-105 active:scale-95","aria-label":u?"Expand chat":"Minimize chat",children:a.jsx(cq,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{c(!1),o&&o()},className:"p-2.5 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-105 active:scale-95 hover:bg-red-500/20","aria-label":"Close chat",children:a.jsx(hs,{className:"w-4 h-4"})})]})]}),!u&&a.jsxs(a.Fragment,{children:[((Me=A==null?void 0:A.taggedProduct)==null?void 0:Me.productId)&&a.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:A.taggedProduct.productImage,alt:A.taggedProduct.productName,className:"w-12 h-12 rounded-lg object-cover border border-gray-200 shadow-sm"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 leading-tight",children:A.taggedProduct.productName}),a.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:["$",A.taggedProduct.productPrice]})]})]})}),((ot=A==null?void 0:A.taggedService)==null?void 0:ot.serviceId)&&a.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:A.taggedService.serviceImage,alt:A.taggedService.serviceName,className:"w-12 h-12 rounded-lg object-cover border border-gray-200 shadow-sm"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 leading-tight",children:A.taggedService.serviceName}),a.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:["$",A.taggedService.servicePrice]})]})]})}),x&&a.jsx("div",{className:"p-3",children:a.jsx(Qe,{error:x})}),a.jsxs("div",{ref:O,className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gradient-to-b from-gray-50/50 to-white/80 backdrop-blur-sm scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",style:{height:(xt=A==null?void 0:A.taggedProduct)!=null&&xt.productId||(Ft=A==null?void 0:A.taggedService)!=null&&Ft.serviceId?"calc(100% - 200px)":"calc(100% - 140px)"},children:[b?a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Gd,{className:"animate-spin h-8 w-8 text-gray-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Loading conversation..."})]})}):h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[a.jsx("div",{className:"bg-gradient-to-r from-gray-100 to-gray-200 p-4 rounded-full mb-4",children:a.jsx(yh,{className:"w-8 h-8 text-gray-600"})}),a.jsx("p",{className:"text-sm font-medium mb-1",children:"Start a conversation"}),a.jsx("p",{className:"text-xs text-center",children:"Send a message to get started with this store"})]}):h.map(nt=>a.jsx(Re,{message:nt},nt._id)),B&&a.jsx("div",{className:"flex justify-start mb-4 animate-in slide-in-from-left-2 duration-300",children:a.jsx("div",{className:"bg-gradient-to-br from-gray-100 via-gray-50 to-gray-100 rounded-2xl px-5 py-3 border border-gray-200/60 shadow-lg backdrop-blur-sm",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce shadow-sm"}),a.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce delay-100 shadow-sm"}),a.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce delay-200 shadow-sm"})]}),a.jsx("span",{className:"text-xs text-gray-600 font-medium ml-2",children:"typing..."})]})})}),a.jsx("div",{ref:Y})]}),a.jsx("div",{className:"border-t border-gray-200/60 p-4 bg-gradient-to-r from-white via-gray-50/30 to-white backdrop-blur-sm message-input-mobile",children:a.jsxs("div",{className:"flex items-end space-x-2 sm:space-x-3",children:[a.jsx("button",{onClick:()=>{var nt;return(nt=V.current)==null?void 0:nt.click()},disabled:F,className:"p-2.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-xl transition-all duration-300 disabled:opacity-50 hover:scale-105 active:scale-95","aria-label":"Attach file",children:F?a.jsx(Gd,{className:"animate-spin h-5 w-5"}):a.jsx(ON,{className:"w-5 h-5 transition-transform duration-200 hover:rotate-12"})}),a.jsx("div",{className:"flex-1",children:a.jsx("textarea",{value:m,onChange:be,onKeyPress:Te,placeholder:"Type a message...",className:"w-full p-3 border border-gray-300/60 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-300 text-sm bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white hover:border-gray-400/80 placeholder:text-gray-500 min-h-[44px] max-sm:text-base",rows:"1",disabled:b,"aria-label":"Type your message"})}),a.jsx("button",{onClick:ie,disabled:!m.trim()||b,className:"p-3 bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white rounded-xl hover:from-black hover:via-gray-900 hover:to-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95 disabled:hover:scale-100","aria-label":"Send message",children:a.jsx(h1,{className:"w-5 h-5 transition-transform duration-200 group-hover:translate-x-0.5"})})]})}),k&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl border border-gray-200 m-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Rate this conversation"}),a.jsx("div",{className:"flex space-x-2 mb-6 justify-center",children:[1,2,3,4,5].map(nt=>a.jsx("button",{onClick:()=>oe(nt),className:"p-1 hover:scale-110 transition-transform duration-200",children:a.jsx(Wr,{className:`w-8 h-8 transition-colors duration-200 ${nt<=M?"text-yellow-400 fill-current":"text-gray-300 hover:text-yellow-200"}`})},nt))}),a.jsx("div",{className:"flex space-x-3",children:a.jsx("button",{onClick:()=>P(!1),className:"flex-1 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:"Cancel"})})]})}),a.jsx("input",{ref:V,type:"file",accept:"image/*",onChange:re,className:"hidden"})]}),u&&j>0&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-bounce border-2 border-white",children:j>9?"9+":j})]}):a.jsx(qe,{})})},ZX=()=>{var C,E;const{id:t}=l1(),[r,n]=te.useState(null),[s,i]=te.useState(null),[o,l]=te.useState(!0),[c,u]=te.useState(1),[d,A]=te.useState(""),[f,h]=te.useState(""),[p,m]=te.useState([]),{addToOrder:g}=ld(),{user:b}=On(),y=Hs();te.useEffect(()=>{x(),v()},[t]),te.useEffect(()=>{var S,k,P,M;r&&(((k=(S=r.variants)==null?void 0:S.colors)==null?void 0:k.length)>0&&A(r.variants.colors[0].name),((M=(P=r.variants)==null?void 0:P.sizes)==null?void 0:M.length)>0&&h(r.variants.sizes[0].name))},[r]);const x=async()=>{try{const k=await(await fetch(`http://localhost:10000/api/products/${t}`)).json();if(n(k),k.storeId){const M=await(await fetch(`http://localhost:10000/api/stores/${k.storeId}`)).json();i(M.store)}}catch(S){console.error("Error fetching product:",S)}finally{l(!1)}},v=async()=>{try{const S=await fetch(`http://localhost:10000/api/reviews/store/${t}`);if(S.ok){const k=await S.json();m(k||[])}}catch(S){console.error("Error fetching reviews:",S),m([])}},w=()=>r!=null&&r.variants?{color:d,size:f,price:r.price}:null,_=()=>{var P,M,H,F;const S=((M=(P=r==null?void 0:r.variants)==null?void 0:P.colors)==null?void 0:M.length)>0,k=((F=(H=r==null?void 0:r.variants)==null?void 0:H.sizes)==null?void 0:F.length)>0;return!(S&&!d||k&&!f)},B=()=>{var k;if(!b){y("/login");return}if(b.role!=="customer"){alert("Only customers can add items to cart");return}if(!_()){alert("Please select all product variants");return}const S={...r,storeId:((k=r.storeId)==null?void 0:k._id)||r.storeId,selectedVariants:w()};g(S,c),y("/cart")},N=()=>{var k;if(!b){y("/login");return}if(b.role!=="customer"){alert("Only customers can add items to cart");return}if(!_()){alert("Please select all product variants");return}const S={...r,storeId:((k=r.storeId)==null?void 0:k._id)||r.storeId,selectedVariants:w()};g(S,c),alert("Product added to cart!")},j=S=>{const k=c+S;k>=1&&k<=r.stock&&u(k)};return o?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black"})}):r?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-6",children:a.jsxs($t,{to:"/products",className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors",children:[a.jsx(Gl,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Products"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsx("div",{children:a.jsx(G8,{images:r.images,title:r.title})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.title}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[a.jsx(Ku,{className:"w-4 h-4"}),a.jsx("span",{className:"capitalize",children:r.category}),r.subcategory&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"›"}),a.jsx("span",{className:"capitalize",children:r.subcategory})]}),r.childCategory&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"›"}),a.jsx("span",{className:"capitalize",children:r.childCategory})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Wr,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),a.jsxs("span",{className:"text-gray-600",children:[r.rating||0," (",p.length," reviews)"]})]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(zl,{className:"w-4 h-4 text-gray-600"}),a.jsxs("span",{className:"text-gray-600",children:[r.orders||0," orders"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsxs("p",{className:"text-4xl font-bold text-black",children:[Lr(r.price),a.jsx("span",{className:"text-lg text-gray-500 ml-2",children:r.priceType==="hourly"?"/hour":""})]}),r.oldPrice&&r.oldPrice>r.price&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-2xl text-gray-500 line-through",children:Lr(r.oldPrice)}),a.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded text-sm font-semibold",children:[Math.round((r.oldPrice-r.price)/r.oldPrice*100),"% OFF"]})]})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:s!=null&&s.profileImage?a.jsx("img",{src:s.profileImage,alt:r.storeId.name,className:"w-12 h-12 rounded-full object-cover"}):a.jsx(li,{className:"w-6 h-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx($t,{to:`/store/${r.storeId._id}`,className:"font-semibold text-black hover:text-gray-700 transition-colors",children:r.storeId.name}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[(s==null?void 0:s.isVerified)&&a.jsxs("span",{className:"flex items-center text-green-600 text-xs",children:[a.jsx(Kn,{className:"w-3 h-3 mr-1"}),"Verified"]}),a.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:(s==null?void 0:s.storeLevel)||"Bronze"})]})]})]}),a.jsxs("div",{className:"text-right text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-yellow-500",children:[a.jsx(Wr,{className:"w-4 h-4 fill-current"}),a.jsx("span",{children:(s==null?void 0:s.rating)||0})]}),a.jsxs("p",{className:"text-gray-600",children:[(s==null?void 0:s.completionRate)||0,"% completion"]})]})]}),(s==null?void 0:s.contactInfo)&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(ql,{className:"w-4 h-4"}),a.jsx("span",{children:s.contactInfo.address})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[a.jsx(cd,{className:"w-4 h-4"}),a.jsx("span",{children:s.contactInfo.phone})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[a.jsx(Wl,{className:"w-4 h-4"}),a.jsx("span",{children:s.contactInfo.email})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Description"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description})]}),r.variants&&(((C=r.variants.colors)==null?void 0:C.length)>0||((E=r.variants.sizes)==null?void 0:E.length)>0)&&a.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Product Options"}),r.variants.colors&&r.variants.colors.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Color"}),a.jsx("span",{className:"text-sm text-gray-600 capitalize font-medium",children:d})]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:r.variants.colors.map(S=>a.jsxs("button",{onClick:()=>A(S.name),className:`relative w-14 h-14 rounded-full border-2 transition-all transform hover:scale-110 hover:shadow-lg ${d===S.name?"border-black shadow-xl ring-2 ring-gray-200":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:S.hex},title:S.name,children:[d===S.name&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(gh,{className:`w-6 h-6 ${S.hex==="#FFFFFF"||S.hex==="#ffffff"||S.name.toLowerCase()==="white"?"text-gray-800":"text-white"}`})}),a.jsx("span",{className:"sr-only",children:S.name})]},S.name))})]}),r.variants.sizes&&r.variants.sizes.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Size"}),a.jsx("span",{className:"text-sm text-gray-600 uppercase font-medium",children:f})]}),a.jsx("div",{className:"grid grid-cols-4 gap-3",children:r.variants.sizes.map(S=>a.jsxs("button",{onClick:()=>h(S.name),disabled:!S.inStock,className:`relative py-3 px-4 text-sm font-medium rounded-lg border-2 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none ${f===S.name?"border-black bg-black text-white shadow-lg":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[a.jsx("span",{className:"uppercase",children:S.name}),!S.inStock&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-0.5 bg-red-400 transform rotate-45"})})]},S.name))}),a.jsx("button",{className:"text-sm text-gray-600 hover:text-black underline underline-offset-2 transition-colors mt-2",children:"Size Guide"})]}),(d||f)&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected:"}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[d&&a.jsxs("span",{className:"capitalize",children:["Color:"," ",a.jsx("span",{className:"font-medium",children:d})]}),f&&a.jsxs("span",{className:"uppercase",children:["Size:"," ",a.jsx("span",{className:"font-medium",children:f})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Stock Status"}),a.jsx("span",{className:`text-sm font-medium ${r.stock>0?"text-green-600":"text-red-600"}`,children:r.stock>0?`${r.stock} available`:"Out of stock"})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-black h-2 rounded-full transition-all",style:{width:`${Math.min(r.stock/100*100,100)}%`}})})]}),r.stock>0&&(b==null?void 0:b.role)==="customer"&&a.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quantity"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>j(-1),disabled:c<=1,className:"w-12 h-12 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(g8,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-2xl font-semibold w-12 text-center",children:c}),a.jsx("button",{onClick:()=>j(1),disabled:c>=r.stock,className:"w-12 h-12 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Eo,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("button",{onClick:N,disabled:!_(),className:"flex-1 bg-black text-white py-4 px-6 rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center space-x-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(gA,{className:"w-5 h-5"}),a.jsx("span",{children:"Add to Cart"})]}),a.jsxs("button",{onClick:B,disabled:!_(),className:"bg-white border-2 border-black text-black py-4 px-6 rounded-lg hover:bg-black hover:text-white transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:["Buy Now - ",Lr(r.price)]})]}),!_()&&a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:a.jsx("p",{className:"text-amber-800 text-sm font-medium",children:"Please select all product options before adding to cart"})})]}),r.stock===0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[a.jsx("p",{className:"text-red-800 font-semibold text-lg",children:"Out of Stock"}),a.jsx("p",{className:"text-red-600",children:"This item is currently unavailable."})]}),(b==null?void 0:b.role)!=="customer"&&b&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:[a.jsx("p",{className:"text-yellow-800 font-semibold",children:"Store Owner Account"}),a.jsx("p",{className:"text-yellow-600",children:"Only customers can purchase products."})]})]})]})]}),a.jsx("div",{className:"py-16 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Customer Reviews"}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((S,k)=>a.jsx(Wr,{className:`w-5 h-5 ${k<Math.floor(s.rating||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},k))}),a.jsx("span",{className:"text-lg font-semibold",children:s.rating||0}),a.jsxs("span",{className:"text-gray-600",children:["(",p.length," reviews)"]})]})})]}),p.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Reviews Yet"}),a.jsx("p",{className:"text-gray-600",children:"Be the first to review this store!"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Review Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:s.rating||0}),a.jsx("div",{className:"flex justify-center mb-2",children:[...Array(5)].map((S,k)=>a.jsx(Wr,{className:`w-5 h-5 ${k<Math.floor(s.rating||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},k))}),a.jsxs("p",{className:"text-gray-600",children:[p.length," total reviews"]})]})}),a.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(S=>{const k=p.filter(M=>M.rating===S).length,P=p.length>0?k/p.length*100:0;return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm w-8",children:[S,"★"]}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${P}%`}})}),a.jsx("span",{className:"text-sm text-gray-600 w-8",children:k})]},S)})})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(S=>{var k;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:maskCustomerName(((k=S.customerId)==null?void 0:k.name)||"Anonymous")}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((P,M)=>a.jsx(Wr,{className:`w-4 h-4 ${M<S.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},M))}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(S.createdAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"text-right",children:[S.orderId&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Product Order"}),S.bookingId&&a.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"product Booking"})]})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:S.comment}),S.response&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-black",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Store Response"}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(S.response.respondedAt).toLocaleDateString()})]}),a.jsx("p",{className:"text-gray-700",children:S.response.message})]})]},S._id)})})]})]})}),b&&b.role==="customer"&&a.jsx(iP,{storeId:r.storeId,productId:r._id,position:"bottom-left",user:b})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product not found"}),a.jsx($t,{to:"/products",className:"text-black hover:text-gray-700",children:"Back to Products"})]})})};var aP={exports:{}},eJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tJ=eJ,rJ=tJ;function oP(){}function lP(){}lP.resetWarningCache=oP;var nJ=function(){function t(s,i,o,l,c,u){if(u!==rJ){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function r(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:r,element:t,elementType:t,instanceOf:r,node:t,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:lP,resetWarningCache:oP};return n.PropTypes=n,n};aP.exports=nJ();var sJ=aP.exports;const _t=gm(sJ);function cP(t){var r,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(n=cP(t[r]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function y1(){for(var t,r,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(r=cP(t))&&(s&&(s+=" "),s+=r);return s}const iJ=(t,r,n,s)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),o=Object.getOwnPropertyDescriptor(r,n);!aJ(i,o)&&s||Object.defineProperty(t,n,o)},aJ=function(t,r){return t===void 0||t.configurable||t.writable===r.writable&&t.enumerable===r.enumerable&&t.configurable===r.configurable&&(t.writable||t.value===r.value)},oJ=(t,r)=>{const n=Object.getPrototypeOf(r);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},lJ=(t,r)=>`/* Wrapped ${t}*/
${r}`,cJ=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),uJ=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),dJ=(t,r,n)=>{const s=n===""?"":`with ${n.trim()}() `,i=lJ.bind(null,s,r.toString());Object.defineProperty(i,"name",uJ),Object.defineProperty(t,"toString",{...cJ,value:i})},AJ=(t,r,{ignoreNonConfigurable:n=!1}={})=>{const{name:s}=t;for(const i of Reflect.ownKeys(r))iJ(t,r,i,n);return oJ(t,r),dJ(t,r,s),t};var fJ=AJ,K5={exports:{}},hJ=()=>{const t={};return t.promise=new Promise((r,n)=>{t.resolve=r,t.reject=n}),t};(function(t,r){var n=wl&&wl.__awaiter||function(l,c,u,d){return new(u||(u=Promise))(function(A,f){function h(g){try{m(d.next(g))}catch(b){f(b)}}function p(g){try{m(d.throw(g))}catch(b){f(b)}}function m(g){g.done?A(g.value):new u(function(b){b(g.value)}).then(h,p)}m((d=d.apply(l,c||[])).next())})},s=wl&&wl.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(r,"__esModule",{value:!0});const i=s(hJ);function o(l,c="maxAge"){let u,d,A;const f=()=>n(this,void 0,void 0,function*(){if(u!==void 0)return;const m=g=>n(this,void 0,void 0,function*(){A=i.default();const b=g[1][c]-Date.now();if(b<=0){l.delete(g[0]),A.resolve();return}return u=g[0],d=setTimeout(()=>{l.delete(g[0]),A&&A.resolve()},b),typeof d.unref=="function"&&d.unref(),A.promise});try{for(const g of l)yield m(g)}catch{}u=void 0}),h=()=>{u=void 0,d!==void 0&&(clearTimeout(d),d=void 0),A!==void 0&&(A.reject(void 0),A=void 0)},p=l.set.bind(l);return l.set=(m,g)=>{l.has(m)&&l.delete(m);const b=p(m,g);return u&&u===m&&h(),f(),b},f(),l}r.default=o,t.exports=o,t.exports.default=o})(K5,K5.exports);var pJ=K5.exports;const mJ=fJ,gJ=pJ,fw=new WeakMap,uP=new WeakMap,av=(t,{cacheKey:r,cache:n=new Map,maxAge:s}={})=>{typeof s=="number"&&gJ(n);const i=function(...o){const l=r?r(o):o[0],c=n.get(l);if(c)return c.data;const u=t.apply(this,o);return n.set(l,{data:u,maxAge:s?Date.now()+s:Number.POSITIVE_INFINITY}),u};return mJ(i,t,{ignoreNonConfigurable:!0}),uP.set(i,n),i};av.decorator=(t={})=>(r,n,s)=>{const i=r[n];if(typeof i!="function")throw new TypeError("The decorated value must be a function");delete s.value,delete s.writable,s.get=function(){if(!fw.has(this)){const o=av(i,t);return fw.set(this,o),o}return fw.get(this)}};av.clear=t=>{const r=uP.get(t);if(!r)throw new TypeError("Can't clear a function that was not memoized!");if(typeof r.clear!="function")throw new TypeError("The cache Map can't be cleared!");r.clear()};var yJ=av;const dP=gm(yJ);function xJ(t){return typeof t=="string"}function vJ(t,r,n){return n.indexOf(t)===r}function bJ(t){return t.toLowerCase()===t}function u_(t){return t.indexOf(",")===-1?t:t.split(",")}function G5(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var r=t.split(".")[0],n=r===void 0?"":r;return G5(n)}if(t.indexOf("@")!==-1){var s=t.split("@")[0],n=s===void 0?"":s;return G5(n)}if(t.indexOf("-")===-1||!bJ(t))return t;var i=t.split("-"),o=i[0],l=i[1],c=l===void 0?"":l;return"".concat(o,"-").concat(c.toUpperCase())}function wJ(t){var r=t===void 0?{}:t,n=r.useFallbackLocale,s=n===void 0?!0:n,i=r.fallbackLocale,o=i===void 0?"en-US":i,l=[];if(typeof navigator<"u"){for(var c=navigator.languages||[],u=[],d=0,A=c;d<A.length;d++){var f=A[d];u=u.concat(u_(f))}var h=navigator.language,p=h&&u_(h);l=l.concat(u,p)}return s&&l.push(o),l.filter(xJ).map(G5).filter(vJ)}var jJ=dP(wJ,{cacheKey:JSON.stringify});function NJ(t){return jJ(t)[0]||null}var AP=dP(NJ,{cacheKey:JSON.stringify});function Dc(t,r,n){return function(i,o){o===void 0&&(o=n);var l=t(i)+o;return r(l)}}function Fm(t){return function(n){return new Date(t(n).getTime()-1)}}function Im(t,r){return function(s){return[t(s),r(s)]}}function cs(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var r=parseInt(t,10);if(typeof t=="string"&&!isNaN(r))return r;throw new Error("Failed to get year from date: ".concat(t,"."))}function ud(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function x1(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function Ph(t){var r=cs(t),n=r+(-r+1)%100,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}var SJ=Dc(cs,Ph,-100),fP=Dc(cs,Ph,100),$N=Fm(fP),BJ=Dc(cs,$N,-100),hP=Im(Ph,$N);function dd(t){var r=cs(t),n=r+(-r+1)%10,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}var pP=Dc(cs,dd,-10),HN=Dc(cs,dd,10),v1=Fm(HN),mP=Dc(cs,v1,-10),gP=Im(dd,v1);function Lh(t){var r=cs(t),n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}var yP=Dc(cs,Lh,-1),VN=Dc(cs,Lh,1),b1=Fm(VN),xP=Dc(cs,b1,-1),CJ=Im(Lh,b1);function zN(t,r){return function(s,i){i===void 0&&(i=r);var o=cs(s),l=ud(s)+i,c=new Date;return c.setFullYear(o,l,1),c.setHours(0,0,0,0),t(c)}}function CA(t){var r=cs(t),n=ud(t),s=new Date;return s.setFullYear(r,n,1),s.setHours(0,0,0,0),s}var vP=zN(CA,-1),KN=zN(CA,1),Pm=Fm(KN),bP=zN(Pm,-1),_J=Im(CA,Pm);function EJ(t,r){return function(s,i){i===void 0&&(i=r);var o=cs(s),l=ud(s),c=x1(s)+i,u=new Date;return u.setFullYear(o,l,c),u.setHours(0,0,0,0),t(u)}}function Lm(t){var r=cs(t),n=ud(t),s=x1(t),i=new Date;return i.setFullYear(r,n,s),i.setHours(0,0,0,0),i}var kJ=EJ(Lm,1),GN=Fm(kJ),TJ=Im(Lm,GN);function wP(t){return x1(Pm(t))}var yp,rs={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},kf={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},OJ=(yp={},yp[rs.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],yp[rs.HEBREW]=["he","he-IL"],yp[rs.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],yp),WN=[0,1,2,3,4,5,6],hw=new Map;function FJ(t){return function(n,s){var i=n||AP();hw.has(i)||hw.set(i,new Map);var o=hw.get(i);return o.has(t)||o.set(t,new Intl.DateTimeFormat(i||void 0,t).format),o.get(t)(s)}}function IJ(t){var r=new Date(t);return new Date(r.setHours(12))}function _A(t){return function(r,n){return FJ(t)(r,IJ(n))}}var PJ={day:"numeric"},LJ={day:"numeric",month:"long",year:"numeric"},DJ={month:"long"},UJ={month:"long",year:"numeric"},RJ={weekday:"short"},MJ={weekday:"long"},QJ={year:"numeric"},$J=_A(PJ),HJ=_A(LJ),VJ=_A(DJ),jP=_A(UJ),zJ=_A(RJ),KJ=_A(MJ),w1=_A(QJ),GJ=WN[0],WJ=WN[5],d_=WN[6];function q0(t,r){r===void 0&&(r=rs.ISO_8601);var n=t.getDay();switch(r){case rs.ISO_8601:return(n+6)%7;case rs.ISLAMIC:return(n+1)%7;case rs.HEBREW:case rs.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function qJ(t){var r=Ph(t);return cs(r)}function YJ(t){var r=dd(t);return cs(r)}function W5(t,r){r===void 0&&(r=rs.ISO_8601);var n=cs(t),s=ud(t),i=t.getDate()-q0(t,r);return new Date(n,s,i)}function XJ(t,r){r===void 0&&(r=rs.ISO_8601);var n=r===rs.GREGORY?rs.GREGORY:rs.ISO_8601,s=W5(t,r),i=cs(t)+1,o,l;do o=new Date(i,0,n===rs.ISO_8601?4:1),l=W5(o,r),i-=1;while(t<l);return Math.round((s.getTime()-l.getTime())/(864e5*7))+1}function Yd(t,r){switch(t){case"century":return Ph(r);case"decade":return dd(r);case"year":return Lh(r);case"month":return CA(r);case"day":return Lm(r);default:throw new Error("Invalid rangeType: ".concat(t))}}function JJ(t,r){switch(t){case"century":return SJ(r);case"decade":return pP(r);case"year":return yP(r);case"month":return vP(r);default:throw new Error("Invalid rangeType: ".concat(t))}}function NP(t,r){switch(t){case"century":return fP(r);case"decade":return HN(r);case"year":return VN(r);case"month":return KN(r);default:throw new Error("Invalid rangeType: ".concat(t))}}function ZJ(t,r){switch(t){case"decade":return pP(r,-100);case"year":return yP(r,-10);case"month":return vP(r,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function eZ(t,r){switch(t){case"decade":return HN(r,100);case"year":return VN(r,10);case"month":return KN(r,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function SP(t,r){switch(t){case"century":return $N(r);case"decade":return v1(r);case"year":return b1(r);case"month":return Pm(r);case"day":return GN(r);default:throw new Error("Invalid rangeType: ".concat(t))}}function tZ(t,r){switch(t){case"century":return BJ(r);case"decade":return mP(r);case"year":return xP(r);case"month":return bP(r);default:throw new Error("Invalid rangeType: ".concat(t))}}function rZ(t,r){switch(t){case"decade":return mP(r,-100);case"year":return xP(r,-10);case"month":return bP(r,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function A_(t,r){switch(t){case"century":return hP(r);case"decade":return gP(r);case"year":return CJ(r);case"month":return _J(r);case"day":return TJ(r);default:throw new Error("Invalid rangeType: ".concat(t))}}function nZ(t,r,n){var s=[r,n].sort(function(i,o){return i.getTime()-o.getTime()});return[Yd(t,s[0]),SP(t,s[1])]}function BP(t,r,n){return r===void 0&&(r=w1),n.map(function(s){return r(t,s)}).join(" – ")}function sZ(t,r,n){return BP(t,r,hP(n))}function CP(t,r,n){return BP(t,r,gP(n))}function iZ(t){return t.getDay()===new Date().getDay()}function _P(t,r){r===void 0&&(r=rs.ISO_8601);var n=t.getDay();switch(r){case rs.ISLAMIC:case rs.HEBREW:return n===WJ||n===d_;case rs.ISO_8601:case rs.GREGORY:return n===d_||n===GJ;default:throw new Error("Unsupported calendar type.")}}var pl="react-calendar__navigation";function aZ(t){var r=t.activeStartDate,n=t.drillUp,s=t.formatMonthYear,i=s===void 0?jP:s,o=t.formatYear,l=o===void 0?w1:o,c=t.locale,u=t.maxDate,d=t.minDate,A=t.navigationAriaLabel,f=A===void 0?"":A,h=t.navigationAriaLive,p=t.navigationLabel,m=t.next2AriaLabel,g=m===void 0?"":m,b=t.next2Label,y=b===void 0?"»":b,x=t.nextAriaLabel,v=x===void 0?"":x,w=t.nextLabel,_=w===void 0?"›":w,B=t.prev2AriaLabel,N=B===void 0?"":B,j=t.prev2Label,C=j===void 0?"«":j,E=t.prevAriaLabel,S=E===void 0?"":E,k=t.prevLabel,P=k===void 0?"‹":k,M=t.setActiveStartDate,H=t.showDoubleView,F=t.view,Q=t.views,K=Q.indexOf(F)>0,Y=F!=="century",V=JJ(F,r),I=Y?ZJ(F,r):void 0,O=NP(F,r),R=Y?eZ(F,r):void 0,U=function(){if(V.getFullYear()<0)return!0;var X=tZ(F,r);return d&&d>=X}(),T=Y&&function(){if(I.getFullYear()<0)return!0;var X=rZ(F,r);return d&&d>=X}(),z=u&&u<O,G=Y&&u&&u<R;function J(){M(V,"prev")}function ee(){M(I,"prev2")}function fe(){M(O,"next")}function de(){M(R,"next2")}function ae(X){var ie=function(){switch(F){case"century":return sZ(c,l,X);case"decade":return CP(c,l,X);case"year":return l(c,X);case"month":return i(c,X);default:throw new Error("Invalid view: ".concat(F,"."))}}();return p?p({date:X,label:ie,locale:c||AP()||void 0,view:F}):ie}function xe(){var X="".concat(pl,"__label");return wt.createElement("button",{"aria-label":f,"aria-live":h,className:X,disabled:!K,onClick:n,style:{flexGrow:1},type:"button"},wt.createElement("span",{className:"".concat(X,"__labelText ").concat(X,"__labelText--from")},ae(r)),H?wt.createElement(wt.Fragment,null,wt.createElement("span",{className:"".concat(X,"__divider")}," – "),wt.createElement("span",{className:"".concat(X,"__labelText ").concat(X,"__labelText--to")},ae(O))):null)}return wt.createElement("div",{className:pl},C!==null&&Y?wt.createElement("button",{"aria-label":N,className:"".concat(pl,"__arrow ").concat(pl,"__prev2-button"),disabled:T,onClick:ee,type:"button"},C):null,P!==null&&wt.createElement("button",{"aria-label":S,className:"".concat(pl,"__arrow ").concat(pl,"__prev-button"),disabled:U,onClick:J,type:"button"},P),xe(),_!==null&&wt.createElement("button",{"aria-label":v,className:"".concat(pl,"__arrow ").concat(pl,"__next-button"),disabled:z,onClick:fe,type:"button"},_),y!==null&&Y?wt.createElement("button",{"aria-label":g,className:"".concat(pl,"__arrow ").concat(pl,"__next2-button"),disabled:G,onClick:de,type:"button"},y):null)}var Tf=function(){return Tf=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Tf.apply(this,arguments)},oZ=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};function f_(t){return"".concat(t,"%")}function qN(t){var r=t.children,n=t.className,s=t.count,i=t.direction,o=t.offset,l=t.style,c=t.wrap,u=oZ(t,["children","className","count","direction","offset","style","wrap"]);return wt.createElement("div",Tf({className:n,style:Tf({display:"flex",flexDirection:i,flexWrap:c?"wrap":"nowrap"},l)},u),wt.Children.map(r,function(d,A){var f=o&&A===0?f_(100*o/s):null;return wt.cloneElement(d,Tf(Tf({},d.props),{style:{flexBasis:f_(100/s),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:f,marginInlineStart:f,marginInlineEnd:0}}))}))}var lZ=function(){},cZ=lZ;const uZ=gm(cZ);var YA;function dZ(t,r,n){return r&&r>t?r:n&&n<t?n:t}function Y0(t,r){return r[0]<=t&&r[1]>=t}function AZ(t,r){return t[0]<=r[0]&&t[1]>=r[1]}function EP(t,r){return Y0(t[0],r)||Y0(t[1],r)}function h_(t,r,n){var s=EP(r,t),i=[];if(s){i.push(n);var o=Y0(t[0],r),l=Y0(t[1],r);o&&i.push("".concat(n,"Start")),l&&i.push("".concat(n,"End")),o&&l&&i.push("".concat(n,"BothEnds"))}return i}function fZ(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function hZ(t){if(!t)throw new Error("args is required");var r=t.value,n=t.date,s=t.hover,i="react-calendar__tile",o=[i];if(!n)return o;var l=new Date,c=function(){if(Array.isArray(n))return n;var p=t.dateType;if(!p)throw new Error("dateType is required when date is not an array of two dates");return A_(p,n)}();if(Y0(l,c)&&o.push("".concat(i,"--now")),!r||!fZ(r))return o;var u=function(){if(Array.isArray(r))return r;var p=t.valueType;if(!p)throw new Error("valueType is required when value is not an array of two dates");return A_(p,r)}();AZ(u,c)?o.push("".concat(i,"--active")):EP(u,c)&&o.push("".concat(i,"--hasActive"));var d=h_(u,c,"".concat(i,"--range"));o.push.apply(o,d);var A=Array.isArray(r)?r:[r];if(s&&A.length===1){var f=s>u[0]?[u[0],s]:[s,u[0]],h=h_(f,c,"".concat(i,"--hover"));o.push.apply(o,h)}return o}var pZ=(YA={},YA[kf.ARABIC]=rs.ISLAMIC,YA[kf.HEBREW]=rs.HEBREW,YA[kf.ISO_8601]=rs.ISO_8601,YA[kf.US]=rs.GREGORY,YA);function mZ(t){return t!==void 0&&t in kf}var p_=!1;function j1(t){if(mZ(t)){var r=pZ[t];return uZ(p_,'Specifying calendarType="'.concat(t,'" is deprecated. Use calendarType="').concat(r,'" instead.')),p_=!0,r}return t}function N1(t){for(var r=t.className,n=t.count,s=n===void 0?3:n,i=t.dateTransform,o=t.dateType,l=t.end,c=t.hover,u=t.offset,d=t.renderTile,A=t.start,f=t.step,h=f===void 0?1:f,p=t.value,m=t.valueType,g=[],b=A;b<=l;b+=h){var y=i(b);g.push(d({classes:hZ({date:y,dateType:o,hover:c,value:p,valueType:m}),date:y}))}return wt.createElement(qN,{className:r,count:s,offset:u,wrap:!0},g)}function S1(t){var r=t.activeStartDate,n=t.children,s=t.classes,i=t.date,o=t.formatAbbr,l=t.locale,c=t.maxDate,u=t.maxDateTransform,d=t.minDate,A=t.minDateTransform,f=t.onClick,h=t.onMouseOver,p=t.style,m=t.tileClassName,g=t.tileContent,b=t.tileDisabled,y=t.view,x=te.useMemo(function(){var w={activeStartDate:r,date:i,view:y};return typeof m=="function"?m(w):m},[r,i,m,y]),v=te.useMemo(function(){var w={activeStartDate:r,date:i,view:y};return typeof g=="function"?g(w):g},[r,i,g,y]);return wt.createElement("button",{className:y1(s,x),disabled:d&&A(d)>i||c&&u(c)<i||b&&b({activeStartDate:r,date:i,view:y}),onClick:f?function(w){return f(i,w)}:void 0,onFocus:h?function(){return h(i)}:void 0,onMouseOver:h?function(){return h(i)}:void 0,style:p,type:"button"},o?wt.createElement("abbr",{"aria-label":o(l,i)},n):n,v)}var q5=function(){return q5=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},q5.apply(this,arguments)},gZ=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n},m_="react-calendar__century-view__decades__decade";function yZ(t){var r=t.classes,n=r===void 0?[]:r,s=t.currentCentury,i=t.formatYear,o=i===void 0?w1:i,l=gZ(t,["classes","currentCentury","formatYear"]),c=l.date,u=l.locale,d=[];return n&&d.push.apply(d,n),d.push(m_),Ph(c).getFullYear()!==s&&d.push("".concat(m_,"--neighboringCentury")),wt.createElement(S1,q5({},l,{classes:d,maxDateTransform:v1,minDateTransform:dd,view:"century"}),CP(u,o,c))}var Y5=function(){return Y5=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Y5.apply(this,arguments)},g_=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};function xZ(t){var r=t.activeStartDate,n=t.hover,s=t.showNeighboringCentury,i=t.value,o=t.valueType,l=g_(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),c=qJ(r),u=c+(s?119:99);return wt.createElement(N1,{className:"react-calendar__century-view__decades",dateTransform:dd,dateType:"decade",end:u,hover:n,renderTile:function(d){var A=d.date,f=g_(d,["date"]);return wt.createElement(yZ,Y5({key:A.getTime()},l,f,{activeStartDate:r,currentCentury:c,date:A}))},start:c,step:10,value:i,valueType:o})}var y_=function(t,r,n){if(n||arguments.length===2)for(var s=0,i=r.length,o;s<i;s++)(o||!(s in r))&&(o||(o=Array.prototype.slice.call(r,0,s)),o[s]=r[s]);return t.concat(o||Array.prototype.slice.call(r))},vZ=Object.values(rs),bZ=Object.values(kf),X5=["century","decade","year","month"],kP=_t.oneOf(y_(y_([],vZ,!0),bZ,!0)),ov=_t.oneOfType([_t.string,_t.arrayOf(_t.string)]),YN=function(r,n,s){var i=r,o=n,l=i[o];if(!l)return null;if(!(l instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof l,"` supplied to `").concat(s,"`, expected instance of `Date`."));var c=r.maxDate;return c&&l>c?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof l,"` supplied to `").concat(s,"`, minDate cannot be larger than maxDate.")):null},XN=function(r,n,s){var i=r,o=n,l=i[o];if(!l)return null;if(!(l instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof l,"` supplied to `").concat(s,"`, expected instance of `Date`."));var c=r.minDate;return c&&l<c?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof l,"` supplied to `").concat(s,"`, maxDate cannot be smaller than minDate.")):null},wZ=_t.oneOfType([_t.func,_t.exact({current:_t.any})]),jZ=_t.arrayOf(_t.oneOfType([_t.instanceOf(Date),_t.oneOf([null])]).isRequired),NZ=_t.oneOfType([_t.instanceOf(Date),_t.oneOf([null]),jZ]);_t.arrayOf(_t.oneOf(X5));var lv=function(r,n,s){var i=r,o=n,l=i[o];return l!==void 0&&(typeof l!="string"||X5.indexOf(l)===-1)?new Error("Invalid prop `".concat(n,"` of value `").concat(l,"` supplied to `").concat(s,"`, expected one of [").concat(X5.map(function(c){return'"'.concat(c,'"')}).join(", "),"].")):null};lv.isRequired=function(r,n,s,i,o){var l=r,c=n,u=l[c];return u?lv(r,n,s):new Error("The prop `".concat(n,"` is marked as required in `").concat(s,"`, but its value is `").concat(u,"`."))};var SZ=function(t){return _t.arrayOf(t)},B1={activeStartDate:_t.instanceOf(Date).isRequired,hover:_t.instanceOf(Date),locale:_t.string,maxDate:XN,minDate:YN,onClick:_t.func,onMouseOver:_t.func,tileClassName:_t.oneOfType([_t.func,ov]),tileContent:_t.oneOfType([_t.func,_t.node]),value:NZ,valueType:_t.oneOf(["century","decade","year","month","day"]).isRequired};_t.instanceOf(Date).isRequired,_t.arrayOf(_t.string.isRequired).isRequired,_t.instanceOf(Date).isRequired,_t.string,_t.func,_t.func,_t.objectOf(_t.oneOfType([_t.string,_t.number])),_t.oneOfType([_t.func,ov]),_t.oneOfType([_t.func,_t.node]),_t.func;var X0=function(){return X0=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},X0.apply(this,arguments)},TP=function(r){function n(){return wt.createElement(xZ,X0({},r))}return wt.createElement("div",{className:"react-calendar__century-view"},n())};TP.propTypes=X0(X0({},B1),{showNeighboringCentury:_t.bool});var J5=function(){return J5=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},J5.apply(this,arguments)},BZ=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n},x_="react-calendar__decade-view__years__year";function CZ(t){var r=t.classes,n=r===void 0?[]:r,s=t.currentDecade,i=t.formatYear,o=i===void 0?w1:i,l=BZ(t,["classes","currentDecade","formatYear"]),c=l.date,u=l.locale,d=[];return n&&d.push.apply(d,n),d.push(x_),dd(c).getFullYear()!==s&&d.push("".concat(x_,"--neighboringDecade")),wt.createElement(S1,J5({},l,{classes:d,maxDateTransform:b1,minDateTransform:Lh,view:"decade"}),o(u,c))}var Z5=function(){return Z5=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Z5.apply(this,arguments)},v_=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};function _Z(t){var r=t.activeStartDate,n=t.hover,s=t.showNeighboringDecade,i=t.value,o=t.valueType,l=v_(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),c=YJ(r),u=c+(s?11:9);return wt.createElement(N1,{className:"react-calendar__decade-view__years",dateTransform:Lh,dateType:"year",end:u,hover:n,renderTile:function(d){var A=d.date,f=v_(d,["date"]);return wt.createElement(CZ,Z5({key:A.getTime()},l,f,{activeStartDate:r,currentDecade:c,date:A}))},start:c,value:i,valueType:o})}var J0=function(){return J0=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},J0.apply(this,arguments)},OP=function(r){function n(){return wt.createElement(_Z,J0({},r))}return wt.createElement("div",{className:"react-calendar__decade-view"},n())};OP.propTypes=J0(J0({},B1),{showNeighboringDecade:_t.bool});var e4=function(){return e4=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},e4.apply(this,arguments)},EZ=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n},b_=function(t,r,n){if(n||arguments.length===2)for(var s=0,i=r.length,o;s<i;s++)(o||!(s in r))&&(o||(o=Array.prototype.slice.call(r,0,s)),o[s]=r[s]);return t.concat(o||Array.prototype.slice.call(r))},kZ="react-calendar__year-view__months__month";function TZ(t){var r=t.classes,n=r===void 0?[]:r,s=t.formatMonth,i=s===void 0?VJ:s,o=t.formatMonthYear,l=o===void 0?jP:o,c=EZ(t,["classes","formatMonth","formatMonthYear"]),u=c.date,d=c.locale;return wt.createElement(S1,e4({},c,{classes:b_(b_([],n,!0),[kZ],!1),formatAbbr:l,maxDateTransform:Pm,minDateTransform:CA,view:"year"}),i(d,u))}var t4=function(){return t4=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},t4.apply(this,arguments)},w_=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};function OZ(t){var r=t.activeStartDate,n=t.hover,s=t.value,i=t.valueType,o=w_(t,["activeStartDate","hover","value","valueType"]),l=0,c=11,u=cs(r);return wt.createElement(N1,{className:"react-calendar__year-view__months",dateTransform:function(d){var A=new Date;return A.setFullYear(u,d,1),CA(A)},dateType:"month",end:c,hover:n,renderTile:function(d){var A=d.date,f=w_(d,["date"]);return wt.createElement(TZ,t4({key:A.getTime()},o,f,{activeStartDate:r,date:A}))},start:l,value:s,valueType:i})}var cv=function(){return cv=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},cv.apply(this,arguments)},FP=function(r){function n(){return wt.createElement(OZ,cv({},r))}return wt.createElement("div",{className:"react-calendar__year-view"},n())};FP.propTypes=cv({},B1);var r4=function(){return r4=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},r4.apply(this,arguments)},FZ=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n},pw="react-calendar__month-view__days__day";function IZ(t){var r=t.calendarType,n=t.classes,s=n===void 0?[]:n,i=t.currentMonthIndex,o=t.formatDay,l=o===void 0?$J:o,c=t.formatLongDate,u=c===void 0?HJ:c,d=FZ(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),A=j1(r),f=d.date,h=d.locale,p=[];return s&&p.push.apply(p,s),p.push(pw),_P(f,A)&&p.push("".concat(pw,"--weekend")),f.getMonth()!==i&&p.push("".concat(pw,"--neighboringMonth")),wt.createElement(S1,r4({},d,{classes:p,formatAbbr:u,maxDateTransform:GN,minDateTransform:Lm,view:"month"}),l(h,f))}var n4=function(){return n4=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},n4.apply(this,arguments)},j_=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};function PZ(t){var r=t.activeStartDate,n=t.calendarType,s=t.hover,i=t.showFixedNumberOfWeeks,o=t.showNeighboringMonth,l=t.value,c=t.valueType,u=j_(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),d=j1(n),A=cs(r),f=ud(r),h=i||o,p=q0(r,d),m=h?0:p,g=(h?-p:0)+1,b=function(){if(i)return g+6*7-1;var y=wP(r);if(o){var x=new Date;x.setFullYear(A,f,y),x.setHours(0,0,0,0);var v=7-q0(x,d)-1;return y+v}return y}();return wt.createElement(N1,{className:"react-calendar__month-view__days",count:7,dateTransform:function(y){var x=new Date;return x.setFullYear(A,f,y),Lm(x)},dateType:"day",hover:s,end:b,renderTile:function(y){var x=y.date,v=j_(y,["date"]);return wt.createElement(IZ,n4({key:x.getTime()},u,v,{activeStartDate:r,calendarType:n,currentMonthIndex:f,date:x}))},offset:m,start:g,value:l,valueType:c})}var IP="react-calendar__month-view__weekdays",mw="".concat(IP,"__weekday");function LZ(t){for(var r=t.calendarType,n=t.formatShortWeekday,s=n===void 0?zJ:n,i=t.formatWeekday,o=i===void 0?KJ:i,l=t.locale,c=t.onMouseLeave,u=j1(r),d=new Date,A=CA(d),f=cs(A),h=ud(A),p=[],m=1;m<=7;m+=1){var g=new Date(f,h,m-q0(A,u)),b=o(l,g);p.push(wt.createElement("div",{key:m,className:y1(mw,iZ(g)&&"".concat(mw,"--current"),_P(g,u)&&"".concat(mw,"--weekend"))},wt.createElement("abbr",{"aria-label":b,title:b},s(l,g).replace(".",""))))}return wt.createElement(qN,{className:IP,count:7,onFocus:c,onMouseOver:c},p)}var uv=function(){return uv=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},uv.apply(this,arguments)},N_=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n},S_="react-calendar__tile";function DZ(t){var r=t.onClickWeekNumber,n=t.weekNumber,s=wt.createElement("span",null,n);if(r){var i=t.date,o=t.onClickWeekNumber,l=t.weekNumber,c=N_(t,["date","onClickWeekNumber","weekNumber"]);return wt.createElement("button",uv({},c,{className:S_,onClick:function(u){return o(l,i,u)},type:"button"}),s)}else{t.date,t.onClickWeekNumber,t.weekNumber;var c=N_(t,["date","onClickWeekNumber","weekNumber"]);return wt.createElement("div",uv({},c,{className:S_}),s)}}function UZ(t){var r=t.activeStartDate,n=t.calendarType,s=t.onClickWeekNumber,i=t.onMouseLeave,o=t.showFixedNumberOfWeeks,l=j1(n),c=function(){if(o)return 6;var A=wP(r),f=q0(r,l),h=A-(7-f);return 1+Math.ceil(h/7)}(),u=function(){for(var A=cs(r),f=ud(r),h=x1(r),p=[],m=0;m<c;m+=1)p.push(W5(new Date(A,f,h+m*7),l));return p}(),d=u.map(function(A){return XJ(A,l)});return wt.createElement(qN,{className:"react-calendar__month-view__weekNumbers",count:c,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},d.map(function(A,f){var h=u[f];if(!h)throw new Error("date is not defined");return wt.createElement(DZ,{key:A,date:h,onClickWeekNumber:s,weekNumber:A})}))}var Z0=function(){return Z0=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Z0.apply(this,arguments)},RZ=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};function MZ(t){if(t)for(var r=0,n=Object.entries(OJ);r<n.length;r++){var s=n[r],i=s[0],o=s[1];if(o.includes(t))return i}return rs.ISO_8601}var PP=function(r){var n=r.activeStartDate,s=r.locale,i=r.onMouseLeave,o=r.showFixedNumberOfWeeks,l=r.calendarType,c=l===void 0?MZ(s):l,u=r.formatShortWeekday,d=r.formatWeekday,A=r.onClickWeekNumber,f=r.showWeekNumbers,h=RZ(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function p(){return wt.createElement(LZ,{calendarType:c,formatShortWeekday:u,formatWeekday:d,locale:s,onMouseLeave:i})}function m(){return f?wt.createElement(UZ,{activeStartDate:n,calendarType:c,onClickWeekNumber:A,onMouseLeave:i,showFixedNumberOfWeeks:o}):null}function g(){return wt.createElement(PZ,Z0({calendarType:c},h))}var b="react-calendar__month-view";return wt.createElement("div",{className:y1(b,f?"".concat(b,"--weekNumbers"):"")},wt.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},m(),wt.createElement("div",{style:{flexGrow:1,width:"100%"}},p(),g())))};PP.propTypes=Z0(Z0({},B1),{calendarType:kP,formatDay:_t.func,formatLongDate:_t.func,formatShortWeekday:_t.func,formatWeekday:_t.func,onClickWeekNumber:_t.func,onMouseLeave:_t.func,showFixedNumberOfWeeks:_t.bool,showNeighboringMonth:_t.bool,showWeekNumbers:_t.bool});var Of=function(){return Of=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Of.apply(this,arguments)},Vg="react-calendar",Xf=["century","decade","year","month"],QZ=["decade","year","month","day"],JN=new Date;JN.setFullYear(1,0,1);JN.setHours(0,0,0,0);var $Z=new Date(864e13);function Pp(t){return t instanceof Date?t:new Date(t)}function LP(t,r){return Xf.slice(Xf.indexOf(t),Xf.indexOf(r)+1)}function HZ(t,r,n){var s=LP(r,n);return s.indexOf(t)!==-1}function ZN(t,r,n){return t&&HZ(t,r,n)?t:n}function DP(t){var r=Xf.indexOf(t);return QZ[r]}function VZ(t,r){var n=Array.isArray(t)?t[r]:t;if(!n)return null;var s=Pp(n);if(isNaN(s.getTime()))throw new Error("Invalid date: ".concat(t));return s}function UP(t,r){var n=t.value,s=t.minDate,i=t.maxDate,o=t.maxDetail,l=VZ(n,r);if(!l)return null;var c=DP(o),u=function(){switch(r){case 0:return Yd(c,l);case 1:return SP(c,l);default:throw new Error("Invalid index value: ".concat(r))}}();return dZ(u,s,i)}var eS=function(t){return UP(t,0)},RP=function(t){return UP(t,1)},zZ=function(t){return[eS,RP].map(function(r){return r(t)})};function MP(t){var r=t.maxDate,n=t.maxDetail,s=t.minDate,i=t.minDetail,o=t.value,l=t.view,c=ZN(l,i,n),u=eS({value:o,minDate:s,maxDate:r,maxDetail:n})||new Date;return Yd(c,u)}function KZ(t){var r=t.activeStartDate,n=t.defaultActiveStartDate,s=t.defaultValue,i=t.defaultView,o=t.maxDate,l=t.maxDetail,c=t.minDate,u=t.minDetail,d=t.value,A=t.view,f=ZN(A,u,l),h=r||n;return h?Yd(f,h):MP({maxDate:o,maxDetail:l,minDate:c,minDetail:u,value:d||s,view:A||i})}function gw(t){return t&&(!Array.isArray(t)||t.length===1)}function zg(t,r){return t instanceof Date&&r instanceof Date&&t.getTime()===r.getTime()}var QP=te.forwardRef(function(r,n){var s=r.activeStartDate,i=r.allowPartialRange,o=r.calendarType,l=r.className,c=r.defaultActiveStartDate,u=r.defaultValue,d=r.defaultView,A=r.formatDay,f=r.formatLongDate,h=r.formatMonth,p=r.formatMonthYear,m=r.formatShortWeekday,g=r.formatWeekday,b=r.formatYear,y=r.goToRangeStartOnSelect,x=y===void 0?!0:y,v=r.inputRef,w=r.locale,_=r.maxDate,B=_===void 0?$Z:_,N=r.maxDetail,j=N===void 0?"month":N,C=r.minDate,E=C===void 0?JN:C,S=r.minDetail,k=S===void 0?"century":S,P=r.navigationAriaLabel,M=r.navigationAriaLive,H=r.navigationLabel,F=r.next2AriaLabel,Q=r.next2Label,K=r.nextAriaLabel,Y=r.nextLabel,V=r.onActiveStartDateChange,I=r.onChange,O=r.onClickDay,R=r.onClickDecade,U=r.onClickMonth,T=r.onClickWeekNumber,z=r.onClickYear,G=r.onDrillDown,J=r.onDrillUp,ee=r.onViewChange,fe=r.prev2AriaLabel,de=r.prev2Label,ae=r.prevAriaLabel,xe=r.prevLabel,X=r.returnValue,ie=X===void 0?"start":X,re=r.selectRange,ve=r.showDoubleView,ke=r.showFixedNumberOfWeeks,Ce=r.showNavigation,we=Ce===void 0?!0:Ce,oe=r.showNeighboringCentury,pe=r.showNeighboringDecade,je=r.showNeighboringMonth,Te=je===void 0?!0:je,be=r.showWeekNumbers,De=r.tileClassName,qe=r.tileContent,Qe=r.tileDisabled,Re=r.value,We=r.view,Me=te.useState(c),ot=Me[0],xt=Me[1],Ft=te.useState(null),nt=Ft[0],At=Ft[1],Rt=te.useState(Array.isArray(u)?u.map(function(Be){return Be!==null?Pp(Be):null}):u!=null?Pp(u):null),Pt=Rt[0],ur=Rt[1],Ht=te.useState(d),lr=Ht[0],sr=Ht[1],Kt=s||ot||KZ({activeStartDate:s,defaultActiveStartDate:c,defaultValue:u,defaultView:d,maxDate:B,maxDetail:j,minDate:E,minDetail:k,value:Re,view:We}),Xe=function(){var Be=function(){return re&&gw(Pt)?Pt:Re!==void 0?Re:Pt}();return Be?Array.isArray(Be)?Be.map(function(Oe){return Oe!==null?Pp(Oe):null}):Be!==null?Pp(Be):null:null}(),ar=DP(j),rr=ZN(We||lr,k,j),Ke=LP(k,j),Tr=re?nt:null,Fn=Ke.indexOf(rr)<Ke.length-1,Wt=Ke.indexOf(rr)>0,Or=te.useCallback(function(Be){var Oe=function(){switch(ie){case"start":return eS;case"end":return RP;case"range":return zZ;default:throw new Error("Invalid returnValue.")}}();return Oe({maxDate:B,maxDetail:j,minDate:E,value:Be})},[B,j,E,ie]),Yr=te.useCallback(function(Be,Oe){xt(Be);var Le={action:Oe,activeStartDate:Be,value:Xe,view:rr};V&&!zg(Kt,Be)&&V(Le)},[Kt,V,Xe,rr]),hn=te.useCallback(function(Be,Oe){var Le=function(){switch(rr){case"century":return R;case"decade":return z;case"year":return U;case"month":return O;default:throw new Error("Invalid view: ".concat(rr,"."))}}();Le&&Le(Be,Oe)},[O,R,U,z,rr]),Mr=te.useCallback(function(Be,Oe){if(Fn){hn(Be,Oe);var Le=Ke[Ke.indexOf(rr)+1];if(!Le)throw new Error("Attempted to drill down from the lowest view.");xt(Be),sr(Le);var Ie={action:"drillDown",activeStartDate:Be,value:Xe,view:Le};V&&!zg(Kt,Be)&&V(Ie),ee&&rr!==Le&&ee(Ie),G&&G(Ie)}},[Kt,Fn,V,hn,G,ee,Xe,rr,Ke]),Jr=te.useCallback(function(){if(Wt){var Be=Ke[Ke.indexOf(rr)-1];if(!Be)throw new Error("Attempted to drill up from the highest view.");var Oe=Yd(Be,Kt);xt(Oe),sr(Be);var Le={action:"drillUp",activeStartDate:Oe,value:Xe,view:Be};V&&!zg(Kt,Oe)&&V(Le),ee&&rr!==Be&&ee(Le),J&&J(Le)}},[Kt,Wt,V,J,ee,Xe,rr,Ke]),q=te.useCallback(function(Be,Oe){var Le=Xe;hn(Be,Oe);var Ie=re&&!gw(Le),Ue;if(re)if(Ie)Ue=Yd(ar,Be);else{if(!Le)throw new Error("previousValue is required");if(Array.isArray(Le))throw new Error("previousValue must not be an array");Ue=nZ(ar,Le,Be)}else Ue=Or(Be);var Ve=!re||Ie||x?MP({maxDate:B,maxDetail:j,minDate:E,minDetail:k,value:Ue,view:rr}):null;Oe.persist(),xt(Ve),ur(Ue);var tt={action:"onChange",activeStartDate:Ve,value:Ue,view:rr};if(V&&!zg(Kt,Ve)&&V(tt),I)if(re){var at=gw(Ue);if(!at)I(Ue||null,Oe);else if(i){if(Array.isArray(Ue))throw new Error("value must not be an array");I([Ue||null,null],Oe)}}else I(Ue||null,Oe)},[Kt,i,Or,x,B,j,E,k,V,I,hn,re,Xe,ar,rr]);function ce(Be){At(Be)}function Z(){At(null)}te.useImperativeHandle(n,function(){return{activeStartDate:Kt,drillDown:Mr,drillUp:Jr,onChange:q,setActiveStartDate:Yr,value:Xe,view:rr}},[Kt,Mr,Jr,q,Yr,Xe,rr]);function ue(Be){var Oe=Be?NP(rr,Kt):Yd(rr,Kt),Le=Fn?Mr:q,Ie={activeStartDate:Oe,hover:Tr,locale:w,maxDate:B,minDate:E,onClick:Le,onMouseOver:re?ce:void 0,tileClassName:De,tileContent:qe,tileDisabled:Qe,value:Xe,valueType:ar};switch(rr){case"century":return wt.createElement(TP,Of({formatYear:b,showNeighboringCentury:oe},Ie));case"decade":return wt.createElement(OP,Of({formatYear:b,showNeighboringDecade:pe},Ie));case"year":return wt.createElement(FP,Of({formatMonth:h,formatMonthYear:p},Ie));case"month":return wt.createElement(PP,Of({calendarType:o,formatDay:A,formatLongDate:f,formatShortWeekday:m,formatWeekday:g,onClickWeekNumber:T,onMouseLeave:re?Z:void 0,showFixedNumberOfWeeks:typeof ke<"u"?ke:ve,showNeighboringMonth:Te,showWeekNumbers:be},Ie));default:throw new Error("Invalid view: ".concat(rr,"."))}}function me(){return we?wt.createElement(aZ,{activeStartDate:Kt,drillUp:Jr,formatMonthYear:p,formatYear:b,locale:w,maxDate:B,minDate:E,navigationAriaLabel:P,navigationAriaLive:M,navigationLabel:H,next2AriaLabel:F,next2Label:Q,nextAriaLabel:K,nextLabel:Y,prev2AriaLabel:fe,prev2Label:de,prevAriaLabel:ae,prevLabel:xe,setActiveStartDate:Yr,showDoubleView:ve,view:rr,views:Ke}):null}var ye=Array.isArray(Xe)?Xe:[Xe];return wt.createElement("div",{className:y1(Vg,re&&ye.length===1&&"".concat(Vg,"--selectRange"),ve&&"".concat(Vg,"--doubleView"),l),ref:v},me(),wt.createElement("div",{className:"".concat(Vg,"__viewContainer"),onBlur:re?Z:void 0,onMouseLeave:re?Z:void 0},ue(),ve?ue(!0):null))}),B_=_t.instanceOf(Date),C_=_t.oneOfType([_t.string,_t.instanceOf(Date)]),__=_t.oneOfType([C_,SZ(C_)]);QP.propTypes={activeStartDate:B_,allowPartialRange:_t.bool,calendarType:kP,className:ov,defaultActiveStartDate:B_,defaultValue:__,defaultView:lv,formatDay:_t.func,formatLongDate:_t.func,formatMonth:_t.func,formatMonthYear:_t.func,formatShortWeekday:_t.func,formatWeekday:_t.func,formatYear:_t.func,goToRangeStartOnSelect:_t.bool,inputRef:wZ,locale:_t.string,maxDate:XN,maxDetail:_t.oneOf(Xf),minDate:YN,minDetail:_t.oneOf(Xf),navigationAriaLabel:_t.string,navigationAriaLive:_t.oneOf(["off","polite","assertive"]),navigationLabel:_t.func,next2AriaLabel:_t.string,next2Label:_t.node,nextAriaLabel:_t.string,nextLabel:_t.node,onActiveStartDateChange:_t.func,onChange:_t.func,onClickDay:_t.func,onClickDecade:_t.func,onClickMonth:_t.func,onClickWeekNumber:_t.func,onClickYear:_t.func,onDrillDown:_t.func,onDrillUp:_t.func,onViewChange:_t.func,prev2AriaLabel:_t.string,prev2Label:_t.node,prevAriaLabel:_t.string,prevLabel:_t.node,returnValue:_t.oneOf(["start","end","range"]),selectRange:_t.bool,showDoubleView:_t.bool,showFixedNumberOfWeeks:_t.bool,showNavigation:_t.bool,showNeighboringCentury:_t.bool,showNeighboringDecade:_t.bool,showNeighboringMonth:_t.bool,showWeekNumbers:_t.bool,tileClassName:_t.oneOfType([_t.func,ov]),tileContent:_t.oneOfType([_t.func,_t.node]),tileDisabled:_t.func,value:__,view:lv};const GZ=t=>{if(!t||t==="Anonymous")return"Anonymous";const r=t.split(" ");return r.length===1?r[0].charAt(0)+"*".repeat(Math.max(0,r[0].length-1)):r[0]+" "+r[1].charAt(0)+"."},E_=(t,r,n,s=0)=>{const i=[],o=new Date(`2000-01-01T${t}:00`),l=new Date(`2000-01-01T${r}:00`),c=new Date(o);for(;c<l;){const u=new Date(c.getTime()+n*6e4);u<=l&&i.push({start:c.toTimeString().slice(0,5),end:u.toTimeString().slice(0,5),label:`${c.toTimeString().slice(0,5)} - ${u.toTimeString().slice(0,5)}`}),c.setMinutes(c.getMinutes()+n+s)}return i},yw=(t,r)=>{if(!r||r.length===0)return!0;const s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][t.getDay()];return r.includes(s)},xw=(t,r)=>{if(!r||r.length===0)return!1;const n=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),o=`${n}-${s}-${i}`;return r.some(l=>{const c=new Date(l),u=c.getFullYear(),d=String(c.getMonth()+1).padStart(2,"0"),A=String(c.getDate()).padStart(2,"0");return`${u}-${d}-${A}`===o})},XA=t=>{const r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${s}`},WZ=()=>{var I,O,R,U;const{id:t}=l1(),[r,n]=te.useState(null),[s,i]=te.useState(null),[o,l]=te.useState(!0),[c,u]=te.useState(new Date),[d,A]=te.useState(""),[f,h]=te.useState(""),[p,m]=te.useState([]),[g,b]=te.useState([]),[y,x]=te.useState([]),[v,w]=te.useState([]),[_,B]=te.useState(!1),{addToBooking:N}=ld(),{user:j}=On(),C=Hs();te.useEffect(()=>{E(),S()},[t]),te.useEffect(()=>{r&&s&&c&&M()},[c,r,s]);const E=async()=>{try{const z=await(await fetch(`http://localhost:10000/api/services/${t}`)).json();if(n(z),z.storeId){console.log("Fetching store details for:",z);const J=await(await fetch(`http://localhost:10000/api/stores/${z.storeId}`)).json();i(J.store)}}catch(T){console.error("Error fetching service:",T)}finally{l(!1)}},S=async()=>{try{const T=await fetch(`http://localhost:10000/api/reviews/store/${t}`);if(T.ok){const z=await T.json();m(z||[])}}catch(T){console.error("Error fetching reviews:",T),m([])}},k=(T,z,G,J)=>{const ee=new Date(`2000-01-01T${T}:00`),fe=new Date(`2000-01-01T${z}:00`),de=new Date(`2000-01-01T${G}:00`),ae=new Date(`2000-01-01T${J}:00`);return ee<ae&&de<fe},P=(T,z)=>{const G=new Date(T),J=new Date(z);return XA(G)===XA(J)},M=async()=>{var T,z,G;if(!(!r||!s)){B(!0);try{const J=XA(c);let ee=[];try{const re=await fetch(`http://localhost:10000/api/bookings/availability/${r.storeId}?date=${J}`);re.ok&&(ee=(await re.json()).bookings||[])}catch(re){console.warn("Could not fetch bookings, assuming no conflicts:",re),ee=[]}const fe=((T=s.serviceSettings)==null?void 0:T.workingHours)||{start:"09:00",end:"17:00"},de=((z=s.serviceSettings)==null?void 0:z.bookingBuffer)||0,ae=r.duration||60,xe=E_(fe.start,fe.end,ae,de);x(xe);const X=xe.filter(re=>!ee.some(ke=>{var pe,je,Te;const Ce=(pe=ke.bookingDetails)==null?void 0:pe.date,we=(je=ke.bookingDetails)==null?void 0:je.startTime,oe=(Te=ke.bookingDetails)==null?void 0:Te.endTime;return!Ce||!we||!oe||!P(Ce,c)?!1:k(re.start,re.end,we,oe)})),ie=ee.filter(re=>{var ve;return((ve=re.bookingDetails)==null?void 0:ve.date)&&P(re.bookingDetails.date,c)}).map(re=>{var ve;return(ve=re.bookingDetails)==null?void 0:ve.startTime}).filter(Boolean);b(X),w(ie)}catch(J){console.error("Error fetching available time slots:",J);const ee=((G=s==null?void 0:s.serviceSettings)==null?void 0:G.workingHours)||{start:"09:00",end:"17:00"},fe=(r==null?void 0:r.duration)||60,de=E_(ee.start,ee.end,fe);x(de),b(de),w([])}finally{B(!1)}}},H=()=>{var J;if(!j){C("/login");return}if(j.role!=="customer"){alert("Only customers can book services");return}if(!d){alert("Please select a time slot");return}const T=g.find(ee=>ee.start===d);if(!T){alert("Selected time slot is no longer available");return}const z={date:XA(c),time:d,endTime:T.end,duration:r.duration,notes:f};console.log("Booking Details:",z);const G={...r,storeId:((J=r.storeId)==null?void 0:J._id)||r.storeId};N(G,z),C("/booking-summary")},F=({date:T,view:z})=>{var ae,xe;if(z!=="month"||!s)return null;const G=((ae=s.serviceSettings)==null?void 0:ae.workingDays)||["monday","tuesday","wednesday","thursday","friday"],J=((xe=s.serviceSettings)==null?void 0:xe.excludedDates)||[],ee=yw(T,G),fe=xw(T,J);return T<new Date().setHours(0,0,0,0)?null:fe||!ee?a.jsx("div",{className:"text-xs text-red-500 text-center",children:"●"}):a.jsx("div",{className:"text-xs text-green-500 text-center",children:"●"})},Q=({date:T,view:z})=>{var ae,xe;if(z!=="month"||!s)return"";const G=((ae=s.serviceSettings)==null?void 0:ae.workingDays)||["monday","tuesday","wednesday","thursday","friday"],J=((xe=s.serviceSettings)==null?void 0:xe.excludedDates)||[],ee=yw(T,G),fe=xw(T,J);return T<new Date().setHours(0,0,0,0)?"react-calendar__tile--past":fe||!ee?"react-calendar__tile--unavailable":"react-calendar__tile--available"},K=({date:T,view:z})=>{var X,ie,re;if(z!=="month"||!s)return!1;const G=((X=s.serviceSettings)==null?void 0:X.workingDays)||["monday","tuesday","wednesday","thursday","friday"],J=((ie=s.serviceSettings)==null?void 0:ie.excludedDates)||[],ee=((re=s.serviceSettings)==null?void 0:re.advanceBookingDays)||30,fe=yw(T,G),de=xw(T,J),ae=T<new Date().setHours(0,0,0,0),xe=T>new Date(Date.now()+ee*24*60*60*1e3);return ae||de||!fe||xe},Y=T=>{const z=new Date,G=XA(c),J=XA(z);if(G!==J)return!1;const ee=new Date,fe=ee.getHours(),de=ee.getMinutes(),ae=fe*60+de,[xe,X]=T.start.split(":").map(Number);return xe*60+X<=ae},V=T=>Y(T)?!1:g.some(z=>z.start===T.start);return o?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black"})}):r?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("style",{children:`
  .react-calendar__tile--available {
    background-color: #f0fdf4 !important;
    color: #166534 !important;
  }
  .react-calendar__tile--unavailable {
    background-color: #fef2f2 !important;
    color: #dc2626 !important;
  }
  .react-calendar__tile--past {
    background-color: #f3f4f6 !important;
    color: #9ca3af !important;
  }
  .react-calendar__tile--active {
    background-color: #000000 !important;
    color: white !important;
  }
  .react-calendar__tile--active.react-calendar__tile--available {
    background-color: #000000 !important;
    color: white !important;
  }
  .react-calendar__tile:hover {
    background-color: #e5e7eb !important;
  }
  .react-calendar__tile--active:hover {
    background-color: #374151 !important;
  }
`}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-6",children:a.jsxs($t,{to:"/services",className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors",children:[a.jsx(Gl,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Services"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{children:a.jsx(G8,{images:r.images,title:r.title})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.title}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[a.jsx(Ku,{className:"w-4 h-4"}),a.jsx("span",{className:"capitalize",children:r.category}),r.subcategory&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"›"}),a.jsx("span",{className:"capitalize",children:r.subcategory})]}),r.childCategory&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"›"}),a.jsx("span",{className:"capitalize",children:r.childCategory})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Wr,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),a.jsxs("span",{className:"text-gray-600",children:[r.rating||0," (",p.length," reviews)"]})]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(zl,{className:"w-4 h-4 text-gray-600"}),a.jsxs("span",{className:"text-gray-600",children:[r.bookingCount||0," bookings"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsxs("p",{className:"text-4xl font-bold text-black",children:[Lr(r.price),a.jsx("span",{className:"text-lg text-gray-500 ml-2",children:r.priceType==="hourly"?"/hour":""})]}),r.oldPrice&&r.oldPrice>r.price&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-2xl text-gray-500 line-through",children:Lr(r.oldPrice)}),a.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded text-sm font-semibold",children:[Math.round((r.oldPrice-r.price)/r.oldPrice*100),"% OFF"]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:s!=null&&s.profileImage?a.jsx("img",{src:s.profileImage,alt:r.storeId.name,className:"w-12 h-12 rounded-full object-cover"}):a.jsx(li,{className:"w-6 h-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx($t,{to:`/store/${r.storeId}`,className:"font-semibold text-black hover:text-gray-700 transition-colors",children:r.storeId.name}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[(s==null?void 0:s.isVerified)&&a.jsxs("span",{className:"flex items-center text-green-600 text-xs",children:[a.jsx(Kn,{className:"w-3 h-3 mr-1"}),"Verified"]}),a.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:(s==null?void 0:s.storeLevel)||"Bronze"})]})]})]}),a.jsxs("div",{className:"text-right text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-yellow-500",children:[a.jsx(Wr,{className:"w-4 h-4 fill-current"}),a.jsx("span",{children:(s==null?void 0:s.rating)||0})]}),a.jsxs("p",{className:"text-gray-600",children:[(s==null?void 0:s.completionRate)||0,"% completion"]})]})]}),(s==null?void 0:s.contactInfo)&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(ql,{className:"w-4 h-4"}),a.jsx("span",{children:s.contactInfo.address})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[a.jsx(cd,{className:"w-4 h-4"}),a.jsx("span",{children:s.contactInfo.phone})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[a.jsx(Wl,{className:"w-4 h-4"}),a.jsx("span",{children:s.contactInfo.email})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Description"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Service Details"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx($s,{className:"w-5 h-5"}),a.jsxs("span",{children:["Duration: ",r.duration," minutes"]})]}),r.bookingSettings&&a.jsxs("div",{className:"space-y-2 text-sm",children:[r.bookingSettings.minAdvanceBookingHours&&a.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(Li,{className:"w-4 h-4"}),a.jsxs("span",{children:["Book at least"," ",r.bookingSettings.minAdvanceBookingHours," hours in advance"]})]}),r.bookingSettings.maxBookingsPerSlot&&a.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(zl,{className:"w-4 h-4"}),a.jsxs("span",{children:["Max ",r.bookingSettings.maxBookingsPerSlot," ","booking(s) per time slot"]})]})]})]})]}),(s==null?void 0:s.serviceSettings)&&a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Working Hours"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Hours:"}),a.jsxs("span",{children:[((I=s.serviceSettings.workingHours)==null?void 0:I.start)||"09:00"," -"," ",((O=s.serviceSettings.workingHours)==null?void 0:O.end)||"17:00"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Working Days:"}),a.jsx("span",{className:"capitalize",children:((R=s.serviceSettings.workingDays)==null?void 0:R.join(", "))||"Mon - Fri"})]}),s.serviceSettings.bookingBuffer>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Buffer Time:"}),a.jsxs("span",{children:[s.serviceSettings.bookingBuffer," minutes"]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center space-x-2",children:[a.jsx(Es,{className:"w-5 h-5"}),a.jsx("span",{children:"Book This Service"})]}),a.jsxs("div",{className:"mb-4 flex items-center space-x-4 text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-100"}),a.jsx("span",{className:"text-gray-600",children:"Available"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-100"}),a.jsx("span",{className:"text-gray-600",children:"Booked"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-100"}),a.jsx("span",{className:"text-gray-600",children:"Past/Unavailable"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date"}),a.jsx(QP,{onChange:u,value:c,minDate:new Date,maxDate:new Date(Date.now()+(((U=s==null?void 0:s.serviceSettings)==null?void 0:U.advanceBookingDays)||30)*24*60*60*1e3),tileContent:F,tileClassName:Q,tileDisabled:K,className:"w-full border border-gray-300 rounded-lg"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Time"}),_?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-black"})}):y.length>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:y.map(T=>{const z=V(T),G=v.includes(T.start),J=Y(T);return a.jsxs("button",{onClick:()=>z?A(T.start):null,disabled:!z,className:`p-3 text-sm rounded-lg border transition-colors ${d===T.start?"bg-black text-white border-black":z?"bg-white text-gray-700 border-gray-300 hover:border-black":"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed"}`,children:[a.jsx("div",{className:"font-medium",children:T.label}),G?a.jsx("div",{className:"text-xs text-red-500 mt-1",children:"Booked"}):J?a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Past"}):z?null:a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Unavailable"})]},T.start)})}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Gu,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),a.jsx("p",{children:"No time slots available for this date"}),a.jsx("p",{className:"text-sm",children:"Please select another date"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),a.jsx("textarea",{value:f,onChange:T=>h(T.target.value),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Any special requirements or notes..."})]}),a.jsxs("button",{onClick:H,disabled:!d,className:`w-full py-3 px-6 rounded-lg transition-colors ${d?"bg-black text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Book Now - ",Lr(r.price)]})]})]})]})]}),a.jsx("div",{className:"py-16 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Customer Reviews"}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((T,z)=>a.jsx(Wr,{className:`w-5 h-5 ${z<Math.floor((s==null?void 0:s.rating)||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},z))}),a.jsx("span",{className:"text-lg font-semibold",children:(s==null?void 0:s.rating)||0}),a.jsxs("span",{className:"text-gray-600",children:["(",p.length," reviews)"]})]})})]}),p.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Reviews Yet"}),a.jsx("p",{className:"text-gray-600",children:"Be the first to review this store!"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Review Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:(s==null?void 0:s.rating)||0}),a.jsx("div",{className:"flex justify-center mb-2",children:[...Array(5)].map((T,z)=>a.jsx(Wr,{className:`w-5 h-5 ${z<Math.floor((s==null?void 0:s.rating)||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},z))}),a.jsxs("p",{className:"text-gray-600",children:[p.length," total reviews"]})]})}),a.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(T=>{const z=p.filter(J=>J.rating===T).length,G=p.length>0?z/p.length*100:0;return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm w-8",children:[T,"★"]}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${G}%`}})}),a.jsx("span",{className:"text-sm text-gray-600 w-8",children:z})]},T)})})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(T=>{var z;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:GZ(((z=T.customerId)==null?void 0:z.name)||"Anonymous")}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((G,J)=>a.jsx(Wr,{className:`w-4 h-4 ${J<T.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},J))}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(T.createdAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"text-right",children:[T.orderId&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Product Order"}),T.bookingId&&a.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Service Booking"})]})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:T.comment}),T.response&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-black",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Store Response"}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(T.response.respondedAt).toLocaleDateString()})]}),a.jsx("p",{className:"text-gray-700",children:T.response.message})]})]},T._id)})})]})]})})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Service not found"}),a.jsx($t,{to:"/services",className:"text-black hover:text-gray-700",children:"Back to Services"})]})})},qZ=({store:t={},user:r={},reviews:n={},onExploreClick:s,onContactClick:i})=>{var S,k,P,M,H,F,Q,K;const o={name:"Art Of Leather ",description:"Discover extraordinary craftsmanship and timeless elegance in our curated selection of premium products.",themeColor:"#000000ff",stats:[{label:"Sales",value:"1000+"}]},l=[{type:"video",src:"https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4",poster:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80",title:"Luxury Redefined"},{type:"image",src:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80",title:"Crafted Perfection"},{type:"image",src:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80",title:"Timeless Elegance"}],[c,u]=te.useState(l);te.useEffect(()=>{if(console.log("Store Hero Images:",t==null?void 0:t.heroImages),(t==null?void 0:t.heroImages.length)>0){const Y=t.heroImages.map(V=>({type:"image",src:V,title:""}));u(Y)}},[t==null?void 0:t.heroImages]);const d={id:"user_456",subscriptionLevel:"Premium",favoriteStores:["store_123"],isStoreOwner:!1,relationshipToStore:"customer"},A={...o,...t};({...d,...r});const f=n.length>0?n:Array(127).fill({}),h=Y=>{const V=U=>{if(U.startsWith("#")){const G=U.slice(1);return[parseInt(G.substr(0,2),16),parseInt(G.substr(2,2),16),parseInt(G.substr(4,2),16)]}if(U.startsWith("rgb"))return U.match(/\d+/g).map(Number);const T=document.createElement("div");T.style.color=U,document.body.appendChild(T);const z=getComputedStyle(T).color.match(/\d+/g).map(Number);return document.body.removeChild(T),z},[I,O,R]=V(Y);return(.299*I+.587*O+.114*R)/255>.5},p=Y=>h(Y)?"#000000":"#ffffff",g=(()=>{const Y=A.themeColor||"#000000",V=h(Y);return{primary:Y,contrast:p(Y),accent:V?`${Y}20`:`${Y}40`,buttonBg:Y,buttonText:p(Y),buttonHover:V?"#ffffff":"#000000",buttonHoverText:V?"#000000":"#ffffff",textShadow:V?"0 4px 8px rgba(0,0,0,0.5)":"0 4px 8px rgba(0,0,0,0.8)",buttonShadow:`0 8px 25px ${Y}40`,brandGlow:`0 0 40px ${Y}60`,cardBackground:V?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.15)",borderColor:`${Y}60`}})(),[b,y]=te.useState(0),[x,v]=te.useState(!0),[w,_]=te.useState(!0),[B,N]=te.useState(0);te.useEffect(()=>{const Y=()=>N(window.scrollY);return window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)},[]),te.useEffect(()=>{if(!x)return;const Y=setInterval(()=>{y(V=>(V+1)%c.length)},6e3);return()=>clearInterval(Y)},[x,c.length]);const j=()=>{y(Y=>(Y+1)%c.length)},C=()=>{y(Y=>(Y-1+c.length)%c.length)},E=()=>{const Y=document.querySelector(".hero-video");Y&&(w?Y.pause():Y.play(),_(!w))};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(40px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          
          @keyframes fadeInScale {
            from {
              opacity: 0;
              transform: scale(0.9) translateY(30px);
            }
            to {
              opacity: 1;
              transform: scale(1) translateY(0);
            }
          }

          @keyframes slideInRight {
            from {
              opacity: 0;
              transform: translateX(50px);
            }
            to {
              opacity: 1;
              transform: translateX(0);
            }
          }

          @keyframes brandGlow {
            0%, 100% {
              text-shadow: 0 0 20px rgba(147, 51, 234, 0.6), 0 0 40px rgba(147, 51, 234, 0.4), 0 0 60px rgba(147, 51, 234, 0.2);
            }
            50% {
              text-shadow: 0 0 30px rgba(147, 51, 234, 0.8), 0 0 60px rgba(147, 51, 234, 0.6), 0 0 90px rgba(147, 51, 234, 0.4);
            }
          }
          
          .fade-in-up-1 { animation: fadeInUp 1.2s 0.3s forwards; }
          .fade-in-up-2 { animation: fadeInUp 1s 0.6s forwards; }
          .fade-in-up-3 { animation: fadeInUp 1s 0.9s forwards; }
          .fade-in-up-4 { animation: fadeInScale 1.2s 1.2s forwards; }
          .fade-in-up-5 { animation: fadeInUp 1s 1.5s forwards; }
          .slide-in-right { animation: slideInRight 1.2s 0.8s forwards; }
          .brand-glow { animation: brandGlow 3s ease-in-out infinite; }
        `}),a.jsxs("section",{className:"relative min-h-screen overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0",style:{background:"radial-gradient(circle at 50% 50%, rgba(0,0,0,0.1) 0%, transparent 70%)"},children:[a.jsx("div",{className:"absolute inset-0",children:c.map((Y,V)=>a.jsx("div",{className:`absolute inset-0 transition-all duration-1000 ease-in-out ${V===b?"opacity-100 scale-100":"opacity-0 scale-110"}`,style:{transform:`translateY(${B*.5}px)`},children:Y.type==="video"?a.jsx("video",{className:"hero-video w-full h-full object-cover",src:Y.src,poster:Y.poster,autoPlay:!0,loop:!0,muted:!0,playsInline:!0}):a.jsx("img",{src:Y.src,alt:Y.title,className:"w-full h-full object-cover"})},V))}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-black/60"}),a.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, rgba(0,0,0,0.2) 0%, transparent 40%, rgba(0,0,0,0.1) 100%)"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-black/20"}),a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[[...Array(15)].map((Y,V)=>a.jsx("div",{className:"absolute rounded-full animate-pulse",style:{width:Math.floor(4+Math.random()*6)+"px",height:Math.floor(4+Math.random()*6)+"px",backgroundColor:"rgba(147, 51, 234, 0.4)",left:Math.floor(Math.random()*100)+"%",top:Math.floor(Math.random()*100)+"%",animationDelay:Math.floor(Math.random()*5)+"s",animationDuration:Math.floor(4+Math.random()*6)+"s",boxShadow:"0 0 20px rgba(147, 51, 234, 0.6)"}},V)),a.jsx("div",{className:"absolute top-20 left-0 w-32 h-0.5 opacity-30 animate-pulse",style:{backgroundColor:g.primary}}),a.jsx("div",{className:"absolute bottom-32 right-20 w-24 h-0.5 opacity-40 animate-pulse",style:{backgroundColor:g.primary,animationDelay:"2s"}})]}),a.jsx("div",{className:"relative z-10 min-h-screen flex items-center",children:a.jsx("div",{className:"container mx-auto px-6 lg:px-12",children:a.jsx("div",{className:"grid lg:grid-cols-12 gap-8 lg:gap-16 items-center min-h-[80vh]",children:a.jsxs("div",{className:"lg:col-span-8 space-y-8 md:space-y-10 text-white max-w-4xl",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:space-x-4 space-y-4 sm:space-y-0 opacity-0 fade-in-up-1",children:[A.profileImage&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:A.profileImage?A.profileImage:"",alt:A.name+" logo",className:"w-16 h-16 md:w-20 md:h-20 rounded-full object-cover border-4 shadow-lg",style:{borderColor:g.primary}}),A.isVerified&&a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-500 rounded-full p-1",children:a.jsx(Kn,{className:"w-4 h-4 text-white"})})]}),!A.profileImage&&a.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-full flex items-center justify-center border-4 shadow-lg",style:{borderColor:g.primary,backgroundColor:g.primary},children:a.jsx(li,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-4xl sm:text-5xl md:text-7xl lg:text-8xl font-bold tracking-tight leading-none text-center sm:text-left",children:a.jsx("span",{className:`block ${A.isPremium?"brand-glow":""}`,style:{color:g.primary,textShadow:g.textShadow,fontFamily:A.customFont||"Merriweather, Serif",background:A.isPremium?"linear-gradient(135deg, #9333ea 0%, rgba(147, 51, 234, 0.8) 50%, #9333ea 100%)":"transparent",backgroundClip:A.isPremium?"text":"initial",WebkitBackgroundClip:A.isPremium?"text":"initial",WebkitTextFillColor:A.isPremium?"transparent":g.primary},children:A.name})}),A.tagline&&a.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-white/90 mt-2 font-light italic text-center sm:text-left",children:A.tagline})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-3 sm:gap-6 opacity-0 fade-in-up-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[a.jsx(Wr,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),a.jsx("span",{className:"text-white font-semibold",children:((S=A.rating)==null?void 0:S.toFixed(1))||"0.0"}),a.jsxs("span",{className:"text-white/70",children:["(",f.length," reviews)"]})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[a.jsx(zl,{className:"w-5 h-5 text-white"}),a.jsx("span",{className:"text-white font-semibold",children:((P=(k=A.stats)==null?void 0:k.followersCount)==null?void 0:P.toLocaleString())||"0"}),a.jsx("span",{className:"text-white/70",children:"followers"})]}),A.isPremium&&a.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 rounded-full px-6 py-2 shadow-lg animate-pulse",children:[a.jsx(Nl,{className:"w-5 h-5 text-white animate-bounce"}),a.jsx("span",{className:"text-white font-bold tracking-wide",children:"PREMIUM STORE"})]}),A.category&&a.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[a.jsx(Ku,{className:"w-5 h-5 text-white"}),a.jsx("span",{className:"text-white font-semibold capitalize",children:A.category})]}),A.location&&a.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[a.jsx(ql,{className:"w-5 h-5 text-white"}),a.jsx("span",{className:"text-white font-semibold",children:A.location})]}),A.isVerified&&a.jsxs("div",{className:"flex items-center space-x-2 bg-blue-500/20 backdrop-blur-sm rounded-full px-4 py-2",children:[a.jsx(Kn,{className:"w-5 h-5 text-blue-400"}),a.jsx("span",{className:"text-white font-semibold",children:"Verified"})]}),A.establishedYear&&a.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[a.jsx(Kd,{className:"w-5 h-5 text-white"}),a.jsxs("span",{className:"text-white font-semibold",children:[new Date().getFullYear()-A.establishedYear,"+ years"]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6 opacity-0 fade-in-up-4",children:[a.jsxs("button",{onClick:s,className:"group px-8 sm:px-10 py-4 sm:py-5 font-bold text-base sm:text-lg rounded-lg relative overflow-hidden transition-all duration-500 hover:scale-105 shadow-2xl w-full sm:w-auto",style:{backgroundColor:g.primary,color:g.contrast,boxShadow:"0 10px 30px rgba(147, 51, 234, 0.4)"},children:[a.jsxs("span",{className:"relative z-10 flex items-center justify-center space-x-3",children:[a.jsx(li,{className:"w-6 h-6"}),a.jsx("span",{className:"tracking-wide",children:A.type==="product"?((M=A.customCTA)==null?void 0:M.primary)||"SHOP NOW":((H=A.customCTA)==null?void 0:H.primary)||"BOOK SERVICE"}),a.jsx(zd,{className:"w-6 h-6 group-hover:translate-x-2 transition-transform duration-300"})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),a.jsx("button",{onClick:i,className:"group px-8 sm:px-10 py-4 sm:py-5 border-3 font-bold text-base sm:text-lg rounded-lg transition-all duration-500 hover:scale-105 bg-white/10 backdrop-blur-sm w-full sm:w-auto",style:{borderColor:g.primary,color:"white",backdropFilter:"blur(10px)"},onMouseEnter:Y=>{Y.target.style.backgroundColor=g.primary,Y.target.style.color=g.contrast,Y.target.style.borderColor=g.primary},onMouseLeave:Y=>{Y.target.style.backgroundColor="rgba(255,255,255,0.1)",Y.target.style.color="white",Y.target.style.borderColor=g.primary},children:a.jsx("span",{className:"flex items-center justify-center space-x-3",children:a.jsx("span",{className:"tracking-wide",children:((F=A.customCTA)==null?void 0:F.secondary)||"GET IN TOUCH"})})})]}),a.jsxs("div",{className:"hidden md:flex items-center flex-wrap gap-6 text-sm opacity-0 fade-in-up-5",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[a.jsx(z0,{className:"w-5 h-5 text-green-400"}),a.jsx("span",{className:"text-white font-medium",children:"Secure Shopping"})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[a.jsx(Wd,{className:"w-5 h-5 text-blue-400"}),a.jsx("span",{className:"text-white font-medium",children:"Fast Delivery"})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[a.jsx(Kn,{className:"w-5 h-5 text-yellow-400"}),a.jsx("span",{className:"text-white font-medium",children:"Quality Guaranteed"})]}),((Q=A.stats)==null?void 0:Q.totalSales)&&a.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[a.jsx(Kd,{className:"w-5 h-5 text-purple-400"}),a.jsxs("span",{className:"text-white font-medium",children:[A.stats.totalSales,"+ Happy Customers"]})]})]})]})})})})]}),a.jsx("div",{className:"absolute bottom-4 sm:bottom-8 left-1/2 transform -translate-x-1/2 z-20",children:a.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-6 bg-black/20 backdrop-blur-lg rounded-full px-3 sm:px-6 py-2 sm:py-3",children:[a.jsx("div",{className:"flex space-x-2 sm:space-x-3",children:c.map((Y,V)=>a.jsx("button",{onClick:()=>y(V),className:`h-3 rounded-full transition-all duration-500 hover:scale-110 ${V===b?"w-8 shadow-lg":"w-3 bg-white/50 hover:bg-white/70"}`,style:{backgroundColor:V===b?g.primary:void 0,boxShadow:V===b?g.brandGlow:void 0}},V))}),a.jsx("div",{className:"w-px h-6 bg-white/30"}),a.jsx("button",{onClick:()=>v(!x),className:"p-3 rounded-full backdrop-blur-sm hover:scale-110 transition-all duration-300 text-white border-2 border-white/30 hover:border-white/50",style:{backgroundColor:g.cardBackground},children:x?a.jsx(U5,{className:"w-5 h-5"}):a.jsx(R5,{className:"w-5 h-5"})}),((K=c[b])==null?void 0:K.type)==="video"&&a.jsx("button",{onClick:E,className:"p-3 rounded-full backdrop-blur-sm hover:scale-110 transition-all duration-300 text-white border-2 border-white/30 hover:border-white/50",style:{backgroundColor:g.cardBackground},children:w?a.jsx(U5,{className:"w-5 h-5"}):a.jsx(R5,{className:"w-5 h-5"})})]})}),a.jsx("button",{onClick:C,className:"absolute left-2 sm:left-6 top-1/2 transform -translate-y-1/2 z-20 p-2 sm:p-4 rounded-full backdrop-blur-lg border-2 border-white/20 hover:border-white/40 transition-all duration-300 text-white opacity-70 hover:opacity-100 hover:scale-110 group shadow-lg",style:{backgroundColor:g.cardBackground},children:a.jsx(km,{className:"w-5 h-5 sm:w-7 sm:h-7 group-hover:-translate-x-1 transition-transform duration-300"})}),a.jsx("button",{onClick:j,className:"absolute right-2 sm:right-6 top-1/2 transform -translate-y-1/2 z-20 p-2 sm:p-4 rounded-full backdrop-blur-lg border-2 border-white/20 hover:border-white/40 transition-all duration-300 text-white opacity-70 hover:opacity-100 hover:scale-110 group shadow-lg",style:{backgroundColor:g.cardBackground},children:a.jsx(Ru,{className:"w-5 h-5 sm:w-7 sm:h-7 group-hover:translate-x-1 transition-transform duration-300"})})]})]})},k_="http://localhost:10000",T_=async t=>{const r=await t.json();if(!t.ok)throw new Error(r.message||"API request failed");return r},YZ=({store:t,onReveal:r})=>{const{user:n}=On(),[s,i]=te.useState(null),[o,l]=te.useState(null),[c,u]=te.useState(!1),[d,A]=te.useState(null),f=async y=>{const x=await fetch(`${k_}/api/wallet/customer/reveals/${y}/eligibility`,{credentials:"include",headers:{"Content-Type":"application/json"}});return T_(x)},h=async y=>{const x=await fetch(`${k_}/api/wallet/customer/reveals/${y}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});return T_(x)};te.useEffect(()=>{(async()=>{if(!n||!(t!=null&&t._id)){n||i({canReveal:!1,reasons:{loginRequired:!0}});return}try{const x=await f(t._id);console.log("🔍 Reveal eligibility response:",x),x.success&&(i({canReveal:x.data.canReveal,reasons:x.data.reasons,hasValidReveal:x.data.hasValidReveal,revealExpiresAt:x.data.revealExpiresAt}),x.data.hasValidReveal&&x.data.contactDetails&&l(x.data.contactDetails))}catch(x){console.error("Failed to check reveal eligibility:",x),i({canReveal:!1,reasons:{error:!0}})}})()},[n,t==null?void 0:t._id]);const p=async()=>{var y;if(!n){window.location.href="/login";return}if(!(s!=null&&s.canReveal)){if((y=s==null?void 0:s.reasons)!=null&&y.alreadyRevealed){A("You have already revealed this store's contact details today");return}A("Contact details are currently unavailable");return}u(!0),A(null);try{const x=await h(t._id);x.success&&(l(x.data.contactDetails),i(v=>({...v,canReveal:!1,reasons:{...v==null?void 0:v.reasons,alreadyRevealed:!0}})),r&&r(x.data))}catch(x){A(x.message)}finally{u(!1)}},g=(()=>{var y,x;return n?o?s!=null&&s.hasValidReveal?{disabled:!0,text:"Contact Details Available",icon:Kn,color:"bg-black",description:"Contact details available until "+(s.revealExpiresAt?new Date(s.revealExpiresAt).toLocaleString():"tomorrow")}:{disabled:!0,text:"Already Revealed",icon:Kn,color:"bg-black",description:"Contact details revealed today"}:s!=null&&s.canReveal?{disabled:!1,text:"View Contact Details",icon:Zn,color:"bg-black hover:bg-gray-800",description:"Click to reveal contact information"}:(y=s==null?void 0:s.reasons)!=null&&y.insufficientOwnerCredits?{disabled:!0,text:"Contact Unavailable",icon:Li,color:"bg-gray-300",description:"Store owner needs to purchase credits"}:(x=s==null?void 0:s.reasons)!=null&&x.error?{disabled:!0,text:"Contact Unavailable",icon:Li,color:"bg-gray-300",description:"Unable to load contact information"}:{disabled:!0,text:"Loading...",icon:Gd,color:"bg-gray-400",description:"Loading contact information"}:{disabled:!1,text:"Login to View Contacts",icon:zu,color:"bg-black hover:bg-gray-800",description:"Click to login and view contact details"}})(),b=g.icon;return a.jsxs("div",{className:"space-y-3",children:[o&&a.jsxs("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4 space-y-2",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-2 text-black font-medium",children:[a.jsx(Kn,{className:"w-4 h-4"}),a.jsx("span",{children:"Contact Details Revealed"})]})}),a.jsxs("div",{className:"space-y-1 text-sm",children:[o.email&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",a.jsx("a",{href:`mailto:${o.email}`,className:"text-black hover:text-gray-600 hover:underline",children:o.email})]}),o.phone&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",a.jsx("a",{href:`tel:${o.phone}`,className:"text-black hover:text-gray-600 hover:underline",children:o.phone})]}),o.whatsapp&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"WhatsApp:"})," ",a.jsx("a",{href:`https://wa.me/${o.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-gray-600 hover:underline",children:o.whatsapp})]}),o.address&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Address:"})," ",a.jsx("span",{className:"text-gray-700",children:o.address})]})]})]}),a.jsxs("button",{onClick:p,disabled:g.disabled||c,className:`w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-lg text-white font-medium transition-colors ${g.color} disabled:opacity-50 disabled:cursor-not-allowed`,title:g.description,children:[c?a.jsx(Gd,{className:"w-4 h-4 animate-spin"}):a.jsx(b,{className:`w-4 h-4 ${g.icon===Gd?"animate-spin":""}`}),a.jsx("span",{children:c?"Revealing...":g.text})]}),d&&a.jsx("div",{className:"bg-gray-100 border border-gray-300 rounded p-3",children:a.jsxs("div",{className:"flex items-center space-x-2 text-black text-sm",children:[a.jsx(Li,{className:"w-4 h-4"}),a.jsx("span",{children:d})]})})]})};var $P={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O_=wt.createContext&&wt.createContext($P),XZ=["attr","size","title"];function JZ(t,r){if(t==null)return{};var n=ZZ(t,r),s,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)s=o[i],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function ZZ(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},dv.apply(this,arguments)}function F_(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Av(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?F_(Object(n),!0).forEach(function(s){eee(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function eee(t,r,n){return r=tee(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function tee(t){var r=ree(t,"string");return typeof r=="symbol"?r:r+""}function ree(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function HP(t){return t&&t.map((r,n)=>wt.createElement(r.tag,Av({key:n},r.attr),HP(r.child)))}function Uc(t){return r=>wt.createElement(nee,dv({attr:Av({},t.attr)},r),HP(t.child))}function nee(t){var r=n=>{var{attr:s,size:i,title:o}=t,l=JZ(t,XZ),c=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),wt.createElement("svg",dv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,l,{className:u,style:Av(Av({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&wt.createElement("title",null,o),t.children)};return O_!==void 0?wt.createElement(O_.Consumer,null,n=>r(n)):r($P)}function see(t){return Uc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function iee(t){return Uc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function aee(t){return Uc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function oee(t){return Uc({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(t)}function lee(t){return Uc({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm169.5 338.9c-3.5 8.1-18.1 14-44.8 18.2-1.4 1.9-2.5 9.8-4.3 15.9-1.1 3.7-3.7 5.9-8.1 5.9h-.2c-6.2 0-12.8-2.9-25.8-2.9-17.6 0-23.7 4-37.4 13.7-14.5 10.3-28.4 19.1-49.2 18.2-21 1.6-38.6-11.2-48.5-18.2-13.8-9.7-19.8-13.7-37.4-13.7-12.5 0-20.4 3.1-25.8 3.1-5.4 0-7.5-3.3-8.3-6-1.8-6.1-2.9-14.1-4.3-16-13.8-2.1-44.8-7.5-45.5-21.4-.2-3.6 2.3-6.8 5.9-7.4 46.3-7.6 67.1-55.1 68-57.1 0-.1.1-.2.2-.3 2.5-5 3-9.2 1.6-12.5-3.4-7.9-17.9-10.7-24-13.2-15.8-6.2-18-13.4-17-18.3 1.6-8.5 14.4-13.8 21.9-10.3 5.9 2.8 11.2 4.2 15.7 4.2 3.3 0 5.5-.8 6.6-1.4-1.4-23.9-4.7-58 3.8-77.1C183.1 100 230.7 96 244.7 96c.6 0 6.1-.1 6.7-.1 34.7 0 68 17.8 84.3 54.3 8.5 19.1 5.2 53.1 3.8 77.1 1.1.6 2.9 1.3 5.7 1.4 4.3-.2 9.2-1.6 14.7-4.2 4-1.9 9.6-1.6 13.6 0 6.3 2.3 10.3 6.8 10.4 11.9.1 6.5-5.7 12.1-17.2 16.6-1.4.6-3.1 1.1-4.9 1.7-6.5 2.1-16.4 5.2-19 11.5-1.4 3.3-.8 7.5 1.6 12.5.1.1.1.2.2.3.9 2 21.7 49.5 68 57.1 4 1 7.1 5.5 4.9 10.8z"},child:[]}]})(t)}function cee(t){return Uc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(t)}function uee(t){return Uc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function dee(t){return Uc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function I_(t){return Uc({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}const Aee=({store:t={},user:r={},reviews:n=[],onFollowChange:s,followData:i,setFollowData:o})=>{var M,H,F,Q,K,Y;te.useState(!1);const[l,c]=te.useState(((M=t.stats)==null?void 0:M.followersCount)||0),[u,d]=te.useState(!1),[A,f]=te.useState(!1),h=V=>V>=1e6?`${(V/1e6).toFixed(V%1e6===0?0:1)}M`:V>=1e3?`${(V/1e3).toFixed(V%1e3===0?0:1)}K`:V.toString(),p=async()=>{if(i.isFollowing){f(!0);return}try{d(!0);const V=await fetch(`http://localhost:10000/api/stores/${g._id}/follow`,{method:"POST",credentials:"include"}),I=await V.json();V.ok?(o(O=>({...O,isFollowing:I.isFollowing})),c(I.followersCount),s&&s(I.isFollowing,I.followersCount)):alert(I.error||"Something went wrong")}catch(V){console.error("Follow error:",V),alert("Something went wrong")}finally{d(!1)}},m=async()=>{try{d(!0);const V=await fetch(`http://localhost:10000/api/stores/${g._id}/follow`,{method:"POST",credentials:"include"}),I=await V.json();V.ok?(o(O=>({...O,isFollowing:I.isFollowing})),c(I.followersCount),s&&s(I.isFollowing,I.followersCount)):alert(I.error||"Something went wrong")}catch(V){console.error("Unfollow error:",V),alert("Something went wrong")}finally{d(!1),f(!1)}},g=t,b=n.length>0?n:Array(0).fill({}),x=(V=>{const I=T=>{if(T.startsWith("#")){const J=T.slice(1);return[parseInt(J.substr(0,2),16),parseInt(J.substr(2,2),16),parseInt(J.substr(4,2),16)]}if(T.startsWith("rgb"))return T.match(/\d+/g).map(Number);const z=document.createElement("div");z.style.color=T,document.body.appendChild(z);const G=getComputedStyle(z).color.match(/\d+/g).map(Number);return document.body.removeChild(z),G},[O,R,U]=I(V);return(.299*O+.587*R+.114*U)/255>.5})(g.themeColor),v=V=>{const I=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(V);return I?{r:parseInt(I[1],16),g:parseInt(I[2],16),b:parseInt(I[3],16)}:null},w=async()=>{const V={title:g.name||"Check out this store",text:`Check out ${g.name||"this store"} - ${g.description||""}`,url:window.location.href};try{navigator.share?await navigator.share(V):(await navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))}catch(I){console.error("Error sharing:",I);try{await navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")}catch(O){console.error("Clipboard error:",O)}}},B=(V=>{const I=v(V);return I?{primary:V,light:`rgba(${I.r}, ${I.g}, ${I.b}, 0.1)`,lighter:`rgba(${I.r}, ${I.g}, ${I.b}, 0.05)`,dark:`rgba(${I.r}, ${I.g}, ${I.b}, 0.8)`,medium:`rgba(${I.r}, ${I.g}, ${I.b}, 0.6)`}:{primary:V,light:V+"20",lighter:V+"10",dark:V}})(g.themeColor),N={color:x?"#ffffffff":"#000000ff",backgroundColor:x?"#000000ff":"#ffffffff"},j=V=>`LKR ${(V/1e3).toFixed(0)}K`,E=(()=>{const V={Bronze:{color:"#cd7f32",icon:Kd},Silver:{color:"#c0c0c0",icon:Kd},Gold:{color:"#ffd700",icon:Nl},Premium:{color:g.themeColor,icon:Nl}};return V[g.storeLevel]||V.Bronze})(),S=V=>({facebook:{icon:see,color:"#1877F2",hoverColor:"#166FE5"},instagram:{icon:iee,color:"#E4405F",hoverColor:"#D93B55"},youtube:{icon:dee,color:"#FF0000",hoverColor:"#E60000"},tiktok:{icon:cee,color:"#000000",hoverColor:"#333333"},linkedin:{icon:aee,color:"#0A66C2",hoverColor:"#0958A5"},pinterest:{icon:oee,color:"#BD081C",hoverColor:"#A8071A"},snapchat:{icon:lee,color:"#FFFC00",hoverColor:"#E6E300",textColor:"#000000"},website:{icon:I_,color:"#6B7280",hoverColor:"#4B5563"},twitter:{icon:uee,color:"#1DA1F2",hoverColor:"#1A91DA"}})[V]||{icon:I_,color:"#6B7280",hoverColor:"#4B5563"},k=V=>({facebook:"Facebook",instagram:"Instagram",youtube:"YouTube",tiktok:"TikTok",linkedin:"LinkedIn",pinterest:"Pinterest",snapchat:"Snapchat",website:"Website",twitter:"Twitter"})[V]||V.charAt(0).toUpperCase()+V.slice(1),P=g.socialLinks&&typeof g.socialLinks=="object"?Object.entries(g.socialLinks).filter(([V,I])=>I&&typeof I=="string"&&I.trim()!==""&&I.trim()!=="undefined"&&I.trim()!=="null").map(([V,I])=>{const O=S(V);return{icon:O.icon,label:k(V),url:I.startsWith("http")?I:`https://${I}`,platform:V,color:O.color,hoverColor:O.hoverColor,available:!0}}):[];return a.jsx("div",{className:"py-4 sm:py-8",style:N,children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 sm:gap-6 lg:gap-8",children:[a.jsx("div",{className:"lg:col-span-3",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start space-y-4 sm:space-y-0 sm:space-x-8",children:[a.jsxs("div",{className:"relative group flex-shrink-0 mx-auto sm:mx-0",children:[g.isPremium&&a.jsx("div",{className:"absolute -inset-2 rounded-full opacity-30 group-hover:opacity-50 transition-opacity duration-300 blur-sm",style:{background:`linear-gradient(45deg, ${B.primary}, ${B.medium})`}}),a.jsxs("div",{className:"relative",children:[g.profileImage&&a.jsx("img",{src:g.profileImage,alt:g.name,className:`w-24 h-24 sm:w-20 sm:h-20 rounded-full object-cover shadow-lg ${g.isPremium?"border-3":"border-2 border-gray-200"}`,style:g.isPremium?{borderColor:B.primary}:{}}),a.jsxs("div",{className:"absolute -bottom-1 -right-1 flex space-x-1",children:[g.isVerified&&a.jsx("div",{title:"Verified",className:"w-6 h-6 rounded-full border-2 border-white shadow-sm flex items-center justify-center",style:{backgroundColor:B.primary},children:a.jsx(Kn,{className:"w-3 h-3 text-white"})}),g.isPremium&&a.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm flex items-center justify-center",style:{backgroundColor:E.color},children:a.jsx(Nl,{className:"w-3 h-3 text-white"})})]})]})]}),a.jsxs("div",{className:"flex-1 space-y-4 text-center sm:text-left",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 mb-2",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-light tracking-wide",style:{color:N.color},children:g.name}),a.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2",children:[g.isVerified&&a.jsx(Kn,{className:"w-5 h-5",style:{color:B.primary}}),g.isPremium&&a.jsx(Nl,{className:"w-5 h-5",style:{color:E.color}}),g.isFeatured&&a.jsx(Kd,{className:"w-5 h-5 text-yellow-500"})]}),a.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2 sm:ml-auto",children:[!i.isOwnStore&&a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{onClick:p,disabled:u,className:`flex items-center space-x-2 px-4 py-3 sm:py-2 rounded-full font-medium text-sm transition-all duration-300 min-h-[44px] ${i.isFollowing?"hover:opacity-80":"hover:opacity-90 shadow-md"}`,style:i.isFollowing?{backgroundColor:B.light,color:"#000000",border:`1px solid ${B.primary}`}:{backgroundColor:B.primary,color:"#ffffff"},children:[u?a.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):i.isFollowing?a.jsx(bq,{className:"w-4 h-4"}):a.jsx(b8,{className:"w-4 h-4"}),a.jsx("span",{children:u?"Loading...":i.isFollowing?"Following":"Follow"}),a.jsx("span",{className:"px-2 py-1 text-xs rounded-full font-medium",style:i.isFollowing?{backgroundColor:B.primary,color:"#ffffff"}:{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"#ffffff"},children:h(l)})]})}),i.isOwnStore&&a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("span",{className:"flex items-center space-x-1 px-3 py-2 rounded-full text-sm font-medium",style:{backgroundColor:B.light,color:"#000000",border:`1px solid ${B.primary}`},children:[a.jsx(zl,{className:"w-4 h-4"}),a.jsxs("span",{children:[h(l)," followers"]})]})}),a.jsxs("button",{onClick:w,className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition-all duration-300 text-sm",children:[a.jsx(xh,{className:"w-4 h-4"}),a.jsx("span",{children:"Share"})]})]})]}),a.jsxs("div",{className:"flex items-center flex-wrap gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Wr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),a.jsx("span",{className:"font-medium",style:{color:x?"#666":"#ccc"},children:g.rating||0}),a.jsxs("span",{className:"text-xs",style:{color:x?"#999":"#666"},children:["(",b.length," reviews)"]})]}),a.jsx("div",{className:"h-3 w-px bg-gray-300"}),a.jsxs("span",{className:"capitalize text-xs font-medium tracking-wider px-2 py-1 rounded-full",style:{color:B.primary,backgroundColor:B.light},children:[g.type," Collection"]}),a.jsxs("span",{className:"text-xs font-medium tracking-wider px-2 py-1 rounded-full",style:{color:E.color,backgroundColor:`${E.color}20`},children:[g.storeLevel," Seller"]}),a.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:["Member since"," ",g.createdAt?new Date(g.createdAt).getFullYear():"Unknown"]})]})]}),a.jsx("p",{className:"text-sm sm:text-base leading-relaxed max-w-lg",style:{color:x?"#555":"#bbb"},children:g.description}),g.badges&&g.badges.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:g.badges.map((V,I)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:B.light,color:B.primary},children:V},I))}),a.jsxs("div",{className:"border-l-2 pl-4 py-2",style:{borderColor:B.light},children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",style:{color:N.color},children:((H=g.ownerId)==null?void 0:H.name)||"Store Owner"}),((F=g.ownerId)==null?void 0:F.verified)&&a.jsx(Kn,{className:"w-4 h-4",style:{color:B.primary}})]}),a.jsx("p",{className:"text-xs",style:{color:x?"#777":"#999"},children:"Owner & Founder"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 pt-2",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[a.jsx(Hl,{className:"w-3 h-3",style:{color:B.primary}}),g.isPremium&&a.jsx(Nl,{className:"w-3 h-3",style:{color:E.color}})]}),a.jsx("p",{className:"text-base sm:text-lg font-light tracking-wider",style:{color:N.color},children:j(g.totalSales||0)}),a.jsx("p",{className:"text-xs font-medium tracking-wide",style:{color:B.primary},children:"SALES"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-semibold",style:{color:B.primary},children:g.stats.totalOrdersOrBookings.toLocaleString()}),a.jsx("p",{className:"text-xs text-gray-500",children:g.type==="product"?"Orders":"Bookings"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-semibold",style:{color:B.primary},children:g.stats.views||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Views"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-semibold",style:{color:N.color},children:j(g.stats.avgPurchaseAmount||0)}),a.jsx("p",{className:"text-xs text-gray-500",children:"Avg Order"})]})]}),P.length>0&&a.jsx("div",{className:"flex justify-center flex-wrap gap-3 pt-3",children:P.map(V=>{const I=V.icon;return a.jsx("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-all duration-300 group transform hover:scale-110 hover:shadow-lg",style:{background:V.platform==="instagram"?"linear-gradient(45deg, #833ab4, #fd1d1d, #fcb045)":V.backgroundColor||V.color,color:V.textColor||"#ffffff"},onMouseEnter:O=>{V.platform!=="instagram"&&(O.target.style.backgroundColor=V.hoverColor),O.target.style.transform="scale(1.1)",O.target.style.boxShadow=`0 8px 25px ${V.backgroundColor||V.color}40`},onMouseLeave:O=>{V.platform!=="instagram"&&(O.target.style.backgroundColor=V.backgroundColor||V.color),O.target.style.transform="scale(1)",O.target.style.boxShadow="none"},title:V.label,children:a.jsx(I,{className:"w-5 h-5"})},V.platform)})})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:`rounded-2xl p-4 sm:p-5 border shadow-sm ${g.isPremium?"bg-gradient-to-br from-white/90 to-gray-50/80 backdrop-blur-sm":"bg-gradient-to-br from-gray-50/80 to-white/60 backdrop-blur-sm"}`,style:g.isPremium?{borderColor:B.primary+"30",boxShadow:`0 0 20px ${B.primary}10`}:{borderColor:"#e5e7eb50"},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h3",{className:"text-sm font-medium mb-3 flex items-center space-x-2",style:{color:N.color},children:[a.jsx("span",{children:"Contact Details"}),a.jsx("div",{className:"w-6 h-px bg-gradient-to-r to-transparent",style:{backgroundColor:B.primary}})]}),a.jsx(YZ,{store:g})]}),a.jsxs("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[((Q=g.serviceSettings)==null?void 0:Q.workingHours)&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-xs font-medium mb-2 flex items-center space-x-1",style:{color:N.color},children:[a.jsx($s,{className:"w-3 h-3",style:{color:B.primary}}),a.jsx("span",{children:"Hours"})]}),a.jsx("div",{className:"text-xs text-gray-600",children:(()=>{const V=g.serviceSettings.workingDays||[],{start:I,end:O}=g.serviceSettings.workingHours;if(V.length===0)return"Closed";const R=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],U={monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"},T=V.sort((J,ee)=>R.indexOf(J)-R.indexOf(ee));if(T.length===5&&["monday","tuesday","wednesday","thursday","friday"].every(J=>T.includes(J)))return a.jsxs("div",{children:[a.jsx("div",{children:"Mon-Fri"}),a.jsxs("div",{children:[I," - ",O]})]});const G=T.map(J=>U[J]).join(", ");return a.jsxs("div",{children:[a.jsx("div",{children:G}),a.jsxs("div",{children:[I," - ",O]})]})})()})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-medium mb-2",style:{color:N.color},children:"Performance"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Response:"}),a.jsx("span",{className:"font-medium",style:{color:B.primary},children:g.responseTime>=24?`${Math.floor(g.responseTime/24)} days`:`${g.responseTime||0}h`})]}),t.type==="product"&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Avg. delivery:"}),a.jsxs("span",{className:"font-medium text-green-600",children:[((K=g.shippingInfo)==null?void 0:K.deliveryDaysMin)||0," -"," ",((Y=g.shippingInfo)==null?void 0:Y.deliveryDaysMax)||0," days"]})]})]})]})]})]})}),A&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm mx-4",children:[a.jsxs("h3",{className:"text-lg font-medium mb-2",children:["Unfollow ",g.name,"?"]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"You'll stop receiving updates about this store."}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:m,disabled:u,className:"flex-1 bg-red-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-red-600 transition-colors",children:u?"Unfollowing...":"Unfollow"}),a.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})})]})})})};var fee={exports:{}};/*! For license information please see browser.umd.js.LICENSE.txt */(function(t,r){(function(n,s){t.exports=s()})(typeof self<"u"?self:wl,()=>(()=>{var n={118:o=>{o.exports=function(l){return l!=l}},170:(o,l,c)=>{function u(E){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},u(E)}var d=c(3609),A=c(8995),f=c(7768),h=c(7236),p=new Set(["$and","$or"]),m=new Set(["$cmp","$eq","$lt","$lte","$gt","$gte"]),g=new Set(["$multiply","$divide","$log","$mod","$trunc","$avg","$max","$min","$stdDevPop","$stdDevSamp","$sum"]),b=new Set(["$abs","$exp","$ceil","$floor","$ln","$log10","$sqrt","$sin","$cos","$tan","$asin","$acos","$atan","$atan2","$asinh","$acosh","$atanh","$sinh","$cosh","$tanh","$degreesToRadians","$radiansToDegrees"]),y=new Set(["$arrayElemAt","$first","$last"]),x=new Set(["$year","$month","$week","$dayOfMonth","$dayOfYear","$hour","$minute","$second","$isoDayOfWeek","$isoWeekYear","$isoWeek","$millisecond"]),v=new Set(["$not"]);function w(E,S,k){if(j(E)||E===null)return E;E.$cond!=null?Array.isArray(E.$cond)?E.$cond=E.$cond.map(function(Q){return w(Q,S,k)}):(E.$cond.if=w(E.$cond.if,S,k),E.$cond.then=w(E.$cond.then,S,k),E.$cond.else=w(E.$cond.else,S,k)):E.$ifNull!=null?E.$ifNull.map(function(Q){return w(Q,S,k)}):E.$switch!=null&&(Array.isArray(E.$switch.branches)&&(E.$switch.branches=E.$switch.branches.map(function(Q){return w(Q,S,k)})),"default"in E.$switch&&(E.$switch.default=w(E.$switch.default,S,k)));for(var P=0,M=Object.keys(E);P<M.length;P++){var H=M[P];p.has(H)?E[H]=E[H].map(function(Q){return w(Q,S,k)}):m.has(H)?E[H]=N(E[H],S,k):g.has(H)?E[H]=B(E[H]):b.has(H)?E[H]=_(E[H]):v.has(H)&&(E[H]=w(E[H],S,k))}if(E.$in&&(E.$in=function(Q,K,Y){var V=Q[1];if(!j(V))return Q;var I=Q[0],O=K.path(V.slice(1));if(O!==null){if(!O.$isMongooseArray)throw new Error("Path must be an array for $in");return[O.$isMongooseDocumentArray?O.$embeddedSchemaType.cast(I):O.caster.cast(I),V]}if(Y===!1)return Q;if(Y==="throw")throw new A("$in")}(E.$in,S,k)),E.$size&&(E.$size=_(E.$size)),E.$round){var F=E.$round;if(!Array.isArray(F)||F.length<1||F.length>2)throw new d("Array",F,"$round");E.$round=F.map(function(Q){return _(Q)})}return h(E),E}function _(E){if(!C(E))return E;try{return f(E)}catch{throw new d("Number",E)}}function B(E){if(!Array.isArray(E)){if(!C(E))return E;try{return f(E)}catch{throw new d("Number",E)}}return E.map(function(S){if(!C(S))return S;try{return f(S)}catch{throw new d("Number",S)}})}function N(E,S,k){if(!Array.isArray(E)||E.length!==2)throw new Error("Comparison operator must be an array of length 2");E[0]=w(E[0],S,k);var P=E[0];if(C(E[1])){var M=null,H=null,F=null;if(j(P))M=P.slice(1),H=S.path(M);else if(u(P)==="object"&&P!=null)for(var Q=0,K=Object.keys(P);Q<K.length;Q++){var Y=K[Q];x.has(Y)&&j(P[Y])?(M=P[Y].slice(1)+"."+Y,F=f):y.has(Y)&&j(P[Y])&&(M=P[Y].slice(1)+"."+Y,(H=S.path(P[Y].slice(1)))!=null&&(H.$isMongooseDocumentArray?H=H.$embeddedSchemaType:H.$isMongooseArray&&(H=H.caster)))}var V=u(E[1])==="object"&&E[1]!=null&&E[1].$literal!=null;if(H!=null)E[1]=V?{$literal:H.cast(E[1].$literal)}:H.cast(E[1]);else if(F!=null)if(V)try{E[1]={$literal:F(E[1].$literal)}}catch{throw new d(F.name.replace(/^cast/,""),E[1],M+".$literal")}else try{E[1]=F(E[1])}catch{throw new d(F.name.replace(/^cast/,""),E[1],M)}else{if(M!=null&&k===!0)return;if(M!=null&&k==="throw")throw new A(M)}}else E[1]=w(E[1]);return E}function j(E){return typeof E=="string"&&E[0]==="$"}function C(E){return!(typeof E=="string"&&E[0]==="$"||u(E)==="object"&&E!==null&&Object.keys(E).find(function(S){return S[0]==="$"})&&E.$literal==null)}o.exports=function(E,S,k){if(typeof E=="boolean")return E;if(u(E)!=="object"||E===null)throw new Error("`$expr` must be an object or boolean literal");return w(E,S,k)}},209:(o,l,c)=>{function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},u(h)}var d=c(2403),A=c(5825),f=c(6583);o.exports=d?function(h){return d(h)}:A?function(h){if(!h||u(h)!=="object"&&typeof h!="function")throw new TypeError("getProto: not an object");return A(h)}:f?function(h){return f(h)}:null},241:(o,l,c)=>{function u(m){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(m)}function d(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!m})()}function A(m){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},A(m)}function f(m,g){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,y){return b.__proto__=y,b},f(m,g)}var h=function(m){function g(){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,g,arguments)}return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),x&&f(y,x)}(g,m),b=g,Object.defineProperty(b,"prototype",{writable:!1}),b;var b}(c(8879)),p=c(5761);Object.defineProperty(h.prototype,"of",p),o.exports=h},354:o=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},l(p)}var c=1e3,u=60*c,d=60*u,A=24*d,f=7*A;function h(p,m,g,b){var y=m>=1.5*g;return Math.round(p/g)+" "+b+(y?"s":"")}o.exports=function(p,m){m=m||{};var g,b,y=l(p);if(y==="string"&&p.length>0)return function(x){if(!((x=String(x)).length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(x);if(v){var w=parseFloat(v[1]);switch((v[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*w;case"weeks":case"week":case"w":return w*f;case"days":case"day":case"d":return w*A;case"hours":case"hour":case"hrs":case"hr":case"h":return w*d;case"minutes":case"minute":case"mins":case"min":case"m":return w*u;case"seconds":case"second":case"secs":case"sec":case"s":return w*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}(p);if(y==="number"&&isFinite(p))return m.long?(g=p,(b=Math.abs(g))>=A?h(g,b,A,"day"):b>=d?h(g,b,d,"hour"):b>=u?h(g,b,u,"minute"):b>=c?h(g,b,c,"second"):g+" ms"):function(x){var v=Math.abs(x);return v>=A?Math.round(x/A)+"d":v>=d?Math.round(x/d)+"h":v>=u?Math.round(x/u)+"m":v>=c?Math.round(x/c)+"s":x+"ms"}(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))}},433:(o,l,c)=>{function u(w){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u(w)}function d(w,_){var B=Object.keys(w);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(w);_&&(N=N.filter(function(j){return Object.getOwnPropertyDescriptor(w,j).enumerable})),B.push.apply(B,N)}return B}function A(w){for(var _=1;_<arguments.length;_++){var B=arguments[_]!=null?arguments[_]:{};_%2?d(Object(B),!0).forEach(function(N){f(w,N,B[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(B)):d(Object(B)).forEach(function(N){Object.defineProperty(w,N,Object.getOwnPropertyDescriptor(B,N))})}return w}function f(w,_,B){return(_=function(N){var j=function(C){if(u(C)!="object"||!C)return C;var E=C[Symbol.toPrimitive];if(E!==void 0){var S=E.call(C,"string");if(u(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(N);return u(j)=="symbol"?j:j+""}(_))in w?Object.defineProperty(w,_,{value:B,enumerable:!0,configurable:!0,writable:!0}):w[_]=B,w}var h=c(3609),p=c(6426),m=c(5413),g=c(4327),b=c(9460);function y(w,_){p.call(this,w,_,"Int32")}y.schemaName="Int32",y.defaultOptions={},y.prototype=Object.create(p.prototype),y.prototype.constructor=y,y._cast=m,y.set=p.set,y.setters=[],y.get=p.get,y._defaultCaster=function(w){if(w!=null&&(typeof w!="number"||w!==(0|w)||w<-2147483648||w>2147483647))throw new Error;return w},y.cast=function(w){return arguments.length===0||(w===!1&&(w=this._defaultCaster),this._cast=w),this._cast},y._checkRequired=function(w){return w!=null},y.checkRequired=p.checkRequired,y.prototype.checkRequired=function(w){return this.constructor._checkRequired(w)},y.prototype.cast=function(w){var _;_=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():y.cast();try{return _(w)}catch(B){throw new h("Int32",w,this.path,B,this)}};var x=A(A({},p.prototype.$conditionalHandlers),{},{$gt:v,$gte:v,$lt:v,$lte:v,$bitsAllClear:b,$bitsAnyClear:b,$bitsAllSet:b,$bitsAnySet:b});function v(w,_){return this.castForQuery(null,w,_)}Object.defineProperty(y.prototype,"$conditionalHandlers",{enumerable:!1,value:x}),y.prototype.castForQuery=function(w,_,B){var N;if(w!=null)return(N=this.$conditionalHandlers[w])?N.call(this,_):this.applySetters(_,B);try{return this.applySetters(_,B)}catch(j){throw j instanceof h&&j.path===this.path&&this.$fullPath!=null&&(j.path=this.$fullPath),j}},y.prototype.toJSONSchema=function(w){var _=this.options.required&&typeof this.options.required!="function";return g("number","int",w==null?void 0:w.useBsonType,_)},y.prototype.autoEncryptionType=function(){return"int"},o.exports=y},486:o=>{o.exports=function(l){var c={_id:{auto:!0}};c._id[l.options.typeKey]="ObjectId",l.add(c)}},533:(o,l,c)=>{var u=c(8213),d=c(7352);o.exports=function(A,f){if(typeof A!="string"&&typeof A!="function")throw new u('Invalid ref at path "'+f+'". Got '+d.inspect(A,{depth:0}))}},542:o=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(c)}o.exports=function(c){return!!c&&(l(c)==="object"||typeof c=="function")&&typeof c.then=="function"}},608:(o,l,c)=>{var u=c(5832).hp;o.exports=function(d){return u.isBuffer(d)||Object.prototype.toString.call(d)==="[object Object]"}},622:(o,l,c)=>{function u(m,g){var b=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!b){if(Array.isArray(m)||(b=function(B,N){if(B){if(typeof B=="string")return d(B,N);var j={}.toString.call(B).slice(8,-1);return j==="Object"&&B.constructor&&(j=B.constructor.name),j==="Map"||j==="Set"?Array.from(B):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?d(B,N):void 0}}(m))||g){b&&(m=b);var y=0,x=function(){};return{s:x,n:function(){return y>=m.length?{done:!0}:{done:!1,value:m[y++]}},e:function(B){throw B},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,w=!0,_=!1;return{s:function(){b=b.call(m)},n:function(){var B=b.next();return w=B.done,B},e:function(B){_=!0,v=B},f:function(){try{w||b.return==null||b.return()}finally{if(_)throw v}}}}function d(m,g){(g==null||g>m.length)&&(g=m.length);for(var b=0,y=Array(g);b<g;b++)y[b]=m[b];return y}var A=c(4009),f=c(8768),h=c(7930).modelSymbol;function p(m,g){this.path=g,this.getters=[],this.setters=[],this.options=Object.assign({},m)}p.prototype._applyDefaultGetters=function(){if(!(this.getters.length>0||this.setters.length>0)){var m="$"+this.path;this.getters.push(function(){return this.$locals[m]}),this.setters.push(function(g){this.$locals[m]=g})}},p.prototype.clone=function(){var m=new p(this.options,this.path);return m.getters=[].concat(this.getters),m.setters=[].concat(this.setters),m},p.prototype.get=function(m){return this.getters.push(m),this},p.prototype.set=function(m){return this.setters.push(m),this},p.prototype.applyGetters=function(m,g){f.hasUserDefinedProperty(this.options,["ref","refPath"])&&g.$$populatedVirtuals&&g.$$populatedVirtuals.hasOwnProperty(this.path)&&(m=g.$$populatedVirtuals[this.path]);var b,y=m,x=u(this.getters);try{for(x.s();!(b=x.n()).done;)y=b.value.call(g,y,this,g)}catch(v){x.e(v)}finally{x.f()}return y},p.prototype.applySetters=function(m,g){var b,y=m,x=u(this.setters);try{for(x.s();!(b=x.n()).done;)y=b.value.call(g,y,this,g)}catch(v){x.e(v)}finally{x.f()}return y},p.prototype._getModelNamesForPopulate=function(m){if(this.options.refPath)return A(this.options.refPath,m,this.path);var g;return(g=typeof this.options.ref!="function"||this.options.ref[h]?this.options.ref:this.options.ref.call(m,m))==null||Array.isArray(g)?g:[g]},o.exports=p},668:(o,l,c)=>{var u=Array.prototype.slice,d=c(6312),A=Object.keys,f=A?function(p){return A(p)}:c(6544),h=Object.keys;f.shim=function(){if(Object.keys){var p=function(){var m=Object.keys(arguments);return m&&m.length===arguments.length}(1,2);p||(Object.keys=function(m){return d(m)?h(u.call(m)):h(m)})}else Object.keys=f;return Object.keys||f},o.exports=f},674:(o,l,c)=>{var u=c(3414);o.exports=function(d){return u(d)||d===0?d:d<0?-1:1}},766:(o,l)=>{var c=o.exports={};c.DocumentNotFoundError=null,c.general={},c.general.default="Validator failed for path `{PATH}` with value `{VALUE}`",c.general.required="Path `{PATH}` is required.",c.Number={},c.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).",c.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).",c.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",c.Date={},c.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).",c.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).",c.String={},c.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",c.String.match="Path `{PATH}` is invalid ({VALUE}).",c.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).",c.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."},783:o=>{o.exports=ReferenceError},791:(o,l,c)=>{function u(f,h){var p=typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(!p){if(Array.isArray(f)||(p=function(v,w){if(v){if(typeof v=="string")return d(v,w);var _={}.toString.call(v).slice(8,-1);return _==="Object"&&v.constructor&&(_=v.constructor.name),_==="Map"||_==="Set"?Array.from(v):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?d(v,w):void 0}}(f))||h){p&&(f=p);var m=0,g=function(){};return{s:g,n:function(){return m>=f.length?{done:!0}:{done:!1,value:f[m++]}},e:function(v){throw v},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,y=!0,x=!1;return{s:function(){p=p.call(f)},n:function(){var v=p.next();return y=v.done,v},e:function(v){x=!0,b=v},f:function(){try{y||p.return==null||p.return()}finally{if(x)throw b}}}}function d(f,h){(h==null||h>f.length)&&(h=f.length);for(var p=0,m=Array(h);p<h;p++)m[p]=f[p];return m}var A=c(3703);o.exports=function(f,h,p){var m,g=p!=null?Object.keys(A(f.tree,p,{})):Object.keys(f.tree),b=new Set(Object.keys(h));if(b.size>1){m=new Set;var y,x=u(g);try{for(x.s();!(y=x.n()).done;){var v=y.value;b.has(v)&&m.add(v)}}catch(N){x.e(N)}finally{x.f()}var w,_=u(b);try{for(_.s();!(w=_.n()).done;){var B=w.value;m.has(B)||m.add(B)}}catch(N){_.e(N)}finally{_.f()}m=Array.from(m)}else m=Array.from(b);return m}},863:(o,l,c)=>{var u=c(3305),d=c(5549);o.exports=function(A){if(A==null||u(A,"ObjectId"))return A;if(A._id){if(u(A._id,"ObjectId"))return A._id;if(A._id.toString instanceof Function)return new d(A._id.toString())}return A.toString instanceof Function?new d(A.toString()):new d(A)}},953:(o,l,c)=>{var u=c(5484);o.exports=function(){return u()&&!!Symbol.toStringTag}},988:o=>{var l=Object.defineProperty||!1;if(l)try{l({},"a",{value:1})}catch{l=!1}o.exports=l},1007:(o,l,c)=>{function u(m){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(m)}function d(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!m})()}function A(m){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},A(m)}function f(m,g){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,y){return b.__proto__=y,b},f(m,g)}var h=function(m){function g(){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,g,arguments)}return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),x&&f(y,x)}(g,m),b=g,Object.defineProperty(b,"prototype",{writable:!1}),b;var b}(c(8879)),p=c(5761);Object.defineProperty(h.prototype,"min",p),Object.defineProperty(h.prototype,"max",p),Object.defineProperty(h.prototype,"enum",p),Object.defineProperty(h.prototype,"populate",p),o.exports=h},1058:(o,l,c)=>{var u=c(2696);o.exports=function(d,A){if(d==null)return null;for(var f=0,h=Object.keys(d);f<h.length;f++){var p=d[h[f]];if(p.schema&&p.schema.discriminatorMapping&&u(p.schema.discriminatorMapping.value,A))return p}return null}},1091:o=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(c)}o.exports=function(c){return c!=null&&l(c)==="object"&&c.$slice==null&&c.$elemMatch==null&&c.$meta==null&&c.$==null}},1129:(o,l,c)=>{function u(g){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},u(g)}function d(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!g})()}function A(g){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},A(g)}function f(g,b){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,x){return y.__proto__=x,y},f(g,b)}var h=c(8213),p=c(7352),m=function(g){function b(x,v,w,_){var B;(function(j,C){if(!(j instanceof C))throw new TypeError("Cannot call a class as a function")})(this,b);var N=h.messages;return(B=function(j,C,E){return C=A(C),function(S,k){if(k&&(u(k)=="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(S)}(j,d()?Reflect.construct(C,E||[],A(j).constructor):C.apply(j,E))}(this,b,[N.DocumentNotFoundError!=null?typeof N.DocumentNotFoundError=="function"?N.DocumentNotFoundError(x,v):N.DocumentNotFoundError:'No document found for query "'+p.inspect(x)+'" on model "'+v+'"'])).result=_,B.numAffected=w,B.filter=x,B.query=x,B}return function(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),v&&f(x,v)}(b,g),y=b,Object.defineProperty(y,"prototype",{writable:!1}),y;var y}(h);Object.defineProperty(m.prototype,"name",{value:"DocumentNotFoundError"}),o.exports=m},1199:o=>{o.exports=function(l,c){var u=Object.keys(l),d=Object.keys(c);if(u.length!==d.length)return!1;for(var A=0;A<u.length;A++){var f=u[A];if(f!==d[A]||l[f]!==c[f])return!1}return!0}},1226:o=>{o.exports=function(l){return l==null?null:Object.keys(l)[0]}},1243:(o,l)=>{l.isMongooseArray=function(c){return Array.isArray(c)&&c.isMongooseArray}},1244:(o,l,c)=>{var u=c(3609);o.exports=function(d,A){if(d==null)return d;if(d._id&&typeof d._id=="string")return d._id;if(d.toString&&d.toString!==Object.prototype.toString&&!Array.isArray(d))return d.toString();throw new u("string",d,A)}},1260:(o,l)=>{var c=Object.freeze(["countDocuments","distinct","estimatedDocumentCount","find","findOne","findOneAndReplace","findOneAndUpdate","replaceOne","updateMany","updateOne","deleteMany","deleteOne","findOneAndDelete"]).concat(["validate"]);l.Ut=c},1313:(o,l,c)=>{var u=c(486);o.exports=function(d,A){return A==null||A._id==null||(d=d.clone(),A._id?d.paths._id||(u(d),d.options._id=!0):(d.remove("_id"),d.options._id=!1)),d}},1344:(o,l,c)=>{o.exports=c(6353).UUID},1347:(o,l)=>{l.isMongooseDocumentArray=function(c){return Array.isArray(c)&&c.isMongooseDocumentArray}},1350:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}function d(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!p})()}function A(p){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A(p)}function f(p,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},f(p,m)}var h=function(p){function m(b,y,x){return function(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}(this,m),function(v,w,_){return w=A(w),function(B,N){if(N&&(u(N)=="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(B)}(v,d()?Reflect.construct(w,_||[],A(v).constructor):w.apply(v,_))}(this,m,['Parameter "'+y+'" to '+x+'() must be an object, got "'+b.toString()+'" (type '+u(b)+")"])}return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),y&&f(b,y)}(m,p),g=m,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(c(8213));Object.defineProperty(h.prototype,"name",{value:"ObjectParameterError"}),o.exports=h},1417:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}function d(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!p})()}function A(p){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A(p)}function f(p,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},f(p,m)}var h=function(p){function m(b){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,m),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,m,["For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+b.join(`
  `)+`
Use Model.updateOne() to update these arrays instead.`])}return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),y&&f(b,y)}(m,p),g=m,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(c(8213));Object.defineProperty(h.prototype,"name",{value:"DivergentArrayError"}),o.exports=h},1464:(o,l,c)=>{var u=c(5807);if(u)try{u([],"length")}catch{u=null}o.exports=u},1469:(o,l,c)=>{function u(C){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},u(C)}function d(C,E){var S=Object.keys(C);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(C);E&&(k=k.filter(function(P){return Object.getOwnPropertyDescriptor(C,P).enumerable})),S.push.apply(S,k)}return S}function A(C,E,S){return(E=function(k){var P=function(M){if(u(M)!="object"||!M)return M;var H=M[Symbol.toPrimitive];if(H!==void 0){var F=H.call(M,"string");if(u(F)!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}(k);return u(P)=="symbol"?P:P+""}(E))in C?Object.defineProperty(C,E,{value:S,enumerable:!0,configurable:!0,writable:!0}):C[E]=S,C}function f(){var C,E,S=typeof Symbol=="function"?Symbol:{},k=S.iterator||"@@iterator",P=S.toStringTag||"@@toStringTag";function M(O,R,U,T){var z=R&&R.prototype instanceof F?R:F,G=Object.create(z.prototype);return h(G,"_invoke",function(J,ee,fe){var de,ae,xe,X=0,ie=fe||[],re=!1,ve={p:0,n:0,v:C,a:ke,f:ke.bind(C,4),d:function(Ce,we){return de=Ce,ae=0,xe=C,ve.n=we,H}};function ke(Ce,we){for(ae=Ce,xe=we,E=0;!re&&X&&!oe&&E<ie.length;E++){var oe,pe=ie[E],je=ve.p,Te=pe[2];Ce>3?(oe=Te===we)&&(xe=pe[(ae=pe[4])?5:(ae=3,3)],pe[4]=pe[5]=C):pe[0]<=je&&((oe=Ce<2&&je<pe[1])?(ae=0,ve.v=we,ve.n=pe[1]):je<Te&&(oe=Ce<3||pe[0]>we||we>Te)&&(pe[4]=Ce,pe[5]=we,ve.n=Te,ae=0))}if(oe||Ce>1)return H;throw re=!0,we}return function(Ce,we,oe){if(X>1)throw TypeError("Generator is already running");for(re&&we===1&&ke(we,oe),ae=we,xe=oe;(E=ae<2?C:xe)||!re;){de||(ae?ae<3?(ae>1&&(ve.n=-1),ke(ae,xe)):ve.n=xe:ve.v=xe);try{if(X=2,de){if(ae||(Ce="next"),E=de[Ce]){if(!(E=E.call(de,xe)))throw TypeError("iterator result is not an object");if(!E.done)return E;xe=E.value,ae<2&&(ae=0)}else ae===1&&(E=de.return)&&E.call(de),ae<2&&(xe=TypeError("The iterator does not provide a '"+Ce+"' method"),ae=1);de=C}else if((E=(re=ve.n<0)?xe:J.call(ee,ve))!==H)break}catch(pe){de=C,ae=1,xe=pe}finally{X=1}}return{value:E,done:re}}}(O,U,T),!0),G}var H={};function F(){}function Q(){}function K(){}E=Object.getPrototypeOf;var Y=[][k]?E(E([][k]())):(h(E={},k,function(){return this}),E),V=K.prototype=F.prototype=Object.create(Y);function I(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,K):(O.__proto__=K,h(O,P,"GeneratorFunction")),O.prototype=Object.create(V),O}return Q.prototype=K,h(V,"constructor",K),h(K,"constructor",Q),Q.displayName="GeneratorFunction",h(K,P,"GeneratorFunction"),h(V),h(V,P,"Generator"),h(V,k,function(){return this}),h(V,"toString",function(){return"[object Generator]"}),(f=function(){return{w:M,m:I}})()}function h(C,E,S,k){var P=Object.defineProperty;try{P({},"",{})}catch{P=0}h=function(M,H,F,Q){if(H)P?P(M,H,{value:F,enumerable:!Q,configurable:!Q,writable:!Q}):M[H]=F;else{var K=function(Y,V){h(M,Y,function(I){return this._invoke(Y,V,I)})};K("next",0),K("throw",1),K("return",2)}},h(C,E,S,k)}function p(C){return function(E){if(Array.isArray(E))return b(E)}(C)||function(E){if(typeof Symbol<"u"&&E[Symbol.iterator]!=null||E["@@iterator"]!=null)return Array.from(E)}(C)||g(C)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(C,E){var S=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!S){if(Array.isArray(C)||(S=g(C))||E){S&&(C=S);var k=0,P=function(){};return{s:P,n:function(){return k>=C.length?{done:!0}:{done:!1,value:C[k++]}},e:function(Q){throw Q},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,H=!0,F=!1;return{s:function(){S=S.call(C)},n:function(){var Q=S.next();return H=Q.done,Q},e:function(Q){F=!0,M=Q},f:function(){try{H||S.return==null||S.return()}finally{if(F)throw M}}}}function g(C,E){if(C){if(typeof C=="string")return b(C,E);var S={}.toString.call(C).slice(8,-1);return S==="Object"&&C.constructor&&(S=C.constructor.name),S==="Map"||S==="Set"?Array.from(C):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?b(C,E):void 0}}function b(C,E){(E==null||E>C.length)&&(E=C.length);for(var S=0,k=Array(E);S<E;S++)k[S]=C[S];return k}var y=c(5022),x=c(8442),v=c(4450),w=c(2068).X,_=c(3703),B=c(8768),N=c(4301),j={toJSON:!0,toObject:!0,_id:!0,id:!0,virtuals:!0,methods:!0};o.exports=function(C,E,S,k,P,M,H){if(!S||!S.instanceOfSchema)throw new Error("You must pass a valid discriminator Schema");if(M=M==null||M,C.schema.discriminatorMapping&&!C.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+E+'" can only be a discriminator of the root model');if(P){var F=_(C.base,"options.applyPluginsToDiscriminators",!1)||!M;C.base._applyPlugins(S,{skipTopLevel:!F})}else M||x(S);var Q=C.schema.options.discriminatorKey,K=C.schema.path(Q);if(K!=null)B.hasUserDefinedProperty(K.options,"select")||(K.options.select=!0),K.options.$skipDiscriminatorCheck=!0;else{var Y={};Y[Q]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},Y[Q][C.schema.options.typeKey]=String,C.schema.add(Y),w({prop:Q,prototype:C.prototype,options:C.schema.options})}if(S.path(Q)&&S.path(Q).options.$skipDiscriminatorCheck!==!0)throw new Error('Discriminator "'+E+'" cannot have field with name "'+Q+'"');var V=E;if((typeof k=="string"&&k.length||k!=null)&&(V=k),function(I,O){var R=f().m(J);if(I.encryptionType()!=null||O.encryptionType()!=null){var U,T=m(J(G(I),G(O)));try{for(T.s();!(U=T.n()).done;){var z=U.value;if(I._hasEncryptedField(z)&&O._hasEncryptedField(z))throw new Error("encrypted fields cannot be declared on both the base schema and the child schema in a discriminator. path=".concat(z));if(I._hasEncryptedField(z)||O._hasEncryptedField(z))throw new Error("encrypted fields cannot have the same path as a non-encrypted field for discriminators. path=".concat(z))}}catch(ee){T.e(ee)}finally{T.f()}}function G(ee){return[].concat(p(Object.keys(ee.paths)),p(Object.keys(ee.singleNestedPaths)))}function J(ee,fe){var de,ae,xe,X,ie;return f().w(function(re){for(;;)switch(re.n){case 0:de=new Set(ee),ae=m(fe),re.p=1,ae.s();case 2:if((xe=ae.n()).done){re.n=4;break}if(X=xe.value,!de.has(X)){re.n=3;break}return re.n=3,X;case 3:re.n=2;break;case 4:re.n=6;break;case 5:re.p=5,ie=re.v,ae.e(ie);case 6:return re.p=6,ae.f(),re.f(6);case 7:return re.a(2)}},R,null,[[1,5,6,7]])}}(C.schema,S),function(I,O){I._baseSchema=O,O.paths._id&&O.paths._id.options&&!O.paths._id.options.auto&&I.remove("_id");for(var R=[],U=0,T=Object.keys(O.paths);U<T.length;U++){var z=T[U];if(I.nested[z])R.push(z);else if(z.indexOf(".")!==-1){var G,J="",ee=m(z.split(".").slice(0,-1));try{for(ee.s();!(G=ee.n()).done;){var fe=G.value;J+=(J.length?".":"")+fe,(I.paths[J]instanceof y||I.singleNestedPaths[J]instanceof y)&&R.push(z)}}catch(qe){ee.e(qe)}finally{ee.f()}}}I.obj=function(qe){for(var Qe=1;Qe<arguments.length;Qe++){var Re=arguments[Qe]!=null?arguments[Qe]:{};Qe%2?d(Object(Re),!0).forEach(function(We){A(qe,We,Re[We])}):Object.getOwnPropertyDescriptors?Object.defineProperties(qe,Object.getOwnPropertyDescriptors(Re)):d(Object(Re)).forEach(function(We){Object.defineProperty(qe,We,Object.getOwnPropertyDescriptor(Re,We))})}return qe}({},I.obj),N(I,O),I._gatherChildSchemas();for(var de=0,ae=R;de<ae.length;de++){var xe=ae[de];delete I.paths[xe]}I.childSchemas.forEach(function(qe){qe.model.prototype.$__setSchema(qe.schema)});var X={};X[Q]={default:V,select:!0,set:function(qe){if(qe===V||Array.isArray(V)&&B.deepEqual(qe,V))return V;throw new Error(`Can't set discriminator key "`+Q+'"')},$skipDiscriminatorCheck:!0},X[Q][I.options.typeKey]=K?K.options[I.options.typeKey]:String,I.add(X),I.discriminatorMapping={key:Q,value:V,isRoot:!1},O.options.collection&&(I.options.collection=O.options.collection);var ie=I.options.toJSON,re=I.options.toObject,ve=I.options._id,ke=I.options.id,Ce=Object.keys(I.options);I.options.discriminatorKey=O.options.discriminatorKey;for(var we=I._userProvidedOptions,oe=0,pe=Ce;oe<pe.length;oe++){var je=pe[oe];if(!j[je]&&je in we&&!B.deepEqual(I.options[je],O.options[je]))throw new Error("Can't customize discriminator option "+je+" (can only modify "+Object.keys(j).join(", ")+")")}I.options=v(O.options);for(var Te=0,be=Object.keys(we);Te<be.length;Te++){var De=be[Te];I.options[De]=we[De]}ie&&(I.options.toJSON=ie),re&&(I.options.toObject=re),ve!==void 0&&(I.options._id=ve),I.options.id=ke,M&&(I.s.hooks=C.schema.s.hooks.merge(I.s.hooks)),P&&(I.plugins=Array.prototype.slice.call(O.plugins)),I.callQueue=O.callQueue.concat(I.callQueue),delete I._requiredpaths}(S,C.schema),C.discriminators||(C.discriminators={}),C.schema.discriminatorMapping||(C.schema.discriminatorMapping={key:Q,value:null,isRoot:!0}),C.schema.discriminators||(C.schema.discriminators={}),C.schema.discriminators[E]=S,C.discriminators[E]&&!S.options.overwriteModels&&!H)throw new Error('Discriminator with name "'+E+'" already exists');return S}},1505:o=>{o.exports=function(l,c,u,d,A){var f=c!=null&&c.updatedAt===!1,h=c!=null&&c.createdAt===!1,p=u!=null?u():l.ownerDocument().constructor.base.now();if(!h&&(l.isNew||l.$isSubdocument)&&d&&!l.$__getValue(d)&&l.$__isSelected(d)&&l.$set(d,p,void 0,{overwriteImmutable:!0}),!f&&A&&(l.isNew||l.$isModified())){var m=p;l.isNew&&d!=null&&(m=l.$__getValue(d)),l.$set(A,m)}}},1635:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}function d(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!p})()}function A(p){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A(p)}function f(p,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},f(p,m)}var h=function(p){function m(b){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,m),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,m,["Can't validate() the same doc multiple times in parallel. Document: "+b._doc._id])}return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),y&&f(b,y)}(m,p),g=m,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(c(8213));Object.defineProperty(h.prototype,"name",{value:"ParallelValidateError"}),o.exports=h},1679:o=>{typeof Object.create=="function"?o.exports=function(l,c){c&&(l.super_=c,l.prototype=Object.create(c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(l,c){if(c){l.super_=c;var u=function(){};u.prototype=c.prototype,l.prototype=new u,l.prototype.constructor=l}}},1697:o=>{o.exports=Math.max},1732:(o,l,c)=>{function u(v){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},u(v)}function d(v,w){var _=Object.keys(v);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(v);w&&(B=B.filter(function(N){return Object.getOwnPropertyDescriptor(v,N).enumerable})),_.push.apply(_,B)}return _}function A(v){for(var w=1;w<arguments.length;w++){var _=arguments[w]!=null?arguments[w]:{};w%2?d(Object(_),!0).forEach(function(B){f(v,B,_[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(_)):d(Object(_)).forEach(function(B){Object.defineProperty(v,B,Object.getOwnPropertyDescriptor(_,B))})}return v}function f(v,w,_){return(w=function(B){var N=function(j){if(u(j)!="object"||!j)return j;var C=j[Symbol.toPrimitive];if(C!==void 0){var E=C.call(j,"string");if(u(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(B);return u(N)=="symbol"?N:N+""}(w))in v?Object.defineProperty(v,w,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[w]=_,v}var h=c(3609),p=c(6426),m=c(3704),g=c(4327);function b(v,w){p.call(this,v,w,"Double")}function y(v){return this.cast(v)}b.schemaName="Double",b.defaultOptions={},b.prototype=Object.create(p.prototype),b.prototype.constructor=b,b._cast=m,b.set=p.set,b.setters=[],b.get=p.get,b._defaultCaster=function(v){if(v!=null&&v._bsontype!=="Double")throw new Error;return v},b.cast=function(v){return arguments.length===0||(v===!1&&(v=this._defaultCaster),this._cast=v),this._cast},b._checkRequired=function(v){return v!=null},b.checkRequired=p.checkRequired,b.prototype.checkRequired=function(v){return this.constructor._checkRequired(v)},b.prototype.cast=function(v){var w;w=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():b.cast();try{return w(v)}catch(_){throw new h("Double",v,this.path,_,this)}};var x=A(A({},p.prototype.$conditionalHandlers),{},{$gt:y,$gte:y,$lt:y,$lte:y});Object.defineProperty(b.prototype,"$conditionalHandlers",{enumerable:!1,value:x}),b.prototype.toJSONSchema=function(v){var w=this.options.required&&typeof this.options.required!="function";return g("number","double",v==null?void 0:v.useBsonType,w)},b.prototype.autoEncryptionType=function(){return"double"},o.exports=b},1793:(o,l,c)=>{var u=c(7300),d=c(2789);o.exports=function A(f){if(f==null)return null;var h=Object.keys(f),p=null;if(h.length===1&&h[0]==="_id")p=!f._id;else for(var m=0;m<h.length;++m){var g,b=h[m];if(b!=="_id"&&u(f[b])&&(p=d(f[b])?(g=A(f[b]))!==null&&g!==void 0?g:p:!f[b])!=null)break}return p}},1824:(o,l,c)=>{function u(A){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},u(A)}var d=c(3703);o.exports=function(A,f,h,p,m,g){var b=p,y=b,x=d(m,"timestamps",!0);if(!x||b==null)return p;var v,w,_,B=x!=null&&x.createdAt===!1,N=x!=null&&x.updatedAt===!1;if(g)return p&&p.$set&&(p=p.$set,b.$set={},y=b.$set),N||!h||p[h]||(y[h]=A),B||!f||p[f]||(y[f]=A),b;if(p=p||{},Array.isArray(b))return h==null||b.push({$set:(v={},w=h,_=A,(w=function(K){var Y=function(V){if(u(V)!="object"||!V)return V;var I=V[Symbol.toPrimitive];if(I!==void 0){var O=I.call(V,"string");if(u(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(V)}(K);return u(Y)=="symbol"?Y:Y+""}(w))in v?Object.defineProperty(v,w,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[w]=_,v)}),b;if(b.$set=b.$set||{},!N&&h&&(!p.$currentDate||!p.$currentDate[h])){var j=!1;if(h.indexOf(".")!==-1)for(var C=h.split("."),E=1;E<C.length;++E){var S=C.slice(-E).join("."),k=C.slice(0,-E).join(".");if(p[k]!=null){p[k][S]=A,j=!0;break}if(p.$set&&p.$set[k]){p.$set[k][S]=A,j=!0;break}}j||(b.$set[h]=A),b.hasOwnProperty(h)&&delete b[h]}if(!B&&f){p[f]&&delete p[f],p.$set&&p.$set[f]&&delete p.$set[f];var P=!1;if(f.indexOf(".")!==-1)for(var M=f.split("."),H=1;H<M.length;++H){var F=M.slice(-H).join("."),Q=M.slice(0,-H).join(".");if(p[Q]!=null){p[Q][F]=A,P=!0;break}if(p.$set&&p.$set[Q]){p.$set[Q][F]=A,P=!0;break}}P||(b.$setOnInsert=b.$setOnInsert||{},b.$setOnInsert[f]=A)}return Object.keys(b.$set).length===0&&delete b.$set,b}},1849:(o,l,c)=>{function u(A,f){(f==null||f>A.length)&&(f=A.length);for(var h=0,p=Array(f);h<f;h++)p[h]=A[h];return p}var d=c(8768);o.exports=function(A,f){if(A._doc._id!=null&&f!=null&&f.length!==0){var h,p=String(A._doc._id),m=function(B,N){var j=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!j){if(Array.isArray(B)||(j=function(M,H){if(M){if(typeof M=="string")return u(M,H);var F={}.toString.call(M).slice(8,-1);return F==="Object"&&M.constructor&&(F=M.constructor.name),F==="Map"||F==="Set"?Array.from(M):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?u(M,H):void 0}}(B))||N){j&&(B=j);var C=0,E=function(){};return{s:E,n:function(){return C>=B.length?{done:!0}:{done:!1,value:B[C++]}},e:function(M){throw M},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,k=!0,P=!1;return{s:function(){j=j.call(B)},n:function(){var M=j.next();return k=M.done,M},e:function(M){P=!0,S=M},f:function(){try{k||j.return==null||j.return()}finally{if(P)throw S}}}}(f);try{for(m.s();!(h=m.n()).done;){var g=h.value;if(!g.isVirtual)for(var b=g.path.split("."),y=0;y<b.length-1;++y){var x=b.slice(0,y+1).join("."),v=b.slice(y+1).join("."),w=A.get(x);if(w!=null&&d.isMongooseDocumentArray(w)){for(var _=0;_<w.length;++_)w[_]&&w[_].populated(v,g._docs[p]==null?void 0:g._docs[p][_],g);break}}}}catch(B){m.e(B)}finally{m.f()}}}},1875:o=>{o.exports=function(l){for(var c,u=Object.keys(l.errors||{}),d=u.length,A=[],f=0;f<d;++f)c=u[f],l!==l.errors[c]&&A.push(c+": "+l.errors[c].message);return A.join(", ")}},1898:(o,l,c)=>{l.saveSubdocs=c(4432),l.sharding=c(2824),l.trackTransaction=c(5889),l.validateBeforeSave=c(9848)},1905:(o,l,c)=>{var u,d=c(3071),A=c(2724)(/^\s*(?:function)?\*/),f=c(953)(),h=c(209),p=d("Object.prototype.toString"),m=d("Function.prototype.toString");o.exports=function(g){if(typeof g!="function")return!1;if(A(m(g)))return!0;if(!f)return p(g)==="[object GeneratorFunction]";if(!h)return!1;if(u===void 0){var b=function(){if(!f)return!1;try{return Function("return function*() {}")()}catch{}}();u=!!b&&h(b)}return h(g)===u}},2003:(o,l,c)=>{var u=c(3703),d=c(608),A=c(2423);o.exports=function(f){var h=[],p=new WeakMap,m=f.constructor.indexTypes,g=new Map;return function b(y,x,v){if(!p.has(y)){p.set(y,!0),x=x||"";for(var w=0,_=Object.keys(y.paths);w<_.length;w++){var B=_[w],N=y.paths[B];if(v==null||!v.paths[B]){if(N._duplicateKeyErrorMessage!=null&&(y._duplicateKeyErrorMessagesByPath=y._duplicateKeyErrorMessagesByPath||{},y._duplicateKeyErrorMessagesByPath[B]=N._duplicateKeyErrorMessage),N.$isMongooseDocumentArray||N.$isSingleNested){if(u(N,"options.excludeIndexes")!==!0&&u(N,"schemaOptions.excludeIndexes")!==!0&&u(N,"schema.options.excludeIndexes")!==!0&&b(N.schema,x+B+"."),N.schema.discriminators!=null)for(var j=N.schema.discriminators,C=0,E=Object.keys(j);C<E.length;C++)b(j[E[C]],x+B+".",N.schema);if(N.$isMongooseDocumentArray)continue}var S=N._index||N.caster&&N.caster._index;if(S!==!1&&S!=null){var k={},P=d(S),M=P?S:{},H=typeof S=="string"?S:!!P&&S.type;if(H&&m.indexOf(H)!==-1)k[x+B]=H;else if(M.text)k[x+B]="text",delete M.text;else{var F;F=S==="descending"||S==="desc"||S!=="ascending"&&S!=="asc"&&Number(S)===-1,k[x+B]=F?-1:1}delete M.type,"background"in M||(M.background=!0),y.options.autoIndex!=null&&(M._autoIndex=y.options.autoIndex);var Q=M&&M.name;typeof Q=="string"&&g.has(Q)?Object.assign(g.get(Q),k):(h.push([k,M]),g.set(Q,k))}}}p.delete(y),x?function(K,Y){for(var V=K._indexes,I=V.length,O=0;O<I;++O){for(var R=V[O][0],U=V[O][1],T=Object.keys(R),z=T.length,G={},J=0;J<z;++J){var ee=T[J];G[Y+ee]=R[ee]}var fe=Object.assign({},U);if(U!=null&&U.partialFilterExpression!=null){fe.partialFilterExpression={};for(var de=U.partialFilterExpression,ae=0,xe=Object.keys(de);ae<xe.length;ae++){var X=xe[ae];fe.partialFilterExpression[Y+X]=de[X]}}h.push([G,fe])}}(y,x):(y._indexes.forEach(function(K){var Y=K[1];"background"in Y||(Y.background=!0),A(y,Y)}),h=h.concat(y._indexes))}}(f),h}},2064:(o,l,c)=>{var u=c(2273),d=c(9122),A=c(4756),f=c(2481),h=c(9247),p=d(f(),Object);u(p,{getPolyfill:f,implementation:A,shim:h}),o.exports=p},2068:(o,l,c)=>{var u,d=c(4450),A=c(7930).documentSchemaSymbol,f=c(3303)._,h=c(8768),p=c(7930).getSymbol,m=c(7930).scopeSymbol,g=h.isPOJO;l.w=x,l.X=v;var b=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1}),y=Object.freeze({noDottedPath:!0});function x(w,_,B,N){u=u||c(2400);for(var j=N.typeKey,C=0,E=Object.keys(w);C<E.length;C++){var S=E[C],k=w[S];v({prop:S,subprops:g(k)&&Object.keys(k).length>0&&(!k[j]||j==="type"&&g(k.type)&&k.type.type)?k:null,prototype:_,prefix:B,options:N})}}function v(w){var _=w.prop,B=w.subprops,N=w.prototype,j=w.prefix,C=w.options;u=u||c(2400);var E=(j?j+".":"")+_,S=(j=j||"")?Object.freeze({}):y;B?Object.defineProperty(N,_,{enumerable:!0,configurable:!0,get:function(){var k,P,M=this;if(this.$__.getters||(this.$__.getters={}),!this.$__.getters[E]){var H=Object.create(u.prototype,(k=this,P={},Object.getOwnPropertyNames(k).forEach(function(F){["isNew","$__","$errors","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(F)===-1||(P[F]=Object.getOwnPropertyDescriptor(k,F),P[F].enumerable=!1)}),P));j||(H.$__[m]=this),H.$__.nestedPath=E,Object.defineProperty(H,"schema",{enumerable:!1,configurable:!0,writable:!1,value:N.schema}),Object.defineProperty(H,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:N.schema}),Object.defineProperty(H,A,{enumerable:!1,configurable:!0,writable:!1,value:N.schema}),Object.defineProperty(H,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return d(M.get(E,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null}))}}),Object.defineProperty(H,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return M.get(E,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null})}}),Object.defineProperty(H,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return M.get(E,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toJSON&&this.schema.options.toJSON.virtuals||null})}}),Object.defineProperty(H,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0}),Object.defineProperty(H,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Object.keys(this.get(E,null,b)||{}).length===0}}),Object.defineProperty(H,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),x(B,H,E,C),this.$__.getters[E]=H}return this.$__.getters[E]},set:function(k){k!=null&&k.$__isNested?k=k.$__get():k instanceof u&&!k.$__isNested&&(k=k.$toObject(f)),(this.$__[m]||this).$set(E,k)}}):Object.defineProperty(N,_,{enumerable:!0,configurable:!0,get:function(){return this[p].call(this.$__[m]||this,E,null,S)},set:function(k){this.$set.call(this.$__[m]||this,E,k)}})}},2069:(o,l,c)=>{function u(f,h,p){return Object.defineProperty(f,"prototype",{writable:!1}),f}var d=c(5761),A=u(function f(h){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,f),Object.assign(this,h),h!=null&&h.options!=null&&(this.options=Object.assign({},h.options))});Object.defineProperty(A.prototype,"ref",d),Object.defineProperty(A.prototype,"refPath",d),Object.defineProperty(A.prototype,"localField",d),Object.defineProperty(A.prototype,"foreignField",d),Object.defineProperty(A.prototype,"justOne",d),Object.defineProperty(A.prototype,"count",d),Object.defineProperty(A.prototype,"match",d),Object.defineProperty(A.prototype,"options",d),Object.defineProperty(A.prototype,"skip",d),Object.defineProperty(A.prototype,"limit",d),Object.defineProperty(A.prototype,"perDocumentLimit",d),o.exports=A},2073:o=>{o.exports=function l(c){if(!Array.isArray(c))return{min:0,max:0,containsNonArrayItem:!0};if(c.length===0)return{min:1,max:1,containsNonArrayItem:!1};if(c.length===1&&!Array.isArray(c[0]))return{min:1,max:1,containsNonArrayItem:!1};for(var u=l(c[0]),d=1;d<c.length;++d){var A=l(c[d]);A.min<u.min&&(u.min=A.min),A.max>u.max&&(u.max=A.max),u.containsNonArrayItem=u.containsNonArrayItem||A.containsNonArrayItem}return u.min=u.min+1,u.max=u.max+1,u}},2081:(o,l,c)=>{function u(F){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},u(F)}function d(F,Q){var K=typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(!K){if(Array.isArray(F)||(K=function(U,T){if(U){if(typeof U=="string")return A(U,T);var z={}.toString.call(U).slice(8,-1);return z==="Object"&&U.constructor&&(z=U.constructor.name),z==="Map"||z==="Set"?Array.from(U):z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z)?A(U,T):void 0}}(F))||Q){K&&(F=K);var Y=0,V=function(){};return{s:V,n:function(){return Y>=F.length?{done:!0}:{done:!1,value:F[Y++]}},e:function(U){throw U},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I,O=!0,R=!1;return{s:function(){K=K.call(F)},n:function(){var U=K.next();return O=U.done,U},e:function(U){R=!0,I=U},f:function(){try{O||K.return==null||K.return()}finally{if(R)throw I}}}}function A(F,Q){(Q==null||Q>F.length)&&(Q=F.length);for(var K=0,Y=Array(Q);K<Q;K++)Y[K]=F[K];return Y}function f(F,Q){for(var K=0;K<Q.length;K++){var Y=Q[K];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(F,h(Y.key),Y)}}function h(F){var Q=function(K){if(u(K)!="object"||!K)return K;var Y=K[Symbol.toPrimitive];if(Y!==void 0){var V=Y.call(K,"string");if(u(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(K)}(F);return u(Q)=="symbol"?Q:Q+""}function p(F,Q,K,Y){var V=m(x(1&Y?F.prototype:F),Q,K);return 2&Y&&typeof V=="function"?function(I){return V.apply(K,I)}:V}function m(){return m=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(F,Q,K){var Y=function(I,O){for(;!{}.hasOwnProperty.call(I,O)&&(I=x(I))!==null;);return I}(F,Q);if(Y){var V=Object.getOwnPropertyDescriptor(Y,Q);return V.get?V.get.call(arguments.length<3?F:K):V.value}},m.apply(null,arguments)}function g(F){var Q=typeof Map=="function"?new Map:void 0;return g=function(K){if(K===null||!function(V){try{return Function.toString.call(V).indexOf("[native code]")!==-1}catch{return typeof V=="function"}}(K))return K;if(typeof K!="function")throw new TypeError("Super expression must either be null or a function");if(Q!==void 0){if(Q.has(K))return Q.get(K);Q.set(K,Y)}function Y(){return function(V,I,O){if(b())return Reflect.construct.apply(null,arguments);var R=[null];R.push.apply(R,I);var U=new(V.bind.apply(V,R));return O&&y(U,O.prototype),U}(K,arguments,x(this).constructor)}return Y.prototype=Object.create(K.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),y(Y,K)},g(F)}function b(){try{var F=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b=function(){return!!F})()}function y(F,Q){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,Y){return K.__proto__=Y,K},y(F,Q)}function x(F){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},x(F)}var v=c(5022),w=c(8213),_=c(4450),B=c(8768).deepEqual,N=c(8260),j=c(3216),C=c(7352),E=c(2793),S=c(3305),k=c(4473),P=c(7930).populateModelSymbol,M=function(F){function Q(V,I,O,R){var U;return function(T,z){if(!(T instanceof z))throw new TypeError("Cannot call a class as a function")}(this,Q),N(V)==="Object"&&(V=Object.keys(V).reduce(function(T,z){return T.concat([[z,V[z]]])},[])),(U=function(T,z,G){return z=x(z),function(J,ee){if(ee&&(u(ee)=="object"||typeof ee=="function"))return ee;if(ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}(J)}(T,b()?Reflect.construct(z,G||[],x(T).constructor):z.apply(T,G))}(this,Q,[V])).$__parent=O!=null&&O.$__!=null?O:null,U.$__path=I,U.$__schemaType=R??new v(I),U.$__runDeferred(),U}return function(V,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(I&&I.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),I&&y(V,I)}(Q,F),K=Q,Y=[{key:"$init",value:function(V,I){H(V),p(Q,"set",this,3)([V,I]),I!=null&&I.$isSingleNested&&(I.$basePath=this.$__path+"."+V)}},{key:"$__set",value:function(V,I){p(Q,"set",this,3)([V,I])}},{key:"get",value:function(V,I){return S(V,"ObjectId")&&(V=V.toString()),(I=I||{}).getters===!1?p(Q,"get",this,3)([V]):this.$__schemaType.applyGetters(p(Q,"get",this,3)([V]),this.$__parent)}},{key:"set",value:function(V,I){if(S(V,"ObjectId")&&(V=V.toString()),H(V),I=j(I),this.$__schemaType==null)return this.$__deferred=this.$__deferred||[],void this.$__deferred.push({key:V,value:I});var O,R=this.$__parent,U=R!=null&&R.$__&&R.$__.populated?R.$populated(J.call(this),!0)||R.$populated(this.$__path,!0):null,T=this.get(V);if(U!=null){if(this.$__schemaType.$isSingleNested)throw new w("Cannot manually populate single nested subdoc underneath Map "+'at path "'.concat(this.$__path,'". Try using an array instead of a Map.'));Array.isArray(I)&&this.$__schemaType.$isMongooseArray?I=I.map(function(ee){return ee.$__==null&&(ee=new U.options[P](ee)),ee.$__.wasPopulated={value:ee._doc._id},ee}):I!=null&&(I.$__==null&&(I=new U.options[P](I)),I.$__.wasPopulated={value:I._doc._id})}else try{var z=this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested||this.$__schemaType.$isMongooseArray||this.$__schemaType.$isSchemaMap?{path:J.call(this)}:null;I=this.$__schemaType.applySetters(I,this.$__parent,!1,this.get(V),z)}catch(ee){if(this.$__parent!=null&&this.$__parent.$__!=null)return void this.$__parent.invalidate(J.call(this),ee);throw ee}if(p(Q,"set",this,3)([V,I]),R!=null&&R.$__!=null&&!B(I,T)){var G=J.call(this);R.markModified(G),(this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested)&&k(R,G)}function J(){return O||(O=this.$__path+"."+V)}}},{key:"clear",value:function(){p(Q,"clear",this,3)([]);var V=this.$__parent;V!=null&&V.markModified(this.$__path)}},{key:"delete",value:function(V){return S(V,"ObjectId")&&(V=V.toString()),this.set(V,void 0),p(Q,"delete",this,3)([V])}},{key:"toBSON",value:function(){return new Map(this)}},{key:"toObject",value:function(V){if(V&&V.flattenMaps){var I,O={},R=d(this.keys());try{for(R.s();!(I=R.n()).done;){var U=I.value;O[U]=_(this.get(U),V)}}catch(T){R.e(T)}finally{R.f()}return O}return new Map(this)}},{key:"$toObject",value:function(){return this.constructor.prototype.toObject.apply(this,arguments)}},{key:"toJSON",value:function(V){if(typeof(V&&V.flattenMaps)!="boolean"||V.flattenMaps){var I,O={},R=d(this.keys());try{for(R.s();!(I=R.n()).done;){var U=I.value;O[U]=_(this.get(U),V)}}catch(T){R.e(T)}finally{R.f()}return O}return new Map(this)}},{key:"inspect",value:function(){return new Map(this)}},{key:"$__runDeferred",value:function(){if(this.$__deferred){var V,I=d(this.$__deferred);try{for(I.s();!(V=I.n()).done;){var O=V.value;this.set(O.key,O.value)}}catch(R){I.e(R)}finally{I.f()}this.$__deferred=null}}}],Y&&f(K.prototype,Y),Object.defineProperty(K,"prototype",{writable:!1}),K;var K,Y}(g(Map));function H(F){var Q=u(F);if(Q!=="string")throw new TypeError("Mongoose maps only support string keys, got ".concat(Q));if(F.startsWith("$"))throw new Error('Mongoose maps do not support keys that start with "$", got "'.concat(F,'"'));if(F.includes("."))throw new Error('Mongoose maps do not support keys that contain ".", got "'.concat(F,'"'));if(E.has(F))throw new Error('Mongoose maps do not support reserved key name "'.concat(F,'"'))}C.inspect.custom&&Object.defineProperty(M.prototype,C.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:M.prototype.inspect}),Object.defineProperty(M.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(M.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(M.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(M.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(M.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0}),Object.defineProperty(M.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0}),o.exports=M},2097:(o,l,c)=>{function u(x){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},u(x)}function d(x,v){(v==null||v>x.length)&&(v=x.length);for(var w=0,_=Array(v);w<v;w++)_[w]=x[w];return _}function A(x,v,w){return(v=function(_){var B=function(N){if(u(N)!="object"||!N)return N;var j=N[Symbol.toPrimitive];if(j!==void 0){var C=j.call(N,"string");if(u(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(_);return u(B)=="symbol"?B:B+""}(v))in x?Object.defineProperty(x,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):x[v]=w,x}var f=c(9166),h=c(1824),p=c(3703),m=c(3696),g=c(1505),b=c(7160),y=new Set(["replaceOne","findOneAndReplace"]);o.exports=function(x,v){var w=x.childSchemas.find(function(P){return!!P.schema.options.timestamps});if(v||w){var _=m(v,"createdAt"),B=m(v,"updatedAt"),N=v!=null&&v.hasOwnProperty("currentTime")?v.currentTime:null,j={};if(x.$timestamps={createdAt:_,updatedAt:B},_&&!x.paths[_]){var C=x.base!=null?x.base.get("timestamps.createdAt.immutable"):null,E=C==null||C;j[_]=A(A({},x.options.typeKey||"type",Date),"immutable",E)}B&&!x.paths[B]&&(j[B]=Date),x.add(j),x.pre("save",function(P){var M=p(this,"$__.saveOptions.timestamps");if(M===!1)return P();g(this,M,N,_,B),P()}),x.methods.initializeTimestamps=function(){var P=N!=null?N():this.constructor.base.now();if(_&&!this.get(_)&&this.$set(_,P),B&&!this.get(B)&&this.$set(B,P),this.$isSubdocument)return this;var M,H=function(Q,K){var Y=typeof Symbol<"u"&&Q[Symbol.iterator]||Q["@@iterator"];if(!Y){if(Array.isArray(Q)||(Y=function(T,z){if(T){if(typeof T=="string")return d(T,z);var G={}.toString.call(T).slice(8,-1);return G==="Object"&&T.constructor&&(G=T.constructor.name),G==="Map"||G==="Set"?Array.from(T):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?d(T,z):void 0}}(Q))||K){Y&&(Q=Y);var V=0,I=function(){};return{s:I,n:function(){return V>=Q.length?{done:!0}:{done:!1,value:Q[V++]}},e:function(T){throw T},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,R=!0,U=!1;return{s:function(){Y=Y.call(Q)},n:function(){var T=Y.next();return R=T.done,T},e:function(T){U=!0,O=T},f:function(){try{R||Y.return==null||Y.return()}finally{if(U)throw O}}}}(this.$getAllSubdocs());try{for(H.s();!(M=H.n()).done;){var F=M.value;F.initializeTimestamps&&F.initializeTimestamps()}}catch(Q){H.e(Q)}finally{H.f()}return this},k[b.builtInMiddleware]=!0;var S={query:!0,model:!1};x.pre("findOneAndReplace",S,k),x.pre("findOneAndUpdate",S,k),x.pre("replaceOne",S,k),x.pre("update",S,k),x.pre("updateOne",S,k),x.pre("updateMany",S,k)}function k(P){var M=N!=null?N():this.model.base.now();y.has(this.op)&&this.getUpdate()==null&&this.setUpdate({}),h(M,_,B,this.getUpdate(),this._mongooseOptions,y.has(this.op)),f(M,this.getUpdate(),this.model.schema),P()}}},2134:(o,l,c)=>{var u=c(5832).hp;function d(S){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},d(S)}function A(S,k){var P=Object.keys(S);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(S);k&&(M=M.filter(function(H){return Object.getOwnPropertyDescriptor(S,H).enumerable})),P.push.apply(P,M)}return P}function f(S){for(var k=1;k<arguments.length;k++){var P=arguments[k]!=null?arguments[k]:{};k%2?A(Object(P),!0).forEach(function(M){h(S,M,P[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(P)):A(Object(P)).forEach(function(M){Object.defineProperty(S,M,Object.getOwnPropertyDescriptor(P,M))})}return S}function h(S,k,P){return(k=function(M){var H=function(F){if(d(F)!="object"||!F)return F;var Q=F[Symbol.toPrimitive];if(Q!==void 0){var K=Q.call(F,"string");if(d(K)!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(M);return d(H)=="symbol"?H:H+""}(k))in S?Object.defineProperty(S,k,{value:P,enumerable:!0,configurable:!0,writable:!0}):S[k]=P,S}var p=c(6365),m=c(6426),g=m.CastError,b=c(8250),y=c(4327),x=c(8768),v=c(9460),w=b.UUID_FORMAT,_=p.Binary;function B(S){var k;return typeof S!="string"&&S!=null?(k=S.toString("hex")).substring(0,8)+"-"+k.substring(8,12)+"-"+k.substring(12,16)+"-"+k.substring(16,20)+"-"+k.substring(20,32):S}function N(S,k){m.call(this,S,k,"UUID"),this.getters.push(function(P){return P!=null&&P.$__!=null?P:u.isBuffer(P)?B(P):P instanceof _?B(P.buffer):x.isPOJO(P)&&P.type==="Buffer"&&Array.isArray(P.data)?B(u.from(P.data)):P})}function j(S){return this.cast(S)}function C(S){var k=this;return S.map(function(P){return k.cast(P)})}N.schemaName="UUID",N.defaultOptions={},N.prototype=Object.create(m.prototype),N.prototype.constructor=N,N._cast=b,N.get=m.get,N.set=m.set,N.setters=[],N.cast=function(S){return arguments.length===0||(S===!1&&(S=this._defaultCaster),this._cast=S),this._cast},N._checkRequired=function(S){return S!=null},N.checkRequired=m.checkRequired,N.prototype.checkRequired=function(S){return u.isBuffer(S)&&(S=B(S)),S!=null&&w.test(S)},N.prototype.cast=function(S,k,P,M,H){if(x.isNonBuiltinObject(S)&&m._isRef(this,S,k,P))return this._castRef(S,k,P,H);var F;F=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():N.cast();try{return F(S)}catch(Q){throw new g(N.schemaName,S,this.path,Q,this)}};var E=f(f({},m.prototype.$conditionalHandlers),{},{$bitsAllClear:v,$bitsAnyClear:v,$bitsAllSet:v,$bitsAnySet:v,$all:C,$gt:j,$gte:j,$in:C,$lt:j,$lte:j,$ne:j,$nin:C});Object.defineProperty(N.prototype,"$conditionalHandlers",{enumerable:!1,value:E}),N.prototype.castForQuery=function(S,k,P){var M;if(S!=null){if(!(M=this.$conditionalHandlers[S]))throw new Error("Can't use "+S+" with UUID.");return M.call(this,k,P)}try{return this.applySetters(k,P)}catch(H){throw H instanceof g&&H.path===this.path&&this.$fullPath!=null&&(H.path=this.$fullPath),H}},N.prototype.toJSONSchema=function(S){var k=this.options.required&&typeof this.options.required!="function";return y("string","binData",S==null?void 0:S.useBsonType,k)},N.prototype.autoEncryptionType=function(){return"binData"},o.exports=N},2151:o=>{o.exports=Math.round},2268:o=>{o.exports=TypeError},2273:(o,l,c)=>{function u(y){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},u(y)}var d=c(668),A=typeof Symbol=="function"&&u(Symbol("foo"))==="symbol",f=Object.prototype.toString,h=Array.prototype.concat,p=c(6750),m=c(3191)(),g=function(y,x,v,w){if(x in y){if(w===!0){if(y[x]===v)return}else if(typeof(_=w)!="function"||f.call(_)!=="[object Function]"||!w())return}var _;m?p(y,x,v,!0):p(y,x,v)},b=function(y,x){var v=arguments.length>2?arguments[2]:{},w=d(x);A&&(w=h.call(w,Object.getOwnPropertySymbols(x)));for(var _=0;_<w.length;_+=1)g(y,w[_],x[w[_]],v[w[_]])};b.supportsDescriptors=!!m,o.exports=b},2307:(o,l,c)=>{var u=c(5832).hp;function d(j,C){var E=Object.keys(j);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(j);C&&(S=S.filter(function(k){return Object.getOwnPropertyDescriptor(j,k).enumerable})),E.push.apply(E,S)}return E}function A(j){for(var C=1;C<arguments.length;C++){var E=arguments[C]!=null?arguments[C]:{};C%2?d(Object(E),!0).forEach(function(S){f(j,S,E[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(E)):d(Object(E)).forEach(function(S){Object.defineProperty(j,S,Object.getOwnPropertyDescriptor(E,S))})}return j}function f(j,C,E){return(C=function(S){var k=function(P){if(h(P)!="object"||!P)return P;var M=P[Symbol.toPrimitive];if(M!==void 0){var H=M.call(P,"string");if(h(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}(S);return h(k)=="symbol"?k:k+""}(C))in j?Object.defineProperty(j,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):j[C]=E,j}function h(j){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},h(j)}var p=c(6365),m=c(2945),g=c(6426),b=c(4327),y=c(9460),x=c(8768),v=p.Binary,w=g.CastError;function _(j,C){g.call(this,j,C,"Buffer")}function B(j,C){return this.castForQuery(null,j,C)}_.schemaName="Buffer",_.defaultOptions={},_.prototype=Object.create(g.prototype),_.prototype.constructor=_,_.prototype.OptionsConstructor=m,_._checkRequired=function(j){return!(!j||!j.length)},_.set=g.set,_.setters=[],_.get=g.get,_.checkRequired=g.checkRequired,_.prototype.checkRequired=function(j,C){return g._isRef(this,j,C,!0)?!!j:this.constructor._checkRequired(j)},_.prototype.cast=function(j,C,E,S,k){var P;if(g._isRef(this,j,C,E)){if(j&&j.isMongooseBuffer)return j;if(u.isBuffer(j))return j&&j.isMongooseBuffer||(j=new p(j,[this.path,C]),this.options.subtype!=null&&(j._subtype=this.options.subtype)),j;if(j instanceof v){if(P=new p(j.value(!0),[this.path,C]),typeof j.sub_type!="number")throw new w("Buffer",j,this.path,null,this);return P._subtype=j.sub_type,P}if(j==null||x.isNonBuiltinObject(j))return this._castRef(j,C,E,k)}if(j&&j._id&&(j=j._id),j&&j.isMongooseBuffer)return j;if(u.isBuffer(j))return j&&j.isMongooseBuffer||(j=new p(j,[this.path,C]),this.options.subtype!=null&&(j._subtype=this.options.subtype)),j;if(j instanceof v){if(P=new p(j.value(!0),[this.path,C]),typeof j.sub_type!="number")throw new w("Buffer",j,this.path,null,this);return P._subtype=j.sub_type,P}if(j===null)return j;var M=h(j);if(M==="string"||M==="number"||Array.isArray(j)||M==="object"&&j.type==="Buffer"&&Array.isArray(j.data))return M==="number"&&(j=[j]),P=new p(j,[this.path,C]),this.options.subtype!=null&&(P._subtype=this.options.subtype),P;if(x.isPOJO(j)&&(j.$binary instanceof v||typeof j.$binary=="string")){var H=this.cast(u.from(j.$binary,"base64"));if(j.$type!=null)return H._subtype=j.$type,H}throw new w("Buffer",j,this.path,null,this)},_.prototype.subtype=function(j){return this.options.subtype=j,this};var N=A(A({},g.prototype.$conditionalHandlers),{},{$bitsAllClear:y,$bitsAnyClear:y,$bitsAllSet:y,$bitsAnySet:y,$gt:B,$gte:B,$lt:B,$lte:B});Object.defineProperty(_.prototype,"$conditionalHandlers",{enumerable:!1,value:N}),_.prototype.castForQuery=function(j,C,E){var S,k;if(j!=null){if(!(S=this.$conditionalHandlers[j]))throw new Error("Can't use "+j+" with Buffer.");return S.call(this,C)}try{k=this.applySetters(C,E)}catch(P){throw P instanceof w&&P.path===this.path&&this.$fullPath!=null&&(P.path=this.$fullPath),P}return k&&k.toObject({transform:!1,virtuals:!1})},_.prototype.toJSONSchema=function(j){var C=this.options.required&&typeof this.options.required!="function";return b("string","binData",j==null?void 0:j.useBsonType,C)},_.prototype.autoEncryptionType=function(){return"binData"},o.exports=_},2345:(o,l,c)=>{function u(N,j){var C=Object.keys(N);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(N);j&&(E=E.filter(function(S){return Object.getOwnPropertyDescriptor(N,S).enumerable})),C.push.apply(C,E)}return C}function d(N){for(var j=1;j<arguments.length;j++){var C=arguments[j]!=null?arguments[j]:{};j%2?u(Object(C),!0).forEach(function(E){A(N,E,C[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(C)):u(Object(C)).forEach(function(E){Object.defineProperty(N,E,Object.getOwnPropertyDescriptor(C,E))})}return N}function A(N,j,C){return(j=function(E){var S=function(k){if(f(k)!="object"||!k)return k;var P=k[Symbol.toPrimitive];if(P!==void 0){var M=P.call(k,"string");if(f(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}(E);return f(S)=="symbol"?S:S+""}(j))in N?Object.defineProperty(N,j,{value:C,enumerable:!0,configurable:!0,writable:!0}):N[j]=C,N}function f(N){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},f(N)}var h=c(3672),p=c(3731),m=c(6426),g=c(2477),b=c(4327),y=c(8260),x=c(8768),v=m.CastError;function w(N,j){m.call(this,N,j,"Date")}function _(N){return this.cast(N)}w.schemaName="Date",w.defaultOptions={},w.prototype=Object.create(m.prototype),w.prototype.constructor=w,w.prototype.OptionsConstructor=p,w._cast=g,w.set=m.set,w.setters=[],w.get=m.get,w.cast=function(N){return arguments.length===0||(N===!1&&(N=this._defaultCaster),this._cast=N),this._cast},w._defaultCaster=function(N){if(N!=null&&!(N instanceof Date))throw new Error;return N},w.prototype.expires=function(N){return y(this._index)!=="Object"&&(this._index={}),this._index.expires=N,x.expires(this._index),this},w._checkRequired=function(N){return N instanceof Date},w.checkRequired=m.checkRequired,w.prototype.checkRequired=function(N,j){return f(N)==="object"&&m._isRef(this,N,j,!0)?N!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():w.checkRequired())(N)},w.prototype.min=function(N,j){if(this.minValidator&&(this.validators=this.validators.filter(function(S){return S.validator!==this.minValidator},this)),N){var C=j||h.messages.Date.min;typeof C=="string"&&(C=C.replace(/{MIN}/,N===Date.now?"Date.now()":N.toString()));var E=this;this.validators.push({validator:this.minValidator=function(S){var k=N;typeof N=="function"&&N!==Date.now&&(k=k.call(this));var P=k===Date.now?k():E.cast(k);return S===null||S.valueOf()>=P.valueOf()},message:C,type:"min",min:N})}return this},w.prototype.max=function(N,j){if(this.maxValidator&&(this.validators=this.validators.filter(function(S){return S.validator!==this.maxValidator},this)),N){var C=j||h.messages.Date.max;typeof C=="string"&&(C=C.replace(/{MAX}/,N===Date.now?"Date.now()":N.toString()));var E=this;this.validators.push({validator:this.maxValidator=function(S){var k=N;typeof k=="function"&&k!==Date.now&&(k=k.call(this));var P=k===Date.now?k():E.cast(k);return S===null||S.valueOf()<=P.valueOf()},message:C,type:"max",max:N})}return this},w.prototype.cast=function(N){var j;j=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():w.cast();try{return j(N)}catch(C){throw new v("date",N,this.path,C,this)}};var B=d(d({},m.prototype.$conditionalHandlers),{},{$gt:_,$gte:_,$lt:_,$lte:_});Object.defineProperty(w.prototype,"$conditionalHandlers",{enumerable:!1,value:B}),w.prototype.castForQuery=function(N,j,C){if(N==null)try{return this.applySetters(j,C)}catch(S){throw S instanceof v&&S.path===this.path&&this.$fullPath!=null&&(S.path=this.$fullPath),S}var E=this.$conditionalHandlers[N];if(!E)throw new Error("Can't use "+N+" with Date.");return E.call(this,j)},w.prototype.toJSONSchema=function(N){var j=this.options.required&&typeof this.options.required!="function";return b("string","date",N==null?void 0:N.useBsonType,j)},w.prototype.autoEncryptionType=function(){return"date"},o.exports=w},2354:(o,l,c)=>{var u=c(6730);o.exports=Function.prototype.bind||u},2400:(o,l,c)=>{var u=c(5832).hp;function d(q){return function(ce){if(Array.isArray(ce))return v(ce)}(q)||function(ce){if(typeof Symbol<"u"&&ce[Symbol.iterator]!=null||ce["@@iterator"]!=null)return Array.from(ce)}(q)||x(q)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function A(){var q,ce,Z=typeof Symbol=="function"?Symbol:{},ue=Z.iterator||"@@iterator",me=Z.toStringTag||"@@toStringTag";function ye(at,st,dt,vt){var It=st&&st.prototype instanceof Oe?st:Oe,Zt=Object.create(It.prototype);return f(Zt,"_invoke",function(br,fr,Qr){var Cr,hr,mr,Xr=0,_r=Qr||[],yr=!1,qr={p:0,n:0,v:q,a:Ct,f:Ct.bind(q,4),d:function(xr,Vr){return Cr=xr,hr=0,mr=q,qr.n=Vr,Be}};function Ct(xr,Vr){for(hr=xr,mr=Vr,ce=0;!yr&&Xr&&!jr&&ce<_r.length;ce++){var jr,Dr=_r[ce],nn=qr.p,bn=Dr[2];xr>3?(jr=bn===Vr)&&(mr=Dr[(hr=Dr[4])?5:(hr=3,3)],Dr[4]=Dr[5]=q):Dr[0]<=nn&&((jr=xr<2&&nn<Dr[1])?(hr=0,qr.v=Vr,qr.n=Dr[1]):nn<bn&&(jr=xr<3||Dr[0]>Vr||Vr>bn)&&(Dr[4]=xr,Dr[5]=Vr,qr.n=bn,hr=0))}if(jr||xr>1)return Be;throw yr=!0,Vr}return function(xr,Vr,jr){if(Xr>1)throw TypeError("Generator is already running");for(yr&&Vr===1&&Ct(Vr,jr),hr=Vr,mr=jr;(ce=hr<2?q:mr)||!yr;){Cr||(hr?hr<3?(hr>1&&(qr.n=-1),Ct(hr,mr)):qr.n=mr:qr.v=mr);try{if(Xr=2,Cr){if(hr||(xr="next"),ce=Cr[xr]){if(!(ce=ce.call(Cr,mr)))throw TypeError("iterator result is not an object");if(!ce.done)return ce;mr=ce.value,hr<2&&(hr=0)}else hr===1&&(ce=Cr.return)&&ce.call(Cr),hr<2&&(mr=TypeError("The iterator does not provide a '"+xr+"' method"),hr=1);Cr=q}else if((ce=(yr=qr.n<0)?mr:br.call(fr,qr))!==Be)break}catch(Dr){Cr=q,hr=1,mr=Dr}finally{Xr=1}}return{value:ce,done:yr}}}(at,dt,vt),!0),Zt}var Be={};function Oe(){}function Le(){}function Ie(){}ce=Object.getPrototypeOf;var Ue=[][ue]?ce(ce([][ue]())):(f(ce={},ue,function(){return this}),ce),Ve=Ie.prototype=Oe.prototype=Object.create(Ue);function tt(at){return Object.setPrototypeOf?Object.setPrototypeOf(at,Ie):(at.__proto__=Ie,f(at,me,"GeneratorFunction")),at.prototype=Object.create(Ve),at}return Le.prototype=Ie,f(Ve,"constructor",Ie),f(Ie,"constructor",Le),Le.displayName="GeneratorFunction",f(Ie,me,"GeneratorFunction"),f(Ve),f(Ve,me,"Generator"),f(Ve,ue,function(){return this}),f(Ve,"toString",function(){return"[object Generator]"}),(A=function(){return{w:ye,m:tt}})()}function f(q,ce,Z,ue){var me=Object.defineProperty;try{me({},"",{})}catch{me=0}f=function(ye,Be,Oe,Le){if(Be)me?me(ye,Be,{value:Oe,enumerable:!Le,configurable:!Le,writable:!Le}):ye[Be]=Oe;else{var Ie=function(Ue,Ve){f(ye,Ue,function(tt){return this._invoke(Ue,Ve,tt)})};Ie("next",0),Ie("throw",1),Ie("return",2)}},f(q,ce,Z,ue)}function h(q,ce,Z,ue,me,ye,Be){try{var Oe=q[ye](Be),Le=Oe.value}catch(Ie){return void Z(Ie)}Oe.done?ce(Le):Promise.resolve(Le).then(ue,me)}function p(q){return function(){var ce=this,Z=arguments;return new Promise(function(ue,me){var ye=q.apply(ce,Z);function Be(Le){h(ye,ue,me,Be,Oe,"next",Le)}function Oe(Le){h(ye,ue,me,Be,Oe,"throw",Le)}Be(void 0)})}}function m(q,ce){var Z=Object.keys(q);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(q);ce&&(ue=ue.filter(function(me){return Object.getOwnPropertyDescriptor(q,me).enumerable})),Z.push.apply(Z,ue)}return Z}function g(q){for(var ce=1;ce<arguments.length;ce++){var Z=arguments[ce]!=null?arguments[ce]:{};ce%2?m(Object(Z),!0).forEach(function(ue){b(q,ue,Z[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(Z)):m(Object(Z)).forEach(function(ue){Object.defineProperty(q,ue,Object.getOwnPropertyDescriptor(Z,ue))})}return q}function b(q,ce,Z){return(ce=function(ue){var me=function(ye){if(w(ye)!="object"||!ye)return ye;var Be=ye[Symbol.toPrimitive];if(Be!==void 0){var Oe=Be.call(ye,"string");if(w(Oe)!="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ye)}(ue);return w(me)=="symbol"?me:me+""}(ce))in q?Object.defineProperty(q,ce,{value:Z,enumerable:!0,configurable:!0,writable:!0}):q[ce]=Z,q}function y(q,ce){var Z=typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(!Z){if(Array.isArray(q)||(Z=x(q))||ce){Z&&(q=Z);var ue=0,me=function(){};return{s:me,n:function(){return ue>=q.length?{done:!0}:{done:!1,value:q[ue++]}},e:function(Le){throw Le},f:me}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye,Be=!0,Oe=!1;return{s:function(){Z=Z.call(q)},n:function(){var Le=Z.next();return Be=Le.done,Le},e:function(Le){Oe=!0,ye=Le},f:function(){try{Be||Z.return==null||Z.return()}finally{if(Oe)throw ye}}}}function x(q,ce){if(q){if(typeof q=="string")return v(q,ce);var Z={}.toString.call(q).slice(8,-1);return Z==="Object"&&q.constructor&&(Z=q.constructor.name),Z==="Map"||Z==="Set"?Array.from(q):Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z)?v(q,ce):void 0}}function v(q,ce){(ce==null||ce>q.length)&&(ce=q.length);for(var Z=0,ue=Array(ce);Z<ce;Z++)ue[Z]=q[Z];return ue}function w(q){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},w(q)}var _,B,N,j=c(1417),C=c(3550).EventEmitter,E=c(4224),S=c(6365),k=c(3672),P=c(5022),M=c(6140),H=c(3441),F=c(1350),Q=c(1635),K=c(7058),Y=c(8995),V=c(6949),I=c(9538),O=c(6814),R=c(5335),U=c(4473),T=c(4450),z=c(2068).w,G=c(2068).X,J=c(1226),ee=c(7430).B,fe=c(5152),de=c(791),ae=c(2692),xe=c(3216),X=c(2746),ie=c(3305),re=c(7300),ve=c(1793),ke=c(5188),Ce=c(7352).inspect,we=c(3303)._,oe=c(1849),pe=c(6451),je=c(5678),Te=c(6223),be=c(3892),De=c(8768),qe=c(542),Qe=De.deepEqual,Re=De.isMongooseObject,We=c(7930).arrayAtomicsBackupSymbol,Me=c(7930).arrayAtomicsSymbol,ot=c(7930).documentArrayParent,xt=c(7930).documentIsModified,Ft=c(7930).documentModifiedPaths,nt=c(7930).documentSchemaSymbol,At=c(7930).getSymbol,Rt=c(7930).modelSymbol,Pt=c(7930).populateModelSymbol,ur=c(7930).scopeSymbol,Ht=c(7160).schemaMixedSymbol,lr=c(5346),sr=c(7930).sessionNewDocuments,Kt=De.specialProperties;function Xe(q,ce,Z,ue){if(w(Z)==="object"&&Z!=null&&(Z=(ue=Z).skipId),ue=Object.assign({},ue),this.$__schema==null){var me=De.isObject(ce)&&!ce.instanceOfSchema?new K(ce):ce;this.$__setSchema(me),ce=Z,Z=ue,ue=arguments[4]||{}}if(this.$__=new E,ue.isNew!=null&&ue.isNew!==!0&&(this.$isNew=ue.isNew),ue.priorDoc!=null&&(this.$__.priorDoc=ue.priorDoc),Z&&(this.$__.skipId=Z),q!=null&&w(q)!=="object")throw new F(q,"obj","Document");var ye=!0;ue.defaults!==void 0&&(this.$__.defaults=ue.defaults,ye=ue.defaults);var Be=this.$__schema;typeof ce=="boolean"||ce==="throw"?(ce!==!0&&(this.$__.strictMode=ce),ce=void 0):Be.options.strict!==!0&&(this.$__.strictMode=Be.options.strict);var Oe,Le=y(Be.requiredPaths(!0));try{for(Le.s();!(Oe=Le.n()).done;){var Ie=Oe.value;this.$__.activePaths.require(Ie)}}catch(at){Le.e(at)}finally{Le.f()}var Ue=null;De.isPOJO(ce)&&Object.keys(ce).length>0&&(Ue=ve(ce),this.$__.selected=ce,this.$__.exclude=Ue);var Ve=Ue===!1&&ce?O(ce):null;if(this._doc==null&&(this.$__buildDoc(q,ce,Z,Ue,Ve,!1),ye&&R(this,ce,Ue,Ve,!0,null,{skipParentChangeTracking:!0})),q&&(this.$__original_set?this.$__original_set(q,void 0,!0,ue):this.$set(q,void 0,!0,ue),q instanceof Xe&&(this.$isNew=q.$isNew)),ue.willInit&&ye?ue.skipDefaults&&(this.$__.skipDefaults=ue.skipDefaults):ye&&R(this,ce,Ue,Ve,!1,ue.skipDefaults),!this.$__.strictMode&&q){var tt=this;Object.keys(this._doc).forEach(function(at){at in Be.tree||at in Be.methods||at in Be.virtuals||at.startsWith("$")||G({prop:at,subprops:null,prototype:tt})})}(function(at){var st=at.$__schema&&at.$__schema.callQueue;if(st.length){var dt,vt=y(st);try{for(vt.s();!(dt=vt.n()).done;){var It=dt.value;It[0]!=="pre"&&It[0]!=="post"&&It[0]!=="on"&&at[It[0]].apply(at,It[1])}}catch(Zt){vt.e(Zt)}finally{vt.f()}}})(this)}for(var ar in Xe.prototype.$isMongooseDocumentPrototype=!0,Object.defineProperty(Xe.prototype,"isNew",{get:function(){return this.$isNew},set:function(q){this.$isNew=q}}),Object.defineProperty(Xe.prototype,"errors",{get:function(){return this.$errors},set:function(q){this.$errors=q}}),Xe.prototype.$isNew=!0,De.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(q){Xe.prototype[q]=function(){if(!this.$__.emitter){if(q==="emit")return;this.$__.emitter=new C,this.$__.emitter.setMaxListeners(0)}return this.$__.emitter[q].apply(this.$__.emitter,arguments)},Xe.prototype["$".concat(q)]=Xe.prototype[q]}),Xe.prototype.constructor=Xe,C.prototype)Xe[ar]=C.prototype[ar];function rr(q,ce,Z){if(q!=null)for(var ue=Object.keys(Z.$__schema.paths),me=ue.length,ye=ce.indexOf(".")===-1?[ce]:ce.split("."),Be=0;Be<me;++Be){var Oe="",Le=ue[Be];if(Le.startsWith(ce+".")){var Ie=Z.$__schema.paths[Le],Ue=Ie.splitPath().slice(ye.length),Ve=Ue.length;if(Ie.defaultValue!==void 0)for(var tt=q,at=0;at<Ve&&tt!=null;++at){var st=Ue[at];if(at===Ve-1){if(tt[st]!==void 0)break;try{var dt=Ie.getDefault(Z,!1);dt!==void 0&&(tt[st]=dt)}catch(vt){Z.invalidate(ce+"."+Oe,vt);break}break}Oe+=(Oe.length?".":"")+st,tt[st]=tt[st]||{},tt=tt[st]}}}}function Ke(q,ce,Z,ue,me){me=me||"",ce.$__!=null&&(ce=ce._doc);for(var ye,Be,Oe,Le=Object.keys(ce),Ie=Le.length,Ue=q.$__.strictMode,Ve=q.$__schema,tt=0;tt<Ie;++tt)if(Oe=Le[tt],!Kt.has(Oe)&&(Be=me?me+Oe:Oe,ye=Ve.path(Be),!Ve.$isRootDiscriminator||q.$__isSelected(Be))){var at=ce[Oe];if(!ye&&De.isPOJO(at))Z[Oe]||(Z[Oe]={},Ue||Oe in Ve.tree||Oe in Ve.methods||Oe in Ve.virtuals||(q[Oe]=Z[Oe])),Ke(q,at,Z[Oe],ue,Be+".");else if(ye){if(Z.hasOwnProperty(Oe)&&at!==void 0&&!ue.hydratedPopulatedDocs&&delete Z[Oe],at===null)Z[Oe]=ye._castNullish(null);else if(at!==void 0){var st=at.$__==null?null:at.$__.wasPopulated;if(!ye||st||ue.hydratedPopulatedDocs)if(ye&&ue.hydratedPopulatedDocs){var dt;Z[Oe]=ye.cast(at,q,!0,void 0,{hydratedPopulatedDocs:!0}),Z[Oe]&&Z[Oe].$__&&Z[Oe].$__.wasPopulated?q.$populated(Be,Z[Oe].$__.wasPopulated.value,Z[Oe].$__.wasPopulated.options):Array.isArray(Z[Oe])&&Z[Oe].length&&(dt=Z[Oe][0])!==null&&dt!==void 0&&(dt=dt.$__)!==null&&dt!==void 0&&dt.wasPopulated&&q.$populated(Be,Z[Oe].map(function(vt){var It;return vt==null||(It=vt.$__)===null||It===void 0||(It=It.wasPopulated)===null||It===void 0?void 0:It.value}).filter(function(vt){return vt!=null}),Z[Oe][0].$__.wasPopulated.options)}else Z[Oe]=at;else try{ue&&ue.setters?Z[Oe]=ye.applySetters(at,q,!1):Z[Oe]=ye.cast(at,q,!0)}catch(vt){q.invalidate(vt.path,new I({path:vt.path,message:vt.message,type:"cast",value:vt.value,reason:vt}))}}q.$isModified(Be)||q.$__.activePaths.init(Be)}else Z[Oe]=at,Ue||me||(q[Oe]=at)}}function Tr(q){if(q==null)return!0;if(w(q)!=="object"||Array.isArray(q))return!1;for(var ce=0,Z=Object.keys(q);ce<Z.length;ce++)if(!Tr(q[Z[ce]]))return!1;return!0}function Fn(q,ce,Z,ue){var me={};(function(er){var cn=Object.keys(er.$__.activePaths.getStatePaths("require")),un=0,wr=cn.length;for(un=0;un<wr;++un){var Hr=cn[un],Er=er.$__schema.path(Hr);if(Er!=null&&typeof Er.originalRequiredValue=="function"){er.$__.cachedRequired=er.$__.cachedRequired||{};try{er.$__.cachedRequired[Hr]=Er.originalRequiredValue.call(er,er)}catch(or){er.invalidate(Hr,or)}}}})(q);var ye=new Set(Object.keys(q.$__.activePaths.getStatePaths("require")).filter(function(er){return!(!q.$__isSelected(er)&&!q.$isModified(er))&&(q.$__.cachedRequired==null||!(er in q.$__.cachedRequired)||q.$__.cachedRequired[er])}));function Be(er){er.endsWith(".$*")||ye.add(er)}if(Object.keys(q.$__.activePaths.getStatePaths("init")).forEach(Be),Object.keys(q.$__.activePaths.getStatePaths("modify")).forEach(Be),Object.keys(q.$__.activePaths.getStatePaths("default")).forEach(Be),!ue){for(var Oe=[],Le=0,Ie=Object.keys(q.$__schema.paths);Le<Ie.length;Le++){var Ue=Ie[Le],Ve=q.$__schema.path(Ue);if(Ve.$isSingleNested){var tt=q.$get(Ue);tt&&Oe.push(tt)}else if(Ve.$isMongooseDocumentArray){var at=q.$get(Ue);if(at&&at.length){var st,dt=y(at);try{for(dt.s();!(st=dt.n()).done;){var vt=st.value;vt&&Oe.push(vt)}}catch(er){dt.e(er)}finally{dt.f()}}}}for(var It=q.modifiedPaths(),Zt=0,br=Oe;Zt<br.length;Zt++){var fr=br[Zt];if(fr.$basePath){var Qr,Cr=fr.$__pathRelativeToParent(),hr=y(fr.modifiedPaths());try{for(hr.s();!(Qr=hr.n()).done;){var mr=Qr.value;ye.delete(Cr+"."+mr)}}catch(er){hr.e(er)}finally{hr.f()}var Xr=fr.$parent();if(Xr==null)throw new Error("Cannot validate subdocument that does not have a parent");!q.$isModified(Cr,null,It)||Xr.$__.activePaths.getStatePaths("modify").hasOwnProperty(Cr)||Xr.$isDefault(Cr)||(ye.add(Cr),q.$__.pathsToScopes==null&&(q.$__.pathsToScopes={}),q.$__.pathsToScopes[Cr]=fr.$isDocumentArrayElement?fr.__parentArray:fr.$parent(),me[Cr]={skipSchemaValidators:!0},fr.$isDocumentArrayElement&&fr.__index!=null&&(me[Cr].index=fr.__index))}}}var _r,yr=y(ye);try{for(yr.s();!(_r=yr.n()).done;){var qr=_r.value,Ct=q.$__schema.path(qr);if(Ct){if(Ct.$isMongooseDocumentArray){var xr,Vr=y(ye);try{for(Vr.s();!(xr=Vr.n()).done;){var jr=xr.value;(jr==null||jr.startsWith(Ct.path+"."))&&ye.delete(jr)}}catch(er){Vr.e(er)}finally{Vr.f()}}(Ct.caster||Ct.validators.length!==0||Ct.$parentSchemaDocArray)&&(!Ct.$isMongooseArray||Ct.$isMongooseDocumentArray||Ct.$embeddedSchemaType.$isMongooseArray||Ct.validators.length!==0||Ct.$embeddedSchemaType.validators.length!==0)||ye.delete(qr)}}}catch(er){yr.e(er)}finally{yr.f()}Array.isArray(ce)?ye=function(er,cn){var un,wr=new Set(cn),Hr=new Map([]),Er=y(cn);try{for(Er.s();!(un=Er.n()).done;){var or=un.value;if(or.indexOf(".")!==-1)for(var In=or.split("."),ji=In[0],Qn=1;Qn<In.length;++Qn)Hr.set(ji,or),ji=ji+"."+In[Qn]}}catch(ro){Er.e(ro)}finally{Er.f()}var Vs,Ts=new Set,Pn=y(er);try{for(Pn.s();!(Vs=Pn.n()).done;){var zs=Vs.value;wr.has(zs)?Ts.add(zs):Hr.has(zs)&&Ts.add(Hr.get(zs))}}catch(ro){Pn.e(ro)}finally{Pn.f()}return Ts}(ye,ce):Array.isArray(Z)&&(ye=function(er,cn){return cn=new Set(cn),er=Array.from(er).filter(function(un){return!cn.has(un)}),new Set(er)}(ye,Z)),function(er,cn){var un,wr=y(cn);try{for(wr.s();!(un=wr.n()).done;){var Hr=un.value,Er=er.$__schema.path(Hr);Er&&Er.$isMongooseArray&&(Array.isArray(Er)||!Er.$isMongooseDocumentArray||Er&&Er.schemaOptions&&Er.schemaOptions.required)&&(!Er.$isMongooseArray||Er.$isMongooseDocumentArray||Er.$embeddedSchemaType.$isMongooseArray||Er.$embeddedSchemaType.validators.length!==0)&&Wt(er.$__getValue(Hr),cn,Hr)}}catch(or){wr.e(or)}finally{wr.f()}}(q,ye);var Dr,nn={skipArrays:!0},bn=y(ye);try{for(bn.s();!(Dr=bn.n()).done;){var ci=Dr.value;if(q.$__schema.nested[ci]){var ri=q.$__getValue(ci);Re(ri)&&(ri=ri.toObject({transform:!1}));var ui=ee(ri,ci,nn,q.$__schema);Object.keys(ui).filter(function(er){return!q.$__schema.singleNestedPaths.hasOwnProperty(er)}).forEach(Be)}}}catch(er){bn.e(er)}finally{bn.f()}var di,sn=y(ye);try{for(sn.s();!(di=sn.n()).done;){var Gn=di.value,xn=q.$__schema.path(Gn);if(xn&&(xn.$parentSchemaDocArray&&typeof xn.$parentSchemaDocArray.path=="string"&&ye.add(xn.$parentSchemaDocArray.path),xn.$isSchemaMap)){var Wn=q.$__getValue(Gn);if(Wn!=null){var an,wn=y(Wn.keys());try{for(wn.s();!(an=wn.n()).done;){var jn=an.value;ye.add(Gn+"."+jn)}}catch(er){wn.e(er)}finally{wn.f()}}}}}catch(er){sn.e(er)}finally{sn.f()}return[ye=Array.from(ye),me]}function Wt(q,ce,Z){if(q!=null)for(var ue=q.length,me=0;me<ue;++me)Array.isArray(q[me])?Wt(q[me],ce,Z+"."+me):ce.add(Z+"."+me)}function Or(q,ce,Z,ue){var me,ye,Be,Oe=q.$__schema,Le=Oe.virtuals,Ie=Object.keys(Le),Ue=Ie.length,Ve=Ue,tt=q._doc,at=typeof(ue&&ue.aliases)!="boolean"||ue.aliases;Z=Z||{};var st=null;if(Array.isArray(Z.virtuals))st=new Set(Z.virtuals);else if(Z.virtuals&&Z.virtuals.pathsToSkip){st=new Set(Ie);for(var dt=0;dt<Z.virtuals.pathsToSkip.length;dt++)st.has(Z.virtuals.pathsToSkip[dt])&&st.delete(Z.virtuals.pathsToSkip[dt])}if(!tt)return ce;for(Ue=0;Ue<Ve;++Ue)if(me=Ie[Ue],(st==null||st.has(me))&&(at||!Oe.aliases.hasOwnProperty(me))){if(ye=me,Z.path!=null){if(!me.startsWith(Z.path+"."))continue;ye=me.substring(Z.path.length+1)}if(ye.indexOf(".")!==-1||ye!==me){var vt=ye.split(".");if((Be=T(q.get(me),Z))!==void 0){var It=vt.length;tt=ce;for(var Zt=0;Zt<It-1;++Zt)tt[vt[Zt]]=tt[vt[Zt]]||{},tt=tt[vt[Zt]];tt[vt[It-1]]=Be}}else{if((Be=Le[me].applyGetters(void 0,q))===void 0)continue;Be=T(Be,Z),ce[ye]=Be}}return ce}function Yr(q,ce){if(qe(ce))throw new Error("`transform` function must be synchronous, but the transform on path `"+q+"` returned a promise.")}function hn(q,ce,Z){var ue=q.$populated(ce,!0);if(!ue&&q.$__.selected){var me=ce.split(".")[0];if(q.$__.selected[me+".$"])return me}if(ue&&De.isMongooseArray(Z)&&(ue.options.match||ue.options.options&&De.object.hasOwnProperty(ue.options.options,"limit")||ue.options.options&&ue.options.options.skip||ue.options.select&&(ue.options.select._id===0||/\s?-_id\s?/.test(ue.options.select)))){var ye=Z[Me];if(Object.keys(ye).length===0||ye.$set||ye.$pop)return ce}}function Mr(q,ce,Z,ue,me,ye){if(ye||(ye="$set"),Z[ye]||(Z[ye]={}),Z[ye][ue.path]=me,q.$__schema.options.versionKey!==!1&&!function(Be,Oe){var Le=Be.$__schema.options.skipVersioning;return!!Le&&Le[Oe=Oe.replace(/\.\d+\./,".")]}(q,ue.path)&&3&~q.$__.version&&!q.$__schema.options.optimisticConcurrency){switch(ye){case"$set":case"$unset":case"$pop":case"$pull":case"$pullAll":case"$push":case"$addToSet":case"$inc":break;default:return}ye==="$push"||ye==="$addToSet"||ye==="$pullAll"||ye==="$pull"?/\.\d+\.|\.\d+$/.test(ue.path)?q.$__.version=3:q.$__.version=2:/^\$p/.test(ye)||Array.isArray(me)?q.$__.version=3:/\.\d+\.|\.\d+$/.test(ue.path)&&(q.$__.version=1)}}function Jr(q,ce,Z,ue,me){if(!Z.$set||!Z.$set[ue.path])if(typeof me.$__getAtomics!="function"){var ye,Be,Oe=me[Me],Le=Object.keys(Oe),Ie=Le.length;if(Ie===0)return De.isMongooseObject(me)?me=me.toObject({depopulate:1,_isNested:!0}):me.valueOf&&(me=me.valueOf()),Mr(q,0,Z,ue,me);for(;Ie--;)ye=Oe[Be=Le[Ie]],De.isMongooseObject(ye)?ye=ye.toObject({depopulate:!0,transform:!1,_isNested:!0}):Array.isArray(ye)?ye=ye.map(Ue):ye.valueOf&&(ye=ye.valueOf()),Be==="$addToSet"&&(ye={$each:ye}),Mr(q,0,Z,ue,ye,Be)}else me.$__getAtomics().forEach(function(Ve){var tt=Ve[0],at=Ve[1];Mr(q,0,Z,ue,at,tt)});function Ue(Ve){return De.isMongooseObject(Ve)?Ve.toObject({depopulate:1,_isNested:!0}):Ve}}Xe.prototype.$__schema,Xe.prototype.schema,Object.defineProperty(Xe.prototype,"$locals",{configurable:!1,enumerable:!1,get:function(){return this.$__.locals==null&&(this.$__.locals={}),this.$__.locals},set:function(q){this.$__.locals=q}}),Xe.prototype.isNew,Object.defineProperty(Xe.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0}),Xe.prototype.id,Xe.prototype.$errors,Object.defineProperty(Xe.prototype,"$op",{get:function(){return this.$__.op||null},set:function(q){this.$__.op=q}}),Xe.prototype.$__buildDoc=function(q,ce,Z,ue,me){for(var ye={},Be=Object.keys(this.$__schema.paths).filter(function(Zt){return!Zt.includes("$*")}),Oe=Be.length,Le=0;Le<Oe;++Le){var Ie=Be[Le];if(!(Ie==="_id"&&(Z||q&&"_id"in q)))for(var Ue=this.$__schema.paths[Ie].splitPath(),Ve=Ue.length,tt=Ve-1,at="",st=ye,dt=!1,vt=0;vt<Ve;++vt){var It=Ue[vt];if(at.length?at+="."+It:at=It,ue===!0){if(at in ce)break}else if(ue===!1&&ce&&!dt){if(at in ce)dt=!0;else if(!me[at])break}vt<tt&&(st=st[It]||(st[It]={}))}}this._doc=ye},Xe.prototype.toBSON=function(){return this.toObject(we)},Xe.prototype.init=function(q,ce,Z){return typeof ce=="function"&&(Z=ce,ce=null),this.$__init(q,ce),Z&&Z(null,this),this},Xe.prototype.$init=function(){return this.constructor.prototype.init.apply(this,arguments)},Xe.prototype.$__init=function(q,ce){if(this.$isNew=!1,ce=ce||{},q._id!=null&&ce.populated&&ce.populated.length){var Z,ue=String(q._id),me=y(ce.populated);try{for(me.s();!(Z=me.n()).done;){var ye=Z.value;if(ye.isVirtual?this.$populated(ye.path,De.getValue(ye.path,q),ye):this.$populated(ye.path,ye._docs[ue],ye),ye._childDocs!=null){var Be,Oe=y(ye._childDocs);try{for(Oe.s();!(Be=Oe.n()).done;){var Le=Be.value;Le!=null&&Le.$__!=null&&(Le.$__.parent=this)}}catch(Ue){Oe.e(Ue)}finally{Oe.f()}ye._childDocs=[]}}}catch(Ue){me.e(Ue)}finally{me.f()}}Ke(this,q,this._doc,ce),oe(this,ce.populated),this.$emit("init",this),this.constructor.emit("init",this);var Ie=this.$__.exclude===!1&&this.$__.selected?O(this.$__.selected):null;return R(this,this.$__.selected,this.$__.exclude,Ie,!1,this.$__.skipDefaults),this},Xe.prototype.updateOne=function(q,ce,Z){var ue=this.constructor.updateOne({_id:this._doc._id},q,ce),me=this;return ue.pre(function(ye){me.constructor._middleware.execPre("updateOne",me,[me],ye)}),ue.post(function(ye){me.constructor._middleware.execPost("updateOne",me,[me],{},ye)}),this.$session()!=null&&("session"in ue.options||(ue.options.session=this.$session())),Z!=null?ue.exec(Z):ue},Xe.prototype.replaceOne=function(){var q=Array.prototype.slice.call(arguments);return q.unshift({_id:this._doc._id}),this.constructor.replaceOne.apply(this.constructor,q)},Xe.prototype.$session=function(q){if(arguments.length===0)return this.$__.session!=null&&this.$__.session.hasEnded?(this.$__.session=null,null):this.$__.session;if(q!=null&&q.hasEnded)throw new k("Cannot set a document's session to a session that has ended. Make sure you haven't called `endSession()` on the session you are passing to `$session()`.");if(q!=null||this.$__.session!=null){if(this.$__.session=q,!this.$isSubdocument){var ce,Z=y(this.$getAllSubdocs());try{for(Z.s();!(ce=Z.n()).done;)ce.value.$session(q)}catch(ue){Z.e(ue)}finally{Z.f()}}return q}},Xe.prototype.$timestamps=function(q){return arguments.length===0?this.$__.timestamps!=null?this.$__.timestamps:this.$__schema?this.$__schema.options.timestamps:void 0:(q!==this.$timestamps()&&(this.$__.timestamps=q),this)},Xe.prototype.overwrite=function(q){for(var ce=0,Z=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(q))));ce<Z.length;ce++){var ue=Z[ce];ue!=="_id"&&(this.$__schema.options.versionKey&&ue===this.$__schema.options.versionKey||this.$__schema.options.discriminatorKey&&ue===this.$__schema.options.discriminatorKey||this.$set(ue,q[ue]))}return this},Xe.prototype.$set=function(q,ce,Z,ue){var me=this;De.isPOJO(Z)&&(ue=Z,Z=void 0);var ye,Be,Oe,Le,Ie=ue&&ue.merge,Ue=Z&&Z!==!0,Ve=Z===!0,tt=0,at=ue&&"strict"in ue,st=at?ue.strict:this.$__.strictMode;if(Ue&&((this.$__.adhocPaths||(this.$__.adhocPaths={}))[q]=this.$__schema.interpretAsType(q,Z,this.$__schema.options)),q==null){var dt=[ce,q];q=dt[0],ce=dt[1]}else if(typeof q!="string"){if(q instanceof Xe&&(q=q.$__isNested?q.toObject():q.$__schema===this.$__schema?Or(q,g({},q._doc)):q._doc),q==null){var vt=[ce,q];q=vt[0],ce=vt[1]}Le=ce?ce+".":"";var It=(ye=de(this.$__schema,q)).length,Zt=ue&&ue._skipMinimizeTopLevel||!1;if(It===0&&Zt)return delete ue._skipMinimizeTopLevel,ce&&this.$set(ce,{}),this;ue=Object.assign({},ue,{_skipMinimizeTopLevel:!1});for(var br=0;br<It;++br){Oe=ye[br];var fr=Le?Le+Oe:Oe;Be=this.$__schema.pathType(fr);var Qr=q[Oe];if(Z!==!0||Le||Qr==null||Be!=="nested"||this._doc[Oe]==null||delete this._doc[Oe],De.isNonBuiltinObject(Qr)&&Be==="nested")this.$set(fr,Qr,Ve,ue),rr(this.$get(fr),fr,this);else if(st){if(Ve&&Qr===void 0&&this.$get(fr)!==void 0)continue;if(Be==="adhocOrUndefined"&&(Be=fe(this,fr,{typeOnly:!0})),Be==="real"||Be==="virtual")this.$set(fr,Qr,Ve,ue);else if(Be==="nested"&&Qr instanceof Xe)this.$set(fr,Qr.toObject({transform:!1}),Ve,ue);else{if(st==="throw")throw Be==="nested"?new H(Oe,Qr):new Y(Oe);Be==="nested"&&Qr==null&&this.$set(fr,Qr,Ve,ue)}}else this.$set(fr,Qr,Ve,ue)}for(var Cr={},hr=Object.keys(this.$__schema.tree),mr=0,Xr=hr.length;mr<Xr;++mr)(Oe=hr[mr])&&this._doc.hasOwnProperty(Oe)&&(Cr[Oe]=void 0);return this._doc=Object.assign(Cr,this._doc),this}var _r=this.$__schema.pathType(q),yr=null;if(_r==="adhocOrUndefined"&&(yr=q.indexOf(".")===-1?[q]:q.split("."),_r=fe(this,yr,{typeOnly:!0})),_r==="adhocOrUndefined"&&!at){yr==null&&(yr=q.indexOf(".")===-1?[q]:q.split("."));var qr=ae(this.$__schema,yr);qr!==void 0&&(st=qr)}ce=xe(ce,!0);var Ct,xr=me.$__.priorDoc!=null?me.$__.priorDoc.$__getValue(q):Ve?void 0:me.$__getValue(q);if(_r==="nested"&&ce){if(w(ce)==="object"&&ce!=null){if(ce.$__!=null&&(ce=ce.toObject(we)),ce==null)return this.invalidate(q,new k.CastError("Object",ce,q)),this;var Vr=this.$isModified(q),jr=this.$__.savedState!=null&&this.$__.savedState.hasOwnProperty(q);if(this.$__.savedState!=null&&!this.$isNew&&!this.$__.savedState.hasOwnProperty(q)){var Dr=this.$__getValue(q);this.$__.savedState[q]=Dr;for(var nn=0,bn=Object.keys(Dr||{});nn<bn.length;nn++){var ci=bn[nn];this.$__.savedState[q+"."+ci]=Dr[ci]}}if(Ie)return this.$set(ce,q,Ve,ue);this.$__setValue(q,null),U(this,q);var ri=de(this.$__schema,ce,q);this.$__setValue(q,{});var ui,di=y(ri);try{for(di.s();!(ui=di.n()).done;){var sn=ui.value;this.$set(q+"."+sn,ce[sn],Ve,g(g({},ue),{},{_skipMarkModified:!0}))}}catch($e){di.e($e)}finally{di.f()}return xr==null||Vr&&!jr||!De.deepEqual(jr?this.$__.savedState[q]:xr,ce)?this.markModified(q):this.unmarkModified(q),this}return this.invalidate(q,new k.CastError("Object",ce,q)),this}if(yr==null&&(yr=q.indexOf(".")===-1?[q]:q.split(".")),typeof this.$__schema.aliases[yr[0]]=="string"&&(yr[0]=this.$__schema.aliases[yr[0]]),_r==="adhocOrUndefined"&&st){var Gn;for(tt=0;tt<yr.length;++tt){var xn=yr.slice(0,tt+1).join(".");if(tt+1<yr.length&&this.$__schema.pathType(xn)==="virtual")return je.set(q,ce,this),this;if((Ct=this.$__schema.path(xn))!=null){if(Ct instanceof P){Gn=!0;break}if(Ct.$isSchemaMap&&Ct.$__schemaType instanceof P&&tt<yr.length-1){Gn=!0,Ct=Ct.$__schemaType;break}}}if(Ct==null&&(Ct=fe(this,q)),!Gn&&!Ct){if(st==="throw")throw new Y(q);return this}}else{if(_r==="virtual")return(Ct=this.$__schema.virtualpath(q)).applySetters(ce,this),this;Ct=this.$__path(q)}var Wn,an=this._doc,wn="";for(tt=0;tt<yr.length-1;++tt)an=an instanceof Map?an.get(yr[tt]):an[yr[tt]],wn+=(wn.length!==0?".":"")+yr[tt],an||(this.$set(wn,{}),this.$__isSelected(wn)||this.unmarkModified(wn),an=this.$__getValue(wn));if(yr.length<=1)Wn=q;else{var jn=yr.length;for(tt=0;tt<jn;++tt){var er=yr.slice(0,tt+1).join(".");if(this.$get(er,null,{getters:!1})===null){Wn=er;break}}Wn||(Wn=q)}if(!Ct)return this.$__set(Wn,q,ue,Ve,yr,Ct,ce,xr),_r==="nested"&&ce==null&&U(this,q),this;if((Ct.$isSingleNested||Ct.$isMongooseArray)&&function($e,Ge){if($e.$__.validationError){for(var gt=0,ht=Object.keys($e.$__.validationError.errors);gt<ht.length;gt++){var Ye=ht[gt];Ye.startsWith(Ge+".")&&delete $e.$__.validationError.errors[Ye]}Object.keys($e.$__.validationError.errors).length===0&&($e.$__.validationError=null)}}(this,q),ce!=null&&Ie&&Ct.$isSingleNested){ce instanceof Xe&&(ce=ce.toObject({virtuals:!1,transform:!1}));for(var cn=0,un=Object.keys(ce);cn<un.length;cn++){var wr=un[cn];this.$set(q+"."+wr,ce[wr],Ve,ue)}return this}var Hr=!0;try{var Er,or=function(){if(Ct.options==null||!(ce instanceof Xe))return!1;var $e=ce.constructor,Ge=typeof Ct.options.ref!="function"||Ct.options.ref[Rt]?Ct.options.ref:Ct.options.ref.call(me,me),gt=(Ge==null?void 0:Ge.modelName)||Ge;if(gt!=null&&(gt===$e.modelName||gt===$e.baseModelName))return!0;var ht=Ct.options.refPath;if(ht==null)return!1;var Ye=ce.get(ht);return Ye===$e.modelName||Ye===$e.baseModelName}(),In=!1;if(or&&ce instanceof Xe&&(!ce.$__.wasPopulated||De.deepEqual(ce.$__.wasPopulated.value,ce._doc._id))){var ji=Ct&&Ct.$isSingleNested?Ct.cast(ce,this):ce._doc._id;this.$populated(q,ji,b({},Pt,ce.constructor)),ce.$__.wasPopulated={value:ji},In=!0}var Qn=this.$__schema.options.typeKey;if(Ct.options&&Array.isArray(Ct.options[Qn])&&Ct.options[Qn].length&&Ct.options[Qn][0]&&Ct.options[Qn][0].ref&&function($e,Ge){if(!Array.isArray($e)||$e.length===0)return!1;var gt,ht=y($e);try{for(ht.s();!(gt=ht.n()).done;){var Ye=gt.value;if(!(Ye instanceof Xe)||Ye.constructor.modelName==null||Ye.constructor.modelName!=Ge&&Ye.constructor.baseModelName!=Ge)return!1}}catch(Gt){ht.e(Gt)}finally{ht.f()}return!0}(ce,Ct.options[Qn][0].ref)){Er=b({},Pt,ce[0].constructor),this.$populated(q,ce.map(function($e){return $e._doc._id}),Er);var Vs,Ts=y(ce);try{for(Ts.s();!(Vs=Ts.n()).done;){var Pn=Vs.value;Pn.$__.wasPopulated={value:Pn._doc._id}}}catch($e){Ts.e($e)}finally{Ts.f()}In=!0}if(!or||!Ct.$isSingleNested||!ce.$__){var zs=this;this.$__schema.singleNestedPaths[q]!=null&&yr.length>1&&(zs=lr(this,yr,this.schema)),ce=ue!=null&&ue.overwriteImmutable?Ct.applySetters(ce,zs,!1,xr,{path:q,overwriteImmutable:!0}):Ct.applySetters(ce,zs,!1,xr,{path:q})}if(Array.isArray(ce)&&!Array.isArray(Ct)&&Ct.$isMongooseDocumentArray&&ce.length!==0&&ce[0]!=null&&ce[0].$__!=null&&ce[0].$__.populated!=null){for(var ro=Object.keys(ce[0].$__.populated),Mc=function(){var $e=Oo[dl];me.$populated(q+"."+$e,ce.map(function(Ge){return Ge.$populated($e)}),ce[0].$__.populated[$e].options)},dl=0,Oo=ro;dl<Oo.length;dl++)Mc();In=!0}if(!In&&this.$__.populated){if(Array.isArray(ce)&&this.$__.populated[q])for(var Mi=0;Mi<ce.length;++Mi)ce[Mi]instanceof Xe&&ce.set(Mi,ce[Mi]._doc._id,!0);delete this.$__.populated[q]}ce!=null&&Ct.$isSingleNested&&function($e,Ge,gt){var ht=Ge.schema;if(ht!=null)for(var Ye=0,Gt=Object.keys(ht.paths);Ye<Gt.length;Ye++){var Et=Gt[Ye],ft=ht.paths[Et];if(ft.$immutableSetter!=null){var Nt=gt==null?void 0:gt.$__getValue(Et);ft.$immutableSetter.call($e,Nt)}}}(ce,Ct,xr),this.$markValid(q)}catch($e){$e instanceof k.StrictModeError&&$e.isImmutableError?this.invalidate(q,$e):$e instanceof k.CastError?(this.invalidate($e.path,$e),$e.$originalErrorPath&&this.invalidate(q,new k.CastError(Ct.instance,ce,q,$e.$originalErrorPath))):this.invalidate(q,new k.CastError(Ct.instance,ce,q,$e)),Hr=!1}if(Hr){var xa,Fo=null,se=null;if(!Ve){var D=this.$isSubdocument?this.ownerDocument():this;Fo=D.$__.savedState,se=this.$isSubdocument?this.$__.fullPath+"."+q:q,D.$__saveInitialState(se)}this.$__set(Wn,q,ue,Ve,yr,Ct,ce,xr);var he=!((xa=this.$__.session)===null||xa===void 0||!xa.transaction),Ae=this.$__.session&&this.$__.session[sr]&&this.$__.session[sr].has(this)&&this.$__.session[sr].get(this).modifiedPaths&&!this.$__.session[sr].get(this).modifiedPaths.has(se);Fo!=null&&Fo.hasOwnProperty(se)&&(!he||Ae)&&De.deepEqual(ce,Fo[se])&&this.unmarkModified(q)}return Ct.$isSingleNested&&(this.isDirectModified(q)||ce==null)&&U(this,q),this},Xe.prototype.set=Xe.prototype.$set,Xe.prototype.$__shouldModify=function(q,ce,Z,ue,me,ye,Be,Oe){return!(Z&&Z._skipMarkModified||!this.$isNew&&!(ce in this.$__.activePaths.getStatePaths("modify"))&&(Be!==void 0||this.$__isSelected(ce))&&(Be===void 0&&ce in this.$__.activePaths.getStatePaths("default")||this.$populated(ce)&&Be instanceof Xe&&Qe(Be._doc._id,Oe)||Qe(Be,Oe!==void 0?Oe:De.getValue(ce,this))&&(ue||Be==null||!(ce in this.$__.activePaths.getStatePaths("default"))||!Qe(Be,ye.getDefault(this,ue)))))},Xe.prototype.$__set=function(q,ce,Z,ue,me,ye,Be,Oe){N=N||c(6547);var Le=this.$__shouldModify(q,ce,Z,ue,me,ye,Be,Oe);Le?(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[ce]&&(delete this.$__.primitiveAtomics[ce],Object.keys(this.$__.primitiveAtomics).length===0&&delete this.$__.primitiveAtomics),this.markModified(q),B||(B=c(7557)),Be&&De.isMongooseArray(Be)&&(Be._registerAtomic("$set",Be),De.isMongooseDocumentArray(Be)&&Be.forEach(function(vt){vt&&vt.__parentArray&&(vt.__parentArray=Be)}))):Array.isArray(Be)&&Array.isArray(Oe)&&De.isMongooseArray(Be)&&De.isMongooseArray(Oe)&&(Be[Me]=Oe[Me],Be[We]=Oe[We],De.isMongooseDocumentArray(Be)&&Be.forEach(function(vt){vt!=null&&(vt.$isNew=!1)}));for(var Ie=this._doc,Ue=0,Ve=me.length,tt="";Ue<Ve;Ue++){var at=Ue+1===Ve;if(tt+=tt?"."+me[Ue]:me[Ue],!Kt.has(me[Ue]))if(at)Ie instanceof Map?Ie.set(me[Ue],Be):Ie.$isSingleNested?(me[Ue]in Ie||(Ie[me[Ue]]=Be),Ie._doc[me[Ue]]=Be,Le&&Ie.markModified(me[Ue])):Ie[me[Ue]]=Be;else{var st=Ie instanceof Map,dt=st?Ie.get(me[Ue]):Ie[me[Ue]];De.isPOJO(dt)||dt&&dt instanceof N||dt&&!Array.isArray(dt)&&dt.$isSingleNested||dt&&Array.isArray(dt)||dt==null&&(dt={},st?Ie.set(me[Ue],dt):Ie[me[Ue]]=dt),Ie=dt}}},Xe.prototype.$__getValue=function(q){if(typeof q!="string"&&!Array.isArray(q))throw new TypeError('Invalid `path`. Must be either string or array. Got "'.concat(q,'" (type ').concat(w(q),")"));return De.getValue(q,this._doc)},Xe.prototype.$inc=function(q,ce){var Z=this;if(ce==null&&(ce=1),Array.isArray(q))return q.forEach(function(Le){return Z.$inc(Le,ce)}),this;var ue=this.$__path(q);if(ue==null){if(this.$__.strictMode==="throw")throw new Y(q);if(this.$__.strictMode===!0)return this}else if(ue.instance!=="Number")return this.invalidate(q,new k.CastError(ue.instance,ce,q)),this;var me=this.$__getValue(q)||0,ye=!1,Be=null,Oe=ce;try{ce=ue.cast(ce),Oe=(Be=ue.applySetters(me+ce,this))-me,ye=!0}catch(Le){this.invalidate(q,new k.CastError("number",ce,q,Le))}return ye&&(this.$__.primitiveAtomics=this.$__.primitiveAtomics||{},this.$__.primitiveAtomics[q]==null?this.$__.primitiveAtomics[q]={$inc:Oe}:this.$__.primitiveAtomics[q].$inc+=Oe,this.markModified(q),this.$__setValue(q,Be)),this},Xe.prototype.$__setValue=function(q,ce){return De.setValue(q,ce,this._doc),this},Xe.prototype.get=function(q,ce,Z){var ue;Z==null&&(Z={}),ce&&(ue=this.$__schema.interpretAsType(q,ce,this.$__schema.options));var me=Z.noDottedPath,ye=me?this.$__schema.paths[q]:this.$__path(q);if(ye==null&&(ye=this.$__schema.virtualpath(q))!=null)return ye.applyGetters(void 0,this);if(me){var Be=this._doc[q];return ue&&(Be=ue.cast(Be)),ye!=null&&Z.getters!==!1?ye.applyGetters(Be,this):Be}if(ye!=null&&ye.instance==="Mixed"){var Oe=this.$__schema.virtualpath(q);Oe!=null&&(ye=Oe)}var Le=q.indexOf(".")!==-1,Ie=this._doc,Ue=Le?q.split("."):[q];typeof this.$__schema.aliases[Ue[0]]=="string"&&(Ue[0]=this.$__schema.aliases[Ue[0]]);for(var Ve=0,tt=Ue.length;Ve<tt;Ve++)Ie&&Ie._doc&&(Ie=Ie._doc),Ie=Ie==null?void 0:Ie instanceof Map?Ie.get(Ue[Ve],{getters:!1}):Ve===tt-1?De.getValue(Ue[Ve],Ie):Ie[Ue[Ve]];if(ue&&(Ie=ue.cast(Ie)),ye!=null&&Z.getters!==!1)Ie=ye.applyGetters(Ie,this);else if(this.$__schema.nested[q]&&Z.virtuals)return Or(this,T(Ie)||{},{path:q});return Ie},Xe.prototype[At]=Xe.prototype.get,Xe.prototype.$get=Xe.prototype.get,Xe.prototype.$__path=function(q){var ce=this.$__.adhocPaths;return(ce&&ce.hasOwnProperty(q)?ce[q]:null)||this.$__schema.path(q)},Xe.prototype.markModified=function(q,ce){this.$__saveInitialState(q),this.$__.activePaths.modify(q),ce==null||this.$isSubdocument||(this.$__.pathsToScopes=this.$__pathsToScopes||{},this.$__.pathsToScopes[q]=ce)},Xe.prototype.$__saveInitialState=function(q){var ce=this.$__.savedState,Z=q;if(ce!=null){var ue=Z.indexOf("."),me=ue===-1?Z:Z.slice(0,ue);ce.hasOwnProperty(me)||(ce[me]=T(this.$__getValue(me)))}},Xe.prototype.unmarkModified=function(q){this.$__.activePaths.init(q),this.$__.pathsToScopes!=null&&delete this.$__.pathsToScopes[q]},Xe.prototype.$ignore=function(q){this.$__.activePaths.ignore(q)},Xe.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.getStatePaths("modify"))},Xe.prototype.$isEmpty=function(q){var ce={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length!==0){var Z=this.$get(q);return Z==null||w(Z)==="object"&&(De.isPOJO(Z)?Tr(Z):Object.keys(Z.toObject(ce)).length===0)}return Object.keys(this.toObject(ce)).length===0},Xe.prototype.modifiedPaths=function(q){q=q||{};var ce=Object.keys(this.$__.activePaths.getStatePaths("modify")),Z=new Set,ue=0,me=0,ye=ce.length;for(ue=0;ue<ye;++ue){var Be=ce[ue],Oe=Te(Be),Le=Oe.length;for(me=0;me<Le;++me)Z.add(Oe[me]);if(q.includeChildren){var Ie=0,Ue=this.$get(Be);if(w(Ue)==="object"&&Ue!==null){Ue._doc&&(Ue=Ue._doc);var Ve=Ue.length;if(Array.isArray(Ue))for(Ie=0;Ie<Ve;++Ie){var tt=Be+"."+Ie;if(!Z.has(tt)&&(Z.add(tt),Ue[Ie]!=null&&Ue[Ie].$__)){var at=Ue[Ie].modifiedPaths(),st=0,dt=at.length;for(st=0;st<dt;++st)Z.add(tt+"."+at[st])}}else{var vt=Object.keys(Ue),It=0,Zt=vt.length;for(It=0;It<Zt;++It)Z.add(Be+"."+vt[It])}}}}return Array.from(Z)},Xe.prototype[Ft]=Xe.prototype.modifiedPaths,Xe.prototype.isModified=function(q,ce,Z){var ue=this;if(q){var me=ce&&ce.ignoreAtomics,ye=this.$__.activePaths.states.modify;if(ye==null)return!1;typeof q=="string"&&(q=q.indexOf(" ")===-1?[q]:q.split(" "));var Be,Oe=y(q);try{for(Oe.s();!(Be=Oe.n()).done;)if(ye[Be.value]!=null)return!0}catch(Ve){Oe.e(Ve)}finally{Oe.f()}var Le=Z||this[Ft](),Ie=q.some(function(Ve){return!!~Le.indexOf(Ve)}),Ue=Object.keys(ye);return me&&(Ue=Ue.filter(function(Ve){var tt=ue.$__getValue(Ve);return tt==null||tt[Me]==null||tt[Me].$set!==void 0})),Ie||q.some(function(Ve){return Ue.some(function(tt){return tt===Ve||Ve.startsWith(tt+".")})})}return this.$__.activePaths.some("modify")},Xe.prototype.$isModified=Xe.prototype.isModified,Xe.prototype[xt]=Xe.prototype.isModified,Xe.prototype.$isDefault=function(q){var ce=this;if(q==null)return this.$__.activePaths.some("default");if(typeof q=="string"&&q.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("default").hasOwnProperty(q);var Z=q;return Array.isArray(Z)||(Z=Z.split(" ")),Z.some(function(ue){return ce.$__.activePaths.getStatePaths("default").hasOwnProperty(ue)})},Xe.prototype.$isDeleted=function(q){return arguments.length===0?!!this.$__.isDeleted:(this.$__.isDeleted=!!q,this)},Xe.prototype.isDirectModified=function(q){var ce=this;if(q==null)return this.$__.activePaths.some("modify");if(typeof q=="string"&&q.indexOf(" ")===-1){var Z=this.$__.activePaths.getStatePaths("modify").hasOwnProperty(q);if(Z||q.indexOf(".")===-1)return Z;for(var ue=q.split("."),me=0;me<ue.length-1;++me){var ye=ue.slice(0,me+1).join("."),Be=this.$get(ye);if(Be!=null&&Be.$__!=null&&Be.isDirectModified(ue.slice(me+1).join(".")))return!0}return!1}var Oe=q;return typeof Oe=="string"&&(Oe=Oe.split(" ")),Oe.some(function(Le){return ce.isDirectModified(Le)})},Xe.prototype.isInit=function(q){var ce=this;if(q==null)return this.$__.activePaths.some("init");if(typeof q=="string"&&q.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("init").hasOwnProperty(q);var Z=q;return Array.isArray(Z)||(Z=Z.split(" ")),Z.some(function(ue){return ce.$__.activePaths.getStatePaths("init").hasOwnProperty(ue)})},Xe.prototype.isSelected=function(q){var ce=this;if(this.$__.selected==null)return!0;if(!q)return!1;if(q==="_id")return this.$__.selected._id!==0;if(q.indexOf(" ")!==-1&&(q=q.split(" ")),Array.isArray(q))return q.some(function(Ve){return ce.$__isSelected(Ve)});var Z=Object.keys(this.$__.selected),ue=null;if(Z.length===1&&Z[0]==="_id")return this.$__.selected._id===0;for(var me=0,ye=Z;me<ye.length;me++){var Be=ye[me];if(Be!=="_id"&&re(this.$__.selected[Be])){ue=!!this.$__.selected[Be];break}}if(ue===null)return!0;if(q in this.$__.selected)return ue;for(var Oe=q+".",Le=0,Ie=Z;Le<Ie.length;Le++){var Ue=Ie[Le];if(Ue!=="_id"){if(Ue.startsWith(Oe))return ue||Ue!==Oe;if(Oe.startsWith(Ue+"."))return ue}}return!ue},Xe.prototype.$__isSelected=Xe.prototype.isSelected,Xe.prototype.isDirectSelected=function(q){var ce=this;if(this.$__.selected==null)return!0;if(q==="_id")return this.$__.selected._id!==0;if(q.indexOf(" ")!==-1&&(q=q.split(" ")),Array.isArray(q))return q.some(function(Oe){return ce.isDirectSelected(Oe)});var Z=Object.keys(this.$__.selected),ue=null;if(Z.length===1&&Z[0]==="_id")return this.$__.selected._id===0;for(var me=0,ye=Z;me<ye.length;me++){var Be=ye[me];if(Be!=="_id"&&re(this.$__.selected[Be])){ue=!!this.$__.selected[Be];break}}return ue===null||(this.$__.selected.hasOwnProperty(q)?ue:!ue)},Xe.prototype.validate=function(){var q=p(A().m(function ce(Z,ue){var me,ye,Be=this,Oe=arguments;return A().w(function(Le){for(;;)switch(Le.n){case 0:if(typeof Z!="function"&&typeof ue!="function"&&typeof Oe[2]!="function"){Le.n=1;break}throw new k("Document.prototype.validate() no longer accepts a callback");case 1:if(this.$op="validate",Oe.length===1&&(w(Oe[0])!=="object"||Array.isArray(Oe[0])||(ue=Oe[0],Z=null)),ue&&typeof ue.pathsToSkip=="string"&&(me=ue.pathsToSkip.indexOf(" ")===-1,ue.pathsToSkip=me?[ue.pathsToSkip]:ue.pathsToSkip.split(" ")),ye=ue&&ue._skipParallelValidateCheck,this.$isSubdocument==null){Le.n=2;break}Le.n=4;break;case 2:if(!this.$__.validating||ye){Le.n=3;break}throw new Q(this);case 3:ye||(this.$__.validating=!0);case 4:return Le.a(2,new Promise(function(Ie,Ue){Be.$__validate(Z,ue,function(Ve){if(Be.$op=null,Be.$__.validating=null,Ve!=null)return Ue(Ve);Ie()})}))}},ce,this)}));return function(ce,Z){return q.apply(this,arguments)}}(),Xe.prototype.$validate=Xe.prototype.validate,Xe.prototype.$__validate=function(q,ce,Z){var ue,me=this;this.$__.saveOptions&&this.$__.saveOptions.pathsToSave&&!q?q=d(this.$__.saveOptions.pathsToSave):typeof q=="function"?(Z=q,ce=null,q=null):typeof ce=="function"&&(Z=ce,ce=null);var ye,Be=ce&&w(ce)==="object"&&"validateModifiedOnly"in ce,Oe=ce&&ce.pathsToSkip||null;ye=Be?!!ce.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var Le=ce&&ce.validateAllPaths;if(Le){if(Oe)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToSkip`");if(q)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToValidate`");if(Be&&ye)throw new TypeError("Cannot set both `validateAllPaths` and `validateModifiedOnly`")}var Ie,Ue,Ve=this,tt=function(){var Ct=me.$__.validationError;if(me.$__.validationError=null,me.$__.validating=null,ye&&Ct!=null){for(var xr=0,Vr=Object.keys(Ct.errors);xr<Vr.length;xr++){var jr=Vr[xr];me.$isModified(jr)||delete Ct.errors[jr]}Object.keys(Ct.errors).length===0&&(Ct=void 0)}if(me.$__.cachedRequired={},me.$emit("validate",Ve),me.constructor.emit("validate",Ve),Ct){for(var Dr in Ct.errors)!me[ot]&&Ct.errors[Dr]instanceof k.CastError&&me.invalidate(Dr,Ct.errors[Dr]);return Ct}};if(Le){var at,st=y(Ie=new Set(Object.keys(this.$__schema.paths)));try{for(st.s();!(at=st.n()).done;){var dt=at.value,vt=this.$__schema.path(dt);if(vt&&vt.$isMongooseArray){var It=this.$__getValue(dt);It&&Wt(It,Ie,dt)}}}catch(Ct){st.e(Ct)}finally{st.f()}Ie=d(Ie),Ue={}}else{var Zt=Fn(this,q,Oe,ce&&ce._nestedValidate);Ie=ye?Zt[0].filter(function(Ct){return me.$isModified(Ct)}):Zt[0],Ue=Zt[1]}if(typeof q=="string"&&(q=q.split(" ")),Ie.length===0)return X(function(){var Ct=tt();if(Ct)return Ve.$__schema.s.hooks.execPost("validate:error",Ve,[Ve],{error:Ct},function(xr){Z(xr)});Z(null,Ve)});var br={},fr=0,Qr=(ue=this.$__.saveOptions)===null||ue===void 0?void 0:ue.pathsToSave;if(Array.isArray(Qr)){Qr=new Set(Qr);var Cr,hr=y(Ie);try{for(hr.s();!(Cr=hr.n()).done;){var mr=Cr.value;Qr.has(mr)&&yr(mr)}}catch(Ct){hr.e(Ct)}finally{hr.f()}}else{var Xr,_r=y(Ie);try{for(_r.s();!(Xr=_r.n()).done;)yr(Xr.value)}catch(Ct){_r.e(Ct)}finally{_r.f()}}function yr(Ct){Ct==null||br[Ct]||(br[Ct]=!0,fr++,X(function(){var xr=Ve.$__schema.path(Ct);if(!xr)return--fr||qr();if(Ve.$isValid(Ct)){if(xr[Ht]!=null&&Ct!==xr.path)return--fr||qr();var Vr,jr=Ve.$__getValue(Ct);(Vr=Ve.$populated(Ct))?jr=Vr:jr!=null&&jr.$__!=null&&jr.$__.wasPopulated&&(jr=jr._doc._id);var Dr=Ve.$__.pathsToScopes!=null&&Ct in Ve.$__.pathsToScopes?Ve.$__.pathsToScopes[Ct]:Ve,nn=g(g({},Ue[Ct]),{},{path:Ct,validateAllPaths:Le,_nestedValidate:!0});xr.doValidate(jr,function(bn){if(bn){if((xr.$isSingleNested||xr.$isArraySubdocument||xr.$isMongooseDocumentArray)&&bn instanceof V)return--fr||qr();Ve.invalidate(Ct,bn,void 0,!0)}--fr||qr()},Dr,nn)}else--fr||qr()}))}function qr(){var Ct=tt();if(Ct)return Ve.$__schema.s.hooks.execPost("validate:error",Ve,[Ve],{error:Ct},function(xr){Z(xr)});Z(null,Ve)}},Xe.prototype.validateSync=function(q,ce){var Z,ue=this,me=this;arguments.length!==1||w(arguments[0])!=="object"||Array.isArray(arguments[0])||(ce=arguments[0],q=null),Z=ce&&w(ce)==="object"&&"validateModifiedOnly"in ce?!!ce.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var ye,Be,Oe=ce&&ce.pathsToSkip,Le=ce&&ce.validateAllPaths;if(Le){if(Oe)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToSkip`");if(q)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToValidate`")}if(typeof q=="string"){var Ie=q.indexOf(" ")===-1;q=Ie?[q]:q.split(" ")}else typeof Oe=="string"&&Oe.indexOf(" ")!==-1&&(Oe=Oe.split(" "));if(Le){var Ue,Ve=y(ye=new Set(Object.keys(this.$__schema.paths)));try{for(Ve.s();!(Ue=Ve.n()).done;){var tt=Ue.value,at=this.$__schema.path(tt);if(at&&at.$isMongooseArray){var st=this.$__getValue(tt);st&&Wt(st,ye,tt)}}}catch(Xr){Ve.e(Xr)}finally{Ve.f()}ye=d(ye),Be={}}else{var dt=Fn(this,q,Oe);ye=Z?dt[0].filter(function(Xr){return ue.$isModified(Xr)}):dt[0],Be=dt[1]}for(var vt={},It=0,Zt=ye.length;It<Zt;++It){var br=ye[It];if(!vt[br]){vt[br]=!0;var fr=me.$__schema.path(br);if(fr&&me.$isValid(br)){var Qr=me.$__getValue(br),Cr=fr.doValidateSync(Qr,me,{skipSchemaValidators:Be[br],path:br,validateModifiedOnly:Z,validateAllPaths:Le});if(Cr){if((fr.$isSingleNested||fr.$isArraySubdocument||fr.$isMongooseDocumentArray)&&Cr instanceof V)continue;me.invalidate(br,Cr,void 0,!0)}}}}var hr=me.$__.validationError;if(me.$__.validationError=void 0,me.$emit("validate",me),me.constructor.emit("validate",me),hr)for(var mr in hr.errors)hr.errors[mr]instanceof k.CastError&&me.invalidate(mr,hr.errors[mr]);return hr},Xe.prototype.invalidate=function(q,ce,Z,ue){if(this.$__.validationError||(this.$__.validationError=new V(this)),!this.$__.validationError.errors[q])return ce&&typeof ce!="string"||(ce=new I({path:q,message:ce,type:ue||"user defined",value:Z})),this.$__.validationError===ce||this.$__.validationError.addError(q,ce),this.$__.validationError},Xe.prototype.$markValid=function(q){this.$__.validationError&&this.$__.validationError.errors[q]&&(delete this.$__.validationError.errors[q],Object.keys(this.$__.validationError.errors).length===0&&(this.$__.validationError=null))},Xe.prototype.$isValid=function(q){var ce=this;return this.$__.validationError==null||Object.keys(this.$__.validationError.errors).length===0||q!=null&&(q.indexOf(" ")!==-1&&(q=q.split(" ")),Array.isArray(q)?q.some(function(Z){return ce.$__.validationError.errors[Z]==null}):this.$__.validationError.errors[q]==null)},Xe.prototype.$__reset=function(){var q,ce=this.$isSubdocument?null:this.$getAllSubdocs({useCache:!0});if(ce&&ce.length>0){var Z,ue=y(ce);try{for(ue.s();!(Z=ue.n()).done;)Z.value.$__reset()}catch(me){ue.e(me)}finally{ue.f()}}return this.$__dirty().forEach(function(me){var ye=me.value;ye&&ye[Me]&&(ye[We]=ye[Me],ye[Me]={})}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.getStatePaths("modify")),default:Object.assign({},this.$__.activePaths.getStatePaths("default"))},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.$errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.$errors=void 0,q=this,this.$__schema.requiredPaths().forEach(function(me){q.$__.activePaths.require(me)}),this},Xe.prototype.$__undoReset=function(){if(this.$__.backup!=null&&this.$__.backup.activePaths!=null){this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.$errors=this.$__.backup.errors;var q,ce=y(this.$__dirty());try{for(ce.s();!(q=ce.n()).done;){var Z=q.value.value;Z&&Z[Me]&&Z[We]&&(Z[Me]=Z[We])}}catch(ye){ce.e(ye)}finally{ce.f()}if(!this.$isSubdocument){var ue,me=y(this.$getAllSubdocs());try{for(me.s();!(ue=me.n()).done;)ue.value.$__undoReset()}catch(ye){me.e(ye)}finally{me.f()}}}},Xe.prototype.$__dirty=function(){var q=this,ce=this.$__.activePaths.map("modify",function(me){return{path:me,value:q.$__getValue(me),schema:q.$__path(me)}});ce=ce.concat(this.$__.activePaths.map("default",function(me){if(me!=="_id"&&q.$__getValue(me)!=null)return{path:me,value:q.$__getValue(me),schema:q.$__path(me)}}));var Z=new Map(ce.filter(function(me){return me!=null}).map(function(me){return[me.path,me.value]})),ue=[];return ce.forEach(function(me){if(me){for(var ye=null,Be=Te(me.path),Oe=0;Oe<Be.length-1;Oe++)if(Z.has(Be[Oe])){ye=Z.get(Be[Oe]);break}ye==null?ue.push(me):ye!=null&&ye[Me]!=null&&ye.hasAtomics()&&(ye[Me]={},ye[Me].$set=ye)}}),ue},Xe.prototype.$__setSchema=function(q){z(q.tree,this,void 0,q.options);for(var ce=0,Z=Object.keys(q.virtuals);ce<Z.length;ce++){var ue=Z[ce];q.virtuals[ue]._applyDefaultGetters()}q.path("schema")==null&&(this.schema=q),this.$__schema=q,this[nt]=q},Xe.prototype.$__getArrayPathsToValidate=function(){return _||(_=c(4878)),this.$__.activePaths.map("init","modify",(function(q){return this.$__getValue(q)}).bind(this)).filter(function(q){return q&&Array.isArray(q)&&De.isMongooseDocumentArray(q)&&q.length}).reduce(function(q,ce){return q.concat(ce)},[]).filter(function(q){return q})},Xe.prototype.$getAllSubdocs=function(q){var ce;if(q!=null&&q.useCache&&(ce=this.$__.saveOptions)!==null&&ce!==void 0&&ce.__subdocs)return this.$__.saveOptions.__subdocs;_||(_=c(4878)),N=N||c(6547);var Z=[];return function ue(me){var ye,Be=[],Oe=y(me.$__schema.childSchemas);try{for(Oe.s();!(ye=Oe.n()).done;){var Le=ye.value.model,Ie=me.$__getValue(Le.path);if(Ie!=null){if(Ie.$__&&Be.push(Ie),Array.isArray(Ie)){var Ue,Ve=y(Ie);try{for(Ve.s();!(Ue=Ve.n()).done;){var tt=Ue.value;tt!=null&&tt.$__&&Be.push(tt)}}catch(Zt){Ve.e(Zt)}finally{Ve.f()}}if(Ie instanceof Map){var at,st=y(Ie.values());try{for(st.s();!(at=st.n()).done;){var dt=at.value;dt!=null&&dt.$__&&Be.push(dt)}}catch(Zt){st.e(Zt)}finally{st.f()}}}}}catch(Zt){Oe.e(Zt)}finally{Oe.f()}for(var vt=0,It=Be;vt<It.length;vt++)ue(It[vt]);Z.push.apply(Z,Be)}(this),this.$__.saveOptions&&(this.$__.saveOptions.__subdocs=Z),Z},Xe.prototype.$__handleReject=function(q){this.$listeners("error").length?this.$emit("error",q):this.constructor.listeners&&this.constructor.listeners("error").length&&this.constructor.emit("error",q)},Xe.prototype.$toObject=function(q,ce){var Z,ue,me,ye,Be,Oe,Le,Ie,Ue,Ve,tt,at,st,dt,vt,It=this.$__schema._defaultToObjectOptions(ce),Zt=this.$__hasOnlyPrimitiveValues();(q=De.isPOJO(q)?g({},q):{})._calledWithOptions=q._calledWithOptions||g({},q),vt=q._calledWithOptions.minimize!=null?q.minimize:((Z=this.$__schemaTypeOptions)===null||Z===void 0?void 0:Z.minimize)!=null?this.$__schemaTypeOptions.minimize:It!=null&&It.minimize!=null?It.minimize:this.$__schema.options.minimize,q.minimize=vt,Zt||(q._seen=q._seen||new Map);var br=(ue=(me=(ye=q._calledWithOptions.depopulate)!==null&&ye!==void 0?ye:It==null?void 0:It.depopulate)!==null&&me!==void 0?me:q.depopulate)!==null&&ue!==void 0&&ue;if(br&&q._isNested&&this.$__.wasPopulated)return T(this.$__.wasPopulated.value||this._doc._id,q);if(br&&(q.depopulate=!0),It!=null)for(var fr=0,Qr=Object.keys(It);fr<Qr.length;fr++){var Cr=Qr[fr];q[Cr]==null&&(q[Cr]=It[Cr])}q._isNested=!0,q.json=ce,q.minimize=vt;var hr=q._parentOptions;q._parentOptions=this.$isSubdocument?q:null;var mr,Xr=(Be=(Oe=(Le=q._calledWithOptions.schemaFieldsOnly)!==null&&Le!==void 0?Le:q.schemaFieldsOnly)!==null&&Oe!==void 0?Oe:It.schemaFieldsOnly)!==null&&Be!==void 0&&Be;if(Zt&&!q.flattenObjectIds)mr=this.$__toObjectShallow(Xr);else if(Xr){mr={};for(var _r=0,yr=Object.keys(this.$__schema.paths);_r<yr.length;_r++){var qr=yr[_r],Ct=this.$__getValue(qr);if(Ct!==void 0){var xr=qr,Vr=mr;if(qr.indexOf(".")!==-1){var jr=qr.split(".");xr=jr[jr.length-1];for(var Dr=0;Dr<jr.length-1;++Dr){var nn;Vr[jr[Dr]]=(nn=Vr[jr[Dr]])!==null&&nn!==void 0?nn:{},Vr=Vr[jr[Dr]]}}Vr[xr]=Ct!==null?T(Ct,q):null}}}else mr=T(this._doc,q)||{};var bn=(Ie=(Ue=(Ve=q._calledWithOptions.getters)!==null&&Ve!==void 0?Ve:q.getters)!==null&&Ue!==void 0?Ue:It.getters)!==null&&Ie!==void 0&&Ie;bn&&(function(sn,Gn){var xn,Wn,an=sn.$__schema,wn=Object.keys(an.paths),jn=wn.length,er=sn._doc;if(!er)return Gn;for(;jn--;){var cn=(xn=wn[jn]).split("."),un=cn.length,wr=un-1,Hr=Gn,Er=void 0;if(er=sn._doc,sn.$__isSelected(xn))for(var or=0;or<un&&(Wn=er[Er=cn[or]],Hr==null||w(Hr)==="object");++or){if(or===wr){if(Hr[Er]=an.paths[xn].applyGetters(Hr[Er],sn),Array.isArray(Hr[Er])&&an.paths[xn].$embeddedSchemaType)for(var In=0;In<Hr[Er].length;++In)Hr[Er][In]=an.paths[xn].$embeddedSchemaType.applyGetters(Hr[Er][In],sn)}else{if(Wn==null){Er in er&&(Hr[Er]=Wn);break}Hr=Hr[Er]||(Hr[Er]={})}er=Wn}}}(this,mr),q.minimize&&(mr=pe(mr)||{}));var ci=(tt=(at=(st=q._calledWithOptions.virtuals)!==null&&st!==void 0?st:It.virtuals)!==null&&at!==void 0?at:hr==null?void 0:hr.virtuals)!==null&&tt!==void 0?tt:void 0;(ci||bn&&ci!==!1)&&Or(this,mr,q,q),q.versionKey===!1&&this.$__schema.options.versionKey&&delete mr[this.$__schema.options.versionKey];var ri=(dt=q._calledWithOptions.transform)===null||dt===void 0||dt,ui=void 0;if(ri===!0?ui=It.transform:typeof ri=="function"&&(ui=ri),ri&&function(sn,Gn){var xn=sn.$__schema,Wn=Object.keys(xn.paths||{});if(!sn._doc)return Gn;for(var an=0,wn=Wn;an<wn.length;an++){var jn,er,cn,un,wr,Hr=wn[an],Er=xn.paths[Hr],or=(jn=Er.options.transform)!==null&&jn!==void 0?jn:(er=Er.constructor)===null||er===void 0||(er=er.defaultOptions)===null||er===void 0?void 0:er.transform,In=(cn=(un=Er.$embeddedSchemaType)===null||un===void 0||(un=un.options)===null||un===void 0?void 0:un.transform)!==null&&cn!==void 0?cn:(wr=Er.$embeddedSchemaType)===null||wr===void 0||(wr=wr.constructor)===null||wr===void 0||(wr=wr.defaultOptions)===null||wr===void 0?void 0:wr.transform;if(typeof or=="function"){var ji=sn.$get(Hr);if(ji===void 0)continue;var Qn=or.call(sn,ji);Yr(Hr,Qn),De.setValue(Hr,Qn,Gn)}else if(typeof In=="function"){var Vs=sn.$get(Hr);if(Vs===void 0)continue;for(var Ts=[].concat(Vs),Pn=0;Pn<Ts.length;++Pn){var zs=In.call(sn,Ts[Pn]);Ts[Pn]=zs,Yr(Hr,zs)}Gn[Hr]=Ts}}}(this,mr),q.useProjection&&function(sn,Gn){var xn=sn.$__schema,Wn=Object.keys(xn.paths||{});if(!sn._doc)return Gn;var an=sn.$__.selected;if(an===void 0&&(an={},be.applyPaths(an,xn)),an==null||Object.keys(an).length===0)return Gn;for(var wn=0,jn=Wn;wn<jn.length;wn++){var er=jn[wn];an[er]==null||an[er]||delete Gn[er]}}(this,mr),typeof ui=="function"){var di=ui(this,mr,q);di!==void 0&&(mr=di)}return mr},Xe.prototype.$__toObjectShallow=function(q){var ce={};if(this._doc!=null){var Z,ue=y(Object.keys(q?this.$__schema.paths:this._doc));try{for(ue.s();!(Z=ue.n()).done;){var me=Z.value,ye=this._doc[me];ye instanceof Date?ce[me]=new Date(ye):ye!==void 0&&(ce[me]=ye)}}catch(Be){ue.e(Be)}finally{ue.f()}}return ce},Xe.prototype.toObject=function(q){return this.$toObject(q)},Xe.prototype.toJSON=function(q){return this.$toObject(q,!0)},Xe.prototype.ownerDocument=function(){return this},Xe.prototype.parent=function(){return this.$isSubdocument||this.$__.wasPopulated?this.$__.parent:this},Xe.prototype.$parent=Xe.prototype.parent,Xe.prototype.inspect=function(q){var ce;De.isPOJO(q)&&((ce=q).minimize=!1);var Z=arguments.length>0?this.toObject(ce):this.toObject();return Z??"MongooseDocument { "+Z+" }"},Ce.custom&&(Xe.prototype[Ce.custom]=Xe.prototype.inspect),Xe.prototype.toString=function(){var q=this.inspect();return typeof q=="string"?q:Ce(q)},Xe.prototype.equals=function(q){if(!q)return!1;var ce=this.$__getValue("_id"),Z=q.$__!=null?q.$__getValue("_id"):q;return ce||Z?ce&&ce.equals?ce.equals(Z):ce===Z:Qe(this,q)},Xe.prototype.populate=function(){var q=p(A().m(function ce(){var Z,ue,me,ye,Be,Oe,Le,Ie,Ue,Ve,tt=arguments;return A().w(function(at){for(;;)switch(at.n){case 0:if(Z={},typeof(ue=Array.prototype.slice.call(tt))[ue.length-1]!="function"){at.n=1;break}throw new k("Document.prototype.populate() no longer accepts a callback");case 1:if(ue.length!==0){me=De.populate.apply(null,ue),ye=y(me);try{for(ye.s();!(Be=ye.n()).done;)Oe=Be.value,Z[Oe.path]=Oe}catch(st){ye.e(st)}finally{ye.f()}}return Le=De.object.vals(Z),Ie=this.constructor,this.$__isNested&&(Ie=this.$__[ur].constructor,Ue=this.$__.nestedPath,Le.forEach(function(st){st.path=Ue+"."+st.path})),this.$session()!=null&&(Ve=this.$session(),Le.forEach(function(st){st.options!=null?"session"in st.options||(st.options.session=Ve):st.options={session:Ve}})),Le.forEach(function(st){st._localModel=Ie}),at.a(2,Ie.populate(this,Le))}},ce,this)}));return function(){return q.apply(this,arguments)}}(),Xe.prototype.$getPopulatedDocs=function(){var q=[];this.$__.populated!=null&&(q=q.concat(Object.keys(this.$__.populated)));var ce,Z=[],ue=y(q);try{for(ue.s();!(ce=ue.n()).done;){var me=ce.value,ye=this.$get(me);Array.isArray(ye)?Z=Z.concat(ye):ye instanceof Xe&&Z.push(ye)}}catch(Be){ue.e(Be)}finally{ue.f()}return Z},Xe.prototype.populated=function(q,ce,Z){if(ce==null||ce===!0){if(!this.$__.populated||typeof q!="string")return;var ue=q.endsWith(".$*")?q.replace(/\.\$\*$/,""):q,me=this.$__.populated[ue];return me?ce===!0?me:me.value:void 0}this.$__.populated||(this.$__.populated={}),this.$__.populated[q]={value:ce,options:Z};for(var ye=q.split("."),Be=0;Be<ye.length-1;++Be){var Oe=ye.slice(0,Be+1).join("."),Le=this.$get(Oe);if(Le!=null&&Le.$__!=null&&this.$populated(Oe)){var Ie=ye.slice(Be+1).join(".");Le.$populated(Ie,ce,Z);break}}return ce},Xe.prototype.$populated=Xe.prototype.populated,Xe.prototype.$assertPopulated=function(q,ce){var Z=this;if(Array.isArray(q))return q.forEach(function(ue){return Z.$assertPopulated(ue,ce)}),this;if(arguments.length>1&&this.$set(ce),!this.$populated(q))throw new k('Expected path "'.concat(q,'" to be populated'));return this},Xe.prototype.depopulate=function(q){var ce;typeof q=="string"&&(q=q.indexOf(" ")===-1?[q]:q.split(" "));var Z=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],ue=this.$__&&this.$__.populated||{};if(arguments.length===0){var me,ye=y(Z);try{for(ye.s();!(me=ye.n()).done;){var Be=me.value;delete this.$$populatedVirtuals[Be],delete this._doc[Be],delete ue[Be]}}catch(Qr){ye.e(Qr)}finally{ye.f()}for(var Oe=0,Le=Object.keys(ue);Oe<Le.length;Oe++){var Ie=Le[Oe];if(ce=this.$populated(Ie))if(delete ue[Ie],Array.isArray(ce)){var Ue=De.getValue(Ie,this._doc);if(Ue.isMongooseArray)for(var Ve=Ue.__array,tt=0;tt<Ve.length;++tt){var at=Ve[tt];at!=null&&(Ve[tt]=at instanceof Xe?at._doc._id:at._id)}else De.setValue(Ie,ce,this._doc)}else De.setValue(Ie,ce,this._doc)}return this}var st,dt=y(q);try{for(dt.s();!(st=dt.n()).done;){var vt=st.value;if(ce=this.$populated(vt),delete ue[vt],Z.indexOf(vt)!==-1)delete this.$$populatedVirtuals[vt],delete this._doc[vt];else if(ce)if(Array.isArray(ce)){var It=De.getValue(vt,this._doc);if(It.isMongooseArray)for(var Zt=It.__array,br=0;br<Zt.length;++br){var fr=Zt[br];fr!=null&&(Zt[br]=fr instanceof Xe?fr._doc._id:fr._id)}else De.setValue(vt,ce,this._doc)}else De.setValue(vt,ce,this._doc)}}catch(Qr){dt.e(Qr)}finally{dt.f()}return this},Xe.prototype.$__fullPath=function(q){return q||""},Xe.prototype.getChanges=function(){var q=this.$__delta();return q?q[1]:{}},Xe.prototype.$__delta=function(){var q=this,ce=this.$__dirty(),Z=this.$__schema.options.optimisticConcurrency;if(Z)if(Array.isArray(Z)){var ue=new Set(Z);this.modifiedPaths().find(function(vt){return ue.has(vt)})&&(this.$__.version=ce.length?3:1)}else this.$__.version=ce.length?3:1;if(ce.length||this.$__.version===3){var me={},ye={},Be=ce.length,Oe=[],Le=0;for(me._id=this._doc._id,(me&&me._id&&me._id.$__||null)!=null&&(me._id=me._id.toObject({transform:!1,depopulate:!0}));Le<Be;++Le){var Ie=ce[Le],Ue=Ie.value,Ve=hn(this,Ie.path,Ue);if(Ve)Oe.push(Ve);else{if(!this.$populated(Ie.path,!0)&&this.$__.selected){var tt=Ie.path.split("."),at=tt[0];if(this.$__.selected[at]&&this.$__.selected[at].$elemMatch){if(!(tt.length>1&&tt[1]==0&&me[at]===void 0)){Oe.push(Ie.path);continue}me[at]=this.$__.selected[at],tt[1]="$",Ie.path=tt.join(".")}}if(this.$isDefault(Ie.path)&&this.$__.selected&&(Ie.path.indexOf(".")===-1&&ke(this.$__.selected,Ie.path)||Te(Ie.path).find(function(vt){return ke(q.$__.isSelected,vt)})))continue;if(!Oe.length)if(Ue===void 0)Mr(this,0,ye,Ie,1,"$unset");else if(Ue===null)Mr(this,0,ye,Ie,null);else if(De.isMongooseArray(Ue)&&Ue.$path()&&Ue[Me])Jr(this,0,ye,Ie,Ue);else if(Ue[S.pathSymbol]&&u.isBuffer(Ue))Mr(this,0,ye,Ie,Ue=Ue.toObject());else if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[Ie.path]!=null){var st=this.$__.primitiveAtomics[Ie.path],dt=J(st);Mr(this,0,ye,Ie,st[dt],dt)}else Mr(this,0,ye,Ie,Ue=T(Ue,{depopulate:!0,transform:!1,virtuals:!1,getters:!1,omitUndefined:!0,_isNested:!0}))}}return Oe.length?new j(Oe):(this.$__.version&&this.$__version(me,ye),Object.keys(ye).length===0?[me,null]:[me,ye])}},Xe.prototype.$clone=function(){var q=new this.constructor;if(q.$isNew=this.$isNew,this._doc&&(q._doc=T(this._doc,{retainDocuments:!0})),this.$__){var ce,Z=new this.$__.constructor,ue=y(Object.getOwnPropertyNames(this.$__));try{for(ue.s();!(ce=ue.n()).done;){var me=ce.value;me!=="activePaths"&&(Z[me]=T(this.$__[me]))}}catch(ye){ue.e(ye)}finally{ue.f()}Object.assign(Z.activePaths,T(g({},this.$__.activePaths))),q.$__=Z}return q},Xe.prototype.$createModifiedPathsSnapshot=function(){var q=new WeakMap;if(!this.$isSubdocument){var ce,Z=y(this.$getAllSubdocs());try{for(Z.s();!(ce=Z.n()).done;){var ue=ce.value;q.set(ue,ue.$__.activePaths.clone())}}catch(me){Z.e(me)}finally{Z.f()}}return new M(q,this.$__.activePaths.clone(),this.$__.version)},Xe.prototype.$restoreModifiedPathsSnapshot=function(q){if(this.$__.activePaths=q.activePaths.clone(),this.$__.version=q.version,!this.$isSubdocument){var ce,Z=y(this.$getAllSubdocs());try{for(Z.s();!(ce=Z.n()).done;){var ue=ce.value;q.subdocSnapshot.has(ue)&&(ue.$__.activePaths=q.subdocSnapshot.get(ue))}}catch(me){Z.e(me)}finally{Z.f()}}return this},Xe.prototype.$clearModifiedPaths=function(){if(this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("init"),this.$__.version=0,!this.$isSubdocument){var q,ce=y(this.$getAllSubdocs());try{for(ce.s();!(q=ce.n()).done;)q.value.$clearModifiedPaths()}catch(Z){ce.e(Z)}finally{ce.f()}}return this},Xe.prototype.$__hasOnlyPrimitiveValues=function(){return!this.$__.populated&&!this.$__.wasPopulated&&(this._doc==null||Object.values(this._doc).every(function(q){return q==null||w(q)!=="object"||De.isNativeObject(q)&&!Array.isArray(q)||ie(q,"ObjectId")||ie(q,"Decimal128")}))},Xe.VERSION_WHERE=1,Xe.VERSION_INC=2,Xe.VERSION_ALL=3,Xe.ValidationError=V,o.exports=Xe},2401:o=>{o.exports=Math.floor},2402:(o,l,c)=>{function u(U){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},u(U)}function d(U){return d=typeof Symbol=="function"&&u(Symbol.iterator)==="symbol"?function(T){return u(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":u(T)},d(U)}var A,f,h=c(3743).codes,p=h.ERR_AMBIGUOUS_ARGUMENT,m=h.ERR_INVALID_ARG_TYPE,g=h.ERR_INVALID_ARG_VALUE,b=h.ERR_INVALID_RETURN_VALUE,y=h.ERR_MISSING_ARGS,x=c(9068),v=c(7352).inspect,w=c(7352).types,_=w.isPromise,B=w.isRegExp,N=Object.assign?Object.assign:c(6182).assign,j=Object.is?Object.is:c(2064);function C(){var U=c(6193);A=U.isDeepEqual,f=U.isDeepStrictEqual}var E=!1,S=o.exports=H,k={};function P(U){throw U.message instanceof Error?U.message:new x(U)}function M(U,T,z,G){if(!z){var J=!1;if(T===0)J=!0,G="No value argument passed to `assert.ok()`";else if(G instanceof Error)throw G;var ee=new x({actual:z,expected:!0,message:G,operator:"==",stackStartFn:U});throw ee.generatedMessage=J,ee}}function H(){for(var U=arguments.length,T=new Array(U),z=0;z<U;z++)T[z]=arguments[z];M.apply(void 0,[H,T.length].concat(T))}S.fail=function U(T,z,G,J,ee){var fe,de=arguments.length;if(de===0?fe="Failed":de===1?(G=T,T=void 0):(E===!1&&(E=!0,({env:{}}.emitWarning?{env:{}}.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),de===2&&(J="!=")),G instanceof Error)throw G;var ae={actual:T,expected:z,operator:J===void 0?"fail":J,stackStartFn:ee||U};G!==void 0&&(ae.message=G);var xe=new x(ae);throw fe&&(xe.message=fe,xe.generatedMessage=!0),xe},S.AssertionError=x,S.ok=H,S.equal=function U(T,z,G){if(arguments.length<2)throw new y("actual","expected");T!=z&&P({actual:T,expected:z,message:G,operator:"==",stackStartFn:U})},S.notEqual=function U(T,z,G){if(arguments.length<2)throw new y("actual","expected");T==z&&P({actual:T,expected:z,message:G,operator:"!=",stackStartFn:U})},S.deepEqual=function U(T,z,G){if(arguments.length<2)throw new y("actual","expected");A===void 0&&C(),A(T,z)||P({actual:T,expected:z,message:G,operator:"deepEqual",stackStartFn:U})},S.notDeepEqual=function U(T,z,G){if(arguments.length<2)throw new y("actual","expected");A===void 0&&C(),A(T,z)&&P({actual:T,expected:z,message:G,operator:"notDeepEqual",stackStartFn:U})},S.deepStrictEqual=function U(T,z,G){if(arguments.length<2)throw new y("actual","expected");A===void 0&&C(),f(T,z)||P({actual:T,expected:z,message:G,operator:"deepStrictEqual",stackStartFn:U})},S.notDeepStrictEqual=function U(T,z,G){if(arguments.length<2)throw new y("actual","expected");A===void 0&&C(),f(T,z)&&P({actual:T,expected:z,message:G,operator:"notDeepStrictEqual",stackStartFn:U})},S.strictEqual=function U(T,z,G){if(arguments.length<2)throw new y("actual","expected");j(T,z)||P({actual:T,expected:z,message:G,operator:"strictEqual",stackStartFn:U})},S.notStrictEqual=function U(T,z,G){if(arguments.length<2)throw new y("actual","expected");j(T,z)&&P({actual:T,expected:z,message:G,operator:"notStrictEqual",stackStartFn:U})};var F=function U(T,z,G){var J=this;(function(ee,fe){if(!(ee instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,U),z.forEach(function(ee){ee in T&&(G!==void 0&&typeof G[ee]=="string"&&B(T[ee])&&T[ee].test(G[ee])?J[ee]=G[ee]:J[ee]=T[ee])})};function Q(U,T,z,G){if(typeof T!="function"){if(B(T))return T.test(U);if(arguments.length===2)throw new m("expected",["Function","RegExp"],T);if(d(U)!=="object"||U===null){var J=new x({actual:U,expected:T,message:z,operator:"deepStrictEqual",stackStartFn:G});throw J.operator=G.name,J}var ee=Object.keys(T);if(T instanceof Error)ee.push("name","message");else if(ee.length===0)throw new g("error",T,"may not be an empty object");return A===void 0&&C(),ee.forEach(function(fe){typeof U[fe]=="string"&&B(T[fe])&&T[fe].test(U[fe])||function(de,ae,xe,X,ie,re){if(!(xe in de)||!f(de[xe],ae[xe])){if(!X){var ve=new F(de,ie),ke=new F(ae,ie,de),Ce=new x({actual:ve,expected:ke,operator:"deepStrictEqual",stackStartFn:re});throw Ce.actual=de,Ce.expected=ae,Ce.operator=re.name,Ce}P({actual:de,expected:ae,message:X,operator:re.name,stackStartFn:re})}}(U,T,fe,z,ee,G)}),!0}return T.prototype!==void 0&&U instanceof T||!Error.isPrototypeOf(T)&&T.call({},U)===!0}function K(U){if(typeof U!="function")throw new m("fn","Function",U);try{U()}catch(T){return T}return k}function Y(U){return _(U)||U!==null&&d(U)==="object"&&typeof U.then=="function"&&typeof U.catch=="function"}function V(U){return Promise.resolve().then(function(){var T;if(typeof U=="function"){if(!Y(T=U()))throw new b("instance of Promise","promiseFn",T)}else{if(!Y(U))throw new m("promiseFn",["Function","Promise"],U);T=U}return Promise.resolve().then(function(){return T}).then(function(){return k}).catch(function(z){return z})})}function I(U,T,z,G){if(typeof z=="string"){if(arguments.length===4)throw new m("error",["Object","Error","Function","RegExp"],z);if(d(T)==="object"&&T!==null){if(T.message===z)throw new p("error/message",'The error message "'.concat(T.message,'" is identical to the message.'))}else if(T===z)throw new p("error/message",'The error "'.concat(T,'" is identical to the message.'));G=z,z=void 0}else if(z!=null&&d(z)!=="object"&&typeof z!="function")throw new m("error",["Object","Error","Function","RegExp"],z);if(T===k){var J="";z&&z.name&&(J+=" (".concat(z.name,")")),J+=G?": ".concat(G):".";var ee=U.name==="rejects"?"rejection":"exception";P({actual:void 0,expected:z,operator:U.name,message:"Missing expected ".concat(ee).concat(J),stackStartFn:U})}if(z&&!Q(T,z,G,U))throw T}function O(U,T,z,G){if(T!==k){if(typeof z=="string"&&(G=z,z=void 0),!z||Q(T,z)){var J=G?": ".concat(G):".",ee=U.name==="doesNotReject"?"rejection":"exception";P({actual:T,expected:z,operator:U.name,message:"Got unwanted ".concat(ee).concat(J,`
`)+'Actual message: "'.concat(T&&T.message,'"'),stackStartFn:U})}throw T}}function R(){for(var U=arguments.length,T=new Array(U),z=0;z<U;z++)T[z]=arguments[z];M.apply(void 0,[R,T.length].concat(T))}S.throws=function U(T){for(var z=arguments.length,G=new Array(z>1?z-1:0),J=1;J<z;J++)G[J-1]=arguments[J];I.apply(void 0,[U,K(T)].concat(G))},S.rejects=function U(T){for(var z=arguments.length,G=new Array(z>1?z-1:0),J=1;J<z;J++)G[J-1]=arguments[J];return V(T).then(function(ee){return I.apply(void 0,[U,ee].concat(G))})},S.doesNotThrow=function U(T){for(var z=arguments.length,G=new Array(z>1?z-1:0),J=1;J<z;J++)G[J-1]=arguments[J];O.apply(void 0,[U,K(T)].concat(G))},S.doesNotReject=function U(T){for(var z=arguments.length,G=new Array(z>1?z-1:0),J=1;J<z;J++)G[J-1]=arguments[J];return V(T).then(function(ee){return O.apply(void 0,[U,ee].concat(G))})},S.ifError=function U(T){if(T!=null){var z="ifError got unwanted exception: ";d(T)==="object"&&typeof T.message=="string"?T.message.length===0&&T.constructor?z+=T.constructor.name:z+=T.message:z+=v(T);var G=new x({actual:T,expected:null,operator:"ifError",message:z,stackStartFn:U}),J=T.stack;if(typeof J=="string"){var ee=J.split(`
`);ee.shift();for(var fe=G.stack.split(`
`),de=0;de<ee.length;de++){var ae=fe.indexOf(ee[de]);if(ae!==-1){fe=fe.slice(0,ae);break}}G.stack="".concat(fe.join(`
`),`
`).concat(ee.join(`
`))}throw G}},S.strict=N(R,S,{equal:S.strictEqual,deepEqual:S.deepStrictEqual,notEqual:S.notStrictEqual,notDeepEqual:S.notDeepStrictEqual}),S.strict.strict=S.strict},2403:o=>{o.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},2423:o=>{o.exports=function(l,c){var u=l.discriminatorMapping&&l.discriminatorMapping.value;if(u&&!("sparse"in c)){var d=l.options.discriminatorKey;c.partialFilterExpression=c.partialFilterExpression||{},c.partialFilterExpression[d]=u}return c}},2477:(o,l,c)=>{var u=c(2402);o.exports=function(d){return d==null||d===""?null:d instanceof Date?(u.ok(!isNaN(d.valueOf())),d):(u.ok(typeof d!="boolean"),A=d instanceof Number||typeof d=="number"?new Date(d):typeof d=="string"&&!isNaN(Number(d))&&(Number(d)>=275761||Number(d)<-271820)?new Date(Number(d)):typeof d.valueOf=="function"?new Date(d.valueOf()):new Date(d),isNaN(A.valueOf())?void u.ok(!1):A);var A}},2481:(o,l,c)=>{var u=c(4756);o.exports=function(){return typeof Object.is=="function"?Object.is:u}},2486:(o,l)=>{l.read=function(c,u,d,A,f){var h,p,m=8*f-A-1,g=(1<<m)-1,b=g>>1,y=-7,x=d?f-1:0,v=d?-1:1,w=c[u+x];for(x+=v,h=w&(1<<-y)-1,w>>=-y,y+=m;y>0;h=256*h+c[u+x],x+=v,y-=8);for(p=h&(1<<-y)-1,h>>=-y,y+=A;y>0;p=256*p+c[u+x],x+=v,y-=8);if(h===0)h=1-b;else{if(h===g)return p?NaN:1/0*(w?-1:1);p+=Math.pow(2,A),h-=b}return(w?-1:1)*p*Math.pow(2,h-A)},l.write=function(c,u,d,A,f,h){var p,m,g,b=8*h-f-1,y=(1<<b)-1,x=y>>1,v=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=A?0:h-1,_=A?1:-1,B=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(m=isNaN(u)?1:0,p=y):(p=Math.floor(Math.log(u)/Math.LN2),u*(g=Math.pow(2,-p))<1&&(p--,g*=2),(u+=p+x>=1?v/g:v*Math.pow(2,1-x))*g>=2&&(p++,g/=2),p+x>=y?(m=0,p=y):p+x>=1?(m=(u*g-1)*Math.pow(2,f),p+=x):(m=u*Math.pow(2,x-1)*Math.pow(2,f),p=0));f>=8;c[d+w]=255&m,w+=_,m/=256,f-=8);for(p=p<<f|m,b+=f;b>0;c[d+w]=255&p,w+=_,p/=256,b-=8);c[d+w-_]|=128*B}},2497:(o,l,c)=>{var u=c(1243).isMongooseArray;o.exports=function(d){return d!=null&&(u(d)||d.$__!=null||d.isMongooseBuffer||d.$isMongooseMap)}},2555:o=>{o.exports=function(l){if(Array.isArray(l)){if(!l.every(function(c){return typeof c=="number"||typeof c=="string"}))throw new Error("$type array values must be strings or numbers");return l}if(typeof l!="number"&&typeof l!="string")throw new Error("$type parameter must be number, string, or array of numbers and strings");return l}},2580:(o,l,c)=>{var u=c(2400),d=c(3550).EventEmitter,A=c(3672),f=c(7058),h=c(5549),p=A.ValidationError,m=c(4957),g=c(608);function b(y,x,v,w,_){if(!(this instanceof b))return new b(y,x,v,w,_);if(g(x)&&!x.instanceOfSchema&&(x=new f(x)),x=this.schema||x,!this.schema&&x.options._id&&(y=y||{})._id===void 0&&(y._id=new h),!x)throw new A.MissingSchemaError;for(var B in this.$__setSchema(x),u.call(this,y,v,w,_),m(this,x,{decorateDoc:!0}),x.methods)this[B]=x.methods[B];for(var N in x.statics)this[N]=x.statics[N]}b.prototype=Object.create(u.prototype),b.prototype.constructor=b,b.events=new d,b.$emitter=new d,["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(y){b[y]=function(){return b.$emitter[y].apply(b.$emitter,arguments)}}),b.ValidationError=p,o.exports=b},2653:o=>{o.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},2692:o=>{o.exports=function(l,c){if(c.length!==1){for(var u=c[0],d=void 0,A=0;A<c.length-1;++A){var f=l.path(u);f&&f.schema?(d=f.schema.options.strict,l=f.schema,u=f.$isMongooseDocumentArray&&!isNaN(c[A+1])?"":c[A+1]):u+=u.length?"."+c[A+1]:c[A+1]}return d}}},2696:(o,l,c)=>{var u=c(3305);o.exports=function(d,A){return typeof d=="string"&&typeof A=="string"||typeof d=="number"&&typeof A=="number"?d===A:!(!u(d,"ObjectId")||!u(A,"ObjectId"))&&d.toString()===A.toString()}},2724:(o,l,c)=>{var u=c(3071),d=c(9344),A=u("RegExp.prototype.exec"),f=c(2268);o.exports=function(h){if(!d(h))throw new f("`regex` must be a RegExp");return function(p){return A(h,p)!==null}}},2746:o=>{var l=typeof{env:{}}.nextTick=="function"?{env:{}}.nextTick.bind({env:{}}):function(c){return setTimeout(c,0)};o.exports=function(c){return l(c)}},2789:o=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(c)}o.exports=function(c){if(c==null||l(c)!=="object")return!1;var u=Object.getPrototypeOf(c);return!u||u.constructor.name==="Object"}},2793:o=>{o.exports=new Set(["__proto__","constructor","prototype"])},2822:(o,l,c)=>{o.exports=c(6353).Double},2824:(o,l,c)=>{var u=c(7930).objectIdSymbol,d=c(8768);function A(){var h,p;if(this.$__.shardval){p=(h=Object.keys(this.$__.shardval)).length,this.$where=this.$where||{};for(var m=0;m<p;++m)this.$where[h[m]]=this.$__.shardval[h[m]]}}function f(){var h=this.$__schema.options.shardKey||this.$__schema.options.shardkey;if(d.isPOJO(h))for(var p,m=this.$__.shardval={},g=Object.keys(h),b=g.length,y=0;y<b;++y)(p=this.$__getValue(g[y]))==null?m[g[y]]=p:d.isMongooseObject(p)?m[g[y]]=p.toObject({depopulate:!0,_isNested:!0}):p instanceof Date||p[u]?m[g[y]]=p:typeof p.valueOf=="function"?m[g[y]]=p.valueOf():m[g[y]]=p}o.exports=function(h){h.post("init",function(){return f.call(this),this}),h.pre("save",function(p){A.call(this),p()}),h.pre("remove",function(p){A.call(this),p()}),h.post("save",function(){f.call(this)})},o.exports.storeShard=f},2900:(o,l,c)=>{var u=c(8260);o.exports=function(d){if(u(d)!=="TopologyDescription")return!1;var A=Array.from(d.servers.values());return A.length>0&&A.every(function(f){return f.type==="Unknown"})}},2914:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}var d=c(7860),A=["__proto__","constructor","prototype"];function f(p,m,g,b,y,x){for(var v,w=0;w<p.length&&w<m.length;++w)v=p[w],Array.isArray(v)&&Array.isArray(m[w])?f(v,m[w],g,b,y,x):v&&(b?b(v,g,x(m[w])):(v[y]&&(v=v[y]),v[g]=x(m[w])))}function h(p){return p}l.get=function(p,m,g,b){var y;typeof g=="function"&&(g.length<2?(b=g,g=void 0):(y=g,g=void 0)),b||(b=h);var x=typeof p=="string"?d(p):p;if(!Array.isArray(x))throw new TypeError("Invalid `path`. Must be either string or array");for(var v,w=m,_=0;_<x.length;++_){if(v=x[_],typeof x[_]!="string"&&typeof x[_]!="number")throw new TypeError("Each segment of path to `get()` must be a string or number, got "+u(x[_]));if(Array.isArray(w)&&!/^\d+$/.test(v)){var B=x.slice(_);return[].concat(w).map(function(j){return j?l.get(B,j,g||y,b):b(void 0)})}if(y)w=y(w,v);else{var N=g&&w[g]?w[g]:w;w=N instanceof Map?N.get(v):N[v]}if(!w)return b(w)}return b(w)},l.has=function(p,m){var g=typeof p=="string"?d(p):p;if(!Array.isArray(g))throw new TypeError("Invalid `path`. Must be either string or array");for(var b=g.length,y=m,x=0;x<b;++x){if(typeof g[x]!="string"&&typeof g[x]!="number")throw new TypeError("Each segment of path to `has()` must be a string or number, got "+u(g[x]));if(y==null||u(y)!=="object"||!(g[x]in y))return!1;y=y[g[x]]}return!0},l.unset=function(p,m){var g=typeof p=="string"?d(p):p;if(!Array.isArray(g))throw new TypeError("Invalid `path`. Must be either string or array");for(var b=g.length,y=m,x=0;x<b;++x){if(y==null||u(y)!=="object"||!(g[x]in y))return!1;if(typeof g[x]!="string"&&typeof g[x]!="number")throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+u(g[x]));if(A.indexOf(g[x])!==-1)return!1;if(x===b-1)return delete y[g[x]],!0;y=y instanceof Map?y.get(g[x]):y[g[x]]}return!0},l.set=function(p,m,g,b,y,x){var v;typeof b=="function"&&(b.length<2?(y=b,b=void 0):(v=b,b=void 0)),y||(y=h);var w=typeof p=="string"?d(p):p;if(!Array.isArray(w))throw new TypeError("Invalid `path`. Must be either string or array");if(g!=null){for(var _=0;_<w.length;++_){if(typeof w[_]!="string"&&typeof w[_]!="number")throw new TypeError("Each segment of path to `set()` must be a string or number, got "+u(w[_]));if(A.indexOf(w[_])!==-1)return}for(var B,N=x||/\$/.test(p)&&x!==!1,j=g,C=(_=0,w.length-1);_<C;++_)if((B=w[_])!="$"){if(Array.isArray(j)&&!/^\d+$/.test(B)){var E=w.slice(_);if(!N&&Array.isArray(m))for(var S=0;S<j.length&&S<m.length;++S)l.set(E,m[S],j[S],b||v,y,N);else for(S=0;S<j.length;++S)l.set(E,m,j[S],b||v,y,N);return}if(v)j=v(j,B);else{var k=b&&j[b]?j[b]:j;j=k instanceof Map?k.get(B):k[B]}if(!j)return}else if(_==C-1)break;if(B=w[C],b&&j[b]&&(j=j[b]),Array.isArray(j)&&!/^\d+$/.test(B))if(!N&&Array.isArray(m))f(j,m,B,v,b,y);else for(S=0;S<j.length;++S){var P=j[S];P&&(v?v(P,B,y(m)):(P[b]&&(P=P[b]),P[B]=y(m)))}else v?v(j,B,y(m)):j instanceof Map?j.set(B,y(m)):j[B]=y(m)}},l.stringToParts=d},2945:(o,l,c)=>{function u(m){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(m)}function d(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!m})()}function A(m){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},A(m)}function f(m,g){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,y){return b.__proto__=y,b},f(m,g)}var h=function(m){function g(){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,g,arguments)}return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),x&&f(y,x)}(g,m),b=g,Object.defineProperty(b,"prototype",{writable:!1}),b;var b}(c(8879)),p=c(5761);Object.defineProperty(h.prototype,"subtype",p),o.exports=h},3071:(o,l,c)=>{var u=c(6400),d=c(8863),A=d([u("%String.prototype.indexOf%")]);o.exports=function(f,h){var p=u(f,!!h);return typeof p=="function"&&A(f,".prototype.")>-1?d([p]):p}},3091:(o,l,c)=>{function u(S){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},u(S)}function d(S,k){var P=Object.keys(S);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(S);k&&(M=M.filter(function(H){return Object.getOwnPropertyDescriptor(S,H).enumerable})),P.push.apply(P,M)}return P}function A(S){for(var k=1;k<arguments.length;k++){var P=arguments[k]!=null?arguments[k]:{};k%2?d(Object(P),!0).forEach(function(M){f(S,M,P[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(P)):d(Object(P)).forEach(function(M){Object.defineProperty(S,M,Object.getOwnPropertyDescriptor(P,M))})}return S}function f(S,k,P){return(k=function(M){var H=function(F){if(u(F)!="object"||!F)return F;var Q=F[Symbol.toPrimitive];if(Q!==void 0){var K=Q.call(F,"string");if(u(K)!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(M);return u(H)=="symbol"?H:H+""}(k))in S?Object.defineProperty(S,k,{value:P,enumerable:!0,configurable:!0,writable:!0}):S[k]=P,S}var h,p=c(4625),m=c(6426),g=c(863),b=c(4327),y=c(8260),x=c(5549),v=c(3305),w=c(8768),_=m.CastError;function B(S,k){var P=typeof S=="string"&&S.length===24&&/^[a-f0-9]+$/i.test(S),M=k&&k.suppressWarning;!P&&S!==void 0||M||w.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema."),m.call(this,S,k,"ObjectId")}function N(S){return this.cast(S)}B.schemaName="ObjectId",B.defaultOptions={},B.prototype=Object.create(m.prototype),B.prototype.constructor=B,B.prototype.OptionsConstructor=p,B.get=m.get,B.set=m.set,B.setters=[],B.prototype.auto=function(S){return S&&(this.default(C),this.set(E)),this},B._checkRequired=function(S){return v(S,"ObjectId")},B._cast=g,B.cast=function(S){return arguments.length===0||(S===!1&&(S=this._defaultCaster),this._cast=S),this._cast},B._defaultCaster=function(S){if(!v(S,"ObjectId"))throw new Error(S+" is not an instance of ObjectId");return S},B.checkRequired=m.checkRequired,B.prototype.checkRequired=function(S,k){return m._isRef(this,S,k,!0)?!!S:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():B.checkRequired())(S)},B.prototype.cast=function(S,k,P,M,H){if(!v(S,"ObjectId")&&m._isRef(this,S,k,P)){if((y(S)||"").toLowerCase()==="objectid")return new x(S.toHexString());if(S==null||w.isNonBuiltinObject(S))return this._castRef(S,k,P,H)}var F;F=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():B.cast();try{return F(S)}catch(Q){throw new _("ObjectId",S,this.path,Q,this)}};var j=A(A({},m.prototype.$conditionalHandlers),{},{$gt:N,$gte:N,$lt:N,$lte:N});function C(){return new x}function E(S){return h||(h=c(2400)),this instanceof h&&S===void 0?new x:S}Object.defineProperty(B.prototype,"$conditionalHandlers",{enumerable:!1,value:j}),C.$runBeforeSetters=!0,B.prototype.toJSONSchema=function(S){var k=this.options.required&&typeof this.options.required!="function"||this.path==="_id";return b("string","objectId",S==null?void 0:S.useBsonType,k)},B.prototype.autoEncryptionType=function(){return"objectId"},o.exports=B},3123:o=>{o.exports=Function.prototype.call},3191:(o,l,c)=>{var u=c(988),d=function(){return!!u};d.hasArrayLengthDefineBug=function(){if(!u)return null;try{return u([],"length",{value:1}).length!==1}catch{return!0}},o.exports=d},3216:(o,l,c)=>{function u(m,g){var b=Object.keys(m);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(m);g&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(m,x).enumerable})),b.push.apply(b,y)}return b}function d(m){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?u(Object(b),!0).forEach(function(y){A(m,y,b[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(y){Object.defineProperty(m,y,Object.getOwnPropertyDescriptor(b,y))})}return m}function A(m,g,b){return(g=function(y){var x=function(v){if(f(v)!="object"||!v)return v;var w=v[Symbol.toPrimitive];if(w!==void 0){var _=w.call(v,"string");if(f(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(y);return f(x)=="symbol"?x:x+""}(g))in m?Object.defineProperty(m,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[g]=b,m}function f(m){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},f(m)}var h=c(8768),p=new Set(["__index","__parentArray","_doc"]);o.exports=function(m,g){if(h.isPOJO(m)&&m.$__!=null&&m._doc!=null){if(g){for(var b={},y=0,x=Object.keys(m);y<x.length;y++){var v=x[y];f(v)!=="symbol"&&v[0]!=="$"&&(p.has(v)||(b[v]=m[v]))}return d(d({},m._doc),b)}return m._doc}return m}},3279:o=>{o.exports=Function.prototype.apply},3303:(o,l)=>{l._={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1,versionKey:!0,flattenObjectIds:!1}},3305:o=>{o.exports=function(l,c){return l!=null&&l._bsontype===c}},3318:(o,l,c)=>{function u(v){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},u(v)}function d(v,w){var _=Object.keys(v);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(v);w&&(B=B.filter(function(N){return Object.getOwnPropertyDescriptor(v,N).enumerable})),_.push.apply(_,B)}return _}function A(v){for(var w=1;w<arguments.length;w++){var _=arguments[w]!=null?arguments[w]:{};w%2?d(Object(_),!0).forEach(function(B){f(v,B,_[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(_)):d(Object(_)).forEach(function(B){Object.defineProperty(v,B,Object.getOwnPropertyDescriptor(_,B))})}return v}function f(v,w,_){return(w=function(B){var N=function(j){if(u(j)!="object"||!j)return j;var C=j[Symbol.toPrimitive];if(C!==void 0){var E=C.call(j,"string");if(u(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(B);return u(N)=="symbol"?N:N+""}(w))in v?Object.defineProperty(v,w,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[w]=_,v}var h=c(3609),p=c(6426),m=c(4058),g=c(4327);function b(v,w){p.call(this,v,w,"BigInt")}b.schemaName="BigInt",b.defaultOptions={},b.prototype=Object.create(p.prototype),b.prototype.constructor=b,b._cast=m,b.set=p.set,b.setters=[],b.get=p.get,b.cast=function(v){return arguments.length===0||(v===!1&&(v=this._defaultCaster),this._cast=v),this._cast},b._checkRequired=function(v){return v!=null},b.checkRequired=p.checkRequired,b.prototype.checkRequired=function(v){return this.constructor._checkRequired(v)},b.prototype.cast=function(v){var w;w=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():b.cast();try{return w(v)}catch(_){throw new h("BigInt",v,this.path,_,this)}};var y=A(A({},p.prototype.$conditionalHandlers),{},{$gt:x,$gte:x,$lt:x,$lte:x});function x(v,w){return this.castForQuery(null,v,w)}Object.defineProperty(b.prototype,"$conditionalHandlers",{enumerable:!1,value:y}),b.prototype.castForQuery=function(v,w,_){var B;if(v!=null)return(B=this.$conditionalHandlers[v])?B.call(this,w):this.applySetters(w,_);try{return this.applySetters(w,_)}catch(N){throw N instanceof h&&N.path===this.path&&this.$fullPath!=null&&(N.path=this.$fullPath),N}},b.prototype._castNullish=function(v){return v===void 0||(typeof this.constructor.cast=="function"?this.constructor.cast():b.cast()),v},b.prototype.toJSONSchema=function(v){var w=this.options.required&&typeof this.options.required!="function";return g("string","long",v==null?void 0:v.useBsonType,w)},b.prototype.autoEncryptionType=function(){return"long"},o.exports=b},3381:o=>{function l(){return this._id!=null?this._id.toString():null}o.exports=function(c){return!c.paths.id&&c.paths._id&&c.options.id&&(c.aliases&&c.aliases.id||c.virtual("id").get(l)),c}},3388:o=>{o.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},3414:o=>{o.exports=Number.isNaN||function(l){return l!=l}},3426:(o,l,c)=>{var u=c(2653),d=typeof globalThis>"u"?c.g:globalThis;o.exports=function(){for(var A=[],f=0;f<u.length;f++)typeof d[u[f]]=="function"&&(A[A.length]=u[f]);return A}},3441:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}function d(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!p})()}function A(p){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A(p)}function f(p,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},f(p,m)}var h=function(p){function m(b,y){var x;(function(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")})(this,m);var v=Array.isArray(y)?"array":"primitive value";return(x=function(w,_,B){return _=A(_),function(N,j){if(j&&(u(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(N)}(w,d()?Reflect.construct(_,B||[],A(w).constructor):_.apply(w,B))}(this,m,["Tried to set nested object field `"+b+"` to ".concat(v," `")+y+"`"])).path=b,x}return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),y&&f(b,y)}(m,p),g=m,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(c(8213));Object.defineProperty(h.prototype,"name",{value:"ObjectExpectedError"}),o.exports=h},3550:o=>{function l(B){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},l(B)}var c,u=(typeof Reflect>"u"?"undefined":l(Reflect))==="object"?Reflect:null,d=u&&typeof u.apply=="function"?u.apply:function(B,N,j){return Function.prototype.apply.call(B,N,j)};c=u&&typeof u.ownKeys=="function"?u.ownKeys:Object.getOwnPropertySymbols?function(B){return Object.getOwnPropertyNames(B).concat(Object.getOwnPropertySymbols(B))}:function(B){return Object.getOwnPropertyNames(B)};var A=Number.isNaN||function(B){return B!=B};function f(){f.init.call(this)}o.exports=f,o.exports.once=function(B,N){return new Promise(function(j,C){function E(k){B.removeListener(N,S),C(k)}function S(){typeof B.removeListener=="function"&&B.removeListener("error",E),j([].slice.call(arguments))}_(B,N,S,{once:!0}),N!=="error"&&function(k,P){typeof k.on=="function"&&_(k,"error",P,{once:!0})}(B,E)})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var h=10;function p(B){if(typeof B!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+l(B))}function m(B){return B._maxListeners===void 0?f.defaultMaxListeners:B._maxListeners}function g(B,N,j,C){var E,S,k,P;if(p(j),(S=B._events)===void 0?(S=B._events=Object.create(null),B._eventsCount=0):(S.newListener!==void 0&&(B.emit("newListener",N,j.listener?j.listener:j),S=B._events),k=S[N]),k===void 0)k=S[N]=j,++B._eventsCount;else if(typeof k=="function"?k=S[N]=C?[j,k]:[k,j]:C?k.unshift(j):k.push(j),(E=m(B))>0&&k.length>E&&!k.warned){k.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=B,M.type=N,M.count=k.length,P=M,console&&console.warn&&console.warn(P)}return B}function b(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(B,N,j){var C={fired:!1,wrapFn:void 0,target:B,type:N,listener:j},E=b.bind(C);return E.listener=j,C.wrapFn=E,E}function x(B,N,j){var C=B._events;if(C===void 0)return[];var E=C[N];return E===void 0?[]:typeof E=="function"?j?[E.listener||E]:[E]:j?function(S){for(var k=new Array(S.length),P=0;P<k.length;++P)k[P]=S[P].listener||S[P];return k}(E):w(E,E.length)}function v(B){var N=this._events;if(N!==void 0){var j=N[B];if(typeof j=="function")return 1;if(j!==void 0)return j.length}return 0}function w(B,N){for(var j=new Array(N),C=0;C<N;++C)j[C]=B[C];return j}function _(B,N,j,C){if(typeof B.on=="function")C.once?B.once(N,j):B.on(N,j);else{if(typeof B.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+l(B));B.addEventListener(N,function E(S){C.once&&B.removeEventListener(N,E),j(S)})}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(B){if(typeof B!="number"||B<0||A(B))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");h=B}}),f.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(B){if(typeof B!="number"||B<0||A(B))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+B+".");return this._maxListeners=B,this},f.prototype.getMaxListeners=function(){return m(this)},f.prototype.emit=function(B){for(var N=[],j=1;j<arguments.length;j++)N.push(arguments[j]);var C=B==="error",E=this._events;if(E!==void 0)C=C&&E.error===void 0;else if(!C)return!1;if(C){var S;if(N.length>0&&(S=N[0]),S instanceof Error)throw S;var k=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw k.context=S,k}var P=E[B];if(P===void 0)return!1;if(typeof P=="function")d(P,this,N);else{var M=P.length,H=w(P,M);for(j=0;j<M;++j)d(H[j],this,N)}return!0},f.prototype.addListener=function(B,N){return g(this,B,N,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(B,N){return g(this,B,N,!0)},f.prototype.once=function(B,N){return p(N),this.on(B,y(this,B,N)),this},f.prototype.prependOnceListener=function(B,N){return p(N),this.prependListener(B,y(this,B,N)),this},f.prototype.removeListener=function(B,N){var j,C,E,S,k;if(p(N),(C=this._events)===void 0)return this;if((j=C[B])===void 0)return this;if(j===N||j.listener===N)--this._eventsCount===0?this._events=Object.create(null):(delete C[B],C.removeListener&&this.emit("removeListener",B,j.listener||N));else if(typeof j!="function"){for(E=-1,S=j.length-1;S>=0;S--)if(j[S]===N||j[S].listener===N){k=j[S].listener,E=S;break}if(E<0)return this;E===0?j.shift():function(P,M){for(;M+1<P.length;M++)P[M]=P[M+1];P.pop()}(j,E),j.length===1&&(C[B]=j[0]),C.removeListener!==void 0&&this.emit("removeListener",B,k||N)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(B){var N,j,C;if((j=this._events)===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[B]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[B]),this;if(arguments.length===0){var E,S=Object.keys(j);for(C=0;C<S.length;++C)(E=S[C])!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(N=j[B])=="function")this.removeListener(B,N);else if(N!==void 0)for(C=N.length-1;C>=0;C--)this.removeListener(B,N[C]);return this},f.prototype.listeners=function(B){return x(this,B,!0)},f.prototype.rawListeners=function(B){return x(this,B,!1)},f.listenerCount=function(B,N){return typeof B.listenerCount=="function"?B.listenerCount(N):v.call(B,N)},f.prototype.listenerCount=v,f.prototype.eventNames=function(){return this._eventsCount>0?c(this._events):[]}},3609:(o,l,c)=>{function u(N){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},u(N)}function d(N,j){for(var C=0;C<j.length;C++){var E=j[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(N,A(E.key),E)}}function A(N){var j=function(C){if(u(C)!="object"||!C)return C;var E=C[Symbol.toPrimitive];if(E!==void 0){var S=E.call(C,"string");if(u(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(N);return u(j)=="symbol"?j:j+""}function f(N,j,C){return j=m(j),function(E,S){if(S&&(u(S)=="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(E)}(N,p()?Reflect.construct(j,C||[],m(N).constructor):j.apply(N,C))}function h(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function p(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p=function(){return!!N})()}function m(N){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},m(N)}function g(N,j){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,E){return C.__proto__=E,C},g(N,j)}var b=c(8213),y=c(7352),x=function(N){function j(S,k,P,M,H){var F;if(function(K,Y){if(!(K instanceof Y))throw new TypeError("Cannot call a class as a function")}(this,j),arguments.length>0){var Q=w(k);(F=f(this,j,[B(null,S,k,P,_(H),Q,M)])).init(S,k,P,M,H)}else F=f(this,j,[B()]);return h(F)}return function(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),k&&g(S,k)}(j,N),C=j,(E=[{key:"toJSON",value:function(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}},{key:"init",value:function(S,k,P,M,H){this.stringValue=v(k),this.messageFormat=_(H),this.kind=S,this.value=k,this.path=P,this.reason=M,this.valueType=w(k)}},{key:"copy",value:function(S){this.messageFormat=S.messageFormat,this.stringValue=S.stringValue,this.kind=S.kind,this.value=S.value,this.path=S.path,this.reason=S.reason,this.message=S.message,this.valueType=S.valueType}},{key:"setModel",value:function(S){this.message=B(S,this.kind,this.value,this.path,this.messageFormat,this.valueType)}}])&&d(C.prototype,E),Object.defineProperty(C,"prototype",{writable:!1}),C;var C,E}(b);function v(N){var j=y.inspect(N);return(j=j.replace(/^'|'$/g,'"')).startsWith('"')||(j='"'+j+'"'),j}function w(N){if(N==null)return""+N;var j=u(N);return j!=="object"||typeof N.constructor!="function"?j:N.constructor.name}function _(N){var j=N&&N._castErrorMessage||null;if(typeof j=="string"||typeof j=="function")return j}function B(N,j,C,E,S,k,P){if(typeof S=="string"){var M=v(C),H=S.replace("{KIND}",j).replace("{VALUE}",M).replace("{PATH}",E);return N!=null&&(H=H.replace("{MODEL}",N.modelName)),H}if(typeof S=="function")return S(C,E,N,j);var F="Cast to "+j+" failed for value "+v(C)+(k?" (type "+k+")":"")+' at path "'+E+'"';return N!=null&&(F+=' for model "'+N.modelName+'"'),P!=null&&typeof P.constructor=="function"&&P.constructor.name!=="AssertionError"&&P.constructor.name!=="Error"&&(F+=' because of "'+P.constructor.name+'"'),F}Object.defineProperty(x.prototype,"name",{value:"CastError"}),o.exports=x},3622:o=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(c)}o.exports=function(c,u,d){return c==null?c:(c._doc!=null&&(c=c._doc),arguments.length>=3?l(c)!=="object"||d===void 0?void 0:(c instanceof Map?c.set(u,d):c[u]=d,d):u==="$*"?c instanceof Map?Array.from(c.values()):Object.keys(c).map(function(A){return c[A]}):c instanceof Map?c.get(u):c[u])}},3644:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}function d(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!p})()}function A(p){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A(p)}function f(p,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},f(p,m)}var h=function(p){function m(b){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,m),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,m,["Cannot overwrite `"+b+"` model once compiled."])}return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),y&&f(b,y)}(m,p),g=m,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(c(8213));Object.defineProperty(h.prototype,"name",{value:"OverwriteModelError"}),o.exports=h},3660:(o,l,c)=>{function u(N,j){var C=Object.keys(N);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(N);j&&(E=E.filter(function(S){return Object.getOwnPropertyDescriptor(N,S).enumerable})),C.push.apply(C,E)}return C}function d(N){for(var j=1;j<arguments.length;j++){var C=arguments[j]!=null?arguments[j]:{};j%2?u(Object(C),!0).forEach(function(E){A(N,E,C[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(C)):u(Object(C)).forEach(function(E){Object.defineProperty(N,E,Object.getOwnPropertyDescriptor(C,E))})}return N}function A(N,j,C){return(j=function(E){var S=function(k){if(f(k)!="object"||!k)return k;var P=k[Symbol.toPrimitive];if(P!==void 0){var M=P.call(k,"string");if(f(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}(E);return f(S)=="symbol"?S:S+""}(j))in N?Object.defineProperty(N,j,{value:C,enumerable:!0,configurable:!0,writable:!0}):N[j]=C,N}function f(N){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},f(N)}var h=c(3672),p=c(1007),m=c(6426),g=c(7768),b=c(4327),y=c(9460),x=c(8768),v=m.CastError;function w(N,j){m.call(this,N,j,"Number")}function _(N){return this.cast(N)}w.get=m.get,w.set=m.set,w.setters=[],w._cast=g,w.cast=function(N){return arguments.length===0||(N===!1&&(N=this._defaultCaster),this._cast=N),this._cast},w._defaultCaster=function(N){if(typeof N!="number")throw new Error;return N},w.schemaName="Number",w.defaultOptions={},w.prototype=Object.create(m.prototype),w.prototype.constructor=w,w.prototype.OptionsConstructor=p,w._checkRequired=function(N){return typeof N=="number"||N instanceof Number},w.checkRequired=m.checkRequired,w.prototype.checkRequired=function(N,j){return f(N)==="object"&&m._isRef(this,N,j,!0)?N!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():w.checkRequired())(N)},w.prototype.min=function(N,j){if(this.minValidator&&(this.validators=this.validators.filter(function(E){return E.validator!==this.minValidator},this)),N!=null){var C=j||h.messages.Number.min;C=C.replace(/{MIN}/,N),this.validators.push({validator:this.minValidator=function(E){return E==null||E>=N},message:C,type:"min",min:N})}return this},w.prototype.max=function(N,j){if(this.maxValidator&&(this.validators=this.validators.filter(function(E){return E.validator!==this.maxValidator},this)),N!=null){var C=j||h.messages.Number.max;C=C.replace(/{MAX}/,N),this.validators.push({validator:this.maxValidator=function(E){return E==null||E<=N},message:C,type:"max",max:N})}return this},w.prototype.enum=function(N,j){return this.enumValidator&&(this.validators=this.validators.filter(function(C){return C.validator!==this.enumValidator},this)),Array.isArray(N)||(x.isPOJO(N)&&N.values!=null?(j=N.message,N=N.values):typeof N=="number"&&(N=Array.prototype.slice.call(arguments),j=null),x.isPOJO(N)&&(N=Object.values(N)),j=j||h.messages.Number.enum),j=j??h.messages.Number.enum,this.enumValidator=function(C){return C==null||N.indexOf(C)!==-1},this.validators.push({validator:this.enumValidator,message:j,type:"enum",enumValues:N}),this},w.prototype.cast=function(N,j,C,E,S){if(typeof N!="number"&&m._isRef(this,N,j,C)&&(N==null||x.isNonBuiltinObject(N)))return this._castRef(N,j,C,S);var k,P=N&&N._id!==void 0?N._id:N;k=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():w.cast();try{return k(P)}catch(M){throw new v("Number",P,this.path,M,this)}};var B=d(d({},m.prototype.$conditionalHandlers),{},{$bitsAllClear:y,$bitsAnyClear:y,$bitsAllSet:y,$bitsAnySet:y,$gt:_,$gte:_,$lt:_,$lte:_,$mod:function(N){var j=this;return Array.isArray(N)?N.map(function(C){return j.cast(C)}):[this.cast(N)]}});Object.defineProperty(w.prototype,"$conditionalHandlers",{enumerable:!1,value:B}),w.prototype.castForQuery=function(N,j,C){var E;if(N!=null){if(!(E=this.$conditionalHandlers[N]))throw new v("number",j,this.path,null,this);return E.call(this,j,C)}try{j=this.applySetters(j,C)}catch(S){throw S instanceof v&&S.path===this.path&&this.$fullPath!=null&&(S.path=this.$fullPath),S}return j},w.prototype.toJSONSchema=function(N){var j=this.options.required&&typeof this.options.required!="function"||this.path==="_id";return b("number","number",N==null?void 0:N.useBsonType,j)},o.exports=w},3672:(o,l,c)=>{var u=c(8213);o.exports=u,u.messages=c(766),u.Messages=u.messages,u.CastError=c(3609),u.DocumentNotFoundError=c(1129),u.ValidationError=c(6949),u.ValidatorError=c(9538),u.VersionError=c(6996),u.ParallelSaveError=c(3940),u.OverwriteModelError=c(3644),u.MissingSchemaError=c(8063),u.MongooseBulkSaveIncompleteError=c(8517),u.MongooseServerSelectionError=c(7219),u.DivergentArrayError=c(1417),u.StrictModeError=c(8995),u.StrictPopulateError=c(6801)},3696:o=>{o.exports=function(l,c){return l==null?null:typeof l=="boolean"?c:typeof l[c]=="boolean"?l[c]?c:null:c in l?l[c]:c}},3703:o=>{function l(u,d){(d==null||d>u.length)&&(d=u.length);for(var A=0,f=Array(d);A<d;A++)f[A]=u[A];return f}function c(u,d){return u==null?u:u instanceof Map?u.get(d):u[d]}o.exports=function(u,d,A){var f,h=!1;if(typeof d=="string"){if(d.indexOf(".")===-1){var p=c(u,d);return p??A}f=d.split(".")}else if(h=!0,(f=d).length===1){var m=c(u,f[0]);return m??A}var g,b=d,y=u,x=function(w,_){var B=typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(!B){if(Array.isArray(w)||(B=function(k,P){if(k){if(typeof k=="string")return l(k,P);var M={}.toString.call(k).slice(8,-1);return M==="Object"&&k.constructor&&(M=k.constructor.name),M==="Map"||M==="Set"?Array.from(k):M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?l(k,P):void 0}}(w))||_){B&&(w=B);var N=0,j=function(){};return{s:j,n:function(){return N>=w.length?{done:!0}:{done:!1,value:w[N++]}},e:function(k){throw k},f:j}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,E=!0,S=!1;return{s:function(){B=B.call(w)},n:function(){var k=B.next();return E=k.done,k},e:function(k){S=!0,C=k},f:function(){try{E||B.return==null||B.return()}finally{if(S)throw C}}}}(f);try{for(x.s();!(g=x.n()).done;){var v=g.value;if(y==null)return A;if(!h&&y[b]!=null)return y[b];y=c(y,v),h||(b=b.substr(v.length+1))}}catch(w){x.e(w)}finally{x.f()}return y??A}},3704:(o,l,c)=>{function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},u(h)}var d=c(2402),A=c(6353),f=c(3305);o.exports=function(h){if(h==null||h==="")return null;var p;if(f(h,"Long"))p=h.toNumber();else if(typeof h=="string")try{return A.Double.fromString(h)}catch{d.ok(!1)}else if(u(h)==="object"){var m,g=(m=h.valueOf())!==null&&m!==void 0?m:h.toString();if(typeof g=="string")try{return A.Double.fromString(h)}catch{d.ok(!1)}else p=Number(g)}else p=Number(h);return new A.Double(p)}},3731:(o,l,c)=>{function u(m){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(m)}function d(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!m})()}function A(m){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},A(m)}function f(m,g){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,y){return b.__proto__=y,b},f(m,g)}var h=function(m){function g(){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,g,arguments)}return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),x&&f(y,x)}(g,m),b=g,Object.defineProperty(b,"prototype",{writable:!1}),b;var b}(c(8879)),p=c(5761);Object.defineProperty(h.prototype,"min",p),Object.defineProperty(h.prototype,"max",p),Object.defineProperty(h.prototype,"expires",p),o.exports=h},3743:(o,l,c)=>{function u(y){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},u(y)}function d(y){return d=typeof Symbol=="function"&&u(Symbol.iterator)==="symbol"?function(x){return u(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":u(x)},d(y)}function A(y){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},A(y)}function f(y,x){return f=Object.setPrototypeOf||function(v,w){return v.__proto__=w,v},f(y,x)}var h,p,m={};function g(y,x,v){v||(v=Error);var w=function(_){function B(N,j,C){var E;return function(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}(this,B),E=function(S,k){return!k||d(k)!=="object"&&typeof k!="function"?function(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(S):k}(this,A(B).call(this,function(S,k,P){return typeof x=="string"?x:x(S,k,P)}(N,j,C))),E.code=y,E}return function(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),j&&f(N,j)}(B,_),B}(v);m[y]=w}function b(y,x){if(Array.isArray(y)){var v=y.length;return y=y.map(function(w){return String(w)}),v>2?"one of ".concat(x," ").concat(y.slice(0,v-1).join(", "),", or ")+y[v-1]:v===2?"one of ".concat(x," ").concat(y[0]," or ").concat(y[1]):"of ".concat(x," ").concat(y[0])}return"of ".concat(x," ").concat(String(y))}g("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),g("ERR_INVALID_ARG_TYPE",function(y,x,v){var w,_,B,N,j;if(h===void 0&&(h=c(2402)),h(typeof y=="string","'name' must be a string"),typeof x=="string"&&(_="not ",x.substr(0,4)===_)?(w="must not be",x=x.replace(/^not /,"")):w="must be",function(E,S,k){return(k===void 0||k>E.length)&&(k=E.length),E.substring(k-9,k)===S}(y," argument"))B="The ".concat(y," ").concat(w," ").concat(b(x,"type"));else{var C=(typeof j!="number"&&(j=0),j+1>(N=y).length||N.indexOf(".",j)===-1?"argument":"property");B='The "'.concat(y,'" ').concat(C," ").concat(w," ").concat(b(x,"type"))}return B+". Received type ".concat(d(v))},TypeError),g("ERR_INVALID_ARG_VALUE",function(y,x){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";p===void 0&&(p=c(7352));var w=p.inspect(x);return w.length>128&&(w="".concat(w.slice(0,128),"...")),"The argument '".concat(y,"' ").concat(v,". Received ").concat(w)},TypeError),g("ERR_INVALID_RETURN_VALUE",function(y,x,v){var w;return w=v&&v.constructor&&v.constructor.name?"instance of ".concat(v.constructor.name):"type ".concat(d(v)),"Expected ".concat(y,' to be returned from the "').concat(x,'"')+" function but got ".concat(w,".")},TypeError),g("ERR_MISSING_ARGS",function(){for(var y=arguments.length,x=new Array(y),v=0;v<y;v++)x[v]=arguments[v];h===void 0&&(h=c(2402)),h(x.length>0,"At least one arg needs to be specified");var w="The ",_=x.length;switch(x=x.map(function(B){return'"'.concat(B,'"')}),_){case 1:w+="".concat(x[0]," argument");break;case 2:w+="".concat(x[0]," and ").concat(x[1]," arguments");break;default:w+=x.slice(0,_-1).join(", "),w+=", and ".concat(x[_-1]," arguments")}return"".concat(w," must be specified")},TypeError),o.exports.codes=m},3777:(o,l,c)=>{var u=c(9809),d=Object.prototype.toString,A=Object.prototype.hasOwnProperty;o.exports=function(f,h,p){if(!u(h))throw new TypeError("iterator must be a function");var m,g;arguments.length>=3&&(m=p),g=f,d.call(g)==="[object Array]"?function(b,y,x){for(var v=0,w=b.length;v<w;v++)A.call(b,v)&&(x==null?y(b[v],v,b):y.call(x,b[v],v,b))}(f,h,m):typeof f=="string"?function(b,y,x){for(var v=0,w=b.length;v<w;v++)x==null?y(b.charAt(v),v,b):y.call(x,b.charAt(v),v,b)}(f,h,m):function(b,y,x){for(var v in b)A.call(b,v)&&(x==null?y(b[v],v,b):y.call(x,b[v],v,b))}(f,h,m)}},3892:(o,l,c)=>{function u(_){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},u(_)}function d(_,B){var N=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!N){if(Array.isArray(_)||(N=function(P,M){if(P){if(typeof P=="string")return A(P,M);var H={}.toString.call(P).slice(8,-1);return H==="Object"&&P.constructor&&(H=P.constructor.name),H==="Map"||H==="Set"?Array.from(P):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?A(P,M):void 0}}(_))||B){N&&(_=N);var j=0,C=function(){};return{s:C,n:function(){return j>=_.length?{done:!0}:{done:!1,value:_[j++]}},e:function(P){throw P},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E,S=!0,k=!1;return{s:function(){N=N.call(_)},n:function(){var P=N.next();return S=P.done,P},e:function(P){k=!0,E=P},f:function(){try{S||N.return==null||N.return()}finally{if(k)throw E}}}}function A(_,B){(B==null||B>_.length)&&(B=_.length);for(var N=0,j=Array(B);N<B;N++)j[N]=_[N];return j}function f(_,B){var N=Object.keys(_);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(_);B&&(j=j.filter(function(C){return Object.getOwnPropertyDescriptor(_,C).enumerable})),N.push.apply(N,j)}return N}function h(_){for(var B=1;B<arguments.length;B++){var N=arguments[B]!=null?arguments[B]:{};B%2?f(Object(N),!0).forEach(function(j){p(_,j,N[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(N)):f(Object(N)).forEach(function(j){Object.defineProperty(_,j,Object.getOwnPropertyDescriptor(N,j))})}return _}function p(_,B,N){return(B=function(j){var C=function(E){if(u(E)!="object"||!E)return E;var S=E[Symbol.toPrimitive];if(S!==void 0){var k=S.call(E,"string");if(u(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(j);return u(C)=="symbol"?C:C+""}(B))in _?Object.defineProperty(_,B,{value:N,enumerable:!0,configurable:!0,writable:!0}):_[B]=N,_}var m=c(6948),g=c(3916),b=c(3703),y=c(1058),x=c(7300),v=c(4450),w=c(6665);l.preparePopulationOptionsMQ=function(_,B){var N,j=_._mongooseOptions.populate,C=Object.keys(j).reduce(function(P,M){return P.concat([j[M]])},[]);B.lean!=null&&C.filter(function(P){return(P&&P.options&&P.options.lean)==null}).forEach((N=B.lean,function(P){P.options||(P.options={}),N!=null&&Array.isArray(N.virtuals)&&((N=Object.assign({},N)).virtuals=N.virtuals.filter(function(M){return typeof M=="string"&&M.startsWith(P.path+".")}).map(function(M){return M.slice(P.path.length+1)})),P.options.lean=N}));var E=_&&_.options&&_.options.session||null;E!=null&&C.forEach(function(P){P.options!=null?"session"in P.options||(P.options.session=E):P.options={session:E}});for(var S=_._fieldsForExec(),k=0;k<C.length;++k)C[k]instanceof m?C[k]=new m(h(h({},C[k]),{},{_queryProjection:S,_localModel:_.model})):(C[k]._queryProjection=S,C[k]._localModel=_.model);return C},l.createModel=function(_,B,N,j,C){_.hooks.execPreSync("createModel",B);var E=_.schema?_.schema.discriminatorMapping:null,S=E&&E.isRoot?E.key:null,k=B[S];if(S&&k&&_.discriminators){var P=_.discriminators[k]||y(_.discriminators,k);if(P){var M=v(j);return l.applyPaths(M,P.schema),new P(void 0,M,!0)}}var H={skipId:!0,isNew:!1,willInit:!0};return C!=null&&"defaults"in C&&(H.defaults=C.defaults),new _(void 0,N,H)},l.createModelAndInit=function(_,B,N,j,C,E,S){var k=E?{populated:E}:void 0,P=l.createModel(_,B,N,j,C);try{P.$init(B,k,S)}catch(M){S(M,P)}},l.applyPaths=function(_,B,N){var j,C,E=new Set;if(_){C=Object.keys(_);for(var S=[],k=0;k<C.length;++k){var P=C[k];C[k][0]==="-"&&(delete _[P],P==="-_id"?_._id=0:S.push(P.slice(1)))}C=Object.keys(_);for(var M=0;M<C.length;++M)if(C[M][0]!=="+"){var H=_[C[M]];if(x(H)&&!(C[M]==="_id"&&C.length>1)&&(!(C[M]===B.options.discriminatorKey&&C.length>1&&H!=null)||H)){j=!H;break}}for(var F=0,Q=S;F<Q.length;F++){var K=Q[F],Y=B.path(K);Y&&Y.selected&&j===!1?Y&&Y.selected&&j===!1&&E.add(K):(_[K]=0,j=!0)}}var V=[],I=[],O=[];switch(function re(ve,ke){if(ke||(ke=""),O.indexOf(ve)!==-1)return[];O.push(ve);var Ce=[];return ve.eachPath(function(we,oe){if(ke&&(we=ke+"."+we),oe.$isSchemaMap||we.endsWith(".$*")){var pe=_&&"+"+we in _;oe.options&&oe.options.select===!1&&!pe&&I.push(we)}else{var je=ie(we,oe);if(je!=null||Array.isArray(oe)||!oe.$isMongooseArray||oe.$isMongooseDocumentArray||(je=ie(we,oe.caster)),je!=null&&Ce.push(je),oe.schema){var Te=re(oe.schema,we);j===!1&&g(_,we,oe.schema,V,Te)}}}),O.pop(),Ce}(B),j){case!0:var R,U=d(I);try{for(U.s();!(R=U.n()).done;){var T=R.value;_[T]=0}}catch(re){U.e(re)}finally{U.f()}break;case!1:B&&B.paths._id&&B.paths._id.options&&B.paths._id.options.select===!1&&(_._id=0);var z,G=d(V);try{for(G.s();!(z=G.n()).done;){var J=z.value;E.has(J)||w(_,J)||(_[J]=_[J]||1)}}catch(re){G.e(re)}finally{G.f()}break;case void 0:if(_==null)break;for(var ee=0,fe=Object.keys(_||{});ee<fe.length;ee++){var de=fe[ee];de.startsWith("+")&&delete _[de]}var ae,xe=d(I);try{for(xe.s();!(ae=xe.n()).done;){var X=ae.value;_[X]==null&&(_[X]=0)}}catch(re){xe.e(re)}finally{xe.f()}}function ie(re,ve){if(_!=null&&typeof ve.selected=="boolean")if(ve.selected===!1&&_[re])N&&(_[re]=0);else if(j||!ve.selected||re!==B.options.discriminatorKey||_[re]==null||_[re]){if(j!==!1||!ve.selected||_[re]==null||_[re]){var ke="+"+re;if(_&&ke in _)return delete _[ke],void(j===!1&&C.length>1&&!~C.indexOf(re)&&!N?_[re]=1:j==null&&N&&ve.selected===!1&&(_[re]=0));for(var Ce=re.split("."),we="",oe=0;oe<Ce.length;++oe)if(we+=we.length?"."+Ce[oe]:Ce[oe],I.indexOf(we)!==-1)return;if(!j&&ve&&ve.options&&ve.options.$skipDiscriminatorCheck)for(var pe="",je=0;je<Ce.length;++je){pe+=(pe.length===0?"":".")+Ce[je];var Te=b(_,pe,!1)||b(_,pe+".$",!1);if(Te&&u(Te)!=="object")return}return(ve.selected?V:I).push(re),re}delete _[re]}else delete _[re]}}},3900:(o,l,c)=>{var u=c(6400),d=c(6750),A=c(3191)(),f=c(1464),h=c(2268),p=u("%Math.floor%");o.exports=function(m,g){if(typeof m!="function")throw new h("`fn` is not a function");if(typeof g!="number"||g<0||g>4294967295||p(g)!==g)throw new h("`length` must be a positive 32-bit integer");var b=arguments.length>2&&!!arguments[2],y=!0,x=!0;if("length"in m&&f){var v=f(m,"length");v&&!v.configurable&&(y=!1),v&&!v.writable&&(x=!1)}return(y||x||!b)&&(A?d(m,"length",g,!0,!0):d(m,"length",g)),m}},3916:o=>{o.exports=function(l,c,u,d,A){var f=Object.keys(l).reduce(function(p,m){return p||m.startsWith(c+".")},!1),h=c+"."+u.options.discriminatorKey;f||A.length!==1||A[0]!==h||d.splice(d.indexOf(h),1)}},3940:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}function d(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!p})()}function A(p){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A(p)}function f(p,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},f(p,m)}var h=function(p){function m(b){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,m),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,m,["Can't save() the same doc multiple times in parallel. Document: "+b._doc._id])}return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),y&&f(b,y)}(m,p),g=m,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(c(8213));Object.defineProperty(h.prototype,"name",{value:"ParallelSaveError"}),o.exports=h},4009:(o,l,c)=>{var u=c(8213),d=c(5188),A=c(3622),f=c(5678),h=c(7352),p=c(8768),m=/(\.\d+$|\.\d+\.)/g;o.exports=function(g,b,y,x,v){if(g==null)return[];if(typeof g=="string"&&v!=null&&d(v,g))throw new u("refPath `"+g+"` must not be excluded in projection, got "+h.inspect(v));if(m.test(y)){var w=y.split(m);if(w[w.length-1]==="")throw new Error("Can't populate individual element in an array");for(var _="",B=g,N=0;N<w.length;N+=2){var j=w[N];if(!B.startsWith(j+".")){if(N===w.length-1){_+=B,B="";break}throw new Error("Could not normalize ref path, chunk "+j+" not in populated path")}_+=B.substring(0,j.length)+w[N+1],B=B.substring(j.length+1)}var C=f.get(_,b,A),E=Array.isArray(C)?C:[C];return p.array.flatten(E)}var S=f.get(g,b,A);return x!=null&&x.virtuals.hasOwnProperty(g)?[x.virtuals[g].applyGetters(void 0,b)]:Array.isArray(S)?S:[S]}},4026:(o,l)=>{l.Collection=function(){throw new Error("Cannot create a collection from browser library")},l.Connection=function(){throw new Error("Cannot create a connection from browser library")},l.BulkWriteResult=function(){}},4058:(o,l,c)=>{var u=c(6353).Long,d=9223372036854775807n,A=-9223372036854775808n,f="Mongoose only supports BigInts between ".concat(A," and ").concat(d," because MongoDB does not support arbitrary precision integers");o.exports=function(h){if(h==null)return h;if(h==="")return null;if(typeof h=="bigint"){if(h>d||h<A)throw new Error(f);return h}if(h instanceof u)return h.toBigInt();if(typeof h=="string"||typeof h=="number"){if((h=BigInt(h))>d||h<A)throw new Error(f);return h}throw new Error('Cannot convert value to BigInt: "'.concat(h,'"'))}},4070:(o,l,c)=>{function u(A,f){(f==null||f>A.length)&&(f=A.length);for(var h=0,p=Array(f);h<f;h++)p[h]=A[h];return p}var d=c(8260);o.exports=function(A){if(d(A)!=="TopologyDescription"||A.servers.size===0)return!1;var f,h=function(m,g){var b=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!b){if(Array.isArray(m)||(b=function(B,N){if(B){if(typeof B=="string")return u(B,N);var j={}.toString.call(B).slice(8,-1);return j==="Object"&&B.constructor&&(j=B.constructor.name),j==="Map"||j==="Set"?Array.from(B):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?u(B,N):void 0}}(m))||g){b&&(m=b);var y=0,x=function(){};return{s:x,n:function(){return y>=m.length?{done:!0}:{done:!1,value:m[y++]}},e:function(B){throw B},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,w=!0,_=!1;return{s:function(){b=b.call(m)},n:function(){var B=b.next();return w=B.done,B},e:function(B){_=!0,v=B},f:function(){try{w||b.return==null||b.return()}finally{if(_)throw v}}}}(A.servers.values());try{for(h.s();!(f=h.n()).done;){var p=f.value;if(p.host.endsWith(".mongodb.net")===!1||p.port!==27017)return!1}}catch(m){h.e(m)}finally{h.f()}return!0}},4183:(o,l,c)=>{var u=c(118);o.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:u}},4224:(o,l,c)=>{var u=c(6511).ctor("require","modify","init","default","ignore");function d(){this.activePaths=new u}o.exports=d,d.prototype.strictMode=!0,d.prototype.fullPath=void 0,d.prototype.selected=void 0,d.prototype.shardval=void 0,d.prototype.saveError=void 0,d.prototype.validationError=void 0,d.prototype.adhocPaths=void 0,d.prototype.removing=void 0,d.prototype.inserting=void 0,d.prototype.saving=void 0,d.prototype.version=void 0,d.prototype._id=void 0,d.prototype.ownerDocument=void 0,d.prototype.populate=void 0,d.prototype.populated=void 0,d.prototype.primitiveAtomics=void 0,d.prototype.wasPopulated=!1,d.prototype.scope=void 0,d.prototype.session=null,d.prototype.pathsToScopes=null,d.prototype.cachedRequired=null},4301:(o,l,c)=>{var u=c(9539),d=c(2793),A=c(3305),f=c(5549),h=c(608);o.exports=function p(m,g,b,y){var x,v=Object.keys(g),w=0,_=v.length;if(b=b||"",!(y=y||new WeakSet).has(g)){for(y.add(g);w<_;)if(x=v[w++],(b||x!=="discriminators"&&x!=="base"&&x!=="_applyDiscriminators"&&x!=="_userProvidedOptions"&&x!=="options"&&x!=="tree")&&!(b==="tree"&&g!=null&&g.instanceOfSchema||d.has(x))){if(m[x]==null)m[x]=g[x];else if(h(g[x])){if(h(m[x])||(m[x]={}),g[x]!=null){if(g[x].$isSingleNested&&m[x].$isMongooseDocumentArray||g[x].$isMongooseDocumentArray&&m[x].$isSingleNested||g[x].$isMongooseDocumentArrayElement&&m[x].$isMongooseDocumentArrayElement)continue;if(g[x].instanceOfSchema){m[x].instanceOfSchema?u(m[x],g[x].clone(),!0):m[x]=g[x].clone();continue}if(A(g[x],"ObjectId")){m[x]=new f(g[x]);continue}}p(m[x],g[x],b?b+"."+x:x,y)}}g!=null&&g.instanceOfSchema&&(m.tree=Object.assign({},g.tree,m.tree))}}},4327:o=>{o.exports=function(l,c,u,d){return u?d?{bsonType:c}:{bsonType:[c,"null"]}:d?{type:l}:{type:[l,"null"]}}},4432:(o,l,c)=>{function u(y){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},u(y)}function d(y){if(y!=null){var x=y[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],v=0;if(x)return x.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length))return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}}}throw new TypeError(u(y)+" is not iterable")}function A(){var y,x,v=typeof Symbol=="function"?Symbol:{},w=v.iterator||"@@iterator",_=v.toStringTag||"@@toStringTag";function B(M,H,F,Q){var K=H&&H.prototype instanceof j?H:j,Y=Object.create(K.prototype);return f(Y,"_invoke",function(V,I,O){var R,U,T,z=0,G=O||[],J=!1,ee={p:0,n:0,v:y,a:fe,f:fe.bind(y,4),d:function(de,ae){return R=de,U=0,T=y,ee.n=ae,N}};function fe(de,ae){for(U=de,T=ae,x=0;!J&&z&&!xe&&x<G.length;x++){var xe,X=G[x],ie=ee.p,re=X[2];de>3?(xe=re===ae)&&(T=X[(U=X[4])?5:(U=3,3)],X[4]=X[5]=y):X[0]<=ie&&((xe=de<2&&ie<X[1])?(U=0,ee.v=ae,ee.n=X[1]):ie<re&&(xe=de<3||X[0]>ae||ae>re)&&(X[4]=de,X[5]=ae,ee.n=re,U=0))}if(xe||de>1)return N;throw J=!0,ae}return function(de,ae,xe){if(z>1)throw TypeError("Generator is already running");for(J&&ae===1&&fe(ae,xe),U=ae,T=xe;(x=U<2?y:T)||!J;){R||(U?U<3?(U>1&&(ee.n=-1),fe(U,T)):ee.n=T:ee.v=T);try{if(z=2,R){if(U||(de="next"),x=R[de]){if(!(x=x.call(R,T)))throw TypeError("iterator result is not an object");if(!x.done)return x;T=x.value,U<2&&(U=0)}else U===1&&(x=R.return)&&x.call(R),U<2&&(T=TypeError("The iterator does not provide a '"+de+"' method"),U=1);R=y}else if((x=(J=ee.n<0)?T:V.call(I,ee))!==N)break}catch(X){R=y,U=1,T=X}finally{z=1}}return{value:x,done:J}}}(M,F,Q),!0),Y}var N={};function j(){}function C(){}function E(){}x=Object.getPrototypeOf;var S=[][w]?x(x([][w]())):(f(x={},w,function(){return this}),x),k=E.prototype=j.prototype=Object.create(S);function P(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,E):(M.__proto__=E,f(M,_,"GeneratorFunction")),M.prototype=Object.create(k),M}return C.prototype=E,f(k,"constructor",E),f(E,"constructor",C),C.displayName="GeneratorFunction",f(E,_,"GeneratorFunction"),f(k),f(k,_,"Generator"),f(k,w,function(){return this}),f(k,"toString",function(){return"[object Generator]"}),(A=function(){return{w:B,m:P}})()}function f(y,x,v,w){var _=Object.defineProperty;try{_({},"",{})}catch{_=0}f=function(B,N,j,C){if(N)_?_(B,N,{value:j,enumerable:!C,configurable:!C,writable:!C}):B[N]=j;else{var E=function(S,k){f(B,S,function(P){return this._invoke(S,k,P)})};E("next",0),E("throw",1),E("return",2)}},f(y,x,v,w)}function h(y,x){var v=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!v){if(Array.isArray(y)||(v=function(C,E){if(C){if(typeof C=="string")return p(C,E);var S={}.toString.call(C).slice(8,-1);return S==="Object"&&C.constructor&&(S=C.constructor.name),S==="Map"||S==="Set"?Array.from(C):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?p(C,E):void 0}}(y))||x){v&&(y=v);var w=0,_=function(){};return{s:_,n:function(){return w>=y.length?{done:!0}:{done:!1,value:y[w++]}},e:function(C){throw C},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,N=!0,j=!1;return{s:function(){v=v.call(y)},n:function(){var C=v.next();return N=C.done,C},e:function(C){j=!0,B=C},f:function(){try{N||v.return==null||v.return()}finally{if(j)throw B}}}}function p(y,x){(x==null||x>y.length)&&(x=y.length);for(var v=0,w=Array(x);v<x;v++)w[v]=y[v];return w}function m(y,x,v,w,_,B,N){try{var j=y[B](N),C=j.value}catch(E){return void v(E)}j.done?x(C):Promise.resolve(C).then(w,_)}function g(y){return function(){var x=this,v=arguments;return new Promise(function(w,_){var B=y.apply(x,v);function N(C){m(B,w,_,N,j,"next",C)}function j(C){m(B,w,_,N,j,"throw",C)}N(void 0)})}}var b=c(5782);o.exports=function(y){var x=!0;y.s.hooks.pre("save",!1,function(v){if(this.$isSubdocument)v();else{var w=this,_=this.$getAllSubdocs({useCache:!0});_.length?b(_,function(B,N){B.$__schema.s.hooks.execPre("save",B,function(j){N(j)})},function(B){if(w.$__.saveOptions&&(w.$__.saveOptions.__subdocs=null),B)return w.$__schema.s.hooks.execPost("save:error",w,[w],{error:B},function(N){v(N)});v()}):v()}},null,x),y.s.hooks.post("save",function(){var v=g(A().m(function w(){var _,B,N,j,C,E;return A().w(function(S){for(;;)switch(S.n){case 0:if((_=this.$__.removedSubdocs)&&_.length){S.n=1;break}return S.a(2);case 1:B=[],N=h(_),S.p=2,C=A().m(function k(){var P;return A().w(function(M){for(;;)switch(M.n){case 0:P=j.value,B.push(new Promise(function(H,F){P.$__schema.s.hooks.execPost("deleteOne",P,[P],function(Q){if(Q)return F(Q);H()})}));case 1:return M.a(2)}},k)}),N.s();case 3:if((j=N.n()).done){S.n=5;break}return S.d(d(C()),4);case 4:S.n=3;break;case 5:S.n=7;break;case 6:S.p=6,E=S.v,N.e(E);case 7:return S.p=7,N.f(),S.f(7);case 8:return this.$__.removedSubdocs=null,S.n=9,Promise.all(B);case 9:return S.a(2)}},w,this,[[2,6,7,8]])}));return function(){return v.apply(this,arguments)}}()),y.s.hooks.post("save",function(){var v=g(A().m(function w(){var _,B,N,j,C,E,S,k,P=this;return A().w(function(M){for(;;)switch(M.n){case 0:if(!this.$isSubdocument){M.n=1;break}return M.a(2);case 1:if(_=this,(B=this.$getAllSubdocs({useCache:!0})).length){M.n=2;break}return M.a(2);case 2:N=[],j=h(B),M.p=3,E=A().m(function H(){var F;return A().w(function(Q){for(;;)switch(Q.n){case 0:F=C.value,N.push(new Promise(function(K,Y){F.$__schema.s.hooks.execPost("save",F,[F],function(V){if(V)return Y(V);K()})}));case 1:return Q.a(2)}},H)}),j.s();case 4:if((C=j.n()).done){M.n=6;break}return M.d(d(E()),5);case 5:M.n=4;break;case 6:M.n=8;break;case 7:M.p=7,S=M.v,j.e(S);case 8:return M.p=8,j.f(),M.f(8);case 9:return M.p=9,M.n=10,Promise.all(N);case 10:M.n=12;break;case 11:return M.p=11,k=M.v,M.n=12,new Promise(function(H,F){P.$__schema.s.hooks.execPost("save:error",_,[_],{error:k},function(Q){if(Q)return F(Q);H()})});case 12:return M.a(2)}},w,this,[[9,11],[3,7,8,9]])}));return function(){return v.apply(this,arguments)}}(),null,x)}},4450:(o,l,c)=>{function u(N){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},u(N)}var d=c(9639),A=c(5549),f=c(2793),h=c(2497),p=c(9696),m=c(3305),g=c(1243).isMongooseArray,b=c(608),y=c(2789),x=c(7930),v=c(7291).trustedSymbol,w=c(6353);function _(N,j,C){if(N==null)return N;if(m(N,"Double"))return new w.Double(N.value);if(typeof N=="number"||typeof N=="string"||typeof N=="boolean"||typeof N=="bigint")return N;if(Array.isArray(N))return function(M,H){var F=0,Q=M.length,K=new Array(Q);for(F=0;F<Q;++F)K[F]=_(M[F],H,!0);return K}(g(N)?N.__array:N,j);if(h(N)){if(j&&j.retainDocuments&&N.$__!=null){var E=N.$clone();return N.__index!=null&&(E.__index=N.__index),N.__parentArray!=null&&(E.__parentArray=N.__parentArray),E.$__parent=N.$__parent,E}return y(N)&&N.$__!=null&&N._doc!=null?N._doc:j&&j.json&&typeof N.toJSON=="function"?N.toJSON(j):N.toObject(j)}var S,k,P=N.constructor;if(P)switch(p(P)){case"Object":return B(N,j,C);case"Date":return new P(+N);case"RegExp":return S=N,(k=new RegExp(S.source,S.flags)).lastIndex!==S.lastIndex&&(k.lastIndex=S.lastIndex),k}return m(N,"ObjectId")?j&&j.flattenObjectIds?N.toJSON():new A(N.id):m(N,"Decimal128")?j&&j.flattenDecimals?N.toJSON():d.fromString(N.toString()):!P&&b(N)?B(N,j,C):u(N)==="object"&&N[x.schemaTypeSymbol]?N.clone():j&&j.bson&&typeof N.toBSON=="function"?N:typeof N.valueOf=="function"?N.valueOf():B(N,j,C)}function B(N,j,C){var E,S=j&&j.minimize,k=j&&j.omitUndefined,P=j&&j._seen,M={};if(P&&P.has(N))return P.get(N);P&&P.set(N,M),v in N&&(j==null?void 0:j.copyTrustedSymbol)!==!1&&(M[v]=N[v]);for(var H=Object.keys(N),F=H.length,Q=0;Q<F;++Q){var K=H[Q];if(!f.has(K)){var Y=_(N[K],j,!1);S!==!1&&!k||Y!==void 0?S===!0&&Y===void 0||(E||(E=!0),M[K]=Y):delete M[K]}}return S&&!C?E&&M:M}o.exports=_},4473:o=>{function l(c,u){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(d.has(c))throw new Error("Infinite subdocument loop: subdoc with _id "+c._id+" is a parent of itself");var A=c.$parent(),f=c.$__pathRelativeToParent(void 0,!1)+"."+u;A.$__.activePaths.clearPath(f),A.$isSubdocument&&l(A,f,d)}o.exports=function(c,u,d){var A=(d=d||{}).skipDocArrays,f=0;if(!c)return f;for(var h=0,p=Object.keys(c.$__.activePaths.getStatePaths("modify"));h<p.length;h++){var m=p[h];if(A){var g=c.$__schema.path(m);if(g&&g.$isMongooseDocumentArray)continue}m.startsWith(u+".")&&(c.$__.activePaths.clearPath(m),++f,c.$isSubdocument&&l(c,m))}return f}},4561:(o,l,c)=>{function u(m){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(m)}function d(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!m})()}function A(m){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},A(m)}function f(m,g){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,y){return b.__proto__=y,b},f(m,g)}var h=function(m){function g(){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,g,arguments)}return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),x&&f(y,x)}(g,m),b=g,Object.defineProperty(b,"prototype",{writable:!1}),b;var b}(c(8879)),p=c(5761);Object.defineProperty(h.prototype,"excludeIndexes",p),Object.defineProperty(h.prototype,"_id",p),o.exports=h},4592:(o,l,c)=>{function u(m){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(m)}function d(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!m})()}function A(m){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},A(m)}function f(m,g){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,y){return b.__proto__=y,b},f(m,g)}var h=function(m){function g(){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,g,arguments)}return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),x&&f(y,x)}(g,m),b=g,Object.defineProperty(b,"prototype",{writable:!1}),b;var b}(c(8879)),p=c(5761);Object.defineProperty(h.prototype,"enum",p),Object.defineProperty(h.prototype,"of",p),Object.defineProperty(h.prototype,"castNonArrays",p),o.exports=h},4625:(o,l,c)=>{function u(m){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(m)}function d(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!m})()}function A(m){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},A(m)}function f(m,g){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,y){return b.__proto__=y,b},f(m,g)}var h=function(m){function g(){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,g,arguments)}return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),x&&f(y,x)}(g,m),b=g,Object.defineProperty(b,"prototype",{writable:!1}),b;var b}(c(8879)),p=c(5761);Object.defineProperty(h.prototype,"auto",p),Object.defineProperty(h.prototype,"populate",p),o.exports=h},4756:o=>{var l=function(c){return c!=c};o.exports=function(c,u){return c===0&&u===0?1/c==1/u:c===u||!(!l(c)||!l(u))}},4829:(o,l,c)=>{o.exports=c(8533)},4859:(o,l,c)=>{var u=c(5832).hp;function d(C,E){var S=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!S){if(Array.isArray(C)||(S=function(Q,K){if(Q){if(typeof Q=="string")return A(Q,K);var Y={}.toString.call(Q).slice(8,-1);return Y==="Object"&&Q.constructor&&(Y=Q.constructor.name),Y==="Map"||Y==="Set"?Array.from(Q):Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y)?A(Q,K):void 0}}(C))||E){S&&(C=S);var k=0,P=function(){};return{s:P,n:function(){return k>=C.length?{done:!0}:{done:!1,value:C[k++]}},e:function(Q){throw Q},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,H=!0,F=!1;return{s:function(){S=S.call(C)},n:function(){var Q=S.next();return H=Q.done,Q},e:function(Q){F=!0,M=Q},f:function(){try{H||S.return==null||S.return()}finally{if(F)throw M}}}}function A(C,E){(E==null||E>C.length)&&(E=C.length);for(var S=0,k=Array(E);S<E;S++)k[S]=C[S];return k}var f=c(8920),h=c(2400),p=c(863),m=c(1058),g=c(3303)._,b=c(8768),y=c(3305),x=c(7930).arrayParentSymbol,v=c(7930).arrayPathSymbol,w=c(7930).arraySchemaSymbol,_=c(7930).documentArrayParent,B=Array.prototype.toString,N={toBSON:function(){return this.toObject(g)},toString:function(){return B.call(this.__array.map(function(C){return C!=null&&C.$__!=null?C.toString():C}))},getArrayParent:function(){return this[x]},_cast:function(C,E,S){if(this[w]==null)return C;var k=this[w].casterConstructor;if((k.$isMongooseDocumentArray?b.isMongooseDocumentArray(C):C instanceof k)||C&&C.constructor&&C.constructor.baseCasterConstructor===k)return C[_]&&C.__parentArray||(C[_]=this[x],C.__parentArray=this),C.$setIndex(E),C;if(C==null)return null;if((u.isBuffer(C)||y(C,"ObjectId")||!b.isObject(C))&&(C={_id:C}),C&&k.discriminators&&k.schema&&k.schema.options&&k.schema.options.discriminatorKey)if(typeof C[k.schema.options.discriminatorKey]=="string"&&k.discriminators[C[k.schema.options.discriminatorKey]])k=k.discriminators[C[k.schema.options.discriminatorKey]];else{var P=m(k.discriminators,C[k.schema.options.discriminatorKey]);P&&(k=P)}if(k.$isMongooseDocumentArray)return k.cast(C,this,void 0,void 0,E);var M=new k(C,this,S,void 0,E);return M.isNew=!0,M},id:function(C){var E,S,k;try{E=p(C).toString()}catch{E=null}var P,M=d(this);try{for(M.s();!(P=M.n()).done;){var H=P.value;if(H&&(k=H.get("_id"))!=null){if(k instanceof h){if(S||(S=String(C)),S==k._id)return H}else if(y(C,"ObjectId")||y(k,"ObjectId")){if(E==k)return H}else if(C==k||b.deepEqual(C,k))return H}}}catch(F){M.e(F)}finally{M.f()}return null},toObject:function(C){return[].concat(this.map(function(E){return E==null?null:typeof E.toObject!="function"?E:E.toObject(C)}))},$toObject:function(){return this.constructor.prototype.toObject.apply(this,arguments)},push:function(){var C=f.push.apply(this,arguments);return j(this),C},pull:function(){var C=f.pull.apply(this,arguments);return j(this),C},shift:function(){var C=f.shift.apply(this,arguments);return j(this),C},splice:function(){var C=f.splice.apply(this,arguments);return j(this),C},inspect:function(){return this.toObject()},create:function(C){var E=this[w].casterConstructor;if(C&&E.discriminators&&E.schema&&E.schema.options&&E.schema.options.discriminatorKey)if(typeof C[E.schema.options.discriminatorKey]=="string"&&E.discriminators[C[E.schema.options.discriminatorKey]])E=E.discriminators[C[E.schema.options.discriminatorKey]];else{var S=m(E.discriminators,C[E.schema.options.discriminatorKey]);S&&(E=S)}return new E(C,this)},notify:function(C){var E=this;return function S(k,P){for(var M=(P=P||E).length;M--;)P[M]!=null&&(C==="save"&&(k=E[M]),b.isMongooseArray(P[M])?S(k,P[M]):P[M]&&P[M].emit(C,k))}},set:function(C,E,S){var k=this.__array;if(S)return k[C]=E,this;var P=N._cast.call(this,E,C);return N._markModified.call(this,C),k[C]=P,this},_markModified:function(C,E){var S,k=this[x];if(k){if(S=this[v],arguments.length&&(S=E!=null?S+"."+C.__index+"."+E:S+"."+C),S!=null&&S.endsWith(".$"))return this;k.markModified(S,arguments.length!==0?C:k)}return this}};function j(C){var E=C[x];if(E&&E.$__.populated!=null){var S,k=d(Object.keys(E.$__.populated).filter(function(M){return M.startsWith(C[v]+".")}));try{var P=function(){var M=S.value,H=M.slice((C[v]+".").length);if(!Array.isArray(E.$__.populated[M].value))return 1;E.$__.populated[M].value=C.map(function(F){return F.$populated(H)})};for(k.s();!(S=k.n()).done;)P()}catch(M){k.e(M)}finally{k.f()}}}o.exports=N},4878:(o,l,c)=>{function u(v){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},u(v)}function d(v,w,_){return(w=function(B){var N=function(j){if(u(j)!="object"||!j)return j;var C=j[Symbol.toPrimitive];if(C!==void 0){var E=C.call(j,"string");if(u(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(B);return u(N)=="symbol"?N:N+""}(w))in v?Object.defineProperty(v,w,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[w]=_,v}var A=c(8920),f=c(4859),h=c(7930).arrayAtomicsSymbol,p=c(7930).arrayAtomicsBackupSymbol,m=c(7930).arrayParentSymbol,g=c(7930).arrayPathSymbol,b=c(7930).arraySchemaSymbol,y=Array.prototype.push,x=/^\d+$/;o.exports=function(v,w,_,B){var N=[],j=d(d(d(d(d({},h,{}),p,void 0),g,w),b,void 0),m,void 0);if(Array.isArray(v)&&(v[g]===w&&v[m]===_&&(j[h]=Object.assign({},v[h])),v.forEach(function(E){y.call(N,E)})),j[g]=w,j.__array=N,_&&_.$__)for(j[m]=_,j[b]=_.$__schema.path(w);j[b]!=null&&j[b].$isMongooseArray&&!j[b].$isMongooseDocumentArray;)j[b]=j[b].casterConstructor;var C=new Proxy(N,{get:function(E,S){return S==="isMongooseArray"||S==="isMongooseArrayProxy"||S==="isMongooseDocumentArray"||S==="isMongooseDocumentArrayProxy"||(j.hasOwnProperty(S)?j[S]:f.hasOwnProperty(S)?f[S]:B&&B.virtuals&&B.virtuals.hasOwnProperty(S)?B.virtuals[S].applyGetters(void 0,E):A.hasOwnProperty(S)?A[S]:N[S])},set:function(E,S,k){return typeof S=="string"&&x.test(S)?f.set.call(C,S,k,!1):j.hasOwnProperty(S)?j[S]=k:B&&B.virtuals&&B.virtuals.hasOwnProperty(S)?B.virtuals[S].applySetters(k,E):N[S]=k,!0}});return C}},4957:(o,l,c)=>{function u(b){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},u(b)}function d(b,y){var x=Object.keys(b);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(b);y&&(v=v.filter(function(w){return Object.getOwnPropertyDescriptor(b,w).enumerable})),x.push.apply(x,v)}return x}function A(b){for(var y=1;y<arguments.length;y++){var x=arguments[y]!=null?arguments[y]:{};y%2?d(Object(x),!0).forEach(function(v){f(b,v,x[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(x)):d(Object(x)).forEach(function(v){Object.defineProperty(b,v,Object.getOwnPropertyDescriptor(x,v))})}return b}function f(b,y,x){return(y=function(v){var w=function(_){if(u(_)!="object"||!_)return _;var B=_[Symbol.toPrimitive];if(B!==void 0){var N=B.call(_,"string");if(u(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}(v);return u(w)=="symbol"?w:w+""}(y))in b?Object.defineProperty(b,y,{value:x,enumerable:!0,configurable:!0,writable:!0}):b[y]=x,b}var h=c(7160),p=c(5268);o.exports=g,g.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"];var m=new Set(g.middlewareFunctions.flatMap(function(b){return[b,"$__".concat(b)]}));function g(b,y,x){var v={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},w=(x=x||{}).decorateDoc?b:b.prototype;b.$appliedHooks=!0;for(var _=0,B=Object.keys(y.paths);_<B.length;_++){var N=B[_],j=y.paths[N],C=null;if(j.$isSingleNested)C=j.caster;else{if(!j.$isMongooseDocumentArray)continue;C=j.Constructor}if(!C.$appliedHooks&&(g(C,j.schema,A(A({},x),{},{isChildSchema:!0})),C.discriminators!=null))for(var E=0,S=Object.keys(C.discriminators);E<S.length;E++){var k=S[E];g(C.discriminators[k],C.discriminators[k].schema,x)}}var P=y.s.hooks.filter(function(U){return U.name==="updateOne"||U.name==="deleteOne"?!!U.document:U.name==="remove"||U.name==="init"?U.document==null||!!U.document:U.query==null&&U.document==null||U.document!==!1}).filter(function(U){return!y.methods[U.name]||!U.fn[h.builtInMiddleware]});b._middleware=P,w.$__originalValidate=w.$__originalValidate||w.$__validate;for(var M=0,H=x&&x.isChildSchema?["save","validate","deleteOne"]:["save","validate"];M<H.length;M++){var F=H[M],Q=F==="validate"?"$__originalValidate":"$__".concat(F),K=P.createWrapper(F,w[Q],null,v);w["$__".concat(F)]=K}w.$__init=P.createWrapperSync("init",w.$__init,null,v);for(var Y=Object.keys(y.methods),V=Object.assign({},v,{checkForPromise:!0}),I=function(){var U=R[O];if(m.has(U)||!P.hasHooks(U))return 0;var T=w[U];w[U]=function(){var z=this,G=Array.prototype.slice.call(arguments),J=G.slice(-1).pop(),ee=typeof J=="function"?G.slice(0,G.length-1):G;return p(J,function(fe){return z["$__".concat(U)].apply(z,ee.concat([fe]))},b.events)},w["$__".concat(U)]=P.createWrapper(U,T,null,V)},O=0,R=Y;O<R.length;O++)I()}},5022:(o,l,c)=>{var u=c(6426),d=c(7160),A=c(608),f=c(8768);function h(p,m){if(m&&m.default){var g=m.default;Array.isArray(g)&&g.length===0?m.default=Array:!m.shared&&A(g)&&Object.keys(g).length===0&&(m.default=function(){return{}})}u.call(this,p,m,"Mixed"),this[d.schemaMixedSymbol]=!0}h.schemaName="Mixed",h.defaultOptions={},h.prototype=Object.create(u.prototype),h.prototype.constructor=h,h.get=u.get,h.set=u.set,h.setters=[],h.prototype.cast=function(p){return p instanceof Error?f.errorToPOJO(p):p},h.prototype.castForQuery=function(p,m){return m},o.exports=h},5098:(o,l,c)=>{function u(F,Q){var K=Object.keys(F);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(F);Q&&(Y=Y.filter(function(V){return Object.getOwnPropertyDescriptor(F,V).enumerable})),K.push.apply(K,Y)}return K}function d(F){for(var Q=1;Q<arguments.length;Q++){var K=arguments[Q]!=null?arguments[Q]:{};Q%2?u(Object(K),!0).forEach(function(Y){A(F,Y,K[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(K)):u(Object(K)).forEach(function(Y){Object.defineProperty(F,Y,Object.getOwnPropertyDescriptor(K,Y))})}return F}function A(F,Q,K){return(Q=function(Y){var V=function(I){if(f(I)!="object"||!I)return I;var O=I[Symbol.toPrimitive];if(O!==void 0){var R=O.call(I,"string");if(f(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(Y);return f(V)=="symbol"?V:V+""}(Q))in F?Object.defineProperty(F,Q,{value:K,enumerable:!0,configurable:!0,writable:!0}):F[Q]=K,F}function f(F){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},f(F)}var h,p=c(3609),m=c(3550).EventEmitter,g=c(3441),b=c(7494),y=c(6426),x=c(5335),v=c(8499),w=c(5558).G,_=c(4327),B=c(1469),N=c(9604),j=c(7910),C=c(1313),E=c(3303)._,S=c(1793),k=c(8768),P=c(5537);function M(F,Q,K){if(F.options.timeseries)throw new P(Q,"timeseries");var Y=M.defaultOptions&&M.defaultOptions._id;Y!=null&&((K=K||{})._id=Y),F=C(F,K),this.caster=H(F,null,K),this.caster.path=Q,this.caster.prototype.$basePath=Q,this.schema=F,this.$isSingleNested=!0,this.base=F.base,y.call(this,Q,K,"Embedded")}function H(F,Q,K){h||(h=c(9380));var Y=function(U,T,z){this.$__parent=z,h.apply(this,arguments),z!=null&&this.$session(z.$session())};F._preCompile();var V=Q!=null?Q.prototype:h.prototype;for(var I in(Y.prototype=Object.create(V)).$__setSchema(F),Y.prototype.constructor=Y,Y.prototype.$__schemaTypeOptions=K,Y.$__required=K==null?void 0:K.required,Y.base=F.base,Y.schema=F,Y.$isSingleNested=!0,Y.events=new m,Y.prototype.toBSON=function(){return this.toObject(E)},F.methods)Y.prototype[I]=F.methods[I];for(var O in F.statics)Y[O]=F.statics[O];for(var R in m.prototype)Y[R]=m.prototype[R];return Y}o.exports=M,M.prototype=Object.create(y.prototype),M.prototype.constructor=M,M.prototype.OptionsConstructor=b,M.prototype.$conditionalHandlers.$geoWithin=function(F,Q){return{$geometry:this.castForQuery(null,F.$geometry,Q)}},M.prototype.$conditionalHandlers.$near=M.prototype.$conditionalHandlers.$nearSphere=N.cast$near,M.prototype.$conditionalHandlers.$within=M.prototype.$conditionalHandlers.$geoWithin=N.cast$within,M.prototype.$conditionalHandlers.$geoIntersects=N.cast$geoIntersects,M.prototype.$conditionalHandlers.$minDistance=w,M.prototype.$conditionalHandlers.$maxDistance=w,M.prototype.$conditionalHandlers.$exists=v,M.prototype.cast=function(F,Q,K,Y,V){if(F&&F.$isSingleNested&&F.parent===Q)return F;if(F!=null&&(f(F)!=="object"||Array.isArray(F)))throw new g(this.path,F);var I,O=this.schema.path(this.schema.options.discriminatorKey),R=O==null?null:O.getDefault(Q),U=j(this.caster,F,R),T=Q&&Q.$__&&Q.$__.selected,z=this.path,G=T==null?null:Object.keys(T).reduce(function(ee,fe){return fe.startsWith(z+".")&&((ee=ee||{})[fe.substring(z.length+1)]=T[fe]),ee},null);if(!K)return V=Object.assign({},V,{priorDoc:Y}),Object.keys(F).length===0?new U({},G,Q,void 0,V):new U(F,G,Q,void 0,V);delete(I=new U(void 0,G,Q,!1,{defaults:!1})).$__.defaults,I.$init(F);var J=S(G);return x(I,G,J),I},M.prototype.castForQuery=function(F,Q,K,Y){var V;if(F!=null){if(!(V=this.$conditionalHandlers[F]))throw new Error("Can't use "+F);return V.call(this,Q)}if(Q==null)return Q;var I=j(this.caster,Q);if(Q instanceof I)return Q;this.options.runSetters&&(Q=this._applySetters(Q,K));var O=Y!=null&&Y.strict!=null?Y.strict:void 0;try{Q=new I(Q,O)}catch(R){throw R instanceof p?R:new p("Embedded",Q,this.path,R,this)}return Q},M.prototype.doValidate=function(F,Q,K,Y){var V=j(this.caster,F);if(!F||F instanceof V||(F=new V(F,null,K!=null&&K.$__!=null?K:null)),Y&&Y.skipSchemaValidators)return F?F.validate().then(function(){return Q(null)},function(I){return Q(I)}):Q(null);y.prototype.doValidate.call(this,F,function(I){return I?Q(I):F?void F.validate().then(function(){return Q(null)},function(O){return Q(O)}):Q(null)},K,Y)},M.prototype.doValidateSync=function(F,Q,K){if(!K||!K.skipSchemaValidators){var Y=y.prototype.doValidateSync.call(this,F,Q);if(Y)return Y}if(F)return F.validateSync()},M.prototype.discriminator=function(F,Q,K){K=K||{};var Y=k.isPOJO(K)?K.value:K,V=typeof K.clone!="boolean"||K.clone;return Q.instanceOfSchema&&V&&(Q=Q.clone()),Q=B(this.caster,F,Q,Y,null,null,K.overwriteExisting),this.caster.discriminators[F]=H(Q,this.caster),this.caster.discriminators[F]},M.defaultOptions={},M.set=y.set,M.setters=[],M.get=y.get,M.prototype.toJSON=function(){return{path:this.path,options:this.options}},M.prototype.clone=function(){var F=new this.constructor(this.schema,this.path,d(d({},this.options),{},{_skipApplyDiscriminators:!0}));return F.validators=this.validators.slice(),this.requiredValidator!==void 0&&(F.requiredValidator=this.requiredValidator),F.caster.discriminators=Object.assign({},this.caster.discriminators),F._appliedDiscriminators=this._appliedDiscriminators,F},M.prototype.toJSONSchema=function(F){var Q=this.options.required&&typeof this.options.required!="function";return d(d({},this.schema.toJSONSchema(F)),_("object","object",F==null?void 0:F.useBsonType,Q))}},5110:o=>{var l=new Set(["$ref","$id","$db"]);o.exports=function(c){return c[0]==="$"&&!l.has(c)}},5152:(o,l,c)=>{var u=c(3703),d=c(7425);o.exports=function A(f,h,p){for(var m=(p=p||{}).typeOnly,g=Array.isArray(h)?h:h.indexOf(".")===-1?[h]:h.split("."),b=null,y="adhocOrUndefined",x=d(f.schema,f.get(f.schema.options.discriminatorKey))||f.schema,v=0;v<g.length;++v){var w=g.slice(0,v+1).join(".");if((b=x.path(w))!=null){if(b.instance==="Mixed")return m?"real":b;if(y=x.pathType(w),(b.$isSingleNested||b.$isMongooseDocumentArrayElement)&&b.schema.discriminators!=null){var _=b.schema.discriminators,B=f.get(w+"."+u(b,"schema.options.discriminatorKey"));if(B==null||_[B]==null)continue;var N=g.slice(v+1).join(".");return A(f.get(w),N,p)}}else y="adhocOrUndefined"}return m?y:b}},5188:(o,l,c)=>{var u=c(7300);o.exports=function(d,A){if(d==null)return!1;if(A==="_id")return d._id===0;for(var f=null,h=0,p=Object.keys(d);h<p.length;h++){var m=p[h];if(u(d[m])){f=d[A]===1?"inclusive":"exclusive";break}}return f==="inclusive"?d[A]!==1:f==="exclusive"&&d[A]===0}},5268:(o,l,c)=>{var u=c(2746),d=Symbol("mongoose#emitted");o.exports=function(A,f,h,p){if(typeof A=="function")try{return f(function(m){if(m==null)A.apply(this,arguments);else{h!=null&&h.listeners!=null&&h.listeners("error").length>0&&!m[d]&&(m[d]=!0,h.emit("error",m));try{A(m)}catch(g){return u(function(){throw g})}}})}catch(m){return h!=null&&h.listeners!=null&&h.listeners("error").length>0&&!m[d]&&(m[d]=!0,h.emit("error",m)),A(m)}return new(p=p||c.g.Promise)(function(m,g){f(function(b,y){return b!=null?(h!=null&&h.listeners!=null&&h.listeners("error").length>0&&!b[d]&&(b[d]=!0,h.emit("error",b)),g(b)):arguments.length>2?m(Array.prototype.slice.call(arguments,1)):void m(y)})})}},5289:o=>{o.exports=function(l){switch(l){case"p":l="primary";break;case"pp":l="primaryPreferred";break;case"s":l="secondary";break;case"sp":l="secondaryPreferred";break;case"n":l="nearest"}return l}},5335:(o,l,c)=>{var u=c(1091);function d(A,f,h){A.$__.activePaths.default(f),!h&&A.$isSubdocument&&A.$isSingleNested&&A.$parent()!=null&&A.$parent().$__.activePaths.default(A.$__pathRelativeToParent(f))}o.exports=function(A,f,h,p,m,g,b){for(var y=Object.keys(A.$__schema.paths),x=y.length,v=b&&b.skipParentChangeTracking,w=0;w<x;++w){var _=void 0,B="",N=y[w];if(N!=="_id"||!A.$__.skipId){var j=A.$__schema.paths[N],C=j.splitPath(),E=C.length;if(C[E-1]!=="$*")for(var S=!1,k=A._doc,P=0;P<E&&k!=null;++P){var M=C[P];if(B+=(B.length?".":"")+M,h===!0){if(B in f)break}else if(h===!1&&f&&!S){var H=j.$isSingleNested||j.$isMongooseDocumentArray;if(B in f&&!u(f[B])||P===E-1&&H&&p!=null&&p[B])S=!0;else if(p!=null&&!p[B])break}if(P===E-1){if(k[M]!==void 0)break;if(m!=null){if(typeof j.defaultValue=="function"){if(!j.defaultValue.$runBeforeSetters&&m||j.defaultValue.$runBeforeSetters&&!m)break}else if(!m)continue}if(g&&g[B])break;if(f&&h!==null){if(h===!0){if(N in f)continue;try{_=j.getDefault(A,!1)}catch(F){A.invalidate(N,F);break}_!==void 0&&(k[M]=_,d(A,N,v))}else if(S){try{_=j.getDefault(A,!1)}catch(F){A.invalidate(N,F);break}_!==void 0&&(k[M]=_,d(A,N,v))}}else{try{_=j.getDefault(A,!1)}catch(F){A.invalidate(N,F);break}_!==void 0&&(k[M]=_,d(A,N,v))}}else k=k[M]}}}}},5346:o=>{o.exports=function(l,c,u){for(var d=c[0],A=u,f=l,h=0;h<c.length-1;++h){var p=A.path(d);if(p&&p.schema){var m=f.get(d);if(A=p.schema,d=c[h+1],Array.isArray(m)&&!isNaN(d)&&(m=m[d],d=""),m==null)break;f=m}else d+=d.length?"."+c[h+1]:c[h+1]}return f}},5413:(o,l,c)=>{var u=c(3305),d=c(2402);o.exports=function(A){if(A==null)return A;if(A==="")return null;var f=u(A,"Long")?A.toNumber():Number(A);if(f===(0|f)&&f>=-2147483648&&f<=2147483647)return f;d.ok(!1)}},5477:(o,l,c)=>{var u=c(2354),d=c(3279),A=c(3123),f=c(3388);o.exports=f||u.call(A,d)},5484:o=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(c)}o.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(l(Symbol.iterator)==="symbol")return!0;var c={},u=Symbol("test"),d=Object(u);if(typeof u=="string"||Object.prototype.toString.call(u)!=="[object Symbol]"||Object.prototype.toString.call(d)!=="[object Symbol]")return!1;for(var A in c[u]=42,c)return!1;if(typeof Object.keys=="function"&&Object.keys(c).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(c).length!==0)return!1;var f=Object.getOwnPropertySymbols(c);if(f.length!==1||f[0]!==u||!Object.prototype.propertyIsEnumerable.call(c,u))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(c,u);if(h.value!==42||h.enumerable!==!0)return!1}return!0}},5497:(o,l,c)=>{var u=c(8260);o.exports=function(d){if(u(d)!=="TopologyDescription")return!1;var A=Array.from(d.servers.values());return A.length>0&&A.every(function(f){return f.error&&f.error.message.indexOf("Client network socket disconnected before secure TLS connection was established")!==-1})}},5510:(o,l,c)=>{function u(f){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},u(f)}var d=typeof Symbol<"u"&&Symbol,A=c(5484);o.exports=function(){return typeof d=="function"&&typeof Symbol=="function"&&u(d("foo"))==="symbol"&&u(Symbol("bar"))==="symbol"&&A()}},5537:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}function d(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!p})()}function A(p){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A(p)}function f(p,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},f(p,m)}var h=function(p){function m(b,y){return function(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}(this,m),function(x,v,w){return v=A(v),function(_,B){if(B&&(u(B)=="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(_)}(x,d()?Reflect.construct(v,w||[],A(x).constructor):v.apply(x,w))}(this,m,['Cannot create use schema for property "'.concat(b,'" because the schema has the ').concat(y," option enabled.")])}return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),y&&f(b,y)}(m,p),g=m,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(c(8213));Object.defineProperty(h.prototype,"name",{value:"InvalidSchemaOptionError"}),o.exports=h},5549:(o,l,c)=>{var u=c(6353).ObjectId,d=c(7930).objectIdSymbol;Object.defineProperty(u.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}),u.prototype.hasOwnProperty("valueOf")||(u.prototype.valueOf=function(){return this.toString()}),u.prototype[d]=!0,o.exports=u},5558:(o,l,c)=>{var u=c(3660);function d(A){return u.cast()(A)}l.G=d,l.p=function A(f,h){f.forEach(function(p,m){Array.isArray(p)?A(p,h):f[m]=d.call(h,p)})}},5678:(o,l,c)=>{o.exports=c(2914)},5761:o=>{o.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})},5782:o=>{function l(c,u){(u==null||u>c.length)&&(u=c.length);for(var d=0,A=Array(u);d<u;d++)A[d]=c[d];return A}o.exports=function(c,u,d){if(c.length===0)return d();var A,f=c.length,h=null,p=function(m,g){var b=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!b){if(Array.isArray(m)||(b=function(B,N){if(B){if(typeof B=="string")return l(B,N);var j={}.toString.call(B).slice(8,-1);return j==="Object"&&B.constructor&&(j=B.constructor.name),j==="Map"||j==="Set"?Array.from(B):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?l(B,N):void 0}}(m))||g){b&&(m=b);var y=0,x=function(){};return{s:x,n:function(){return y>=m.length?{done:!0}:{done:!1,value:m[y++]}},e:function(B){throw B},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,w=!0,_=!1;return{s:function(){b=b.call(m)},n:function(){var B=b.next();return w=B.done,B},e:function(B){_=!0,v=B},f:function(){try{w||b.return==null||b.return()}finally{if(_)throw v}}}}(c);try{for(p.s();!(A=p.n()).done;)u(A.value,function(m){if(h==null)return m!=null?d(h=m):--f<=0?d():void 0})}catch(m){p.e(m)}finally{p.f()}}},5804:(o,l,c)=>{var u=c(2354),d=c(3279),A=c(5477);o.exports=function(){return A(u,d,arguments)}},5807:o=>{o.exports=Object.getOwnPropertyDescriptor},5825:(o,l,c)=>{var u=c(8093);o.exports=u.getPrototypeOf||null},5832:(o,l,c)=>{function u(X){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},u(X)}var d=c(6775),A=c(2486),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.hp=m,l.IS=50;var h=2147483647;function p(X){if(X>h)throw new RangeError('The value "'+X+'" is invalid for option "size"');var ie=new Uint8Array(X);return Object.setPrototypeOf(ie,m.prototype),ie}function m(X,ie,re){if(typeof X=="number"){if(typeof ie=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(X)}return g(X,ie,re)}function g(X,ie,re){if(typeof X=="string")return function(Ce,we){if(typeof we=="string"&&we!==""||(we="utf8"),!m.isEncoding(we))throw new TypeError("Unknown encoding: "+we);var oe=0|_(Ce,we),pe=p(oe),je=pe.write(Ce,we);return je!==oe&&(pe=pe.slice(0,je)),pe}(X,ie);if(ArrayBuffer.isView(X))return function(Ce){if(de(Ce,Uint8Array)){var we=new Uint8Array(Ce);return v(we.buffer,we.byteOffset,we.byteLength)}return x(Ce)}(X);if(X==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(X));if(de(X,ArrayBuffer)||X&&de(X.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(de(X,SharedArrayBuffer)||X&&de(X.buffer,SharedArrayBuffer)))return v(X,ie,re);if(typeof X=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ve=X.valueOf&&X.valueOf();if(ve!=null&&ve!==X)return m.from(ve,ie,re);var ke=function(Ce){if(m.isBuffer(Ce)){var we=0|w(Ce.length),oe=p(we);return oe.length===0||Ce.copy(oe,0,0,we),oe}return Ce.length!==void 0?typeof Ce.length!="number"||ae(Ce.length)?p(0):x(Ce):Ce.type==="Buffer"&&Array.isArray(Ce.data)?x(Ce.data):void 0}(X);if(ke)return ke;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof X[Symbol.toPrimitive]=="function")return m.from(X[Symbol.toPrimitive]("string"),ie,re);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(X))}function b(X){if(typeof X!="number")throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function y(X){return b(X),p(X<0?0:0|w(X))}function x(X){for(var ie=X.length<0?0:0|w(X.length),re=p(ie),ve=0;ve<ie;ve+=1)re[ve]=255&X[ve];return re}function v(X,ie,re){if(ie<0||X.byteLength<ie)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<ie+(re||0))throw new RangeError('"length" is outside of buffer bounds');var ve;return ve=ie===void 0&&re===void 0?new Uint8Array(X):re===void 0?new Uint8Array(X,ie):new Uint8Array(X,ie,re),Object.setPrototypeOf(ve,m.prototype),ve}function w(X){if(X>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|X}function _(X,ie){if(m.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||de(X,ArrayBuffer))return X.byteLength;if(typeof X!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(X));var re=X.length,ve=arguments.length>2&&arguments[2]===!0;if(!ve&&re===0)return 0;for(var ke=!1;;)switch(ie){case"ascii":case"latin1":case"binary":return re;case"utf8":case"utf-8":return J(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*re;case"hex":return re>>>1;case"base64":return ee(X).length;default:if(ke)return ve?-1:J(X).length;ie=(""+ie).toLowerCase(),ke=!0}}function B(X,ie,re){var ve=!1;if((ie===void 0||ie<0)&&(ie=0),ie>this.length||((re===void 0||re>this.length)&&(re=this.length),re<=0)||(re>>>=0)<=(ie>>>=0))return"";for(X||(X="utf8");;)switch(X){case"hex":return V(this,ie,re);case"utf8":case"utf-8":return F(this,ie,re);case"ascii":return K(this,ie,re);case"latin1":case"binary":return Y(this,ie,re);case"base64":return H(this,ie,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,ie,re);default:if(ve)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),ve=!0}}function N(X,ie,re){var ve=X[ie];X[ie]=X[re],X[re]=ve}function j(X,ie,re,ve,ke){if(X.length===0)return-1;if(typeof re=="string"?(ve=re,re=0):re>2147483647?re=2147483647:re<-2147483648&&(re=-2147483648),ae(re=+re)&&(re=ke?0:X.length-1),re<0&&(re=X.length+re),re>=X.length){if(ke)return-1;re=X.length-1}else if(re<0){if(!ke)return-1;re=0}if(typeof ie=="string"&&(ie=m.from(ie,ve)),m.isBuffer(ie))return ie.length===0?-1:C(X,ie,re,ve,ke);if(typeof ie=="number")return ie&=255,typeof Uint8Array.prototype.indexOf=="function"?ke?Uint8Array.prototype.indexOf.call(X,ie,re):Uint8Array.prototype.lastIndexOf.call(X,ie,re):C(X,[ie],re,ve,ke);throw new TypeError("val must be string, number or Buffer")}function C(X,ie,re,ve,ke){var Ce,we=1,oe=X.length,pe=ie.length;if(ve!==void 0&&((ve=String(ve).toLowerCase())==="ucs2"||ve==="ucs-2"||ve==="utf16le"||ve==="utf-16le")){if(X.length<2||ie.length<2)return-1;we=2,oe/=2,pe/=2,re/=2}function je(qe,Qe){return we===1?qe[Qe]:qe.readUInt16BE(Qe*we)}if(ke){var Te=-1;for(Ce=re;Ce<oe;Ce++)if(je(X,Ce)===je(ie,Te===-1?0:Ce-Te)){if(Te===-1&&(Te=Ce),Ce-Te+1===pe)return Te*we}else Te!==-1&&(Ce-=Ce-Te),Te=-1}else for(re+pe>oe&&(re=oe-pe),Ce=re;Ce>=0;Ce--){for(var be=!0,De=0;De<pe;De++)if(je(X,Ce+De)!==je(ie,De)){be=!1;break}if(be)return Ce}return-1}function E(X,ie,re,ve){re=Number(re)||0;var ke=X.length-re;ve?(ve=Number(ve))>ke&&(ve=ke):ve=ke;var Ce=ie.length;ve>Ce/2&&(ve=Ce/2);for(var we=0;we<ve;++we){var oe=parseInt(ie.substr(2*we,2),16);if(ae(oe))return we;X[re+we]=oe}return we}function S(X,ie,re,ve){return fe(J(ie,X.length-re),X,re,ve)}function k(X,ie,re,ve){return fe(function(ke){for(var Ce=[],we=0;we<ke.length;++we)Ce.push(255&ke.charCodeAt(we));return Ce}(ie),X,re,ve)}function P(X,ie,re,ve){return fe(ee(ie),X,re,ve)}function M(X,ie,re,ve){return fe(function(ke,Ce){for(var we,oe,pe,je=[],Te=0;Te<ke.length&&!((Ce-=2)<0);++Te)oe=(we=ke.charCodeAt(Te))>>8,pe=we%256,je.push(pe),je.push(oe);return je}(ie,X.length-re),X,re,ve)}function H(X,ie,re){return ie===0&&re===X.length?d.fromByteArray(X):d.fromByteArray(X.slice(ie,re))}function F(X,ie,re){re=Math.min(X.length,re);for(var ve=[],ke=ie;ke<re;){var Ce,we,oe,pe,je=X[ke],Te=null,be=je>239?4:je>223?3:je>191?2:1;if(ke+be<=re)switch(be){case 1:je<128&&(Te=je);break;case 2:(192&(Ce=X[ke+1]))==128&&(pe=(31&je)<<6|63&Ce)>127&&(Te=pe);break;case 3:Ce=X[ke+1],we=X[ke+2],(192&Ce)==128&&(192&we)==128&&(pe=(15&je)<<12|(63&Ce)<<6|63&we)>2047&&(pe<55296||pe>57343)&&(Te=pe);break;case 4:Ce=X[ke+1],we=X[ke+2],oe=X[ke+3],(192&Ce)==128&&(192&we)==128&&(192&oe)==128&&(pe=(15&je)<<18|(63&Ce)<<12|(63&we)<<6|63&oe)>65535&&pe<1114112&&(Te=pe)}Te===null?(Te=65533,be=1):Te>65535&&(Te-=65536,ve.push(Te>>>10&1023|55296),Te=56320|1023&Te),ve.push(Te),ke+=be}return function(De){var qe=De.length;if(qe<=Q)return String.fromCharCode.apply(String,De);for(var Qe="",Re=0;Re<qe;)Qe+=String.fromCharCode.apply(String,De.slice(Re,Re+=Q));return Qe}(ve)}m.TYPED_ARRAY_SUPPORT=function(){try{var X=new Uint8Array(1),ie={foo:function(){return 42}};return Object.setPrototypeOf(ie,Uint8Array.prototype),Object.setPrototypeOf(X,ie),X.foo()===42}catch{return!1}}(),m.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}}),m.poolSize=8192,m.from=function(X,ie,re){return g(X,ie,re)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array),m.alloc=function(X,ie,re){return function(ve,ke,Ce){return b(ve),ve<=0?p(ve):ke!==void 0?typeof Ce=="string"?p(ve).fill(ke,Ce):p(ve).fill(ke):p(ve)}(X,ie,re)},m.allocUnsafe=function(X){return y(X)},m.allocUnsafeSlow=function(X){return y(X)},m.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==m.prototype},m.compare=function(X,ie){if(de(X,Uint8Array)&&(X=m.from(X,X.offset,X.byteLength)),de(ie,Uint8Array)&&(ie=m.from(ie,ie.offset,ie.byteLength)),!m.isBuffer(X)||!m.isBuffer(ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===ie)return 0;for(var re=X.length,ve=ie.length,ke=0,Ce=Math.min(re,ve);ke<Ce;++ke)if(X[ke]!==ie[ke]){re=X[ke],ve=ie[ke];break}return re<ve?-1:ve<re?1:0},m.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(X,ie){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return m.alloc(0);var re;if(ie===void 0)for(ie=0,re=0;re<X.length;++re)ie+=X[re].length;var ve=m.allocUnsafe(ie),ke=0;for(re=0;re<X.length;++re){var Ce=X[re];if(de(Ce,Uint8Array))ke+Ce.length>ve.length?m.from(Ce).copy(ve,ke):Uint8Array.prototype.set.call(ve,Ce,ke);else{if(!m.isBuffer(Ce))throw new TypeError('"list" argument must be an Array of Buffers');Ce.copy(ve,ke)}ke+=Ce.length}return ve},m.byteLength=_,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var X=this.length;if(X%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ie=0;ie<X;ie+=2)N(this,ie,ie+1);return this},m.prototype.swap32=function(){var X=this.length;if(X%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ie=0;ie<X;ie+=4)N(this,ie,ie+3),N(this,ie+1,ie+2);return this},m.prototype.swap64=function(){var X=this.length;if(X%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ie=0;ie<X;ie+=8)N(this,ie,ie+7),N(this,ie+1,ie+6),N(this,ie+2,ie+5),N(this,ie+3,ie+4);return this},m.prototype.toString=function(){var X=this.length;return X===0?"":arguments.length===0?F(this,0,X):B.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(X){if(!m.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X||m.compare(this,X)===0},m.prototype.inspect=function(){var X="",ie=l.IS;return X=this.toString("hex",0,ie).replace(/(.{2})/g,"$1 ").trim(),this.length>ie&&(X+=" ... "),"<Buffer "+X+">"},f&&(m.prototype[f]=m.prototype.inspect),m.prototype.compare=function(X,ie,re,ve,ke){if(de(X,Uint8Array)&&(X=m.from(X,X.offset,X.byteLength)),!m.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(X));if(ie===void 0&&(ie=0),re===void 0&&(re=X?X.length:0),ve===void 0&&(ve=0),ke===void 0&&(ke=this.length),ie<0||re>X.length||ve<0||ke>this.length)throw new RangeError("out of range index");if(ve>=ke&&ie>=re)return 0;if(ve>=ke)return-1;if(ie>=re)return 1;if(this===X)return 0;for(var Ce=(ke>>>=0)-(ve>>>=0),we=(re>>>=0)-(ie>>>=0),oe=Math.min(Ce,we),pe=this.slice(ve,ke),je=X.slice(ie,re),Te=0;Te<oe;++Te)if(pe[Te]!==je[Te]){Ce=pe[Te],we=je[Te];break}return Ce<we?-1:we<Ce?1:0},m.prototype.includes=function(X,ie,re){return this.indexOf(X,ie,re)!==-1},m.prototype.indexOf=function(X,ie,re){return j(this,X,ie,re,!0)},m.prototype.lastIndexOf=function(X,ie,re){return j(this,X,ie,re,!1)},m.prototype.write=function(X,ie,re,ve){if(ie===void 0)ve="utf8",re=this.length,ie=0;else if(re===void 0&&typeof ie=="string")ve=ie,re=this.length,ie=0;else{if(!isFinite(ie))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ie>>>=0,isFinite(re)?(re>>>=0,ve===void 0&&(ve="utf8")):(ve=re,re=void 0)}var ke=this.length-ie;if((re===void 0||re>ke)&&(re=ke),X.length>0&&(re<0||ie<0)||ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");for(var Ce=!1;;)switch(ve){case"hex":return E(this,X,ie,re);case"utf8":case"utf-8":return S(this,X,ie,re);case"ascii":case"latin1":case"binary":return k(this,X,ie,re);case"base64":return P(this,X,ie,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,X,ie,re);default:if(Ce)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),Ce=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;function K(X,ie,re){var ve="";re=Math.min(X.length,re);for(var ke=ie;ke<re;++ke)ve+=String.fromCharCode(127&X[ke]);return ve}function Y(X,ie,re){var ve="";re=Math.min(X.length,re);for(var ke=ie;ke<re;++ke)ve+=String.fromCharCode(X[ke]);return ve}function V(X,ie,re){var ve=X.length;(!ie||ie<0)&&(ie=0),(!re||re<0||re>ve)&&(re=ve);for(var ke="",Ce=ie;Ce<re;++Ce)ke+=xe[X[Ce]];return ke}function I(X,ie,re){for(var ve=X.slice(ie,re),ke="",Ce=0;Ce<ve.length-1;Ce+=2)ke+=String.fromCharCode(ve[Ce]+256*ve[Ce+1]);return ke}function O(X,ie,re){if(X%1!=0||X<0)throw new RangeError("offset is not uint");if(X+ie>re)throw new RangeError("Trying to access beyond buffer length")}function R(X,ie,re,ve,ke,Ce){if(!m.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(ie>ke||ie<Ce)throw new RangeError('"value" argument is out of bounds');if(re+ve>X.length)throw new RangeError("Index out of range")}function U(X,ie,re,ve,ke,Ce){if(re+ve>X.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("Index out of range")}function T(X,ie,re,ve,ke){return ie=+ie,re>>>=0,ke||U(X,0,re,4),A.write(X,ie,re,ve,23,4),re+4}function z(X,ie,re,ve,ke){return ie=+ie,re>>>=0,ke||U(X,0,re,8),A.write(X,ie,re,ve,52,8),re+8}m.prototype.slice=function(X,ie){var re=this.length;(X=~~X)<0?(X+=re)<0&&(X=0):X>re&&(X=re),(ie=ie===void 0?re:~~ie)<0?(ie+=re)<0&&(ie=0):ie>re&&(ie=re),ie<X&&(ie=X);var ve=this.subarray(X,ie);return Object.setPrototypeOf(ve,m.prototype),ve},m.prototype.readUintLE=m.prototype.readUIntLE=function(X,ie,re){X>>>=0,ie>>>=0,re||O(X,ie,this.length);for(var ve=this[X],ke=1,Ce=0;++Ce<ie&&(ke*=256);)ve+=this[X+Ce]*ke;return ve},m.prototype.readUintBE=m.prototype.readUIntBE=function(X,ie,re){X>>>=0,ie>>>=0,re||O(X,ie,this.length);for(var ve=this[X+--ie],ke=1;ie>0&&(ke*=256);)ve+=this[X+--ie]*ke;return ve},m.prototype.readUint8=m.prototype.readUInt8=function(X,ie){return X>>>=0,ie||O(X,1,this.length),this[X]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(X,ie){return X>>>=0,ie||O(X,2,this.length),this[X]|this[X+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(X,ie){return X>>>=0,ie||O(X,2,this.length),this[X]<<8|this[X+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(X,ie){return X>>>=0,ie||O(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+16777216*this[X+3]},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(X,ie){return X>>>=0,ie||O(X,4,this.length),16777216*this[X]+(this[X+1]<<16|this[X+2]<<8|this[X+3])},m.prototype.readIntLE=function(X,ie,re){X>>>=0,ie>>>=0,re||O(X,ie,this.length);for(var ve=this[X],ke=1,Ce=0;++Ce<ie&&(ke*=256);)ve+=this[X+Ce]*ke;return ve>=(ke*=128)&&(ve-=Math.pow(2,8*ie)),ve},m.prototype.readIntBE=function(X,ie,re){X>>>=0,ie>>>=0,re||O(X,ie,this.length);for(var ve=ie,ke=1,Ce=this[X+--ve];ve>0&&(ke*=256);)Ce+=this[X+--ve]*ke;return Ce>=(ke*=128)&&(Ce-=Math.pow(2,8*ie)),Ce},m.prototype.readInt8=function(X,ie){return X>>>=0,ie||O(X,1,this.length),128&this[X]?-1*(255-this[X]+1):this[X]},m.prototype.readInt16LE=function(X,ie){X>>>=0,ie||O(X,2,this.length);var re=this[X]|this[X+1]<<8;return 32768&re?4294901760|re:re},m.prototype.readInt16BE=function(X,ie){X>>>=0,ie||O(X,2,this.length);var re=this[X+1]|this[X]<<8;return 32768&re?4294901760|re:re},m.prototype.readInt32LE=function(X,ie){return X>>>=0,ie||O(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},m.prototype.readInt32BE=function(X,ie){return X>>>=0,ie||O(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},m.prototype.readFloatLE=function(X,ie){return X>>>=0,ie||O(X,4,this.length),A.read(this,X,!0,23,4)},m.prototype.readFloatBE=function(X,ie){return X>>>=0,ie||O(X,4,this.length),A.read(this,X,!1,23,4)},m.prototype.readDoubleLE=function(X,ie){return X>>>=0,ie||O(X,8,this.length),A.read(this,X,!0,52,8)},m.prototype.readDoubleBE=function(X,ie){return X>>>=0,ie||O(X,8,this.length),A.read(this,X,!1,52,8)},m.prototype.writeUintLE=m.prototype.writeUIntLE=function(X,ie,re,ve){X=+X,ie>>>=0,re>>>=0,ve||R(this,X,ie,re,Math.pow(2,8*re)-1,0);var ke=1,Ce=0;for(this[ie]=255&X;++Ce<re&&(ke*=256);)this[ie+Ce]=X/ke&255;return ie+re},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(X,ie,re,ve){X=+X,ie>>>=0,re>>>=0,ve||R(this,X,ie,re,Math.pow(2,8*re)-1,0);var ke=re-1,Ce=1;for(this[ie+ke]=255&X;--ke>=0&&(Ce*=256);)this[ie+ke]=X/Ce&255;return ie+re},m.prototype.writeUint8=m.prototype.writeUInt8=function(X,ie,re){return X=+X,ie>>>=0,re||R(this,X,ie,1,255,0),this[ie]=255&X,ie+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(X,ie,re){return X=+X,ie>>>=0,re||R(this,X,ie,2,65535,0),this[ie]=255&X,this[ie+1]=X>>>8,ie+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(X,ie,re){return X=+X,ie>>>=0,re||R(this,X,ie,2,65535,0),this[ie]=X>>>8,this[ie+1]=255&X,ie+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(X,ie,re){return X=+X,ie>>>=0,re||R(this,X,ie,4,4294967295,0),this[ie+3]=X>>>24,this[ie+2]=X>>>16,this[ie+1]=X>>>8,this[ie]=255&X,ie+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(X,ie,re){return X=+X,ie>>>=0,re||R(this,X,ie,4,4294967295,0),this[ie]=X>>>24,this[ie+1]=X>>>16,this[ie+2]=X>>>8,this[ie+3]=255&X,ie+4},m.prototype.writeIntLE=function(X,ie,re,ve){if(X=+X,ie>>>=0,!ve){var ke=Math.pow(2,8*re-1);R(this,X,ie,re,ke-1,-ke)}var Ce=0,we=1,oe=0;for(this[ie]=255&X;++Ce<re&&(we*=256);)X<0&&oe===0&&this[ie+Ce-1]!==0&&(oe=1),this[ie+Ce]=(X/we|0)-oe&255;return ie+re},m.prototype.writeIntBE=function(X,ie,re,ve){if(X=+X,ie>>>=0,!ve){var ke=Math.pow(2,8*re-1);R(this,X,ie,re,ke-1,-ke)}var Ce=re-1,we=1,oe=0;for(this[ie+Ce]=255&X;--Ce>=0&&(we*=256);)X<0&&oe===0&&this[ie+Ce+1]!==0&&(oe=1),this[ie+Ce]=(X/we|0)-oe&255;return ie+re},m.prototype.writeInt8=function(X,ie,re){return X=+X,ie>>>=0,re||R(this,X,ie,1,127,-128),X<0&&(X=255+X+1),this[ie]=255&X,ie+1},m.prototype.writeInt16LE=function(X,ie,re){return X=+X,ie>>>=0,re||R(this,X,ie,2,32767,-32768),this[ie]=255&X,this[ie+1]=X>>>8,ie+2},m.prototype.writeInt16BE=function(X,ie,re){return X=+X,ie>>>=0,re||R(this,X,ie,2,32767,-32768),this[ie]=X>>>8,this[ie+1]=255&X,ie+2},m.prototype.writeInt32LE=function(X,ie,re){return X=+X,ie>>>=0,re||R(this,X,ie,4,2147483647,-2147483648),this[ie]=255&X,this[ie+1]=X>>>8,this[ie+2]=X>>>16,this[ie+3]=X>>>24,ie+4},m.prototype.writeInt32BE=function(X,ie,re){return X=+X,ie>>>=0,re||R(this,X,ie,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[ie]=X>>>24,this[ie+1]=X>>>16,this[ie+2]=X>>>8,this[ie+3]=255&X,ie+4},m.prototype.writeFloatLE=function(X,ie,re){return T(this,X,ie,!0,re)},m.prototype.writeFloatBE=function(X,ie,re){return T(this,X,ie,!1,re)},m.prototype.writeDoubleLE=function(X,ie,re){return z(this,X,ie,!0,re)},m.prototype.writeDoubleBE=function(X,ie,re){return z(this,X,ie,!1,re)},m.prototype.copy=function(X,ie,re,ve){if(!m.isBuffer(X))throw new TypeError("argument should be a Buffer");if(re||(re=0),ve||ve===0||(ve=this.length),ie>=X.length&&(ie=X.length),ie||(ie=0),ve>0&&ve<re&&(ve=re),ve===re||X.length===0||this.length===0)return 0;if(ie<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),X.length-ie<ve-re&&(ve=X.length-ie+re);var ke=ve-re;return this===X&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ie,re,ve):Uint8Array.prototype.set.call(X,this.subarray(re,ve),ie),ke},m.prototype.fill=function(X,ie,re,ve){if(typeof X=="string"){if(typeof ie=="string"?(ve=ie,ie=0,re=this.length):typeof re=="string"&&(ve=re,re=this.length),ve!==void 0&&typeof ve!="string")throw new TypeError("encoding must be a string");if(typeof ve=="string"&&!m.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);if(X.length===1){var ke=X.charCodeAt(0);(ve==="utf8"&&ke<128||ve==="latin1")&&(X=ke)}}else typeof X=="number"?X&=255:typeof X=="boolean"&&(X=Number(X));if(ie<0||this.length<ie||this.length<re)throw new RangeError("Out of range index");if(re<=ie)return this;var Ce;if(ie>>>=0,re=re===void 0?this.length:re>>>0,X||(X=0),typeof X=="number")for(Ce=ie;Ce<re;++Ce)this[Ce]=X;else{var we=m.isBuffer(X)?X:m.from(X,ve),oe=we.length;if(oe===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(Ce=0;Ce<re-ie;++Ce)this[Ce+ie]=we[Ce%oe]}return this};var G=/[^+/0-9A-Za-z-_]/g;function J(X,ie){var re;ie=ie||1/0;for(var ve=X.length,ke=null,Ce=[],we=0;we<ve;++we){if((re=X.charCodeAt(we))>55295&&re<57344){if(!ke){if(re>56319){(ie-=3)>-1&&Ce.push(239,191,189);continue}if(we+1===ve){(ie-=3)>-1&&Ce.push(239,191,189);continue}ke=re;continue}if(re<56320){(ie-=3)>-1&&Ce.push(239,191,189),ke=re;continue}re=65536+(ke-55296<<10|re-56320)}else ke&&(ie-=3)>-1&&Ce.push(239,191,189);if(ke=null,re<128){if((ie-=1)<0)break;Ce.push(re)}else if(re<2048){if((ie-=2)<0)break;Ce.push(re>>6|192,63&re|128)}else if(re<65536){if((ie-=3)<0)break;Ce.push(re>>12|224,re>>6&63|128,63&re|128)}else{if(!(re<1114112))throw new Error("Invalid code point");if((ie-=4)<0)break;Ce.push(re>>18|240,re>>12&63|128,re>>6&63|128,63&re|128)}}return Ce}function ee(X){return d.toByteArray(function(ie){if((ie=(ie=ie.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;ie.length%4!=0;)ie+="=";return ie}(X))}function fe(X,ie,re,ve){for(var ke=0;ke<ve&&!(ke+re>=ie.length||ke>=X.length);++ke)ie[ke+re]=X[ke];return ke}function de(X,ie){return X instanceof ie||X!=null&&X.constructor!=null&&X.constructor.name!=null&&X.constructor.name===ie.name}function ae(X){return X!=X}var xe=function(){for(var X="0123456789abcdef",ie=new Array(256),re=0;re<16;++re)for(var ve=16*re,ke=0;ke<16;++ke)ie[ve+ke]=X[re]+X[ke];return ie}()},5889:(o,l,c)=>{function u(g,b){var y=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!y){if(Array.isArray(g)||(y=d(g))||b){y&&(g=y);var x=0,v=function(){};return{s:v,n:function(){return x>=g.length?{done:!0}:{done:!1,value:g[x++]}},e:function(N){throw N},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w,_=!0,B=!1;return{s:function(){y=y.call(g)},n:function(){var N=y.next();return _=N.done,N},e:function(N){B=!0,w=N},f:function(){try{_||y.return==null||y.return()}finally{if(B)throw w}}}}function d(g,b){if(g){if(typeof g=="string")return A(g,b);var y={}.toString.call(g).slice(8,-1);return y==="Object"&&g.constructor&&(y=g.constructor.name),y==="Map"||y==="Set"?Array.from(g):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?A(g,b):void 0}}function A(g,b){(b==null||b>g.length)&&(b=g.length);for(var y=0,x=Array(b);y<b;y++)x[y]=g[y];return x}var f=c(7930).arrayAtomicsSymbol,h=c(7930).sessionNewDocuments,p=c(8768);function m(g,b){return g=g||{},b.$pullAll!=null&&(g.$pullAll=(g.$pullAll||[]).concat(b.$pullAll)),b.$push!=null&&(g.$push=g.$push||{},g.$push.$each=(g.$push.$each||[]).concat(b.$push.$each)),b.$addToSet!=null&&(g.$addToSet=(g.$addToSet||[]).concat(b.$addToSet)),b.$set!=null&&(g.$set=Array.isArray(b.$set)?function(x){if(Array.isArray(x))return A(x)}(y=b.$set)||function(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(y)||d(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}():Object.assign({},b.$set)),g;var y}o.exports=function(g){g.pre("save",function(){var b=this.$session();if(b!=null&&b.transaction!=null&&b[h]!=null&&!b[h].has(this)){var y={};this.isNew&&(y.isNew=!0),this.$__schema.options.versionKey&&(y.versionKey=this.get(this.$__schema.options.versionKey)),y.modifiedPaths=new Set(Object.keys(this.$__.activePaths.getStatePaths("modify"))),y.atomics=function(x,v){var w=new Map;v=v||new Map;var _,B=u(Object.keys(x.$__.activePaths.init).concat(Object.keys(x.$__.activePaths.modify)));try{for(B.s();!(_=B.n()).done;){var N=_.value,j=x.$__getValue(N);if(j!=null&&Array.isArray(j)&&p.isMongooseDocumentArray(j)&&j.length&&j[f]!=null&&Object.keys(j[f]).length!==0){var C=v.get(N)||{};w.set(N,m(C,j[f]))}}}catch(F){B.e(F)}finally{B.f()}var E,S=u(x.$__dirty());try{for(S.s();!(E=S.n()).done;){var k=E.value,P=k.path,M=k.value;if(M!=null&&M[f]!=null&&Object.keys(M[f]).length!==0){var H=v.get(P)||{};w.set(P,m(H,M[f]))}}}catch(F){S.e(F)}finally{S.f()}return w}(this),b[h].set(this,y)}})}},5899:(o,l,c)=>{function u(m){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(m)}var d=c(953)(),A=c(3071)("Object.prototype.toString"),f=function(m){return!(d&&m&&u(m)==="object"&&Symbol.toStringTag in m)&&A(m)==="[object Arguments]"},h=function(m){return!!f(m)||m!==null&&u(m)==="object"&&"length"in m&&typeof m.length=="number"&&m.length>=0&&A(m)!=="[object Array]"&&"callee"in m&&A(m.callee)==="[object Function]"},p=function(){return f(arguments)}();f.isLegacyArguments=h,o.exports=p?f:h},5994:(o,l,c)=>{var u=Function.prototype.call,d=Object.prototype.hasOwnProperty,A=c(2354);o.exports=A.call(u,d)},6062:(o,l,c)=>{var u=c(9122),d=c(2273),A=c(118),f=c(4183),h=c(7878),p=u(f(),Number);d(p,{getPolyfill:f,implementation:A,shim:h}),o.exports=p},6140:o=>{function l(c,u,d){return Object.defineProperty(c,"prototype",{writable:!1}),c}o.exports=l(function c(u,d,A){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,c),this.subdocSnapshot=u,this.activePaths=d,this.version=A})},6155:o=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(c)}o.exports=function(c){for(var u=Object.keys(c),d=!0,A=0,f=u.length;A<f;++A)if(l(c[u[A]])==="object"&&c[u[A]]!==null){d=!1;break}return d}},6182:o=>{function l(c,u){if(c==null)throw new TypeError("Cannot convert first argument to object");for(var d=Object(c),A=1;A<arguments.length;A++){var f=arguments[A];if(f!=null)for(var h=Object.keys(Object(f)),p=0,m=h.length;p<m;p++){var g=h[p],b=Object.getOwnPropertyDescriptor(f,g);b!==void 0&&b.enumerable&&(d[g]=f[g])}}return d}o.exports={assign:l,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:l})}}},6193:(o,l,c)=>{function u(ae){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},u(ae)}function d(ae,xe){return function(X){if(Array.isArray(X))return X}(ae)||function(X,ie){var re=[],ve=!0,ke=!1,Ce=void 0;try{for(var we,oe=X[Symbol.iterator]();!(ve=(we=oe.next()).done)&&(re.push(we.value),!ie||re.length!==ie);ve=!0);}catch(pe){ke=!0,Ce=pe}finally{try{ve||oe.return==null||oe.return()}finally{if(ke)throw Ce}}return re}(ae,xe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function A(ae){return A=typeof Symbol=="function"&&u(Symbol.iterator)==="symbol"?function(xe){return u(xe)}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":u(xe)},A(ae)}var f=/a/g.flags!==void 0,h=function(ae){var xe=[];return ae.forEach(function(X){return xe.push(X)}),xe},p=function(ae){var xe=[];return ae.forEach(function(X,ie){return xe.push([ie,X])}),xe},m=Object.is?Object.is:c(2064),g=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},b=Number.isNaN?Number.isNaN:c(6062);function y(ae){return ae.call.bind(ae)}var x=y(Object.prototype.hasOwnProperty),v=y(Object.prototype.propertyIsEnumerable),w=y(Object.prototype.toString),_=c(7352).types,B=_.isAnyArrayBuffer,N=_.isArrayBufferView,j=_.isDate,C=_.isMap,E=_.isRegExp,S=_.isSet,k=_.isNativeError,P=_.isBoxedPrimitive,M=_.isNumberObject,H=_.isStringObject,F=_.isBooleanObject,Q=_.isBigIntObject,K=_.isSymbolObject,Y=_.isFloat32Array,V=_.isFloat64Array;function I(ae){if(ae.length===0||ae.length>10)return!0;for(var xe=0;xe<ae.length;xe++){var X=ae.charCodeAt(xe);if(X<48||X>57)return!0}return ae.length===10&&ae>=Math.pow(2,32)}function O(ae){return Object.keys(ae).filter(I).concat(g(ae).filter(Object.prototype.propertyIsEnumerable.bind(ae)))}function R(ae,xe){if(ae===xe)return 0;for(var X=ae.length,ie=xe.length,re=0,ve=Math.min(X,ie);re<ve;++re)if(ae[re]!==xe[re]){X=ae[re],ie=xe[re];break}return X<ie?-1:ie<X?1:0}function U(ae,xe,X,ie){if(ae===xe)return ae!==0||!X||m(ae,xe);if(X){if(A(ae)!=="object")return typeof ae=="number"&&b(ae)&&b(xe);if(A(xe)!=="object"||ae===null||xe===null||Object.getPrototypeOf(ae)!==Object.getPrototypeOf(xe))return!1}else{if(ae===null||A(ae)!=="object")return(xe===null||A(xe)!=="object")&&ae==xe;if(xe===null||A(xe)!=="object")return!1}var re,ve,ke,Ce,we=w(ae);if(we!==w(xe))return!1;if(Array.isArray(ae)){if(ae.length!==xe.length)return!1;var oe=O(ae),pe=O(xe);return oe.length===pe.length&&z(ae,xe,X,ie,1,oe)}if(we==="[object Object]"&&(!C(ae)&&C(xe)||!S(ae)&&S(xe)))return!1;if(j(ae)){if(!j(xe)||Date.prototype.getTime.call(ae)!==Date.prototype.getTime.call(xe))return!1}else if(E(ae)){if(!E(xe)||(ke=ae,Ce=xe,!(f?ke.source===Ce.source&&ke.flags===Ce.flags:RegExp.prototype.toString.call(ke)===RegExp.prototype.toString.call(Ce))))return!1}else if(k(ae)||ae instanceof Error){if(ae.message!==xe.message||ae.name!==xe.name)return!1}else{if(N(ae)){if(X||!Y(ae)&&!V(ae)){if(!function(be,De){return be.byteLength===De.byteLength&&R(new Uint8Array(be.buffer,be.byteOffset,be.byteLength),new Uint8Array(De.buffer,De.byteOffset,De.byteLength))===0}(ae,xe))return!1}else if(!function(be,De){if(be.byteLength!==De.byteLength)return!1;for(var qe=0;qe<be.byteLength;qe++)if(be[qe]!==De[qe])return!1;return!0}(ae,xe))return!1;var je=O(ae),Te=O(xe);return je.length===Te.length&&z(ae,xe,X,ie,0,je)}if(S(ae))return!(!S(xe)||ae.size!==xe.size)&&z(ae,xe,X,ie,2);if(C(ae))return!(!C(xe)||ae.size!==xe.size)&&z(ae,xe,X,ie,3);if(B(ae)){if(ve=xe,(re=ae).byteLength!==ve.byteLength||R(new Uint8Array(re),new Uint8Array(ve))!==0)return!1}else if(P(ae)&&!function(be,De){return M(be)?M(De)&&m(Number.prototype.valueOf.call(be),Number.prototype.valueOf.call(De)):H(be)?H(De)&&String.prototype.valueOf.call(be)===String.prototype.valueOf.call(De):F(be)?F(De)&&Boolean.prototype.valueOf.call(be)===Boolean.prototype.valueOf.call(De):Q(be)?Q(De)&&BigInt.prototype.valueOf.call(be)===BigInt.prototype.valueOf.call(De):K(De)&&Symbol.prototype.valueOf.call(be)===Symbol.prototype.valueOf.call(De)}(ae,xe))return!1}return z(ae,xe,X,ie,0)}function T(ae,xe){return xe.filter(function(X){return v(ae,X)})}function z(ae,xe,X,ie,re,ve){if(arguments.length===5){ve=Object.keys(ae);var ke=Object.keys(xe);if(ve.length!==ke.length)return!1}for(var Ce=0;Ce<ve.length;Ce++)if(!x(xe,ve[Ce]))return!1;if(X&&arguments.length===5){var we=g(ae);if(we.length!==0){var oe=0;for(Ce=0;Ce<we.length;Ce++){var pe=we[Ce];if(v(ae,pe)){if(!v(xe,pe))return!1;ve.push(pe),oe++}else if(v(xe,pe))return!1}var je=g(xe);if(we.length!==je.length&&T(xe,je).length!==oe)return!1}else{var Te=g(xe);if(Te.length!==0&&T(xe,Te).length!==0)return!1}}if(ve.length===0&&(re===0||re===1&&ae.length===0||ae.size===0))return!0;if(ie===void 0)ie={val1:new Map,val2:new Map,position:0};else{var be=ie.val1.get(ae);if(be!==void 0){var De=ie.val2.get(xe);if(De!==void 0)return be===De}ie.position++}ie.val1.set(ae,ie.position),ie.val2.set(xe,ie.position);var qe=function(Qe,Re,We,Me,ot,xt){var Ft=0;if(xt===2){if(!function(Pt,ur,Ht,lr){for(var sr=null,Kt=h(Pt),Xe=0;Xe<Kt.length;Xe++){var ar=Kt[Xe];if(A(ar)==="object"&&ar!==null)sr===null&&(sr=new Set),sr.add(ar);else if(!ur.has(ar)){if(Ht||!ee(Pt,ur,ar))return!1;sr===null&&(sr=new Set),sr.add(ar)}}if(sr!==null){for(var rr=h(ur),Ke=0;Ke<rr.length;Ke++){var Tr=rr[Ke];if(A(Tr)==="object"&&Tr!==null){if(!G(sr,Tr,Ht,lr))return!1}else if(!Ht&&!Pt.has(Tr)&&!G(sr,Tr,Ht,lr))return!1}return sr.size===0}return!0}(Qe,Re,We,ot))return!1}else if(xt===3){if(!function(Pt,ur,Ht,lr){for(var sr=null,Kt=p(Pt),Xe=0;Xe<Kt.length;Xe++){var ar=d(Kt[Xe],2),rr=ar[0],Ke=ar[1];if(A(rr)==="object"&&rr!==null)sr===null&&(sr=new Set),sr.add(rr);else{var Tr=ur.get(rr);if(Tr===void 0&&!ur.has(rr)||!U(Ke,Tr,Ht,lr)){if(Ht||!fe(Pt,ur,rr,Ke,lr))return!1;sr===null&&(sr=new Set),sr.add(rr)}}}if(sr!==null){for(var Fn=p(ur),Wt=0;Wt<Fn.length;Wt++){var Or=d(Fn[Wt],2),Yr=(rr=Or[0],Or[1]);if(A(rr)==="object"&&rr!==null){if(!de(sr,Pt,rr,Yr,Ht,lr))return!1}else if(!(Ht||Pt.has(rr)&&U(Pt.get(rr),Yr,!1,lr)||de(sr,Pt,rr,Yr,!1,lr)))return!1}return sr.size===0}return!0}(Qe,Re,We,ot))return!1}else if(xt===1)for(;Ft<Qe.length;Ft++){if(!x(Qe,Ft)){if(x(Re,Ft))return!1;for(var nt=Object.keys(Qe);Ft<nt.length;Ft++){var At=nt[Ft];if(!x(Re,At)||!U(Qe[At],Re[At],We,ot))return!1}return nt.length===Object.keys(Re).length}if(!x(Re,Ft)||!U(Qe[Ft],Re[Ft],We,ot))return!1}for(Ft=0;Ft<Me.length;Ft++){var Rt=Me[Ft];if(!U(Qe[Rt],Re[Rt],We,ot))return!1}return!0}(ae,xe,X,ve,ie,re);return ie.val1.delete(ae),ie.val2.delete(xe),qe}function G(ae,xe,X,ie){for(var re=h(ae),ve=0;ve<re.length;ve++){var ke=re[ve];if(U(xe,ke,X,ie))return ae.delete(ke),!0}return!1}function J(ae){switch(A(ae)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":ae=+ae;case"number":if(b(ae))return!1}return!0}function ee(ae,xe,X){var ie=J(X);return ie??(xe.has(ie)&&!ae.has(ie))}function fe(ae,xe,X,ie,re){var ve=J(X);if(ve!=null)return ve;var ke=xe.get(ve);return!(ke===void 0&&!xe.has(ve)||!U(ie,ke,!1,re))&&!ae.has(ve)&&U(ie,ke,!1,re)}function de(ae,xe,X,ie,re,ve){for(var ke=h(ae),Ce=0;Ce<ke.length;Ce++){var we=ke[Ce];if(U(X,we,re,ve)&&U(ie,xe.get(we),re,ve))return ae.delete(we),!0}return!1}o.exports={isDeepEqual:function(ae,xe){return U(ae,xe,!1)},isDeepStrictEqual:function(ae,xe){return U(ae,xe,!0)}}},6223:o=>{var l=/\./g;o.exports=function(c){if(c.indexOf(".")===-1)return[c];for(var u=c.split(l),d=u.length,A=new Array(d),f="",h=0;h<d;++h)f+=f.length!==0?"."+u[h]:u[h],A[h]=f;return A}},6312:o=>{function l(u){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(u)}var c=Object.prototype.toString;o.exports=function(u){var d=c.call(u),A=d==="[object Arguments]";return A||(A=d!=="[object Array]"&&u!==null&&l(u)==="object"&&typeof u.length=="number"&&u.length>=0&&c.call(u.callee)==="[object Function]"),A}},6353:(o,l,c)=>{var Fo;c.r(l),c.d(l,{BSON:()=>xa,BSONError:()=>ae,BSONOffsetError:()=>ie,BSONRegExp:()=>st,BSONRuntimeError:()=>X,BSONSymbol:()=>dt,BSONType:()=>de,BSONValue:()=>De,BSONVersionError:()=>xe,Binary:()=>Me,Code:()=>At,DBRef:()=>Pt,Decimal128:()=>me,Double:()=>ye,EJSON:()=>In,Int32:()=>Be,Long:()=>Ke,MaxKey:()=>Oe,MinKey:()=>Le,ObjectId:()=>Ve,Timestamp:()=>It,UUID:()=>nt,calculateObjectSize:()=>Oo,deserialize:()=>dl,deserializeStream:()=>Mi,onDemand:()=>Vs,serialize:()=>ro,serializeWithBufferAndIndex:()=>Mc,setInternalBufferSize:()=>zs});var u=c(5832).hp;const d=(()=>{const se=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array.prototype),Symbol.toStringTag).get;return D=>se.call(D)})();function A(se){return d(se)==="Uint8Array"}function f(se){return typeof se=="object"&&se!=null&&Symbol.toStringTag in se&&(se[Symbol.toStringTag]==="ArrayBuffer"||se[Symbol.toStringTag]==="SharedArrayBuffer")}function h(se){return se instanceof RegExp||Object.prototype.toString.call(se)==="[object RegExp]"}function p(se){return typeof se=="object"&&se!=null&&Symbol.toStringTag in se&&se[Symbol.toStringTag]==="Map"}function m(se){return se instanceof Date||Object.prototype.toString.call(se)==="[object Date]"}function g(se,D){return JSON.stringify(se,(he,Ae)=>typeof Ae=="bigint"?{$numberLong:`${Ae}`}:p(Ae)?Object.fromEntries(Ae):Ae)}const b=6,y=Symbol.for("@@mdb.bson.version"),x=2147483647,v=-2147483648,w=Math.pow(2,63)-1,_=-Math.pow(2,63),B=Math.pow(2,53),N=-Math.pow(2,53),j=1,C=2,E=3,S=4,k=5,P=6,M=7,H=8,F=9,Q=10,K=11,Y=12,V=13,I=14,O=15,R=16,U=17,T=18,z=19,G=255,J=127,ee=0,fe=4,de=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});class ae extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(D,he){super(D,he)}static isBSONError(D){return D!=null&&typeof D=="object"&&"bsonError"in D&&D.bsonError===!0&&"name"in D&&"message"in D&&"stack"in D}}class xe extends ae{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${b}.x.x`)}}class X extends ae{get name(){return"BSONRuntimeError"}constructor(D){super(D)}}class ie extends ae{get name(){return"BSONOffsetError"}constructor(D,he,Ae){super(`${D}. offset: ${he}`,Ae),this.offset=he}}let re,ve;function ke(se,D,he,Ae){if(Ae){re??(re=new TextDecoder("utf8",{fatal:!0}));try{return re.decode(se.subarray(D,he))}catch($e){throw new ae("Invalid UTF-8 string in BSON document",{cause:$e})}}return ve??(ve=new TextDecoder("utf8",{fatal:!1})),ve.decode(se.subarray(D,he))}function Ce(se,D,he){if(se.length===0)return"";const Ae=he-D;if(Ae===0)return"";if(Ae>20)return null;if(Ae===1&&se[D]<128)return String.fromCharCode(se[D]);if(Ae===2&&se[D]<128&&se[D+1]<128)return String.fromCharCode(se[D])+String.fromCharCode(se[D+1]);if(Ae===3&&se[D]<128&&se[D+1]<128&&se[D+2]<128)return String.fromCharCode(se[D])+String.fromCharCode(se[D+1])+String.fromCharCode(se[D+2]);const $e=[];for(let Ge=D;Ge<he;Ge++){const gt=se[Ge];if(gt>127)return null;$e.push(gt)}return String.fromCharCode(...$e)}const we={toLocalBufferType(se){if(u.isBuffer(se))return se;if(ArrayBuffer.isView(se))return u.from(se.buffer,se.byteOffset,se.byteLength);const D=(se==null?void 0:se[Symbol.toStringTag])??Object.prototype.toString.call(se);if(D==="ArrayBuffer"||D==="SharedArrayBuffer"||D==="[object ArrayBuffer]"||D==="[object SharedArrayBuffer]")return u.from(se);throw new ae("Cannot create Buffer from the passed potentialBuffer.")},allocate:se=>u.alloc(se),allocateUnsafe:se=>u.allocUnsafe(se),equals:(se,D)=>we.toLocalBufferType(se).equals(D),fromNumberArray:se=>u.from(se),fromBase64:se=>u.from(se,"base64"),toBase64:se=>we.toLocalBufferType(se).toString("base64"),fromISO88591:se=>u.from(se,"binary"),toISO88591:se=>we.toLocalBufferType(se).toString("binary"),fromHex:se=>u.from(se,"hex"),toHex:se=>we.toLocalBufferType(se).toString("hex"),toUTF8(se,D,he,Ae){const $e=he-D<=20?Ce(se,D,he):null;if($e!=null)return $e;const Ge=we.toLocalBufferType(se).toString("utf8",D,he);if(Ae){for(let gt=0;gt<Ge.length;gt++)if(Ge.charCodeAt(gt)===65533){ke(se,D,he,!0);break}}return Ge},utf8ByteLength:se=>u.byteLength(se,"utf8"),encodeUTF8Into(se,D,he){const Ae=function($e,Ge,gt){if(Ge.length===0)return 0;if(Ge.length>25||$e.length-gt<Ge.length)return null;for(let ht=0,Ye=gt;ht<Ge.length;ht++,Ye++){const Gt=Ge.charCodeAt(ht);if(Gt>127)return null;$e[Ye]=Gt}return Ge.length}(se,D,he);return Ae??we.toLocalBufferType(se).write(D,he,void 0,"utf8")},randomBytes:function(se){return we.fromNumberArray(Array.from({length:se},()=>Math.floor(256*Math.random())))},swap32:se=>we.toLocalBufferType(se).swap32()};function oe(se){if(se<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${se}`);return Te.fromNumberArray(Array.from({length:se},()=>Math.floor(256*Math.random())))}const pe=(()=>{var D;const{crypto:se}=globalThis;if(se!=null&&typeof se.getRandomValues=="function")return he=>se.getRandomValues(Te.allocate(he));if(function(){const{navigator:he}=globalThis;return typeof he=="object"&&he.product==="ReactNative"}()){const{console:he}=globalThis;(D=he==null?void 0:he.warn)==null||D.call(he,"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return oe})(),je=/(\d|[a-f])/i,Te={toLocalBufferType(se){const D=(se==null?void 0:se[Symbol.toStringTag])??Object.prototype.toString.call(se);if(D==="Uint8Array")return se;if(ArrayBuffer.isView(se))return new Uint8Array(se.buffer.slice(se.byteOffset,se.byteOffset+se.byteLength));if(D==="ArrayBuffer"||D==="SharedArrayBuffer"||D==="[object ArrayBuffer]"||D==="[object SharedArrayBuffer]")return new Uint8Array(se);throw new ae("Cannot make a Uint8Array from passed potentialBuffer.")},allocate(se){if(typeof se!="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(se)}`);return new Uint8Array(se)},allocateUnsafe:se=>Te.allocate(se),equals(se,D){if(se.byteLength!==D.byteLength)return!1;for(let he=0;he<se.byteLength;he++)if(se[he]!==D[he])return!1;return!0},fromNumberArray:se=>Uint8Array.from(se),fromBase64:se=>Uint8Array.from(atob(se),D=>D.charCodeAt(0)),toBase64:se=>btoa(Te.toISO88591(se)),fromISO88591:se=>Uint8Array.from(se,D=>255&D.charCodeAt(0)),toISO88591:se=>Array.from(Uint16Array.from(se),D=>String.fromCharCode(D)).join(""),fromHex(se){const D=se.length%2==0?se:se.slice(0,se.length-1),he=[];for(let Ae=0;Ae<D.length;Ae+=2){const $e=D[Ae],Ge=D[Ae+1];if(!je.test($e)||!je.test(Ge))break;const gt=Number.parseInt(`${$e}${Ge}`,16);he.push(gt)}return Uint8Array.from(he)},toHex:se=>Array.from(se,D=>D.toString(16).padStart(2,"0")).join(""),toUTF8(se,D,he,Ae){const $e=he-D<=20?Ce(se,D,he):null;return $e??ke(se,D,he,Ae)},utf8ByteLength:se=>new TextEncoder().encode(se).byteLength,encodeUTF8Into(se,D,he){const Ae=new TextEncoder().encode(D);return se.set(Ae,he),Ae.byteLength},randomBytes:pe,swap32(se){if(se.length%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<se.length;D+=4){const he=se[D],Ae=se[D+1],$e=se[D+2],Ge=se[D+3];se[D]=Ge,se[D+1]=$e,se[D+2]=Ae,se[D+3]=he}return se}},be=typeof u=="function"&&((Fo=u.prototype)==null?void 0:Fo._isBuffer)!==!0?we:Te;class De{get[y](){return b}[Symbol.for("nodejs.util.inspect.custom")](D,he,Ae){return this.inspect(D,he,Ae)}}const qe=new Float64Array(1),Qe=new Uint8Array(qe.buffer,0,8);qe[0]=-1;const Re=Qe[7]===0,We={isBigEndian:Re,getNonnegativeInt32LE(se,D){if(se[D+3]>127)throw new RangeError(`Size cannot be negative at offset: ${D}`);return se[D]|se[D+1]<<8|se[D+2]<<16|se[D+3]<<24},getInt32LE:(se,D)=>se[D]|se[D+1]<<8|se[D+2]<<16|se[D+3]<<24,getUint32LE:(se,D)=>se[D]+256*se[D+1]+65536*se[D+2]+16777216*se[D+3],getUint32BE:(se,D)=>se[D+3]+256*se[D+2]+65536*se[D+1]+16777216*se[D],getBigInt64LE(se,D){const he=BigInt(se[D+4]+256*se[D+5]+65536*se[D+6]+(se[D+7]<<24)),Ae=BigInt(se[D]+256*se[D+1]+65536*se[D+2]+16777216*se[D+3]);return(he<<BigInt(32))+Ae},getFloat64LE:Re?(se,D)=>(Qe[7]=se[D],Qe[6]=se[D+1],Qe[5]=se[D+2],Qe[4]=se[D+3],Qe[3]=se[D+4],Qe[2]=se[D+5],Qe[1]=se[D+6],Qe[0]=se[D+7],qe[0]):(se,D)=>(Qe[0]=se[D],Qe[1]=se[D+1],Qe[2]=se[D+2],Qe[3]=se[D+3],Qe[4]=se[D+4],Qe[5]=se[D+5],Qe[6]=se[D+6],Qe[7]=se[D+7],qe[0]),setInt32BE:(se,D,he)=>(se[D+3]=he,he>>>=8,se[D+2]=he,he>>>=8,se[D+1]=he,he>>>=8,se[D]=he,4),setInt32LE:(se,D,he)=>(se[D]=he,he>>>=8,se[D+1]=he,he>>>=8,se[D+2]=he,he>>>=8,se[D+3]=he,4),setBigInt64LE(se,D,he){const Ae=BigInt(4294967295);let $e=Number(he&Ae);se[D]=$e,$e>>=8,se[D+1]=$e,$e>>=8,se[D+2]=$e,$e>>=8,se[D+3]=$e;let Ge=Number(he>>BigInt(32)&Ae);return se[D+4]=Ge,Ge>>=8,se[D+5]=Ge,Ge>>=8,se[D+6]=Ge,Ge>>=8,se[D+7]=Ge,8},setFloat64LE:Re?(se,D,he)=>(qe[0]=he,se[D]=Qe[7],se[D+1]=Qe[6],se[D+2]=Qe[5],se[D+3]=Qe[4],se[D+4]=Qe[3],se[D+5]=Qe[2],se[D+6]=Qe[1],se[D+7]=Qe[0],8):(se,D,he)=>(qe[0]=he,se[D]=Qe[0],se[D+1]=Qe[1],se[D+2]=Qe[2],se[D+3]=Qe[3],se[D+4]=Qe[4],se[D+5]=Qe[5],se[D+6]=Qe[6],se[D+7]=Qe[7],8)};class Me extends De{get _bsontype(){return"Binary"}constructor(D,he){if(super(),D!=null&&typeof D=="string"&&!ArrayBuffer.isView(D)&&!f(D)&&!Array.isArray(D))throw new ae("Binary can only be constructed from Uint8Array or number[]");this.sub_type=he??Me.BSON_BINARY_SUBTYPE_DEFAULT,D==null?(this.buffer=be.allocate(Me.BUFFER_SIZE),this.position=0):(this.buffer=Array.isArray(D)?be.fromNumberArray(D):be.toLocalBufferType(D),this.position=this.buffer.byteLength)}put(D){if(typeof D=="string"&&D.length!==1)throw new ae("only accepts single character String");if(typeof D!="number"&&D.length!==1)throw new ae("only accepts single character Uint8Array or Array");let he;if(he=typeof D=="string"?D.charCodeAt(0):typeof D=="number"?D:D[0],he<0||he>255)throw new ae("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=he;else{const Ae=be.allocate(Me.BUFFER_SIZE+this.buffer.length);Ae.set(this.buffer,0),this.buffer=Ae,this.buffer[this.position++]=he}}write(D,he){if(he=typeof he=="number"?he:this.position,this.buffer.byteLength<he+D.length){const Ae=be.allocate(this.buffer.byteLength+D.length);Ae.set(this.buffer,0),this.buffer=Ae}if(ArrayBuffer.isView(D))this.buffer.set(be.toLocalBufferType(D),he),this.position=he+D.byteLength>this.position?he+D.length:this.position;else if(typeof D=="string")throw new ae("input cannot be string")}read(D,he){const Ae=D+(he=he&&he>0?he:this.position);return this.buffer.subarray(D,Ae>this.position?this.position:Ae)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return be.toBase64(this.buffer.subarray(0,this.position))}toString(D){return D==="hex"?be.toHex(this.buffer.subarray(0,this.position)):D==="base64"?be.toBase64(this.buffer.subarray(0,this.position)):be.toUTF8(this.buffer,0,this.position,!1)}toExtendedJSON(D){D=D||{},this.sub_type===Me.SUBTYPE_VECTOR&&ot(this);const he=be.toBase64(this.buffer),Ae=Number(this.sub_type).toString(16);return D.legacy?{$binary:he,$type:Ae.length===1?"0"+Ae:Ae}:{$binary:{base64:he,subType:Ae.length===1?"0"+Ae:Ae}}}toUUID(){if(this.sub_type===Me.SUBTYPE_UUID)return new nt(this.buffer.subarray(0,this.position));throw new ae(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${Me.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(D,he){return new Me(be.fromHex(D),he)}static createFromBase64(D,he){return new Me(be.fromBase64(D),he)}static fromExtendedJSON(D,he){let Ae,$e;if(he=he||{},"$binary"in D?he.legacy&&typeof D.$binary=="string"&&"$type"in D?($e=D.$type?parseInt(D.$type,16):0,Ae=be.fromBase64(D.$binary)):typeof D.$binary!="string"&&($e=D.$binary.subType?parseInt(D.$binary.subType,16):0,Ae=be.fromBase64(D.$binary.base64)):"$uuid"in D&&($e=4,Ae=nt.bytesFromString(D.$uuid)),!Ae)throw new ae(`Unexpected Binary Extended JSON format ${JSON.stringify(D)}`);return $e===fe?new nt(Ae):new Me(Ae,$e)}inspect(D,he,Ae){return Ae??(Ae=g),`Binary.createFromBase64(${Ae(be.toBase64(this.buffer.subarray(0,this.position)),he)}, ${Ae(this.sub_type,he)})`}toInt8Array(){if(this.sub_type!==Me.SUBTYPE_VECTOR)throw new ae("Binary sub_type is not Vector");if(this.buffer[0]!==Me.VECTOR_TYPE.Int8)throw new ae("Binary datatype field is not Int8");return ot(this),new Int8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toFloat32Array(){if(this.sub_type!==Me.SUBTYPE_VECTOR)throw new ae("Binary sub_type is not Vector");if(this.buffer[0]!==Me.VECTOR_TYPE.Float32)throw new ae("Binary datatype field is not Float32");ot(this);const D=new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position));return We.isBigEndian&&be.swap32(D),new Float32Array(D.buffer)}toPackedBits(){if(this.sub_type!==Me.SUBTYPE_VECTOR)throw new ae("Binary sub_type is not Vector");if(this.buffer[0]!==Me.VECTOR_TYPE.PackedBit)throw new ae("Binary datatype field is not packed bit");return ot(this),new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toBits(){if(this.sub_type!==Me.SUBTYPE_VECTOR)throw new ae("Binary sub_type is not Vector");if(this.buffer[0]!==Me.VECTOR_TYPE.PackedBit)throw new ae("Binary datatype field is not packed bit");ot(this);const D=8*(this.length()-2)-this.buffer[1],he=new Int8Array(D);for(let Ae=0;Ae<he.length;Ae++){const $e=Ae/8|0,Ge=this.buffer[$e+2]>>7-Ae%8&1;he[Ae]=Ge}return he}static fromInt8Array(D){const he=be.allocate(D.byteLength+2);he[0]=Me.VECTOR_TYPE.Int8,he[1]=0;const Ae=new Uint8Array(D.buffer,D.byteOffset,D.byteLength);he.set(Ae,2);const $e=new this(he,this.SUBTYPE_VECTOR);return ot($e),$e}static fromFloat32Array(D){const he=be.allocate(D.byteLength+2);he[0]=Me.VECTOR_TYPE.Float32,he[1]=0;const Ae=new Uint8Array(D.buffer,D.byteOffset,D.byteLength);he.set(Ae,2),We.isBigEndian&&be.swap32(new Uint8Array(he.buffer,2));const $e=new this(he,this.SUBTYPE_VECTOR);return ot($e),$e}static fromPackedBits(D,he=0){const Ae=be.allocate(D.byteLength+2);Ae[0]=Me.VECTOR_TYPE.PackedBit,Ae[1]=he,Ae.set(D,2);const $e=new this(Ae,this.SUBTYPE_VECTOR);return ot($e),$e}static fromBits(D){const he=D.length+7>>>3,Ae=new Uint8Array(he+2);Ae[0]=Me.VECTOR_TYPE.PackedBit;const $e=D.length%8;Ae[1]=$e===0?0:8-$e;for(let Ge=0;Ge<D.length;Ge++){const gt=Ge>>>3,ht=D[Ge];if(ht!==0&&ht!==1)throw new ae(`Invalid bit value at ${Ge}: must be 0 or 1, found ${D[Ge]}`);if(ht===0)continue;const Ye=7-Ge%8;Ae[gt+2]|=ht<<Ye}return new this(Ae,Me.SUBTYPE_VECTOR)}}function ot(se){if(se.sub_type!==Me.SUBTYPE_VECTOR)return;const D=se.position,he=se.buffer[0],Ae=se.buffer[1];if((he===Me.VECTOR_TYPE.Float32||he===Me.VECTOR_TYPE.Int8)&&Ae!==0)throw new ae("Invalid Vector: padding must be zero for int8 and float32 vectors");if(he===Me.VECTOR_TYPE.Float32&&D!==0&&D-2!=0&&(D-2)%4!=0)throw new ae("Invalid Vector: Float32 vector must contain a multiple of 4 bytes");if(he===Me.VECTOR_TYPE.PackedBit&&Ae!==0&&D===2)throw new ae("Invalid Vector: padding must be zero for packed bit vectors that are empty");if(he===Me.VECTOR_TYPE.PackedBit&&Ae>7)throw new ae(`Invalid Vector: padding must be a value between 0 and 7. found: ${Ae}`)}Me.BSON_BINARY_SUBTYPE_DEFAULT=0,Me.BUFFER_SIZE=256,Me.SUBTYPE_DEFAULT=0,Me.SUBTYPE_FUNCTION=1,Me.SUBTYPE_BYTE_ARRAY=2,Me.SUBTYPE_UUID_OLD=3,Me.SUBTYPE_UUID=4,Me.SUBTYPE_MD5=5,Me.SUBTYPE_ENCRYPTED=6,Me.SUBTYPE_COLUMN=7,Me.SUBTYPE_SENSITIVE=8,Me.SUBTYPE_VECTOR=9,Me.SUBTYPE_USER_DEFINED=128,Me.VECTOR_TYPE=Object.freeze({Int8:3,Float32:39,PackedBit:16});const xt=/^[0-9A-F]{32}$/i,Ft=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class nt extends Me{constructor(D){let he;if(D==null)he=nt.generate();else if(D instanceof nt)he=be.toLocalBufferType(new Uint8Array(D.buffer));else if(ArrayBuffer.isView(D)&&D.byteLength===16)he=be.toLocalBufferType(D);else{if(typeof D!="string")throw new ae("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");he=nt.bytesFromString(D)}super(he,fe)}get id(){return this.buffer}set id(D){this.buffer=D}toHexString(D=!0){return D?[be.toHex(this.buffer.subarray(0,4)),be.toHex(this.buffer.subarray(4,6)),be.toHex(this.buffer.subarray(6,8)),be.toHex(this.buffer.subarray(8,10)),be.toHex(this.buffer.subarray(10,16))].join("-"):be.toHex(this.buffer)}toString(D){return D==="hex"?be.toHex(this.id):D==="base64"?be.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(D){if(!D)return!1;if(D instanceof nt)return be.equals(D.id,this.id);try{return be.equals(new nt(D).id,this.id)}catch{return!1}}toBinary(){return new Me(this.id,Me.SUBTYPE_UUID)}static generate(){const D=be.randomBytes(16);return D[6]=15&D[6]|64,D[8]=63&D[8]|128,D}static isValid(D){return!!D&&(typeof D=="string"?nt.isValidUUIDString(D):A(D)?D.byteLength===16:D._bsontype==="Binary"&&D.sub_type===this.SUBTYPE_UUID&&D.buffer.byteLength===16)}static createFromHexString(D){const he=nt.bytesFromString(D);return new nt(he)}static createFromBase64(D){return new nt(be.fromBase64(D))}static bytesFromString(D){if(!nt.isValidUUIDString(D))throw new ae("UUID string representation must be 32 hex digits or canonical hyphenated representation");return be.fromHex(D.replace(/-/g,""))}static isValidUUIDString(D){return xt.test(D)||Ft.test(D)}inspect(D,he,Ae){return Ae??(Ae=g),`new UUID(${Ae(this.toHexString(),he)})`}}class At extends De{get _bsontype(){return"Code"}constructor(D,he){super(),this.code=D.toString(),this.scope=he??null}toJSON(){return this.scope!=null?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(D){return new At(D.$code,D.$scope)}inspect(D,he,Ae){Ae??(Ae=g);let $e=Ae(this.code,he);const Ge=$e.includes(`
`);return this.scope!=null&&($e+=`,${Ge?`
`:" "}${Ae(this.scope,he)}`),`new Code(${Ge?`
`:""}${$e}${Ge&&this.scope===null?`
`:""})`}}function Rt(se){return se!=null&&typeof se=="object"&&"$id"in se&&se.$id!=null&&"$ref"in se&&typeof se.$ref=="string"&&(!("$db"in se)||"$db"in se&&typeof se.$db=="string")}class Pt extends De{get _bsontype(){return"DBRef"}constructor(D,he,Ae,$e){super();const Ge=D.split(".");Ge.length===2&&(Ae=Ge.shift(),D=Ge.shift()),this.collection=D,this.oid=he,this.db=Ae,this.fields=$e||{}}get namespace(){return this.collection}set namespace(D){this.collection=D}toJSON(){const D=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(D.$db=this.db),D}toExtendedJSON(D){D=D||{};let he={$ref:this.collection,$id:this.oid};return D.legacy||(this.db&&(he.$db=this.db),he=Object.assign(he,this.fields)),he}static fromExtendedJSON(D){const he=Object.assign({},D);return delete he.$ref,delete he.$id,delete he.$db,new Pt(D.$ref,D.$id,D.$db,he)}inspect(D,he,Ae){Ae??(Ae=g);const $e=[Ae(this.namespace,he),Ae(this.oid,he),...this.db?[Ae(this.db,he)]:[],...Object.keys(this.fields).length>0?[Ae(this.fields,he)]:[]];return $e[1]=Ae===g?`new ObjectId(${$e[1]})`:$e[1],`new DBRef(${$e.join(", ")})`}}function ur(se){if(se==="")return se;let D=0;const he=se[D]==="-",Ae=se[D]==="+";(Ae||he)&&(D+=1);let $e=!1;for(;D<se.length&&se[D]==="0";++D)$e=!0;return $e?`${he?"-":""}${se.length===D?"0":se.slice(D)}`:Ae?se.slice(1):se}let Ht;try{Ht=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}const lr=4294967296,sr=18446744073709552e3,Kt=sr/2,Xe={},ar={},rr=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class Ke extends De{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(D=0,he,Ae){super();const $e=typeof he=="boolean"?he:!!Ae,Ge=typeof he=="number"?he:0,gt=typeof D=="string"?Ke.fromString(D,$e):typeof D=="bigint"?Ke.fromBigInt(D,$e):{low:0|D,high:0|Ge,unsigned:$e};this.low=gt.low,this.high=gt.high,this.unsigned=gt.unsigned}static fromBits(D,he,Ae){return new Ke(D,he,Ae)}static fromInt(D,he){let Ae,$e,Ge;return he?(Ge=0<=(D>>>=0)&&D<256)&&($e=ar[D],$e)?$e:(Ae=Ke.fromBits(D,(0|D)<0?-1:0,!0),Ge&&(ar[D]=Ae),Ae):(Ge=-128<=(D|=0)&&D<128)&&($e=Xe[D],$e)?$e:(Ae=Ke.fromBits(D,D<0?-1:0,!1),Ge&&(Xe[D]=Ae),Ae)}static fromNumber(D,he){if(isNaN(D))return he?Ke.UZERO:Ke.ZERO;if(he){if(D<0)return Ke.UZERO;if(D>=sr)return Ke.MAX_UNSIGNED_VALUE}else{if(D<=-9223372036854776e3)return Ke.MIN_VALUE;if(D+1>=Kt)return Ke.MAX_VALUE}return D<0?Ke.fromNumber(-D,he).neg():Ke.fromBits(D%lr|0,D/lr|0,he)}static fromBigInt(D,he){const Ae=BigInt(4294967295),$e=BigInt(32);return new Ke(Number(D&Ae),Number(D>>$e&Ae),he)}static _fromString(D,he,Ae){if(D.length===0)throw new ae("empty string");if(Ae<2||36<Ae)throw new ae("radix");let $e;if(($e=D.indexOf("-"))>0)throw new ae("interior hyphen");if($e===0)return Ke._fromString(D.substring(1),he,Ae).neg();const Ge=Ke.fromNumber(Math.pow(Ae,8));let gt=Ke.ZERO;for(let ht=0;ht<D.length;ht+=8){const Ye=Math.min(8,D.length-ht),Gt=parseInt(D.substring(ht,ht+Ye),Ae);if(Ye<8){const Et=Ke.fromNumber(Math.pow(Ae,Ye));gt=gt.mul(Et).add(Ke.fromNumber(Gt))}else gt=gt.mul(Ge),gt=gt.add(Ke.fromNumber(Gt))}return gt.unsigned=he,gt}static fromStringStrict(D,he,Ae){let $e=!1;if(typeof he=="number"?(Ae=he,he=!1):$e=!!he,Ae??(Ae=10),D.trim()!==D)throw new ae(`Input: '${D}' contains leading and/or trailing whitespace`);if(!function(ht,Ye){const Gt="0123456789abcdefghijklmnopqrstuvwxyz".slice(0,Ye=Ye??10);return!new RegExp(`[^-+${Gt}]`,"i").test(ht)&&ht}(D,Ae))throw new ae(`Input: '${D}' contains invalid characters for radix: ${Ae}`);const Ge=ur(D),gt=Ke._fromString(Ge,$e,Ae);if(gt.toString(Ae).toLowerCase()!==Ge.toLowerCase())throw new ae(`Input: ${D} is not representable as ${gt.unsigned?"an unsigned":"a signed"} 64-bit Long ${Ae!=null?`with radix: ${Ae}`:""}`);return gt}static fromString(D,he,Ae){let $e=!1;return typeof he=="number"?(Ae=he,he=!1):$e=!!he,Ae??(Ae=10),D==="NaN"&&Ae<24||(D==="Infinity"||D==="+Infinity"||D==="-Infinity")&&Ae<35?Ke.ZERO:Ke._fromString(D,$e,Ae)}static fromBytes(D,he,Ae){return Ae?Ke.fromBytesLE(D,he):Ke.fromBytesBE(D,he)}static fromBytesLE(D,he){return new Ke(D[0]|D[1]<<8|D[2]<<16|D[3]<<24,D[4]|D[5]<<8|D[6]<<16|D[7]<<24,he)}static fromBytesBE(D,he){return new Ke(D[4]<<24|D[5]<<16|D[6]<<8|D[7],D[0]<<24|D[1]<<16|D[2]<<8|D[3],he)}static isLong(D){return D!=null&&typeof D=="object"&&"__isLong__"in D&&D.__isLong__===!0}static fromValue(D,he){return typeof D=="number"?Ke.fromNumber(D,he):typeof D=="string"?Ke.fromString(D,he):Ke.fromBits(D.low,D.high,typeof he=="boolean"?he:D.unsigned)}add(D){Ke.isLong(D)||(D=Ke.fromValue(D));const he=this.high>>>16,Ae=65535&this.high,$e=this.low>>>16,Ge=65535&this.low,gt=D.high>>>16,ht=65535&D.high,Ye=D.low>>>16;let Gt=0,Et=0,ft=0,Nt=0;return Nt+=Ge+(65535&D.low),ft+=Nt>>>16,Nt&=65535,ft+=$e+Ye,Et+=ft>>>16,ft&=65535,Et+=Ae+ht,Gt+=Et>>>16,Et&=65535,Gt+=he+gt,Gt&=65535,Ke.fromBits(ft<<16|Nt,Gt<<16|Et,this.unsigned)}and(D){return Ke.isLong(D)||(D=Ke.fromValue(D)),Ke.fromBits(this.low&D.low,this.high&D.high,this.unsigned)}compare(D){if(Ke.isLong(D)||(D=Ke.fromValue(D)),this.eq(D))return 0;const he=this.isNegative(),Ae=D.isNegative();return he&&!Ae?-1:!he&&Ae?1:this.unsigned?D.high>>>0>this.high>>>0||D.high===this.high&&D.low>>>0>this.low>>>0?-1:1:this.sub(D).isNegative()?-1:1}comp(D){return this.compare(D)}divide(D){if(Ke.isLong(D)||(D=Ke.fromValue(D)),D.isZero())throw new ae("division by zero");if(Ht){if(!this.unsigned&&this.high===-2147483648&&D.low===-1&&D.high===-1)return this;const Ge=(this.unsigned?Ht.div_u:Ht.div_s)(this.low,this.high,D.low,D.high);return Ke.fromBits(Ge,Ht.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ke.UZERO:Ke.ZERO;let he,Ae,$e;if(this.unsigned){if(D.unsigned||(D=D.toUnsigned()),D.gt(this))return Ke.UZERO;if(D.gt(this.shru(1)))return Ke.UONE;$e=Ke.UZERO}else{if(this.eq(Ke.MIN_VALUE))return D.eq(Ke.ONE)||D.eq(Ke.NEG_ONE)?Ke.MIN_VALUE:D.eq(Ke.MIN_VALUE)?Ke.ONE:(he=this.shr(1).div(D).shl(1),he.eq(Ke.ZERO)?D.isNegative()?Ke.ONE:Ke.NEG_ONE:(Ae=this.sub(D.mul(he)),$e=he.add(Ae.div(D)),$e));if(D.eq(Ke.MIN_VALUE))return this.unsigned?Ke.UZERO:Ke.ZERO;if(this.isNegative())return D.isNegative()?this.neg().div(D.neg()):this.neg().div(D).neg();if(D.isNegative())return this.div(D.neg()).neg();$e=Ke.ZERO}for(Ae=this;Ae.gte(D);){he=Math.max(1,Math.floor(Ae.toNumber()/D.toNumber()));const Ge=Math.ceil(Math.log(he)/Math.LN2),gt=Ge<=48?1:Math.pow(2,Ge-48);let ht=Ke.fromNumber(he),Ye=ht.mul(D);for(;Ye.isNegative()||Ye.gt(Ae);)he-=gt,ht=Ke.fromNumber(he,this.unsigned),Ye=ht.mul(D);ht.isZero()&&(ht=Ke.ONE),$e=$e.add(ht),Ae=Ae.sub(Ye)}return $e}div(D){return this.divide(D)}equals(D){return Ke.isLong(D)||(D=Ke.fromValue(D)),(this.unsigned===D.unsigned||this.high>>>31!=1||D.high>>>31!=1)&&this.high===D.high&&this.low===D.low}eq(D){return this.equals(D)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(Ke.MIN_VALUE)?64:this.neg().getNumBitsAbs();const D=this.high!==0?this.high:this.low;let he;for(he=31;he>0&&!(D&1<<he);he--);return this.high!==0?he+33:he+1}greaterThan(D){return this.comp(D)>0}gt(D){return this.greaterThan(D)}greaterThanOrEqual(D){return this.comp(D)>=0}gte(D){return this.greaterThanOrEqual(D)}ge(D){return this.greaterThanOrEqual(D)}isEven(){return!(1&this.low)}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return!(1&~this.low)}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(D){return this.comp(D)<0}lt(D){return this.lessThan(D)}lessThanOrEqual(D){return this.comp(D)<=0}lte(D){return this.lessThanOrEqual(D)}modulo(D){if(Ke.isLong(D)||(D=Ke.fromValue(D)),Ht){const he=(this.unsigned?Ht.rem_u:Ht.rem_s)(this.low,this.high,D.low,D.high);return Ke.fromBits(he,Ht.get_high(),this.unsigned)}return this.sub(this.div(D).mul(D))}mod(D){return this.modulo(D)}rem(D){return this.modulo(D)}multiply(D){if(this.isZero())return Ke.ZERO;if(Ke.isLong(D)||(D=Ke.fromValue(D)),Ht){const ir=Ht.mul(this.low,this.high,D.low,D.high);return Ke.fromBits(ir,Ht.get_high(),this.unsigned)}if(D.isZero())return Ke.ZERO;if(this.eq(Ke.MIN_VALUE))return D.isOdd()?Ke.MIN_VALUE:Ke.ZERO;if(D.eq(Ke.MIN_VALUE))return this.isOdd()?Ke.MIN_VALUE:Ke.ZERO;if(this.isNegative())return D.isNegative()?this.neg().mul(D.neg()):this.neg().mul(D).neg();if(D.isNegative())return this.mul(D.neg()).neg();if(this.lt(Ke.TWO_PWR_24)&&D.lt(Ke.TWO_PWR_24))return Ke.fromNumber(this.toNumber()*D.toNumber(),this.unsigned);const he=this.high>>>16,Ae=65535&this.high,$e=this.low>>>16,Ge=65535&this.low,gt=D.high>>>16,ht=65535&D.high,Ye=D.low>>>16,Gt=65535&D.low;let Et=0,ft=0,Nt=0,qt=0;return qt+=Ge*Gt,Nt+=qt>>>16,qt&=65535,Nt+=$e*Gt,ft+=Nt>>>16,Nt&=65535,Nt+=Ge*Ye,ft+=Nt>>>16,Nt&=65535,ft+=Ae*Gt,Et+=ft>>>16,ft&=65535,ft+=$e*Ye,Et+=ft>>>16,ft&=65535,ft+=Ge*ht,Et+=ft>>>16,ft&=65535,Et+=he*Gt+Ae*Ye+$e*ht+Ge*gt,Et&=65535,Ke.fromBits(Nt<<16|qt,Et<<16|ft,this.unsigned)}mul(D){return this.multiply(D)}negate(){return!this.unsigned&&this.eq(Ke.MIN_VALUE)?Ke.MIN_VALUE:this.not().add(Ke.ONE)}neg(){return this.negate()}not(){return Ke.fromBits(~this.low,~this.high,this.unsigned)}notEquals(D){return!this.equals(D)}neq(D){return this.notEquals(D)}ne(D){return this.notEquals(D)}or(D){return Ke.isLong(D)||(D=Ke.fromValue(D)),Ke.fromBits(this.low|D.low,this.high|D.high,this.unsigned)}shiftLeft(D){return Ke.isLong(D)&&(D=D.toInt()),(D&=63)==0?this:D<32?Ke.fromBits(this.low<<D,this.high<<D|this.low>>>32-D,this.unsigned):Ke.fromBits(0,this.low<<D-32,this.unsigned)}shl(D){return this.shiftLeft(D)}shiftRight(D){return Ke.isLong(D)&&(D=D.toInt()),(D&=63)==0?this:D<32?Ke.fromBits(this.low>>>D|this.high<<32-D,this.high>>D,this.unsigned):Ke.fromBits(this.high>>D-32,this.high>=0?0:-1,this.unsigned)}shr(D){return this.shiftRight(D)}shiftRightUnsigned(D){if(Ke.isLong(D)&&(D=D.toInt()),(D&=63)==0)return this;{const he=this.high;if(D<32){const Ae=this.low;return Ke.fromBits(Ae>>>D|he<<32-D,he>>>D,this.unsigned)}return D===32?Ke.fromBits(he,0,this.unsigned):Ke.fromBits(he>>>D-32,0,this.unsigned)}}shr_u(D){return this.shiftRightUnsigned(D)}shru(D){return this.shiftRightUnsigned(D)}subtract(D){return Ke.isLong(D)||(D=Ke.fromValue(D)),this.add(D.neg())}sub(D){return this.subtract(D)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*lr+(this.low>>>0):this.high*lr+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(D){return D?this.toBytesLE():this.toBytesBE()}toBytesLE(){const D=this.high,he=this.low;return[255&he,he>>>8&255,he>>>16&255,he>>>24,255&D,D>>>8&255,D>>>16&255,D>>>24]}toBytesBE(){const D=this.high,he=this.low;return[D>>>24,D>>>16&255,D>>>8&255,255&D,he>>>24,he>>>16&255,he>>>8&255,255&he]}toSigned(){return this.unsigned?Ke.fromBits(this.low,this.high,!1):this}toString(D){if((D=D||10)<2||36<D)throw new ae("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ke.MIN_VALUE)){const Ge=Ke.fromNumber(D),gt=this.div(Ge),ht=gt.mul(Ge).sub(this);return gt.toString(D)+ht.toInt().toString(D)}return"-"+this.neg().toString(D)}const he=Ke.fromNumber(Math.pow(D,6),this.unsigned);let Ae=this,$e="";for(;;){const Ge=Ae.div(he);let gt=(Ae.sub(Ge.mul(he)).toInt()>>>0).toString(D);if(Ae=Ge,Ae.isZero())return gt+$e;for(;gt.length<6;)gt="0"+gt;$e=""+gt+$e}}toUnsigned(){return this.unsigned?this:Ke.fromBits(this.low,this.high,!0)}xor(D){return Ke.isLong(D)||(D=Ke.fromValue(D)),Ke.fromBits(this.low^D.low,this.high^D.high,this.unsigned)}eqz(){return this.isZero()}le(D){return this.lessThanOrEqual(D)}toExtendedJSON(D){return D&&D.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(D,he){const{useBigInt64:Ae=!1,relaxed:$e=!0}={...he};if(D.$numberLong.length>20)throw new ae("$numberLong string is too long");if(!rr.test(D.$numberLong))throw new ae(`$numberLong string "${D.$numberLong}" is in an invalid format`);if(Ae){const gt=BigInt(D.$numberLong);return BigInt.asIntN(64,gt)}const Ge=Ke.fromString(D.$numberLong);return $e?Ge.toNumber():Ge}inspect(D,he,Ae){return Ae??(Ae=g),`new Long(${Ae(this.toString(),he)}${this.unsigned?`, ${Ae(this.unsigned,he)}`:""})`}}Ke.TWO_PWR_24=Ke.fromInt(16777216),Ke.MAX_UNSIGNED_VALUE=Ke.fromBits(-1,-1,!0),Ke.ZERO=Ke.fromInt(0),Ke.UZERO=Ke.fromInt(0,!0),Ke.ONE=Ke.fromInt(1),Ke.UONE=Ke.fromInt(1,!0),Ke.NEG_ONE=Ke.fromInt(-1),Ke.MAX_VALUE=Ke.fromBits(-1,2147483647,!1),Ke.MIN_VALUE=Ke.fromBits(0,-2147483648,!1);const Tr=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,Fn=/^(\+|-)?(Infinity|inf)$/i,Wt=/^(\+|-)?NaN$/i,Or=6111,Yr=-6176,hn=be.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Mr=be.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Jr=be.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),q=/^([-+])?(\d+)?$/;function ce(se){return!isNaN(parseInt(se,10))}function Z(se){const D=Ke.fromNumber(1e9);let he=Ke.fromNumber(0);if(!(se.parts[0]||se.parts[1]||se.parts[2]||se.parts[3]))return{quotient:se,rem:he};for(let Ae=0;Ae<=3;Ae++)he=he.shiftLeft(32),he=he.add(new Ke(se.parts[Ae],0)),se.parts[Ae]=he.div(D).low,he=he.modulo(D);return{quotient:se,rem:he}}function ue(se,D){throw new ae(`"${se}" is not a valid Decimal128 string - ${D}`)}class me extends De{get _bsontype(){return"Decimal128"}constructor(D){if(super(),typeof D=="string")this.bytes=me.fromString(D).bytes;else{if(!(D instanceof Uint8Array||A(D)))throw new ae("Decimal128 must take a Buffer or string");if(D.byteLength!==16)throw new ae("Decimal128 must take a Buffer of 16 bytes");this.bytes=D}}static fromString(D){return me._fromString(D,{allowRounding:!1})}static fromStringWithRounding(D){return me._fromString(D,{allowRounding:!0})}static _fromString(D,he){let Ae=!1,$e=!1,Ge=!1,gt=!1,ht=0,Ye=0,Gt=0,Et=0,ft=0;const Nt=[0];let qt=0,ir=0,Fr=0,pn=0,on=new Ke(0,0),Ln=new Ke(0,0),dn=0,Ut=0;if(D.length>=7e3)throw new ae(D+" not a valid Decimal128 string");const pr=D.match(Tr),Qi=D.match(Fn),zr=D.match(Wt);if(!pr&&!Qi&&!zr||D.length===0)throw new ae(D+" not a valid Decimal128 string");if(pr){const dr=pr[2],Dn=pr[4],$n=pr[5],ne=pr[6];Dn&&ne===void 0&&ue(D,"missing exponent power"),Dn&&dr===void 0&&ue(D,"missing exponent base"),Dn===void 0&&($n||ne)&&ue(D,"missing e before exponent")}if(D[Ut]!=="+"&&D[Ut]!=="-"||($e=!0,Ae=D[Ut++]==="-"),!ce(D[Ut])&&D[Ut]!=="."){if(D[Ut]==="i"||D[Ut]==="I")return new me(Ae?Mr:Jr);if(D[Ut]==="N")return new me(hn)}for(;ce(D[Ut])||D[Ut]===".";)D[Ut]!=="."?(qt<34&&(D[Ut]!=="0"||gt)&&(gt||(ft=Ye),gt=!0,Nt[ir++]=parseInt(D[Ut],10),qt+=1),gt&&(Gt+=1),Ge&&(Et+=1),Ye+=1,Ut+=1):(Ge&&ue(D,"contains multiple periods"),Ge=!0,Ut+=1);if(Ge&&!Ye)throw new ae(D+" not a valid Decimal128 string");if(D[Ut]==="e"||D[Ut]==="E"){const dr=D.substr(++Ut).match(q);if(!dr||!dr[2])return new me(hn);pn=parseInt(dr[0],10),Ut+=dr[0].length}if(D[Ut])return new me(hn);if(qt){if(Fr=qt-1,ht=Gt,ht!==1)for(;D[ft+ht-1+Number($e)+Number(Ge)]==="0";)ht-=1}else Nt[0]=0,Gt=1,qt=1,ht=0;for(pn<=Et&&Et>pn+16384?pn=Yr:pn-=Et;pn>Or;){if(Fr+=1,Fr>=34){if(ht===0){pn=Or;break}ue(D,"overflow")}pn-=1}if(he.allowRounding){for(;pn<Yr||qt<Gt;){if(Fr===0&&ht<qt){pn=Yr,ht=0;break}if(qt<Gt?Gt-=1:Fr-=1,pn<Or)pn+=1;else{if(Nt.join("").match(/^0+$/)){pn=Or;break}ue(D,"overflow")}}if(Fr+1<ht){let dr=Ye;Ge&&(ft+=1,dr+=1),$e&&(ft+=1,dr+=1);const Dn=parseInt(D[ft+Fr+1],10);let $n=0;if(Dn>=5&&($n=1,Dn===5)){$n=Nt[Fr]%2==1?1:0;for(let ne=ft+Fr+2;ne<dr;ne++)if(parseInt(D[ne],10)){$n=1;break}}if($n){let ne=Fr;for(;ne>=0&&++Nt[ne]>9;ne--)if(Nt[ne]=0,ne===0){if(!(pn<Or))return new me(Ae?Mr:Jr);pn+=1,Nt[ne]=1}}}}else{for(;pn<Yr||qt<Gt;){if(Fr===0){if(ht===0){pn=Yr;break}ue(D,"exponent underflow")}qt<Gt?(D[Gt-1+Number($e)+Number(Ge)]!=="0"&&ht!==0&&ue(D,"inexact rounding"),Gt-=1):(Nt[Fr]!==0&&ue(D,"inexact rounding"),Fr-=1),pn<Or?pn+=1:ue(D,"overflow")}Fr+1<ht&&(Ge&&(ft+=1),$e&&(ft+=1),parseInt(D[ft+Fr+1],10)!==0&&ue(D,"inexact rounding"))}if(on=Ke.fromNumber(0),Ln=Ke.fromNumber(0),ht===0)on=Ke.fromNumber(0),Ln=Ke.fromNumber(0);else if(Fr<17){let dr=0;for(Ln=Ke.fromNumber(Nt[dr++]),on=new Ke(0,0);dr<=Fr;dr++)Ln=Ln.multiply(Ke.fromNumber(10)),Ln=Ln.add(Ke.fromNumber(Nt[dr]))}else{let dr=0;for(on=Ke.fromNumber(Nt[dr++]);dr<=Fr-17;dr++)on=on.multiply(Ke.fromNumber(10)),on=on.add(Ke.fromNumber(Nt[dr]));for(Ln=Ke.fromNumber(Nt[dr++]);dr<=Fr;dr++)Ln=Ln.multiply(Ke.fromNumber(10)),Ln=Ln.add(Ke.fromNumber(Nt[dr]))}const ys=function(dr,Dn){if(!dr&&!Dn)return{high:Ke.fromNumber(0),low:Ke.fromNumber(0)};const $n=dr.shiftRightUnsigned(32),ne=new Ke(dr.getLowBits(),0),Ne=Dn.shiftRightUnsigned(32),ze=new Ke(Dn.getLowBits(),0);let Je=$n.multiply(Ne),lt=$n.multiply(ze);const mt=ne.multiply(Ne);let Tt=ne.multiply(ze);return Je=Je.add(lt.shiftRightUnsigned(32)),lt=new Ke(lt.getLowBits(),0).add(mt).add(Tt.shiftRightUnsigned(32)),Je=Je.add(lt.shiftRightUnsigned(32)),Tt=lt.shiftLeft(32).add(new Ke(Tt.getLowBits(),0)),{high:Je,low:Tt}}(on,Ke.fromString("100000000000000000"));ys.low=ys.low.add(Ln),function(dr,Dn){const $n=dr.high>>>0,ne=Dn.high>>>0;return $n<ne||$n===ne&&dr.low>>>0<Dn.low>>>0}(ys.low,Ln)&&(ys.high=ys.high.add(Ke.fromNumber(1))),dn=pn+6176;const Lt={low:Ke.fromNumber(0),high:Ke.fromNumber(0)};ys.high.shiftRightUnsigned(49).and(Ke.fromNumber(1)).equals(Ke.fromNumber(1))?(Lt.high=Lt.high.or(Ke.fromNumber(3).shiftLeft(61)),Lt.high=Lt.high.or(Ke.fromNumber(dn).and(Ke.fromNumber(16383).shiftLeft(47))),Lt.high=Lt.high.or(ys.high.and(Ke.fromNumber(0x7fffffffffff)))):(Lt.high=Lt.high.or(Ke.fromNumber(16383&dn).shiftLeft(49)),Lt.high=Lt.high.or(ys.high.and(Ke.fromNumber(562949953421311)))),Lt.low=ys.low,Ae&&(Lt.high=Lt.high.or(Ke.fromString("9223372036854775808")));const Xt=be.allocateUnsafe(16);return Ut=0,Xt[Ut++]=255&Lt.low.low,Xt[Ut++]=Lt.low.low>>8&255,Xt[Ut++]=Lt.low.low>>16&255,Xt[Ut++]=Lt.low.low>>24&255,Xt[Ut++]=255&Lt.low.high,Xt[Ut++]=Lt.low.high>>8&255,Xt[Ut++]=Lt.low.high>>16&255,Xt[Ut++]=Lt.low.high>>24&255,Xt[Ut++]=255&Lt.high.low,Xt[Ut++]=Lt.high.low>>8&255,Xt[Ut++]=Lt.high.low>>16&255,Xt[Ut++]=Lt.high.low>>24&255,Xt[Ut++]=255&Lt.high.high,Xt[Ut++]=Lt.high.high>>8&255,Xt[Ut++]=Lt.high.high>>16&255,Xt[Ut++]=Lt.high.high>>24&255,new me(Xt)}toString(){let D,he=0;const Ae=new Array(36);for(let dn=0;dn<Ae.length;dn++)Ae[dn]=0;let $e,Ge,gt,ht=0,Ye=!1,Gt={parts:[0,0,0,0]};const Et=[];ht=0;const ft=this.bytes,Nt=ft[ht++]|ft[ht++]<<8|ft[ht++]<<16|ft[ht++]<<24,qt=ft[ht++]|ft[ht++]<<8|ft[ht++]<<16|ft[ht++]<<24,ir=ft[ht++]|ft[ht++]<<8|ft[ht++]<<16|ft[ht++]<<24,Fr=ft[ht++]|ft[ht++]<<8|ft[ht++]<<16|ft[ht++]<<24;ht=0,(new Ke(Nt,qt),new Ke(ir,Fr)).lessThan(Ke.ZERO)&&Et.push("-");const pn=Fr>>26&31;if(pn>>3==3){if(pn===30)return Et.join("")+"Infinity";if(pn===31)return"NaN";D=Fr>>15&16383,$e=8+(Fr>>14&1)}else $e=Fr>>14&7,D=Fr>>17&16383;const on=D-6176;if(Gt.parts[0]=(16383&Fr)+((15&$e)<<14),Gt.parts[1]=ir,Gt.parts[2]=qt,Gt.parts[3]=Nt,Gt.parts[0]===0&&Gt.parts[1]===0&&Gt.parts[2]===0&&Gt.parts[3]===0)Ye=!0;else for(gt=3;gt>=0;gt--){let dn=0;const Ut=Z(Gt);if(Gt=Ut.quotient,dn=Ut.rem.low,dn)for(Ge=8;Ge>=0;Ge--)Ae[9*gt+Ge]=dn%10,dn=Math.floor(dn/10)}if(Ye)he=1,Ae[ht]=0;else for(he=36;!Ae[ht];)he-=1,ht+=1;const Ln=he-1+on;if(Ln>=34||Ln<=-7||on>0){if(he>34)return Et.push("0"),on>0?Et.push(`E+${on}`):on<0&&Et.push(`E${on}`),Et.join("");Et.push(`${Ae[ht++]}`),he-=1,he&&Et.push(".");for(let dn=0;dn<he;dn++)Et.push(`${Ae[ht++]}`);Et.push("E"),Ln>0?Et.push(`+${Ln}`):Et.push(`${Ln}`)}else if(on>=0)for(let dn=0;dn<he;dn++)Et.push(`${Ae[ht++]}`);else{let dn=he+on;if(dn>0)for(let Ut=0;Ut<dn;Ut++)Et.push(`${Ae[ht++]}`);else Et.push("0");for(Et.push(".");dn++<0;)Et.push("0");for(let Ut=0;Ut<he-Math.max(dn-1,0);Ut++)Et.push(`${Ae[ht++]}`)}return Et.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(D){return me.fromString(D.$numberDecimal)}inspect(D,he,Ae){return Ae??(Ae=g),`new Decimal128(${Ae(this.toString(),he)})`}}class ye extends De{get _bsontype(){return"Double"}constructor(D){super(),D instanceof Number&&(D=D.valueOf()),this.value=+D}static fromString(D){const he=Number(D);if(D==="NaN")return new ye(NaN);if(D==="Infinity")return new ye(1/0);if(D==="-Infinity")return new ye(-1/0);if(!Number.isFinite(he))throw new ae(`Input: ${D} is not representable as a Double`);if(D.trim()!==D)throw new ae(`Input: '${D}' contains whitespace`);if(D==="")throw new ae("Input is an empty string");if(/[^-0-9.+eE]/.test(D))throw new ae(`Input: '${D}' is not in decimal or exponential notation`);return new ye(he)}valueOf(){return this.value}toJSON(){return this.value}toString(D){return this.value.toString(D)}toExtendedJSON(D){return D&&(D.legacy||D.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(D,he){const Ae=parseFloat(D.$numberDouble);return he&&he.relaxed?Ae:new ye(Ae)}inspect(D,he,Ae){return Ae??(Ae=g),`new Double(${Ae(this.value,he)})`}}class Be extends De{get _bsontype(){return"Int32"}constructor(D){super(),D instanceof Number&&(D=D.valueOf()),this.value=0|+D}static fromString(D){const he=ur(D),Ae=Number(D);if(x<Ae)throw new ae(`Input: '${D}' is larger than the maximum value for Int32`);if(v>Ae)throw new ae(`Input: '${D}' is smaller than the minimum value for Int32`);if(!Number.isSafeInteger(Ae))throw new ae(`Input: '${D}' is not a safe integer`);if(Ae.toString()!==he)throw new ae(`Input: '${D}' is not a valid Int32 string`);return new Be(Ae)}valueOf(){return this.value}toString(D){return this.value.toString(D)}toJSON(){return this.value}toExtendedJSON(D){return D&&(D.relaxed||D.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(D,he){return he&&he.relaxed?parseInt(D.$numberInt,10):new Be(D.$numberInt)}inspect(D,he,Ae){return Ae??(Ae=g),`new Int32(${Ae(this.value,he)})`}}class Oe extends De{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new Oe}inspect(){return"new MaxKey()"}}class Le extends De{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new Le}inspect(){return"new MinKey()"}}let Ie=null;const Ue=new WeakMap;class Ve extends De{get _bsontype(){return"ObjectId"}constructor(D){let he;if(super(),typeof D=="object"&&D&&"id"in D){if(typeof D.id!="string"&&!ArrayBuffer.isView(D.id))throw new ae("Argument passed in must have an id that is of type string or Buffer");he="toHexString"in D&&typeof D.toHexString=="function"?be.fromHex(D.toHexString()):D.id}else he=D;if(he==null||typeof he=="number")this.buffer=Ve.generate(typeof he=="number"?he:void 0);else if(ArrayBuffer.isView(he)&&he.byteLength===12)this.buffer=be.toLocalBufferType(he);else{if(typeof he!="string")throw new ae("Argument passed in does not match the accepted types");if(!Ve.validateHexString(he))throw new ae("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");this.buffer=be.fromHex(he),Ve.cacheHexString&&Ue.set(this,he)}}get id(){return this.buffer}set id(D){this.buffer=D,Ve.cacheHexString&&Ue.set(this,be.toHex(D))}static validateHexString(D){if((D==null?void 0:D.length)!==24)return!1;for(let he=0;he<24;he++){const Ae=D.charCodeAt(he);if(!(Ae>=48&&Ae<=57||Ae>=97&&Ae<=102||Ae>=65&&Ae<=70))return!1}return!0}toHexString(){if(Ve.cacheHexString){const he=Ue.get(this);if(he)return he}const D=be.toHex(this.id);return Ve.cacheHexString&&Ue.set(this,D),D}static getInc(){return Ve.index=(Ve.index+1)%16777215}static generate(D){typeof D!="number"&&(D=Math.floor(Date.now()/1e3));const he=Ve.getInc(),Ae=be.allocateUnsafe(12);return We.setInt32BE(Ae,0,D),Ie===null&&(Ie=be.randomBytes(5)),Ae[4]=Ie[0],Ae[5]=Ie[1],Ae[6]=Ie[2],Ae[7]=Ie[3],Ae[8]=Ie[4],Ae[11]=255&he,Ae[10]=he>>8&255,Ae[9]=he>>16&255,Ae}toString(D){return D==="base64"?be.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}static is(D){return D!=null&&typeof D=="object"&&"_bsontype"in D&&D._bsontype==="ObjectId"}equals(D){if(D==null)return!1;if(Ve.is(D))return this.buffer[11]===D.buffer[11]&&be.equals(this.buffer,D.buffer);if(typeof D=="string")return D.toLowerCase()===this.toHexString();if(typeof D=="object"&&typeof D.toHexString=="function"){const he=D.toHexString(),Ae=this.toHexString();return typeof he=="string"&&he.toLowerCase()===Ae}return!1}getTimestamp(){const D=new Date,he=We.getUint32BE(this.buffer,0);return D.setTime(1e3*Math.floor(he)),D}static createPk(){return new Ve}serializeInto(D,he){return D[he]=this.buffer[0],D[he+1]=this.buffer[1],D[he+2]=this.buffer[2],D[he+3]=this.buffer[3],D[he+4]=this.buffer[4],D[he+5]=this.buffer[5],D[he+6]=this.buffer[6],D[he+7]=this.buffer[7],D[he+8]=this.buffer[8],D[he+9]=this.buffer[9],D[he+10]=this.buffer[10],D[he+11]=this.buffer[11],12}static createFromTime(D){const he=be.allocate(12);for(let Ae=11;Ae>=4;Ae--)he[Ae]=0;return We.setInt32BE(he,0,D),new Ve(he)}static createFromHexString(D){if((D==null?void 0:D.length)!==24)throw new ae("hex string must be 24 characters");return new Ve(be.fromHex(D))}static createFromBase64(D){if((D==null?void 0:D.length)!==16)throw new ae("base64 string must be 16 characters");return new Ve(be.fromBase64(D))}static isValid(D){if(D==null)return!1;if(typeof D=="string")return Ve.validateHexString(D);try{return new Ve(D),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(D){return new Ve(D.$oid)}isCached(){return Ve.cacheHexString&&Ue.has(this)}inspect(D,he,Ae){return Ae??(Ae=g),`new ObjectId(${Ae(this.toHexString(),he)})`}}function tt(se,D,he){let Ae=5;if(Array.isArray(se))for(let $e=0;$e<se.length;$e++)Ae+=at($e.toString(),se[$e],D,!0,he);else{typeof(se==null?void 0:se.toBSON)=="function"&&(se=se.toBSON());for(const $e of Object.keys(se))Ae+=at($e,se[$e],D,!1,he)}return Ae}function at(se,D,he=!1,Ae=!1,$e=!1){switch(typeof(D==null?void 0:D.toBSON)=="function"&&(D=D.toBSON()),typeof D){case"string":return 1+be.utf8ByteLength(se)+1+4+be.utf8ByteLength(D)+1;case"number":return Math.floor(D)===D&&D>=N&&D<=B&&D>=v&&D<=x?(se!=null?be.utf8ByteLength(se)+1:0)+5:(se!=null?be.utf8ByteLength(se)+1:0)+9;case"undefined":return Ae||!$e?(se!=null?be.utf8ByteLength(se)+1:0)+1:0;case"boolean":return(se!=null?be.utf8ByteLength(se)+1:0)+2;case"object":if(D!=null&&typeof D._bsontype=="string"&&D[y]!==b)throw new xe;if(D==null||D._bsontype==="MinKey"||D._bsontype==="MaxKey")return(se!=null?be.utf8ByteLength(se)+1:0)+1;if(D._bsontype==="ObjectId")return(se!=null?be.utf8ByteLength(se)+1:0)+13;if(D instanceof Date||m(D))return(se!=null?be.utf8ByteLength(se)+1:0)+9;if(ArrayBuffer.isView(D)||D instanceof ArrayBuffer||f(D))return(se!=null?be.utf8ByteLength(se)+1:0)+6+D.byteLength;if(D._bsontype==="Long"||D._bsontype==="Double"||D._bsontype==="Timestamp")return(se!=null?be.utf8ByteLength(se)+1:0)+9;if(D._bsontype==="Decimal128")return(se!=null?be.utf8ByteLength(se)+1:0)+17;if(D._bsontype==="Code")return D.scope!=null&&Object.keys(D.scope).length>0?(se!=null?be.utf8ByteLength(se)+1:0)+1+4+4+be.utf8ByteLength(D.code.toString())+1+tt(D.scope,he,$e):(se!=null?be.utf8ByteLength(se)+1:0)+1+4+be.utf8ByteLength(D.code.toString())+1;if(D._bsontype==="Binary"){const Ge=D;return Ge.sub_type===Me.SUBTYPE_BYTE_ARRAY?(se!=null?be.utf8ByteLength(se)+1:0)+(Ge.position+1+4+1+4):(se!=null?be.utf8ByteLength(se)+1:0)+(Ge.position+1+4+1)}if(D._bsontype==="Symbol")return(se!=null?be.utf8ByteLength(se)+1:0)+be.utf8ByteLength(D.value)+4+1+1;if(D._bsontype==="DBRef"){const Ge=Object.assign({$ref:D.collection,$id:D.oid},D.fields);return D.db!=null&&(Ge.$db=D.db),(se!=null?be.utf8ByteLength(se)+1:0)+1+tt(Ge,he,$e)}return D instanceof RegExp||h(D)?(se!=null?be.utf8ByteLength(se)+1:0)+1+be.utf8ByteLength(D.source)+1+(D.global?1:0)+(D.ignoreCase?1:0)+(D.multiline?1:0)+1:D._bsontype==="BSONRegExp"?(se!=null?be.utf8ByteLength(se)+1:0)+1+be.utf8ByteLength(D.pattern)+1+be.utf8ByteLength(D.options)+1:(se!=null?be.utf8ByteLength(se)+1:0)+tt(D,he,$e)+1;case"function":return he?(se!=null?be.utf8ByteLength(se)+1:0)+1+4+be.utf8ByteLength(D.toString())+1:0;case"bigint":return(se!=null?be.utf8ByteLength(se)+1:0)+9;case"symbol":return 0;default:throw new ae("Unrecognized JS type: "+typeof D)}}Ve.index=Math.floor(16777215*Math.random());class st extends De{get _bsontype(){return"BSONRegExp"}constructor(D,he){if(super(),this.pattern=D,this.options=(he??"").split("").sort().join(""),this.pattern.indexOf("\0")!==-1)throw new ae(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new ae(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let Ae=0;Ae<this.options.length;Ae++)if(this.options[Ae]!=="i"&&this.options[Ae]!=="m"&&this.options[Ae]!=="x"&&this.options[Ae]!=="l"&&this.options[Ae]!=="s"&&this.options[Ae]!=="u")throw new ae(`The regular expression option [${this.options[Ae]}] is not supported`)}static parseOptions(D){return D?D.split("").sort().join(""):""}toExtendedJSON(D){return(D=D||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(D){if("$regex"in D){if(typeof D.$regex=="string")return new st(D.$regex,st.parseOptions(D.$options));if(D.$regex._bsontype==="BSONRegExp")return D}if("$regularExpression"in D)return new st(D.$regularExpression.pattern,st.parseOptions(D.$regularExpression.options));throw new ae(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(D)}`)}inspect(D,he,Ae){const $e=function(Ge){if(Ge!=null&&typeof Ge=="object"&&"stylize"in Ge&&typeof Ge.stylize=="function")return Ge.stylize}(he)??(Ge=>Ge);return Ae??(Ae=g),`new BSONRegExp(${$e(Ae(this.pattern),"regexp")}, ${$e(Ae(this.options),"regexp")})`}}class dt extends De{get _bsontype(){return"BSONSymbol"}constructor(D){super(),this.value=D}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(D){return new dt(D.$symbol)}inspect(D,he,Ae){return Ae??(Ae=g),`new BSONSymbol(${Ae(this.value,he)})`}}const vt=Ke;class It extends vt{get _bsontype(){return"Timestamp"}get i(){return this.low>>>0}get t(){return this.high>>>0}constructor(D){if(D==null)super(0,0,!0);else if(typeof D=="bigint")super(D,!0);else if(Ke.isLong(D))super(D.low,D.high,!0);else{if(typeof D!="object"||!("t"in D)||!("i"in D))throw new ae("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }");{if(typeof D.t!="number"&&(typeof D.t!="object"||D.t._bsontype!=="Int32"))throw new ae("Timestamp constructed from { t, i } must provide t as a number");if(typeof D.i!="number"&&(typeof D.i!="object"||D.i._bsontype!=="Int32"))throw new ae("Timestamp constructed from { t, i } must provide i as a number");const he=Number(D.t),Ae=Number(D.i);if(he<0||Number.isNaN(he))throw new ae("Timestamp constructed from { t, i } must provide a positive t");if(Ae<0||Number.isNaN(Ae))throw new ae("Timestamp constructed from { t, i } must provide a positive i");if(he>4294967295)throw new ae("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(Ae>4294967295)throw new ae("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(Ae,he,!0)}}}toJSON(){return{$timestamp:this.toString()}}static fromInt(D){return new It(Ke.fromInt(D,!0))}static fromNumber(D){return new It(Ke.fromNumber(D,!0))}static fromBits(D,he){return new It({i:D,t:he})}static fromString(D,he){return new It(Ke.fromString(D,!0,he))}toExtendedJSON(){return{$timestamp:{t:this.t,i:this.i}}}static fromExtendedJSON(D){const he=Ke.isLong(D.$timestamp.i)?D.$timestamp.i.getLowBitsUnsigned():D.$timestamp.i,Ae=Ke.isLong(D.$timestamp.t)?D.$timestamp.t.getLowBitsUnsigned():D.$timestamp.t;return new It({t:Ae,i:he})}inspect(D,he,Ae){return Ae??(Ae=g),`new Timestamp({ t: ${Ae(this.t,he)}, i: ${Ae(this.i,he)} })`}}It.MAX_VALUE=Ke.MAX_UNSIGNED_VALUE;const Zt=Ke.fromNumber(B),br=Ke.fromNumber(N);function fr(se,D,he){const Ae=(D=D??{})&&D.index?D.index:0,$e=We.getInt32LE(se,Ae);if($e<5)throw new ae(`bson size must be >= 5, is ${$e}`);if(D.allowObjectSmallerThanBufferSize&&se.length<$e)throw new ae(`buffer length ${se.length} must be >= bson size ${$e}`);if(!D.allowObjectSmallerThanBufferSize&&se.length!==$e)throw new ae(`buffer length ${se.length} must === bson size ${$e}`);if($e+Ae>se.byteLength)throw new ae(`(bson size ${$e} + options.index ${Ae} must be <= buffer length ${se.byteLength})`);if(se[Ae+$e-1]!==0)throw new ae("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return Cr(se,Ae,D,he)}const Qr=/^\$ref$|^\$id$|^\$db$/;function Cr(se,D,he,Ae=!1){const $e=he.fieldsAsRaw==null?null:he.fieldsAsRaw,Ge=he.raw!=null&&he.raw,gt=typeof he.bsonRegExp=="boolean"&&he.bsonRegExp,ht=he.promoteBuffers??!1,Ye=he.promoteLongs??!0,Gt=he.promoteValues??!0,Et=he.useBigInt64??!1;if(Et&&!Gt)throw new ae("Must either request bigint or Long for int64 deserialization");if(Et&&!Ye)throw new ae("Must either request bigint or Long for int64 deserialization");let ft,Nt,qt=!0;const ir=(he.validation==null?{utf8:!0}:he.validation).utf8;if(typeof ir=="boolean")ft=ir;else{qt=!1;const Ut=Object.keys(ir).map(function(pr){return ir[pr]});if(Ut.length===0)throw new ae("UTF-8 validation setting cannot be empty");if(typeof Ut[0]!="boolean")throw new ae("Invalid UTF-8 validation option, must specify boolean values");if(ft=Ut[0],!Ut.every(pr=>pr===ft))throw new ae("Invalid UTF-8 validation option - keys must be all true or all false")}if(!qt){Nt=new Set;for(const Ut of Object.keys(ir))Nt.add(Ut)}const Fr=D;if(se.length<5)throw new ae("corrupt bson message < 5 bytes long");const pn=We.getInt32LE(se,D);if(D+=4,pn<5||pn>se.length)throw new ae("corrupt bson message");const on=Ae?[]:{};let Ln=0,dn=!Ae&&null;for(;;){const Ut=se[D++];if(Ut===0)break;let pr=D;for(;se[pr]!==0&&pr<se.length;)pr++;if(pr>=se.byteLength)throw new ae("Bad BSON Document: illegal CString");const Qi=Ae?Ln++:be.toUTF8(se,D,pr,!1);let zr,ys=!0;if(ys=qt||Nt!=null&&Nt.has(Qi)?ft:!ft,dn!==!1&&Qi[0]==="$"&&(dn=Qr.test(Qi)),D=pr+1,Ut===C){const Lt=We.getInt32LE(se,D);if(D+=4,Lt<=0||Lt>se.length-D||se[D+Lt-1]!==0)throw new ae("bad string length in bson");zr=be.toUTF8(se,D,D+Lt-1,ys),D+=Lt}else if(Ut===M){const Lt=be.allocateUnsafe(12);for(let Xt=0;Xt<12;Xt++)Lt[Xt]=se[D+Xt];zr=new Ve(Lt),D+=12}else if(Ut===R&&Gt===!1)zr=new Be(We.getInt32LE(se,D)),D+=4;else if(Ut===R)zr=We.getInt32LE(se,D),D+=4;else if(Ut===j)zr=We.getFloat64LE(se,D),D+=8,Gt===!1&&(zr=new ye(zr));else if(Ut===F){const Lt=We.getInt32LE(se,D),Xt=We.getInt32LE(se,D+4);D+=8,zr=new Date(new Ke(Lt,Xt).toNumber())}else if(Ut===H){if(se[D]!==0&&se[D]!==1)throw new ae("illegal boolean type value");zr=se[D++]===1}else if(Ut===E){const Lt=D,Xt=We.getInt32LE(se,D);if(Xt<=0||Xt>se.length-D)throw new ae("bad embedded document length in bson");if(Ge)zr=se.subarray(D,D+Xt);else{let dr=he;qt||(dr={...he,validation:{utf8:ys}}),zr=Cr(se,Lt,dr,!1)}D+=Xt}else if(Ut===S){const Lt=D,Xt=We.getInt32LE(se,D);let dr=he;const Dn=D+Xt;if($e&&$e[Qi]&&(dr={...he,raw:!0}),qt||(dr={...dr,validation:{utf8:ys}}),zr=Cr(se,Lt,dr,!0),se[(D+=Xt)-1]!==0)throw new ae("invalid array terminator byte");if(D!==Dn)throw new ae("corrupted array bson")}else if(Ut===P)zr=void 0;else if(Ut===Q)zr=null;else if(Ut===T)if(Et)zr=We.getBigInt64LE(se,D),D+=8;else{const Lt=We.getInt32LE(se,D),Xt=We.getInt32LE(se,D+4);D+=8;const dr=new Ke(Lt,Xt);zr=Ye&&Gt===!0&&dr.lessThanOrEqual(Zt)&&dr.greaterThanOrEqual(br)?dr.toNumber():dr}else if(Ut===z){const Lt=be.allocateUnsafe(16);for(let Xt=0;Xt<16;Xt++)Lt[Xt]=se[D+Xt];D+=16,zr=new me(Lt)}else if(Ut===k){let Lt=We.getInt32LE(se,D);D+=4;const Xt=Lt,dr=se[D++];if(Lt<0)throw new ae("Negative binary type element size found");if(Lt>se.byteLength)throw new ae("Binary type size larger than document size");if(dr===Me.SUBTYPE_BYTE_ARRAY){if(Lt=We.getInt32LE(se,D),D+=4,Lt<0)throw new ae("Negative binary type element size found for subtype 0x02");if(Lt>Xt-4)throw new ae("Binary type with subtype 0x02 contains too long binary size");if(Lt<Xt-4)throw new ae("Binary type with subtype 0x02 contains too short binary size")}ht&&Gt?zr=be.toLocalBufferType(se.subarray(D,D+Lt)):(zr=new Me(se.subarray(D,D+Lt),dr),dr===fe&&nt.isValid(zr)&&(zr=zr.toUUID())),D+=Lt}else if(Ut===K&&gt===!1){for(pr=D;se[pr]!==0&&pr<se.length;)pr++;if(pr>=se.length)throw new ae("Bad BSON Document: illegal CString");const Lt=be.toUTF8(se,D,pr,!1);for(pr=D=pr+1;se[pr]!==0&&pr<se.length;)pr++;if(pr>=se.length)throw new ae("Bad BSON Document: illegal CString");const Xt=be.toUTF8(se,D,pr,!1);D=pr+1;const dr=new Array(Xt.length);for(pr=0;pr<Xt.length;pr++)switch(Xt[pr]){case"m":dr[pr]="m";break;case"s":dr[pr]="g";break;case"i":dr[pr]="i"}zr=new RegExp(Lt,dr.join(""))}else if(Ut===K&&gt===!0){for(pr=D;se[pr]!==0&&pr<se.length;)pr++;if(pr>=se.length)throw new ae("Bad BSON Document: illegal CString");const Lt=be.toUTF8(se,D,pr,!1);for(pr=D=pr+1;se[pr]!==0&&pr<se.length;)pr++;if(pr>=se.length)throw new ae("Bad BSON Document: illegal CString");const Xt=be.toUTF8(se,D,pr,!1);D=pr+1,zr=new st(Lt,Xt)}else if(Ut===I){const Lt=We.getInt32LE(se,D);if(D+=4,Lt<=0||Lt>se.length-D||se[D+Lt-1]!==0)throw new ae("bad string length in bson");const Xt=be.toUTF8(se,D,D+Lt-1,ys);zr=Gt?Xt:new dt(Xt),D+=Lt}else if(Ut===U)zr=new It({i:We.getUint32LE(se,D),t:We.getUint32LE(se,D+4)}),D+=8;else if(Ut===G)zr=new Le;else if(Ut===J)zr=new Oe;else if(Ut===V){const Lt=We.getInt32LE(se,D);if(D+=4,Lt<=0||Lt>se.length-D||se[D+Lt-1]!==0)throw new ae("bad string length in bson");const Xt=be.toUTF8(se,D,D+Lt-1,ys);zr=new At(Xt),D+=Lt}else if(Ut===O){const Lt=We.getInt32LE(se,D);if(D+=4,Lt<13)throw new ae("code_w_scope total size shorter minimum expected length");const Xt=We.getInt32LE(se,D);if(D+=4,Xt<=0||Xt>se.length-D||se[D+Xt-1]!==0)throw new ae("bad string length in bson");const dr=be.toUTF8(se,D,D+Xt-1,ys),Dn=D+=Xt,$n=We.getInt32LE(se,D),ne=Cr(se,Dn,he,!1);if(D+=$n,Lt<8+$n+Xt)throw new ae("code_w_scope total size is too short, truncating scope");if(Lt>8+$n+Xt)throw new ae("code_w_scope total size is too long, clips outer document");zr=new At(dr,ne)}else{if(Ut!==Y)throw new ae(`Detected unknown BSON type ${Ut.toString(16)} for fieldname "${Qi}"`);{const Lt=We.getInt32LE(se,D);if(D+=4,Lt<=0||Lt>se.length-D||se[D+Lt-1]!==0)throw new ae("bad string length in bson");const Xt=be.toUTF8(se,D,D+Lt-1,ys);D+=Lt;const dr=be.allocateUnsafe(12);for(let $n=0;$n<12;$n++)dr[$n]=se[D+$n];const Dn=new Ve(dr);D+=12,zr=new Pt(Xt,Dn)}}Qi==="__proto__"?Object.defineProperty(on,Qi,{value:zr,writable:!0,enumerable:!0,configurable:!0}):on[Qi]=zr}if(pn!==D-Fr)throw Ae?new ae("corrupt array bson"):new ae("corrupt object bson");if(!dn)return on;if(Rt(on)){const Ut=Object.assign({},on);return delete Ut.$ref,delete Ut.$id,delete Ut.$db,new Pt(on.$ref,on.$id,on.$db,Ut)}return on}const hr=/\x00/,mr=new Set(["$db","$ref","$id","$clusterTime"]);function Xr(se,D,he,Ae){se[Ae++]=C,se[(Ae=Ae+be.encodeUTF8Into(se,D,Ae)+1)-1]=0;const $e=be.encodeUTF8Into(se,he,Ae+4);return We.setInt32LE(se,Ae,$e+1),Ae=Ae+4+$e,se[Ae++]=0,Ae}function _r(se,D,he,Ae){const $e=!Object.is(he,-0)&&Number.isSafeInteger(he)&&he<=x&&he>=v?R:j;return se[Ae++]=$e,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0,Ae+($e===R?We.setInt32LE(se,Ae,he):We.setFloat64LE(se,Ae,he))}function yr(se,D,he,Ae){return se[Ae++]=T,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0,Ae+We.setBigInt64LE(se,Ae,he)}function qr(se,D,he,Ae){return se[Ae++]=Q,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0,Ae}function Ct(se,D,he,Ae){return se[Ae++]=H,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0,se[Ae++]=he?1:0,Ae}function xr(se,D,he,Ae){se[Ae++]=F,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0;const $e=Ke.fromNumber(he.getTime()),Ge=$e.getLowBits(),gt=$e.getHighBits();return(Ae+=We.setInt32LE(se,Ae,Ge))+We.setInt32LE(se,Ae,gt)}function Vr(se,D,he,Ae){if(se[Ae++]=K,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0,he.source&&he.source.match(hr)!=null)throw new ae("value "+he.source+" must not contain null bytes");return Ae+=be.encodeUTF8Into(se,he.source,Ae),se[Ae++]=0,he.ignoreCase&&(se[Ae++]=105),he.global&&(se[Ae++]=115),he.multiline&&(se[Ae++]=109),se[Ae++]=0,Ae}function jr(se,D,he,Ae){if(se[Ae++]=K,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0,he.pattern.match(hr)!=null)throw new ae("pattern "+he.pattern+" must not contain null bytes");Ae+=be.encodeUTF8Into(se,he.pattern,Ae),se[Ae++]=0;const $e=he.options.split("").sort().join("");return Ae+=be.encodeUTF8Into(se,$e,Ae),se[Ae++]=0,Ae}function Dr(se,D,he,Ae){return he===null?se[Ae++]=Q:he._bsontype==="MinKey"?se[Ae++]=G:se[Ae++]=J,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0,Ae}function nn(se,D,he,Ae){return se[Ae++]=M,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0,Ae+he.serializeInto(se,Ae)}function bn(se,D,he,Ae){se[Ae++]=k,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0;const $e=he.length;if(Ae+=We.setInt32LE(se,Ae,$e),se[Ae++]=ee,$e<=16)for(let Ge=0;Ge<$e;Ge++)se[Ae+Ge]=he[Ge];else se.set(he,Ae);return Ae+$e}function ci(se,D,he,Ae,$e,Ge,gt,ht,Ye){if(Ye.has(he))throw new ae("Cannot convert circular structure to BSON");Ye.add(he),se[Ae++]=Array.isArray(he)?S:E,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0;const Gt=jn(se,he,$e,Ae,Ge+1,gt,ht,Ye);return Ye.delete(he),Gt}function ri(se,D,he,Ae){se[Ae++]=z,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0;for(let $e=0;$e<16;$e++)se[Ae+$e]=he.bytes[$e];return Ae+16}function ui(se,D,he,Ae){se[Ae++]=he._bsontype==="Long"?T:U,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0;const $e=he.getLowBits(),Ge=he.getHighBits();return(Ae+=We.setInt32LE(se,Ae,$e))+We.setInt32LE(se,Ae,Ge)}function di(se,D,he,Ae){return he=he.valueOf(),se[Ae++]=R,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0,Ae+We.setInt32LE(se,Ae,he)}function sn(se,D,he,Ae){return se[Ae++]=j,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0,Ae+We.setFloat64LE(se,Ae,he.value)}function Gn(se,D,he,Ae){se[Ae++]=V,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0;const $e=he.toString(),Ge=be.encodeUTF8Into(se,$e,Ae+4)+1;return We.setInt32LE(se,Ae,Ge),Ae=Ae+4+Ge-1,se[Ae++]=0,Ae}function xn(se,D,he,Ae,$e=!1,Ge=0,gt=!1,ht=!0,Ye){if(he.scope&&typeof he.scope=="object"){se[Ae++]=O,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0;let Gt=Ae;const Et=he.code;Ae+=4;const ft=be.encodeUTF8Into(se,Et,Ae+4)+1;We.setInt32LE(se,Ae,ft),se[Ae+4+ft-1]=0,Ae=Ae+ft+4;const Nt=jn(se,he.scope,$e,Ae,Ge+1,gt,ht,Ye);Ae=Nt-1;const qt=Nt-Gt;Gt+=We.setInt32LE(se,Gt,qt),se[Ae++]=0}else{se[Ae++]=V,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0;const Gt=he.code.toString(),Et=be.encodeUTF8Into(se,Gt,Ae+4)+1;We.setInt32LE(se,Ae,Et),Ae=Ae+4+Et-1,se[Ae++]=0}return Ae}function Wn(se,D,he,Ae){se[Ae++]=k,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0;const $e=he.buffer;let Ge=he.position;if(he.sub_type===Me.SUBTYPE_BYTE_ARRAY&&(Ge+=4),Ae+=We.setInt32LE(se,Ae,Ge),se[Ae++]=he.sub_type,he.sub_type===Me.SUBTYPE_BYTE_ARRAY&&(Ge-=4,Ae+=We.setInt32LE(se,Ae,Ge)),he.sub_type===Me.SUBTYPE_VECTOR&&ot(he),Ge<=16)for(let gt=0;gt<Ge;gt++)se[Ae+gt]=$e[gt];else se.set($e,Ae);return Ae+he.position}function an(se,D,he,Ae){se[Ae++]=I,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0;const $e=be.encodeUTF8Into(se,he.value,Ae+4)+1;return We.setInt32LE(se,Ae,$e),Ae=Ae+4+$e-1,se[Ae++]=0,Ae}function wn(se,D,he,Ae,$e,Ge,gt){se[Ae++]=E,Ae+=be.encodeUTF8Into(se,D,Ae),se[Ae++]=0;let ht=Ae,Ye={$ref:he.collection||he.namespace,$id:he.oid};he.db!=null&&(Ye.$db=he.db),Ye=Object.assign(Ye,he.fields);const Gt=jn(se,Ye,!1,Ae,$e+1,Ge,!0,gt),Et=Gt-ht;return ht+=We.setInt32LE(se,Ae,Et),Gt}function jn(se,D,he,Ae,$e,Ge,gt,ht){if(ht==null){if(D==null)return se[0]=5,se[1]=0,se[2]=0,se[3]=0,se[4]=0,5;if(Array.isArray(D))throw new ae("serialize does not support an array as the root input");if(typeof D!="object")throw new ae("serialize does not support non-object as the root input");if("_bsontype"in D&&typeof D._bsontype=="string")throw new ae("BSON types cannot be serialized as a document");if(m(D)||h(D)||A(D)||f(D))throw new ae("date, regexp, typedarray, and arraybuffer cannot be BSON documents");ht=new Set}ht.add(D);let Ye=Ae+4;if(Array.isArray(D))for(let Et=0;Et<D.length;Et++){const ft=`${Et}`;let Nt=D[Et];typeof(Nt==null?void 0:Nt.toBSON)=="function"&&(Nt=Nt.toBSON());const qt=typeof Nt;if(Nt===void 0)Ye=qr(se,ft,0,Ye);else if(Nt===null)Ye=qr(se,ft,0,Ye);else if(qt==="string")Ye=Xr(se,ft,Nt,Ye);else if(qt==="number")Ye=_r(se,ft,Nt,Ye);else if(qt==="bigint")Ye=yr(se,ft,Nt,Ye);else if(qt==="boolean")Ye=Ct(se,ft,Nt,Ye);else if(qt==="object"&&Nt._bsontype==null)Ye=Nt instanceof Date||m(Nt)?xr(se,ft,Nt,Ye):Nt instanceof Uint8Array||A(Nt)?bn(se,ft,Nt,Ye):Nt instanceof RegExp||h(Nt)?Vr(se,ft,Nt,Ye):ci(se,ft,Nt,Ye,he,$e,Ge,gt,ht);else if(qt==="object"){if(Nt[y]!==b)throw new xe;if(Nt._bsontype==="ObjectId")Ye=nn(se,ft,Nt,Ye);else if(Nt._bsontype==="Decimal128")Ye=ri(se,ft,Nt,Ye);else if(Nt._bsontype==="Long"||Nt._bsontype==="Timestamp")Ye=ui(se,ft,Nt,Ye);else if(Nt._bsontype==="Double")Ye=sn(se,ft,Nt,Ye);else if(Nt._bsontype==="Code")Ye=xn(se,ft,Nt,Ye,he,$e,Ge,gt,ht);else if(Nt._bsontype==="Binary")Ye=Wn(se,ft,Nt,Ye);else if(Nt._bsontype==="BSONSymbol")Ye=an(se,ft,Nt,Ye);else if(Nt._bsontype==="DBRef")Ye=wn(se,ft,Nt,Ye,$e,Ge,ht);else if(Nt._bsontype==="BSONRegExp")Ye=jr(se,ft,Nt,Ye);else if(Nt._bsontype==="Int32")Ye=di(se,ft,Nt,Ye);else if(Nt._bsontype==="MinKey"||Nt._bsontype==="MaxKey")Ye=Dr(se,ft,Nt,Ye);else if(Nt._bsontype!==void 0)throw new ae(`Unrecognized or invalid _bsontype: ${String(Nt._bsontype)}`)}else qt==="function"&&Ge&&(Ye=Gn(se,ft,Nt,Ye))}else if(D instanceof Map||p(D)){const Et=D.entries();let ft=!1;for(;!ft;){const Nt=Et.next();if(ft=!!Nt.done,ft)continue;const qt=Nt.value?Nt.value[0]:void 0;let ir=Nt.value?Nt.value[1]:void 0;typeof(ir==null?void 0:ir.toBSON)=="function"&&(ir=ir.toBSON());const Fr=typeof ir;if(typeof qt=="string"&&!mr.has(qt)){if(qt.match(hr)!=null)throw new ae("key "+qt+" must not contain null bytes");if(he){if(qt[0]==="$")throw new ae("key "+qt+" must not start with '$'");if(qt.includes("."))throw new ae("key "+qt+" must not contain '.'")}}if(ir===void 0)gt===!1&&(Ye=qr(se,qt,0,Ye));else if(ir===null)Ye=qr(se,qt,0,Ye);else if(Fr==="string")Ye=Xr(se,qt,ir,Ye);else if(Fr==="number")Ye=_r(se,qt,ir,Ye);else if(Fr==="bigint")Ye=yr(se,qt,ir,Ye);else if(Fr==="boolean")Ye=Ct(se,qt,ir,Ye);else if(Fr==="object"&&ir._bsontype==null)Ye=ir instanceof Date||m(ir)?xr(se,qt,ir,Ye):ir instanceof Uint8Array||A(ir)?bn(se,qt,ir,Ye):ir instanceof RegExp||h(ir)?Vr(se,qt,ir,Ye):ci(se,qt,ir,Ye,he,$e,Ge,gt,ht);else if(Fr==="object"){if(ir[y]!==b)throw new xe;if(ir._bsontype==="ObjectId")Ye=nn(se,qt,ir,Ye);else if(ir._bsontype==="Decimal128")Ye=ri(se,qt,ir,Ye);else if(ir._bsontype==="Long"||ir._bsontype==="Timestamp")Ye=ui(se,qt,ir,Ye);else if(ir._bsontype==="Double")Ye=sn(se,qt,ir,Ye);else if(ir._bsontype==="Code")Ye=xn(se,qt,ir,Ye,he,$e,Ge,gt,ht);else if(ir._bsontype==="Binary")Ye=Wn(se,qt,ir,Ye);else if(ir._bsontype==="BSONSymbol")Ye=an(se,qt,ir,Ye);else if(ir._bsontype==="DBRef")Ye=wn(se,qt,ir,Ye,$e,Ge,ht);else if(ir._bsontype==="BSONRegExp")Ye=jr(se,qt,ir,Ye);else if(ir._bsontype==="Int32")Ye=di(se,qt,ir,Ye);else if(ir._bsontype==="MinKey"||ir._bsontype==="MaxKey")Ye=Dr(se,qt,ir,Ye);else if(ir._bsontype!==void 0)throw new ae(`Unrecognized or invalid _bsontype: ${String(ir._bsontype)}`)}else Fr==="function"&&Ge&&(Ye=Gn(se,qt,ir,Ye))}}else{if(typeof(D==null?void 0:D.toBSON)=="function"&&(D=D.toBSON())!=null&&typeof D!="object")throw new ae("toBSON function did not return an object");for(const Et of Object.keys(D)){let ft=D[Et];typeof(ft==null?void 0:ft.toBSON)=="function"&&(ft=ft.toBSON());const Nt=typeof ft;if(typeof Et=="string"&&!mr.has(Et)){if(Et.match(hr)!=null)throw new ae("key "+Et+" must not contain null bytes");if(he){if(Et[0]==="$")throw new ae("key "+Et+" must not start with '$'");if(Et.includes("."))throw new ae("key "+Et+" must not contain '.'")}}if(ft===void 0)gt===!1&&(Ye=qr(se,Et,0,Ye));else if(ft===null)Ye=qr(se,Et,0,Ye);else if(Nt==="string")Ye=Xr(se,Et,ft,Ye);else if(Nt==="number")Ye=_r(se,Et,ft,Ye);else if(Nt==="bigint")Ye=yr(se,Et,ft,Ye);else if(Nt==="boolean")Ye=Ct(se,Et,ft,Ye);else if(Nt==="object"&&ft._bsontype==null)Ye=ft instanceof Date||m(ft)?xr(se,Et,ft,Ye):ft instanceof Uint8Array||A(ft)?bn(se,Et,ft,Ye):ft instanceof RegExp||h(ft)?Vr(se,Et,ft,Ye):ci(se,Et,ft,Ye,he,$e,Ge,gt,ht);else if(Nt==="object"){if(ft[y]!==b)throw new xe;if(ft._bsontype==="ObjectId")Ye=nn(se,Et,ft,Ye);else if(ft._bsontype==="Decimal128")Ye=ri(se,Et,ft,Ye);else if(ft._bsontype==="Long"||ft._bsontype==="Timestamp")Ye=ui(se,Et,ft,Ye);else if(ft._bsontype==="Double")Ye=sn(se,Et,ft,Ye);else if(ft._bsontype==="Code")Ye=xn(se,Et,ft,Ye,he,$e,Ge,gt,ht);else if(ft._bsontype==="Binary")Ye=Wn(se,Et,ft,Ye);else if(ft._bsontype==="BSONSymbol")Ye=an(se,Et,ft,Ye);else if(ft._bsontype==="DBRef")Ye=wn(se,Et,ft,Ye,$e,Ge,ht);else if(ft._bsontype==="BSONRegExp")Ye=jr(se,Et,ft,Ye);else if(ft._bsontype==="Int32")Ye=di(se,Et,ft,Ye);else if(ft._bsontype==="MinKey"||ft._bsontype==="MaxKey")Ye=Dr(se,Et,ft,Ye);else if(ft._bsontype!==void 0)throw new ae(`Unrecognized or invalid _bsontype: ${String(ft._bsontype)}`)}else Nt==="function"&&Ge&&(Ye=Gn(se,Et,ft,Ye))}}ht.delete(D),se[Ye++]=0;const Gt=Ye-Ae;return Ae+=We.setInt32LE(se,Ae,Gt),Ye}const er={$oid:Ve,$binary:Me,$uuid:Me,$symbol:dt,$numberInt:Be,$numberDecimal:me,$numberDouble:ye,$numberLong:Ke,$minKey:Le,$maxKey:Oe,$regex:st,$regularExpression:st,$timestamp:It};function cn(se,D={}){if(typeof se=="number"){const Ae=se<=x&&se>=v,$e=se<=w&&se>=_;if(D.relaxed||D.legacy)return se;if(Number.isInteger(se)&&!Object.is(se,-0)){if(Ae)return new Be(se);if($e)return D.useBigInt64?BigInt(se):Ke.fromNumber(se)}return new ye(se)}if(se==null||typeof se!="object")return se;if(se.$undefined)return null;const he=Object.keys(se).filter(Ae=>Ae.startsWith("$")&&se[Ae]!=null);for(let Ae=0;Ae<he.length;Ae++){const $e=er[he[Ae]];if($e)return $e.fromExtendedJSON(se,D)}if(se.$date!=null){const Ae=se.$date,$e=new Date;if(D.legacy)if(typeof Ae=="number")$e.setTime(Ae);else if(typeof Ae=="string")$e.setTime(Date.parse(Ae));else{if(typeof Ae!="bigint")throw new X("Unrecognized type for EJSON date: "+typeof Ae);$e.setTime(Number(Ae))}else if(typeof Ae=="string")$e.setTime(Date.parse(Ae));else if(Ke.isLong(Ae))$e.setTime(Ae.toNumber());else if(typeof Ae=="number"&&D.relaxed)$e.setTime(Ae);else{if(typeof Ae!="bigint")throw new X("Unrecognized type for EJSON date: "+typeof Ae);$e.setTime(Number(Ae))}return $e}if(se.$code!=null){const Ae=Object.assign({},se);return se.$scope&&(Ae.$scope=cn(se.$scope)),At.fromExtendedJSON(se)}if(Rt(se)||se.$dbPointer){const Ae=se.$ref?se:se.$dbPointer;if(Ae instanceof Pt)return Ae;const $e=Object.keys(Ae).filter(gt=>gt.startsWith("$"));let Ge=!0;if($e.forEach(gt=>{["$ref","$id","$db"].indexOf(gt)===-1&&(Ge=!1)}),Ge)return Pt.fromExtendedJSON(Ae)}return se}function un(se){const D=se.toISOString();return se.getUTCMilliseconds()!==0?D:D.slice(0,-5)+"Z"}function wr(se,D){if(se instanceof Map||p(se)){const he=Object.create(null);for(const[Ae,$e]of se){if(typeof Ae!="string")throw new ae("Can only serialize maps with string keys");he[Ae]=$e}return wr(he,D)}if((typeof se=="object"||typeof se=="function")&&se!==null){const he=D.seenObjects.findIndex(Ae=>Ae.obj===se);if(he!==-1){const Ae=D.seenObjects.map(Et=>Et.propertyName),$e=Ae.slice(0,he).map(Et=>`${Et} -> `).join(""),Ge=Ae[he],gt=" -> "+Ae.slice(he+1,Ae.length-1).map(Et=>`${Et} -> `).join(""),ht=Ae[Ae.length-1],Ye=" ".repeat($e.length+Ge.length/2),Gt="-".repeat(gt.length+(Ge.length+ht.length)/2-1);throw new ae(`Converting circular structure to EJSON:
    ${$e}${Ge}${gt}${ht}
    ${Ye}\\${Gt}/`)}D.seenObjects[D.seenObjects.length-1].obj=se}if(Array.isArray(se))return function(he,Ae){return he.map(($e,Ge)=>{Ae.seenObjects.push({propertyName:`index ${Ge}`,obj:null});try{return wr($e,Ae)}finally{Ae.seenObjects.pop()}})}(se,D);if(se===void 0)return null;if(se instanceof Date||m(se)){const he=se.getTime(),Ae=he>-1&&he<2534023188e5;return D.legacy?D.relaxed&&Ae?{$date:se.getTime()}:{$date:un(se)}:D.relaxed&&Ae?{$date:un(se)}:{$date:{$numberLong:se.getTime().toString()}}}if(!(typeof se!="number"||D.relaxed&&isFinite(se))){if(Number.isInteger(se)&&!Object.is(se,-0)){if(se>=v&&se<=x)return{$numberInt:se.toString()};if(se>=_&&se<=w)return{$numberLong:se.toString()}}return{$numberDouble:Object.is(se,-0)?"-0.0":se.toString()}}if(typeof se=="bigint")return D.relaxed?Number(BigInt.asIntN(64,se)):{$numberLong:BigInt.asIntN(64,se).toString()};if(se instanceof RegExp||h(se)){let he=se.flags;if(he===void 0){const Ae=se.toString().match(/[gimuy]*$/);Ae&&(he=Ae[0])}return new st(se.source,he).toExtendedJSON(D)}return se!=null&&typeof se=="object"?function(he,Ae){if(he==null||typeof he!="object")throw new ae("not an object instance");const $e=he._bsontype;if($e===void 0){const Ge={};for(const gt of Object.keys(he)){Ae.seenObjects.push({propertyName:gt,obj:null});try{const ht=wr(he[gt],Ae);gt==="__proto__"?Object.defineProperty(Ge,gt,{value:ht,writable:!0,enumerable:!0,configurable:!0}):Ge[gt]=ht}finally{Ae.seenObjects.pop()}}return Ge}if(he!=null&&typeof he=="object"&&typeof he._bsontype=="string"&&he[y]!==b)throw new xe;if(function(Ge){return Ge!=null&&typeof Ge=="object"&&"_bsontype"in Ge&&typeof Ge._bsontype=="string"}(he)){let Ge=he;if(typeof Ge.toExtendedJSON!="function"){const gt=Hr[he._bsontype];if(!gt)throw new ae("Unrecognized or invalid _bsontype: "+he._bsontype);Ge=gt(Ge)}return $e==="Code"&&Ge.scope?Ge=new At(Ge.code,wr(Ge.scope,Ae)):$e==="DBRef"&&Ge.oid&&(Ge=new Pt(wr(Ge.collection,Ae),wr(Ge.oid,Ae),wr(Ge.db,Ae),wr(Ge.fields,Ae))),Ge.toExtendedJSON(Ae)}throw new ae("_bsontype must be a string, but was: "+typeof $e)}(se,D):se}const Hr={Binary:se=>new Me(se.value(),se.sub_type),Code:se=>new At(se.code,se.scope),DBRef:se=>new Pt(se.collection||se.namespace,se.oid,se.db,se.fields),Decimal128:se=>new me(se.bytes),Double:se=>new ye(se.value),Int32:se=>new Be(se.value),Long:se=>Ke.fromBits(se.low!=null?se.low:se.low_,se.low!=null?se.high:se.high_,se.low!=null?se.unsigned:se.unsigned_),MaxKey:()=>new Oe,MinKey:()=>new Le,ObjectId:se=>new Ve(se),BSONRegExp:se=>new st(se.pattern,se.options),BSONSymbol:se=>new dt(se.value),Timestamp:se=>It.fromBits(se.low,se.high)};function Er(se,D){const he={useBigInt64:(D==null?void 0:D.useBigInt64)??!1,relaxed:(D==null?void 0:D.relaxed)??!0,legacy:(D==null?void 0:D.legacy)??!1};return JSON.parse(se,(Ae,$e)=>{if(Ae.indexOf("\0")!==-1)throw new ae(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(Ae)}`);return cn($e,he)})}function or(se,D,he,Ae){he!=null&&typeof he=="object"&&(Ae=he,he=0),D==null||typeof D!="object"||Array.isArray(D)||(Ae=D,D=void 0,he=0);const $e=wr(se,Object.assign({relaxed:!0,legacy:!1},Ae,{seenObjects:[{propertyName:"(root)",obj:null}]}));return JSON.stringify($e,D,he)}const In=Object.create(null);In.parse=Er,In.stringify=or,In.serialize=function(se,D){return D=D||{},JSON.parse(or(se,D))},In.deserialize=function(se,D){return D=D||{},Er(JSON.stringify(se),D)},Object.freeze(In);function ji(se,D){try{return We.getNonnegativeInt32LE(se,D)}catch(he){throw new ie("BSON size cannot be negative",D,{cause:he})}}function Qn(se,D){let he=D;for(;se[he]!==0;he++);if(he===se.length-1)throw new ie("Null terminator not found",D);return he}const Vs=Object.create(null);Vs.parseToElements=function(se,D=0){if(D??(D=0),se.length<5)throw new ie(`Input must be at least 5 bytes, got ${se.length} bytes`,D);const he=ji(se,D);if(he>se.length-D)throw new ie(`Parsed documentSize (${he} bytes) does not match input length (${se.length} bytes)`,D);if(se[D+he-1]!==0)throw new ie("BSON documents must end in 0x00",D+he);const Ae=[];let $e=D+4;for(;$e<=he+D;){const Ge=se[$e];if($e+=1,Ge===0){if($e-D!==he)throw new ie("Invalid 0x00 type byte",$e);break}const gt=$e,ht=Qn(se,$e)-gt;let Ye;if($e+=ht+1,Ge===1||Ge===18||Ge===9||Ge===17)Ye=8;else if(Ge===16)Ye=4;else if(Ge===7)Ye=12;else if(Ge===19)Ye=16;else if(Ge===8)Ye=1;else if(Ge===10||Ge===6||Ge===127||Ge===255)Ye=0;else if(Ge===11)Ye=Qn(se,Qn(se,$e)+1)+1-$e;else if(Ge===3||Ge===4||Ge===15)Ye=ji(se,$e);else{if(Ge!==2&&Ge!==5&&Ge!==12&&Ge!==13&&Ge!==14)throw new ie(`Invalid 0x${Ge.toString(16).padStart(2,"0")} type byte`,$e);Ye=ji(se,$e)+4,Ge===5&&(Ye+=1),Ge===12&&(Ye+=12)}if(Ye>he)throw new ie("value reports length larger than document",$e);Ae.push([Ge,gt,ht,$e,Ye]),$e+=Ye}return Ae},Vs.ByteUtils=be,Vs.NumberUtils=We,Object.freeze(Vs);const Ts=17825792;let Pn=be.allocate(Ts);function zs(se){Pn.length<se&&(Pn=be.allocate(se))}function ro(se,D={}){const he=typeof D.checkKeys=="boolean"&&D.checkKeys,Ae=typeof D.serializeFunctions=="boolean"&&D.serializeFunctions,$e=typeof D.ignoreUndefined!="boolean"||D.ignoreUndefined,Ge=typeof D.minInternalBufferSize=="number"?D.minInternalBufferSize:Ts;Pn.length<Ge&&(Pn=be.allocate(Ge));const gt=jn(Pn,se,he,0,0,Ae,$e,null),ht=be.allocateUnsafe(gt);return ht.set(Pn.subarray(0,gt),0),ht}function Mc(se,D,he={}){const Ae=typeof he.checkKeys=="boolean"&&he.checkKeys,$e=typeof he.serializeFunctions=="boolean"&&he.serializeFunctions,Ge=typeof he.ignoreUndefined!="boolean"||he.ignoreUndefined,gt=typeof he.index=="number"?he.index:0,ht=jn(Pn,se,Ae,0,0,$e,Ge,null);return D.set(Pn.subarray(0,ht),gt),gt+ht-1}function dl(se,D={}){return fr(be.toLocalBufferType(se),D)}function Oo(se,D={}){return tt(se,typeof(D=D||{}).serializeFunctions=="boolean"&&D.serializeFunctions,typeof D.ignoreUndefined!="boolean"||D.ignoreUndefined)}function Mi(se,D,he,Ae,$e,Ge){const gt=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},Ge),ht=be.toLocalBufferType(se);let Ye=D;for(let Gt=0;Gt<he;Gt++){const Et=We.getInt32LE(ht,Ye);gt.index=Ye,Ae[$e+Gt]=fr(ht,gt),Ye+=Et}return Ye}var xa=Object.freeze({__proto__:null,BSONError:ae,BSONOffsetError:ie,BSONRegExp:st,BSONRuntimeError:X,BSONSymbol:dt,BSONType:de,BSONValue:De,BSONVersionError:xe,Binary:Me,Code:At,DBRef:Pt,Decimal128:me,Double:ye,EJSON:In,Int32:Be,Long:Ke,MaxKey:Oe,MinKey:Le,ObjectId:Ve,Timestamp:It,UUID:nt,calculateObjectSize:Oo,deserialize:dl,deserializeStream:Mi,onDemand:Vs,serialize:ro,serializeWithBufferAndIndex:Mc,setInternalBufferSize:zs})},6365:(o,l,c)=>{var u=c(5832).hp,d=c(6353).Binary,A=c(6353).UUID,f=c(8768);function h(g,b,y){var x,v,w,_,B=g;return g==null&&(B=0),Array.isArray(b)?(v=b[0],w=b[1]):x=b,_=typeof B=="number"||B instanceof Number?u.alloc(B):u.from(B,x,y),f.decorate(_,h.mixin),_.isMongooseBuffer=!0,_[h.pathSymbol]=v,_[m]=w,_._subtype=0,_}var p=Symbol.for("mongoose#Buffer#_path"),m=Symbol.for("mongoose#Buffer#_parent");h.pathSymbol=p,h.mixin={_subtype:void 0,_markModified:function(){var g=this[m];return g&&g.markModified(this[h.pathSymbol]),this},write:function(){var g=u.prototype.write.apply(this,arguments);return g>0&&this._markModified(),g},copy:function(g){var b=u.prototype.copy.apply(this,arguments);return g&&g.isMongooseBuffer&&g._markModified(),b}},f.each(["writeUInt8","writeUInt16","writeUInt32","writeInt8","writeInt16","writeInt32","writeFloat","writeDouble","fill","utf8Write","binaryWrite","asciiWrite","set","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE"],function(g){u.prototype[g]&&(h.mixin[g]=function(){var b=u.prototype[g].apply(this,arguments);return this._markModified(),b})}),h.mixin.toObject=function(g){var b=typeof g=="number"?g:this._subtype||0;return new d(u.from(this),b)},h.mixin.$toObject=h.mixin.toObject,h.mixin.toBSON=function(){return new d(this,this._subtype||0)},h.mixin.toUUID=function(){if(this._subtype!==4)throw new Error("Cannot convert a Buffer with subtype "+this._subtype+" to a UUID");return new A(this)},h.mixin.equals=function(g){if(!u.isBuffer(g)||this.length!==g.length)return!1;for(var b=0;b<this.length;++b)if(this[b]!==g[b])return!1;return!0},h.mixin.subtype=function(g){if(typeof g!="number")throw new TypeError("Invalid subtype. Expected a number");this._subtype!==g&&this._markModified(),this._subtype=g},h.Binary=d,o.exports=h},6400:(o,l,c)=>{function u(ve){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ke){return typeof ke}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke},u(ve)}var d,A=c(8093),f=c(9870),h=c(9206),p=c(9939),m=c(783),g=c(9907),b=c(2268),y=c(8188),x=c(9471),v=c(2401),w=c(1697),_=c(8435),B=c(8633),N=c(2151),j=c(674),C=Function,E=function(ve){try{return C('"use strict"; return ('+ve+").constructor;")()}catch{}},S=c(1464),k=c(988),P=function(){throw new b},M=S?function(){try{return P}catch{try{return S(arguments,"callee").get}catch{return P}}}():P,H=c(5510)(),F=c(209),Q=c(5825),K=c(2403),Y=c(3279),V=c(3123),I={},O=typeof Uint8Array<"u"&&F?F(Uint8Array):d,R={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?d:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?d:ArrayBuffer,"%ArrayIteratorPrototype%":H&&F?F([][Symbol.iterator]()):d,"%AsyncFromSyncIteratorPrototype%":d,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?d:Atomics,"%BigInt%":typeof BigInt>"u"?d:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?d:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?d:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?d:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":f,"%eval%":eval,"%EvalError%":h,"%Float16Array%":typeof Float16Array>"u"?d:Float16Array,"%Float32Array%":typeof Float32Array>"u"?d:Float32Array,"%Float64Array%":typeof Float64Array>"u"?d:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?d:FinalizationRegistry,"%Function%":C,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?d:Int8Array,"%Int16Array%":typeof Int16Array>"u"?d:Int16Array,"%Int32Array%":typeof Int32Array>"u"?d:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":H&&F?F(F([][Symbol.iterator]())):d,"%JSON%":(typeof JSON>"u"?"undefined":u(JSON))==="object"?JSON:d,"%Map%":typeof Map>"u"?d:Map,"%MapIteratorPrototype%":typeof Map<"u"&&H&&F?F(new Map()[Symbol.iterator]()):d,"%Math%":Math,"%Number%":Number,"%Object%":A,"%Object.getOwnPropertyDescriptor%":S,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?d:Promise,"%Proxy%":typeof Proxy>"u"?d:Proxy,"%RangeError%":p,"%ReferenceError%":m,"%Reflect%":typeof Reflect>"u"?d:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?d:Set,"%SetIteratorPrototype%":typeof Set<"u"&&H&&F?F(new Set()[Symbol.iterator]()):d,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?d:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":H&&F?F(""[Symbol.iterator]()):d,"%Symbol%":H?Symbol:d,"%SyntaxError%":g,"%ThrowTypeError%":M,"%TypedArray%":O,"%TypeError%":b,"%Uint8Array%":typeof Uint8Array>"u"?d:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?d:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?d:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?d:Uint32Array,"%URIError%":y,"%WeakMap%":typeof WeakMap>"u"?d:WeakMap,"%WeakRef%":typeof WeakRef>"u"?d:WeakRef,"%WeakSet%":typeof WeakSet>"u"?d:WeakSet,"%Function.prototype.call%":V,"%Function.prototype.apply%":Y,"%Object.defineProperty%":k,"%Object.getPrototypeOf%":Q,"%Math.abs%":x,"%Math.floor%":v,"%Math.max%":w,"%Math.min%":_,"%Math.pow%":B,"%Math.round%":N,"%Math.sign%":j,"%Reflect.getPrototypeOf%":K};if(F)try{null.error}catch(ve){var U=F(F(ve));R["%Error.prototype%"]=U}var T=function ve(ke){var Ce;if(ke==="%AsyncFunction%")Ce=E("async function () {}");else if(ke==="%GeneratorFunction%")Ce=E("function* () {}");else if(ke==="%AsyncGeneratorFunction%")Ce=E("async function* () {}");else if(ke==="%AsyncGenerator%"){var we=ve("%AsyncGeneratorFunction%");we&&(Ce=we.prototype)}else if(ke==="%AsyncIteratorPrototype%"){var oe=ve("%AsyncGenerator%");oe&&F&&(Ce=F(oe.prototype))}return R[ke]=Ce,Ce},z={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},G=c(2354),J=c(5994),ee=G.call(V,Array.prototype.concat),fe=G.call(Y,Array.prototype.splice),de=G.call(V,String.prototype.replace),ae=G.call(V,String.prototype.slice),xe=G.call(V,RegExp.prototype.exec),X=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ie=/\\(\\)?/g,re=function(ve,ke){var Ce,we=ve;if(J(z,we)&&(we="%"+(Ce=z[we])[0]+"%"),J(R,we)){var oe=R[we];if(oe===I&&(oe=T(we)),oe===void 0&&!ke)throw new b("intrinsic "+ve+" exists, but is not available. Please file an issue!");return{alias:Ce,name:we,value:oe}}throw new g("intrinsic "+ve+" does not exist!")};o.exports=function(ve,ke){if(typeof ve!="string"||ve.length===0)throw new b("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ke!="boolean")throw new b('"allowMissing" argument must be a boolean');if(xe(/^%?[^%]*%?$/,ve)===null)throw new g("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ce=function(ot){var xt=ae(ot,0,1),Ft=ae(ot,-1);if(xt==="%"&&Ft!=="%")throw new g("invalid intrinsic syntax, expected closing `%`");if(Ft==="%"&&xt!=="%")throw new g("invalid intrinsic syntax, expected opening `%`");var nt=[];return de(ot,X,function(At,Rt,Pt,ur){nt[nt.length]=Pt?de(ur,ie,"$1"):Rt||At}),nt}(ve),we=Ce.length>0?Ce[0]:"",oe=re("%"+we+"%",ke),pe=oe.name,je=oe.value,Te=!1,be=oe.alias;be&&(we=be[0],fe(Ce,ee([0,1],be)));for(var De=1,qe=!0;De<Ce.length;De+=1){var Qe=Ce[De],Re=ae(Qe,0,1),We=ae(Qe,-1);if((Re==='"'||Re==="'"||Re==="`"||We==='"'||We==="'"||We==="`")&&Re!==We)throw new g("property names with quotes must have matching quotes");if(Qe!=="constructor"&&qe||(Te=!0),J(R,pe="%"+(we+="."+Qe)+"%"))je=R[pe];else if(je!=null){if(!(Qe in je)){if(!ke)throw new b("base intrinsic for "+ve+" exists, but the property is not available.");return}if(S&&De+1>=Ce.length){var Me=S(je,Qe);je=(qe=!!Me)&&"get"in Me&&!("originalValue"in Me.get)?Me.get:je[Qe]}else qe=J(je,Qe),je=je[Qe];qe&&!Te&&(R[pe]=je)}}return je}},6413:(o,l,c)=>{function u(y){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},u(y)}function d(y,x){var v=Object.keys(y);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(y);x&&(w=w.filter(function(_){return Object.getOwnPropertyDescriptor(y,_).enumerable})),v.push.apply(v,w)}return v}function A(y,x,v){return(x=function(w){var _=function(B){if(u(B)!="object"||!B)return B;var N=B[Symbol.toPrimitive];if(N!==void 0){var j=N.call(B,"string");if(u(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return u(_)=="symbol"?_:_+""}(x))in y?Object.defineProperty(y,x,{value:v,enumerable:!0,configurable:!0,writable:!0}):y[x]=v,y}var f=c(3609),h=c(6426),p=c(8953),m=c(4327);function g(y,x){h.call(this,y,x,"Boolean")}g.schemaName="Boolean",g.defaultOptions={},g.prototype=Object.create(h.prototype),g.prototype.constructor=g,g._cast=p,g.set=h.set,g.setters=[],g.get=h.get,g.cast=function(y){return arguments.length===0||(y===!1&&(y=this._defaultCaster),this._cast=y),this._cast},g._defaultCaster=function(y){if(y!=null&&typeof y!="boolean")throw new Error;return y},g._checkRequired=function(y){return y===!0||y===!1},g.checkRequired=h.checkRequired,g.prototype.checkRequired=function(y){return this.constructor._checkRequired(y)},Object.defineProperty(g,"convertToTrue",{get:function(){return p.convertToTrue},set:function(y){p.convertToTrue=y}}),Object.defineProperty(g,"convertToFalse",{get:function(){return p.convertToFalse},set:function(y){p.convertToFalse=y}}),g.prototype.cast=function(y){var x;x=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():g.cast();try{return x(y)}catch(v){throw new f("Boolean",y,this.path,v,this)}};var b=function(y){for(var x=1;x<arguments.length;x++){var v=arguments[x]!=null?arguments[x]:{};x%2?d(Object(v),!0).forEach(function(w){A(y,w,v[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(v)):d(Object(v)).forEach(function(w){Object.defineProperty(y,w,Object.getOwnPropertyDescriptor(v,w))})}return y}({},h.prototype.$conditionalHandlers);Object.defineProperty(g.prototype,"$conditionalHandlers",{enumerable:!1,value:b}),g.prototype.castForQuery=function(y,x,v){var w;if(y!=null)return(w=this.$conditionalHandlers[y])?w.call(this,x):this.applySetters(x,v);try{return this.applySetters(x,v)}catch(_){throw _ instanceof f&&_.path===this.path&&this.$fullPath!=null&&(_.path=this.$fullPath),_}},g.prototype._castNullish=function(y){if(y===void 0)return y;var x=typeof this.constructor.cast=="function"?this.constructor.cast():g.cast();return x==null?y:!(x.convertToFalse instanceof Set&&x.convertToFalse.has(y))&&(!!(x.convertToTrue instanceof Set&&x.convertToTrue.has(y))||y)},g.prototype.toJSONSchema=function(y){var x=this.options.required&&typeof this.options.required!="function";return m("boolean","bool",y==null?void 0:y.useBsonType,x)},g.prototype.autoEncryptionType=function(){return"bool"},o.exports=g},6426:(o,l,c)=>{var u=c(5832).hp;function d(H){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},d(H)}var A=c(3672),f=c(8879),h=c(8499),p=c(2555),m=c(4450),g=c(8133),b=c(9183),y=c(6155),x=c(2746),v=c(7930).schemaTypeSymbol,w=c(8768),_=c(7930).validatorErrorSymbol,B=c(7930).documentIsModified,N=c(7930).populateModelSymbol,j=A.CastError,C=A.ValidatorError,E={_skipMarkModified:!0};function S(H,F,Q){this[v]=!0,this.path=H,this.instance=Q,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=this.constructor.hasOwnProperty("setters")?this.constructor.setters.slice():[],this.splitPath(),F=F||{};for(var K=this.constructor.defaultOptions||{},Y=0,V=Object.keys(K);Y<V.length;Y++){var I=V[Y];I==="validate"?this.validate(K.validate):K.hasOwnProperty(I)&&!Object.prototype.hasOwnProperty.call(F,I)&&(F[I]=K[I])}F.select==null&&delete F.select;var O=this.OptionsConstructor||f;this.options=new O(F),this._index=null,w.hasUserDefinedProperty(this.options,"immutable")&&(this.$immutable=this.options.immutable,g(this));for(var R=0,U=Object.keys(this.options);R<U.length;R++){var T=U[R];if(T!=="cast"){if(w.hasUserDefinedProperty(this.options,T)&&typeof this[T]=="function"){if(T==="index"&&this._index){if(F.index===!1){var z=this._index;if(d(z)==="object"&&z!=null){if(z.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(z.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}var G=F[T];if(T==="default"){this.default(G);continue}var J=Array.isArray(G)?G:[G];this[T].apply(this,J)}}else Array.isArray(this.options[T])?this.castFunction.apply(this,this.options[T]):this.castFunction(this.options[T])}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})}function k(H,F){if(H!==void 0&&!H){var Q=new(F.ErrorConstructor||C)(F);return Q[_]=!0,Q}}function P(H,F){return this.castForQuery(null,H,F)}function M(H,F){var Q=this;return Array.isArray(H)?H.map(function(K){return Array.isArray(K)&&K.length===0?K:Q.castForQuery(null,K,F)}):[this.castForQuery(null,H,F)]}S.prototype.OptionsConstructor=f,S.prototype.path,S.prototype.validators,S.prototype.isRequired,S.prototype.splitPath=function(){return this._presplitPath!=null?this._presplitPath:this.path!=null?(this._presplitPath=this.path.indexOf(".")===-1?[this.path]:this.path.split("."),this._presplitPath):void 0},S.cast=function(H){return arguments.length===0||(H===!1&&(H=function(F){return F}),this._cast=H),this._cast},S.prototype.castFunction=function(H,F){return arguments.length===0?this._castFunction:(H===!1&&(H=this.constructor._defaultCaster||function(Q){return Q}),typeof H=="string"?(this._castErrorMessage=H,this._castFunction):(H!=null&&(this._castFunction=H),F!=null&&(this._castErrorMessage=F),this._castFunction))},S.prototype.cast=function(){throw new Error("Base SchemaType class does not implement a `cast()` function")},S.set=function(H,F){this.hasOwnProperty("defaultOptions")||(this.defaultOptions=Object.assign({},this.defaultOptions)),this.defaultOptions[H]=F},S.get=function(H){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(H)},S.prototype.default=function(H){if(arguments.length===1){if(H===void 0)return void(this.defaultValue=void 0);if(H!=null&&H.instanceOfSchema)throw new A("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=H,this.defaultValue}return arguments.length>1&&(this.defaultValue=Array.prototype.slice.call(arguments)),this.defaultValue},S.prototype.index=function(H){return this._index=H,w.expires(this._index),this},S.prototype.unique=function(H,F){if(this._index===!1){if(!H)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}return this.options.hasOwnProperty("index")||H!==!1?(this._index==null||this._index===!0?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.unique=!!H,typeof F=="string"&&(this._duplicateKeyErrorMessage=F),this):this},S.prototype.text=function(H){if(this._index===!1){if(!H)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}return this.options.hasOwnProperty("index")||H!==!1?(this._index===null||this._index===void 0||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.text=H,this):this},S.prototype.sparse=function(H){if(this._index===!1){if(!H)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}return this.options.hasOwnProperty("index")||H!==!1?(this._index==null||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.sparse=H,this):this},S.prototype.immutable=function(H){return this.$immutable=H,g(this),this},S.prototype.transform=function(H){return this.options.transform=H,this},S.prototype.set=function(H){if(typeof H!="function")throw new TypeError("A setter must be a function.");return this.setters.push(H),this},S.prototype.get=function(H){if(typeof H!="function")throw new TypeError("A getter must be a function.");return this.getters.push(H),this},S.prototype.validateAll=function(H){for(var F=0;F<H.length;F++)this.validate(H[F]);return this},S.prototype.validate=function(H,F,Q){var K,Y,V,I;if(typeof H=="function"||H&&w.getFunctionName(H.constructor)==="RegExp")return typeof F=="function"?(K={validator:H,message:F}).type=Q||"user defined":F instanceof Object&&!Q?((K=y(F)?Object.assign({},F):m(F)).message||(K.message=K.msg),K.validator=H,K.type=K.type||"user defined"):(F==null&&(F=A.messages.general.default),Q||(Q="user defined"),K={message:F,type:Q,validator:H}),this.validators.push(K),this;for(Y=0,V=arguments.length;Y<V;Y++){if(I=arguments[Y],!w.isPOJO(I)){var O="Invalid validator. Received ("+d(I)+") "+I+". See https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.validate()";throw new Error(O)}this.validate(I.validator,I)}return this},S.prototype.required=function(H,F){var Q={};if(arguments.length>0&&H==null)return this.validators=this.validators.filter(function(V){return V.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if(d(H)==="object"&&(F=(Q=H).message||F,H=H.isRequired),H===!1)return this.validators=this.validators.filter(function(V){return V.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;var K=this;this.isRequired=!0,this.requiredValidator=function(V){var I=this&&this.$__&&this.$__.cachedRequired;if(I!=null&&!this.$__isSelected(K.path)&&!this[B](K.path))return!0;if(I!=null&&K.path in I){var O=!I[K.path]||K.checkRequired(V,this);return delete I[K.path],O}return typeof H=="function"&&!H.apply(this)||K.checkRequired(V,this)},this.originalRequiredValue=H,typeof H=="string"&&(F=H,H=void 0);var Y=F||A.messages.general.required;return this.validators.unshift(Object.assign({},Q,{validator:this.requiredValidator,message:Y,type:"required"})),this},S.prototype.ref=function(H){return this.options.ref=H,this},S.prototype.getDefault=function(H,F,Q){var K;if((K=typeof this.defaultValue=="function"?this.defaultValue===Date.now||this.defaultValue===Array||this.defaultValue.name.toLowerCase()==="objectid"?this.defaultValue.call(H):this.defaultValue.call(H,H):this.defaultValue)!=null){if(d(K)!=="object"||this.options&&this.options.shared||(K=m(K)),Q&&Q.skipCast)return this._applySetters(K,H);var Y=this.applySetters(K,H,F,void 0,E);return Y&&!Array.isArray(Y)&&Y.$isSingleNested&&(Y.$__parent=H),Y}return K},S.prototype._applySetters=function(H,F,Q,K,Y){var V=H;if(Q)return V;for(var I=this.setters,O=I.length-1;O>=0;O--)V=I[O].call(F,V,K,this,Y);return V},S.prototype._castNullish=function(H){return H},S.prototype.applySetters=function(H,F,Q,K,Y){var V=this._applySetters(H,F,Q,K,Y);return V==null?this._castNullish(V):V=this.cast(V,F,Q,K,Y)},S.prototype.applyGetters=function(H,F){var Q=H,K=this.getters,Y=K.length;if(Y===0)return Q;for(var V=0;V<Y;++V)Q=K[V].call(F,Q,this);return Q},S.prototype.select=function(H){return this.selected=!!H,this},S.prototype.doValidate=function(H,F,Q,K){var Y=this,V=!1,I=this.path;if(typeof F!="function")throw new TypeError("Must pass callback function to doValidate(), got ".concat(d(F)));var O=this.validators.filter(function(J){return d(J)==="object"&&J!==null}),R=O.length;if(!R)return F(null);for(var U=function(){if(V)return 0;var J,ee=O[T],fe=ee.validator,de=y(ee)?Object.assign({},ee):m(ee);if(de.path=K&&K.path?K.path:I,de.fullPath=Y.$fullPath,de.value=H,fe instanceof RegExp)return G(fe.test(H),de,Q),1;if(typeof fe!="function")return 1;if(H===void 0&&fe!==Y.requiredValidator)return G(!0,de,Q),1;try{J=de.propsParameter?fe.call(Q,H,de):fe.call(Q,H)}catch(ae){J=!1,de.reason=ae,ae.message&&(de.message=ae.message)}J!=null&&typeof J.then=="function"?J.then(function(ae){G(ae,de,Q)},function(ae){de.reason=ae,de.message=ae.message,G(J=!1,de,Q)}):G(J,de,Q)},T=0,z=O.length;T<z&&U()!==0;++T);function G(J,ee,fe){if(!V)if(J===void 0||J)--R<=0&&x(function(){F(null)});else{var de=ee.ErrorConstructor||C;(V=new de(ee,fe))[_]=!0,x(function(){F(V)})}}},S.prototype.doValidateSync=function(H,F,Q){var K=this.path;if(!this.validators.length)return null;var Y=this.validators;if(H===void 0){if(this.validators.length===0||this.validators[0].type!=="required")return null;Y=[this.validators[0]]}var V=null,I=0,O=Y.length;for(I=0;I<O;++I){var R=Y[I];if(R!==null&&d(R)==="object"){var U=R.validator,T=y(R)?Object.assign({},R):m(R);T.path=Q&&Q.path?Q.path:K,T.fullPath=this.$fullPath,T.value=H;var z=!1;if(!b(U)){if(U instanceof RegExp)V=k(U.test(H),T);else if(typeof U=="function"){try{z=T.propsParameter?U.call(F,H,T):U.call(F,H)}catch(G){z=!1,T.reason=G}if((z==null||typeof z.then!="function")&&(V=k(z,T)))break}}}}return V},S._isRef=function(H,F,Q,K){var Y=K&&H.options&&(H.options.ref||H.options.refPath);if(!Y&&Q&&Q.$__!=null){var V=Q.$__fullPath(H.path,!0),I=Q.ownerDocument();Y=V!=null&&I.$populated(V)||Q.$populated(H.path)}return!!Y&&(F==null||!(u.isBuffer(F)||F._bsontype==="Binary"||!w.isObject(F))||K)},S.prototype._castRef=function(H,F,Q,K){if(H==null)return H;if(H.$__!=null)return H.$__.wasPopulated=H.$__.wasPopulated||{value:H._doc._id},H;if(u.isBuffer(H)||!w.isObject(H)){if(Q)return H;throw new j(this.instance,H,this.path,null,this)}var Y,V,I,O=F.$__fullPath(this.path,!0),R=F.ownerDocument().$populated(O,!0),U=H;if(!(F.$__.populated&&F.$__.populated[O]&&F.$__.populated[O].options&&F.$__.populated[O].options.options&&F.$__.populated[O].options.options.lean)){var T=R?R.options[N]:F.constructor.db.model(this.options.ref);(U=T.hydrate(H,null,K)).$__.wasPopulated={value:U._doc._id,options:(Y={},V=N,I=T,(V=function(z){var G=function(J){if(d(J)!="object"||!J)return J;var ee=J[Symbol.toPrimitive];if(ee!==void 0){var fe=ee.call(J,"string");if(d(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}(z);return d(G)=="symbol"?G:G+""}(V))in Y?Object.defineProperty(Y,V,{value:I,enumerable:!0,configurable:!0,writable:!0}):Y[V]=I,Y)}}return U},S.prototype.$conditionalHandlers={$all:function(H,F){var Q=this;return Array.isArray(H)?H.map(function(K){return Q.castForQuery(null,K,F)}):[this.castForQuery(null,H,F)]},$eq:P,$in:M,$ne:P,$nin:M,$exists:h,$type:p},S.prototype.castForQuery=function(H,F,Q){var K;if(H!=null){if(!(K=this.$conditionalHandlers[H]))throw new Error("Can't use "+H);return K.call(this,F,Q)}try{return this.applySetters(F,Q)}catch(Y){throw Y instanceof j&&Y.path===this.path&&this.$fullPath!=null&&(Y.path=this.$fullPath),Y}},S.checkRequired=function(H){return arguments.length!==0&&(this._checkRequired=H),this._checkRequired},S.prototype.checkRequired=function(H){return H!=null},S.prototype.clone=function(){var H=Object.assign({},this.options),F=new this.constructor(this.path,H,this.instance);return F.validators=this.validators.slice(),this.requiredValidator!==void 0&&(F.requiredValidator=this.requiredValidator),this.defaultValue!==void 0&&(F.defaultValue=this.defaultValue),this.$immutable!==void 0&&this.options.immutable===void 0&&(F.$immutable=this.$immutable,g(F)),this._index!==void 0&&(F._index=this._index),this.selected!==void 0&&(F.selected=this.selected),this.isRequired!==void 0&&(F.isRequired=this.isRequired),this.originalRequiredValue!==void 0&&(F.originalRequiredValue=this.originalRequiredValue),F.getters=this.getters.slice(),F.setters=this.setters.slice(),F},S.prototype.getEmbeddedSchemaType=function(){return this.$embeddedSchemaType},S.prototype._duplicateKeyErrorMessage=null,S.prototype.toJSONSchema=function(){throw new Error("Converting unsupported SchemaType to JSON Schema: "+this.instance)},S.prototype.autoEncryptionType=function(){return null},o.exports=l=S,l.CastError=j,l.ValidatorError=C},6451:(o,l,c)=>{var u=c(8768).isPOJO;o.exports=function d(A){for(var f,h,p,m=Object.keys(A),g=m.length;g--;)p=A[h=m[g]],u(p)&&(A[h]=d(p)),A[h]!==void 0?f=!0:delete A[h];return f?A:void 0}},6511:(o,l,c)=>{function u(m){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(m)}function d(m,g){(g==null||g>m.length)&&(g=m.length);for(var b=0,y=Array(g);b<g;b++)y[b]=m[b];return y}function A(m,g){var b=Object.keys(m);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(m);g&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(m,x).enumerable})),b.push.apply(b,y)}return b}function f(m){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?A(Object(b),!0).forEach(function(y){h(m,y,b[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(b)):A(Object(b)).forEach(function(y){Object.defineProperty(m,y,Object.getOwnPropertyDescriptor(b,y))})}return m}function h(m,g,b){return(g=function(y){var x=function(v){if(u(v)!="object"||!v)return v;var w=v[Symbol.toPrimitive];if(w!==void 0){var _=w.call(v,"string");if(u(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(y);return u(x)=="symbol"?x:x+""}(g))in m?Object.defineProperty(m,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[g]=b,m}c(8768);var p=o.exports=function(){};p.ctor=function(){var m=Array.prototype.slice.call(arguments),g=function(){p.apply(this,arguments),this.paths={},this.states={}};return(g.prototype=new p).constructor=g,g.prototype.stateNames=m,m.forEach(function(b){g.prototype[b]=function(y){this._changeState(y,b)}}),g},p.prototype._changeState=function(m,g){var b=this.paths[m];if(b!==g){var y=this.states[b];y&&delete y[m],this.paths[m]=g,this.states[g]=this.states[g]||{},this.states[g][m]=!0}},p.prototype.clear=function(m){if(this.states[m]!=null)for(var g,b=Object.keys(this.states[m]),y=b.length;y--;)g=b[y],delete this.states[m][g],delete this.paths[g]},p.prototype.clearPath=function(m){var g=this.paths[m];g&&(delete this.paths[m],delete this.states[g][m])},p.prototype.getStatePaths=function(m){return this.states[m]!=null?this.states[m]:{}},p.prototype.some=function(){var m=this,g=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(g,function(b){return m.states[b]!=null&&Object.keys(m.states[b]).length})},p.prototype._iter=function(m){return function(){var g=Array.prototype.slice.call(arguments),b=g.pop();g.length||(g=this.stateNames);var y=this;return g.reduce(function(x,v){return y.states[v]==null?x:x.concat(Object.keys(y.states[v]))},[])[m](function(x,v,w){return b(x,v,w)})}},p.prototype.forEach=function(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)},p.prototype.map=function(){return this.map=this._iter("map"),this.map.apply(this,arguments)},p.prototype.clone=function(){var m=new this.constructor;m.paths=f({},this.paths);var g,b=function(x,v){var w=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!w){if(Array.isArray(x)||(w=function(E,S){if(E){if(typeof E=="string")return d(E,S);var k={}.toString.call(E).slice(8,-1);return k==="Object"&&E.constructor&&(k=E.constructor.name),k==="Map"||k==="Set"?Array.from(E):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?d(E,S):void 0}}(x))||v){w&&(x=w);var _=0,B=function(){};return{s:B,n:function(){return _>=x.length?{done:!0}:{done:!1,value:x[_++]}},e:function(E){throw E},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,j=!0,C=!1;return{s:function(){w=w.call(x)},n:function(){var E=w.next();return j=E.done,E},e:function(E){C=!0,N=E},f:function(){try{j||w.return==null||w.return()}finally{if(C)throw N}}}}(this.stateNames);try{for(b.s();!(g=b.n()).done;){var y=g.value;y in this.states&&(m.states[y]=this.states[y]==null?this.states[y]:f({},this.states[y]))}}catch(x){b.e(x)}finally{b.f()}return m}},6544:(o,l,c)=>{function u(w){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u(w)}var d;if(!Object.keys){var A=Object.prototype.hasOwnProperty,f=Object.prototype.toString,h=c(6312),p=Object.prototype.propertyIsEnumerable,m=!p.call({toString:null},"toString"),g=p.call(function(){},"prototype"),b=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],y=function(w){var _=w.constructor;return _&&_.prototype===w},x={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},v=function(){if(typeof window>"u")return!1;for(var w in window)try{if(!x["$"+w]&&A.call(window,w)&&window[w]!==null&&u(window[w])==="object")try{y(window[w])}catch{return!0}}catch{return!0}return!1}();d=function(w){var _=w!==null&&u(w)==="object",B=f.call(w)==="[object Function]",N=h(w),j=_&&f.call(w)==="[object String]",C=[];if(!_&&!B&&!N)throw new TypeError("Object.keys called on a non-object");var E=g&&B;if(j&&w.length>0&&!A.call(w,0))for(var S=0;S<w.length;++S)C.push(String(S));if(N&&w.length>0)for(var k=0;k<w.length;++k)C.push(String(k));else for(var P in w)E&&P==="prototype"||!A.call(w,P)||C.push(String(P));if(m)for(var M=function(F){if(typeof window>"u"||!v)return y(F);try{return y(F)}catch{return!1}}(w),H=0;H<b.length;++H)M&&b[H]==="constructor"||!A.call(w,b[H])||C.push(b[H]);return C}}o.exports=d},6547:(o,l,c)=>{function u(y,x){var v=Object.keys(y);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(y);x&&(w=w.filter(function(_){return Object.getOwnPropertyDescriptor(y,_).enumerable})),v.push.apply(v,w)}return v}function d(y,x,v){return(x=function(w){var _=function(B){if(A(B)!="object"||!B)return B;var N=B[Symbol.toPrimitive];if(N!==void 0){var j=N.call(B,"string");if(A(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return A(_)=="symbol"?_:_+""}(x))in y?Object.defineProperty(y,x,{value:v,enumerable:!0,configurable:!0,writable:!0}):y[x]=v,y}function A(y){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},A(y)}var f=c(3550).EventEmitter,h=c(9380),p=c(8768),m=c(7930).documentArrayParent;function g(y,x,v,w,_){var B;p.isMongooseDocumentArray(x)?(this.__parentArray=x,this[m]=x.$parent()):(this.__parentArray=void 0,this[m]=void 0),this.$setIndex(_),this.$__parent=this[m],A(v)==="object"&&v!=null?(B=function(N){for(var j=1;j<arguments.length;j++){var C=arguments[j]!=null?arguments[j]:{};j%2?u(Object(C),!0).forEach(function(E){d(N,E,C[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(C)):u(Object(C)).forEach(function(E){Object.defineProperty(N,E,Object.getOwnPropertyDescriptor(C,E))})}return N}({isNew:!0},v),v=void 0):B={isNew:!0},h.call(this,y,w,this[m],v,B)}for(var b in g.prototype=Object.create(h.prototype),g.prototype.constructor=g,Object.defineProperty(g.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!1}),Object.defineProperty(g.prototype,"$isDocumentArrayElement",{configurable:!1,writable:!1,value:!0}),f.prototype)g[b]=f.prototype[b];g.prototype.$setIndex=function(y){if(this.__index=y,this.$__!=null&&this.$__.validationError!=null)for(var x=0,v=Object.keys(this.$__.validationError.errors);x<v.length;x++){var w=v[x];this.invalidate(w,this.$__.validationError.errors[w])}},g.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')},g.prototype.$__removeFromParent=function(){var y=this._doc._id;if(!y)throw new Error("For your own good, Mongoose does not know how to remove an ArraySubdocument that has no _id");this.__parentArray.pull({_id:y})},g.prototype.$__fullPath=function(y,x){return this.__index==null?null:(this.$__.fullPath||this.ownerDocument(),x?y?this.$__.fullPath+"."+y:this.$__.fullPath:y?this.$__.fullPath+"."+this.__index+"."+y:this.$__.fullPath+"."+this.__index)},g.prototype.$__pathRelativeToParent=function(y,x){return this.__index!=null&&this.__parentArray&&this.__parentArray.$path?x?y==null?this.__parentArray.$path():this.__parentArray.$path()+"."+y:y==null?this.__parentArray.$path()+"."+this.__index:this.__parentArray.$path()+"."+this.__index+"."+y:null},g.prototype.$parent=function(){return this[m]},g.prototype.parentArray=function(){return this.__parentArray},o.exports=g},6583:(o,l,c)=>{function u(g){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},u(g)}var d,A=c(8863),f=c(1464);try{d=[].__proto__===Array.prototype}catch(g){if(!g||u(g)!=="object"||!("code"in g)||g.code!=="ERR_PROTO_ACCESS")throw g}var h=!!d&&f&&f(Object.prototype,"__proto__"),p=Object,m=p.getPrototypeOf;o.exports=h&&typeof h.get=="function"?A([h.get]):typeof m=="function"&&function(g){return m(g==null?g:p(g))}},6665:o=>{o.exports=function(l,c){for(var u,d,A,f=c.split("."),h="",p=0;p<f.length;++p)if(l[h+=h.length?".":""+f[p]]){for(A=(d=Object.keys(l)).length,u=0;u<A;++u)d[p].indexOf(h+".")!==0||d[p].indexOf(c);return!0}return!1}},6730:o=>{var l=Object.prototype.toString,c=Math.max,u=function(d,A){for(var f=[],h=0;h<d.length;h+=1)f[h]=d[h];for(var p=0;p<A.length;p+=1)f[p+d.length]=A[p];return f};o.exports=function(d){var A=this;if(typeof A!="function"||l.apply(A)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+A);for(var f,h=function(y){for(var x=[],v=1,w=0;v<y.length;v+=1,w+=1)x[w]=y[v];return x}(arguments),p=c(0,A.length-h.length),m=[],g=0;g<p;g++)m[g]="$"+g;if(f=Function("binder","return function ("+function(y){for(var x="",v=0;v<y.length;v+=1)x+=y[v],v+1<y.length&&(x+=",");return x}(m)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof f){var y=A.apply(this,u(h,arguments));return Object(y)===y?y:this}return A.apply(d,u(h,arguments))}),A.prototype){var b=function(){};b.prototype=A.prototype,f.prototype=new b,b.prototype=null}return f}},6750:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}var d=c(988),A=c(9907),f=c(2268),h=c(1464);o.exports=function(p,m,g){if(!p||u(p)!=="object"&&typeof p!="function")throw new f("`obj` must be an object or a function`");if(typeof m!="string"&&u(m)!=="symbol")throw new f("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new f("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new f("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new f("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new f("`loose`, if provided, must be a boolean");var b=arguments.length>3?arguments[3]:null,y=arguments.length>4?arguments[4]:null,x=arguments.length>5?arguments[5]:null,v=arguments.length>6&&arguments[6],w=!!h&&h(p,m);if(d)d(p,m,{configurable:x===null&&w?w.configurable:!x,enumerable:b===null&&w?w.enumerable:!b,value:g,writable:y===null&&w?w.writable:!y});else{if(!v&&(b||y||x))throw new A("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");p[m]=g}}},6775:(o,l)=>{l.byteLength=function(g){var b=h(g),y=b[0],x=b[1];return 3*(y+x)/4-x},l.toByteArray=function(g){var b,y,x=h(g),v=x[0],w=x[1],_=new d(function(j,C,E){return 3*(C+E)/4-E}(0,v,w)),B=0,N=w>0?v-4:v;for(y=0;y<N;y+=4)b=u[g.charCodeAt(y)]<<18|u[g.charCodeAt(y+1)]<<12|u[g.charCodeAt(y+2)]<<6|u[g.charCodeAt(y+3)],_[B++]=b>>16&255,_[B++]=b>>8&255,_[B++]=255&b;return w===2&&(b=u[g.charCodeAt(y)]<<2|u[g.charCodeAt(y+1)]>>4,_[B++]=255&b),w===1&&(b=u[g.charCodeAt(y)]<<10|u[g.charCodeAt(y+1)]<<4|u[g.charCodeAt(y+2)]>>2,_[B++]=b>>8&255,_[B++]=255&b),_},l.fromByteArray=function(g){for(var b,y=g.length,x=y%3,v=[],w=16383,_=0,B=y-x;_<B;_+=w)v.push(m(g,_,_+w>B?B:_+w));return x===1?(b=g[y-1],v.push(c[b>>2]+c[b<<4&63]+"==")):x===2&&(b=(g[y-2]<<8)+g[y-1],v.push(c[b>>10]+c[b>>4&63]+c[b<<2&63]+"=")),v.join("")};for(var c=[],u=[],d=typeof Uint8Array<"u"?Uint8Array:Array,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0;f<64;++f)c[f]=A[f],u[A.charCodeAt(f)]=f;function h(g){var b=g.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=g.indexOf("=");return y===-1&&(y=b),[y,y===b?0:4-y%4]}function p(g){return c[g>>18&63]+c[g>>12&63]+c[g>>6&63]+c[63&g]}function m(g,b,y){for(var x,v=[],w=b;w<y;w+=3)x=(g[w]<<16&16711680)+(g[w+1]<<8&65280)+(255&g[w+2]),v.push(p(x));return v.join("")}u[45]=62,u[95]=63},6801:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}function d(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!p})()}function A(p){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A(p)}function f(p,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},f(p,m)}var h=function(p){function m(b,y){var x;return function(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}(this,m),(x=function(v,w,_){return w=A(w),function(B,N){if(N&&(u(N)=="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(B)}(v,d()?Reflect.construct(w,_||[],A(v).constructor):w.apply(v,_))}(this,m,[y=y||"Cannot populate path `"+b+"` because it is not in your schema. Set the `strictPopulate` option to false to override."])).path=b,x}return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),y&&f(b,y)}(m,p),g=m,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(c(8213));Object.defineProperty(h.prototype,"name",{value:"StrictPopulateError"}),o.exports=h},6814:o=>{o.exports=function(l){for(var c={},u=0,d=Object.keys(l);u<d.length;u++){var A=d[u];if(A.indexOf(".")!==-1)for(var f=A.split("."),h=f[0],p=0;p<f.length;++p)c[h]=1,p+1<f.length&&(h=h+"."+f[p+1]);else c[A]=1}return c}},6867:(o,l,c)=>{function u(_){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},u(_)}function d(_,B){(B==null||B>_.length)&&(B=_.length);for(var N=0,j=Array(B);N<B;N++)j[N]=_[N];return j}function A(_,B){for(var N=0;N<B.length;N++){var j=B[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,f(j.key),j)}}function f(_){var B=function(N){if(u(N)!="object"||!N)return N;var j=N[Symbol.toPrimitive];if(j!==void 0){var C=j.call(N,"string");if(u(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(_);return u(B)=="symbol"?B:B+""}function h(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!_})()}function p(){return p=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(_,B,N){var j=function(E,S){for(;!{}.hasOwnProperty.call(E,S)&&(E=m(E))!==null;);return E}(_,B);if(j){var C=Object.getOwnPropertyDescriptor(j,B);return C.get?C.get.call(arguments.length<3?_:N):C.value}},p.apply(null,arguments)}function m(_){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},m(_)}function g(_,B){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,j){return N.__proto__=j,N},g(_,B)}var b=c(2081),y=c(241),x=c(6426),v=c(4327),w=function(_){function B(C,E){var S;return function(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}(this,B),(S=function(k,P,M){return P=m(P),function(H,F){if(F&&(u(F)=="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}(H)}(k,h()?Reflect.construct(P,M||[],m(k).constructor):P.apply(k,M))}(this,B,[C,E,"Map"])).$isSchemaMap=!0,S}return function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),E&&g(C,E)}(B,_),N=B,j=[{key:"set",value:function(C,E){return x.set(C,E)}},{key:"cast",value:function(C,E,S,k,P){var M;if(C instanceof b)return C;var H=(M=P==null?void 0:P.path)!==null&&M!==void 0?M:this.path;if(S){var F=new b({},H,E,this.$__schemaType);if(C instanceof c.g.Map){var Q,K=function(T,z){var G=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!G){if(Array.isArray(T)||(G=function(xe,X){if(xe){if(typeof xe=="string")return d(xe,X);var ie={}.toString.call(xe).slice(8,-1);return ie==="Object"&&xe.constructor&&(ie=xe.constructor.name),ie==="Map"||ie==="Set"?Array.from(xe):ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie)?d(xe,X):void 0}}(T))||z){G&&(T=G);var J=0,ee=function(){};return{s:ee,n:function(){return J>=T.length?{done:!0}:{done:!1,value:T[J++]}},e:function(xe){throw xe},f:ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fe,de=!0,ae=!1;return{s:function(){G=G.call(T)},n:function(){var xe=G.next();return de=xe.done,xe},e:function(xe){ae=!0,fe=xe},f:function(){try{de||G.return==null||G.return()}finally{if(ae)throw fe}}}}(C.keys());try{for(K.s();!(Q=K.n()).done;){var Y=Q.value,V=C.get(Y);V=V==null?F.$__schemaType._castNullish(V):F.$__schemaType.cast(V,E,!0,null,{path:H+"."+Y}),F.$init(Y,V)}}catch(T){K.e(T)}finally{K.f()}}else for(var I=0,O=Object.keys(C);I<O.length;I++){var R=O[I],U=C[R];U=U==null?F.$__schemaType._castNullish(U):F.$__schemaType.cast(U,E,!0,null,{path:H+"."+R}),F.$init(R,U)}return F}return new b(C,H,E,this.$__schemaType)}},{key:"clone",value:function(){var C,E,S,k=(C=B,E=this,typeof(S=p(m(C.prototype),"clone",E))=="function"?function(P){return S.apply(E,P)}:S)([]);return this.$__schemaType!=null&&(k.$__schemaType=this.$__schemaType.clone()),k}},{key:"getEmbeddedSchemaType",value:function(){return this.$__schemaType}},{key:"toJSONSchema",value:function(C){var E=C==null?void 0:C.useBsonType,S=this.getEmbeddedSchemaType(),k=this.options.required&&typeof this.options.required!="function",P=v("object","object",E,k);return P.additionalProperties=S.toJSONSchema(C),P}},{key:"autoEncryptionType",value:function(){return"object"}}],j&&A(N.prototype,j),Object.defineProperty(N,"prototype",{writable:!1}),N;var N,j}(x);w.schemaName="Map",w.prototype.OptionsConstructor=y,w.defaultOptions={},o.exports=w},6948:(o,l,c)=>{function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},u(h)}function d(h,p,m){return Object.defineProperty(h,"prototype",{writable:!1}),h}var A=c(4450),f=d(function h(p){if(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}(this,h),this._docs={},this._childDocs=[],p!=null&&(p=A(p),Object.assign(this,p),u(p.subPopulate)==="object"&&(this.populate=p.subPopulate),p.perDocumentLimit!=null&&p.limit!=null))throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+p.path+"`.")});o.exports=f},6949:(o,l,c)=>{function u(v){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},u(v)}function d(v,w){for(var _=0;_<w.length;_++){var B=w[_];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(v,A(B.key),B)}}function A(v){var w=function(_){if(u(_)!="object"||!_)return _;var B=_[Symbol.toPrimitive];if(B!==void 0){var N=B.call(_,"string");if(u(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}(v);return u(w)=="symbol"?w:w+""}function f(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f=function(){return!!v})()}function h(v){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},h(v)}function p(v,w){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,B){return _.__proto__=B,_},p(v,w)}var m=c(8213),g=c(8260),b=c(7352),y=c(1875),x=function(v){function w(N){var j,C;return function(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}(this,w),(j=function(E,S,k){return S=h(S),function(P,M){if(M&&(u(M)=="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(P)}(E,f()?Reflect.construct(S,k||[],h(E).constructor):S.apply(E,k))}(this,w,[C=g(N)==="model"?N.constructor.modelName+" validation failed":"Validation failed"])).errors={},j._message=C,N&&(N.$errors=j.errors),j}return function(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),j&&p(N,j)}(w,v),_=w,(B=[{key:"toString",value:function(){return this.name+": "+y(this)}},{key:"inspect",value:function(){return Object.assign(new Error(this.message),this)}},{key:"addError",value:function(N,j){if(j instanceof w)for(var C=j.errors,E=0,S=Object.keys(C);E<S.length;E++){var k=S[E];this.addError("".concat(N,".").concat(k),C[k])}else this.errors[N]=j,this.message=this._message+": "+y(this)}}])&&d(_.prototype,B),Object.defineProperty(_,"prototype",{writable:!1}),_;var _,B}(m);b.inspect.custom&&(x.prototype[b.inspect.custom]=x.prototype.inspect),Object.defineProperty(x.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}}),Object.defineProperty(x.prototype,"name",{value:"ValidationError"}),o.exports=x},6996:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}function d(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!p})()}function A(p){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A(p)}function f(p,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},f(p,m)}var h=function(p){function m(b,y,x){var v;(function(_,B){if(!(_ instanceof B))throw new TypeError("Cannot call a class as a function")})(this,m);var w=x.join(", ");return(v=function(_,B,N){return B=A(B),function(j,C){if(C&&(u(C)=="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(j)}(_,d()?Reflect.construct(B,N||[],A(_).constructor):B.apply(_,N))}(this,m,['No matching document found for id "'+b._doc._id+'" version '+y+' modifiedPaths "'+w+'"'])).version=y,v.modifiedPaths=x,v}return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),y&&f(b,y)}(m,p),g=m,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(c(8213));Object.defineProperty(h.prototype,"name",{value:"VersionError"}),o.exports=h},7045:(o,l,c)=>{function u(w){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u(w)}function d(w,_){var B=Object.keys(w);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(w);_&&(N=N.filter(function(j){return Object.getOwnPropertyDescriptor(w,j).enumerable})),B.push.apply(B,N)}return B}function A(w){for(var _=1;_<arguments.length;_++){var B=arguments[_]!=null?arguments[_]:{};_%2?d(Object(B),!0).forEach(function(N){f(w,N,B[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(B)):d(Object(B)).forEach(function(N){Object.defineProperty(w,N,Object.getOwnPropertyDescriptor(B,N))})}return w}function f(w,_,B){return(_=function(N){var j=function(C){if(u(C)!="object"||!C)return C;var E=C[Symbol.toPrimitive];if(E!==void 0){var S=E.call(C,"string");if(u(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(N);return u(j)=="symbol"?j:j+""}(_))in w?Object.defineProperty(w,_,{value:B,enumerable:!0,configurable:!0,writable:!0}):w[_]=B,w}var h=c(6426),p=h.CastError,m=c(9553),g=c(4327),b=c(3305);function y(w,_){h.call(this,w,_,"Decimal128")}function x(w){return this.cast(w)}y.schemaName="Decimal128",y.defaultOptions={},y.prototype=Object.create(h.prototype),y.prototype.constructor=y,y._cast=m,y.set=h.set,y.setters=[],y.get=h.get,y.cast=function(w){return arguments.length===0||(w===!1&&(w=this._defaultCaster),this._cast=w),this._cast},y._defaultCaster=function(w){if(w!=null&&!b(w,"Decimal128"))throw new Error;return w},y._checkRequired=function(w){return b(w,"Decimal128")},y.checkRequired=h.checkRequired,y.prototype.checkRequired=function(w,_){return h._isRef(this,w,_,!0)?!!w:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():y.checkRequired())(w)},y.prototype.cast=function(w,_,B,N,j){if(h._isRef(this,w,_,B))return b(w,"Decimal128")?w:this._castRef(w,_,B,j);var C;C=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():y.cast();try{return C(w)}catch(E){throw new p("Decimal128",w,this.path,E,this)}};var v=A(A({},h.prototype.$conditionalHandlers),{},{$gt:x,$gte:x,$lt:x,$lte:x});Object.defineProperty(y.prototype,"$conditionalHandlers",{enumerable:!1,value:v}),y.prototype.toJSONSchema=function(w){var _=this.options.required&&typeof this.options.required!="function";return g("string","decimal",w==null?void 0:w.useBsonType,_)},y.prototype.autoEncryptionType=function(){return"decimal"},o.exports=y},7058:(o,l,c)=>{var u=c(5832).hp;function d(oe){return function(pe){if(Array.isArray(pe))return y(pe)}(oe)||function(pe){if(typeof Symbol<"u"&&pe[Symbol.iterator]!=null||pe["@@iterator"]!=null)return Array.from(pe)}(oe)||b(oe)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function A(oe,pe){var je=Object.keys(oe);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(oe);pe&&(Te=Te.filter(function(be){return Object.getOwnPropertyDescriptor(oe,be).enumerable})),je.push.apply(je,Te)}return je}function f(oe){for(var pe=1;pe<arguments.length;pe++){var je=arguments[pe]!=null?arguments[pe]:{};pe%2?A(Object(je),!0).forEach(function(Te){h(oe,Te,je[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(je)):A(Object(je)).forEach(function(Te){Object.defineProperty(oe,Te,Object.getOwnPropertyDescriptor(je,Te))})}return oe}function h(oe,pe,je){return(pe=function(Te){var be=function(De){if(p(De)!="object"||!De)return De;var qe=De[Symbol.toPrimitive];if(qe!==void 0){var Qe=qe.call(De,"string");if(p(Qe)!="object")return Qe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Te);return p(be)=="symbol"?be:be+""}(pe))in oe?Object.defineProperty(oe,pe,{value:je,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=je,oe}function p(oe){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},p(oe)}function m(oe,pe){return function(je){if(Array.isArray(je))return je}(oe)||function(je,Te){var be=je==null?null:typeof Symbol<"u"&&je[Symbol.iterator]||je["@@iterator"];if(be!=null){var De,qe,Qe,Re,We=[],Me=!0,ot=!1;try{if(Qe=(be=be.call(je)).next,Te===0){if(Object(be)!==be)return;Me=!1}else for(;!(Me=(De=Qe.call(be)).done)&&(We.push(De.value),We.length!==Te);Me=!0);}catch(xt){ot=!0,qe=xt}finally{try{if(!Me&&be.return!=null&&(Re=be.return(),Object(Re)!==Re))return}finally{if(ot)throw qe}}return We}}(oe,pe)||b(oe,pe)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function g(oe,pe){var je=typeof Symbol<"u"&&oe[Symbol.iterator]||oe["@@iterator"];if(!je){if(Array.isArray(oe)||(je=b(oe))||pe){je&&(oe=je);var Te=0,be=function(){};return{s:be,n:function(){return Te>=oe.length?{done:!0}:{done:!1,value:oe[Te++]}},e:function(Re){throw Re},f:be}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var De,qe=!0,Qe=!1;return{s:function(){je=je.call(oe)},n:function(){var Re=je.next();return qe=Re.done,Re},e:function(Re){Qe=!0,De=Re},f:function(){try{qe||je.return==null||je.return()}finally{if(Qe)throw De}}}}function b(oe,pe){if(oe){if(typeof oe=="string")return y(oe,pe);var je={}.toString.call(oe).slice(8,-1);return je==="Object"&&oe.constructor&&(je=oe.constructor.name),je==="Map"||je==="Set"?Array.from(oe):je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(je)?y(oe,pe):void 0}}function y(oe,pe){(pe==null||pe>oe.length)&&(pe=oe.length);for(var je=0,Te=Array(pe);je<pe;je++)Te[je]=oe[je];return Te}var x,v=c(3550).EventEmitter,w=c(8297),_=c(8213),B=c(6426),N=c(8879),j=c(2069),C=c(622),E=c(486),S=c(4450),k=c(3703),P=c(8260),M=c(2003),H=c(5289),F=c(3381),Q=c(1199),K=c(9539),Y=c(5678),V=c(7834),I=c(2097),O=c(8768),R=c(533),U=/\.\d+(\.|$)/,T=c(1260).Ut,z=c(4957).middlewareFunctions,G=T.concat(z).reduce(function(oe,pe){return oe.add(pe)},new Set),J=O.isPOJO,ee=0,fe=/^\d+$/;function de(oe,pe){if(!(this instanceof de))return new de(oe,pe);if(this.obj=oe,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this._searchIndexes=[],this.methods=pe&&pe.methods||{},this.methodOptions={},this.statics=pe&&pe.statics||{},this.tree={},this.query=pe&&pe.query||{},this.childSchemas=[],this.plugins=[],this.$id=++ee,this.mapPaths=[],this.encryptedFields={},this.s={hooks:new w},this.options=this.defaultOptions(pe),Array.isArray(oe)){var je,Te=g(oe);try{for(Te.s();!(je=Te.n()).done;){var be=je.value;this.add(be)}}catch(xt){Te.e(xt)}finally{Te.f()}}else oe&&this.add(oe);if(pe&&pe.virtuals)for(var De=pe.virtuals,qe=0,Qe=Object.keys(De);qe<Qe.length;qe++){var Re=Qe[qe],We=De[Re].options?De[Re].options:void 0,Me=this.virtual(Re,We);De[Re].get&&Me.get(De[Re].get),De[Re].set&&Me.set(De[Re].set)}var ot=oe&&oe._id&&O.isObject(oe._id);!this.paths._id&&this.options._id&&!ot&&E(this),this.setupTimestamp(this.options.timestamps)}function ae(oe,pe){for(var je=0,Te=Object.keys(pe);je<Te.length;je++){var be=Te[je],De=null;if(pe[be]!=null)De=pe[be];else{var qe=k(oe.paths[be],"options");if(qe==null)continue;De=qe.alias}if(De){var Qe=oe.paths[be].path;if(Array.isArray(De)){var Re,We=g(De);try{for(We.s();!(Re=We.n()).done;){var Me=Re.value;if(typeof Me!="string")throw new Error("Invalid value for alias option on "+Qe+", got "+Me);oe.aliases[Me]=Qe,oe.virtual(Me).get(function(ot){return function(){return typeof this.get=="function"?this.get(ot):this[ot]}}(Qe)).set(function(ot){return function(xt){return this.$set(ot,xt)}}(Qe))}}catch(ot){We.e(ot)}finally{We.f()}}else{if(typeof De!="string")throw new Error("Invalid value for alias option on "+Qe+", got "+De);oe.aliases[De]=Qe,oe.virtual(De).get(function(ot){return function(){return typeof this.get=="function"?this.get(ot):this[ot]}}(Qe)).set(function(ot){return function(xt){return this.$set(ot,xt)}}(Qe))}}}}de.prototype=Object.create(v.prototype),de.prototype.constructor=de,de.prototype.instanceOfSchema=!0,Object.defineProperty(de.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0}),Object.defineProperty(de.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0}),Object.defineProperty(de.prototype,"virtuals",{configurable:!1,enumerable:!0,writable:!0}),de.prototype.obj,de.prototype.paths,de.prototype.tree,de.prototype.clone=function(){var oe=this,pe=this._clone();return pe.on("init",function(je){return oe.emit("init",je)}),pe},de.prototype._clone=function(oe){var pe=new(oe=oe||(this.base==null?de:this.base.Schema))({},this._userProvidedOptions);pe.base=this.base,pe.obj=this.obj,pe.options=S(this.options),pe.callQueue=this.callQueue.map(function(ur){return ur}),pe.methods=S(this.methods),pe.methodOptions=S(this.methodOptions),pe.statics=S(this.statics),pe.query=S(this.query),pe.plugins=Array.prototype.slice.call(this.plugins),pe._indexes=S(this._indexes),pe._searchIndexes=S(this._searchIndexes),pe.s.hooks=this.s.hooks.clone(),pe.tree=S(this.tree),pe.paths=Object.fromEntries(Object.entries(this.paths).map(function(ur){var Ht=m(ur,2);return[Ht[0],Ht[1].clone()]})),pe.nested=S(this.nested),pe.subpaths=S(this.subpaths);for(var je=0,Te=Object.values(pe.paths);je<Te.length;je++){var be=Te[je];if(be.$isSingleNested){for(var De=be.path,qe=0,Qe=Object.keys(be.schema.paths);qe<Qe.length;qe++){var Re=Qe[qe];pe.singleNestedPaths[De+"."+Re]=be.schema.paths[Re]}for(var We=0,Me=Object.keys(be.schema.singleNestedPaths);We<Me.length;We++){var ot=Me[We];pe.singleNestedPaths[De+"."+ot]=be.schema.singleNestedPaths[ot]}for(var xt=0,Ft=Object.keys(be.schema.subpaths);xt<Ft.length;xt++){var nt=Ft[xt];pe.singleNestedPaths[De+"."+nt]=be.schema.subpaths[nt]}for(var At=0,Rt=Object.keys(be.schema.nested);At<Rt.length;At++){var Pt=Rt[At];pe.singleNestedPaths[De+"."+Pt]="nested"}}}return pe._gatherChildSchemas(),pe.virtuals=S(this.virtuals),pe.$globalPluginsApplied=this.$globalPluginsApplied,pe.$isRootDiscriminator=this.$isRootDiscriminator,pe.$implicitlyCreated=this.$implicitlyCreated,pe.$id=++ee,pe.$originalSchemaId=this.$id,pe.mapPaths=[].concat(this.mapPaths),this.discriminatorMapping!=null&&(pe.discriminatorMapping=Object.assign({},this.discriminatorMapping)),this.discriminators!=null&&(pe.discriminators=Object.assign({},this.discriminators)),this._applyDiscriminators!=null&&(pe._applyDiscriminators=new Map(this._applyDiscriminators)),pe.aliases=Object.assign({},this.aliases),pe.encryptedFields=S(this.encryptedFields),pe},de.prototype.pick=function(oe,pe){var je=new de({},pe||this.options);if(!Array.isArray(oe))throw new _('Schema#pick() only accepts an array argument, got "'+p(oe)+'"');var Te,be=g(oe);try{for(be.s();!(Te=be.n()).done;){var De=Te.value;if(this._hasEncryptedField(De)){var qe=this.encryptedFields[De],Qe=this.path(De);je.add(h({},De,h({encrypt:qe},this.options.typeKey,Qe)))}else if(this.nested[De])je.add(h({},De,k(this.tree,De)));else{var Re=this.path(De);if(Re==null)throw new _("Path `"+De+"` is not in the schema");je.add(h({},De,Re))}}}catch(We){be.e(We)}finally{be.f()}return this._hasEncryptedFields()||(je.options.encryptionType=null),je},de.prototype.omit=function(oe,pe){var je=new de(this,pe||this.options);if(!Array.isArray(oe))throw new _('Schema#omit() only accepts an array argument, got "'+p(oe)+'"');for(var Te in je.remove(oe),je.singleNestedPaths)oe.includes(Te)&&delete je.singleNestedPaths[Te];return je},de.prototype.defaultOptions=function(oe){this._userProvidedOptions=oe==null?{}:S(oe);var pe=this.base&&this.base.options||{};if((oe=f({strict:!("strict"in pe)||pe.strict,strictQuery:"strictQuery"in pe&&pe.strictQuery,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,minimize:!0,autoIndex:null,discriminatorKey:"__t",shardKey:null,read:null,validateBeforeSave:!0,validateModifiedOnly:!1,_id:!0,id:!("id"in pe)||pe.id,typeKey:"type"},oe)).versionKey&&typeof oe.versionKey!="string")throw new _("`versionKey` must be falsy or string, got `"+p(oe.versionKey)+"`");if(typeof oe.read=="string"?oe.read=H(oe.read):Array.isArray(oe.read)&&typeof oe.read[0]=="string"&&(oe.read={mode:H(oe.read[0]),tags:oe.read[1]}),oe.optimisticConcurrency&&!oe.versionKey)throw new _("Must set `versionKey` if using `optimisticConcurrency`");return oe},de.prototype.discriminator=function(oe,pe,je){return this._applyDiscriminators=this._applyDiscriminators||new Map,this._applyDiscriminators.set(oe,{schema:pe,options:je}),this},de.prototype._defaultToObjectOptions=function(oe){var pe=oe?"toJSON":"toObject";if(this._defaultToObjectOptionsMap&&this._defaultToObjectOptionsMap[pe])return this._defaultToObjectOptionsMap[pe];var je=this.base&&this.base.options&&this.base.options[pe]||{},Te=this.options[pe]||{},be=Object.assign({},je,Te);return this._defaultToObjectOptionsMap=this._defaultToObjectOptionsMap||{},this._defaultToObjectOptionsMap[pe]=be,be},de.prototype.encryptionType=function(oe){if(arguments.length===0)return this.options.encryptionType;if(typeof oe!="string"&&oe!==null)throw new Error("invalid `encryptionType`: ${encryptionType}");this.options.encryptionType=oe},de.prototype.add=function(oe,pe){if(oe instanceof de||oe!=null&&oe.instanceOfSchema)return K(this,oe),this;if(oe._id===!1&&pe==null&&(this.options._id=!1),(pe=pe||"")==="__proto__."||pe==="constructor."||pe==="prototype.")return this;for(var je=Object.keys(oe),Te=this.options.typeKey,be=0,De=je;be<De.length;be++){var qe=De[be];if(!O.specialProperties.has(qe)){var Qe=pe+qe,Re=oe[qe];if(Re==null)throw new TypeError("Invalid value for schema path `"+Qe+'`, got value "'+Re+'"');if(qe!=="_id"||Re!==!1){var We=!1;if(typeof Re=="string"&&(We=(this.base!=null?this.base.Schema.Types:de.Types)[Re.charAt(0).toUpperCase()+Re.substring(1)]!=null),qe!=="_id"&&(p(Re)!=="object"&&typeof Re!="function"&&!We||Re==null))throw new TypeError("Invalid schema configuration: `".concat(Re,"` is not ")+"a valid type at path `".concat(qe,"`. See ")+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");if(Re instanceof C||(Re.constructor&&Re.constructor.name||null)==="VirtualType")this.virtual(Re);else{if(Array.isArray(Re)&&Re.length===1&&Re[0]==null)throw new TypeError("Invalid value for schema Array path `"+Qe+'`, got value "'+Re[0]+'"');if(J(Re)||Re instanceof N)if(Object.keys(Re).length<1)pe&&(this.nested[pe.substring(0,pe.length-1)]=!0),this.path(Qe,Re);else if(!Re[Te]||Te==="type"&&J(Re.type)&&Re.type.type)this.nested[Qe]=!0,this.add(Re,Qe+".");else{var Me=Re[Te];if(J(Me)&&Object.keys(Me).length>0){pe&&(this.nested[pe.substring(0,pe.length-1)]=!0);var ot={};this._userProvidedOptions.typeKey&&(ot.typeKey=this._userProvidedOptions.typeKey),this._userProvidedOptions.strict!=null&&(ot.strict=this._userProvidedOptions.strict),this._userProvidedOptions.toObject!=null&&(ot.toObject=O.omit(this._userProvidedOptions.toObject,["transform"])),this._userProvidedOptions.toJSON!=null&&(ot.toJSON=O.omit(this._userProvidedOptions.toJSON,["transform"]));var xt=new de(Me,ot);xt.$implicitlyCreated=!0;var Ft=Object.assign({},Re,h({},Te,xt));this.path(pe+qe,Ft)}else if(pe&&(this.nested[pe.substring(0,pe.length-1)]=!0),this.path(pe+qe,Re),Re!=null&&!Re.instanceOfSchema&&O.isPOJO(Re.discriminators)){var nt=this.path(pe+qe);for(var At in Re.discriminators)nt.discriminator(At,Re.discriminators[At])}}else if(pe&&(this.nested[pe.substring(0,pe.length-1)]=!0),this.path(pe+qe,Re),Re[0]!=null&&!Re[0].instanceOfSchema&&O.isPOJO(Re[0].discriminators)){var Rt=this.path(pe+qe);for(var Pt in Re[0].discriminators)Rt.discriminator(Pt,Re[0].discriminators[Pt])}if(Re.instanceOfSchema&&Re.encryptionType()!=null){if(this.encryptionType()!=Re.encryptionType())throw new Error("encryptionType of a nested schema must match the encryption type of the parent schema.");for(var ur=0,Ht=Object.entries(Re.encryptedFields);ur<Ht.length;ur++){var lr=m(Ht[ur],2),sr=lr[0],Kt=lr[1],Xe=Qe+"."+sr;this._addEncryptedField(Xe,Kt)}}else if(p(Re)==="object"&&"encrypt"in Re){var ar=Re.encrypt;if(this.encryptionType()==null)throw new Error("encryptionType must be provided");this._addEncryptedField(Qe,ar)}else this._removeEncryptedField(Qe)}}}}var rr=Object.fromEntries(Object.entries(oe).map(function(Ke){var Tr=m(Ke,1)[0];return[pe+Tr,null]}));return ae(this,rr),this},de.prototype._addEncryptedField=function(oe,pe){if(this.path(oe).autoEncryptionType()==null)throw new Error("Invalid BSON type for FLE field: '".concat(oe,"'"));this.encryptedFields[oe]=S(pe)},de.prototype._removeEncryptedField=function(oe){delete this.encryptedFields[oe]},de.prototype._hasEncryptedFields=function(){return Object.keys(this.encryptedFields).length>0},de.prototype._hasEncryptedField=function(oe){return oe in this.encryptedFields},de.prototype._buildEncryptedFields=function(){var oe=this;return{fields:Object.entries(this.encryptedFields).map(function(pe){var je=m(pe,2),Te=je[0],be=je[1];return f({path:Te,bsonType:oe.path(Te).autoEncryptionType()},be)})}},de.prototype._buildSchemaMap=function(){var oe=this;return{bsonType:"object",properties:Object.entries(this.encryptedFields).reduce(function(pe,je){var Te=m(je,2),be=Te[0],De=Te[1],qe=oe.path(be).autoEncryptionType();return function(Qe,Re,We){for(var Me=0,ot=Qe[Me];Me<Qe.length-1;ot=Qe[++Me])Re[ot]=Re[ot]==null?{bsonType:"object",properties:{}}:Re[ot],Re=Re[ot].properties;Re[ot]=We}(be.split("."),pe,{encrypt:f(f({},De),{},{bsonType:qe})}),pe},{})}},de.prototype.alias=function(oe,pe){return ae(this,h({},oe,pe)),this},de.prototype.removeIndex=function(oe){if(arguments.length>1)throw new Error("removeIndex() takes only 1 argument");if(p(oe)!=="object"&&typeof oe!="string")throw new Error("removeIndex() may only take either an object or a string as an argument");if(p(oe)==="object")for(var pe=this._indexes.length-1;pe>=0;--pe)Q(this._indexes[pe][0],oe)&&this._indexes.splice(pe,1);else for(var je=this._indexes.length-1;je>=0;--je)this._indexes[je][1]!=null&&this._indexes[je][1].name===oe&&this._indexes.splice(je,1);return this},de.prototype.clearIndexes=function(){return this._indexes.length=0,this},de.prototype.searchIndex=function(oe){return this._searchIndexes.push(oe),this},de.reserved=Object.create(null),de.prototype.reserved=de.reserved;var xe=de.reserved;function X(oe){return/\.\d+/.test(oe)?oe.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$"):oe}function ie(oe,pe){if(oe.mapPaths.length===0)return null;var je,Te=g(oe.mapPaths);try{for(Te.s();!(je=Te.n()).done;){var be=je.value,De=be.path.replace(/\.\$\*/g,"");if(pe===De||pe.startsWith(De+".")&&pe.slice(De.length+1).indexOf(".")===-1)return be;if(be.schema&&pe.startsWith(De+".")){var qe=pe.slice(De.length+1);return qe=qe.slice(qe.indexOf(".")+1),be.schema.paths[qe]}if(be.$isSchemaMap&&pe.startsWith(De+".")){var Qe=pe.slice(De.length+1);Qe=Qe.slice(Qe.indexOf(".")+1);var Re=be.$__schemaType._presplitPath;if(Qe.indexOf(".")===-1&&Re[Re.length-1]==="$*")return be.$__schemaType;if(Qe.indexOf(".")!==-1&&be.$__schemaType.schema&&Re[Re.length-1]==="$*")return be.$__schemaType.schema.path(Qe.slice(Qe.indexOf(".")+1))}}}catch(We){Te.e(We)}finally{Te.f()}return null}function re(oe,pe,je){var Te=pe.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(Te.length<2)return oe.paths.hasOwnProperty(Te[0])?oe.paths[Te[0]]:"adhocOrUndefined";var be=oe.path(Te[0]),De=!1;if(!be)return"adhocOrUndefined";for(var qe=Te.length-1,Qe=1;Qe<Te.length;++Qe){De=!1;var Re=Te[Qe];if(Qe===qe&&be&&!/\D/.test(Re)){be=be.$isMongooseDocumentArray?be.$embeddedSchemaType:be instanceof x.Array?be.caster:void 0;break}if(/\D/.test(Re)){if(!be||!be.schema){be=void 0;break}De=be.schema.pathType(Re)==="nested",be=be.schema.path(Re)}else be instanceof x.Array&&Qe!==qe&&(be=be.caster)}return oe.subpaths[je]=be,be?"real":De?"nested":"adhocOrUndefined"}function ve(oe,pe){var je,Te=g(oe.childSchemas);try{for(Te.s();!(je=Te.n()).done;){var be=je.value.schema;be.$implicitlyCreated&&(Object.assign(be.options,pe),ve(be,pe))}}catch(De){Te.e(De)}finally{Te.f()}}xe.prototype=xe.emit=xe.listeners=xe.removeListener=xe.collection=xe.errors=xe.get=xe.init=xe.isModified=xe.isNew=xe.populated=xe.remove=xe.save=xe.toObject=xe.validate=1,xe.collection=1,de.prototype.path=function(oe,pe){if(pe===void 0){if(this.paths[oe]!=null)return this.paths[oe];var je=X(oe),Te=function(Ve,tt,at){if(Ve.paths.hasOwnProperty(tt))return Ve.paths[tt];if(Ve.subpaths.hasOwnProperty(at)){var st=Ve.subpaths[at];return st==="nested"?void 0:st}if(Ve.singleNestedPaths.hasOwnProperty(at)&&p(Ve.singleNestedPaths[at])==="object"){var dt=Ve.singleNestedPaths[at];return dt==="nested"?void 0:dt}return null}(this,oe,je);if(Te!=null)return Te;var be=ie(this,oe);return be??((Te=this.hasMixedParent(je))!=null?Te:U.test(oe)?function(Ve,tt,at){return re(Ve,tt,at),Ve.subpaths[at]}(this,oe,je):void 0)}var De=oe.split(".")[0];if(xe[De]&&!this.options.suppressReservedKeysWarning){var qe="`".concat(De,"` is a reserved schema pathname and may break some functionality. ")+"You are allowed to use it, but use at your own risk. To disable this warning pass `suppressReservedKeysWarning` as a schema option.";O.warn(qe)}p(pe)==="object"&&O.hasUserDefinedProperty(pe,"ref")&&R(pe.ref,oe);var Qe,Re=oe.split(/\./),We=Re.pop(),Me=this.tree,ot="",xt=g(Re);try{for(xt.s();!(Qe=xt.n()).done;){var Ft=Qe.value;if(O.specialProperties.has(Ft))throw new Error("Cannot set special property `"+Ft+"` on a schema");if(ot=ot+=(ot.length>0?".":"")+Ft,Me[Ft]||(this.nested[ot]=!0,Me[Ft]={}),p(Me[Ft])!=="object"){var nt="Cannot set nested path `"+oe+"`. Parent path `"+ot+"` already set to type "+Me[Ft].name+".";throw new Error(nt)}Me=Me[Ft]}}catch(Ve){xt.e(Ve)}finally{xt.f()}Me[We]=S(pe),this.paths[oe]=this.interpretAsType(oe,pe,this.options);var At=this.paths[oe];if(this.childSchemas=this.childSchemas.filter(function(Ve){return Ve.path!==oe}),At.$isSchemaMap){var Rt=oe+".$*";this.paths[Rt]=At.$__schemaType,this.mapPaths.push(this.paths[Rt]),At.$__schemaType.$isSingleNested&&this.childSchemas.push({schema:At.$__schemaType.schema,model:At.$__schemaType.caster,path:oe})}if(At.$isSingleNested){for(var Pt=0,ur=Object.keys(At.schema.paths);Pt<ur.length;Pt++){var Ht=ur[Pt];this.singleNestedPaths[oe+"."+Ht]=At.schema.paths[Ht]}for(var lr=0,sr=Object.keys(At.schema.singleNestedPaths);lr<sr.length;lr++){var Kt=sr[lr];this.singleNestedPaths[oe+"."+Kt]=At.schema.singleNestedPaths[Kt]}for(var Xe=0,ar=Object.keys(At.schema.subpaths);Xe<ar.length;Xe++){var rr=ar[Xe];this.singleNestedPaths[oe+"."+rr]=At.schema.subpaths[rr]}for(var Ke=0,Tr=Object.keys(At.schema.nested);Ke<Tr.length;Ke++){var Fn=Tr[Ke];this.singleNestedPaths[oe+"."+Fn]="nested"}Object.defineProperty(At.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),At.caster.base=this.base,this.childSchemas.push({schema:At.schema,model:At.caster,path:oe})}else At.$isMongooseDocumentArray&&(Object.defineProperty(At.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),At.casterConstructor.base=this.base,this.childSchemas.push({schema:At.schema,model:At.casterConstructor,path:oe}));if(At.$isMongooseArray&&At.caster instanceof B){for(var Wt=oe,Or=At;Or.$isMongooseArray;)Wt+=".$",Or.$isMongooseDocumentArray?(Or.$embeddedSchemaType._arrayPath=Wt,Or.$embeddedSchemaType._arrayParentPath=oe,Or=Or.$embeddedSchemaType):(Or.caster._arrayPath=Wt,Or.caster._arrayParentPath=oe,Or=Or.caster),this.subpaths[Wt]=Or;for(var Yr=0,hn=[];Yr<hn.length;Yr++){var Mr=hn[Yr];this.subpaths[Mr.path]=Mr}}if(At.$isMongooseDocumentArray){for(var Jr=0,q=Object.keys(At.schema.paths);Jr<q.length;Jr++){var ce=q[Jr],Z=At.schema.paths[ce];this.subpaths[oe+"."+ce]=Z,p(Z)==="object"&&Z!=null&&Z.$parentSchemaDocArray==null&&(Z.$parentSchemaDocArray=At)}for(var ue=0,me=Object.keys(At.schema.subpaths);ue<me.length;ue++){var ye=me[ue],Be=At.schema.subpaths[ye];this.subpaths[oe+"."+ye]=Be,p(Be)==="object"&&Be!=null&&Be.$parentSchemaDocArray==null&&(Be.$parentSchemaDocArray=At)}for(var Oe=0,Le=Object.keys(At.schema.singleNestedPaths);Oe<Le.length;Oe++){var Ie=Le[Oe],Ue=At.schema.singleNestedPaths[Ie];this.subpaths[oe+"."+Ie]=Ue,p(Ue)==="object"&&Ue!=null&&Ue.$parentSchemaDocArray==null&&(Ue.$parentSchemaDocArray=At)}}return this},de.prototype._gatherChildSchemas=function(){for(var oe=[],pe=0,je=Object.keys(this.paths);pe<je.length;pe++){var Te=je[pe];if(typeof Te=="string"){var be=this.paths[Te];be.$isMongooseDocumentArray||be.$isSingleNested?oe.push({schema:be.schema,model:be.caster,path:Te}):be.$isSchemaMap&&be.$__schemaType.$isSingleNested&&oe.push({schema:be.$__schemaType.schema,model:be.$__schemaType.caster,path:Te})}}return this.childSchemas=oe,oe},Object.defineProperty(de.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null}),de.prototype.interpretAsType=function(oe,pe,je){if(pe instanceof B){if(pe.path===oe)return pe;var Te=pe.clone();return Te.path=oe,Te}var be=this.base!=null?this.base.Schema.Types:de.Types,De=this.base!=null?this.base.Types:c(9600);if(!(O.isPOJO(pe)||pe instanceof N)&&O.getFunctionName(pe.constructor)!=="Object"){var qe=pe;(pe={})[je.typeKey]=qe}var Qe,Re=pe[je.typeKey]&&(pe[je.typeKey]instanceof Function||je.typeKey!=="type"||!pe.type.type)?pe[je.typeKey]:{};if(Re instanceof B){if(Re.path===oe)return Re;var We=Re.clone();return We.path=oe,We}if(O.isPOJO(Re)||Re==="mixed")return new be.Mixed(oe,pe);if(Array.isArray(Re)||Re===Array||Re==="array"||Re===be.Array){var Me=Re===Array||Re==="array"?pe.cast||pe.of:Re[0];if(Me&&Me.instanceOfSchema){if(!(Me instanceof de)){if(!this.options._isMerging)throw new TypeError("Schema for array path `"+oe+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+"".concat(oe,": new Schema(...)"));Me=new de(Me)}return new be.DocumentArray(oe,Me,pe)}if(Me&&Me[je.typeKey]&&Me[je.typeKey].instanceOfSchema){if(!(Me[je.typeKey]instanceof de)){if(!this.options._isMerging)throw new TypeError("Schema for array path `"+oe+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+"".concat(oe,": new Schema(...)"));Me[je.typeKey]=new de(Me[je.typeKey])}return new be.DocumentArray(oe,Me[je.typeKey],pe,Me)}if(Me!==void 0&&(Array.isArray(Me)||Me.type===Array||Me.type=="Array"))return Me&&Me.type=="Array"&&(Me.type=Array),new be.Array(oe,this.interpretAsType(oe,Me,je),pe);var ot=Me==null||!Me[je.typeKey]||je.typeKey==="type"&&Me.type.type?Me:Me[je.typeKey];if(typeof Me=="string")Me=be[Me.charAt(0).toUpperCase()+Me.substring(1)];else if(O.isPOJO(ot)){if(Object.keys(ot).length){var xt={minimize:je.minimize};je.typeKey&&(xt.typeKey=je.typeKey),je.hasOwnProperty("strict")&&(xt.strict=je.strict),je.hasOwnProperty("strictQuery")&&(xt.strictQuery=je.strictQuery),je.hasOwnProperty("toObject")&&(xt.toObject=O.omit(je.toObject,["transform"])),je.hasOwnProperty("toJSON")&&(xt.toJSON=O.omit(je.toJSON,["transform"])),this._userProvidedOptions.hasOwnProperty("_id")?xt._id=this._userProvidedOptions._id:de.Types.DocumentArray.defaultOptions._id!=null&&(xt._id=de.Types.DocumentArray.defaultOptions._id);var Ft=new de(ot,xt);return Ft.$implicitlyCreated=!0,new be.DocumentArray(oe,Ft,pe)}return new be.Array(oe,be.Mixed,pe)}if(Me){if(Re=!Me[je.typeKey]||je.typeKey==="type"&&Me.type.type?Me:Me[je.typeKey],Array.isArray(Re))return new be.Array(oe,this.interpretAsType(oe,Re,je),pe);if((Qe=typeof Re=="string"?Re:Re.schemaName||O.getFunctionName(Re))==="ClockDate"&&(Qe="Date"),Qe===void 0)throw new TypeError("Invalid schema configuration: "+"Could not determine the embedded type for array `".concat(oe,"`. ")+"See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(!be.hasOwnProperty(Qe))throw new TypeError("Invalid schema configuration: "+"`".concat(Qe,"` is not a valid type within the array `").concat(oe,"`.")+"See https://bit.ly/mongoose-schematypes for a list of valid schema types.")}return new be.Array(oe,Me||be.Mixed,pe,je)}if(Re&&Re.instanceOfSchema)return new be.Subdocument(Re,oe,pe);if((Qe=u.isBuffer(Re)?"Buffer":typeof Re=="function"||p(Re)==="object"?Re.schemaName||O.getFunctionName(Re):Re===De.ObjectId?"ObjectId":Re===De.Decimal128?"Decimal128":Re==null?""+Re:Re.toString())&&(Qe=Qe.charAt(0).toUpperCase()+Qe.substring(1)),Qe==="ObjectID"&&(Qe="ObjectId"),Qe==="ClockDate"&&(Qe="Date"),Qe===void 0)throw new TypeError("Invalid schema configuration: `".concat(oe,"` schematype definition is ")+"invalid. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(be[Qe]==null)throw new TypeError("Invalid schema configuration: `".concat(Qe,"` is not ")+"a valid type at path `".concat(oe,"`. See ")+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");var nt=new be[Qe](oe,pe);return nt.$isSchemaMap&&function(At,Rt,Pt,ur,Ht){var lr=Pt+".$*",sr={type:{}};O.hasUserDefinedProperty(ur,"of")&&((sr=O.isPOJO(ur.of)&&Object.keys(ur.of).length>0&&!O.hasUserDefinedProperty(ur.of,At.options.typeKey)?h({},At.options.typeKey,new de(ur.of)):O.isPOJO(ur.of)?Object.assign({},ur.of):h({},At.options.typeKey,ur.of))[At.options.typeKey]&&sr[At.options.typeKey].instanceOfSchema&&sr[At.options.typeKey].eachPath(function(Kt,Xe){if(Xe.options.select===!0||Xe.options.select===!1)throw new _('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path "'+Pt+"."+Kt+'"')}),O.hasUserDefinedProperty(ur,"ref")&&(sr.ref=ur.ref)),Rt.$__schemaType=At.interpretAsType(lr,sr,Ht)}(this,nt,oe,pe,je),nt},de.prototype.eachPath=function(oe){for(var pe=Object.keys(this.paths),je=pe.length,Te=0;Te<je;++Te)oe(pe[Te],this.paths[pe[Te]]);return this},de.prototype.requiredPaths=function(oe){if(this._requiredpaths&&!oe)return this._requiredpaths;for(var pe=Object.keys(this.paths),je=pe.length,Te=[];je--;){var be=pe[je];this.paths[be].isRequired&&Te.push(be)}return this._requiredpaths=Te,this._requiredpaths},de.prototype.indexedPaths=function(){return this._indexedpaths||(this._indexedpaths=this.indexes()),this._indexedpaths},de.prototype.pathType=function(oe){if(this.paths.hasOwnProperty(oe))return"real";if(this.virtuals.hasOwnProperty(oe))return"virtual";if(this.nested.hasOwnProperty(oe))return"nested";var pe=X(oe);if(this.subpaths.hasOwnProperty(pe)||this.subpaths.hasOwnProperty(oe))return"real";var je=this.singleNestedPaths.hasOwnProperty(pe)||this.singleNestedPaths.hasOwnProperty(oe);return je?je==="nested"?"nested":"real":ie(this,oe)!=null?"real":/\.\d+\.|\.\d+$/.test(oe)?re(this,oe,pe):"adhocOrUndefined"},de.prototype.hasMixedParent=function(oe){var pe=oe.split(/\./g);oe="";for(var je=0;je<pe.length;++je)if(oe=je>0?oe+"."+pe[je]:pe[je],this.paths.hasOwnProperty(oe)&&this.paths[oe]instanceof x.Mixed)return this.paths[oe];return null},de.prototype.setupTimestamp=function(oe){return I(this,oe)},de.prototype.queue=function(oe,pe){return this.callQueue.push([oe,pe]),this},de.prototype.pre=function(oe){if(oe instanceof RegExp){var pe,je=Array.prototype.slice.call(arguments,1),Te=g(G);try{for(Te.s();!(pe=Te.n()).done;){var be=pe.value;oe.test(be)&&this.pre.apply(this,[be].concat(je))}}catch(We){Te.e(We)}finally{Te.f()}return this}if(Array.isArray(oe)){var De,qe=Array.prototype.slice.call(arguments,1),Qe=g(oe);try{for(Qe.s();!(De=Qe.n()).done;){var Re=De.value;this.pre.apply(this,[Re].concat(qe))}}catch(We){Qe.e(We)}finally{Qe.f()}return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this},de.prototype.post=function(oe){if(oe instanceof RegExp){var pe,je=Array.prototype.slice.call(arguments,1),Te=g(G);try{for(Te.s();!(pe=Te.n()).done;){var be=pe.value;oe.test(be)&&this.post.apply(this,[be].concat(je))}}catch(We){Te.e(We)}finally{Te.f()}return this}if(Array.isArray(oe)){var De,qe=Array.prototype.slice.call(arguments,1),Qe=g(oe);try{for(Qe.s();!(De=Qe.n()).done;){var Re=De.value;this.post.apply(this,[Re].concat(qe))}}catch(We){Qe.e(We)}finally{Qe.f()}return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this},de.prototype.plugin=function(oe,pe){if(typeof oe!="function")throw new Error('First param to `schema.plugin()` must be a function, got "'+p(oe)+'"');if(pe&&pe.deduplicate){var je,Te=g(this.plugins);try{for(Te.s();!(je=Te.n()).done;)if(je.value.fn===oe)return this}catch(be){Te.e(be)}finally{Te.f()}}return this.plugins.push({fn:oe,opts:pe}),oe(this,pe),this},de.prototype.method=function(oe,pe,je){if(typeof oe!="string")for(var Te in oe)this.methods[Te]=oe[Te],this.methodOptions[Te]=S(je);else this.methods[oe]=pe,this.methodOptions[oe]=S(je);return this},de.prototype.static=function(oe,pe){if(typeof oe!="string")for(var je in oe)this.statics[je]=oe[je];else this.statics[oe]=pe;return this},de.prototype.index=function(oe,pe){for(var je in oe||(oe={}),pe||(pe={}),pe.expires&&O.expires(pe),oe)this.aliases[je]&&(oe=O.renameObjKey(oe,je,this.aliases[je]));for(var Te=0,be=Object.keys(oe);Te<be.length;Te++){var De=be[Te];oe[De]==="ascending"||oe[De]==="asc"?oe[De]=1:oe[De]!=="descending"&&oe[De]!=="desc"||(oe[De]=-1)}var qe,Qe=g(this.indexes());try{for(Qe.s();!(qe=Qe.n()).done;){var Re=qe.value;pe.name==null&&Re[1].name==null&&Q(Re[0],oe)&&O.warn("Duplicate schema index on ".concat(JSON.stringify(oe),' found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.'))}}catch(We){Qe.e(We)}finally{Qe.f()}return this._indexes.push([oe,pe]),this},de.prototype.set=function(oe,pe,je){if(arguments.length===1)return this.options[oe];switch(oe){case"read":typeof pe=="string"?this.options[oe]={mode:H(pe),tags:je}:Array.isArray(pe)&&typeof pe[0]=="string"?this.options[oe]={mode:H(pe[0]),tags:pe[1]}:this.options[oe]=pe,this._userProvidedOptions[oe]=this.options[oe];break;case"timestamps":this.setupTimestamp(pe),this.options[oe]=pe,this._userProvidedOptions[oe]=this.options[oe];break;case"_id":this.options[oe]=pe,this._userProvidedOptions[oe]=this.options[oe],pe&&!this.paths._id?E(this):!pe&&this.paths._id!=null&&this.paths._id.auto&&this.remove("_id");break;default:this.options[oe]=pe,this._userProvidedOptions[oe]=this.options[oe]}return oe==="strict"&&ve(this,{strict:pe}),oe==="strictQuery"&&ve(this,{strictQuery:pe}),oe==="toObject"&&(delete(pe=f({},pe)).transform,ve(this,{toObject:pe})),oe==="toJSON"&&(delete(pe=f({},pe)).transform,ve(this,{toJSON:pe})),this},de.prototype.get=function(oe){return this.options[oe]};var ke="2d 2dsphere hashed text".split(" ");function Ce(oe,pe){var je,Te=pe.split("."),be=Te.pop(),De=oe.tree,qe=g(Te);try{for(qe.s();!(je=qe.n()).done;)De=De[je.value]}catch(Qe){qe.e(Qe)}finally{qe.f()}delete De[be]}function we(oe){return oe.startsWith("$[")&&oe.endsWith("]")}Object.defineProperty(de,"indexTypes",{get:function(){return ke},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}}),de.prototype.indexes=function(){return M(this)},de.prototype.virtual=function(oe,pe){if(oe instanceof C||P(oe)==="VirtualType")return this.virtual(oe.path,oe.options);if(pe=new j(pe),O.hasUserDefinedProperty(pe,["ref","refPath"])){if(pe.localField==null)throw new Error("Reference virtuals require `localField` option");if(pe.foreignField==null)throw new Error("Reference virtuals require `foreignField` option");var je=this.virtual(oe);je.options=pe,this.pre("init",function(ot,xt){if(Y.has(oe,ot)){var Ft=Y.get(oe,ot);if(this.$$populatedVirtuals||(this.$$populatedVirtuals={}),pe.justOne||pe.count?this.$$populatedVirtuals[oe]=Array.isArray(Ft)?Ft[0]:Ft:this.$$populatedVirtuals[oe]=Array.isArray(Ft)?Ft:Ft==null?[]:[Ft],xt!=null&&xt.hydratedPopulatedDocs&&!pe.count){var nt=je._getModelNamesForPopulate(this),At=this.$$populatedVirtuals[oe];if(Array.isArray(At)||At.$__||(nt==null?void 0:nt.length)!==1){if(Array.isArray(At)&&(nt==null?void 0:nt.length)===1){for(var Rt=this.db.model(nt[0]),Pt=0;Pt<At.length;++Pt)At[Pt].$__||(At[Pt]=Rt.hydrate(At[Pt],null,{hydratedPopulatedDocs:!0}));var ur=pe.foreignField;this.$populated(oe,At.map(function(lr){return lr==null?lr:lr.get(typeof ur=="function"?ur.call(lr,lr):ur)}),{populateModelSymbol:Rt})}}else{var Ht=this.db.model(nt[0]);this.$$populatedVirtuals[oe]=Ht.hydrate(At)}}Y.unset(oe,ot)}}),je.set(function(ot){return this.$$populatedVirtuals||(this.$$populatedVirtuals={}),V(this.$$populatedVirtuals,oe,ot,pe)}),typeof pe.get=="function"&&je.get(pe.get);for(var Te=oe.split("."),be=Te[0],De=0;De<Te.length-1;++De)if(this.paths[be]!=null){if(this.paths[be].$isMongooseDocumentArray||this.paths[be].$isSingleNested){var qe=Te.slice(De+1).join(".");this.paths[be].schema.virtual(qe,pe);break}if(this.paths[be].$isSchemaMap){var Qe=Te.slice(De+2).join(".");this.paths[be].$__schemaType.schema.virtual(Qe,pe);break}be+="."+Te[De+1]}return je}var Re=this.virtuals,We=oe.split(".");if(this.pathType(oe)==="real")throw new Error('Virtual path "'+oe+'" conflicts with a real path in the schema');if(Re[oe]=We.reduce(function(ot,xt,Ft){return ot[xt]||(ot[xt]=Ft===We.length-1?new C(pe,oe):{}),ot[xt]},this.tree),pe&&pe.applyToArray&&We.length>1){var Me=this.path(We.slice(0,-1).join("."));if(Me&&Me.$isMongooseArray)return Me.virtual(We[We.length-1],pe);throw new _('Path "'.concat(Me,'" is not an array'))}return Re[oe]},de.prototype.virtualpath=function(oe){return this.virtuals.hasOwnProperty(oe)?this.virtuals[oe]:null},de.prototype.remove=function(oe){return typeof oe=="string"&&(oe=[oe]),Array.isArray(oe)&&oe.forEach(function(pe){if(this.path(pe)!=null||this.nested[pe]){if(this.nested[pe]){var je,Te=g(Object.keys(this.paths).concat(Object.keys(this.nested)));try{for(Te.s();!(je=Te.n()).done;){var be=je.value;be.startsWith(pe+".")&&(delete this.paths[be],delete this.nested[be],Ce(this,be))}}catch(De){Te.e(De)}finally{Te.f()}return delete this.nested[pe],void Ce(this,pe)}delete this.paths[pe],Ce(this,pe),this._removeEncryptedField(pe)}},this),this},de.prototype.removeVirtual=function(oe){if(typeof oe=="string"&&(oe=[oe]),Array.isArray(oe)){var pe,je=g(oe);try{for(je.s();!(pe=je.n()).done;){var Te=pe.value;if(this.virtuals[Te]==null)throw new _('Attempting to remove virtual "'.concat(Te,'" that does not exist.'))}}catch(Qe){je.e(Qe)}finally{je.f()}var be,De=g(oe);try{for(De.s();!(be=De.n()).done;){var qe=be.value;delete this.paths[qe],delete this.virtuals[qe],qe.indexOf(".")!==-1?Y.unset(qe,this.tree):delete this.tree[qe]}}catch(Qe){De.e(Qe)}finally{De.f()}}return this},de.prototype.loadClass=function(oe,pe){return oe===Object.prototype||oe===Function.prototype||oe.prototype.hasOwnProperty("$isMongooseModelPrototype")||oe.prototype.hasOwnProperty("$isMongooseDocumentPrototype")||(this.loadClass(Object.getPrototypeOf(oe),pe),pe||Object.getOwnPropertyNames(oe).forEach(function(je){if(!je.match(/^(length|name|prototype|constructor|__proto__)$/)){var Te=Object.getOwnPropertyDescriptor(oe,je);Te.hasOwnProperty("value")&&this.static(je,Te.value)}},this),Object.getOwnPropertyNames(oe.prototype).forEach(function(je){if(!je.match(/^(constructor)$/)){var Te=Object.getOwnPropertyDescriptor(oe.prototype,je);pe||typeof Te.value=="function"&&this.method(je,Te.value),typeof Te.get=="function"&&(this.virtuals[je]&&(this.virtuals[je].getters=[]),this.virtual(je).get(Te.get)),typeof Te.set=="function"&&(this.virtuals[je]&&(this.virtuals[je].setters=[]),this.virtual(je).set(Te.set))}},this)),this},de.prototype._getSchema=function(oe){var pe=this.path(oe),je=[];if(pe)return pe.$fullPath=oe,pe;for(var Te=oe.split("."),be=0;be<Te.length;++be)(Te[be]==="$"||we(Te[be]))&&(Te[be]="0"),fe.test(Te[be])&&(Te[be]="$");return function De(qe,Qe){for(var Re,We,Me=qe.length+1;Me--;)if(We=qe.slice(0,Me).join("."),Re=Qe.path(We)){if(je.push(We),Re.caster){if(Re.caster instanceof x.Mixed)return Re.caster.$fullPath=je.join("."),Re.caster;if(Me!==qe.length){if(Me+1===qe.length&&Re.$embeddedSchemaType&&(qe[Me]==="$"||we(qe[Me])))return Re.$embeddedSchemaType;if(Re.schema){var ot=void 0;return qe[Me]==="$"||we(qe[Me])?Me+1===qe.length?Re.$embeddedSchemaType:((ot=De(qe.slice(Me+1),Re.schema))&&(ot.$parentSchemaDocArray=ot.$parentSchemaDocArray||(Re.schema.$isSingleNested?null:Re)),ot):((ot=De(qe.slice(Me),Re.schema))&&(ot.$parentSchemaDocArray=ot.$parentSchemaDocArray||(Re.schema.$isSingleNested?null:Re)),ot)}}}else if(Re.$isSchemaMap){if(Me>=qe.length)return Re;if(Me+1>=qe.length||Re.$__schemaType instanceof x.Mixed)return Re.$__schemaType;if(Re.$__schemaType.schema!=null)return De(qe.slice(Me+1),Re.$__schemaType.schema)}return Re.$fullPath=je.join("."),Re}}(Te,this)},de.prototype._getPathType=function(oe){return this.path(oe)?"real":function pe(je,Te){for(var be,De,qe=je.length+1;qe--;){if(De=je.slice(0,qe).join("."),be=Te.path(De))return be.caster?be.caster instanceof x.Mixed?{schema:be,pathType:"mixed"}:qe!==je.length&&be.schema?je[qe]==="$"||we(je[qe])?qe===je.length-1?{schema:be,pathType:"nested"}:pe(je.slice(qe+1),be.schema):pe(je.slice(qe),be.schema):{schema:be,pathType:be.$isSingleNested?"nested":"array"}:{schema:be,pathType:"real"};if(qe===je.length&&Te.nested[De])return{schema:Te,pathType:"nested"}}return{schema:be||Te,pathType:"undefined"}}(oe.split("."),this)},de.prototype._transformDuplicateKeyError=function(oe){if(!this._duplicateKeyErrorMessagesByPath||oe.code!==11e3&&oe.code!==11001)return oe;if(oe.keyPattern!=null){var pe=oe.keyPattern,je=Object.keys(pe);if(je.length!==1)return oe;var Te=je[0];return this._duplicateKeyErrorMessagesByPath.hasOwnProperty(Te)?new _(this._duplicateKeyErrorMessagesByPath[Te],{cause:oe}):oe}return oe},de.prototype._preCompile=function(){this.plugin(F,{deduplicate:!0})},de.prototype.toJSONSchema=function(oe){for(var pe,je=(pe=oe==null?void 0:oe.useBsonType)!==null&&pe!==void 0&&pe,Te=je?{required:[],properties:{}}:{type:"object",required:[],properties:{}},be=0,De=Object.keys(this.paths);be<De.length;be++){var qe=De[be],Qe=this.paths[qe];if(Qe._presplitPath.indexOf("$*")===-1){var Re=Te;if(Qe._presplitPath.length>1)for(var We=0;We<Qe._presplitPath.length-1;++We){var Me=Qe._presplitPath[We];Re.properties[Me]==null&&(Re.properties[Me]=je?{bsonType:["object","null"],properties:{}}:{type:["object","null"],properties:{}}),Re=Re.properties[Me]}var ot=Qe._presplitPath[Qe._presplitPath.length-1],xt=!1;qe==="_id"?(Re.required||(Re.required=[]),Re.required.push("_id"),xt=!0):Qe.options.required&&typeof Qe.options.required!="function"&&(Re.required||(Re.required=[]),Re.required.push(ot),xt=!0),Re.properties[ot]=Qe.toJSONSchema(oe),Qe.options.enum&&(Re.properties[ot].enum=xt?Qe.options.enum:[].concat(d(Qe.options.enum),[null]))}}return Te.required.length===0&&delete Te.required,Te},o.exports=l=de,de.Types=x=c(7953),l.ObjectId=x.ObjectId},7160:(o,l)=>{l.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed"),l.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")},7219:(o,l,c)=>{function u(v){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},u(v)}function d(v,w){for(var _=0;_<w.length;_++){var B=w[_];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(v,A(B.key),B)}}function A(v){var w=function(_){if(u(_)!="object"||!_)return _;var B=_[Symbol.toPrimitive];if(B!==void 0){var N=B.call(_,"string");if(u(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}(v);return u(w)=="symbol"?w:w+""}function f(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f=function(){return!!v})()}function h(v){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},h(v)}function p(v,w){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,B){return _.__proto__=B,_},p(v,w)}var m=c(8213),g=c(2900),b=c(4070),y=c(5497),x=function(v){function w(){return function(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}(this,w),function(N,j,C){return j=h(j),function(E,S){if(S&&(u(S)=="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(E)}(N,f()?Reflect.construct(j,C||[],h(N).constructor):j.apply(N,C))}(this,w,arguments)}return function(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),j&&p(N,j)}(w,v),_=w,(B=[{key:"assimilateError",value:function(N){var j=N.reason,C=b(j)&&g(j)&&N.message.indexOf("bad auth")===-1&&N.message.indexOf("Authentication failed")===-1;for(var E in C?this.message="Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/":y(j)?this.message="Mongoose is connecting with SSL enabled, but the server is not accepting SSL connections. Please ensure that the MongoDB server you are connecting to is configured to accept SSL connections. Learn more: https://mongoosejs.com/docs/tutorials/ssl.html":this.message=N.message,N)E!=="name"&&(this[E]=N[E]);return this.cause=j,this}}])&&d(_.prototype,B),Object.defineProperty(_,"prototype",{writable:!1}),_;var _,B}(m);Object.defineProperty(x.prototype,"name",{value:"MongooseServerSelectionError"}),o.exports=x},7236:o=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(c)}o.exports=function(c){if(c==null||l(c)!=="object")return c;if(Array.isArray(c))for(var u=c.length-1;u>=0;--u)c[u]===void 0&&c.splice(u,1);for(var d=0,A=Object.keys(c);d<A.length;d++){var f=A[d];c[f]===void 0&&delete c[f]}return c}},7291:(o,l)=>{function c(d){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},c(d)}var u=Symbol("mongoose#trustedSymbol");l.trustedSymbol=u,l.trusted=function(d){return d==null||c(d)!=="object"||(d[u]=!0),d}},7300:o=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(c)}o.exports=function(c){return c==null||l(c)!=="object"||!("$meta"in c)&&!("$slice"in c)}},7352:(o,l,c)=>{function u(I){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},u(I)}var d=Object.getOwnPropertyDescriptors||function(I){for(var O=Object.keys(I),R={},U=0;U<O.length;U++)R[O[U]]=Object.getOwnPropertyDescriptor(I,O[U]);return R},A=/%[sdj%]/g;l.format=function(I){if(!j(I)){for(var O=[],R=0;R<arguments.length;R++)O.push(m(arguments[R]));return O.join(" ")}R=1;for(var U=arguments,T=U.length,z=String(I).replace(A,function(J){if(J==="%%")return"%";if(R>=T)return J;switch(J){case"%s":return String(U[R++]);case"%d":return Number(U[R++]);case"%j":try{return JSON.stringify(U[R++])}catch{return"[Circular]"}default:return J}}),G=U[R];R<T;G=U[++R])B(G)||!S(G)?z+=" "+G:z+=" "+m(G);return z},l.deprecate=function(I,O){if({env:{}}.noDeprecation===!0)return I;var R=!1;return function(){if(!R){if({env:{}}.throwDeprecation)throw new Error(O);({env:{}}).traceDeprecation?console.trace(O):console.error(O),R=!0}return I.apply(this,arguments)}};var f={},h=/^$/;if({}.NODE_DEBUG){var p={}.NODE_DEBUG;p=p.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),h=new RegExp("^"+p+"$","i")}function m(I,O){var R={seen:[],stylize:b};return arguments.length>=3&&(R.depth=arguments[2]),arguments.length>=4&&(R.colors=arguments[3]),_(O)?R.showHidden=O:O&&l._extend(R,O),C(R.showHidden)&&(R.showHidden=!1),C(R.depth)&&(R.depth=2),C(R.colors)&&(R.colors=!1),C(R.customInspect)&&(R.customInspect=!0),R.colors&&(R.stylize=g),y(R,I,R.depth)}function g(I,O){var R=m.styles[O];return R?"\x1B["+m.colors[R][0]+"m"+I+"\x1B["+m.colors[R][1]+"m":I}function b(I,O){return I}function y(I,O,R){if(I.customInspect&&O&&M(O.inspect)&&O.inspect!==l.inspect&&(!O.constructor||O.constructor.prototype!==O)){var U=O.inspect(R,I);return j(U)||(U=y(I,U,R)),U}var T=function(xe,X){if(C(X))return xe.stylize("undefined","undefined");if(j(X)){var ie="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return xe.stylize(ie,"string")}return N(X)?xe.stylize(""+X,"number"):_(X)?xe.stylize(""+X,"boolean"):B(X)?xe.stylize("null","null"):void 0}(I,O);if(T)return T;var z=Object.keys(O),G=function(xe){var X={};return xe.forEach(function(ie,re){X[ie]=!0}),X}(z);if(I.showHidden&&(z=Object.getOwnPropertyNames(O)),P(O)&&(z.indexOf("message")>=0||z.indexOf("description")>=0))return x(O);if(z.length===0){if(M(O)){var J=O.name?": "+O.name:"";return I.stylize("[Function"+J+"]","special")}if(E(O))return I.stylize(RegExp.prototype.toString.call(O),"regexp");if(k(O))return I.stylize(Date.prototype.toString.call(O),"date");if(P(O))return x(O)}var ee,fe="",de=!1,ae=["{","}"];return w(O)&&(de=!0,ae=["[","]"]),M(O)&&(fe=" [Function"+(O.name?": "+O.name:"")+"]"),E(O)&&(fe=" "+RegExp.prototype.toString.call(O)),k(O)&&(fe=" "+Date.prototype.toUTCString.call(O)),P(O)&&(fe=" "+x(O)),z.length!==0||de&&O.length!=0?R<0?E(O)?I.stylize(RegExp.prototype.toString.call(O),"regexp"):I.stylize("[Object]","special"):(I.seen.push(O),ee=de?function(xe,X,ie,re,ve){for(var ke=[],Ce=0,we=X.length;Ce<we;++Ce)K(X,String(Ce))?ke.push(v(xe,X,ie,re,String(Ce),!0)):ke.push("");return ve.forEach(function(oe){oe.match(/^\d+$/)||ke.push(v(xe,X,ie,re,oe,!0))}),ke}(I,O,R,G,z):z.map(function(xe){return v(I,O,R,G,xe,de)}),I.seen.pop(),function(xe,X,ie){return xe.reduce(function(re,ve){return ve.indexOf(`
`),re+ve.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ie[0]+(X===""?"":X+`
 `)+" "+xe.join(`,
  `)+" "+ie[1]:ie[0]+X+" "+xe.join(", ")+" "+ie[1]}(ee,fe,ae)):ae[0]+fe+ae[1]}function x(I){return"["+Error.prototype.toString.call(I)+"]"}function v(I,O,R,U,T,z){var G,J,ee;if((ee=Object.getOwnPropertyDescriptor(O,T)||{value:O[T]}).get?J=ee.set?I.stylize("[Getter/Setter]","special"):I.stylize("[Getter]","special"):ee.set&&(J=I.stylize("[Setter]","special")),K(U,T)||(G="["+T+"]"),J||(I.seen.indexOf(ee.value)<0?(J=B(R)?y(I,ee.value,null):y(I,ee.value,R-1)).indexOf(`
`)>-1&&(J=z?J.split(`
`).map(function(fe){return"  "+fe}).join(`
`).slice(2):`
`+J.split(`
`).map(function(fe){return"   "+fe}).join(`
`)):J=I.stylize("[Circular]","special")),C(G)){if(z&&T.match(/^\d+$/))return J;(G=JSON.stringify(""+T)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(G=G.slice(1,-1),G=I.stylize(G,"name")):(G=G.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),G=I.stylize(G,"string"))}return G+": "+J}function w(I){return Array.isArray(I)}function _(I){return typeof I=="boolean"}function B(I){return I===null}function N(I){return typeof I=="number"}function j(I){return typeof I=="string"}function C(I){return I===void 0}function E(I){return S(I)&&H(I)==="[object RegExp]"}function S(I){return u(I)==="object"&&I!==null}function k(I){return S(I)&&H(I)==="[object Date]"}function P(I){return S(I)&&(H(I)==="[object Error]"||I instanceof Error)}function M(I){return typeof I=="function"}function H(I){return Object.prototype.toString.call(I)}function F(I){return I<10?"0"+I.toString(10):I.toString(10)}l.debuglog=function(I){if(I=I.toUpperCase(),!f[I])if(h.test(I)){var O={env:{}}.pid;f[I]=function(){var R=l.format.apply(l,arguments);console.error("%s %d: %s",I,O,R)}}else f[I]=function(){};return f[I]},l.inspect=m,m.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},m.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},l.types=c(7595),l.isArray=w,l.isBoolean=_,l.isNull=B,l.isNullOrUndefined=function(I){return I==null},l.isNumber=N,l.isString=j,l.isSymbol=function(I){return u(I)==="symbol"},l.isUndefined=C,l.isRegExp=E,l.types.isRegExp=E,l.isObject=S,l.isDate=k,l.types.isDate=k,l.isError=P,l.types.isNativeError=P,l.isFunction=M,l.isPrimitive=function(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||u(I)==="symbol"||I===void 0},l.isBuffer=c(7944);var Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function K(I,O){return Object.prototype.hasOwnProperty.call(I,O)}l.log=function(){var I,O;console.log("%s - %s",(O=[F((I=new Date).getHours()),F(I.getMinutes()),F(I.getSeconds())].join(":"),[I.getDate(),Q[I.getMonth()],O].join(" ")),l.format.apply(l,arguments))},l.inherits=c(1679),l._extend=function(I,O){if(!O||!S(O))return I;for(var R=Object.keys(O),U=R.length;U--;)I[R[U]]=O[R[U]];return I};var Y=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function V(I,O){if(!I){var R=new Error("Promise was rejected with a falsy value");R.reason=I,I=R}return O(I)}l.promisify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');if(Y&&I[Y]){var O;if(typeof(O=I[Y])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(O,Y,{value:O,enumerable:!1,writable:!1,configurable:!0}),O}function O(){for(var R,U,T=new Promise(function(J,ee){R=J,U=ee}),z=[],G=0;G<arguments.length;G++)z.push(arguments[G]);z.push(function(J,ee){J?U(J):R(ee)});try{I.apply(this,z)}catch(J){U(J)}return T}return Object.setPrototypeOf(O,Object.getPrototypeOf(I)),Y&&Object.defineProperty(O,Y,{value:O,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(O,d(I))},l.promisify.custom=Y,l.callbackify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');function O(){for(var R=[],U=0;U<arguments.length;U++)R.push(arguments[U]);var T=R.pop();if(typeof T!="function")throw new TypeError("The last argument must be of type Function");var z=this,G=function(){return T.apply(z,arguments)};I.apply(this,R).then(function(J){({env:{}}).nextTick(G.bind(null,null,J))},function(J){({env:{}}).nextTick(V.bind(null,J,G))})}return Object.setPrototypeOf(O,Object.getPrototypeOf(I)),Object.defineProperties(O,d(I)),O}},7425:(o,l,c)=>{var u=c(2696);o.exports=function(d,A){if(d==null||d.discriminators==null)return null;for(var f=0,h=Object.keys(d.discriminators);f<h.length;f++){var p=h[f],m=d.discriminators[p];if(m.discriminatorMapping!=null&&u(m.discriminatorMapping.value,A))return m}return null}},7430:(o,l,c)=>{var u=c(5832).hp;function d(m){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},d(m)}var A=c(6353).Binary,f=c(3305),h=c(2497);c(3672),c(7352);function p(m){return m&&d(m)==="object"&&!(m instanceof Date)&&!f(m,"ObjectId")&&(!Array.isArray(m)||m.length!==0)&&!(m instanceof u)&&!f(m,"Decimal128")&&!(m instanceof A)}l.B=function m(g,b,y,x){var v,w=(v=g&&h(g)&&!u.isBuffer(g)?Object.keys(g.toObject({transform:!1,virtuals:!1})||{}):Object.keys(g||{})).length,_={};b=b?b+".":"";for(var B=0;B<w;++B){var N=v[B],j=g[N];_[b+N]=j;var C=x&&x.path&&x.path(b+N),E=x&&x.nested&&x.nested[b+N];if(!C||C.instance!=="Mixed"){if(p(j)){if(y&&y.skipArrays&&Array.isArray(j))continue;var S=m(j,b+N,y,x);for(var k in S)_[k]=S[k];Array.isArray(j)&&(_[b+N]=j)}if(E)for(var P=0,M=Object.keys(x.paths);P<M.length;P++){var H=M[P];H.startsWith(b+N+".")&&!_.hasOwnProperty(H)&&(_[H]=void 0)}}}return _}},7494:(o,l,c)=>{function u(m){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(m)}function d(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!m})()}function A(m){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},A(m)}function f(m,g){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,y){return b.__proto__=y,b},f(m,g)}var h=function(m){function g(){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,g,arguments)}return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),x&&f(y,x)}(g,m),b=g,Object.defineProperty(b,"prototype",{writable:!1}),b;var b}(c(8879)),p=c(5761);Object.defineProperty(h.prototype,"_id",p),Object.defineProperty(h.prototype,"minimize",p),o.exports=h},7557:(o,l,c)=>{function u(x){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},u(x)}function d(x,v,w){return(v=function(_){var B=function(N){if(u(N)!="object"||!N)return N;var j=N[Symbol.toPrimitive];if(j!==void 0){var C=j.call(N,"string");if(u(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(_);return u(B)=="symbol"?B:B+""}(v))in x?Object.defineProperty(x,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):x[v]=w,x}var A=c(8920),f=c(7930).arrayAtomicsSymbol,h=c(7930).arrayAtomicsBackupSymbol,p=c(7930).arrayParentSymbol,m=c(7930).arrayPathSymbol,g=c(7930).arraySchemaSymbol,b=Array.prototype.push,y=/^\d+$/;o.exports=function(x,v,w,_){var B;if(Array.isArray(x)){var N=x.length;if(N===0)B=new Array;else if(N===1)(B=new Array(1))[0]=x[0];else if(N<1e4)B=new Array,b.apply(B,x);else{B=new Array;for(var j=0;j<N;++j)b.call(B,x[j])}}else B=[];var C=d(d(d(d(d(d(d(d({},f,{}),h,void 0),m,v),g,_),p,void 0),"isMongooseArray",!0),"isMongooseArrayProxy",!0),"__array",B);x&&x[f]!=null&&(C[f]=x[f]),w!=null&&w.$__&&(C[p]=w,C[g]=_||w.schema.path(v));var E=new Proxy(B,{get:function(S,k){return C.hasOwnProperty(k)?C[k]:A.hasOwnProperty(k)?A[k]:_&&_.virtuals&&_.virtuals.hasOwnProperty(k)?_.virtuals[k].applyGetters(void 0,S):typeof k=="string"&&y.test(k)&&(_==null?void 0:_.$embeddedSchemaType)!=null?_.$embeddedSchemaType.applyGetters(B[k],w):B[k]},set:function(S,k,P){return typeof k=="string"&&y.test(k)?A.set.call(E,k,P,!1):C.hasOwnProperty(k)?C[k]=P:_&&_.virtuals&&_.virtuals.hasOwnProperty(k)?_.virtuals[k].applySetters(P,S):B[k]=P,!0}});return E}},7591:o=>{var l=null;o.exports.get=function(){return l},o.exports.set=function(c){l=c}},7595:(o,l,c)=>{function u(R){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},u(R)}var d=c(5899),A=c(1905),f=c(9834),h=c(7911);function p(R){return R.call.bind(R)}var m=typeof BigInt<"u",g=typeof Symbol<"u",b=p(Object.prototype.toString),y=p(Number.prototype.valueOf),x=p(String.prototype.valueOf),v=p(Boolean.prototype.valueOf);if(m)var w=p(BigInt.prototype.valueOf);if(g)var _=p(Symbol.prototype.valueOf);function B(R,U){if(u(R)!=="object")return!1;try{return U(R),!0}catch{return!1}}function N(R){return b(R)==="[object Map]"}function j(R){return b(R)==="[object Set]"}function C(R){return b(R)==="[object WeakMap]"}function E(R){return b(R)==="[object WeakSet]"}function S(R){return b(R)==="[object ArrayBuffer]"}function k(R){return typeof ArrayBuffer<"u"&&(S.working?S(R):R instanceof ArrayBuffer)}function P(R){return b(R)==="[object DataView]"}function M(R){return typeof DataView<"u"&&(P.working?P(R):R instanceof DataView)}l.isArgumentsObject=d,l.isGeneratorFunction=A,l.isTypedArray=h,l.isPromise=function(R){return typeof Promise<"u"&&R instanceof Promise||R!==null&&u(R)==="object"&&typeof R.then=="function"&&typeof R.catch=="function"},l.isArrayBufferView=function(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):h(R)||M(R)},l.isUint8Array=function(R){return f(R)==="Uint8Array"},l.isUint8ClampedArray=function(R){return f(R)==="Uint8ClampedArray"},l.isUint16Array=function(R){return f(R)==="Uint16Array"},l.isUint32Array=function(R){return f(R)==="Uint32Array"},l.isInt8Array=function(R){return f(R)==="Int8Array"},l.isInt16Array=function(R){return f(R)==="Int16Array"},l.isInt32Array=function(R){return f(R)==="Int32Array"},l.isFloat32Array=function(R){return f(R)==="Float32Array"},l.isFloat64Array=function(R){return f(R)==="Float64Array"},l.isBigInt64Array=function(R){return f(R)==="BigInt64Array"},l.isBigUint64Array=function(R){return f(R)==="BigUint64Array"},N.working=typeof Map<"u"&&N(new Map),l.isMap=function(R){return typeof Map<"u"&&(N.working?N(R):R instanceof Map)},j.working=typeof Set<"u"&&j(new Set),l.isSet=function(R){return typeof Set<"u"&&(j.working?j(R):R instanceof Set)},C.working=typeof WeakMap<"u"&&C(new WeakMap),l.isWeakMap=function(R){return typeof WeakMap<"u"&&(C.working?C(R):R instanceof WeakMap)},E.working=typeof WeakSet<"u"&&E(new WeakSet),l.isWeakSet=function(R){return E(R)},S.working=typeof ArrayBuffer<"u"&&S(new ArrayBuffer),l.isArrayBuffer=k,P.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&P(new DataView(new ArrayBuffer(1),0,1)),l.isDataView=M;var H=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function F(R){return b(R)==="[object SharedArrayBuffer]"}function Q(R){return H!==void 0&&(F.working===void 0&&(F.working=F(new H)),F.working?F(R):R instanceof H)}function K(R){return B(R,y)}function Y(R){return B(R,x)}function V(R){return B(R,v)}function I(R){return m&&B(R,w)}function O(R){return g&&B(R,_)}l.isSharedArrayBuffer=Q,l.isAsyncFunction=function(R){return b(R)==="[object AsyncFunction]"},l.isMapIterator=function(R){return b(R)==="[object Map Iterator]"},l.isSetIterator=function(R){return b(R)==="[object Set Iterator]"},l.isGeneratorObject=function(R){return b(R)==="[object Generator]"},l.isWebAssemblyCompiledModule=function(R){return b(R)==="[object WebAssembly.Module]"},l.isNumberObject=K,l.isStringObject=Y,l.isBooleanObject=V,l.isBigIntObject=I,l.isSymbolObject=O,l.isBoxedPrimitive=function(R){return K(R)||Y(R)||V(R)||I(R)||O(R)},l.isAnyArrayBuffer=function(R){return typeof Uint8Array<"u"&&(k(R)||Q(R))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(l,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})},7760:(o,l,c)=>{function u(U,T){var z=Object.keys(U);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(U);T&&(G=G.filter(function(J){return Object.getOwnPropertyDescriptor(U,J).enumerable})),z.push.apply(z,G)}return z}function d(U){for(var T=1;T<arguments.length;T++){var z=arguments[T]!=null?arguments[T]:{};T%2?u(Object(z),!0).forEach(function(G){A(U,G,z[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(z)):u(Object(z)).forEach(function(G){Object.defineProperty(U,G,Object.getOwnPropertyDescriptor(z,G))})}return U}function A(U,T,z){return(T=function(G){var J=function(ee){if(h(ee)!="object"||!ee)return ee;var fe=ee[Symbol.toPrimitive];if(fe!==void 0){var de=fe.call(ee,"string");if(h(de)!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}(G);return h(J)=="symbol"?J:J+""}(T))in U?Object.defineProperty(U,T,{value:z,enumerable:!0,configurable:!0,writable:!0}):U[T]=z,U}function f(U,T){(T==null||T>U.length)&&(T=U.length);for(var z=0,G=Array(T);z<T;z++)G[z]=U[z];return G}function h(U){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},h(U)}var p,m,g=c(8499),b=c(2555),y=c(8213),x=c(4592),v=c(6426),w=v.CastError,_=c(5022),B=c(2069),N=c(622),j=c(2073),C=c(7982),E=c(4450),S=c(8260),k=c(5110),P=c(7352),M=c(8768),H=c(5558).G,F=c(4327),Q=c(9604),K=c(1058),Y=Symbol("mongoose#isNestedArray"),V=Object.freeze({});function I(U,T,z,G){m||(m=c(9600).Embedded);var J,ee,fe="type";if(G&&G.typeKey&&(fe=G.typeKey),this.schemaOptions=G,T){var de={};M.isPOJO(T)&&(T[fe]?(delete(de=E(T))[fe],T=T[fe]):T=_),z!=null&&z.ref!=null&&de.ref==null&&(de.ref=z.ref),T===Object&&(T=_);var ae=typeof T=="string"?T:M.getFunctionName(T),xe=c(7953),X=xe.hasOwnProperty(ae)?xe[ae]:T;if(this.casterConstructor=X,this.casterConstructor instanceof I&&(this.casterConstructor[Y]=!0),typeof X!="function"||X.$isArraySubdocument||X.$isSchemaMap)this.caster=X,this.caster instanceof m||(this.caster.path=U);else{var ie=this.caster instanceof m?null:U;this.caster=new X(ie,de)}this.$embeddedSchemaType=this.caster}if(this.$isMongooseArray=!0,v.call(this,U,z,"Array"),this.defaultValue!=null&&(J=this.defaultValue,ee=typeof J=="function"),!("defaultValue"in this)||this.defaultValue!=null){var re=function(){return ee?J.call(this):J!=null?[].concat(J):[]};re.$runBeforeSetters=!ee,this.default(re)}}I.schemaName="Array",I.options={castNonArrays:!0},I.defaultOptions={},I.set=v.set,I.setters=[],I.get=v.get,I.prototype=Object.create(v.prototype),I.prototype.constructor=I,I.prototype.OptionsConstructor=x,I._checkRequired=v.prototype.checkRequired,I.checkRequired=v.checkRequired,I.prototype.virtuals=null,I.prototype.checkRequired=function(U,T){return h(U)==="object"&&v._isRef(this,U,T,!0)?!!U:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():I.checkRequired())(U)},I.prototype.enum=function(){for(var U=this;;){var T=U&&U.caster&&U.caster.instance;if(T!=="Array"){if(T!=="String"&&T!=="Number")throw new Error("`enum` can only be set on an array of strings or numbers , not "+T);break}U=U.caster}var z=arguments;return!Array.isArray(arguments)&&M.isObject(arguments)&&(z=M.object.vals(z)),U.caster.enum.apply(U.caster,z),this},I.prototype.applyGetters=function(U,T){return T!=null&&T.$__!=null&&T.$populated(this.path)?U:v.prototype.applyGetters.call(this,U,T)},I.prototype._applySetters=function(U,T,z,G){if(this.casterConstructor.$isMongooseArray&&I.options.castNonArrays&&!this[Y]){for(var J=0,ee=this;ee!=null&&ee.$isMongooseArray&&!ee.$isMongooseDocumentArray;)++J,ee=ee.casterConstructor;if(U!=null&&U.length!==0){var fe=j(U);if(fe.min===fe.max&&fe.max<J&&fe.containsNonArrayItem)for(var de=fe.max;de<J;++de)U=[U]}}return v.prototype._applySetters.call(this,U,T,z,G)},I.prototype.cast=function(U,T,z,G,J){var ee,fe;if(p||(p=c(9600).Array),Array.isArray(U)){if(!U.length&&T){var de=T.schema.indexedPaths(),ae=this.path;for(ee=0,fe=de.length;ee<fe;++ee){var xe=de[ee][0][ae];if(xe==="2dsphere"||xe==="2d")return}var X=this.path.endsWith(".coordinates")?this.path.substring(0,this.path.lastIndexOf(".")):null;if(X!=null){for(ee=0,fe=de.length;ee<fe;++ee)if(de[ee][0][X]==="2dsphere")return}}J=J||V;var ie=M.isMongooseArray(U)?U.__array:U,re=J.path||this.path;if(J.arrayPathIndex!=null&&(re+="."+J.arrayPathIndex),ie=(U=p(ie,re,T,this)).__array,z&&T!=null&&T.$__!=null&&T.$populated(this.path))return U;var ve=this.caster,ke=ve.$isMongooseArray;if(ve&&this.casterConstructor!==_)try{var Ce=ie.length;for(ee=0;ee<Ce;ee++){var we={};ke&&(J.arrayPath!=null||ve._arrayParentPath!=null)&&(we.arrayPathIndex=ee),J.hydratedPopulatedDocs&&(we.hydratedPopulatedDocs=J.hydratedPopulatedDocs),ie[ee]=ve.applySetters(ie[ee],T,z,void 0,we)}}catch(pe){throw new w("["+pe.kind+"]",P.inspect(U),this.path+"."+ee,pe,this)}return U}var oe=this.options.castNonArrays!=null?this.options.castNonArrays:I.options.castNonArrays;if(z||oe)return T&&z&&T.markModified(this.path),this.cast([U],T,z);throw new w("Array",P.inspect(U),this.path,null,this)},I.prototype._castForPopulate=function(U,T){if(p||(p=c(9600).Array),Array.isArray(U)){var z,G=U.__array?U.__array:U,J=G.length,ee=this.caster;if(ee&&this.casterConstructor!==_)try{for(z=0;z<J;z++){var fe={};ee.$isMongooseArray&&ee._arrayParentPath!=null&&(fe.arrayPathIndex=z),G[z]=ee.cast(G[z],T,!1,void 0,fe)}}catch(de){throw new w("["+de.kind+"]",P.inspect(U),this.path+"."+z,de,this)}return U}throw new w("Array",P.inspect(U),this.path,null,this)},I.prototype.$toObject=I.prototype.toObject,I.prototype.discriminator=function(){for(var U,T=this;T.$isMongooseArray&&!T.$isMongooseDocumentArray;)if((T=T.casterConstructor)==null||typeof T=="function")throw new y("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return(U=T).discriminator.apply(U,arguments)},I.prototype.clone=function(){var U=Object.assign({},this.options),T=new this.constructor(this.path,this.caster,U,this.schemaOptions);return T.validators=this.validators.slice(),this.requiredValidator!==void 0&&(T.requiredValidator=this.requiredValidator),T},I.prototype._castForQuery=function(U,T){var z=this,G=this.casterConstructor;if(U&&G.discriminators&&G.schema&&G.schema.options&&G.schema.options.discriminatorKey)if(typeof U[G.schema.options.discriminatorKey]=="string"&&G.discriminators[U[G.schema.options.discriminatorKey]])G=G.discriminators[U[G.schema.options.discriminatorKey]];else{var J=K(G.discriminators,U[G.schema.options.discriminatorKey]);J&&(G=J)}var ee=this.casterConstructor.prototype,fe=ee&&ee.castForQuery,de=ee&&ee.cast,ae=G.castForQuery,xe=this.caster;return Array.isArray(U)?(this.setters.reverse().forEach(function(X){U=X.call(z,U,z)}),U=U.map(function(X){return M.isObject(X)&&X.$elemMatch?X:fe?X=fe.call(xe,null,X,T):de?X=de.call(xe,X):ae?X=ae.call(xe,null,X,T):X!=null?X=new G(X):X})):fe?U=fe.call(xe,null,U,T):de?U=de.call(xe,U):ae?U=ae.call(xe,null,U,T):U!=null&&(U=new G(U)),U},I.prototype.castForQuery=function(U,T,z){var G;if(U!=null){if(!(G=this.$conditionalHandlers[U]))throw new Error("Can't use "+U+" with Array.");return G.call(this,T,z)}return this._castForQuery(T,z)},I.prototype.virtual=function(U,T){if(U instanceof N||S(U)==="VirtualType")return this.virtual(U.path,U.options);if(T=new B(T),M.hasUserDefinedProperty(T,["ref","refPath"]))throw new y("Cannot set populate virtual as a property of an array");var z=new N(T,U);return this.virtuals===null&&(this.virtuals={}),this.virtuals[U]=z,z};var O=I.prototype.$conditionalHandlers={};function R(U){return function(T,z){if(!Array.isArray(T))throw new TypeError("conditional "+U+" requires an array");var G,J=[],ee=function(ae,xe){var X=typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(!X){if(Array.isArray(ae)||(X=function(we,oe){if(we){if(typeof we=="string")return f(we,oe);var pe={}.toString.call(we).slice(8,-1);return pe==="Object"&&we.constructor&&(pe=we.constructor.name),pe==="Map"||pe==="Set"?Array.from(we):pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe)?f(we,oe):void 0}}(ae))||xe){X&&(ae=X);var ie=0,re=function(){};return{s:re,n:function(){return ie>=ae.length?{done:!0}:{done:!1,value:ae[ie++]}},e:function(we){throw we},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ve,ke=!0,Ce=!1;return{s:function(){X=X.call(ae)},n:function(){var we=X.next();return ke=we.done,we},e:function(we){Ce=!0,ve=we},f:function(){try{ke||X.return==null||X.return()}finally{if(Ce)throw ve}}}}(T);try{for(ee.s();!(G=ee.n()).done;){var fe,de=G.value;J.push(C((fe=this.casterConstructor.schema)!==null&&fe!==void 0?fe:z.schema,de,null,this&&this.$$context))}}catch(ae){ee.e(ae)}finally{ee.f()}return J}}O.$all=function(U,T){var z=this;return Array.isArray(U)||(U=[U]),U=U.map(function(G){if(!M.isObject(G))return G;if(G.$elemMatch!=null)return{$elemMatch:C(z.casterConstructor.schema,G.$elemMatch,null,z&&z.$$context)};var J={};return J[z.path]=G,C(z.casterConstructor.schema,J,null,z&&z.$$context)[z.path]},this),this.castForQuery(null,U,T)},O.$options=String,O.$elemMatch=function(U,T){for(var z=Object.keys(U),G=z.length,J=0;J<G;++J){var ee=z[J],fe=U[ee];k(ee)&&fe!=null&&(U[ee]=this.castForQuery(ee,fe,T))}return U},O.$geoIntersects=Q.cast$geoIntersects,O.$or=R("$or"),O.$and=R("$and"),O.$nor=R("$nor"),O.$near=O.$nearSphere=Q.cast$near,O.$within=O.$geoWithin=Q.cast$within,O.$size=O.$minDistance=O.$maxDistance=H,O.$exists=g,O.$type=b,O.$eq=O.$gt=O.$gte=O.$lt=O.$lte=O.$not=O.$regex=O.$ne=I.prototype._castForQuery,O.$nin=v.prototype.$conditionalHandlers.$nin,O.$in=v.prototype.$conditionalHandlers.$in,I.prototype.toJSONSchema=function(U){var T=this.getEmbeddedSchemaType(),z=this.options.required&&typeof this.options.required!="function";return d(d({},F("array","array",U==null?void 0:U.useBsonType,z)),{},{items:T.toJSONSchema(U)})},I.prototype.autoEncryptionType=function(){return"array"},o.exports=I},7768:(o,l,c)=>{var u=c(2402);o.exports=function(d){return d==null?d:d===""?null:(typeof d!="string"&&typeof d!="boolean"||(d=Number(d)),u.ok(!isNaN(d)),d instanceof Number?d.valueOf():typeof d=="number"?d:Array.isArray(d)||typeof d.valueOf!="function"?d.toString&&!Array.isArray(d)&&d.toString()==Number(d)?Number(d):void u.ok(!1):Number(d.valueOf()))}},7834:o=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(c)}o.exports=function(c,u,d,A){return A.justOne||A.count?(c[u]=Array.isArray(d)?d[0]:d,l(c[u])!=="object"&&(c[u]=A.count?d:null)):(c[u]=Array.isArray(d)?d:d==null?[]:[d],c[u]=c[u].filter(function(f){return f&&l(f)==="object"})),c[u]}},7860:o=>{o.exports=function(l){for(var c=[],u="",d="DEFAULT",A=0;A<l.length;++A)d!=="IN_SQUARE_BRACKETS"||/\d/.test(l[A])||l[A]==="]"||(d="DEFAULT",u=c[c.length-1]+"["+u,c.splice(c.length-1,1)),l[A]==="["?(d!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(c.push(u),u=""),d="IN_SQUARE_BRACKETS"):l[A]==="]"?d==="IN_SQUARE_BRACKETS"?(d="IMMEDIATELY_AFTER_SQUARE_BRACKETS",c.push(u),u=""):(d="DEFAULT",u+=l[A]):l[A]==="."?(d!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(c.push(u),u=""),d="DEFAULT"):u+=l[A];return d!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&c.push(u),c}},7878:(o,l,c)=>{var u=c(2273),d=c(4183);o.exports=function(){var A=d();return u(Number,{isNaN:A},{isNaN:function(){return Number.isNaN!==A}}),A}},7910:(o,l,c)=>{var u=c(1058);o.exports=function(d,A,f){var h=d.schema.options.discriminatorKey,p=A!=null&&A[h];if(p==null&&(p=f),d.discriminators&&p!=null)if(d.discriminators[p])d=d.discriminators[p];else{var m=u(d.discriminators,p);m&&(d=m)}return d}},7911:(o,l,c)=>{var u=c(9834);o.exports=function(d){return!!u(d)}},7930:(o,l)=>{l.arrayAtomicsBackupSymbol=Symbol("mongoose#Array#atomicsBackup"),l.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics"),l.arrayParentSymbol=Symbol("mongoose#Array#_parent"),l.arrayPathSymbol=Symbol("mongoose#Array#_path"),l.arraySchemaSymbol=Symbol("mongoose#Array#_schema"),l.documentArrayParent=Symbol("mongoose#documentArrayParent"),l.documentIsSelected=Symbol("mongoose#Document#isSelected"),l.documentIsModified=Symbol("mongoose#Document#isModified"),l.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths"),l.documentSchemaSymbol=Symbol("mongoose#Document#schema"),l.getSymbol=Symbol("mongoose#Document#get"),l.modelSymbol=Symbol("mongoose#Model"),l.objectIdSymbol=Symbol("mongoose#ObjectId"),l.populateModelSymbol=Symbol("mongoose#PopulateOptions#Model"),l.schemaTypeSymbol=Symbol("mongoose#schemaType"),l.sessionNewDocuments=Symbol("mongoose#ClientSession#newDocuments"),l.scopeSymbol=Symbol("mongoose#Document#scope"),l.validatorErrorSymbol=Symbol("mongoose#validatorError")},7944:o=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(c)}o.exports=function(c){return c&&l(c)==="object"&&typeof c.copy=="function"&&typeof c.fill=="function"&&typeof c.readUInt8=="function"}},7953:(o,l,c)=>{l.Array=c(7760),l.BigInt=c(3318),l.Boolean=c(6413),l.Buffer=c(2307),l.Date=c(2345),l.Decimal128=l.Decimal=c(7045),l.DocumentArray=c(9123),l.Map=c(6867),l.Mixed=c(5022),l.Number=c(3660),l.ObjectId=c(3091),l.String=c(8728),l.Subdocument=c(5098),l.UUID=c(2134),l.Double=c(1732),l.Int32=c(433),l.Oid=l.ObjectId,l.Object=l.Mixed,l.Bool=l.Boolean,l.ObjectID=l.ObjectId},7982:(o,l,c)=>{function u(S,k){var P=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(!P){if(Array.isArray(S)||(P=function(Y,V){if(Y){if(typeof Y=="string")return d(Y,V);var I={}.toString.call(Y).slice(8,-1);return I==="Object"&&Y.constructor&&(I=Y.constructor.name),I==="Map"||I==="Set"?Array.from(Y):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?d(Y,V):void 0}}(S))||k){P&&(S=P);var M=0,H=function(){};return{s:H,n:function(){return M>=S.length?{done:!0}:{done:!1,value:S[M++]}},e:function(Y){throw Y},f:H}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F,Q=!0,K=!1;return{s:function(){P=P.call(S)},n:function(){var Y=P.next();return Q=Y.done,Y},e:function(Y){K=!0,F=Y},f:function(){try{Q||P.return==null||P.return()}finally{if(K)throw F}}}}function d(S,k){(k==null||k>S.length)&&(k=S.length);for(var P=0,M=Array(k);P<k;P++)M[P]=S[P];return M}function A(S){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},A(S)}var f=c(3609),h=c(8995),p=c(7953),m=c(170),g=c(1244),b=c(9064),y=c(3703),x=c(7425),v=c(5110),w=c(7352),_=c(608),B=c(2497),N=c(8768),j=["Polygon","MultiPolygon"];function C(S,k,P){if(Array.isArray(S))S.forEach(function(K,Y){if(Array.isArray(K)||_(K))return C(K,k,P);S[Y]=k.castForQuery(null,K,P)});else for(var M=Object.keys(S),H=M.length;H--;){var F=M[H],Q=S[F];Array.isArray(Q)||_(Q)?(C(Q,k,P),S[F]=Q):S[F]=k.castForQuery({val:Q,context:P})}}function E(S,k,P,M){if("strictQuery"in S)return S.strictQuery;if("strictQuery"in k)return k.strictQuery;var H=M&&M.mongooseCollection&&M.mongooseCollection.conn&&M.mongooseCollection.conn.base&&M.mongooseCollection.conn.base.options;return H&&"strictQuery"in H?H.strictQuery:P.strictQuery}o.exports=function S(k,P,M,H){if(Array.isArray(P))throw new Error("Query filter must be an object, got an array ",w.inspect(P));if(P==null)return P;k!=null&&k.discriminators!=null&&P[k.options.discriminatorKey]!=null&&(k=x(k,P[k.options.discriminatorKey])||k);var F,Q,K,Y,V,I,O=Object.keys(P),R=O.length;for(M=M||{};R--;)if(I=P[Y=O[R]],Y==="$or"||Y==="$nor"||Y==="$and"){if(!Array.isArray(I))throw new f("Array",I,Y);for(var U=I.length-1;U>=0;U--){if(I[U]==null||A(I[U])!=="object")throw new f("Object",I[U],Y+"."+U);var T=Object.keys(I[U]).length,z=I[U][k.options.discriminatorKey];if(z==null)I[U]=S(k,I[U],M,H);else{var G=x(H.schema,z);I[U]=S(G||k,I[U],M,H)}Object.keys(I[U]).length===0&&T!==0&&I.splice(U,1)}I.length===0&&delete P[Y]}else{if(Y==="$where"){if((V=A(I))!=="string"&&V!=="function")throw new Error("Must have a string or function for $where");V==="function"&&(P[Y]=I.toString());continue}if(Y==="$expr"){I=m(I,k);continue}if(Y==="$elemMatch")I=S(k,I,M,H);else if(Y==="$text")I=b(I,Y);else if(Y!=="$comment"||k.paths.hasOwnProperty("$comment")){if(!k)continue;if(!(Q=k.path(Y)))for(var J=Y.split("."),ee=J.length;ee--;){var fe=J.slice(0,ee).join("."),de=J.slice(ee).join("."),ae=k.path(fe),xe=ae&&ae.schema&&ae.schema.options&&ae.schema.options.discriminatorKey;if(ae!=null&&(ae.schema&&ae.schema.discriminators)!=null&&xe!=null&&de!==xe){var X=y(P,fe+"."+xe),ie=ae.schema.discriminators;typeof X=="string"&&ie[X]!=null?Q=ie[X].path(de):X!=null&&Object.keys(X).length===1&&Array.isArray(X.$in)&&X.$in.length===1&&typeof X.$in[0]=="string"&&ie[X.$in[0]]!=null&&(Q=ie[X.$in[0]].path(de))}}if(Q){if(I==null)continue;if(N.isPOJO(I))if(Object.keys(I).some(v))for(var re=Object.keys(I),ve=void 0,ke=re.length;ke--;)if(K=I[ve=re[ke]],ve==="$elemMatch")K&&Q!=null&&Q.schema!=null?S(Q.schema,K,M,H):K&&Q!=null&&Q.$isMongooseArray&&(N.isPOJO(K)&&K.$not!=null?S(k,K,M,H):I[ve]=Q.castForQuery(ve,K,H));else if(ve==="$not"){if(K&&Q){if((F=Object.keys(K)).length&&v(F[0]))for(var Ce in K)K[Ce]=Q.castForQuery(Ce,K[Ce],H);else I[ve]=Q.castForQuery(ve,K,H);continue}}else I[ve]=Q.castForQuery(ve,K,H);else P[Y]=Q.castForQuery(null,I,H);else if(Array.isArray(I)&&["Buffer","Array"].indexOf(Q.instance)===-1&&!M.sanitizeFilter){var we,oe=[],pe=u(I);try{for(pe.s();!(we=pe.n()).done;){var je=we.value;oe.push(Q.castForQuery(null,je,H))}}catch(Rt){pe.e(Rt)}finally{pe.f()}P[Y]={$in:oe}}else P[Y]=Q.castForQuery(null,I,H)}else{for(var Te=Y.split("."),be=Te.length,De=void 0,qe=void 0,Qe=void 0;be--&&(De=Te.slice(0,be).join("."),!(Q=k.path(De))););if(Q){if(Q.caster&&Q.caster.schema){(Qe={})[qe=Te.slice(be).join(".")]=I;var Re=S(Q.caster.schema,Qe,M,H)[qe];Re===void 0?delete P[Y]:P[Y]=Re}else P[Y]=I;continue}if(_(I)){var We="";if(I.$near?We="$near":I.$nearSphere?We="$nearSphere":I.$within?We="$within":I.$geoIntersects?We="$geoIntersects":I.$geoWithin&&(We="$geoWithin"),We){var Me=new p.Number("__QueryCasting__"),ot=I[We];if(I.$maxDistance!=null&&(I.$maxDistance=Me.castForQuery(null,I.$maxDistance,H)),I.$minDistance!=null&&(I.$minDistance=Me.castForQuery(null,I.$minDistance,H)),We==="$within"){var xt=ot.$center||ot.$centerSphere||ot.$box||ot.$polygon;if(!xt)throw new Error("Bad $within parameter: "+JSON.stringify(I));ot=xt}else if(We==="$near"&&typeof ot.type=="string"&&Array.isArray(ot.coordinates))ot=ot.coordinates;else if((We==="$near"||We==="$nearSphere"||We==="$geoIntersects")&&ot.$geometry&&typeof ot.$geometry.type=="string"&&Array.isArray(ot.$geometry.coordinates))ot.$maxDistance!=null&&(ot.$maxDistance=Me.castForQuery(null,ot.$maxDistance,H)),ot.$minDistance!=null&&(ot.$minDistance=Me.castForQuery(null,ot.$minDistance,H)),B(ot.$geometry)&&(ot.$geometry=ot.$geometry.toObject({transform:!1,virtuals:!1})),ot=ot.$geometry.coordinates;else if(We==="$geoWithin")if(ot.$geometry){B(ot.$geometry)&&(ot.$geometry=ot.$geometry.toObject({virtuals:!1}));var Ft=ot.$geometry.type;if(j.indexOf(Ft)===-1)throw new Error('Invalid geoJSON type for $geoWithin "'+Ft+'", must be "Polygon" or "MultiPolygon"');ot=ot.$geometry.coordinates}else ot=ot.$box||ot.$polygon||ot.$center||ot.$centerSphere,B(ot)&&(ot=ot.toObject({virtuals:!1}));C(ot,Me,H);continue}}if(k.nested[Y])continue;var nt="strict"in M?M.strict:k.options.strict,At=E(M,k._userProvidedOptions,k.options,H);if(M.upsert&&nt)throw nt==="throw"?new h(Y):new h(Y,'Path "'+Y+'" is not in schema, strict mode is `true`, and upsert is `true`.');if(At==="throw")throw new h(Y,'Path "'+Y+`" is not in schema and strictQuery is 'throw'.`);At&&delete P[Y]}}else I=g(I,Y),P[Y]=I}return P}},8063:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}function d(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!p})()}function A(p){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A(p)}function f(p,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},f(p,m)}var h=function(p){function m(b){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,m),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,m,[`Schema hasn't been registered for model "`+b+`".
Use mongoose.model(name, schema)`])}return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),y&&f(b,y)}(m,p),g=m,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(c(8213));Object.defineProperty(h.prototype,"name",{value:"MissingSchemaError"}),o.exports=h},8093:o=>{o.exports=Object},8133:(o,l,c)=>{var u=c(8995);o.exports=function(d){var A,f;d.$immutable?(d.$immutableSetter=(A=d.path,f=d.options.immutable,function(h,p,m,g){if(this==null||this.$__==null||this.isNew||g&&g.overwriteImmutable||!(typeof f=="function"?f.call(this,this):f))return h;var b=this.$__.priorDoc!=null?this.$__.priorDoc.$__getValue(A):this.$__getValue(A);if(this.$__.strictMode==="throw"&&h!==b)throw new u(A,"Path `"+A+"` is immutable and strict mode is set to throw.",!0);return b}),d.set(d.$immutableSetter)):d.$immutableSetter&&(d.setters=d.setters.filter(function(h){return h!==d.$immutableSetter}),delete d.$immutableSetter)}},8188:o=>{o.exports=URIError},8213:o=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},l(h)}function c(h){var p=typeof Map=="function"?new Map:void 0;return c=function(m){if(m===null||!function(b){try{return Function.toString.call(b).indexOf("[native code]")!==-1}catch{return typeof b=="function"}}(m))return m;if(typeof m!="function")throw new TypeError("Super expression must either be null or a function");if(p!==void 0){if(p.has(m))return p.get(m);p.set(m,g)}function g(){return function(b,y,x){if(u())return Reflect.construct.apply(null,arguments);var v=[null];v.push.apply(v,y);var w=new(b.bind.apply(b,v));return x&&d(w,x.prototype),w}(m,arguments,A(this).constructor)}return g.prototype=Object.create(m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),d(g,m)},c(h)}function u(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!h})()}function d(h,p){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,g){return m.__proto__=g,m},d(h,p)}function A(h){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},A(h)}var f=function(h){function p(){return function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}(this,p),function(g,b,y){return b=A(b),function(x,v){if(v&&(l(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(x)}(g,u()?Reflect.construct(b,y||[],A(g).constructor):b.apply(g,y))}(this,p,arguments)}return function(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),b&&d(g,b)}(p,h),m=p,Object.defineProperty(m,"prototype",{writable:!1}),m;var m}(c(Error));Object.defineProperty(f.prototype,"name",{value:"MongooseError"}),o.exports=f},8235:(o,l,c)=>{var u=c(8213),d=c(6426),A=c(5098),f=c(7910);function h(p,m){if(this.$parentSchemaType=m&&m.$parentSchemaType,!this.$parentSchemaType)throw new u("Cannot create DocumentArrayElement schematype without a parent");delete m.$parentSchemaType,d.call(this,p,m,"DocumentArrayElement"),this.$isMongooseDocumentArrayElement=!0}h.schemaName="DocumentArrayElement",h.defaultOptions={},h.prototype=Object.create(d.prototype),h.prototype.constructor=h,h.prototype.cast=function(){var p;return(p=this.$parentSchemaType).cast.apply(p,arguments)[0]},h.prototype.doValidate=function(p,m,g,b){var y=f(this.caster,p);return!p||p instanceof y||(p=new y(p,g,null,null,b&&b.index!=null?b.index:null)),A.prototype.doValidate.call(this,p,m,g,b)},h.prototype.clone=function(){this.options.$parentSchemaType=this.$parentSchemaType;var p=d.prototype.clone.apply(this,arguments);return delete this.options.$parentSchemaType,p.caster=this.caster,p.schema=this.schema,p},o.exports=h},8250:(o,l,c)=>{var u=c(5832).hp,d=c(6365),A=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,f=d.Binary;function h(p){typeof p!="string"&&(p="");var m,g=(m=p.replace(/[{}-]/g,""))!=null&&u.from(m,"hex"),b=new d(g);return b._subtype=4,b}o.exports=function(p){if(p==null)return p;function m(g){var b=new d(g);return b._subtype=4,b}if(typeof p=="string"){if(A.test(p))return h(p);throw new Error('"'.concat(p,'" is not a valid UUID string'))}if(u.isBuffer(p))return m(p);if(p instanceof f)return m(p.value(!0));if(p.toString&&p.toString!==Object.prototype.toString&&A.test(p.toString()))return h(p.toString());throw new Error('"'.concat(p,'" cannot be casted to a UUID'))},o.exports.UUID_FORMAT=A},8260:o=>{o.exports=function(l){if(l!=null&&typeof l.constructor=="function")return l.constructor.name}},8285:(o,l,c)=>{var u=c(2400),d=c(2580),A=!1;o.exports=function(){return A?d:u},o.exports.setBrowser=function(f){A=f}},8297:o=>{function l(v,w){var _=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!_){if(Array.isArray(v)||(_=u(v))||w){_&&(v=_);var B=0,N=function(){};return{s:N,n:function(){return B>=v.length?{done:!0}:{done:!1,value:v[B++]}},e:function(S){throw S},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,C=!0,E=!1;return{s:function(){_=_.call(v)},n:function(){var S=_.next();return C=S.done,S},e:function(S){E=!0,j=S},f:function(){try{C||_.return==null||_.return()}finally{if(E)throw j}}}}function c(v){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},c(v)}function u(v,w){if(v){if(typeof v=="string")return d(v,w);var _={}.toString.call(v).slice(8,-1);return _==="Object"&&v.constructor&&(_=v.constructor.name),_==="Map"||_==="Set"?Array.from(v):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?d(v,w):void 0}}function d(v,w){(w==null||w>v.length)&&(w=v.length);for(var _=0,B=Array(w);_<w;_++)B[_]=v[_];return B}function A(v,w,_){if(f())return Reflect.construct.apply(null,arguments);var B=[null];B.push.apply(B,w);var N=new(v.bind.apply(v,B));return N}function f(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f=function(){return!!v})()}function h(){this._pres=new Map,this._posts=new Map}function p(v,w,_,B,N,j,C){return j.useErrorHandlers?v.execPost(_,B,N,{error:w},function(E){return typeof C=="function"&&C(E)}):typeof C=="function"&&C(w)}function m(v,w,_,B){var N;try{N=v.apply(w,_)}catch(j){return B(j)}g(N)&&N.then(function(){return B()},function(j){return B(j)})}function g(v){return c(v)==="object"&&v!==null&&typeof v.then=="function"}function b(v){var w=!1,_=this;return function(){var B=arguments;if(!w)return w=!0,y(function(){return v.apply(_,B)})}}h.skipWrappedFunction=function(){if(!(this instanceof h.skipWrappedFunction))return A(h.skipWrappedFunction,Array.prototype.slice.call(arguments));this.args=Array.prototype.slice.call(arguments)},h.overwriteResult=function(){if(!(this instanceof h.overwriteResult))return A(h.overwriteResult,Array.prototype.slice.call(arguments));this.args=Array.prototype.slice.call(arguments)},h.prototype.execPre=function(v,w,_,B){arguments.length===3&&(B=_,_=[]);var N=this._pres.get(v)||[],j=N.length,C=N.numAsync||0,E=0,S=C,k=!1,P=_,M=null;if(!j)return y(function(){B(null)});function H(){if(!(E>=j)){var Q=N[E];if(Q.isAsync){var K=[b(F),b(function(R){if(R){if(k)return;if(!(R instanceof h.skipWrappedFunction))return k=!0,B(R);M=R}if(--S===0&&E>=j)return B(M)})];m(Q.fn,w,K,K[0])}else if(Q.fn.length>0){for(var Y=[b(F)],V=arguments.length>=2?arguments:[null].concat(P),I=1;I<V.length;++I)I===V.length-1&&typeof V[I]=="function"||Y.push(V[I]);m(Q.fn,w,Y,Y[0])}else{var O=null;try{O=Q.fn.call(w)}catch(R){if(R!=null)return B(R)}if(g(O))O.then(function(){return F()},function(R){return F(R)});else{if(++E>=j)return S>0?void 0:y(function(){B(M)});H()}}}}function F(Q){if(Q){if(k)return;if(!(Q instanceof h.skipWrappedFunction))return k=!0,B(Q);M=Q}if(++E>=j)return S>0?void 0:B(M);H.apply(w,arguments)}H.apply(null,[null].concat(_))},h.prototype.execPreSync=function(v,w,_){for(var B=this._pres.get(v)||[],N=B.length,j=0;j<N;++j)B[j].fn.apply(w,_||[])},h.prototype.execPost=function(v,w,_,B,N){arguments.length<5&&(N=B,B=null);var j=this._posts.get(v)||[],C=j.length,E=0,S=null;if(B&&B.error&&(S=B.error),!C)return y(function(){N.apply(null,[S].concat(_))});(function k(){for(var P=j[E].fn,M=0,H=_.length,F=[],Q=0;Q<H;++Q)M+=_[Q]&&_[Q]._kareemIgnore?0:1,_[Q]&&_[Q]._kareemIgnore||F.push(_[Q]);if(S)if(x(j[E],M)){var K=b(function(O){if(O){if(O instanceof h.overwriteResult)return _=O.args,++E>=C?N.call(null,S):k();S=O}if(++E>=C)return N.call(null,S);k()});m(P,w,[S].concat(F).concat([K]),K)}else{if(++E>=C)return N.call(null,S);k()}else{var Y=b(function(O){return O?O instanceof h.overwriteResult?(_=O.args,++E>=C?N.apply(null,[null].concat(_)):k()):(S=O,k()):++E>=C?N.apply(null,[null].concat(_)):void k()});if(x(j[E],M))return++E>=C?N.apply(null,[null].concat(_)):k();if(P.length===M+1)m(P,w,F.concat([Y]),Y);else{var V,I;try{I=P.apply(w,F)}catch(O){V=O,S=O}if(g(I))return I.then(function(O){Y(O instanceof h.overwriteResult?O:null)},function(O){return Y(O)});if(I instanceof h.overwriteResult&&(_=I.args),++E>=C)return N.apply(null,[V].concat(_));k()}}})()},h.prototype.execPostSync=function(v,w,_){for(var B=this._posts.get(v)||[],N=B.length,j=0;j<N;++j){var C=B[j].fn.apply(w,_||[]);C instanceof h.overwriteResult&&(_=C.args)}return _},h.prototype.createWrapperSync=function(v,w){var _=this;return function(){_.execPreSync(v,this,arguments);var B=w.apply(this,arguments);return _.execPostSync(v,this,[B])[0]}},h.prototype.wrap=function(v,w,_,B,N){var j=B.length>0?B[B.length-1]:null,C=Array.from(B);typeof j=="function"&&C.pop();var E=this,S=(N=N||{}).checkForPromise;this.execPre(v,_,B,function(k){if(k&&!(k instanceof h.skipWrappedFunction)){for(var P=N.numCallbackParams||0,M=N.contextParameter?[_]:[],H=M.length;H<P;++H)M.push(null);return p(E,k,v,_,M,N,j)}var F,Q,K=w.length;if(k instanceof h.skipWrappedFunction)return F=k.args[0],Y.apply(void 0,[null].concat(function(V){if(Array.isArray(V))return d(V)}(Q=k.args)||function(V){if(typeof Symbol<"u"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}(Q)||u(Q)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()));try{F=w.apply(_,C.concat(Y))}catch(V){return Y(V)}if(S){if(g(F))return F.then(function(V){return Y(null,V)},function(V){return Y(V)});if(K<C.length+1)return Y(null,F)}function Y(){var V=Array.from(arguments);if(V.shift(),N.nullResultByDefault&&V.length===0&&V.push(null),arguments[0])return p(E,arguments[0],v,_,V,N,j);E.execPost(v,_,V,function(){j!==null&&(arguments[0]?j(arguments[0]):j.apply(_,arguments))})}})},h.prototype.filter=function(v){for(var w=this,_=this.clone(),B=Array.from(_._pres.keys()),N=function(){var M=C[j],H=w._pres.get(M).map(function(F){return Object.assign({},F,{name:M})}).filter(v);if(H.length===0)return _._pres.delete(M),1;H.numAsync=H.filter(function(F){return F.isAsync}).length,_._pres.set(M,H)},j=0,C=B;j<C.length;j++)N();for(var E=Array.from(_._posts.keys()),S=function(){var M=P[k],H=w._posts.get(M).map(function(F){return Object.assign({},F,{name:M})}).filter(v);if(H.length===0)return _._posts.delete(M),1;_._posts.set(M,H)},k=0,P=E;k<P.length;k++)S();return _},h.prototype.hasHooks=function(v){return this._pres.has(v)||this._posts.has(v)},h.prototype.createWrapper=function(v,w,_,B){var N=this;return this.hasHooks(v)?function(){var j=_||this;N.wrap(v,w,j,Array.from(arguments),B)}:function(){var j=arguments,C=this;y(function(){return w.apply(C,j)})}},h.prototype.pre=function(v,w,_,B,N){var j={};c(w)==="object"&&w!==null?w=(j=w).isAsync:typeof arguments[1]!="boolean"&&(_=w,w=!1);var C=this._pres.get(v)||[];if(this._pres.set(v,C),w&&(C.numAsync=C.numAsync||0,++C.numAsync),typeof _!="function")throw new Error('pre() requires a function, got "'+c(_)+'"');return N?C.unshift(Object.assign({},j,{fn:_,isAsync:w})):C.push(Object.assign({},j,{fn:_,isAsync:w})),this},h.prototype.post=function(v,w,_,B){var N=this._posts.get(v)||[];if(typeof w=="function"&&(B=!!_,_=w,w={}),typeof _!="function")throw new Error('post() requires a function, got "'+c(_)+'"');return B?N.unshift(Object.assign({},w,{fn:_})):N.push(Object.assign({},w,{fn:_})),this._posts.set(v,N),this},h.prototype.clone=function(){var v,w=new h,_=l(this._pres.keys());try{for(_.s();!(v=_.n()).done;){var B=v.value,N=this._pres.get(B).slice();N.numAsync=this._pres.get(B).numAsync,w._pres.set(B,N)}}catch(S){_.e(S)}finally{_.f()}var j,C=l(this._posts.keys());try{for(C.s();!(j=C.n()).done;){var E=j.value;w._posts.set(E,this._posts.get(E).slice())}}catch(S){C.e(S)}finally{C.f()}return w},h.prototype.merge=function(v,w){var _,B=(w=arguments.length===1||w)?this.clone():this,N=l(v._pres.keys());try{var j=function(){var k=_.value,P=B._pres.get(k)||[],M=v._pres.get(k).filter(function(F){return P.map(function(Q){return Q.fn}).indexOf(F.fn)===-1}),H=P.concat(M);H.numAsync=P.numAsync||0,H.numAsync+=M.filter(function(F){return F.isAsync}).length,B._pres.set(k,H)};for(N.s();!(_=N.n()).done;)j()}catch(k){N.e(k)}finally{N.f()}var C,E=l(v._posts.keys());try{var S=function(){var k=C.value,P=B._posts.get(k)||[],M=v._posts.get(k).filter(function(H){return P.indexOf(H)===-1});B._posts.set(k,P.concat(M))};for(E.s();!(C=E.n()).done;)S()}catch(k){E.e(k)}finally{E.f()}return B};var y=c({env:{}})==="object"&&{env:{}}!==null&&{env:{}}.nextTick||function(v){setTimeout(v,0)};function x(v,w){return!!v.errorHandler||v.fn.length===w+2}o.exports=h},8435:o=>{o.exports=Math.min},8442:(o,l,c)=>{var u=c(1898);o.exports=function(d){for(var A=0,f=Object.values(u);A<f.length;A++)(0,f[A])(d,{deduplicate:!0});d.plugins=Object.values(u).map(function(h){return{fn:h,opts:{deduplicate:!0}}}).concat(d.plugins)}},8499:(o,l,c)=>{var u=c(8953);o.exports=function(d){var A=this!=null?this.path:null;return u(d,A)}},8517:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}function d(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!p})()}function A(p){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A(p)}function f(p,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},f(p,m)}var h=function(p){function m(b,y,x){var v,w,_;(function(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")})(this,m);var B=(v=x==null?void 0:x.matchedCount)!==null&&v!==void 0?v:0,N=(w=x==null?void 0:x.insertedCount)!==null&&w!==void 0?w:0,j=y.map(function(E){return E._id}).join(", ");j.length>100&&(j=j.slice(0,100)+"...");var C=y.length-B-N;return(_=function(E,S,k){return S=A(S),function(P,M){if(M&&(u(M)=="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(P)}(E,d()?Reflect.construct(S,k||[],A(E).constructor):S.apply(E,k))}(this,m,["".concat(b,".bulkSave() was not able to update ").concat(C," of the given documents due to incorrect version or optimistic concurrency, document ids: ").concat(j)])).modelName=b,_.documents=y,_.bulkWriteResult=x,_.numDocumentsNotUpdated=C,_}return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),y&&f(b,y)}(m,p),g=m,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(c(8213));Object.defineProperty(h.prototype,"name",{value:"MongooseBulkSaveIncompleteError"}),o.exports=h},8533:(o,l,c)=>{var u=c(5832).hp;function d(m){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},d(m)}function A(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A=function(){return!!m})()}function f(m){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},f(m)}function h(m,g){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,y){return b.__proto__=y,b},h(m,g)}c(7591).set(c(4026));var p=c(8285);p.setBrowser(!0),l.Error=c(3672),l.Schema=c(7058),l.Types=c(9600),l.VirtualType=c(622),l.SchemaType=c(6426),l.SchemaTypeOptions=c(8879),l.utils=c(8768),l.Document=p(),l.model=function(m,g){var b=function(y){function x(w,_){return function(B,N){if(!(B instanceof N))throw new TypeError("Cannot call a class as a function")}(this,x),function(B,N,j){return N=f(N),function(C,E){if(E&&(d(E)=="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(C)}(B,A()?Reflect.construct(N,j||[],f(B).constructor):N.apply(B,j))}(this,x,[w,g,_])}return function(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),_&&h(w,_)}(x,y),v=x,Object.defineProperty(v,"prototype",{writable:!1}),v;var v}(l.Document);return b.modelName=m,b},typeof window<"u"&&(window.mongoose=o.exports,window.Buffer=u)},8633:o=>{o.exports=Math.pow},8728:(o,l,c)=>{function u(C,E){var S=Object.keys(C);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(C);E&&(k=k.filter(function(P){return Object.getOwnPropertyDescriptor(C,P).enumerable})),S.push.apply(S,k)}return S}function d(C){for(var E=1;E<arguments.length;E++){var S=arguments[E]!=null?arguments[E]:{};E%2?u(Object(S),!0).forEach(function(k){A(C,k,S[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(S)):u(Object(S)).forEach(function(k){Object.defineProperty(C,k,Object.getOwnPropertyDescriptor(S,k))})}return C}function A(C,E,S){return(E=function(k){var P=function(M){if(f(M)!="object"||!M)return M;var H=M[Symbol.toPrimitive];if(H!==void 0){var F=H.call(M,"string");if(f(F)!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}(k);return f(P)=="symbol"?P:P+""}(E))in C?Object.defineProperty(C,E,{value:S,enumerable:!0,configurable:!0,writable:!0}):C[E]=S,C}function f(C){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},f(C)}function h(C,E){(E==null||E>C.length)&&(E=C.length);for(var S=0,k=Array(E);S<E;S++)k[S]=C[S];return k}var p=c(6426),m=c(3672),g=c(9528),b=c(1244),y=c(4327),x=c(8768),v=c(3305),w=p.CastError;function _(C,E){this.enumValues=[],this.regExp=null,p.call(this,C,E,"String")}function B(C,E){return this.castForQuery(null,C,E)}function N(C){return C==null?this._castNullish(C):this.cast(C,this)}_.schemaName="String",_.defaultOptions={},_.prototype=Object.create(p.prototype),_.prototype.constructor=_,Object.defineProperty(_.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:g}),_._cast=b,_.cast=function(C){return arguments.length===0||(C===!1&&(C=this._defaultCaster),this._cast=C),this._cast},_._defaultCaster=function(C){if(C!=null&&typeof C!="string")throw new Error;return C},_.get=p.get,_.set=p.set,_.setters=[],_._checkRequired=function(C){return(C instanceof String||typeof C=="string")&&C.length},_.checkRequired=p.checkRequired,_.prototype.enum=function(){if(this.enumValidator&&(this.validators=this.validators.filter(function(H){return H.validator!==this.enumValidator},this),this.enumValidator=!1),arguments[0]===void 0||arguments[0]===!1)return this;var C,E;x.isObject(arguments[0])?Array.isArray(arguments[0].values)?(C=arguments[0].values,E=arguments[0].message):(C=x.object.vals(arguments[0]),E=m.messages.String.enum):(C=arguments,E=m.messages.String.enum);var S,k=function(H,F){var Q=typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(!Q){if(Array.isArray(H)||(Q=function(R,U){if(R){if(typeof R=="string")return h(R,U);var T={}.toString.call(R).slice(8,-1);return T==="Object"&&R.constructor&&(T=R.constructor.name),T==="Map"||T==="Set"?Array.from(R):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?h(R,U):void 0}}(H))||F){Q&&(H=Q);var K=0,Y=function(){};return{s:Y,n:function(){return K>=H.length?{done:!0}:{done:!1,value:H[K++]}},e:function(R){throw R},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,I=!0,O=!1;return{s:function(){Q=Q.call(H)},n:function(){var R=Q.next();return I=R.done,R},e:function(R){O=!0,V=R},f:function(){try{I||Q.return==null||Q.return()}finally{if(O)throw V}}}}(C);try{for(k.s();!(S=k.n()).done;){var P=S.value;P!==void 0&&this.enumValues.push(this.cast(P))}}catch(H){k.e(H)}finally{k.f()}var M=this.enumValues;return this.enumValidator=function(H){return H==null||~M.indexOf(H)},this.validators.push({validator:this.enumValidator,message:E,type:"enum",enumValues:M}),this},_.prototype.lowercase=function(C){var E=this;return arguments.length>0&&!C?this:this.set(function(S){return typeof S!="string"&&(S=E.cast(S)),S&&S.toLowerCase()})},_.prototype.uppercase=function(C){var E=this;return arguments.length>0&&!C?this:this.set(function(S){return typeof S!="string"&&(S=E.cast(S)),S&&S.toUpperCase()})},_.prototype.trim=function(C){var E=this;return arguments.length>0&&!C?this:this.set(function(S){return typeof S!="string"&&(S=E.cast(S)),S&&S.trim()})},_.prototype.minlength=function(C,E){if(this.minlengthValidator&&(this.validators=this.validators.filter(function(k){return k.validator!==this.minlengthValidator},this)),C!=null){var S=E||m.messages.String.minlength;S=S.replace(/{MINLENGTH}/,C),this.validators.push({validator:this.minlengthValidator=function(k){return k===null||k.length>=C},message:S,type:"minlength",minlength:C})}return this},_.prototype.minLength=_.prototype.minlength,_.prototype.maxlength=function(C,E){if(this.maxlengthValidator&&(this.validators=this.validators.filter(function(k){return k.validator!==this.maxlengthValidator},this)),C!=null){var S=E||m.messages.String.maxlength;S=S.replace(/{MAXLENGTH}/,C),this.validators.push({validator:this.maxlengthValidator=function(k){return k===null||k.length<=C},message:S,type:"maxlength",maxlength:C})}return this},_.prototype.maxLength=_.prototype.maxlength,_.prototype.match=function(C,E){var S=E||m.messages.String.match;return this.validators.push({validator:function(k){return!!C&&(C.lastIndex=0,k==null||k===""||C.test(k))},message:S,type:"regexp",regexp:C}),this},_.prototype.checkRequired=function(C,E){return f(C)==="object"&&p._isRef(this,C,E,!0)?C!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():_.checkRequired())(C)},_.prototype.cast=function(C,E,S,k,P){if(typeof C!="string"&&p._isRef(this,C,E,S))return this._castRef(C,E,S,P);var M;M=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():_.cast();try{return M(C)}catch{throw new w("string",C,this.path,null,this)}};var j=d(d({},p.prototype.$conditionalHandlers),{},{$all:function(C,E){var S=this;return Array.isArray(C)?C.map(function(k){return S.castForQuery(null,k,E)}):[this.castForQuery(null,C,E)]},$gt:B,$gte:B,$lt:B,$lte:B,$options:N,$regex:function(C){return Object.prototype.toString.call(C)==="[object RegExp]"?C:N.call(this,C)},$not:B});Object.defineProperty(_.prototype,"$conditionalHandlers",{enumerable:!1,value:j}),_.prototype.castForQuery=function(C,E,S){var k;if(C!=null){if(!(k=this.$conditionalHandlers[C]))throw new Error("Can't use "+C+" with String.");return k.call(this,E,S)}if(Object.prototype.toString.call(E)==="[object RegExp]"||v(E,"BSONRegExp"))return E;try{return this.applySetters(E,S)}catch(P){throw P instanceof w&&P.path===this.path&&this.$fullPath!=null&&(P.path=this.$fullPath),P}},_.prototype.toJSONSchema=function(C){var E=this.options.required&&typeof this.options.required!="function";return y("string","string",C==null?void 0:C.useBsonType,E)},_.prototype.autoEncryptionType=function(){return"string"},o.exports=_},8759:o=>{o.exports=function(l){return l.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}},8768:(o,l,c)=>{var u=c(5832).hp;function d(T,z){var G=Object.keys(T);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(T);z&&(J=J.filter(function(ee){return Object.getOwnPropertyDescriptor(T,ee).enumerable})),G.push.apply(G,J)}return G}function A(T,z,G){return(z=function(J){var ee=function(fe){if(m(fe)!="object"||!fe)return fe;var de=fe[Symbol.toPrimitive];if(de!==void 0){var ae=de.call(fe,"string");if(m(ae)!="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(fe)}(J);return m(ee)=="symbol"?ee:ee+""}(z))in T?Object.defineProperty(T,z,{value:G,enumerable:!0,configurable:!0,writable:!0}):T[z]=G,T}function f(T,z){var G=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!G){if(Array.isArray(T)||(G=h(T))||z){G&&(T=G);var J=0,ee=function(){};return{s:ee,n:function(){return J>=T.length?{done:!0}:{done:!1,value:T[J++]}},e:function(xe){throw xe},f:ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fe,de=!0,ae=!1;return{s:function(){G=G.call(T)},n:function(){var xe=G.next();return de=xe.done,xe},e:function(xe){ae=!0,fe=xe},f:function(){try{de||G.return==null||G.return()}finally{if(ae)throw fe}}}}function h(T,z){if(T){if(typeof T=="string")return p(T,z);var G={}.toString.call(T).slice(8,-1);return G==="Object"&&T.constructor&&(G=T.constructor.name),G==="Map"||G==="Set"?Array.from(T):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?p(T,z):void 0}}function p(T,z){(z==null||z>T.length)&&(z=T.length);for(var G=0,J=Array(z);G<z;G++)J[G]=T[G];return J}function m(T){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},m(T)}var g,b=c(6353).UUID,y=c(354),x=c(5678),v=c(5549),w=c(6948),_=c(4450),B=c(2746),N=c(608),j=c(1243),C=c(1347),E=c(3305),S=c(2789),k=c(9696),P=c(2497),M=c(5268),H=c(9539),F=c(2793),Q=c(7291).trustedSymbol;l.specialProperties=F,l.isMongooseArray=j.isMongooseArray,l.isMongooseDocumentArray=C.isMongooseDocumentArray,l.registerMongooseArray=j.registerMongooseArray,l.registerMongooseDocumentArray=C.registerMongooseDocumentArray;var K=/\s/,Y=/\s+/;l.toCollectionName=function(T,z){if(T==="system.profile"||T==="system.indexes")return T;if(typeof z=="function"){if(typeof T!="string")throw new TypeError("Collection name must be a string");if(T.length===0)throw new TypeError("Collection name cannot be empty");return z(T)}return T},l.deepEqual=function T(z,G){if(z===G)return!0;if(m(z)!=="object"||m(G)!=="object")return z===G;if(z instanceof Date&&G instanceof Date)return z.getTime()===G.getTime();if(E(z,"ObjectId")&&E(G,"ObjectId")||E(z,"Decimal128")&&E(G,"Decimal128"))return z.toString()===G.toString();if(z instanceof RegExp&&G instanceof RegExp)return z.source===G.source&&z.ignoreCase===G.ignoreCase&&z.multiline===G.multiline&&z.global===G.global&&z.dotAll===G.dotAll&&z.unicode===G.unicode&&z.sticky===G.sticky&&z.hasIndices===G.hasIndices;if(z==null||G==null||z.prototype!==G.prototype)return!1;if(z instanceof Map||G instanceof Map)return z instanceof Map&&G instanceof Map&&T(Array.from(z.keys()),Array.from(G.keys()))&&T(Array.from(z.values()),Array.from(G.values()));if(z instanceof Number&&G instanceof Number)return z.valueOf()===G.valueOf();if(u.isBuffer(z))return l.buffer.areEqual(z,G);if(Array.isArray(z)||Array.isArray(G)){if(!Array.isArray(z)||!Array.isArray(G))return!1;var J=z.length;if(J!==G.length)return!1;for(var ee=0;ee<J;++ee)if(!T(z[ee],G[ee]))return!1;return!0}z.$__!=null?z=z._doc:P(z)&&(z=z.toObject()),G.$__!=null?G=G._doc:P(G)&&(G=G.toObject());var fe=Object.keys(z),de=Object.keys(G),ae=fe.length;if(ae!==de.length)return!1;for(var xe=ae-1;xe>=0;xe--)if(fe[xe]!==de[xe])return!1;for(var X=0,ie=fe;X<ie.length;X++){var re=ie[X];if(!T(z[re],G[re]))return!1}return!0},l.last=function(T){if(T.length>0)return T[T.length-1]},l.promiseOrCallback=M,l.cloneArrays=function(T){return Array.isArray(T)?T.map(function(z){return l.cloneArrays(z)}):T},l.omit=function(T,z){if(z==null)return Object.assign({},T);Array.isArray(z)||(z=[z]);var G,J=Object.assign({},T),ee=f(z);try{for(ee.s();!(G=ee.n()).done;)delete J[G.value]}catch(fe){ee.e(fe)}finally{ee.f()}return J},l.clonePOJOsAndArrays=function(T){if(T==null||T.$__!=null)return T;if(S(T)){T=function(de){for(var ae=1;ae<arguments.length;ae++){var xe=arguments[ae]!=null?arguments[ae]:{};ae%2?d(Object(xe),!0).forEach(function(X){A(de,X,xe[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors(xe)):d(Object(xe)).forEach(function(X){Object.defineProperty(de,X,Object.getOwnPropertyDescriptor(xe,X))})}return de}({},T);for(var z=0,G=Object.keys(T);z<G.length;z++){var J=G[z];T[J]=l.clonePOJOsAndArrays(T[J])}return T}if(Array.isArray(T)){T=function(de){if(Array.isArray(de))return p(de)}(fe=T)||function(de){if(typeof Symbol<"u"&&de[Symbol.iterator]!=null||de["@@iterator"]!=null)return Array.from(de)}(fe)||h(fe)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}();for(var ee=0;ee<T.length;++ee)T[ee]=l.clonePOJOsAndArrays(T[ee]);return T}var fe;return T},l.merge=function T(z,G,J,ee){J=J||{};var fe,de=Object.keys(G),ae=0,xe=de.length;G[Q]&&(z[Q]=G[Q]),ee=ee||"";for(var X=J.omitNested||{};ae<xe;)if(fe=de[ae++],!(J.omit&&J.omit[fe]||X[ee]||F.has(fe)))if(z[fe]==null)z[fe]=l.clonePOJOsAndArrays(G[fe]);else if(l.isObject(G[fe])){if(l.isObject(z[fe])||(z[fe]={}),G[fe]!=null){if(J.isDiscriminatorSchemaMerge&&G[fe].$isSingleNested&&z[fe].$isMongooseDocumentArray||G[fe].$isMongooseDocumentArray&&z[fe].$isSingleNested)continue;if(G[fe].instanceOfSchema){z[fe].instanceOfSchema?H(z[fe],G[fe].clone(),J.isDiscriminatorSchemaMerge):z[fe]=G[fe].clone();continue}if(E(G[fe],"ObjectId")){z[fe]=new v(G[fe]);continue}}T(z[fe],G[fe],J,ee?ee+"."+fe:fe)}else J.overwrite&&(z[fe]=G[fe]);return z},l.toObject=function T(z){var G;if(g||(g=c(2400)),z==null)return z;if(z instanceof g)return z.toObject();if(Array.isArray(z)){G=[];var J,ee=f(z);try{for(ee.s();!(J=ee.n()).done;){var fe=J.value;G.push(T(fe))}}catch(X){ee.e(X)}finally{ee.f()}return G}if(l.isPOJO(z)){G={},z[Q]&&(G[Q]=z[Q]);for(var de=0,ae=Object.keys(z);de<ae.length;de++){var xe=ae[de];F.has(xe)||(G[xe]=T(z[xe]))}return G}return z},l.isObject=N,l.isPOJO=c(2789),l.isNonBuiltinObject=function(T){return!(m(T)!=="object"||l.isNativeObject(T)||l.isMongooseType(T)||T instanceof b||T==null)},l.isNativeObject=function(T){return Array.isArray(T)||T instanceof Date||T instanceof Boolean||T instanceof Number||T instanceof String},l.isEmptyObject=function(T){return T!=null&&m(T)==="object"&&Object.keys(T).length===0},l.hasKey=function(T,z){for(var G=0,J=Object.keys(T);G<J.length;G++){var ee=J[G];if(ee===z||l.isPOJO(T[ee])&&l.hasKey(T[ee],z))return!0}return!1},l.tick=function(T){if(typeof T=="function")return function(){try{T.apply(this,arguments)}catch(z){B(function(){throw z})}}},l.isMongooseType=function(T){return E(T,"ObjectId")||E(T,"Decimal128")||T instanceof u},l.isMongooseObject=P,l.expires=function(T){T&&T.constructor.name==="Object"&&"expires"in T&&(T.expireAfterSeconds=typeof T.expires!="string"?T.expires:Math.round(y(T.expires)/1e3),delete T.expires)},l.populate=function(T,z,G,J,ee,fe,de,ae){var xe,X=null;if(arguments.length===1){if(T instanceof w)return T._docs={},T._childDocs=[],[T];if(Array.isArray(T)){var ie=(xe=[],T.forEach(function(re){K.test(re.path)?re.path.split(Y).forEach(function(ve){var ke=Object.assign({},re);ke.path=ve,xe.push(ke)}):xe.push(re)}),xe);return ie.map(function(re){return l.populate(re)[0]})}X=l.isObject(T)?Object.assign({},T):{path:T}}else X=m(G)==="object"?{path:T,select:z,match:G,options:J}:{path:T,select:z,model:G,match:J,options:ee,populate:fe,justOne:de,count:ae};if(!(typeof X.path=="string"||Array.isArray(X.path)&&X.path.every(function(re){return typeof re=="string"})))throw new TypeError("utils.populate: invalid path. Expected string or array of strings. Got typeof `"+m(T)+"`");return function(re){if(Array.isArray(re.populate)){var ve=[];re.populate.forEach(function(je){if(K.test(je.path)){var Te=Object.assign({},je);Te.path.split(Y).forEach(function(be){Te.path=be,ve.push(l.populate(Te)[0])})}else ve.push(l.populate(je)[0])}),re.populate=l.populate(ve)}else re.populate!=null&&m(re.populate)==="object"&&(re.populate=l.populate(re.populate));var ke=[],Ce=K.test(re.path)?re.path.split(Y):Array.isArray(re.path)?re.path:[re.path];re.options!=null&&(re.options=_(re.options));var we,oe=f(Ce);try{for(oe.s();!(we=oe.n()).done;){var pe=we.value;ke.push(new w(Object.assign({},re,{path:pe})))}}catch(je){oe.e(je)}finally{oe.f()}return ke}(X)},l.getValue=function(T,z,G){return x.get(T,z,I,G)};var V=Object.freeze({getters:!1});function I(T,z){if(z==="$*"&&T instanceof Map)return T;var G=(T==null?void 0:T._doc)||T;return G!=null&&G.isMongooseArrayProxy&&(G=G.__array),G instanceof Map?G.get(z,V):G[z]}l.setValue=function(T,z,G,J,ee){x.set(T,z,G,"_doc",J,ee)},l.object={},l.object.vals=function(T){for(var z=Object.keys(T),G=z.length,J=[];G--;)J.push(T[z[G]]);return J};var O=Object.prototype.hasOwnProperty;l.object.hasOwnProperty=function(T,z){return O.call(T,z)},l.isNullOrUndefined=function(T){return T==null},l.array={},l.array.flatten=function T(z,G,J){return J||(J=[]),z.forEach(function(ee){Array.isArray(ee)?T(ee,G,J):G&&!G(ee)||J.push(ee)}),J};var R=Object.prototype.hasOwnProperty;l.hasUserDefinedProperty=function(T,z){if(T==null)return!1;if(Array.isArray(z)){var G,J=f(z);try{for(J.s();!(G=J.n()).done;){var ee=G.value;if(l.hasUserDefinedProperty(T,ee))return!0}}catch(de){J.e(de)}finally{J.f()}return!1}if(R.call(T,z))return!0;if(m(T)==="object"&&z in T){var fe=T[z];return fe!==Object.prototype[z]&&fe!==Array.prototype[z]}return!1};var U=Math.pow(2,32)-1;l.isArrayIndex=function(T){return typeof T=="number"?T>=0&&T<=U:typeof T=="string"&&!!/^\d+$/.test(T)&&(T=+T)>=0&&T<=U},l.array.unique=function(T){var z,G=new Set,J=new Set,ee=[],fe=f(T);try{for(fe.s();!(z=fe.n()).done;){var de=z.value;if(typeof de=="number"||typeof de=="string"||de==null){if(G.has(de))continue;ee.push(de),G.add(de)}else if(E(de,"ObjectId")){if(J.has(de.toString()))continue;ee.push(de),J.add(de.toString())}else ee.push(de)}}catch(ae){fe.e(ae)}finally{fe.f()}return ee},l.buffer={},l.buffer.areEqual=function(T,z){if(!u.isBuffer(T)||!u.isBuffer(z)||T.length!==z.length)return!1;for(var G=0,J=T.length;G<J;++G)if(T[G]!==z[G])return!1;return!0},l.getFunctionName=k,l.decorate=function(T,z){for(var G in z)F.has(G)||(T[G]=z[G])},l.mergeClone=function(T,z){P(z)&&(z=z.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1}));for(var G,J=Object.keys(z),ee=J.length,fe=0;fe<ee;)if(G=J[fe++],!F.has(G))if(T[G]===void 0)T[G]=_(z[G],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{var de=z[G];if(de==null||!de.valueOf||de instanceof Date||(de=de.valueOf()),l.isObject(de)){var ae=de;P(de)&&!de.isMongooseBuffer&&(ae=ae.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1})),de.isMongooseBuffer&&(ae=u.from(ae)),l.mergeClone(T[G],ae)}else T[G]=_(de,{flattenDecimals:!1})}},l.each=function(T,z){var G,J=f(T);try{for(J.s();!(G=J.n()).done;)z(G.value)}catch(ee){J.e(ee)}finally{J.f()}},l.renameObjKey=function(T,z,G){return Object.keys(T).reduce(function(J,ee){return ee===z?J[G]=T[z]:J[ee]=T[ee],J},{})},l.getOption=function(T){var z,G=f(Array.prototype.slice.call(arguments,1));try{for(G.s();!(z=G.n()).done;){var J=z.value;if(J!=null&&J[T]!=null)return J[T]}}catch(ee){G.e(ee)}finally{G.f()}return null},l.noop=function(){},l.errorToPOJO=function(T){if(!(T instanceof Error))throw new Error("`error` must be `instanceof Error`.");var z,G={},J=f(Object.getOwnPropertyNames(T));try{for(J.s();!(z=J.n()).done;){var ee=z.value;G[ee]=T[ee]}}catch(fe){J.e(fe)}finally{J.f()}return G},l.warn=function(T){return{env:{}}.emitWarning(T,{code:"MONGOOSE"})},l.injectTimestampsOption=function(T,z){z!=null&&(T.timestamps=z)}},8863:(o,l,c)=>{var u=c(2354),d=c(2268),A=c(3123),f=c(5477);o.exports=function(h){if(h.length<1||typeof h[0]!="function")throw new d("a function is required");return f(u,A,h)}},8879:(o,l,c)=>{function u(h,p,m){return Object.defineProperty(h,"prototype",{writable:!1}),h}var d=c(4450),A=u(function h(p){if(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}(this,h),p==null)return this;Object.assign(this,d(p))}),f=c(5761);Object.defineProperty(A.prototype,"type",f),Object.defineProperty(A.prototype,"validate",f),Object.defineProperty(A.prototype,"cast",f),Object.defineProperty(A.prototype,"required",f),Object.defineProperty(A.prototype,"default",f),Object.defineProperty(A.prototype,"ref",f),Object.defineProperty(A.prototype,"refPath",f),Object.defineProperty(A.prototype,"select",f),Object.defineProperty(A.prototype,"index",f),Object.defineProperty(A.prototype,"unique",f),Object.defineProperty(A.prototype,"immutable",f),Object.defineProperty(A.prototype,"sparse",f),Object.defineProperty(A.prototype,"text",f),Object.defineProperty(A.prototype,"transform",f),o.exports=A},8920:(o,l,c)=>{var u=c(5832).hp;function d(V){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},d(V)}function A(V,I){var O=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!O){if(Array.isArray(V)||(O=f(V))||I){O&&(V=O);var R=0,U=function(){};return{s:U,n:function(){return R>=V.length?{done:!0}:{done:!1,value:V[R++]}},e:function(J){throw J},f:U}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,z=!0,G=!1;return{s:function(){O=O.call(V)},n:function(){var J=O.next();return z=J.done,J},e:function(J){G=!0,T=J},f:function(){try{z||O.return==null||O.return()}finally{if(G)throw T}}}}function f(V,I){if(V){if(typeof V=="string")return h(V,I);var O={}.toString.call(V).slice(8,-1);return O==="Object"&&V.constructor&&(O=V.constructor.name),O==="Map"||O==="Set"?Array.from(V):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?h(V,I):void 0}}function h(V,I){(I==null||I>V.length)&&(I=V.length);for(var O=0,R=Array(I);O<I;O++)R[O]=V[O];return R}var p=c(2400),m=c(6547),g=c(8213),b=c(4473),y=c(4450),x=c(3303)._,v=c(5678),w=c(8768),_=c(3305),B=c(7930).arrayAtomicsSymbol,N=c(7930).arrayParentSymbol,j=c(7930).arrayPathSymbol,C=c(7930).arraySchemaSymbol,E=c(7930).populateModelSymbol,S=Symbol("mongoose#Array#sliced"),k=Array.prototype.push,P={$__getAtomics:function(){var V=[],I=Object.keys(this[B]||{}),O=I.length,R=Object.assign({},x,{_isNested:!0});if(O===0)return V[0]=["$set",this.toObject(R)],V;for(;O--;){var U=I[O],T=this[B][U];w.isMongooseObject(T)?T=T.toObject(R):Array.isArray(T)?T=this.toObject.call(T,R):T!=null&&Array.isArray(T.$each)?T.$each=this.toObject.call(T.$each,R):T!=null&&typeof T.valueOf=="function"&&(T=T.valueOf()),U==="$addToSet"&&(T={$each:T}),V.push([U,T])}return V},$atomics:function(){return this[B]},$parent:function(){return this[N]},$path:function(){return this[j]},$shift:function(){this._registerAtomic("$pop",-1),this._markModified();var V=this.__array;if(!V._shifted)return V._shifted=!0,[].shift.call(V)},$pop:function(){if(this._registerAtomic("$pop",1),this._markModified(),!this._popped)return this._popped=!0,[].pop.call(this)},$schema:function(){return this[C]},_cast:function(V){var I,O=!1,R=this[N];if(R&&(O=R.$populated(this[j],!0)),O&&V!=null){if((I=O.options[E])==null)throw new g("No populated model found for path `"+this[j]+"`. This is likely a bug in Mongoose, please report an issue on github.com/Automattic/mongoose.");return(u.isBuffer(V)||_(V,"ObjectId")||!w.isObject(V))&&(V={_id:V}),V.schema&&V.schema.discriminatorMapping&&V.schema.discriminatorMapping.key!==void 0||(V=new I(V)),this[C].caster.applySetters(V,R,!0)}return this[C].caster.applySetters(V,R,!1)},_mapCast:function(V,I){return this._cast(V,this.length+I)},_markModified:function(V){var I,O=this[N];if(O){if(I=this[j],arguments.length&&(I=I+"."+V),I!=null&&I.endsWith(".$"))return this;O.markModified(I,arguments.length!==0?V:O)}return this},_registerAtomic:function(V,I){if(!this[S]){if(V==="$set")return this[B]={$set:I},b(this[N],this[j]),this._markModified(),this;var O,R=this[B];if(V==="$pop"&&!("$pop"in R)){var U=this;this[N].once("save",function(){U._popped=U._shifted=null})}if(R.$set||Object.keys(R).length&&!(V in R))return this[B]={$set:this},this;if(V==="$pullAll"||V==="$addToSet")R[V]||(R[V]=[]),R[V]=R[V].concat(I);else if(V==="$pullDocs"){var T=R.$pull||(R.$pull={});I[0]instanceof m?(O=T.$or||(T.$or=[]),Array.prototype.push.apply(O,I.map(function(de){return de.toObject({transform:function(ae,xe){return de==null||de.$__==null||Object.keys(de.$__.activePaths.getStatePaths("default")).forEach(function(X){v.unset(X,xe),M(xe,X)}),xe},virtuals:!1})}))):(O=T._id||(T._id={$in:[]})).$in=O.$in.concat(I)}else if(V==="$push")if(R.$push=R.$push||{$each:[]},I!=null&&w.hasUserDefinedProperty(I,"$each"))R.$push=I;else if(I.length===1)R.$push.$each.push(I[0]);else if(I.length<1e4){var z;(z=R.$push.$each).push.apply(z,function(de){if(Array.isArray(de))return h(de)}(fe=I)||function(de){if(typeof Symbol<"u"&&de[Symbol.iterator]!=null||de["@@iterator"]!=null)return Array.from(de)}(fe)||f(fe)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())}else{var G,J=A(I);try{for(J.s();!(G=J.n()).done;){var ee=G.value;R.$push.$each.push(ee)}}catch(de){J.e(de)}finally{J.f()}}else R[V]=I;return this}var fe},addToSet:function(){H(this,arguments),F(this,arguments);var V=[].map.call(arguments,this._mapCast,this),I=[],O="";V[0]instanceof m?O="doc":V[0]instanceof Date?O="date":_(V[0],"ObjectId")&&(O="ObjectId");var R=w.isMongooseArray(V)?V.__array:V,U=w.isMongooseArray(this)?this.__array:this;return R.forEach(function(T){var z,G=+T;switch(O){case"doc":z=this.some(function(J){return J.equals(T)});break;case"date":z=this.some(function(J){return+J===G});break;case"ObjectId":z=this.find(function(J){return J.toString()===T.toString()});break;default:z=~this.indexOf(T)}z||(this._markModified(),U.push(T),this._registerAtomic("$addToSet",T),[].push.call(I,T))},this),I},hasAtomics:function(){return w.isPOJO(this[B])?Object.keys(this[B]).length:0},includes:function(V,I){return this.indexOf(V,I)!==-1},indexOf:function(V,I){_(V,"ObjectId")&&(V=V.toString()),I=I??0;for(var O=this.length,R=I;R<O;++R)if(V==this[R])return R;return-1},inspect:function(){return JSON.stringify(this)},nonAtomicPush:function(){var V=[].map.call(arguments,this._mapCast,this);this._markModified();var I=[].push.apply(this,V);return this._registerAtomic("$set",this),I},pop:function(){this._markModified();var V=[].pop.call(this);return this._registerAtomic("$set",this),V},pull:function(){var V=this,I=[].map.call(arguments,function(T,z){return V._cast(T,z,{defaults:!1})},this),O=this[N].get(this[j]);w.isMongooseArray(O)&&(O=O.__array);var R,U=O.length;for(this._markModified();U--;)(R=O[U])instanceof p?I.some(function(T){return R.equals(T)})&&O.splice(U,1):~this.indexOf.call(I,R)&&O.splice(U,1);return I[0]instanceof m?this._registerAtomic("$pullDocs",I.map(function(T){var z=T.$__getValue("_id");return z===void 0||T.$isDefault("_id")?T:z})):this._registerAtomic("$pullAll",I),b(this[N],this[j])>0&&this._registerAtomic("$set",this),this},push:function(){var V,I=arguments,O=I,R=I[0]!=null&&w.hasUserDefinedProperty(I[0],"$each"),U=w.isMongooseArray(this)?this.__array:this;if(R&&(O=I[0],I=I[0].$each),this[C]==null)return k.apply(this,I);H(this,I),F(this,I),I=[].map.call(I,this._mapCast,this);var T=this[B];return this._markModified(),R?(O.$each=I,(T.$push&&T.$push.$each&&T.$push.$each.length||0)!==0&&T.$push.$position!=O.$position?(O.$position!=null?([].splice.apply(U,[O.$position,0].concat(I)),V=U.length):V=[].push.apply(U,I),this._registerAtomic("$set",this)):O.$position!=null?([].splice.apply(U,[O.$position,0].concat(I)),V=this.length):V=[].push.apply(U,I)):(O=I,V=k.apply(U,I)),this._registerAtomic("$push",O),V},remove:function(){return this.pull.apply(this,arguments)},set:function(V,I,O){var R=this.__array;if(O)return R[V]=I,this;var U=P._cast.call(this,I,V);return P._markModified.call(this,V),R[V]=U,this},shift:function(){var V=w.isMongooseArray(this)?this.__array:this;this._markModified();var I=[].shift.call(V);return this._registerAtomic("$set",this),I},sort:function(){var V=w.isMongooseArray(this)?this.__array:this,I=[].sort.apply(V,arguments);return this._registerAtomic("$set",this),I},splice:function(){var V,I=w.isMongooseArray(this)?this.__array:this;if(this._markModified(),H(this,Array.prototype.slice.call(arguments,2)),arguments.length){var O;if(this[C]==null)O=arguments;else{O=[];for(var R=0;R<arguments.length;++R)O[R]=R<2?arguments[R]:this._cast(arguments[R],arguments[0]+(R-2))}V=[].splice.apply(I,O),this._registerAtomic("$set",this)}return V},toBSON:function(){return this.toObject(x)},toObject:function(V){var I=w.isMongooseArray(this)?this.__array:this;return V&&V.depopulate?((V=y(V))._isNested=!0,[].concat(I).map(function(O){return O instanceof p?O.toObject(V):O})):[].concat(I)},$toObject:function(){return this.constructor.prototype.toObject.apply(this,arguments)},unshift:function(){var V;H(this,arguments),V=this[C]==null?arguments:[].map.call(arguments,this._cast,this);var I=w.isMongooseArray(this)?this.__array:this;return this._markModified(),[].unshift.apply(I,V),this._registerAtomic("$set",this),this.length}};function M(V,I,O){if(typeof I=="string"){if(I.indexOf(".")===-1)return;I=v.stringToParts(I)}(O=O||0)>=I.length||V!=null&&d(V)==="object"&&(M(V[I[0]],I,O+1),V[I[0]]!=null&&d(V[I[0]])==="object"&&Object.keys(V[I[0]]).length===0&&delete V[I[0]])}function H(V,I){var O,R,U,T=V==null?null:V[C]&&V[C].caster&&V[C].caster.options&&V[C].caster.options.ref||null;V.length===0&&I.length!==0&&function(z,G){if(!G)return!1;var J,ee=A(z);try{for(ee.s();!(J=ee.n()).done;){var fe=J.value;if(fe==null)return!1;var de=fe.constructor;if(!(fe instanceof p)||de.modelName!==G&&de.baseModelName!==G)return!1}}catch(ae){ee.e(ae)}finally{ee.f()}return!0}(I,T)&&V[N].$populated(V[j],[],(O={},R=E,U=I[0].constructor,(R=function(z){var G=function(J){if(d(J)!="object"||!J)return J;var ee=J[Symbol.toPrimitive];if(ee!==void 0){var fe=ee.call(J,"string");if(d(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}(z);return d(G)=="symbol"?G:G+""}(R))in O?Object.defineProperty(O,R,{value:U,enumerable:!0,configurable:!0,writable:!0}):O[R]=U,O))}function F(V,I){var O=V==null?null:V[C]&&V[C].caster&&V[C].caster.options&&V[C].caster.options.ref||null,R=V[N],U=V[j];if(O&&R.populated(U)){var T,z=A(I);try{for(z.s();!(T=z.n()).done;){var G=T.value;if(G!=null&&(d(G)!=="object"||G instanceof String||G instanceof Number||G instanceof u||w.isMongooseType(G))){R.depopulate(U);break}}}catch(J){z.e(J)}finally{z.f()}}}for(var Q=function(){var V=Y[K];if(Array.prototype[V]==null)return 1;P[V]=function(){var I=w.isMongooseArray(this)?this.__array:this,O=[].concat(I);return O[V].apply(O,arguments)}},K=0,Y=["filter","flat","flatMap","map","slice"];K<Y.length;K++)Q();o.exports=P},8953:(o,l,c)=>{var u=c(3609);o.exports=function(d,A){if(o.exports.convertToTrue.has(d))return!0;if(o.exports.convertToFalse.has(d))return!1;if(d==null)return d;throw new u("boolean",d,A)},o.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]),o.exports.convertToFalse=new Set([!1,"false",0,"0","no"])},8995:(o,l,c)=>{function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(p)}function d(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!p})()}function A(p){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A(p)}function f(p,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},f(p,m)}var h=function(p){function m(b,y,x){var v;return function(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}(this,m),(v=function(w,_,B){return _=A(_),function(N,j){if(j&&(u(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(N)}(w,d()?Reflect.construct(_,B||[],A(w).constructor):_.apply(w,B))}(this,m,[y=y||"Field `"+b+"` is not in schema and strict mode is set to throw."])).isImmutableError=!!x,v.path=b,v}return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),y&&f(b,y)}(m,p),g=m,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(c(8213));Object.defineProperty(h.prototype,"name",{value:"StrictModeError"}),o.exports=h},9064:(o,l,c)=>{function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},u(h)}var d=c(3609),A=c(8953),f=c(1244);o.exports=function(h,p){if(h==null||u(h)!=="object")throw new d("$text",h,p);return h.$search!=null&&(h.$search=f(h.$search,p+".$search")),h.$language!=null&&(h.$language=f(h.$language,p+".$language")),h.$caseSensitive!=null&&(h.$caseSensitive=A(h.$caseSensitive,p+".$castSensitive")),h.$diacriticSensitive!=null&&(h.$diacriticSensitive=A(h.$diacriticSensitive,p+".$diacriticSensitive")),h}},9068:(o,l,c)=>{function u(P){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},u(P)}function d(P,M,H){return M in P?Object.defineProperty(P,M,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[M]=H,P}function A(P,M){for(var H=0;H<M.length;H++){var F=M[H];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}function f(P,M){return!M||y(M)!=="object"&&typeof M!="function"?h(P):M}function h(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function p(P){var M=typeof Map=="function"?new Map:void 0;return p=function(H){if(H===null||(F=H,Function.toString.call(F).indexOf("[native code]")===-1))return H;var F;if(typeof H!="function")throw new TypeError("Super expression must either be null or a function");if(M!==void 0){if(M.has(H))return M.get(H);M.set(H,Q)}function Q(){return m(H,arguments,b(this).constructor)}return Q.prototype=Object.create(H.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),g(Q,H)},p(P)}function m(P,M,H){return m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(F,Q,K){var Y=[null];Y.push.apply(Y,Q);var V=new(Function.bind.apply(F,Y));return K&&g(V,K.prototype),V},m.apply(null,arguments)}function g(P,M){return g=Object.setPrototypeOf||function(H,F){return H.__proto__=F,H},g(P,M)}function b(P){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},b(P)}function y(P){return y=typeof Symbol=="function"&&u(Symbol.iterator)==="symbol"?function(M){return u(M)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":u(M)},y(P)}var x=c(7352).inspect,v=c(3743).codes.ERR_INVALID_ARG_TYPE;function w(P,M,H){return(H===void 0||H>P.length)&&(H=P.length),P.substring(H-M.length,H)===M}var _="",B="",N="",j="",C={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function E(P){var M=Object.keys(P),H=Object.create(Object.getPrototypeOf(P));return M.forEach(function(F){H[F]=P[F]}),Object.defineProperty(H,"message",{value:P.message}),H}function S(P){return x(P,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var k=function(P){function M(Q){var K;if(function(fe,de){if(!(fe instanceof de))throw new TypeError("Cannot call a class as a function")}(this,M),y(Q)!=="object"||Q===null)throw new v("options","Object",Q);var Y=Q.message,V=Q.operator,I=Q.stackStartFn,O=Q.actual,R=Q.expected,U=Error.stackTraceLimit;if(Error.stackTraceLimit=0,Y!=null)K=f(this,b(M).call(this,String(Y)));else if({env:{}}.stderr&&{env:{}}.stderr.isTTY&&({env:{}}.stderr&&{env:{}}.stderr.getColorDepth&&{env:{}}.stderr.getColorDepth()!==1?(_="\x1B[34m",B="\x1B[32m",j="\x1B[39m",N="\x1B[31m"):(_="",B="",j="",N="")),y(O)==="object"&&O!==null&&y(R)==="object"&&R!==null&&"stack"in O&&O instanceof Error&&"stack"in R&&R instanceof Error&&(O=E(O),R=E(R)),V==="deepStrictEqual"||V==="strictEqual")K=f(this,b(M).call(this,function(fe,de,ae){var xe="",X="",ie=0,re="",ve=!1,ke=S(fe),Ce=ke.split(`
`),we=S(de).split(`
`),oe=0,pe="";if(ae==="strictEqual"&&y(fe)==="object"&&y(de)==="object"&&fe!==null&&de!==null&&(ae="strictEqualObject"),Ce.length===1&&we.length===1&&Ce[0]!==we[0]){var je=Ce[0].length+we[0].length;if(je<=10){if(!(y(fe)==="object"&&fe!==null||y(de)==="object"&&de!==null||fe===0&&de===0))return"".concat(C[ae],`

`)+"".concat(Ce[0]," !== ").concat(we[0],`
`)}else if(ae!=="strictEqualObject"&&je<({env:{}}.stderr&&{env:{}}.stderr.isTTY?{env:{}}.stderr.columns:80)){for(;Ce[0][oe]===we[0][oe];)oe++;oe>2&&(pe=`
  `.concat(function(nt,At){if(At=Math.floor(At),nt.length==0||At==0)return"";var Rt=nt.length*At;for(At=Math.floor(Math.log(At)/Math.log(2));At;)nt+=nt,At--;return nt+nt.substring(0,Rt-nt.length)}(" ",oe),"^"),oe=0)}}for(var Te=Ce[Ce.length-1],be=we[we.length-1];Te===be&&(oe++<2?re=`
  `.concat(Te).concat(re):xe=Te,Ce.pop(),we.pop(),Ce.length!==0&&we.length!==0);)Te=Ce[Ce.length-1],be=we[we.length-1];var De=Math.max(Ce.length,we.length);if(De===0){var qe=ke.split(`
`);if(qe.length>30)for(qe[26]="".concat(_,"...").concat(j);qe.length>27;)qe.pop();return"".concat(C.notIdentical,`

`).concat(qe.join(`
`),`
`)}oe>3&&(re=`
`.concat(_,"...").concat(j).concat(re),ve=!0),xe!==""&&(re=`
  `.concat(xe).concat(re),xe="");var Qe=0,Re=C[ae]+`
`.concat(B,"+ actual").concat(j," ").concat(N,"- expected").concat(j),We=" ".concat(_,"...").concat(j," Lines skipped");for(oe=0;oe<De;oe++){var Me=oe-ie;if(Ce.length<oe+1)Me>1&&oe>2&&(Me>4?(X+=`
`.concat(_,"...").concat(j),ve=!0):Me>3&&(X+=`
  `.concat(we[oe-2]),Qe++),X+=`
  `.concat(we[oe-1]),Qe++),ie=oe,xe+=`
`.concat(N,"-").concat(j," ").concat(we[oe]),Qe++;else if(we.length<oe+1)Me>1&&oe>2&&(Me>4?(X+=`
`.concat(_,"...").concat(j),ve=!0):Me>3&&(X+=`
  `.concat(Ce[oe-2]),Qe++),X+=`
  `.concat(Ce[oe-1]),Qe++),ie=oe,X+=`
`.concat(B,"+").concat(j," ").concat(Ce[oe]),Qe++;else{var ot=we[oe],xt=Ce[oe],Ft=xt!==ot&&(!w(xt,",")||xt.slice(0,-1)!==ot);Ft&&w(ot,",")&&ot.slice(0,-1)===xt&&(Ft=!1,xt+=","),Ft?(Me>1&&oe>2&&(Me>4?(X+=`
`.concat(_,"...").concat(j),ve=!0):Me>3&&(X+=`
  `.concat(Ce[oe-2]),Qe++),X+=`
  `.concat(Ce[oe-1]),Qe++),ie=oe,X+=`
`.concat(B,"+").concat(j," ").concat(xt),xe+=`
`.concat(N,"-").concat(j," ").concat(ot),Qe+=2):(X+=xe,xe="",Me!==1&&oe!==0||(X+=`
  `.concat(xt),Qe++))}if(Qe>20&&oe<De-2)return"".concat(Re).concat(We,`
`).concat(X,`
`).concat(_,"...").concat(j).concat(xe,`
`)+"".concat(_,"...").concat(j)}return"".concat(Re).concat(ve?We:"",`
`).concat(X).concat(xe).concat(re).concat(pe)}(O,R,V)));else if(V==="notDeepStrictEqual"||V==="notStrictEqual"){var T=C[V],z=S(O).split(`
`);if(V==="notStrictEqual"&&y(O)==="object"&&O!==null&&(T=C.notStrictEqualObject),z.length>30)for(z[26]="".concat(_,"...").concat(j);z.length>27;)z.pop();K=z.length===1?f(this,b(M).call(this,"".concat(T," ").concat(z[0]))):f(this,b(M).call(this,"".concat(T,`

`).concat(z.join(`
`),`
`)))}else{var G=S(O),J="",ee=C[V];V==="notDeepEqual"||V==="notEqual"?(G="".concat(C[V],`

`).concat(G)).length>1024&&(G="".concat(G.slice(0,1021),"...")):(J="".concat(S(R)),G.length>512&&(G="".concat(G.slice(0,509),"...")),J.length>512&&(J="".concat(J.slice(0,509),"...")),V==="deepEqual"||V==="equal"?G="".concat(ee,`

`).concat(G,`

should equal

`):J=" ".concat(V," ").concat(J)),K=f(this,b(M).call(this,"".concat(G).concat(J)))}return Error.stackTraceLimit=U,K.generatedMessage=!Y,Object.defineProperty(h(K),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),K.code="ERR_ASSERTION",K.actual=O,K.expected=R,K.operator=V,Error.captureStackTrace&&Error.captureStackTrace(h(K),I),K.stack,K.name="AssertionError",f(K)}var H,F;return function(Q,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(K&&K.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),K&&g(Q,K)}(M,P),H=M,F=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:x.custom,value:function(Q,K){return x(this,function(Y){for(var V=1;V<arguments.length;V++){var I=arguments[V]!=null?arguments[V]:{},O=Object.keys(I);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(I).filter(function(R){return Object.getOwnPropertyDescriptor(I,R).enumerable}))),O.forEach(function(R){d(Y,R,I[R])})}return Y}({},K,{customInspect:!1,depth:0}))}}],F&&A(H.prototype,F),M}(p(Error));o.exports=k},9122:(o,l,c)=>{var u=c(3900),d=c(988),A=c(8863),f=c(5804);o.exports=function(h){var p=A(arguments),m=h.length-(arguments.length-1);return u(p,1+(m>0?m:0),!0)},d?d(o.exports,"apply",{value:f}):o.exports.apply=f},9123:(o,l,c)=>{function u(I){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},u(I)}function d(I,O){var R=Object.keys(I);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(I);O&&(U=U.filter(function(T){return Object.getOwnPropertyDescriptor(I,T).enumerable})),R.push.apply(R,U)}return R}function A(I){for(var O=1;O<arguments.length;O++){var R=arguments[O]!=null?arguments[O]:{};O%2?d(Object(R),!0).forEach(function(U){f(I,U,R[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(R)):d(Object(R)).forEach(function(U){Object.defineProperty(I,U,Object.getOwnPropertyDescriptor(R,U))})}return I}function f(I,O,R){return(O=function(U){var T=function(z){if(u(z)!="object"||!z)return z;var G=z[Symbol.toPrimitive];if(G!==void 0){var J=G.call(z,"string");if(u(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}(U);return u(T)=="symbol"?T:T+""}(O))in I?Object.defineProperty(I,O,{value:R,enumerable:!0,configurable:!0,writable:!0}):I[O]=R,I}var h,p,m=c(3609),g=c(8235),b=c(3550).EventEmitter,y=c(7760),x=c(4561),v=c(6426),w=c(7982),_=c(4327),B=c(1469),N=c(1313),j=c(3216),C=c(5110),E=c(8768),S=c(7910),k=c(5537),P=c(7930).arrayAtomicsSymbol,M=c(7930).arrayPathSymbol,H=c(7930).documentArrayParent;function F(I,O,R,U){if(O.options&&O.options.timeseries)throw new k(I,"timeseries");var T=F.defaultOptions&&F.defaultOptions._id;T!=null&&((U=U||{})._id=T),U!=null&&U._id!=null?O=N(O,U):R!=null&&R._id!=null&&(O=N(O,R));var z=Q(O,R);z.prototype.$basePath=I,y.call(this,I,z,R),this.schema=O,this.schemaOptions=U||{},this.$isMongooseDocumentArray=!0,this.Constructor=z,z.base=O.base;var G=this.defaultValue;"defaultValue"in this&&G==null||this.default(function(){var J=G.call(this);return J==null||Array.isArray(J)||(J=[J]),J}),this.$embeddedSchemaType=new g(I+".$",{required:this&&this.schemaOptions&&this.schemaOptions.required||!1,$parentSchemaType:this}),this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema}function Q(I,O,R){function U(){p.apply(this,arguments),this.__parentArray!=null&&this.__parentArray.getArrayParent()!=null&&this.$session(this.__parentArray.getArrayParent().$session())}p||(p=c(6547)),I._preCompile();var T=R!=null?R.prototype:p.prototype;for(var z in U.prototype=Object.create(T),U.prototype.$__setSchema(I),U.schema=I,U.prototype.constructor=U,U.$isArraySubdocument=!0,U.events=new b,U.base=I.base,I.methods)U.prototype[z]=I.methods[z];for(var G in I.statics)U[G]=I.statics[G];for(var J in b.prototype)U[J]=b.prototype[J];return U.options=O,U}F.schemaName="DocumentArray",F.options={castNonArrays:!0},F.prototype=Object.create(y.prototype),F.prototype.constructor=F,F.prototype.OptionsConstructor=x,F.prototype.$conditionalHandlers=A({},y.prototype.$conditionalHandlers),F.prototype.discriminator=function(I,O,R){var U;typeof I=="function"&&(I=E.getFunctionName(I)),R=R||{};var T=E.isPOJO(R)?R.value:R,z=typeof R.clone!="boolean"||R.clone;O.instanceOfSchema&&z&&(O=O.clone());var G=Q(O=B(this.casterConstructor,I,O,T,null,null,(U=R)===null||U===void 0?void 0:U.overwriteExisting),null,this.casterConstructor);G.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(G,"name",{value:I})}catch{}return this.casterConstructor.discriminators[I]=G,this.casterConstructor.discriminators[I]},F.prototype.doValidate=function(I,O,R,U){h||(h=c(4878));var T=this;try{v.prototype.doValidate.call(this,I,function(z){if(z)return O(z);var G,J=I&&I.length;if(!J||U&&U.updateValidator)return O();function ee(X){X!=null&&(G=X),--J||O(G)}E.isMongooseDocumentArray(I)||(I=new h(I,T.path,R));for(var fe=0,de=J;fe<de;++fe){var ae=I[fe];if(ae!=null){if(!(ae instanceof p)){var xe=S(T.casterConstructor,I[fe]);ae=I[fe]=new xe(ae,I,void 0,void 0,fe)}U==null||!U.validateModifiedOnly||ae.$isModified()?ae.$__validate(null,U,ee):--J||O(G)}else--J||O(G)}},R)}catch(z){return O(z)}},F.prototype.doValidateSync=function(I,O,R){var U=v.prototype.doValidateSync.call(this,I,O);if(U!=null)return U;var T=I&&I.length,z=null;if(T){for(var G=0,J=T;G<J;++G){var ee=I[G];if(ee){if(!(ee instanceof p)){var fe=S(this.casterConstructor,I[G]);ee=I[G]=new fe(ee,I,void 0,void 0,G)}if(R==null||!R.validateModifiedOnly||ee.$isModified()){var de=ee.validateSync(R);de&&z==null&&(z=de)}}}return z}},F.prototype.getDefault=function(I,O,R){var U=typeof this.defaultValue=="function"?this.defaultValue.call(I):this.defaultValue;if(U==null||R&&R.skipCast)return U;h||(h=c(4878)),Array.isArray(U)||(U=[U]),U=new h(U,this.path,I);for(var T=0;T<U.length;++T){var z=new(S(this.casterConstructor,U[T]))({},U,void 0,void 0,T);z.$init(U[T]),z.isNew=!0,Object.assign(z.$__.activePaths.default,z.$__.activePaths.init),z.$__.activePaths.init={},U[T]=z}return U};var K=Object.freeze({transform:!1,virtuals:!1}),Y=Object.freeze({skipId:!1,willInit:!0});function V(I,O,R){if(R&&O){for(var U,T,z,G=I.path+".",J=Object.keys(O),ee=J.length,fe={};ee--;)if((T=J[ee]).startsWith(G)){if((z=T.substring(G.length))==="$")continue;z.startsWith("$.")&&(z=z.substring(2)),U||(U=!0),fe[z]=O[T]}return U&&fe||void 0}}F.prototype.cast=function(I,O,R,U,T){if(h||(h=c(4878)),I!=null&&I[M]!=null&&I===U)return I;var z,G,J=(T=T||{}).path||this.path;if(!Array.isArray(I)){if(!R&&!F.options.castNonArrays)throw new m("DocumentArray",I,this.path,null,this);return O&&R&&O.markModified(J),this.cast([I],O,R,U,T)}T.skipDocumentArrayCast&&!E.isMongooseDocumentArray(I)||(I=new h(I,J,O,this)),U!=null&&(I[P]=U[P]||{}),T.arrayPathIndex!=null&&(I[M]=J+"."+T.arrayPathIndex);for(var ee=E.isMongooseDocumentArray(I)?I.__array:I,fe=ee.length,de=0;de<fe;++de)if(ee[de]){var ae=S(this.casterConstructor,ee[de]),xe=j(ee[de],!0);if(ee[de]!==xe&&(ee[de]=xe),ee[de]instanceof p){if(ee[de][H]!==O)if(R){var X=new ae(null,I,Y,z,de);ee[de]=X.$init(ee[de])}else{var ie=new ae(ee[de],I,void 0,void 0,de);ee[de]=ie}ee[de].__index==null&&ee[de].$setIndex(de)}else if(ee[de]!=null)if(R)O?z||(z=V(this,O.$__.selected,R)):z=!0,G=new ae(null,I,Y,z,de),ee[de]=G.$init(ee[de]);else if(U&&typeof U.id=="function"&&(G=U.id(ee[de]._id)),U&&G&&E.deepEqual(G.toObject(K),ee[de]))G.set(ee[de]),ee[de]=G;else try{G=new ae(ee[de],I,void 0,void 0,de),ee[de]=G}catch(re){throw new m("embedded",ee[de],I[M],re,this)}}return I},F.prototype.clone=function(){var I=Object.assign({},this.options),O=new this.constructor(this.path,this.schema,I,this.schemaOptions);return O.validators=this.validators.slice(),this.requiredValidator!==void 0&&(O.requiredValidator=this.requiredValidator),O.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),O._appliedDiscriminators=this._appliedDiscriminators,O},F.prototype.applyGetters=function(I,O){return v.prototype.applyGetters.call(this,I,O)},F.defaultOptions={},F.set=v.set,F.setters=[],F.get=v.get,F.prototype.$conditionalHandlers.$elemMatch=function(I,O){for(var R,U=Object.keys(I),T=U.length,z=0;z<T;++z){var G=U[z],J=I[G];C(G)&&J!=null&&(I[G]=this.castForQuery(G,J,O))}var ee=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.options&&this.casterConstructor.schema.options.discriminatorKey,fe=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.discriminators||{};if(ee!=null&&I[ee]!=null&&fe[I[ee]]!=null)return w(fe[I[ee]],I,null,this&&this.$$context);var de=(R=this.casterConstructor.schema)!==null&&R!==void 0?R:O.schema;return w(de,I,null,this&&this.$$context)},F.prototype.toJSONSchema=function(I){var O=_("object","object",I==null?void 0:I.useBsonType,!1),R=this.options.required&&typeof this.options.required!="function";return A(A({},_("array","array",I==null?void 0:I.useBsonType,R)),{},{items:A(A({},O),this.schema.toJSONSchema(I))})},o.exports=F},9166:(o,l,c)=>{function u(m,g){var b=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!b){if(Array.isArray(m)||(b=function(B,N){if(B){if(typeof B=="string")return d(B,N);var j={}.toString.call(B).slice(8,-1);return j==="Object"&&B.constructor&&(j=B.constructor.name),j==="Map"||j==="Set"?Array.from(B):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?d(B,N):void 0}}(m))||g){b&&(m=b);var y=0,x=function(){};return{s:x,n:function(){return y>=m.length?{done:!0}:{done:!1,value:m[y++]}},e:function(B){throw B},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,w=!0,_=!1;return{s:function(){b=b.call(m)},n:function(){var B=b.next();return w=B.done,B},e:function(B){_=!0,v=B},f:function(){try{w||b.return==null||b.return()}finally{if(_)throw v}}}}function d(m,g){(g==null||g>m.length)&&(g=m.length);for(var b=0,y=Array(g);b<g;b++)y[b]=m[b];return y}var A=c(8759),f=c(3696);function h(m,g,b){if(g!=null){var y=Object.keys(g).some(function(P){return P[0]==="$"});if(y){if(g.$push&&k(g.$push),g.$addToSet&&k(g.$addToSet),g.$set!=null)for(var x=0,v=Object.keys(g.$set);x<v.length;x++){var w=v[x];p(b,w,g.$set,m)}if(g.$setOnInsert!=null)for(var _=0,B=Object.keys(g.$setOnInsert);_<B.length;_++){var N=B[_];p(b,N,g.$setOnInsert,m)}}var j,C=Object.keys(g).filter(function(P){return P[0]!=="$"}),E=u(C);try{for(E.s();!(j=E.n()).done;){var S=j.value;p(b,S,g,m)}}catch(P){E.e(P)}finally{E.f()}}function k(P){for(var M=function(){var Q=F[H],K=b.path(Q.replace(/\.\$\./i,".").replace(/.\$$/,""));if(P[Q]&&K&&K.$isMongooseDocumentArray&&K.schema.options.timestamps){var Y=K.schema.options.timestamps,V=f(Y,"createdAt"),I=f(Y,"updatedAt");P[Q].$each?P[Q].$each.forEach(function(O){I!=null&&(O[I]=m),V!=null&&(O[V]=m),h(m,O,K.schema)}):(I!=null&&(P[Q][I]=m),V!=null&&(P[Q][V]=m),h(m,P[Q],K.schema))}},H=0,F=Object.keys(P);H<F.length;H++)M()}}function p(m,g,b,y){var x=A(g),v=m.path(x);if(v){for(var w=[],_=x.split("."),B=_.length-1;B>0;--B){var N=m.path(_.slice(0,B).join("."));N!=null&&(N.$isMongooseDocumentArray||N.$isSingleNested)&&w.push({parentPath:g.split(".").slice(0,B).join("."),parentSchemaType:N})}if(Array.isArray(b[g])&&v.$isMongooseDocumentArray)(function(V,I,O){var R=I.schema.options.timestamps,U=V.length;if(R)for(var T=f(R,"createdAt"),z=f(R,"updatedAt"),G=0;G<U;++G)z!=null&&(V[G][z]=O),T!=null&&(V[G][T]=O),h(O,V[G],I.schema);else for(var J=0;J<U;++J)h(O,V[J],I.schema)})(b[g],v,y);else if(b[g]&&v.$isSingleNested)(function(V,I,O){var R=I.schema.options.timestamps;if(R){var U=f(R,"createdAt"),T=f(R,"updatedAt");T!=null&&(V[T]=O),U!=null&&(V[U]=O),h(O,V,I.schema)}else h(O,V,I.schema)})(b[g],v,y);else if(w.length>0){var j,C=u(w);try{for(C.s();!(j=C.n()).done;){var E=j.value,S=E.parentPath,k=E.parentSchemaType,P=k.schema.options.timestamps,M=f(P,"updatedAt");if(P&&M!=null){if(k.$isSingleNested)b[S+"."+M]=y;else if(k.$isMongooseDocumentArray){var H=g.substring(S.length+1);if(/^\d+$/.test(H)){b[S+"."+H][M]=y;continue}var F=H.indexOf(".");b[S+"."+(H=F!==-1?H.substring(0,F):H)+"."+M]=y}}}}catch(V){C.e(V)}finally{C.f()}}else if(v.schema!=null&&v.schema!=m&&b[g]){var Q=v.schema.options.timestamps,K=f(Q,"createdAt"),Y=f(Q,"updatedAt");if(!Q)return;Y!=null&&(b[g][Y]=y),K!=null&&(b[g][K]=y)}}}o.exports=h},9183:o=>{o.exports=function(l){return typeof l=="function"&&l.constructor&&l.constructor.name==="AsyncFunction"}},9206:o=>{o.exports=EvalError},9247:(o,l,c)=>{var u=c(2481),d=c(2273);o.exports=function(){var A=u();return d(Object,{is:A},{is:function(){return Object.is!==A}}),A}},9344:(o,l,c)=>{function u(v){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},u(v)}var d,A=c(3071),f=c(953)(),h=c(5994),p=c(1464);if(f){var m=A("RegExp.prototype.exec"),g={},b=function(){throw g},y={toString:b,valueOf:b};u(Symbol.toPrimitive)==="symbol"&&(y[Symbol.toPrimitive]=b),d=function(v){if(!v||u(v)!=="object")return!1;var w=p(v,"lastIndex");if(!w||!h(w,"value"))return!1;try{m(v,y)}catch(_){return _===g}}}else{var x=A("Object.prototype.toString");d=function(v){return!(!v||u(v)!=="object"&&typeof v!="function")&&x(v)==="[object RegExp]"}}o.exports=d},9380:(o,l,c)=>{function u(){var x,v,w=typeof Symbol=="function"?Symbol:{},_=w.iterator||"@@iterator",B=w.toStringTag||"@@toStringTag";function N(H,F,Q,K){var Y=F&&F.prototype instanceof C?F:C,V=Object.create(Y.prototype);return d(V,"_invoke",function(I,O,R){var U,T,z,G=0,J=R||[],ee=!1,fe={p:0,n:0,v:x,a:de,f:de.bind(x,4),d:function(ae,xe){return U=ae,T=0,z=x,fe.n=xe,j}};function de(ae,xe){for(T=ae,z=xe,v=0;!ee&&G&&!X&&v<J.length;v++){var X,ie=J[v],re=fe.p,ve=ie[2];ae>3?(X=ve===xe)&&(z=ie[(T=ie[4])?5:(T=3,3)],ie[4]=ie[5]=x):ie[0]<=re&&((X=ae<2&&re<ie[1])?(T=0,fe.v=xe,fe.n=ie[1]):re<ve&&(X=ae<3||ie[0]>xe||xe>ve)&&(ie[4]=ae,ie[5]=xe,fe.n=ve,T=0))}if(X||ae>1)return j;throw ee=!0,xe}return function(ae,xe,X){if(G>1)throw TypeError("Generator is already running");for(ee&&xe===1&&de(xe,X),T=xe,z=X;(v=T<2?x:z)||!ee;){U||(T?T<3?(T>1&&(fe.n=-1),de(T,z)):fe.n=z:fe.v=z);try{if(G=2,U){if(T||(ae="next"),v=U[ae]){if(!(v=v.call(U,z)))throw TypeError("iterator result is not an object");if(!v.done)return v;z=v.value,T<2&&(T=0)}else T===1&&(v=U.return)&&v.call(U),T<2&&(z=TypeError("The iterator does not provide a '"+ae+"' method"),T=1);U=x}else if((v=(ee=fe.n<0)?z:I.call(O,fe))!==j)break}catch(ie){U=x,T=1,z=ie}finally{G=1}}return{value:v,done:ee}}}(H,Q,K),!0),V}var j={};function C(){}function E(){}function S(){}v=Object.getPrototypeOf;var k=[][_]?v(v([][_]())):(d(v={},_,function(){return this}),v),P=S.prototype=C.prototype=Object.create(k);function M(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,S):(H.__proto__=S,d(H,B,"GeneratorFunction")),H.prototype=Object.create(P),H}return E.prototype=S,d(P,"constructor",S),d(S,"constructor",E),E.displayName="GeneratorFunction",d(S,B,"GeneratorFunction"),d(P),d(P,B,"Generator"),d(P,_,function(){return this}),d(P,"toString",function(){return"[object Generator]"}),(u=function(){return{w:N,m:M}})()}function d(x,v,w,_){var B=Object.defineProperty;try{B({},"",{})}catch{B=0}d=function(N,j,C,E){if(j)B?B(N,j,{value:C,enumerable:!E,configurable:!E,writable:!E}):N[j]=C;else{var S=function(k,P){d(N,k,function(M){return this._invoke(k,P,M)})};S("next",0),S("throw",1),S("return",2)}},d(x,v,w,_)}function A(x,v,w,_,B,N,j){try{var C=x[N](j),E=C.value}catch(S){return void w(S)}C.done?v(E):Promise.resolve(E).then(_,B)}function f(x){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},f(x)}var h=c(2400),p=c(2746),m=c(3303)._,g=c(7352),b=c(8768);function y(x,v,w,_,B){if(f(_)==="object"&&_!=null&&B==null&&(B=_,_=void 0),w!=null){var N={isNew:w.isNew};"defaults"in w.$__&&(N.defaults=w.$__.defaults),B=Object.assign(N,B)}B!=null&&B.path!=null&&(this.$basePath=B.path),h.call(this,x,v,_,B),delete this.$__.priorDoc}o.exports=y,y.prototype=Object.create(h.prototype),Object.defineProperty(y.prototype,"$isSubdocument",{configurable:!1,writable:!1,value:!0}),Object.defineProperty(y.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!0}),y.prototype.toBSON=function(){return this.toObject(m)},y.prototype.save=function(){var x,v=(x=u().m(function w(_){var B=this;return u().w(function(N){for(;;)if(N.n===0)return(_=_||{}).suppressWarning||b.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),N.a(2,new Promise(function(j,C){B.$__save(function(E){if(E!=null)return C(E);j(B)})}))},w)}),function(){var w=this,_=arguments;return new Promise(function(B,N){var j=x.apply(w,_);function C(S){A(j,B,N,C,E,"next",S)}function E(S){A(j,B,N,C,E,"throw",S)}C(void 0)})});return function(w){return v.apply(this,arguments)}}(),y.prototype.$__fullPath=function(x){return this.$__.fullPath||this.ownerDocument(),x?this.$__.fullPath+"."+x:this.$__.fullPath},y.prototype.$__pathRelativeToParent=function(x){return x==null?this.$basePath:[this.$basePath,x].join(".")},y.prototype.$__save=function(x){var v=this;return p(function(){return x(null,v)})},y.prototype.$isValid=function(x){var v=this.$parent(),w=this.$__pathRelativeToParent(x);return v!=null&&w!=null?v.$isValid(w):h.prototype.$isValid.call(this,x)},y.prototype.markModified=function(x){h.prototype.markModified.call(this,x);var v=this.$parent(),w=this.$__pathRelativeToParent(x);if(v!=null&&w!=null){var _=this.$__pathRelativeToParent().replace(/\.$/,"");v.isDirectModified(_)||this.isNew||this.$__parent.markModified(w,this)}},y.prototype.isModified=function(x,v,w){var _=this,B=this.$parent();return B!=null?(Array.isArray(x)||typeof x=="string"?x=(x=Array.isArray(x)?x:x.split(" ")).map(function(N){return _.$__pathRelativeToParent(N)}).filter(function(N){return N!=null}):x||(x=this.$__pathRelativeToParent()),B.$isModified(x,v,w)):h.prototype.isModified.call(this,x,v,w)},y.prototype.$markValid=function(x){h.prototype.$markValid.call(this,x);var v=this.$parent(),w=this.$__pathRelativeToParent(x);v!=null&&w!=null&&v.$markValid(w)},y.prototype.invalidate=function(x,v,w){h.prototype.invalidate.call(this,x,v,w);var _=this.$parent(),B=this.$__pathRelativeToParent(x);if(_!=null&&B!=null)_.invalidate(B,v,w);else if(v.kind==="cast"||v.name==="CastError"||B==null)throw v;return this.ownerDocument().$__.validationError},y.prototype.$ignore=function(x){h.prototype.$ignore.call(this,x);var v=this.$parent(),w=this.$__pathRelativeToParent(x);v!=null&&w!=null&&v.$ignore(w)},y.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;for(var x=this,v=[],w=new Set([x]);typeof x.$__pathRelativeToParent=="function";){v.unshift(x.$__pathRelativeToParent(void 0,!0));var _=x.$parent();if(_==null)break;if(x=_,w.has(x))throw new Error("Infinite subdocument loop: subdoc with _id "+x._id+" is a parent of itself");w.add(x)}return this.$__.fullPath=v.join("."),this.$__.ownerDocument=x,this.$__.ownerDocument},y.prototype.$__fullPathWithIndexes=function(){for(var x=this,v=[],w=new Set([x]);typeof x.$__pathRelativeToParent=="function";){v.unshift(x.$__pathRelativeToParent(void 0,!1));var _=x.$parent();if(_==null)break;if(x=_,w.has(x))throw new Error("Infinite subdocument loop: subdoc with _id "+x._id+" is a parent of itself");w.add(x)}return v.join(".")},y.prototype.parent=function(){return this.$__parent},y.prototype.$parent=y.prototype.parent,y.prototype.$__deleteOne=function(x){if(x!=null)return x(null,this)},y.prototype.$__removeFromParent=function(){this.$__parent.set(this.$basePath,null)},y.prototype.deleteOne=function(x,v){if(typeof x=="function"&&(v=x,x=null),function(_){var B=_.ownerDocument();function N(){B.$removeListener("save",N),B.$removeListener("deleteOne",N),_.emit("deleteOne",_),_.constructor.emit("deleteOne",_)}B.$on("save",N),B.$on("deleteOne",N)}(this),!x||!x.noop){this.$__removeFromParent();var w=this.ownerDocument();w.$__.removedSubdocs=w.$__.removedSubdocs||[],w.$__.removedSubdocs.push(this)}return this.$__deleteOne(v)},y.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')},y.prototype.inspect=function(){return this.toObject()},g.inspect.custom&&(y.prototype[g.inspect.custom]=y.prototype.inspect),y.prototype.$toObject=function(x,v){var w,_,B,N,j=h.prototype.$toObject.call(this,x,v);if(Object.keys(j).length!==0||(x==null?void 0:x._calledWithOptions)==null||!((w=(_=(B=x._calledWithOptions)===null||B===void 0?void 0:B.minimize)!==null&&_!==void 0?_:this==null||(N=this.$__schemaTypeOptions)===null||N===void 0?void 0:N.minimize)!==null&&w!==void 0?w:x.minimize)||this.constructor.$__required)return j}},9460:(o,l,c)=>{var u=c(5832).hp,d=c(3609);function A(f,h){var p=Number(h);if(isNaN(p))throw new d("number",h,f);return p}o.exports=function(f){var h=this;return Array.isArray(f)?f.map(function(p){return A(h.path,p)}):u.isBuffer(f)?f:A(h.path,f)}},9471:o=>{o.exports=Math.abs},9528:(o,l,c)=>{function u(m){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(m)}function d(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!m})()}function A(m){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},A(m)}function f(m,g){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,y){return b.__proto__=y,b},f(m,g)}var h=function(m){function g(){return function(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,x,v){return x=A(x),function(w,_){if(_&&(u(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(w)}(y,d()?Reflect.construct(x,v||[],A(y).constructor):x.apply(y,v))}(this,g,arguments)}return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),x&&f(y,x)}(g,m),b=g,Object.defineProperty(b,"prototype",{writable:!1}),b;var b}(c(8879)),p=c(5761);Object.defineProperty(h.prototype,"enum",p),Object.defineProperty(h.prototype,"match",p),Object.defineProperty(h.prototype,"lowercase",p),Object.defineProperty(h.prototype,"trim",p),Object.defineProperty(h.prototype,"uppercase",p),Object.defineProperty(h.prototype,"minLength",p),Object.defineProperty(h.prototype,"minlength",p),Object.defineProperty(h.prototype,"maxLength",p),Object.defineProperty(h.prototype,"maxlength",p),Object.defineProperty(h.prototype,"populate",p),o.exports=h},9538:(o,l,c)=>{function u(y){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},u(y)}function d(y,x){for(var v=0;v<x.length;v++){var w=x[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,A(w.key),w)}}function A(y){var x=function(v){if(u(v)!="object"||!v)return v;var w=v[Symbol.toPrimitive];if(w!==void 0){var _=w.call(v,"string");if(u(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(y);return u(x)=="symbol"?x:x+""}function f(){try{var y=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f=function(){return!!y})()}function h(y){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},h(y)}function p(y,x){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,w){return v.__proto__=w,v},p(y,x)}var m=c(8213),g=function(y){function x(_,B){var N;(function(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")})(this,x);var j=_.message;j||(j=m.messages.general.default);var C=b(j,_,B);return N=function(E,S,k){return S=h(S),function(P,M){if(M&&(u(M)=="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(P)}(E,f()?Reflect.construct(S,k||[],h(E).constructor):S.apply(E,k))}(this,x,[C]),_=Object.assign({},_,{message:C}),N.properties=_,N.kind=_.type,N.path=_.path,N.value=_.value,N.reason=_.reason,N}return function(_,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(B&&B.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),B&&p(_,B)}(x,y),v=x,(w=[{key:"toString",value:function(){return this.message}},{key:"toJSON",value:function(){return Object.assign({name:this.name,message:this.message},this)}}])&&d(v.prototype,w),Object.defineProperty(v,"prototype",{writable:!1}),v;var v,w}(m);function b(y,x,v){if(typeof y=="function")return y(x,v);for(var w=0,_=Object.keys(x);w<_.length;w++){var B=_[w];B!=="message"&&(y=y.replace("{"+B.toUpperCase()+"}",x[B]))}return y}Object.defineProperty(g.prototype,"name",{value:"ValidatorError"}),Object.defineProperty(g.prototype,"properties",{enumerable:!1,writable:!0,value:null}),g.prototype.formatMessage=b,o.exports=g},9539:o=>{function l(u,d){return function(A){if(Array.isArray(A))return A}(u)||function(A,f){var h=A==null?null:typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(h!=null){var p,m,g,b,y=[],x=!0,v=!1;try{if(g=(h=h.call(A)).next,f!==0)for(;!(x=(p=g.call(h)).done)&&(y.push(p.value),y.length!==f);x=!0);}catch(w){v=!0,m=w}finally{try{if(!x&&h.return!=null&&(b=h.return(),Object(b)!==b))return}finally{if(v)throw m}}return y}}(u,d)||function(A,f){if(A){if(typeof A=="string")return c(A,f);var h={}.toString.call(A).slice(8,-1);return h==="Object"&&A.constructor&&(h=A.constructor.name),h==="Map"||h==="Set"?Array.from(A):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?c(A,f):void 0}}(u,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c(u,d){(d==null||d>u.length)&&(d=u.length);for(var A=0,f=Array(d);A<d;A++)f[A]=u[A];return f}o.exports=function(u,d,A){for(var f={},h=0,p=Object.keys(d.tree);h<p.length;h++){var m=p[h];A&&(u.paths[m]||u.nested[m]||u.singleNestedPaths[m])||(f[m]=d.tree[m])}u.options._isMerging=!0,u.add(f,null),delete u.options._isMerging,u.callQueue=u.callQueue.concat(d.callQueue),u.method(d.methods),u.static(d.statics);for(var g=0,b=Object.entries(d._userProvidedOptions);g<b.length;g++){var y=l(b[g],2),x=y[0],v=y[1];x in u._userProvidedOptions||u.set(x,v)}for(var w in d.query)u.query[w]=d.query[w];for(var _ in d.virtuals)u.virtuals[_]=d.virtuals[_].clone();u._indexes=u._indexes.concat(d._indexes||[]),u.s.hooks.merge(d.s.hooks,!1)}},9553:(o,l,c)=>{var u=c(5832).hp;function d(h){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},d(h)}var A=c(9639),f=c(2402);o.exports=function(h){return h==null?h:d(h)==="object"&&typeof h.$numberDecimal=="string"?A.fromString(h.$numberDecimal):h instanceof A?h:typeof h=="string"?A.fromString(h):typeof u=="function"&&u.isBuffer(h)||typeof Uint8Array=="function"&&h instanceof Uint8Array?new A(h):typeof h=="number"?A.fromString(String(h)):typeof h.valueOf=="function"&&typeof h.valueOf()=="string"?A.fromString(h.valueOf()):void f.ok(!1)}},9600:(o,l,c)=>{l.Array=c(7557),l.Buffer=c(6365),l.Document=l.Embedded=c(6547),l.DocumentArray=c(4878),l.Double=c(2822),l.Decimal128=c(9639),l.ObjectId=c(5549),l.Map=c(2081),l.Subdocument=c(9380),l.UUID=c(1344)},9604:(o,l,c)=>{var u=c(5558).p,d=c(5558).G;function A(h,p){switch(h.$geometry.type){case"Polygon":case"LineString":case"Point":u(h.$geometry.coordinates,p)}return f(p,h),h}function f(h,p){p.$maxDistance&&(p.$maxDistance=d.call(h,p.$maxDistance)),p.$minDistance&&(p.$minDistance=d.call(h,p.$minDistance))}l.cast$geoIntersects=function(h){if(h.$geometry)return A(h,this),h},l.cast$near=function(h){var p=c(7760);if(Array.isArray(h))return u(h,this),h;if(f(this,h),h&&h.$geometry)return A(h,this);if(!Array.isArray(h))throw new TypeError("$near must be either an array or an object with a $geometry property");return p.prototype.castForQuery.call(this,null,h)},l.cast$within=function(h){var p=this;if(f(this,h),h.$box||h.$polygon){var m=h.$box?"$box":"$polygon";h[m].forEach(function(b){if(!Array.isArray(b))throw new TypeError("Invalid $within $box argument. Expected an array, received "+b);b.forEach(function(y,x){b[x]=d.call(p,y)})})}else if(h.$center||h.$centerSphere){var g=h.$center?"$center":"$centerSphere";h[g].forEach(function(b,y){Array.isArray(b)?b.forEach(function(x,v){b[v]=d.call(p,x)}):h[g][y]=d.call(p,b)})}else h.$geometry&&A(h,this);return h}},9639:(o,l,c)=>{o.exports=c(6353).Decimal128},9696:o=>{var l=/^function\s*([^\s(]+)/;o.exports=function(c){return c.name||(c.toString().trim().match(l)||[])[1]}},9809:o=>{function l(v){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},l(v)}var c,u,d=Function.prototype.toString,A=(typeof Reflect>"u"?"undefined":l(Reflect))==="object"&&Reflect!==null&&Reflect.apply;if(typeof A=="function"&&typeof Object.defineProperty=="function")try{c=Object.defineProperty({},"length",{get:function(){throw u}}),u={},A(function(){throw 42},null,c)}catch(v){v!==u&&(A=null)}else A=null;var f=/^\s*class\b/,h=function(v){try{var w=d.call(v);return f.test(w)}catch{return!1}},p=function(v){try{return!h(v)&&(d.call(v),!0)}catch{return!1}},m=Object.prototype.toString,g=typeof Symbol=="function"&&!!Symbol.toStringTag,b=!(0 in[,]),y=function(){return!1};if((typeof document>"u"?"undefined":l(document))==="object"){var x=document.all;m.call(x)===m.call(document.all)&&(y=function(v){if((b||!v)&&(v===void 0||l(v)==="object"))try{var w=m.call(v);return(w==="[object HTMLAllCollection]"||w==="[object HTML document.all class]"||w==="[object HTMLCollection]"||w==="[object Object]")&&v("")==null}catch{}return!1})}o.exports=A?function(v){if(y(v))return!0;if(!v||typeof v!="function"&&l(v)!=="object")return!1;try{A(v,null,c)}catch(w){if(w!==u)return!1}return!h(v)&&p(v)}:function(v){if(y(v))return!0;if(!v||typeof v!="function"&&l(v)!=="object")return!1;if(g)return p(v);if(h(v))return!1;var w=m.call(v);return!(w!=="[object Function]"&&w!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(w))&&p(v)}},9834:(o,l,c)=>{function u(B){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},u(B)}var d=c(3777),A=c(3426),f=c(9122),h=c(3071),p=c(1464),m=c(209),g=h("Object.prototype.toString"),b=c(953)(),y=typeof globalThis>"u"?c.g:globalThis,x=A(),v=h("String.prototype.slice"),w=h("Array.prototype.indexOf",!0)||function(B,N){for(var j=0;j<B.length;j+=1)if(B[j]===N)return j;return-1},_={__proto__:null};d(x,b&&p&&m?function(B){var N=new y[B];if(Symbol.toStringTag in N&&m){var j=m(N),C=p(j,Symbol.toStringTag);if(!C&&j){var E=m(j);C=p(E,Symbol.toStringTag)}_["$"+B]=f(C.get)}}:function(B){var N=new y[B],j=N.slice||N.set;j&&(_["$"+B]=f(j))}),o.exports=function(B){if(!B||u(B)!=="object")return!1;if(!b){var N=v(g(B),8,-1);return w(x,N)>-1?N:N==="Object"&&function(j){var C=!1;return d(_,function(E,S){if(!C)try{E(j),C=v(S,1)}catch{}}),C}(B)}return p?function(j){var C=!1;return d(_,function(E,S){if(!C)try{"$"+E(j)===S&&(C=v(S,1))}catch{}}),C}(B):null}},9848:o=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(c)}o.exports=function(c){c.pre("save",!1,function(u,d){var A=this,f=this;if(this.$isSubdocument)return u();if(d&&l(d)==="object"&&"validateBeforeSave"in d?d.validateBeforeSave:this.$__schema.options.validateBeforeSave){var h=d&&l(d)==="object"&&"validateModifiedOnly"in d?{validateModifiedOnly:d.validateModifiedOnly}:null;this.$validate(h).then(function(){A.$op="save",u()},function(p){f.$__schema.s.hooks.execPost("save:error",f,[f],{error:p},function(m){f.$op="save",u(m)})})}else u()},null,!0)}},9870:o=>{o.exports=Error},9907:o=>{o.exports=SyntaxError},9939:o=>{o.exports=RangeError}},s={};function i(o){var l=s[o];if(l!==void 0)return l.exports;var c=s[o]={exports:{}};return n[o](c,c.exports,i),c.exports}return i.d=(o,l)=>{for(var c in l)i.o(l,c)&&!i.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:l[c]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l),i.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i(4829)})())})(fee);const hee=()=>{const t=te.useRef(new Set),{user:r}=On(),{id:n}=l1(),[s,i]=te.useState(null),[o,l]=te.useState([]),[c,u]=te.useState(!0),[d,A]=te.useState(""),[f,h]=te.useState({isFollowing:!1,isOwnStore:!1});te.useEffect(()=>{(async()=>{if(n){u(!0);try{const k=[v(),w(),x()];await Promise.all(k)}finally{u(!1)}}})()},[n]);const p=()=>{var S;(S=g.current)==null||S.scrollIntoView({behavior:"smooth",block:"start"}),console.log("Explore button clicked")},m=()=>{var S;(S=b.current)==null||S.scrollIntoView({behavior:"smooth",block:"start"})},g=te.useRef(null),b=te.useRef(null);te.useEffect(()=>{if(!n||t.current.has(n))return;const k=setTimeout(async()=>{try{t.current.add(n),await fetch(`http://localhost:10000/api/stores/${n}/views`,{method:"PATCH"})}catch(P){console.error("Error updating views:",P),t.current.delete(n)}},100);return()=>clearTimeout(k)},[n]);const y=(S,k)=>{i(P=>({...P,isFollowing:S,stats:{...P.stats,followersCount:k}})),h(P=>({...P,isFollowing:S}))},x=async()=>{try{A("");const S=`http://localhost:10000/api/stores/${n}/follow-check`,k=await fetch(S,{credentials:"include"});if(!k.ok){if(k.status===401){h({isFollowing:!1,isOwnStore:!1});return}throw new Error(`Failed to fetch follow data: ${k.status}`)}const P=await k.json();console.log("Follow data:",P),h(P)}catch(S){console.error("Error fetching follow data:",S),h({isFollowing:!1,isOwnStore:!1})}},v=async()=>{try{A("");const S=await fetch(`http://localhost:10000/api/stores/${n}`);if(!S.ok)throw new Error(`Failed to fetch store: ${S.status}`);const k=await S.json();i(k)}catch(S){console.error("Error fetching store data:",S),A("Failed to load store data")}},w=async()=>{try{A("");const S=await fetch(`http://localhost:10000/api/reviews/store/${n}`);if(S.ok){const k=await S.json();l(k||[])}}catch(S){console.error("Error fetching reviews:",S),l([])}},_=S=>!S||S.length<=2?S:S.charAt(0)+"*".repeat(S.length-2)+S.charAt(S.length-1),B=S=>{if(!S)return{backgroundColor:"#000000",color:"#ffffff"};if(S.startsWith("#")){const k=N(S);return{backgroundColor:S,color:k?"#000000":"#ffffff"}}return{backgroundColor:"#000000",color:"#ffffff"}},N=S=>{const k=S.replace("#",""),P=parseInt(k.substr(0,2),16),M=parseInt(k.substr(2,2),16),H=parseInt(k.substr(4,2),16);return(P*299+M*587+H*114)/1e3>155};if(c)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black"})});if(d||!s)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:d||"Store not found"}),a.jsx($t,{to:"/",className:"text-black hover:text-gray-700",children:"Back to Home"})]})});const{store:j,listings:C=[]}=s;if(!j)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Store not found"}),a.jsx($t,{to:"/",className:"text-black hover:text-gray-700",children:"Back to Home"})]})});const E=["https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1200&h=400&fit=crop","https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1200&h=400&fit=crop","https://images.unsplash.com/photo-1560472354-b43ff0c44a43?w=1200&h=400&fit=crop"];return j.heroImages&&j.heroImages.length>0&&j.heroImages,B(j.themeColor),N(j.themeColor||"#000000"),a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs($t,{to:"/",className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors",children:[a.jsx(Gl,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Home"})]})})}),a.jsx(qZ,{store:j,user:r,reviews:o,onExploreClick:p,onContactClick:m}),a.jsx("div",{ref:b,children:a.jsx(Aee,{followData:f,setFollowData:h,store:j,user:r,reviews:o,onFollowChange:y})}),a.jsx("div",{className:"py-16 bg-white",ref:g,children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900",children:j.type==="product"?"Our Products":"Our Services"}),a.jsxs("p",{className:"text-gray-600",children:[C.length," ",j.type==="product"?"products":"services"," available"]})]}),C.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("p",{className:"text-lg text-gray-500",children:["No ",j.type==="product"?"products":"services"," ","available yet"]}),a.jsx("p",{className:"mt-2 text-gray-400",children:"Check back later for new listings"})]}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 xl:grid-cols-5 2xl:grid-cols-5 gap-4",children:C.map(S=>j.type==="product"?a.jsx(FN,{product:S},S._id):a.jsx(IN,{service:S},S._id))})]})}),a.jsx("div",{className:"py-16 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Customer Reviews"}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((S,k)=>a.jsx(Wr,{className:`w-5 h-5 ${k<Math.floor(j.rating||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},k))}),a.jsx("span",{className:"text-lg font-semibold",children:j.rating||0}),a.jsxs("span",{className:"text-gray-600",children:["(",o.length," reviews)"]})]})})]}),o.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Reviews Yet"}),a.jsx("p",{className:"text-gray-600",children:"Be the first to review this store!"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Review Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:j.rating||0}),a.jsx("div",{className:"flex justify-center mb-2",children:[...Array(5)].map((S,k)=>a.jsx(Wr,{className:`w-5 h-5 ${k<Math.floor(j.rating||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},k))}),a.jsxs("p",{className:"text-gray-600",children:[o.length," total reviews"]})]})}),a.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(S=>{const k=o.filter(M=>M.rating===S).length,P=o.length>0?k/o.length*100:0;return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm w-8",children:[S,"★"]}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${P}%`}})}),a.jsx("span",{className:"text-sm text-gray-600 w-8",children:k})]},S)})})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(S=>{var k;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:_(((k=S.customerId)==null?void 0:k.name)||"Anonymous")}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((P,M)=>a.jsx(Wr,{className:`w-4 h-4 ${M<S.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},M))}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(S.createdAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"text-right",children:[S.orderId&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Product Order"}),S.bookingId&&a.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Service Booking"})]})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:S.comment}),S.response&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-black",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Store Response"}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(S.response.respondedAt).toLocaleDateString()})]}),a.jsx("p",{className:"text-gray-700",children:S.response.message})]})]},S._id)})})]})]})}),r&&r.role==="customer"&&a.jsx(iP,{storeId:j._id,position:"bottom-left",user:r})]})},pee=()=>{const{orderItems:t,bookingItems:r,updateQuantity:n,removeFromOrder:s,removeFromBooking:i,orderTotal:o,bookingTotal:l}=ld(),c=t.reduce((d,A)=>d+A.quantity,0)+r.length,u=o+l;return c===0?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ol,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Add some products or book services to get started"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx($t,{to:"/products",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Browse Products"}),a.jsx($t,{to:"/services",className:"bg-white border-2 border-black text-black px-6 py-3 rounded-lg hover:bg-black hover:text-white transition-colors",children:"Browse Services"})]})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shopping Cart"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:[c," item",c!==1?"s":""," in your cart"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Products (",t.length,")"]}),a.jsx("div",{className:"space-y-4",children:t.map(d=>a.jsxs("div",{className:"cart-item-animate flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[a.jsx("img",{src:d.image?d.image.startsWith("http")?d.image:`http://localhost:10000${d.image}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:d.title,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsx("p",{className:"text-gray-600",children:Lr(d.price)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>n(d.id,d.quantity-1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:a.jsx(g8,{className:"w-4 h-4"})}),a.jsx("span",{className:"w-8 text-center",children:d.quantity}),a.jsx("button",{onClick:()=>n(d.id,d.quantity+1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:a.jsx(Eo,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold",children:Lr(d.price*d.quantity)}),a.jsx("button",{onClick:()=>s(d.id),className:"text-red-500 hover:text-red-700 transition-colors mt-1",children:a.jsx(bh,{className:"w-4 h-4"})})]})]},d.id))})]}),r.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Service Bookings (",r.length,")"]}),a.jsx("div",{className:"space-y-4",children:r.map(d=>a.jsxs("div",{className:"cart-item-animate flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[a.jsx("img",{src:d.image?d.image.startsWith("http")?d.image:`http://localhost:10000${d.image}`:"https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop",alt:d.title,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsx("p",{className:"text-gray-600",children:Lr(d.price)}),a.jsxs("p",{className:"text-sm text-gray-500",children:[d.date," at ",d.time]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold",children:Lr(d.price)}),a.jsx("button",{onClick:()=>i(d.id),className:"text-red-500 hover:text-red-700 transition-colors mt-1",children:a.jsx(bh,{className:"w-4 h-4"})})]})]},`${d.id}-${d.date}-${d.time}`))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 h-fit",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),a.jsxs("div",{className:"space-y-3",children:[t.length>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["Products (",t.reduce((d,A)=>d+A.quantity,0),")"]}),a.jsx("span",{children:Lr(o)})]}),r.length>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["Services (",r.length,")"]}),a.jsx("span",{children:Lr(l)})]}),a.jsx("div",{className:"border-t pt-3",children:a.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{children:Lr(u)})]})})]}),a.jsx($t,{to:"/checkout",className:"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors mt-6 block text-center",children:"Proceed to Checkout"})]})]})]})})},mee=()=>{const{bookingItems:t,bookingTotal:r}=ld();return t.length===0?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Es,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No bookings found"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"You haven't booked any services yet"}),a.jsx($t,{to:"/services",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Browse Services"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs($t,{to:"/services",className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors mb-4",children:[a.jsx(Gl,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Services"})]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Booking Summary"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Review your service bookings"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:t.map((n,s)=>a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("img",{src:n.image?n.image.startsWith("http")?n.image:`http://localhost:10000${n.image}`:"https://images.unsplash.com/photo-1560472354-b43ff0c44a43?w=400&h=300&fit=crop",alt:n.title,className:"w-20 h-20 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.title}),a.jsxs("p",{className:"text-2xl font-bold text-black mb-4",children:["$",n.price]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(Es,{className:"w-4 h-4"}),a.jsx("span",{children:n.date})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx($s,{className:"w-4 h-4"}),a.jsx("span",{children:n.time})]}),n.notes&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Notes:"}),a.jsx("p",{className:"text-sm text-gray-700",children:n.notes})]})]})]})]})},`${n.id}-${s}`))}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 h-fit",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Booking Summary"}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600",children:["Services (",t.length,")"]}),a.jsxs("span",{className:"font-semibold",children:["$",r.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Platform Fee (5%)"}),a.jsxs("span",{className:"font-semibold",children:["$",(r*.05).toFixed(2)]})]}),a.jsx("div",{className:"border-t pt-3",children:a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["$",(r*1.05).toFixed(2)]})]})})]}),a.jsx($t,{to:"/checkout",className:"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors block text-center",children:"Proceed to Payment"}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx($t,{to:"/services",className:"text-gray-600 hover:text-black transition-colors text-sm",children:"Continue Browsing Services"})})]})]})]})})},gee=()=>{const{orderItems:t,bookingItems:r,orderTotal:n,bookingTotal:s,clearOrder:i,clearBookings:o}=ld(),{user:l}=On(),c=Hs(),[u,d]=te.useState(!1),[A,f]=te.useState([]),[h,p]=te.useState("payhere"),[m,g]=te.useState({street:"",city:"",state:"",zipCode:"",country:"Sri Lanka"}),[b,y]=te.useState(!1),[x,v]=te.useState(null),[w,_]=te.useState(!1),B=t.reduce((H,F)=>H+F.quantity,0)+r.length,N=n+s,j=N*.07,C=N+j;te.useEffect(()=>{if((t.length||r.length)&&E(),window.payhere)y(!0);else{const H=document.createElement("script");H.src="https://www.payhere.lk/lib/payhere.js",H.async=!0,H.onload=()=>{y(!0),console.log("PayHere script loaded")},H.onerror=()=>{alert("Failed to load PayHere payment gateway script")},document.body.appendChild(H)}},[t,r,l]);const E=async()=>{try{const H=await fetch("http://localhost:10000/api/payments/payment-methods");if(H.ok){const F=await H.json();if(l)try{const Q=await fetch("http://localhost:10000/api/users/verification-status",{credentials:"include"});if(Q.ok){const Y=(await Q.json()).verificationStatus==="verified",V=F.map(I=>I.id==="cod"?{...I,available:Y}:I);f(V)}else f(F)}catch(Q){console.error("Error checking verification status:",Q),f(F)}else{const Q=F.map(K=>K.id==="cod"?{...K,available:!1}:K);f(Q)}}else console.error("Failed to fetch payment methods:",H.status)}catch(H){console.error("Error fetching payment methods:",H)}},S=H=>{g({...m,[H.target.name]:H.target.value})},k=H=>new Promise((F,Q)=>{if(!window.payhere)return alert("Payment gateway not loaded, please try again later."),Q(new Error("PayHere script not loaded"));window.payhere.onCompleted=function(K){console.log("Payment completed. OrderID:",K),F(K)},window.payhere.onDismissed=function(){alert("Payment was cancelled."),Q(new Error("Payment cancelled"))},window.payhere.onError=function(K){console.error("PayHere payment error:",K),alert("Payment failed. Please try again."),Q(new Error("Payment error: "+K))},console.log("Starting PayHere payment with params:",H),window.payhere.startPayment(H)}),P=async()=>{if(!l){alert("Please log in to continue"),c("/login");return}if(l.role!=="customer"){alert("Only customers can place orders");return}if(t.length>0&&(!m.street||!m.city||!m.state||!m.zipCode||isNaN(m.zipCode))){alert("Please fill in all shipping address fields correctly");return}if(h==="payhere"&&!b){alert("Payment gateway is still loading, please wait a moment.");return}d(!0);try{let H="";switch(h){case"payhere":H="/api/payments/payhere-intent";break;case"bank_transfer":H="/api/payments/bank-transfer-intent";break;case"cod":H="/api/payments/cod-intent";break;default:alert("Please select a payment method"),d(!1);return}const F=await fetch(`http://localhost:10000${H}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentMethod:h,orderItems:t.map(K=>({productId:K.id,quantity:K.quantity,storeId:typeof K.storeId=="object"?K.storeId._id:K.storeId||"unknown"})),bookingItems:r.map(K=>({serviceId:K.id,storeId:K.storeId,bookingDetails:{date:new Date(K.bookingDetails.date),startTime:K.bookingDetails.time,endTime:K.bookingDetails.endTime,duration:K.duration||K.bookingDetails.duration,timeZone:"Asia/Colombo"},notes:K.bookingDetails.notes||K.notes})),shippingAddress:m})});if(!F.ok){const K=await F.json();if(K.requiresVerification){alert("Document verification required for Cash on Delivery. Please upload your ID/Passport in your profile settings."),c("/profile"),d(!1);return}alert(`Payment creation failed: ${K.error||"Unknown error"}`),d(!1);return}const Q=await F.json();if(h==="payhere"){const{paymentParams:K}=Q;if(!K){alert("Payment parameters missing in response."),d(!1);return}await k(K),i(),o(),alert("Payment successful!")}else if(h==="bank_transfer"){v(Q),i(),o(),_(!0);return}else h==="cod"&&(i(),o(),alert("COD order created successfully! You can mark it as delivered once you receive your order/service."));t.length>0&&r.length>0||t.length>0?c("/orders"):r.length>0?c("/bookings"):c("/")}catch(H){console.error("Checkout error:",H),alert("Checkout failed. Please try again.")}finally{d(!1)}},M=H=>{switch(H){case"building-2":return a.jsx(fA,{className:"w-6 h-6"});case"smartphone":return a.jsx(vq,{className:"w-6 h-6"});case"banknote":return a.jsx(H0,{className:"w-6 h-6"});case"credit-card":return a.jsx(Vu,{className:"w-6 h-6"});default:return a.jsx(Vu,{className:"w-6 h-6"})}};return B===0?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md",children:[a.jsx(ol,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Add some items to proceed with checkout"})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Complete your purchase"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[t.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Shipping Address"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),a.jsx("input",{type:"text",name:"street",value:m.street,onChange:S,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"123 Main Street"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),a.jsx("input",{type:"text",name:"city",value:m.city,onChange:S,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Colombo"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Province *"}),a.jsxs("select",{name:"state",value:m.state,onChange:S,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select Province"}),a.jsx("option",{value:"Western",children:"Western"}),a.jsx("option",{value:"Central",children:"Central"}),a.jsx("option",{value:"Southern",children:"Southern"}),a.jsx("option",{value:"Northern",children:"Northern"}),a.jsx("option",{value:"Eastern",children:"Eastern"}),a.jsx("option",{value:"North Western",children:"North Western"}),a.jsx("option",{value:"North Central",children:"North Central"}),a.jsx("option",{value:"Uva",children:"Uva"}),a.jsx("option",{value:"Sabaragamuwa",children:"Sabaragamuwa"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code *"}),a.jsx("input",{type:"text",name:"zipCode",value:m.zipCode,onChange:S,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"10001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),a.jsx("input",{type:"text",name:"country",value:m.country,onChange:S,className:"w-full border border-gray-300 rounded-lg px-4 py-3 bg-gray-100 cursor-not-allowed",readOnly:!0})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payment Method"}),a.jsxs("div",{className:"space-y-3",children:[A.map(H=>a.jsxs("label",{className:`flex items-center p-4 rounded-lg border-2 transition-all ${H.available?h===H.id?"border-black bg-black text-white cursor-pointer":"border-gray-200 hover:border-gray-300 cursor-pointer":"border-gray-100 bg-gray-50 cursor-not-allowed opacity-60"}`,children:[a.jsx("input",{type:"radio",name:"paymentMethod",value:H.id,checked:h===H.id,onChange:F=>p(F.target.value),disabled:!H.available,className:"sr-only"}),a.jsx("div",{className:`mr-3 ${h===H.id?"text-white":"text-gray-400"}`,children:M(H.icon)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:`font-medium ${h===H.id?"text-white":"text-gray-900"}`,children:[H.name,H.id==="cod"&&!H.available&&a.jsx("span",{className:"ml-2 text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Verification Required"})]}),a.jsxs("div",{className:`text-sm ${h===H.id?"text-gray-200":"text-gray-500"}`,children:[H.description,H.id==="cod"&&!H.available&&a.jsx("span",{className:"block text-xs mt-1 text-red-600",children:"Upload ID/Passport in profile to enable COD"})]})]})]},H.id)),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zu,{className:"w-5 h-5 text-blue-600"}),a.jsx("p",{className:"text-sm text-blue-800",children:"Your payment information is secure and processed locally in Sri Lanka"})]})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 h-fit",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Order Summary"}),t.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Products"}),a.jsx("div",{className:"space-y-3",children:t.map(H=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:H.image?H.image.startsWith("http")?H.image:`http://localhost:10000${H.image}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:H.title,className:"w-12 h-12 object-cover rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",H.quantity]})]}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:Lr(H.price*H.quantity)})]},H.id))})]}),r.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Service Bookings"}),a.jsx("div",{className:"space-y-3",children:r.map((H,F)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:H.image?H.image.startsWith("http")?H.image:`http://localhost:10000${H.image}`:"https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop",alt:H.title,className:"w-12 h-12 object-cover rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:[H.date," at ",H.time]})]}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:Lr(H.price)})]},`${H.id}-${F}`))})]}),a.jsxs("div",{className:"space-y-3 border-t pt-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Subtotal"}),a.jsx("span",{className:"font-medium",children:Lr(N)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Platform Fee (7%)"}),a.jsx("span",{className:"font-medium",children:Lr(j)})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-3",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{children:Lr(C)})]})]}),a.jsx("button",{onClick:P,disabled:u,className:"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors mt-6 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Processing...":`Pay ${Lr(C)}`})]})]})]}),w&&x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-90vh overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Bank Transfer Details"}),a.jsx("button",{onClick:()=>{_(!1),c("/orders")},className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),a.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-blue-800 font-medium",children:["Please transfer LKR ",Lr(x.totalAmount)," to the bank account(s) below and contact the store with your transfer receipt."]})}),x.bankDetails.map((H,F)=>a.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:H.storeName}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bank Name"}),a.jsx("p",{className:"text-gray-900",children:H.bankDetails.bankName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Account Holder"}),a.jsx("p",{className:"text-gray-900",children:H.bankDetails.accountHolderName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Account Number"}),a.jsx("p",{className:"text-gray-900 font-mono",children:H.bankDetails.accountNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Branch"}),a.jsx("p",{className:"text-gray-900",children:H.bankDetails.branchName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Routing Number"}),a.jsx("p",{className:"text-gray-900 font-mono",children:H.bankDetails.routingNumber})]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Contact Store:"}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[H.contactInfo.whatsapp&&a.jsxs("a",{href:`https://wa.me/${H.contactInfo.whatsapp.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium",children:["WhatsApp: ",H.contactInfo.whatsapp]}),H.contactInfo.email&&a.jsxs("a",{href:`mailto:${H.contactInfo.email}`,className:"text-blue-600 hover:text-blue-700 font-medium",children:["Email: ",H.contactInfo.email]})]})]})]},F)),a.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6",children:a.jsxs("p",{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"Important:"})," Please contact the store via WhatsApp or email after making the transfer with your payment receipt for order confirmation."]})}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>{_(!1),c("/orders")},className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Go to My Orders"})})]})})})]})},yee=()=>{const[t,r]=te.useState(""),[n,s]=te.useState(""),[i,o]=te.useState(!1),[l,c]=te.useState(!1),[u,d]=te.useState(""),{login:A}=On(),f=Hs(),h=async p=>{p.preventDefault(),c(!0),d("");const m=await A(t,n);m.success?f("/"):d(m.error),c(!1)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Welcome back"}),a.jsx("p",{className:"text-gray-600",children:"Sign in to your AIO account"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Don't have an account?"," ",a.jsx($t,{to:"/register",className:"font-medium text-black hover:text-gray-700 transition-colors",children:"Create one here"})]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:a.jsxs("form",{className:"space-y-6",onSubmit:h,children:[u&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:u}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Wl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t,onChange:p=>r(p.target.value),className:"pl-10 block w-full border border-gray-300 rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Enter your email"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(zu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{id:"password",name:"password",type:i?"text":"password",required:!0,value:n,onChange:p=>s(p.target.value),className:"pl-10 pr-10 block w-full border border-gray-300 rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Enter your password"}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:i?a.jsx(Gx,{className:"w-5 h-5"}):a.jsx(Zn,{className:"w-5 h-5"})})]})]})]}),a.jsx("button",{type:"submit",disabled:l,className:"w-full bg-black text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Signing in...":"Sign in"})]})})]})})},xee=()=>{const[t,r]=te.useState({name:"",email:"",password:"",confirmPassword:"",role:"customer"}),[n,s]=te.useState(!1),[i,o]=te.useState(!1),[l,c]=te.useState(!1),[u,d]=te.useState(""),{register:A}=On(),f=Hs(),h=async m=>{if(m.preventDefault(),c(!0),d(""),t.password!==t.confirmPassword){d("Passwords do not match"),c(!1);return}if(t.password.length<6){d("Password must be at least 6 characters long"),c(!1);return}const g=await A(t);g.success?t.role==="store_owner"?f("/create-store"):f("/"):d(g.error),c(!1)},p=m=>{r({...t,[m.target.name]:m.target.value})};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Join AIO"}),a.jsx("p",{className:"text-gray-600",children:"Create your account and start your journey"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Already have an account?"," ",a.jsx($t,{to:"/login",className:"font-medium text-black hover:text-gray-700 transition-colors",children:"Sign in here"})]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:a.jsxs("form",{className:"space-y-6",onSubmit:h,children:[u&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:u}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"I want to"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>r({...t,role:"customer"}),className:`p-4 rounded-lg border-2 transition-all text-center ${t.role==="customer"?"border-black bg-black text-white":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx(Vl,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Shop"}),a.jsx("div",{className:"text-xs opacity-75",children:"Buy products & services"})]}),a.jsxs("button",{type:"button",onClick:()=>r({...t,role:"store_owner"}),className:`p-4 rounded-lg border-2 transition-all text-center ${t.role==="store_owner"?"border-black bg-black text-white":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx(li,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Sell"}),a.jsx("div",{className:"text-xs opacity-75",children:"Create a store"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:t.name,onChange:p,className:"pl-10 block w-full border border-gray-300 rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Enter your full name"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Wl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:p,className:"pl-10 block w-full border border-gray-300 rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Enter your email"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(zu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:t.password,onChange:p,className:"pl-10 pr-10 block w-full border border-gray-300 rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Create a password"}),a.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:n?a.jsx(Gx,{className:"w-5 h-5"}):a.jsx(Zn,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(zu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",required:!0,value:t.confirmPassword,onChange:p,className:"pl-10 pr-10 block w-full border border-gray-300 rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Confirm your password"}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:i?a.jsx(Gx,{className:"w-5 h-5"}):a.jsx(Zn,{className:"w-5 h-5"})})]})]})]}),a.jsx("button",{type:"submit",disabled:l,className:"w-full bg-black text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Creating account...":"Create account"}),t.role==="store_owner"&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Next step:"})," After registration, you'll create your store and start selling!"]})})]})})]})})},Xd=({images:t=[],onImagesChange:r,maxImages:n=5,multiple:s=!0,className:i="",idPrefix:o="upload"})=>{const[l,c]=te.useState(!1),u=m=>{const b=Array.from(m).filter(y=>y.type.startsWith("image/"));if(s){const y=[...t,...b].slice(0,n);r(y)}else r(b.slice(0,1))},d=m=>{m.preventDefault(),c(!1),u(m.dataTransfer.files)},A=m=>{m.preventDefault(),c(!0)},f=m=>{m.preventDefault(),c(!1)},h=m=>{const g=t.filter((b,y)=>y!==m);r(g)},p=`${o}-image-upload`;return a.jsxs("div",{className:`space-y-4 ${i}`,children:[a.jsxs("div",{onDrop:d,onDragOver:A,onDragLeave:f,className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${l?"border-black bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[a.jsx("input",{type:"file",multiple:s,accept:"image/*",onChange:m=>u(m.target.files),className:"hidden",id:p}),a.jsxs("label",{htmlFor:p,className:"cursor-pointer",children:[a.jsx(K0,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-600 mb-1",children:"Click to upload or drag and drop"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["PNG, JPG, GIF up to 10MB ",s&&`(max ${n})`]})]})]}),t.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map((m,g)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:typeof m=="string"?m:URL.createObjectURL(m),alt:`Upload ${g+1}`,className:"w-full h-32 object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>h(g),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(hs,{className:"w-4 h-4"})})]},g))}),a.jsxs("p",{className:"text-sm text-gray-500",children:[t.length," of ",n," images uploaded"]})]})},vee=async(t,r={})=>{try{const n={maxSizeMB:r.maxSizeMB||1,maxWidthOrHeight:r.maxWidthOrHeight||1920,useWebWorker:!0,fileType:r.fileType||t.type,initialQuality:r.initialQuality||.8,alwaysKeepResolution:r.alwaysKeepResolution||!1,...r},s=await ts(t,n);return console.log(`Image compressed: ${t.size} bytes → ${s.size} bytes`),s}catch(n){return console.error("Image compression error:",n),t}},bee=async(t,r={})=>{try{if(!t)throw new Error("No file provided");const n=r.maxSizeMB||5;if(t.size>n*1024*1024)throw new Error(`File size must be less than ${n}MB`);if(!(r.allowedTypes||["image/jpeg","image/jpg","image/png","image/gif","image/webp"]).includes(t.type))throw new Error("File type not allowed. Only image files are supported.");let i=t;t.type.startsWith("image/")&&(i=await vee(t,{maxSizeMB:2,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.9}));const o=Date.now(),l=Math.random().toString(36).substring(2,15),c=t.name.split(".").pop(),u=t.name.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9]/g,"_").substring(0,15),d=`id_${o}_${l}_${u}.${c}`,A=Il(Pl,`id-documents/${d}`),f={contentType:i.type,customMetadata:{originalName:t.name,uploadedAt:new Date().toISOString(),fileSize:i.size.toString(),documentType:"id_verification",uploadType:"customer_verification"}},h=await Ol(A,i,f);return{success:!0,url:await Fl(h.ref),filename:d,originalName:t.name,size:i.size,mimeType:i.type,path:`id-documents/${d}`,metadata:h.metadata,documentType:"id_verification"}}catch(n){throw console.error("ID document upload error:",n),new Error(`Upload failed: ${n.message}`)}},wee=()=>{const{user:t}=On(),[r,n]=te.useState(null),[s,i]=te.useState(!0),[o,l]=te.useState(!1),[c,u]=te.useState(null),[d,A]=te.useState(""),[f,h]=te.useState(""),[p,m]=te.useState(null),[g,b]=te.useState(null),[y,x]=te.useState(!1),[v,w]=te.useState({name:"",email:"",phone:"",address:{street:"",city:"",state:"",zipCode:"",country:""}});te.useEffect(()=>{t&&(_(),B())},[t]);const _=async()=>{try{const S=await fetch("http://localhost:10000/api/users/profile",{credentials:"include"});if(S.ok){const k=await S.json();n(k),w({name:k.name||"",email:k.email||"",phone:k.phone||"",address:k.address||{street:"",city:"",state:"",zipCode:"",country:""}})}}catch(S){console.error("Error fetching profile:",S)}finally{i(!1)}},B=async()=>{try{const S=await fetch("http://localhost:10000/api/users/verification-status",{credentials:"include"});if(S.ok){const k=await S.json();b(k)}}catch(S){console.error("Error fetching verification status:",S)}},N=async()=>{if(!p){A("Please select an ID or Passport image to upload");return}x(!0),A("");try{const S=await bee(p);if(!S.success){A("Failed to upload document to storage");return}const k=await fetch("http://localhost:10000/api/users/upload-verification",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({idDocumentUrl:S.url,originalName:S.originalName,size:S.size})});if(k.ok){const P=await k.json();h("Verification document uploaded successfully! Your request is under review."),m(null),await B(),await _()}else{const P=await k.json();A(P.error||"Failed to upload verification document")}}catch(S){console.error("Error uploading verification:",S),A("Upload failed. Please try again.")}finally{x(!1)}},j=S=>{switch(S){case"verified":return a.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"✓ Verified"});case"pending":return a.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium",children:"⏳ Under Review"});case"rejected":return a.jsx("span",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium",children:"✗ Rejected"});default:return a.jsx("span",{className:"bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-sm font-medium",children:"Not Verified"})}},C=async S=>{S.preventDefault(),i(!0),A(""),h("");try{let k=null;if(c){const H=await ts(c,{maxSizeMB:.5,maxWidthOrHeight:800,useWebWorker:!0}),F=ref(storage,`users/${Date.now()}_${c.name}`);await uploadBytes(F,H),k=await getDownloadURL(F)}const P={name:v.name,email:v.email,phone:v.phone,address:v.address,...k&&{profileImage:k}},M=await fetch("http://localhost:10000/api/users/profile",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(M.ok){const H=await M.json();n(H),l(!1),u(null),h("Profile updated successfully!")}else{const H=await M.json();A(H.error||"Failed to update profile")}}catch(k){console.error("Error updating profile:",k),A("Network error. Please try again.")}finally{i(!1)}},E=S=>{const{name:k,value:P}=S.target;if(k.startsWith("address.")){const M=k.split(".")[1];w(H=>({...H,address:{...H.address,[M]:P}}))}else w(M=>({...M,[k]:P}))};return t?s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black"})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-black text-white px-6 py-8",children:a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-600 rounded-full flex items-center justify-center",children:r!=null&&r.profileImage?a.jsx("img",{src:r.profileImage.startsWith("http")?r.profileImage:`http://localhost:10000${r.profileImage}`,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):a.jsx(Vl,{className:"w-12 h-12 text-gray-300"})}),o&&a.jsxs("label",{className:"absolute bottom-0 right-0 bg-white text-black p-2 rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:[a.jsx(TN,{className:"w-4 h-4"}),a.jsx("input",{type:"file",accept:"image/*",onChange:S=>u(S.target.files[0]),className:"hidden"})]})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:(r==null?void 0:r.name)||"User"}),a.jsx("p",{className:"text-gray-300 capitalize",children:(r==null?void 0:r.role)||"Customer"}),a.jsx("p",{className:"text-gray-300",children:r==null?void 0:r.email})]})]})}),a.jsxs("div",{className:"p-6",children:[d&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:d}),f&&a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:f}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile Information"}),a.jsx("button",{onClick:()=>l(!o),className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:o?"Cancel":"Edit Profile"})]}),o?a.jsxs("form",{onSubmit:C,className:"space-y-6",children:[c&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Profile Image"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:URL.createObjectURL(c),alt:"New profile",className:"w-16 h-16 rounded-full object-cover"}),a.jsx("button",{type:"button",onClick:()=>u(null),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),a.jsx("input",{type:"text",name:"name",value:v.name,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:v.email,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:v.phone,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),a.jsx("input",{type:"text",name:"address.street",value:v.address.street,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),a.jsx("input",{type:"text",name:"address.city",value:v.address.city,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),a.jsx("input",{type:"text",name:"address.state",value:v.address.state,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"address.zipCode",value:v.address.zipCode,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),a.jsx("input",{type:"text",name:"address.country",value:v.address.country,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",children:s?"Saving...":"Save Changes"})]})]}):a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Vl,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),a.jsx("p",{className:"font-medium",children:(r==null?void 0:r.name)||"Not provided"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Wl,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-medium",children:(r==null?void 0:r.email)||"Not provided"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(cd,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),a.jsx("p",{className:"font-medium",children:(r==null?void 0:r.phone)||"Not provided"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(ql,{className:"w-5 h-5 text-gray-400 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),a.jsx("p",{className:"font-medium",children:r!=null&&r.address?a.jsxs(a.Fragment,{children:[r.address.street&&a.jsxs(a.Fragment,{children:[r.address.street,a.jsx("br",{})]}),r.address.city&&r.address.state&&`${r.address.city}, ${r.address.state} `,r.address.zipCode,r.address.country&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),r.address.country]})]}):"Not provided"})]})]})]})})]}),a.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Document Verification"}),g&&j(g.verificationStatus)]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Upload your ID or Passport to enable Cash on Delivery payment option"})]}),a.jsxs("div",{className:"p-6",children:[(g==null?void 0:g.verificationStatus)==="verified"?a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-green-600 mr-3",children:"✓"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-800",children:"Your account is verified!"}),a.jsx("p",{className:"text-green-700 text-sm",children:"You can now use Cash on Delivery for your orders."})]})]})}):(g==null?void 0:g.verificationStatus)==="pending"?a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-yellow-600 mr-3",children:"⏳"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-yellow-800",children:"Verification in progress"}),a.jsx("p",{className:"text-yellow-700 text-sm",children:"Your document is under review. This usually takes 24-48 hours."}),g.submittedAt&&a.jsxs("p",{className:"text-yellow-700 text-xs mt-1",children:["Submitted: ",new Date(g.submittedAt).toLocaleDateString()]})]})]})}):(g==null?void 0:g.verificationStatus)==="rejected"?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-red-600 mr-3",children:"✗"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-red-800",children:"Verification rejected"}),a.jsx("p",{className:"text-red-700 text-sm",children:"Please upload a clear photo of your valid ID or Passport."})]})]})}):null,(!(g!=null&&g.verificationStatus)||(g==null?void 0:g.verificationStatus)==="unverified"||(g==null?void 0:g.verificationStatus)==="rejected")&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload ID or Passport Image"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:S=>m(S.target.files[0]),className:`block w-full text-sm text-gray-500\r
                          file:mr-4 file:py-2 file:px-4\r
                          file:rounded-lg file:border-0\r
                          file:text-sm file:font-medium\r
                          file:bg-black file:text-white\r
                          hover:file:bg-gray-800`}),a.jsx("button",{onClick:N,disabled:!p||y,className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Uploading...":"Upload"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Accepted formats: JPG, PNG, GIF. Maximum size: 5MB"})]}),p&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview:"}),a.jsx("img",{src:URL.createObjectURL(p),alt:"Document preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-200"})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:"Important:"})," Please ensure your document is clear and all details are visible. Once uploaded, your document will be locked until verification is complete."]})})]})]})]})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please log in to view your profile"})})})},jee=()=>{const[t,r]=te.useState(null),[n,s]=te.useState(null),i=c=>{var u,d,A,f,h,p,m,g,b,y,x,v,w,_,B,N,j,C,E,S,k,P,M,H,F,Q;return{usageInfo:c||{},errorInfo:null,planInfo:(c==null?void 0:c.plan)||"none",limitsInfo:(c==null?void 0:c.limits)||{},productsInfo:{count:((d=(u=c==null?void 0:c.usage)==null?void 0:u.products)==null?void 0:d.count)||0,images:((f=(A=c==null?void 0:c.usage)==null?void 0:A.products)==null?void 0:f.images)||0,limitReached:((p=(h=c==null?void 0:c.usage)==null?void 0:h.products)==null?void 0:p.limitReached)||!1,imageLimitReached:((g=(m=c==null?void 0:c.usage)==null?void 0:m.products)==null?void 0:g.imageLimitReached)||!1},servicesInfo:{count:((y=(b=c==null?void 0:c.usage)==null?void 0:b.services)==null?void 0:y.count)||0,images:((v=(x=c==null?void 0:c.usage)==null?void 0:x.services)==null?void 0:v.images)||0,limitReached:((_=(w=c==null?void 0:c.usage)==null?void 0:w.services)==null?void 0:_.limitReached)||!1,imageLimitReached:((N=(B=c==null?void 0:c.usage)==null?void 0:B.services)==null?void 0:N.imageLimitReached)||!1},headerImagesInfo:{count:((C=(j=c==null?void 0:c.usage)==null?void 0:j.headerImages)==null?void 0:C.count)||0,limitReached:((S=(E=c==null?void 0:c.usage)==null?void 0:E.headerImages)==null?void 0:S.limitReached)||!1},variantsInfo:{used:((P=(k=c==null?void 0:c.usage)==null?void 0:k.variants)==null?void 0:P.used)||!1,allowed:((H=(M=c==null?void 0:c.usage)==null?void 0:M.variants)==null?void 0:H.allowed)||!1,violated:((Q=(F=c==null?void 0:c.usage)==null?void 0:F.variants)==null?void 0:Q.violated)||!1}}},o=te.useCallback(async()=>{try{const c=await fetch("http://localhost:10000/api/users/usage-summary",{credentials:"include"});if(!c.ok)throw new Error("Failed to fetch usage summary");const u=await c.json();return r(u),i(u)}catch(c){return s(c.message),{usageInfo:{},errorInfo:c.message,planInfo:"none",limitsInfo:{},productsInfo:{count:0,images:0,limitReached:!1,imageLimitReached:!1},servicesInfo:{count:0,images:0,limitReached:!1,imageLimitReached:!1},headerImagesInfo:{count:0,limitReached:!1},variantsInfo:{used:!1,allowed:!1,violated:!1}}}},[]),l=te.useMemo(()=>i(t),[t]);return{...l,errorInfo:n||l.errorInfo,loadUsage:o}},bs="http://localhost:10000",ws=()=>(localStorage.getItem("token"),{"Content-Type":"application/json"}),js=async t=>{const r=await t.json();if(!t.ok)throw new Error(r.message||"API request failed");return r},ca={getSummary:async()=>{const t=await fetch(`${bs}/api/wallet/summary`,{credentials:"include",headers:ws()});return js(t)},getDetails:async()=>{const t=await fetch(`${bs}/api/wallet/details`,{credentials:"include",headers:ws()});return js(t)},getTransactions:async(t={})=>{const r=new URLSearchParams(t).toString(),n=await fetch(`${bs}/api/wallet/transactions?${r}`,{credentials:"include",headers:ws()});return js(n)},getAnalytics:async(t="month")=>{const r=await fetch(`${bs}/api/wallet/analytics?period=${t}`,{credentials:"include",headers:ws()});return js(r)},requestWithdrawal:async t=>{const r=await fetch(`${bs}/api/wallet/withdraw`,{method:"POST",credentials:"include",headers:ws(),body:JSON.stringify(t)});return js(r)},updateSettings:async t=>{const r=await fetch(`${bs}/api/wallet/settings`,{method:"PUT",credentials:"include",headers:ws(),body:JSON.stringify(t)});return js(r)},getBankDetails:async()=>{const t=await fetch(`${bs}/api/wallet/bank-details`,{credentials:"include",headers:ws()});return js(t)},updateBankDetails:async t=>{const r=await fetch(`${bs}/api/wallet/bank-details`,{method:"PUT",credentials:"include",headers:ws(),body:JSON.stringify(t)});return js(r)},submitBankChangeRequest:async t=>{const r=await fetch(`${bs}/api/wallet/bank-details/change-request`,{method:"POST",credentials:"include",headers:ws(),body:JSON.stringify(t)});return js(r)},getBankChangeRequests:async()=>{const t=await fetch(`${bs}/api/wallet/bank-details/change-requests`,{credentials:"include",headers:ws()});return js(t)},cancelBankChangeRequest:async t=>{const r=await fetch(`${bs}/api/wallet/bank-details/change-request/${t}`,{method:"DELETE",credentials:"include",headers:ws()});return js(r)},getCreditPackages:async()=>{const t=await fetch(`${bs}/api/wallet/credits/packages`,{credentials:"include",headers:ws()});return js(t)},purchaseCredits:async t=>{const r=await fetch(`${bs}/api/wallet/credits/purchase`,{method:"POST",credentials:"include",headers:ws(),body:JSON.stringify({packageId:t})});return js(r)},getCredits:async(t=1,r=10)=>{const n=await fetch(`${bs}/api/wallet/credits?page=${t}&limit=${r}`,{credentials:"include",headers:ws()});return js(n)}},vw={getPendingWithdrawals:async(t={})=>{const r=new URLSearchParams(t).toString(),n=await fetch(`${bs}/api/admin/withdrawals/pending?${r}`,{credentials:"include",headers:ws()});return js(n)},getAllWithdrawals:async(t={})=>{const r=new URLSearchParams(t).toString(),n=await fetch(`${bs}/api/admin/withdrawals?${r}`,{credentials:"include",headers:ws()});return js(n)},processWithdrawal:async(t,r)=>{const n=await fetch(`${bs}/api/admin/withdrawals/${t}/process`,{method:"PUT",credentials:"include",headers:ws(),body:JSON.stringify(r)});return js(n)},getAnalytics:async(t={})=>{const r=new URLSearchParams(t).toString(),n=await fetch(`${bs}/api/admin/analytics?${r}`,{credentials:"include",headers:ws()});return js(n)}},bw={revealContact:async(t,r=null)=>{const n=await fetch(`${bs}/api/stores/${t}/reveal-contact`,{method:"POST",credentials:"include",headers:ws(),body:JSON.stringify({recaptchaToken:r})});return js(n)},canReveal:async t=>{const r=await fetch(`${bs}/api/stores/${t}/can-reveal`,{credentials:"include",headers:ws()});return js(r)},getMyReveals:async(t=1,r=10)=>{const n=await fetch(`${bs}/api/my-reveals?page=${t}&limit=${r}`,{credentials:"include",headers:ws()});return js(n)},getStoreReveals:async(t,r="month",n=1,s=20)=>{const i=await fetch(`${bs}/api/stores/${t}/reveals?period=${r}&page=${n}&limit=${s}`,{credentials:"include",headers:ws()});return js(i)}},tS=()=>{var Y;const{user:t}=On(),[r,n]=te.useState(null),[s,i]=te.useState(null),[o,l]=te.useState([]),[c,u]=te.useState(null),[d,A]=te.useState(null),[f,h]=te.useState(null),[p,m]=te.useState([]),[g,b]=te.useState(!0),[y,x]=te.useState(null),v=te.useCallback(async()=>{try{const V=await ca.getSummary();return i(V.data),V.data}catch(V){throw x(V.message),V}},[]),w=te.useCallback(async()=>{try{const V=await ca.getDetails();return n(V.data),A(V.data.settings),V.data}catch(V){throw x(V.message),V}},[]),_=te.useCallback(async(V={})=>{try{const I=await ca.getTransactions(V);return l(I.data.transactions),I.data}catch(I){throw x(I.message),I}},[]),B=te.useCallback(async(V="month")=>{try{const I=await ca.getAnalytics(V);return u(I.data),I.data}catch(I){throw x(I.message),I}},[]),N=te.useCallback(async(V=1,I=10)=>{try{const O=await ca.getCredits(V,I);return h(O.data),O.data}catch(O){throw x(O.message),O}},[]),j=te.useCallback(async()=>{try{const V=await ca.getCreditPackages();return m(V.data.packages||[]),V.data}catch(V){throw x(V.message),V}},[]),C=async V=>{var I,O;try{const R=await ca.purchaseCredits(V);return await Promise.all([v(),w(),N(),j()]),R}catch(R){throw new Error(((O=(I=R.response)==null?void 0:I.data)==null?void 0:O.message)||"Credit purchase failed")}},E=async(V,I)=>{var O,R;try{const U=await ca.requestWithdrawal({amount:V,bankAccountId:I});return await Promise.all([v(),w(),_()]),U}catch(U){throw new Error(((R=(O=U.response)==null?void 0:O.data)==null?void 0:R.message)||"Withdrawal request failed")}},S=async V=>{var I,O;try{const R=await ca.updateSettings(V);return A(R.data),await w(),R}catch(R){throw new Error(((O=(I=R.response)==null?void 0:I.data)==null?void 0:O.message)||"Settings update failed")}},k=te.useCallback(async()=>{if(!t||t.role!=="store_owner"){b(!1);return}try{b(!0),x(null),await Promise.all([v(),w(),_(),B(),N(),j()])}catch(V){x(V.message)}finally{b(!1)}},[t,v,w,_,B,N,j]),P=async V=>{var I,O;try{return(await bw.canReveal(V)).data}catch(R){throw new Error(((O=(I=R.response)==null?void 0:I.data)==null?void 0:O.message)||"Failed to check reveal eligibility")}},M=async(V,I=null)=>{var O,R;try{const U=await bw.revealContact(V,I);return await Promise.all([v(),w(),N()]),U}catch(U){throw new Error(((R=(O=U.response)==null?void 0:O.data)==null?void 0:R.message)||"Contact reveal failed")}},H=async(V=1,I=10)=>{var O,R;try{return(await bw.getMyReveals(V,I)).data}catch(U){throw new Error(((R=(O=U.response)==null?void 0:O.data)==null?void 0:R.message)||"Failed to fetch reveal history")}};te.useEffect(()=>{t&&t.role==="store_owner"?k():(n(null),i(null),l([]),u(null),A(null),h(null),m([]),x(null),b(!1))},[t,k]);const F=(r==null?void 0:r.canWithdraw)||!1,Q=(r==null?void 0:r.monthlyGrowth)||0,K=((Y=r==null?void 0:r.metadata)==null?void 0:Y.walletStatus)||"active";return{wallet:r,summary:s,transactions:o,analytics:c,settings:d,credits:f,creditPackages:p,loading:g,error:y,canWithdraw:F,monthlyGrowth:Q,walletStatus:K,fetchSummary:v,fetchWalletDetails:w,fetchTransactions:_,fetchAnalytics:B,requestWithdrawal:E,updateSettings:S,refreshWalletData:k,fetchCredits:N,fetchCreditPackages:j,purchaseCredits:C,canRevealContact:P,revealContact:M,getMyReveals:H,clearError:()=>x(null),setError:x}},Nee=()=>{var z,G,J;const{user:t}=On(),[r,n]=te.useState(null),[s,i]=te.useState({totalProducts:0,totalServices:0,totalOrders:0,totalBookings:0,totalEarnings:0}),{usageInfo:o,errorInfo:l,loadUsage:c,planInfo:u,limitsInfo:d,productsInfo:A,servicesInfo:f,headerImagesInfo:h,variantsInfo:p}=jee(),{wallet:m,summary:g,analytics:b,loading:y}=tS(),[x,v]=te.useState([]),[w,_]=te.useState([]),[B,N]=te.useState(null),[j,C]=te.useState([]),[E,S]=te.useState([]),[k,P]=te.useState(!0),[M,H]=te.useState(null),[F,Q]=te.useState(!1),[K,Y]=te.useState(null),V=Hs();te.useEffect(()=>{(t==null?void 0:t.role)==="store_owner"&&(t!=null&&t.storeId?I():V("/create-store"))},[t]);const I=async()=>{var ee,fe;P(!0),c();try{if(t.storeId){const X=await fetch(`http://localhost:10000/api/stores/${t.storeId}`,{credentials:"include"});if(X.ok){const ie=await X.json();if(n(ie.store),((ee=ie.store)==null?void 0:ee.type)==="product"){const re=await fetch(`http://localhost:10000/api/products?storeId=${t.storeId}`,{credentials:"include"});if(re.ok){const ve=await re.json();C(ve),i(ke=>({...ke,totalProducts:ve.length}))}else C([])}else if(((fe=ie.store)==null?void 0:fe.type)==="service"){const re=await fetch(`http://localhost:10000/api/services?storeId=${t.storeId}`,{credentials:"include"});if(re.ok){const ve=await re.json();S(ve),i(ke=>({...ke,totalServices:ve.length}))}else S([])}}else n(null)}else n(null);const de=await fetch("http://localhost:10000/api/orders/store",{credentials:"include"});if(de.ok){const X=await de.json();v(X.slice(0,5)),i(ie=>({...ie,totalOrders:X.length}))}else v([]);const ae=await fetch("http://localhost:10000/api/bookings/store",{credentials:"include"});if(ae.ok){const X=await ae.json();_(X.slice(0,5)),i(ie=>({...ie,totalBookings:X.length}))}else _([]);const xe=await fetch("http://localhost:10000/api/subscriptions/my-subscription",{credentials:"include"});if(xe.ok){const X=await xe.json();N(X.subscription)}else N(null)}catch(de){console.error("Unexpected error fetching dashboard data:",de)}finally{P(!1)}},O=ee=>{var fe,de,ae,xe;H({...ee,price:((fe=ee.price)==null?void 0:fe.toString())||"",stock:((de=ee.stock)==null?void 0:de.toString())||"",variants:{colors:((ae=ee.variants)==null?void 0:ae.colors)||[],sizes:((xe=ee.variants)==null?void 0:xe.sizes)||[]}}),Q(!0)},R=async ee=>{var fe,de,ae,xe;ee.preventDefault();try{const X={title:M.title,description:M.description,price:M.price,category:M.category,...(r==null?void 0:r.type)==="product"?{stock:M.stock,...((de=(fe=M.variants)==null?void 0:fe.colors)==null?void 0:de.length)>0||((xe=(ae=M.variants)==null?void 0:ae.sizes)==null?void 0:xe.length)>0?{variants:M.variants}:{}}:{duration:M.duration,priceType:M.priceType||"fixed"}},ie=(r==null?void 0:r.type)==="product"?"products":"services";(await fetch(`http://localhost:10000/api/${ie}/${M._id}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)})).ok?(I(),Q(!1),H(null),alert(`${(r==null?void 0:r.type)==="product"?"Product":"Service"} updated successfully!`)):alert(`Failed to update ${(r==null?void 0:r.type)==="product"?"product":"service"}`)}catch(X){console.error("Error updating item:",X),alert(`Error updating ${(r==null?void 0:r.type)==="product"?"product":"service"}`)}},U=async(ee,fe)=>{if(confirm(`Are you sure you want to delete this ${fe}?`)){Y(ee);try{(await fetch(`http://localhost:10000/api/${fe==="product"?"products":"services"}/${ee}`,{method:"DELETE",credentials:"include"})).ok?(fe==="product"?C(j.filter(xe=>xe._id!==ee)):S(E.filter(xe=>xe._id!==ee)),alert(`${fe.charAt(0).toUpperCase()+fe.slice(1)} deleted successfully!`)):alert(`Failed to delete ${fe}`)}catch(de){console.error(`Error deleting ${fe}:`,de),alert(`Error deleting ${fe}`)}finally{Y(null)}}};if(!t||t.role!=="store_owner")return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You need to be a store owner to access this page"}),a.jsx($t,{to:"/create-store",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Create Store"})]})});if(k)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(_s,{size:"xl"})});const T=(r==null?void 0:r.type)==="product"?["Electronics","Clothing","Home & Garden","Sports & Outdoors","Books","Beauty & Health","Toys & Games","Food & Beverages"]:["Tutoring","Home Services","Beauty & Wellness","Consulting","Fitness","Technology","Creative Services","Professional Services"];return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Store Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:r?`Welcome back to ${r.name}`:"Manage your store"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[!r&&a.jsxs($t,{to:"/create-store",className:"bg-black text-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[a.jsx(Eo,{className:"w-8 h-8 text-white"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-white",children:"Create Store"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Start your business"})]})]}),(r==null?void 0:r.type)==="product"&&a.jsxs(a.Fragment,{children:[a.jsxs($t,{to:"/create-product",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[a.jsx(Eo,{className:"w-8 h-8 text-black"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Add Product"}),A.limitReached?a.jsx("p",{className:"text-sm text-red-500",children:"Reched max products"}):a.jsx("p",{className:"text-sm text-gray-500",children:"Create new product"})]})]}),a.jsxs($t,{to:"/orders",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[a.jsx(Fi,{className:"w-8 h-8 text-black"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"View Orders"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage orders"})]})]})]}),(r==null?void 0:r.type)==="service"&&a.jsxs(a.Fragment,{children:[a.jsxs($t,{to:"/create-service",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[a.jsx(Es,{className:"w-8 h-8 text-black"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Add Service"}),f.limitReached?a.jsx("p",{className:"text-sm text-red-500",children:"Reched max services"}):a.jsx("p",{className:"text-sm text-gray-500",children:"Create new service"})]})]}),a.jsxs($t,{to:"/bookings",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[a.jsx(zl,{className:"w-8 h-8 text-black"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"View Bookings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage bookings"})]})]})]}),a.jsxs($t,{to:"/wallet-dashboard",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[a.jsx(xA,{className:"w-8 h-8 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Wallet & Credits"}),a.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[a.jsxs("p",{children:["Balance: ",g?Lr(g.availableBalance):"Loading..."]}),a.jsxs("p",{children:["Credits: ",((z=g==null?void 0:g.credits)==null?void 0:z.balance)||0]})]})]})]}),a.jsxs($t,{to:"/store-management",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[a.jsx(p1,{className:"w-8 h-8 text-black"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Store Settings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage store"})]})]}),a.jsxs($t,{to:`/store/${r._id}`,className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[a.jsx(li,{className:"w-8 h-8 text-black"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"View My Store"}),a.jsx("p",{className:"text-sm text-gray-500",children:r.name})]})]})]}),a.jsxs("div",{className:"relative w-full rounded-3xl px-8 py-6 mb-6 bg-gradient-to-br from-gray-50 via-white to-gray-100 border-2 border-gray-200 shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-black via-gray-600 to-black"}),a.jsx("div",{className:"absolute top-4 right-4 w-12 h-12 border-2 border-gray-300 rounded-full opacity-20"}),a.jsx("div",{className:"absolute top-6 right-6 w-8 h-8 border-2 border-gray-400 rounded-full opacity-30"}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-2 h-2 bg-black rounded-full"}),a.jsx("h3",{className:"text-xl font-light text-black tracking-wide",children:B?"Package Management":"Subscription Required"})]}),a.jsx("div",{className:"space-y-2 text-gray-700",children:B?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-600 font-light",children:"Current Plan:"}),a.jsx("span",{className:"font-medium text-black bg-gray-200 px-3 py-1 rounded-full text-sm tracking-wide",children:B.package.toUpperCase()})]}),a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-600 font-light",children:"Status:"}),a.jsx("span",{className:`font-medium text-sm tracking-wide ${B.status==="active"?"text-green-600":"text-red-600"}`,children:B.status.toUpperCase()})]}),a.jsxs("p",{className:"text-gray-600 font-light",children:[a.jsx("span",{className:"font-medium text-black",children:"Expires:"})," ",new Date(B.endDate).toLocaleDateString()]}),a.jsxs("p",{className:"text-gray-600 font-light",children:[a.jsx("span",{className:"font-medium text-black",children:"Monthly Fee:"})," ",Lr(B.amount)]}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed max-w-md",children:"Upgrade anytime to unlock more features. Downgrades are available after one month from your last update."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-600 font-light",children:"Subscription Status:"}),a.jsx("span",{className:"font-medium text-red-600 text-sm tracking-wide",children:"PENDING"})]}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed max-w-md",children:"A subscription is required to sell your products or services on AIO."})]})})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsx($t,{to:"/sub-management",children:a.jsxs("button",{className:"bg-black text-white px-6 py-3 rounded-xl font-medium hover:bg-gray-800 transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg flex items-center gap-2 group",children:[a.jsx("span",{children:B?"Manage Plan":"Get Subscription"}),a.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),a.jsx("span",{className:"text-xs text-gray-500 font-light",children:B?"Instant activation":"Quick setup"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(r==null?void 0:r.type)==="product"&&a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Orders"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalOrders})]}),a.jsx(Fi,{className:"w-8 h-8 text-blue-500"})]})}),(r==null?void 0:r.type)==="service"&&a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Bookings"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalBookings})]}),a.jsx(Es,{className:"w-8 h-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Earnings"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Lr(g&&g.totalEarnings||0)}),(g==null?void 0:g.monthlyGrowth)!==void 0&&a.jsxs("p",{className:`text-sm ${g.monthlyGrowth>=0?"text-green-600":"text-red-600"}`,children:[g.monthlyGrowth>=0?"+":"",g.monthlyGrowth.toFixed(1),"% this month"]})]}),a.jsx(hA,{className:"w-8 h-8 text-yellow-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Store Rating"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(r==null?void 0:r.rating)||0})]}),a.jsx(Hl,{className:"w-8 h-8 text-purple-500"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(r==null?void 0:r.type)==="product"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Manage Products"}),a.jsx($t,{to:"/create-product",className:"text-black hover:text-gray-700 text-sm",children:"Add New"})]}),j.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Fi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No products yet"}),a.jsx($t,{to:"/create-product",className:"text-black hover:text-gray-700 text-sm",children:"Create your first product"})]}):a.jsxs("div",{className:"space-y-4",children:[j.slice(0,5).map(ee=>{var fe;return a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:(fe=ee.images)!=null&&fe[0]?ee.images[0].startsWith("http")?ee.images[0]:`http://localhost:10000${ee.images[0]}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:ee.title,className:"w-12 h-12 object-cover rounded"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:ee.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Lr(ee.price)," • ",ee.stock," in stock"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($t,{to:`/product/${ee._id}`,className:"text-blue-600 hover:text-blue-800 p-1",children:a.jsx(Zn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>O(ee),className:"text-green-600 hover:text-green-800 p-1",children:a.jsx(vh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>U(ee._id,"product"),disabled:K===ee._id,className:"text-red-600 hover:text-red-800 p-1 disabled:opacity-50",children:a.jsx(bh,{className:"w-4 h-4"})})]})]})},ee._id)}),j.length>5&&a.jsx("div",{className:"text-center",children:a.jsxs($t,{to:"/manage-products",className:"text-black hover:text-gray-700 text-sm",children:["View all ",j.length," products"]})})]})]}),(r==null?void 0:r.type)==="service"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Manage Services"}),a.jsx($t,{to:"/create-service",className:"text-black hover:text-gray-700 text-sm",children:"Add New"})]}),E.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Es,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No services yet"}),a.jsx($t,{to:"/create-service",className:"text-black hover:text-gray-700 text-sm",children:"Create your first service"})]}):a.jsxs("div",{className:"space-y-4",children:[E.slice(0,5).map(ee=>{var fe;return a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:(fe=ee.images)!=null&&fe[0]?ee.images[0].startsWith("http")?ee.images[0]:`http://localhost:10000${ee.images[0]}`:"https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop",alt:ee.title,className:"w-12 h-12 object-cover rounded"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:ee.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Lr(ee.price)," • ",ee.duration," ","min"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($t,{to:`/service/${ee._id}`,className:"text-blue-600 hover:text-blue-800 p-1",children:a.jsx(Zn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>O(ee),className:"text-green-600 hover:text-green-800 p-1",children:a.jsx(vh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>U(ee._id,"service"),disabled:K===ee._id,className:"text-red-600 hover:text-red-800 p-1 disabled:opacity-50",children:a.jsx(bh,{className:"w-4 h-4"})})]})]})},ee._id)}),E.length>5&&a.jsx("div",{className:"text-center",children:a.jsxs($t,{to:"/manage-services",className:"text-black hover:text-gray-700 text-sm",children:["View all ",E.length," services"]})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"}),a.jsx($t,{to:(r==null?void 0:r.type)==="product"?"/orders":"/bookings",className:"text-black hover:text-gray-700 text-sm",children:"View All"})]}),((r==null?void 0:r.type)==="product"?x:w).length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recent activity"}):a.jsx("div",{className:"space-y-4",children:((r==null?void 0:r.type)==="product"?x:w).map(ee=>{var fe,de;return a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:(r==null?void 0:r.type)==="product"?`Order #${ee._id.slice(-6)}`:((fe=ee.serviceId)==null?void 0:fe.title)||"Service"}),a.jsx("p",{className:"text-sm text-gray-500",children:((de=ee.customerId)==null?void 0:de.name)||"Customer"}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date(ee.createdAt).toLocaleDateString()})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:Lr(ee.totalAmount)}),a.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${ee.status==="pending"?"bg-yellow-100 text-yellow-800":ee.status==="confirmed"||ee.status==="processing"?"bg-blue-100 text-blue-800":ee.status==="completed"||ee.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ee.status})]})]})},ee._id)})})]})]}),F&&M&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Edit ",(r==null?void 0:r.type)==="product"?"Product":"Service"]}),a.jsx("button",{onClick:()=>Q(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),a.jsx("input",{type:"text",value:M.title,onChange:ee=>H({...M,title:ee.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:M.description,onChange:ee=>H({...M,description:ee.target.value}),rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (LKR)"}),a.jsx("input",{type:"number",value:M.price,onChange:ee=>H({...M,price:ee.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"0",step:"0.01"})]}),(r==null?void 0:r.type)==="product"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity"}),a.jsx("input",{type:"number",value:M.stock,onChange:ee=>H({...M,stock:ee.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"0"})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:M.duration,onChange:ee=>H({...M,duration:ee.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"15",step:"15"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),a.jsxs("select",{value:M.category,onChange:ee=>H({...M,category:ee.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,children:[a.jsx("option",{value:"",children:"Select a category"}),T.map(ee=>a.jsx("option",{value:ee,children:ee},ee))]})]}),(r==null?void 0:r.type)==="service"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Type"}),a.jsxs("select",{value:M.priceType||"fixed",onChange:ee=>H({...M,priceType:ee.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[a.jsx("option",{value:"fixed",children:"Fixed Price"}),a.jsx("option",{value:"hourly",children:"Hourly Rate"})]})]}),(r==null?void 0:r.type)==="product"&&d.itemVariants&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Variants"}),(((G=M==null?void 0:M.variants)==null?void 0:G.colors)||[]).map((ee,fe)=>a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Color Name",value:ee.name,onChange:de=>{const ae=[...M.variants.colors];ae[fe].name=de.target.value,H(xe=>({...xe,variants:{...xe.variants,colors:ae}}))},className:"border border-gray-300 rounded px-2 py-1"}),a.jsx("input",{type:"color",value:ee.hex,onChange:de=>{const ae=[...M.variants.colors];ae[fe].hex=de.target.value,H(xe=>({...xe,variants:{...xe.variants,colors:ae}}))},className:"w-10 h-10 border"}),a.jsx("button",{type:"button",onClick:()=>{const de=M.variants.colors.filter((ae,xe)=>xe!==fe);H(ae=>({...ae,variants:{...ae.variants,colors:de}}))},className:"text-red-500 hover:underline",children:"Remove"})]},fe)),a.jsx("button",{type:"button",onClick:()=>{H(ee=>({...ee,variants:{...ee.variants,colors:[...ee.variants.colors||[],{name:"",hex:"#000000"}]}}))},className:"text-blue-500 hover:underline mt-2",children:"+ Add Color"})]}),(r==null?void 0:r.type)==="product"&&d.itemVariants&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Size Variants"}),(((J=M==null?void 0:M.variants)==null?void 0:J.sizes)||[]).map((ee,fe)=>a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Size Name",value:ee.name,onChange:de=>{const ae=[...M.variants.sizes];ae[fe].name=de.target.value,H(xe=>({...xe,variants:{...xe.variants,sizes:ae}}))},className:"border border-gray-300 rounded px-2 py-1"}),a.jsxs("select",{value:ee.inStock?"true":"false",onChange:de=>{const ae=[...M.variants.sizes];ae[fe].inStock=de.target.value==="true",H(xe=>({...xe,variants:{...xe.variants,sizes:ae}}))},className:"border border-gray-300 rounded px-2 py-1",children:[a.jsx("option",{value:"true",children:"In Stock"}),a.jsx("option",{value:"false",children:"Out of Stock"})]}),a.jsx("button",{type:"button",onClick:()=>{const de=M.variants.sizes.filter((ae,xe)=>xe!==fe);H(ae=>({...ae,variants:{...ae.variants,sizes:de}}))},className:"text-red-500 hover:underline",children:"Remove"})]},fe)),a.jsx("button",{type:"button",onClick:()=>{H(ee=>({...ee,variants:{...ee.variants,sizes:[...ee.variants.sizes||[],{name:"",inStock:!0}]}}))},className:"text-blue-500 hover:underline mt-2",children:"+ Add Size"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>Q(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsxs("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800",children:["Update ",(r==null?void 0:r.type)==="product"?"Product":"Service"]})]})]})]})})})]})})},VP=({selectedPackage:t,setSelectedPackage:r,isUpgrade:n=!1})=>{const[s,i]=te.useState({}),[o,l]=te.useState(!0),c={basic:{label:"Basic",bg:"bg-white",border:"border-gray-200",textColor:"text-gray-700",priceText:u=>`LKR ${u.toLocaleString()}/month`},standard:{label:"Standard",bg:"bg-black",border:"border-black",textColor:"text-white",priceText:u=>`LKR ${u.toLocaleString()}/month`},premium:{label:"Premium",bg:"bg-gradient-to-br from-gray-900 to-black",border:"border-gray-800",textColor:"text-white",priceText:u=>`LKR ${u.toLocaleString()}/month`}};return te.useEffect(()=>{(async()=>{try{const d=await fetch("http://localhost:10000/api/packages",{credentials:"include"});if(!d.ok)throw new Error("Failed to fetch packages");const A=await d.json();i(A)}catch(d){console.error("Error:",d)}finally{l(!1)}})()},[]),o?a.jsx("section",{className:"py-12 px-4 flex justify-center items-center min-h-[200px] bg-white",children:a.jsx("div",{className:"w-10 h-10 border-4 border-t-transparent border-black rounded-full animate-spin"})}):a.jsx("section",{className:"py-14 px-4 bg-white",children:a.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-light text-black mb-4",children:n?"Upgrade Your Package":"Choose Your Package"}),a.jsx("p",{className:"text-lg md:text-xl text-gray-600 mb-12 font-light",children:n?"Select a new plan that fits your growing needs":"Elegant solutions for every business need"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.length===0?a.jsx("p",{className:"col-span-3 text-gray-500 text-center",children:"No packages available."}):s.map((u,d)=>{const A=c[u.name]||{bg:"bg-white",border:"border-gray-200",textColor:"text-gray-700"},f=t===u.name,h=u.name==="standard";return a.jsxs("div",{className:"relative pt-6",children:[h&&a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 bg-black text-white text-xs md:text-sm font-medium px-4 py-1.5 rounded-full shadow-md z-10 select-none",children:"★ Most Popular"}),a.jsxs("div",{onClick:()=>r(u.name),className:`cursor-pointer ${A.bg} ${A.textColor} border-2 rounded-2xl px-6 py-6 flex flex-col justify-between transition-all duration-300 hover:shadow-xl ${f?"border-black scale-[1.02] shadow-2xl":A.border}`,children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg md:text-xl font-light mb-2 tracking-wide text-center",children:A.label??u.name}),a.jsx("p",{className:"text-2xl font-thin mb-4 text-center break-words",children:A.priceText?A.priceText(u.amount):u.amount}),a.jsx("ul",{className:"text-sm space-y-2 text-left",children:(u.features||[]).map((p,m)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:`mr-2 mt-0.5 ${u.name==="basic"?"text-gray-600":"text-white"}`,children:"✓"}),a.jsx("span",{className:"font-light leading-snug",children:p})]},m))})]}),a.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),r(u.name)},className:`mt-6 w-full font-medium py-2.5 rounded-lg text-sm transition-all duration-200 ${f?"bg-black text-white":u.name==="basic"?"bg-black text-white hover:bg-gray-800":"bg-white text-black hover:bg-gray-100 border border-gray-300"}`,children:f?"Selected":"Get Started"})]})]},d)})})]})})},See=()=>{const[t,r]=te.useState({name:"",type:"product",description:"",themeColor:"#000000",contactInfo:{email:"",phone:"",address:""}}),[n,s]=te.useState([]),[i,o]=te.useState([]),[l,c]=te.useState([]),[u,d]=te.useState(!1),[A,f]=te.useState(""),[h,p]=te.useState(!0),[m,g]=te.useState(!1),[b,y]=te.useState("basic");te.useState({});const{user:x,refreshUser:v}=On(),w=Hs();te.useEffect(()=>{x&&(x.role==="store_owner"&&x.storeId?w("/dashboard"):p(!1))},[x,w]),te.useEffect(()=>{if(window.payhere)g(!0);else{const j=document.createElement("script");j.src="https://payhere.lk/lib/payhere.js",j.async=!0,j.onload=()=>g(!0),j.onerror=()=>{console.error("PayHere SDK failed to load"),g(!1)},document.body.appendChild(j)}},[]);const _=async j=>{j.preventDefault(),d(!0),f("");try{if(n.length<2)throw new Error("Please upload both front and back of your identity card.");if(i.length<1)throw new Error("Please upload your address verification document.");const C={maxSizeMB:.5,maxWidthOrHeight:800,useWebWorker:!0},E=await Promise.all(n.map(async F=>{const Q=await ts(F,C),K=Il(Pl,`documents/id_${Date.now()}_${F.name}`);return await Ol(K,Q),Fl(K)})),S=await Promise.all(i.map(async F=>{const Q=await ts(F,C),K=Il(Pl,`documents/address_${Date.now()}_${F.name}`);return await Ol(K,Q),Fl(K)})),k={name:t.name,type:t.type,description:t.description,themeColor:t.themeColor,contactInfo:t.contactInfo,timeSlots:l,idImages:E,addressVerificationImages:S},P=await fetch("http://localhost:10000/api/stores",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!P.ok){const F=await P.json();throw new Error(F.error||"Failed to create store")}const M=await fetch("http://localhost:10000/api/subscriptions/create-subscription",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageName:b})});if(!M.ok)return alert("Store created, but failed to start subscription. Please contact support."),await v(),w("/dashboard");const{paymentParams:H}=await M.json();await B(H),alert("Subscription payment successful!"),await v(),w("/dashboard")}catch(C){console.error("Error:",C),f(C.message||"Something went wrong. Please try again.")}finally{d(!1)}},B=j=>new Promise((C,E)=>{if(!window.payhere)return alert("Payment gateway not loaded. Please refresh and try again."),E(new Error("PayHere SDK not loaded"));window.payhere.onCompleted=function(S){console.log("✅ Payment completed. Order ID:",S),C(S)},window.payhere.onDismissed=function(){alert("Payment was cancelled."),E(new Error("Payment cancelled"))},window.payhere.onError=function(S){console.error("❌ PayHere error:",S),alert("Payment failed. Please try again."),E(new Error("Payment error: "+S))},console.log("▶️ Starting PayHere payment with:",j),window.payhere.startPayment(j)}),N=j=>{const{name:C,value:E}=j.target;if(C.startsWith("contactInfo.")){const S=C.split(".")[1];r(k=>({...k,contactInfo:{...k.contactInfo,[S]:E}}))}else r({...t,[C]:E})};return h?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(_s,{size:"xl"})}):x?x.role==="customer"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md",children:[a.jsx(li,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Upgrade to Store Owner"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"You need a store owner account to create a store. Please create a new store owner account."}),a.jsx($t,{to:"/register",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Create Store Owner Account"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"text-white px-8 py-8",style:{backgroundColor:t.themeColor},children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create Your Store"}),a.jsx("p",{className:"opacity-90",children:"Start your entrepreneurial journey with AIO"})]}),a.jsx("div",{className:"p-8",children:a.jsxs("form",{onSubmit:_,className:"space-y-8",children:[A&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:A}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"What type of store do you want to create?"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("button",{type:"button",onClick:()=>r({...t,type:"product"}),className:`p-6 rounded-xl border-2 text-left transition-all hover:shadow-md ${t.type==="product"?"border-black bg-black text-white":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx(Fi,{className:"w-8 h-8 mb-3"}),a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Product Store"}),a.jsx("p",{className:"text-sm opacity-80",children:"Sell physical products with inventory management and shipping"})]}),a.jsxs("button",{type:"button",onClick:()=>r({...t,type:"service"}),className:`p-6 rounded-xl border-2 text-left transition-all hover:shadow-md ${t.type==="service"?"border-black bg-black text-white":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx(Es,{className:"w-8 h-8 mb-3"}),a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Service Store"}),a.jsx("p",{className:"text-sm opacity-80",children:"Offer services with booking, scheduling, and appointment management"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Name *"}),a.jsx("input",{type:"text",name:"name",value:t.name,onChange:N,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Enter your store name"})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Description *"}),a.jsx("textarea",{name:"description",value:t.description,onChange:N,required:!0,rows:4,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Describe your store and what you offer to customers"})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(ql,{className:"w-5 h-5"}),a.jsx("span",{children:"Contact Information"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center space-x-2",children:[a.jsx(Wl,{className:"w-4 h-4"}),a.jsx("span",{children:"Email"})]}),a.jsx("input",{type:"email",name:"contactInfo.email",value:t.contactInfo.email,onChange:N,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"store@example.com"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center space-x-2",children:[a.jsx(cd,{className:"w-4 h-4"}),a.jsx("span",{children:"Phone"})]}),a.jsx("input",{type:"tel",name:"contactInfo.phone",value:t.contactInfo.phone,onChange:N,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"+94 77 123 4567"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),a.jsx("textarea",{name:"contactInfo.address",value:t.contactInfo.address,onChange:N,required:!0,rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"123 Main Street, Colombo, Sri Lanka"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Identity Verification *"}),a.jsx(Xd,{images:n,onImagesChange:s,maxImages:2,multiple:!0,className:"mb-6",idPrefix:"id"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Upload both front and back of your identity card (max 2 images)."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Verification Document *"}),a.jsx(Xd,{images:i,onImagesChange:o,maxImages:1,multiple:!1,idPrefix:"address"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Upload a utility bill or document that verifies your address."})]}),a.jsx(VP,{selectedPackage:b,setSelectedPackage:y}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>w("/"),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:u,className:"bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[u&&a.jsx(_s,{size:"sm"}),a.jsx("span",{children:u?"Creating Store...":"Create Store"})]})]})]})})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to create a store"}),a.jsx($t,{to:"/login",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Login"})]})})},Bee="data:image/png;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAITwAAAV8AAgAAAAEAAAG1AAAGmgAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAQAAAAEAAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAgAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAIAW1kYXQSAAoGGB3//8JUMo0NEBAAAEAA3Zi2xeiNW1VrWMZmcmAH/0vkDa5nJLN/LOrCZkY8oib8XG+p/6x416j0TK61Hg0MpvGquL5Fv8e97yGgQ/bULG/VQ+9K8BNlWdlCDbaNNfI/44o5Bb/SiiDzk4kbYFxJHIP6y8x+Qvx++CtEi+BxZKwClqMPv4vlh/lF4qynoFz1R9HFLjPesESo36AAq8B54/OHp+eFn8TDdHpMmrnk4Sdfz////9pmnxzYAA94DaawTj9fmG+8tuYoAWRMG+SSWRYv288yX5XdtAyqecWUAAXswQzXGysz/wGA1hxp2y2kypz5H+K5/+08ztWfWaYIAAFOPyUw4ivumBZgAAmdvn5JmMzMI69mlemAXv9Br4mV4kMOCYzrUoIU8nbndpllj5G1Hf///+seAAHcwWdp2+jRDZ3Ttt+H8B9ell84ANRHUYTeBtyfh514qTL/oAK63Mq0BTs2ZINGE4wHYrJoVnqw5ymYKtGBJ8B48jSaGKzkUvsEVoAwAHLrqIyCTEnXkWDBEUSqDiwEVmzwuhXkTP5OZil/Lpyj5e2ADGD4DU/6JuHiw1u2OlvuEhNiz8zOsKnDMfKa1XnK2s0Teq5Usl1PMOeQOWvs98jpRgiP3x8fYc0wPQBa0Vd3+senst+lA7smdAzwhwM8SI+msCn0Yr2/a6PppqXEX7eFfdzf7SlRzsYvS2uqwUjgaVjTgR4dTIC6++A4pp+B3Y29H3RtV5XU5aWlBEhFkb0dj6VJz6Lu8raFKAPwL+dUuWd3y0GvpaR4U38apcBp0d/eKO8CrAPaJZ/5DAbydN2OrlDPmA3If55GZTdtZ4Hz1hmszvl1C4qG8tb4MdVYKkabH4op2RS9Sduzf9zKRoUk3/fc3jbNvhHpVaPoIFTO7JEvl4a9l0D1muhB6eBCmNMRAuhUGeubHm3cjAJUVe1mJYky24pBjWU8BNNMuRms6rBGE5YgcGxi29F1+vEwOXU4ogXkuwPa/UEjSip7eQOJFFP2PclUwzkRy83GbPlCSekzvSfBrQV2LF2VRbRg3X8ZcVujAZO4jer22K1P1lGcS9pzqzwOrJOvb+OHtVToWIAGDEhSEvgV5teSIb8USljwrbnYn7am8O1MmceL2qjBk8HRo+6LBZBf+cAIP0naP6IOKqZi7T/y35LfNl+BXxM3ERL7B7ATa6h/7UdcKL7A6QS6qcaUBuOxusALFOkeclzihRtRDeGBDaThYjv/Y+OnjpZNhwzuvq/48XChS8YmegRW0Dl7GRislwDusiXZdOfPPIIWbdTpMF8wObaU2MQl4MfE6M0L7lNDhyUfK8edHD6+FSB4XpwqkucdaN/Ba8haPG3RuiTdzsHXR+m2cCvKyBkbym+7iIcLrr6QZYIXz0kNRzR0qqiHXBllrDcbhwAz8DjTDtjQ6MssJXy3/KhUCmpjRVt8tethxEYzIBPXhY/GsxCSV/UD4hJCyo497NbYhuZhe3WkD/RY2PqZeAN/G84TY+TdRHkn8AG7c4Fh4Ma/ROA9nBwGTSNAFvbduN1DPheU99N+Gz3ANbj0NmuVk4Ds3lRE4G3suxm44ZYtz4kAF7QPiVREwonhzURJ/nnE+jnBfnD6T3v+XLcfxbQMd09hTlDadS/Sh3OztUJylNyw9yefDuUJM5JjBhzzGghNIzIcWOWd1J/f1wWoGm3s41WLouEemPdZ6QnKos82a0MtZoX5FSgXdIiOfiyhoaAW0Q2lw46Rv0cAQYeDYfgg+5agOHT+3oMCj8sTd3sn1BcDwRxTbCIDM3gIPz3dFkUhjy/2h9QNIlSukS0m8qCIkPp2oIxWGcw3J59KC3ENEkSTbdTOG4471IKqfc5uruwQW0X5EvxcebYqNIK3U8PnuYqLQ8AZdwI2ssHDC7cDGEkXgDOYb6VDGHRVBveGRiRV2FdT3WOLciz/+QbxL/96+WD/jaT1Nf0r5asAYuEqUoqGX2eT6wvWUQYd+05RIqrx210LLY4ND67Ei0ENs5bbDDZTmH9D7x0SYABZuUX1j0L6PW2u878saZjahZQ/3cVa5lfDQlowtgCdkAib8mW8pN/rz6OK1mja68iLMtebT3cKgODmVLU+yUwFEaaDqVkQdCnJWZgF8sgfThMwSCUc6CN6QSyGeWK+ollGKHB5GeyjTgLKUzVtn5N9g5qECr0nYdqw8AReh7TXXjQ28rrDzu7S0KvMaOKmf60+8nkL0w7/V3gj17NOY+XAEgAKBxgd///CAIAy0QIRcAFFFFEgggDCcPS+3v0QllAQdVAFq2WKLpkNhmF9O1JtKt6J+TCFcsB8fkbiS2DaBOrxx8S3L8UeykSVY/IdjwWVgZEBEQQJxpbdn3ekEF/34AbJFc8Kwbz/fXRZoW7JOj8cx/uT9Up45byl5SSTSe0sEnhYGItdZW3ZyDgI5/UgLKkoIMdhalmnig1D1qsZhgUoilR4480K9Wixi1MXWUROvaXyzPwfx0ygBQBdAQ75i984l1ZsZTsqGHHLtz7BnSpOsU/C67ZczI0BBZu9UEvpFGG1pAzJ2J+p7hO31ajTANPM4lujmn/nIF5VlPQifzyySdBzSnm6DzafEtR1EOu065EVQv6XzO3yru8EGyteGVT1H8NKWN9pxKZ4Su+xebVi2+6gPGhssHLBPbMBNFWW44FxdmjHmbvzZyoBQtyTXv1XqIYcUfz7liScuShA",Cee="data:image/png;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAITwAAArsAAgAAAAEAAAG1AAAGmgAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAQAAAAEAAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAgAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAJXW1kYXQSAAoGGB3//8JUMo0NEBAAAEAA3Zi2xeiNW1VrWMZmcmAH/0vkDa5nJLN/LOrCZkY8oib8XG+p/6x416j0TK61Hg0MpvGquL5Fv8e97yGgQ/bULG/VQ+9K8BNlWdlCDbaNNfI/44o5Bb/SiiDzk4kbYFxJHIP6y8x+Qvx++CtEi+BxZKwClqMPv4vlh/lF4qynoFz1R9HFLjPesESo36AAq8B54/OHp+eFn8TDdHpMmrnk4Sdfz////9pmnxzYAA94DaawTj9fmG+8tuYoAWRMG+SSWRYv288yX5XdtAyqecWUAAXswQzXGysz/wGA1hxp2y2kypz5H+K5/+08ztWfWaYIAAFOPyUw4ivumBZgAAmdvn5JmMzMI69mlemAXv9Br4mV4kMOCYzrUoIU8nbndpllj5G1Hf///+seAAHcwWdp2+jRDZ3Ttt+H8B9ell84ANRHUYTeBtyfh514qTL/oAK63Mq0BTs2ZINGE4wHYrJoVnqw5ymYKtGBJ8B48jSaGKzkUvsEVoAwAHLrqIyCTEnXkWDBEUSqDiwEVmzwuhXkTP5OZil/Lpyj5e2ADGD4DU/6JuHiw1u2OlvuEhNiz8zOsKnDMfKa1XnK2s0Teq5Usl1PMOeQOWvs98jpRgiP3x8fYc0wPQBa0Vd3+senst+lA7smdAzwhwM8SI+msCn0Yr2/a6PppqXEX7eFfdzf7SlRzsYvS2uqwUjgaVjTgR4dTIC6++A4pp+B3Y29H3RtV5XU5aWlBEhFkb0dj6VJz6Lu8raFKAPwL+dUuWd3y0GvpaR4U38apcBp0d/eKO8CrAPaJZ/5DAbydN2OrlDPmA3If55GZTdtZ4Hz1hmszvl1C4qG8tb4MdVYKkabH4op2RS9Sduzf9zKRoUk3/fc3jbNvhHpVaPoIFTO7JEvl4a9l0D1muhB6eBCmNMRAuhUGeubHm3cjAJUVe1mJYky24pBjWU8BNNMuRms6rBGE5YgcGxi29F1+vEwOXU4ogXkuwPa/UEjSip7eQOJFFP2PclUwzkRy83GbPlCSekzvSfBrQV2LF2VRbRg3X8ZcVujAZO4jer22K1P1lGcS9pzqzwOrJOvb+OHtVToWIAGDEhSEvgV5teSIb8USljwrbnYn7am8O1MmceL2qjBk8HRo+6LBZBf+cAIP0naP6IOKqZi7T/y35LfNl+BXxM3ERL7B7ATa6h/7UdcKL7A6QS6qcaUBuOxusALFOkeclzihRtRDeGBDaThYjv/Y+OnjpZNhwzuvq/48XChS8YmegRW0Dl7GRislwDusiXZdOfPPIIWbdTpMF8wObaU2MQl4MfE6M0L7lNDhyUfK8edHD6+FSB4XpwqkucdaN/Ba8haPG3RuiTdzsHXR+m2cCvKyBkbym+7iIcLrr6QZYIXz0kNRzR0qqiHXBllrDcbhwAz8DjTDtjQ6MssJXy3/KhUCmpjRVt8tethxEYzIBPXhY/GsxCSV/UD4hJCyo497NbYhuZhe3WkD/RY2PqZeAN/G84TY+TdRHkn8AG7c4Fh4Ma/ROA9nBwGTSNAFvbduN1DPheU99N+Gz3ANbj0NmuVk4Ds3lRE4G3suxm44ZYtz4kAF7QPiVREwonhzURJ/nnE+jnBfnD6T3v+XLcfxbQMd09hTlDadS/Sh3OztUJylNyw9yefDuUJM5JjBhzzGghNIzIcWOWd1J/f1wWoGm3s41WLouEemPdZ6QnKos82a0MtZoX5FSgXdIiOfiyhoaAW0Q2lw46Rv0cAQYeDYfgg+5agOHT+3oMCj8sTd3sn1BcDwRxTbCIDM3gIPz3dFkUhjy/2h9QNIlSukS0m8qCIkPp2oIxWGcw3J59KC3ENEkSTbdTOG4471IKqfc5uruwQW0X5EvxcebYqNIK3U8PnuYqLQ8AZdwI2ssHDC7cDGEkXgDOYb6VDGHRVBveGRiRV2FdT3WOLciz/+QbxL/96+WD/jaT1Nf0r5asAYuEqUoqGX2eT6wvWUQYd+05RIqrx210LLY4ND67Ei0ENs5bbDDZTmH9D7x0SYABZuUX1j0L6PW2u878saZjahZQ/3cVa5lfDQlowtgCdkAib8mW8pN/rz6OK1mja68iLMtebT3cKgODmVLU+yUwFEaaDqVkQdCnJWZgF8sgfThMwSCUc6CN6QSyGeWK+ollGKHB5GeyjTgLKUzVtn5N9g5qECr0nYdqw8AReh7TXXjQ28rrDzu7S0KvMaOKmf60+8nkL0w7/V3gj17NOY+XAEgAKBxgd///CAIAyrQURcAFFFFEgggDdK/p6yJP0BatKhUDrO8OemK4E8kBh82f1uz4y0q8NgrS4AnUAB0Q7DufkWZR3Qs9KxQaMkgBHnfyf6ol8ei1tK2Mkbvwhdd4DholEw9a34nvkf2dTcmcDBmmBdLwL/6no6+gxAQYJAZqcAXxwa8Vqdkmt/dO0ufNSl4Kha3hgOhxyOky9ZyBzishyH+yL5vXZlADFLF0lQa0PLSB1suIGCUnzBvqEi0hYPMnFD4mr2iT0YlVRsaHrSY5UrFrACWhkpxOpTG40Mo8JgFaWvkNX/yGoQhJq4KFBGybjYQfIaJgUykKQmlayaZZeeWvpkROX0ACDV4ooLOzw+HeGdVM1jDaLllzOUsTQNX+nkHXMkmtJQK4kESSdpM2ucUebcFxu3KfAPypvX7BwAAACbUMYOn4dQN48QqHmP1U7Mnk7uAQyz2kC6zqxSSK5xWCYk1L5VgqncHewxSxmt88r01GW7XdRDG1eIQWGNhKkyQpzm38rq4QD9pigjYNJ5oCW8u2ZBJM9YvHUp/AoqWYNmCHtTycQXTG+r5y3P8F88FM6AH2od0y3NVgS0cmaz73SkMMp7fQQHC9xwcvv/5qoHtxPYcPddOpfoKcPvsqFNrV2iNg+kzNGmEqSRjLhHnQrzspk1SYQVZRsbw6FXwrhR87AZmmpP07vzfVNKRaJr+1iWlpAwDi5ItiGPnOThbxLiFixNh3GxuAM0THdggBwsGeaba4aoAe8ZtqfUvo10+eR+iLL2xY4PPwDfbmf/8yiGAFSkG7w0Uc/xy60zJIdboFapWwXwC/cukAJe2D77gu6QVUhgThoIW2muvJxM0/FNpTt1PlTpEYNVw2kEREM+cKGgW4ZIhZtq9qsXiWvzEa4zXbsd94OdChwfCTTCsGcKiT27fOg",_ee="data:image/png;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAITwAAAgIAAgAAAAEAAAG1AAAGmgAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAQAAAAEAAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAgAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAIpG1kYXQSAAoGGB3//8JUMo0NEBAAAEAA3Zi2xeiNW1VrWMZmcmAH/0vkDa5nJLN/LOrCZkY8oib8XG+p/6x416j0TK61Hg0MpvGquL5Fv8e97yGgQ/bULG/VQ+9K8BNlWdlCDbaNNfI/44o5Bb/SiiDzk4kbYFxJHIP6y8x+Qvx++CtEi+BxZKwClqMPv4vlh/lF4qynoFz1R9HFLjPesESo36AAq8B54/OHp+eFn8TDdHpMmrnk4Sdfz////9pmnxzYAA94DaawTj9fmG+8tuYoAWRMG+SSWRYv288yX5XdtAyqecWUAAXswQzXGysz/wGA1hxp2y2kypz5H+K5/+08ztWfWaYIAAFOPyUw4ivumBZgAAmdvn5JmMzMI69mlemAXv9Br4mV4kMOCYzrUoIU8nbndpllj5G1Hf///+seAAHcwWdp2+jRDZ3Ttt+H8B9ell84ANRHUYTeBtyfh514qTL/oAK63Mq0BTs2ZINGE4wHYrJoVnqw5ymYKtGBJ8B48jSaGKzkUvsEVoAwAHLrqIyCTEnXkWDBEUSqDiwEVmzwuhXkTP5OZil/Lpyj5e2ADGD4DU/6JuHiw1u2OlvuEhNiz8zOsKnDMfKa1XnK2s0Teq5Usl1PMOeQOWvs98jpRgiP3x8fYc0wPQBa0Vd3+senst+lA7smdAzwhwM8SI+msCn0Yr2/a6PppqXEX7eFfdzf7SlRzsYvS2uqwUjgaVjTgR4dTIC6++A4pp+B3Y29H3RtV5XU5aWlBEhFkb0dj6VJz6Lu8raFKAPwL+dUuWd3y0GvpaR4U38apcBp0d/eKO8CrAPaJZ/5DAbydN2OrlDPmA3If55GZTdtZ4Hz1hmszvl1C4qG8tb4MdVYKkabH4op2RS9Sduzf9zKRoUk3/fc3jbNvhHpVaPoIFTO7JEvl4a9l0D1muhB6eBCmNMRAuhUGeubHm3cjAJUVe1mJYky24pBjWU8BNNMuRms6rBGE5YgcGxi29F1+vEwOXU4ogXkuwPa/UEjSip7eQOJFFP2PclUwzkRy83GbPlCSekzvSfBrQV2LF2VRbRg3X8ZcVujAZO4jer22K1P1lGcS9pzqzwOrJOvb+OHtVToWIAGDEhSEvgV5teSIb8USljwrbnYn7am8O1MmceL2qjBk8HRo+6LBZBf+cAIP0naP6IOKqZi7T/y35LfNl+BXxM3ERL7B7ATa6h/7UdcKL7A6QS6qcaUBuOxusALFOkeclzihRtRDeGBDaThYjv/Y+OnjpZNhwzuvq/48XChS8YmegRW0Dl7GRislwDusiXZdOfPPIIWbdTpMF8wObaU2MQl4MfE6M0L7lNDhyUfK8edHD6+FSB4XpwqkucdaN/Ba8haPG3RuiTdzsHXR+m2cCvKyBkbym+7iIcLrr6QZYIXz0kNRzR0qqiHXBllrDcbhwAz8DjTDtjQ6MssJXy3/KhUCmpjRVt8tethxEYzIBPXhY/GsxCSV/UD4hJCyo497NbYhuZhe3WkD/RY2PqZeAN/G84TY+TdRHkn8AG7c4Fh4Ma/ROA9nBwGTSNAFvbduN1DPheU99N+Gz3ANbj0NmuVk4Ds3lRE4G3suxm44ZYtz4kAF7QPiVREwonhzURJ/nnE+jnBfnD6T3v+XLcfxbQMd09hTlDadS/Sh3OztUJylNyw9yefDuUJM5JjBhzzGghNIzIcWOWd1J/f1wWoGm3s41WLouEemPdZ6QnKos82a0MtZoX5FSgXdIiOfiyhoaAW0Q2lw46Rv0cAQYeDYfgg+5agOHT+3oMCj8sTd3sn1BcDwRxTbCIDM3gIPz3dFkUhjy/2h9QNIlSukS0m8qCIkPp2oIxWGcw3J59KC3ENEkSTbdTOG4471IKqfc5uruwQW0X5EvxcebYqNIK3U8PnuYqLQ8AZdwI2ssHDC7cDGEkXgDOYb6VDGHRVBveGRiRV2FdT3WOLciz/+QbxL/96+WD/jaT1Nf0r5asAYuEqUoqGX2eT6wvWUQYd+05RIqrx210LLY4ND67Ei0ENs5bbDDZTmH9D7x0SYABZuUX1j0L6PW2u878saZjahZQ/3cVa5lfDQlowtgCdkAib8mW8pN/rz6OK1mja68iLMtebT3cKgODmVLU+yUwFEaaDqVkQdCnJWZgF8sgfThMwSCUc6CN6QSyGeWK+ollGKHB5GeyjTgLKUzVtn5N9g5qECr0nYdqw8AReh7TXXjQ28rrDzu7S0KvMaOKmf60+8nkL0w7/V3gj17NOY+XAEgAKBxgd///CAIAy9AMRcAFFFFEgggDdK/p7kt6OfHFQ577VU23esHQITcCYIwNIaqRi2Zmmmz/K9Nq8/i4XBsJcdb63bZyu12BWP2BgIMM+O8sA/lvlS6eMd52JKb7jouJrgZCy1ogDUPkSCQ+XAAYNCTLAVbW2wE8BXLXWH+F1pnNMUXpkDfn4b/9kXuNiAtvPve34fiMJEpYJqYD7CGE2bWyEWUEvxl6pKyoUhdQpPCUFA094A1LIZpClT3g8+QeKvGKNfuYnA+p3ZJK/61a7JMHbI5SOdYkRH7b+ybaIIvTDKw+3GTEspEp8KQWX1D08MR093rVcHxpzF8K6Yn5I3eyoUWMKMDhfVFthBOaS0GjZdIJ9kqLgSFEhKCKTPs6IOmp77d5oFCof7dZsz8eUCAAdghEf36s0tqtVOtAxeoSkELJqmwZJjaG+G12Q/BZha1Mc8quxpuopkg8uEz3qk4tv3XI1sgvOzQakXm1JUyapUKgSI8kBDlrCAZqu0/3naB1bHB5q3JdPGI3hv7qCOM87QYvbHolQHeu3WF2P3SmJ+CVDoxTxeuLHbHrxbqRG5sSbnL/MxmYWz/7GXFwvJaWsrqw1QkgT9luKK6BIjQuqZ5MQnoHlZqnj9j1btQElnB4kGfKPlvjhz25zj3fDpSdNfoheWr1Cv3GSL/P4gA==",Eee="data:image/png;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAITwAAArIAAgAAAAEAAAG1AAAGmgAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAQAAAAEAAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAgAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAJVG1kYXQSAAoGGB3//8JUMo0NEBAAAEAA3Zi2xeiNW1VrWMZmcmAH/0vkDa5nJLN/LOrCZkY8oib8XG+p/6x416j0TK61Hg0MpvGquL5Fv8e97yGgQ/bULG/VQ+9K8BNlWdlCDbaNNfI/44o5Bb/SiiDzk4kbYFxJHIP6y8x+Qvx++CtEi+BxZKwClqMPv4vlh/lF4qynoFz1R9HFLjPesESo36AAq8B54/OHp+eFn8TDdHpMmrnk4Sdfz////9pmnxzYAA94DaawTj9fmG+8tuYoAWRMG+SSWRYv288yX5XdtAyqecWUAAXswQzXGysz/wGA1hxp2y2kypz5H+K5/+08ztWfWaYIAAFOPyUw4ivumBZgAAmdvn5JmMzMI69mlemAXv9Br4mV4kMOCYzrUoIU8nbndpllj5G1Hf///+seAAHcwWdp2+jRDZ3Ttt+H8B9ell84ANRHUYTeBtyfh514qTL/oAK63Mq0BTs2ZINGE4wHYrJoVnqw5ymYKtGBJ8B48jSaGKzkUvsEVoAwAHLrqIyCTEnXkWDBEUSqDiwEVmzwuhXkTP5OZil/Lpyj5e2ADGD4DU/6JuHiw1u2OlvuEhNiz8zOsKnDMfKa1XnK2s0Teq5Usl1PMOeQOWvs98jpRgiP3x8fYc0wPQBa0Vd3+senst+lA7smdAzwhwM8SI+msCn0Yr2/a6PppqXEX7eFfdzf7SlRzsYvS2uqwUjgaVjTgR4dTIC6++A4pp+B3Y29H3RtV5XU5aWlBEhFkb0dj6VJz6Lu8raFKAPwL+dUuWd3y0GvpaR4U38apcBp0d/eKO8CrAPaJZ/5DAbydN2OrlDPmA3If55GZTdtZ4Hz1hmszvl1C4qG8tb4MdVYKkabH4op2RS9Sduzf9zKRoUk3/fc3jbNvhHpVaPoIFTO7JEvl4a9l0D1muhB6eBCmNMRAuhUGeubHm3cjAJUVe1mJYky24pBjWU8BNNMuRms6rBGE5YgcGxi29F1+vEwOXU4ogXkuwPa/UEjSip7eQOJFFP2PclUwzkRy83GbPlCSekzvSfBrQV2LF2VRbRg3X8ZcVujAZO4jer22K1P1lGcS9pzqzwOrJOvb+OHtVToWIAGDEhSEvgV5teSIb8USljwrbnYn7am8O1MmceL2qjBk8HRo+6LBZBf+cAIP0naP6IOKqZi7T/y35LfNl+BXxM3ERL7B7ATa6h/7UdcKL7A6QS6qcaUBuOxusALFOkeclzihRtRDeGBDaThYjv/Y+OnjpZNhwzuvq/48XChS8YmegRW0Dl7GRislwDusiXZdOfPPIIWbdTpMF8wObaU2MQl4MfE6M0L7lNDhyUfK8edHD6+FSB4XpwqkucdaN/Ba8haPG3RuiTdzsHXR+m2cCvKyBkbym+7iIcLrr6QZYIXz0kNRzR0qqiHXBllrDcbhwAz8DjTDtjQ6MssJXy3/KhUCmpjRVt8tethxEYzIBPXhY/GsxCSV/UD4hJCyo497NbYhuZhe3WkD/RY2PqZeAN/G84TY+TdRHkn8AG7c4Fh4Ma/ROA9nBwGTSNAFvbduN1DPheU99N+Gz3ANbj0NmuVk4Ds3lRE4G3suxm44ZYtz4kAF7QPiVREwonhzURJ/nnE+jnBfnD6T3v+XLcfxbQMd09hTlDadS/Sh3OztUJylNyw9yefDuUJM5JjBhzzGghNIzIcWOWd1J/f1wWoGm3s41WLouEemPdZ6QnKos82a0MtZoX5FSgXdIiOfiyhoaAW0Q2lw46Rv0cAQYeDYfgg+5agOHT+3oMCj8sTd3sn1BcDwRxTbCIDM3gIPz3dFkUhjy/2h9QNIlSukS0m8qCIkPp2oIxWGcw3J59KC3ENEkSTbdTOG4471IKqfc5uruwQW0X5EvxcebYqNIK3U8PnuYqLQ8AZdwI2ssHDC7cDGEkXgDOYb6VDGHRVBveGRiRV2FdT3WOLciz/+QbxL/96+WD/jaT1Nf0r5asAYuEqUoqGX2eT6wvWUQYd+05RIqrx210LLY4ND67Ei0ENs5bbDDZTmH9D7x0SYABZuUX1j0L6PW2u878saZjahZQ/3cVa5lfDQlowtgCdkAib8mW8pN/rz6OK1mja68iLMtebT3cKgODmVLU+yUwFEaaDqVkQdCnJWZgF8sgfThMwSCUc6CN6QSyGeWK+ollGKHB5GeyjTgLKUzVtn5N9g5qECr0nYdqw8AReh7TXXjQ28rrDzu7S0KvMaOKmf60+8nkL0w7/V3gj17NOY+XAEgAKBxgd///CAIAypAURcAFFFFEgggDdK/p8qpczqgG/MdaJ0Z73psRKev/IIMjMfw//nx4BtxPQtMWtNfuYOdPayZnMguvvYKaOaVFzr7TNe3VpyXthd+PlLiX31rP7BFOOuA6IViyAHkoI9LYQqmiYK/N4Rk3gTR5DK295GwsvRIDNTgC8cvO9N9QWABVVZ5td7h0B7WtdsZqIf/bvlU+haete2S7//ZF7jYgD6TjrxtBQokv25pUZIdbvvOOk2NZivOmciINrf9XLwa+MFviInzB5Eiw3THDDZrCU666t5Xo5Qing81MAjLGH5Seep78KK4AMLeJ8S+XSBADIRdw/yM3ZtmNbPvNNweA5AUpklYLob1G40S9sQzhMYxsZ3tbLbC9epn5d9SUn+uIkgSJE1swNCDBP9v5ddpzbJUDvcW4YZbeSfkoas3T39TFV0E51XfBhU3+OQM2XevSH66v3jRhCW4fQY7mvRk5E1M2QhaPwUmsuYUZjhnUfJUVcA/38PMx0Y1VT5abQ2MgF4CjovDY/in8+6LRVE++K4fqU/MGRvo7I16kb260IfM1IFv3PzoGpO1KZ7gKcwS4boE+A+S/G5Ur9CAvBqHYmgb0wzPh3THgGoteL0kg9sj1AgpJh18ENS5zoBltIS1EMxY0X2Kz7S2ZFogpcBJsGkLDDgWhSMVL8A2mNIu1QV+E6Ri3Pa2+94FN+a+WNP5dO9/WQzJRHrcGuy6SFfN6MztJ+H2nUOYkQsU4jyfQmSzAQs3fPYAPk5+geuCF2NBnzdoAeRInPPwNqelCCK7SPVOGeIrxbws4L5WcA9jEkTv/G/vvr6F8U8rCh7gRg8J7MRU33e0EennLaCtntoTaNLIFFsnAYKw93nh1fLRl3Q1qiYKwym0OrIClROcBzwx9qaexy",kee="data:image/png;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAITwAAAhYAAgAAAAEAAAG1AAAGmgAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAQAAAAEAAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAgAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAIuG1kYXQSAAoGGB3//8JUMo0NEBAAAEAA3Zi2xeiNW1VrWMZmcmAH/0vkDa5nJLN/LOrCZkY8oib8XG+p/6x416j0TK61Hg0MpvGquL5Fv8e97yGgQ/bULG/VQ+9K8BNlWdlCDbaNNfI/44o5Bb/SiiDzk4kbYFxJHIP6y8x+Qvx++CtEi+BxZKwClqMPv4vlh/lF4qynoFz1R9HFLjPesESo36AAq8B54/OHp+eFn8TDdHpMmrnk4Sdfz////9pmnxzYAA94DaawTj9fmG+8tuYoAWRMG+SSWRYv288yX5XdtAyqecWUAAXswQzXGysz/wGA1hxp2y2kypz5H+K5/+08ztWfWaYIAAFOPyUw4ivumBZgAAmdvn5JmMzMI69mlemAXv9Br4mV4kMOCYzrUoIU8nbndpllj5G1Hf///+seAAHcwWdp2+jRDZ3Ttt+H8B9ell84ANRHUYTeBtyfh514qTL/oAK63Mq0BTs2ZINGE4wHYrJoVnqw5ymYKtGBJ8B48jSaGKzkUvsEVoAwAHLrqIyCTEnXkWDBEUSqDiwEVmzwuhXkTP5OZil/Lpyj5e2ADGD4DU/6JuHiw1u2OlvuEhNiz8zOsKnDMfKa1XnK2s0Teq5Usl1PMOeQOWvs98jpRgiP3x8fYc0wPQBa0Vd3+senst+lA7smdAzwhwM8SI+msCn0Yr2/a6PppqXEX7eFfdzf7SlRzsYvS2uqwUjgaVjTgR4dTIC6++A4pp+B3Y29H3RtV5XU5aWlBEhFkb0dj6VJz6Lu8raFKAPwL+dUuWd3y0GvpaR4U38apcBp0d/eKO8CrAPaJZ/5DAbydN2OrlDPmA3If55GZTdtZ4Hz1hmszvl1C4qG8tb4MdVYKkabH4op2RS9Sduzf9zKRoUk3/fc3jbNvhHpVaPoIFTO7JEvl4a9l0D1muhB6eBCmNMRAuhUGeubHm3cjAJUVe1mJYky24pBjWU8BNNMuRms6rBGE5YgcGxi29F1+vEwOXU4ogXkuwPa/UEjSip7eQOJFFP2PclUwzkRy83GbPlCSekzvSfBrQV2LF2VRbRg3X8ZcVujAZO4jer22K1P1lGcS9pzqzwOrJOvb+OHtVToWIAGDEhSEvgV5teSIb8USljwrbnYn7am8O1MmceL2qjBk8HRo+6LBZBf+cAIP0naP6IOKqZi7T/y35LfNl+BXxM3ERL7B7ATa6h/7UdcKL7A6QS6qcaUBuOxusALFOkeclzihRtRDeGBDaThYjv/Y+OnjpZNhwzuvq/48XChS8YmegRW0Dl7GRislwDusiXZdOfPPIIWbdTpMF8wObaU2MQl4MfE6M0L7lNDhyUfK8edHD6+FSB4XpwqkucdaN/Ba8haPG3RuiTdzsHXR+m2cCvKyBkbym+7iIcLrr6QZYIXz0kNRzR0qqiHXBllrDcbhwAz8DjTDtjQ6MssJXy3/KhUCmpjRVt8tethxEYzIBPXhY/GsxCSV/UD4hJCyo497NbYhuZhe3WkD/RY2PqZeAN/G84TY+TdRHkn8AG7c4Fh4Ma/ROA9nBwGTSNAFvbduN1DPheU99N+Gz3ANbj0NmuVk4Ds3lRE4G3suxm44ZYtz4kAF7QPiVREwonhzURJ/nnE+jnBfnD6T3v+XLcfxbQMd09hTlDadS/Sh3OztUJylNyw9yefDuUJM5JjBhzzGghNIzIcWOWd1J/f1wWoGm3s41WLouEemPdZ6QnKos82a0MtZoX5FSgXdIiOfiyhoaAW0Q2lw46Rv0cAQYeDYfgg+5agOHT+3oMCj8sTd3sn1BcDwRxTbCIDM3gIPz3dFkUhjy/2h9QNIlSukS0m8qCIkPp2oIxWGcw3J59KC3ENEkSTbdTOG4471IKqfc5uruwQW0X5EvxcebYqNIK3U8PnuYqLQ8AZdwI2ssHDC7cDGEkXgDOYb6VDGHRVBveGRiRV2FdT3WOLciz/+QbxL/96+WD/jaT1Nf0r5asAYuEqUoqGX2eT6wvWUQYd+05RIqrx210LLY4ND67Ei0ENs5bbDDZTmH9D7x0SYABZuUX1j0L6PW2u878saZjahZQ/3cVa5lfDQlowtgCdkAib8mW8pN/rz6OK1mja68iLMtebT3cKgODmVLU+yUwFEaaDqVkQdCnJWZgF8sgfThMwSCUc6CN6QSyGeWK+ollGKHB5GeyjTgLKUzVtn5N9g5qECr0nYdqw8AReh7TXXjQ28rrDzu7S0KvMaOKmf60+8nkL0w7/V3gj17NOY+XAEgAKBxgd///CAIAyiAQRcAFFFFEgggDdK/p7nMeaKOIbg0cki5ct8bNIQcorS+/Orv7ULoLi2OA+TEMxOyBxHm/PVd3xUlpXZGdgrhEdISqyP9wq2RDspZg/0Zy6263J6fLgTgr3AUWUufA1neY70rjWIJO3E11507bJQztPZyT0iVJFkmkyoeX0biqZdanBVBBzNquuZbBx/78AI6Nd6ryaYKHtXTCCKUbKUvQ/ta2Fg0pj/8kvscd5kaMnWMEq6KhbSo/gXtDyZ0Y4ayXLM500z/Ese+BmT+TPDpzuH499eJ/euqsG2rf/wCRK7XGEMzoU9eJ5XEU+JJE69Wm7z7VWEIhziVVd46PUTdemeWT3Stc0DI/jm+BzV7pbNeQN5dHFn9qFQ+MQCBBhfzd/gcAqmADqPtU7yPLwHH0SCQi5A3qKWAIXF6k0SWESgeZM/d+S3m+HOnc6hq5HD7nqDUHehmgK/pnI23vsLn6NqjFAcAf5u47SQ3YY8Hjvxa1t3cY0BCVIcfu5qAMqvYP5LLUy5D3KAUe56Z3FxEjHbn/Oox/d/XQCaOjar+GE0DTJG3T5anUcCZrFv+uFr/2d542uNdy55TWlU+LcDhTBCoxHcYbk+8Zz3i9si2IQLrV56/Umgmy5B3yz/PssNraV4c50eRSXQoXhbS0JuqTdrxM3MQW2TT/zZePQKY5jkQXJeKYL/YPN",Tee="data:image/png;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAITwAAAdwAAgAAAAEAAAG1AAAGmgAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAQAAAAEAAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAgAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAIfm1kYXQSAAoGGB3//8JUMo0NEBAAAEAA3Zi2xeiNW1VrWMZmcmAH/0vkDa5nJLN/LOrCZkY8oib8XG+p/6x416j0TK61Hg0MpvGquL5Fv8e97yGgQ/bULG/VQ+9K8BNlWdlCDbaNNfI/44o5Bb/SiiDzk4kbYFxJHIP6y8x+Qvx++CtEi+BxZKwClqMPv4vlh/lF4qynoFz1R9HFLjPesESo36AAq8B54/OHp+eFn8TDdHpMmrnk4Sdfz////9pmnxzYAA94DaawTj9fmG+8tuYoAWRMG+SSWRYv288yX5XdtAyqecWUAAXswQzXGysz/wGA1hxp2y2kypz5H+K5/+08ztWfWaYIAAFOPyUw4ivumBZgAAmdvn5JmMzMI69mlemAXv9Br4mV4kMOCYzrUoIU8nbndpllj5G1Hf///+seAAHcwWdp2+jRDZ3Ttt+H8B9ell84ANRHUYTeBtyfh514qTL/oAK63Mq0BTs2ZINGE4wHYrJoVnqw5ymYKtGBJ8B48jSaGKzkUvsEVoAwAHLrqIyCTEnXkWDBEUSqDiwEVmzwuhXkTP5OZil/Lpyj5e2ADGD4DU/6JuHiw1u2OlvuEhNiz8zOsKnDMfKa1XnK2s0Teq5Usl1PMOeQOWvs98jpRgiP3x8fYc0wPQBa0Vd3+senst+lA7smdAzwhwM8SI+msCn0Yr2/a6PppqXEX7eFfdzf7SlRzsYvS2uqwUjgaVjTgR4dTIC6++A4pp+B3Y29H3RtV5XU5aWlBEhFkb0dj6VJz6Lu8raFKAPwL+dUuWd3y0GvpaR4U38apcBp0d/eKO8CrAPaJZ/5DAbydN2OrlDPmA3If55GZTdtZ4Hz1hmszvl1C4qG8tb4MdVYKkabH4op2RS9Sduzf9zKRoUk3/fc3jbNvhHpVaPoIFTO7JEvl4a9l0D1muhB6eBCmNMRAuhUGeubHm3cjAJUVe1mJYky24pBjWU8BNNMuRms6rBGE5YgcGxi29F1+vEwOXU4ogXkuwPa/UEjSip7eQOJFFP2PclUwzkRy83GbPlCSekzvSfBrQV2LF2VRbRg3X8ZcVujAZO4jer22K1P1lGcS9pzqzwOrJOvb+OHtVToWIAGDEhSEvgV5teSIb8USljwrbnYn7am8O1MmceL2qjBk8HRo+6LBZBf+cAIP0naP6IOKqZi7T/y35LfNl+BXxM3ERL7B7ATa6h/7UdcKL7A6QS6qcaUBuOxusALFOkeclzihRtRDeGBDaThYjv/Y+OnjpZNhwzuvq/48XChS8YmegRW0Dl7GRislwDusiXZdOfPPIIWbdTpMF8wObaU2MQl4MfE6M0L7lNDhyUfK8edHD6+FSB4XpwqkucdaN/Ba8haPG3RuiTdzsHXR+m2cCvKyBkbym+7iIcLrr6QZYIXz0kNRzR0qqiHXBllrDcbhwAz8DjTDtjQ6MssJXy3/KhUCmpjRVt8tethxEYzIBPXhY/GsxCSV/UD4hJCyo497NbYhuZhe3WkD/RY2PqZeAN/G84TY+TdRHkn8AG7c4Fh4Ma/ROA9nBwGTSNAFvbduN1DPheU99N+Gz3ANbj0NmuVk4Ds3lRE4G3suxm44ZYtz4kAF7QPiVREwonhzURJ/nnE+jnBfnD6T3v+XLcfxbQMd09hTlDadS/Sh3OztUJylNyw9yefDuUJM5JjBhzzGghNIzIcWOWd1J/f1wWoGm3s41WLouEemPdZ6QnKos82a0MtZoX5FSgXdIiOfiyhoaAW0Q2lw46Rv0cAQYeDYfgg+5agOHT+3oMCj8sTd3sn1BcDwRxTbCIDM3gIPz3dFkUhjy/2h9QNIlSukS0m8qCIkPp2oIxWGcw3J59KC3ENEkSTbdTOG4471IKqfc5uruwQW0X5EvxcebYqNIK3U8PnuYqLQ8AZdwI2ssHDC7cDGEkXgDOYb6VDGHRVBveGRiRV2FdT3WOLciz/+QbxL/96+WD/jaT1Nf0r5asAYuEqUoqGX2eT6wvWUQYd+05RIqrx210LLY4ND67Ei0ENs5bbDDZTmH9D7x0SYABZuUX1j0L6PW2u878saZjahZQ/3cVa5lfDQlowtgCdkAib8mW8pN/rz6OK1mja68iLMtebT3cKgODmVLU+yUwFEaaDqVkQdCnJWZgF8sgfThMwSCUc6CN6QSyGeWK+ollGKHB5GeyjTgLKUzVtn5N9g5qECr0nYdqw8AReh7TXXjQ28rrDzu7S0KvMaOKmf60+8nkL0w7/V3gj17NOY+XAEgAKBxgd///CAIAyzgMRcAFFFFEgggDdK/p7kJw9nmEK0wBrlxHnQYfCvQ7plEw/VmKV8Da/hc4w0hjB+JRDNQxR1zU/uE99m+oIE6Rm0jUFPJ40IAAIfKWm3wqKYlhdCDC/2h5CU3G2xic7xZzx+C/6+9bu+slLSJZTVRPr/78AEea4J1+8hbs1wCsKP42wEDj91U4qRfb5UGPviqdpQE6zfPTmSMdwh+IYUJCiF0BoB8qHYdfNWFbkO6Sg00PSTl1B679UnU0z76ct8nyCLCEGcEzxDa3/vPayZNDdt5GGt/guR36RaNvxwFy28AfOL8xNgAoNmM9XQqchTkaaJNhqAkfF8nFHvhW6X0vwJ/ziSN0NI8Yp9hW2RdDVmnctAfugVmxl2u2P2VObkg9kiTjk9BMFmAw4+b6b2gBBOuLmi/82Fn9OGsKjmgVvUN9rXfUsiIV/TWoT7W3Y/ZaDWRr50StSuqv15nwO/VmG+yEj/dmhdjzqvPWcxwM0WUhFxWhkx37/qldShaRvnA3iDzAv4CSTOcH4OBabpq90htYv1u63Fy3gjzQGsKkIxdOT7sAD6X5Aq0aCSVc96BjTyQ0G3+Yp9P6CwNBYxsQq74boDvNOldQJCRoFHsA=",Oee="data:image/png;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAITwAAAx8AAgAAAAEAAAG1AAAGmgAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAQAAAAEAAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAgAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAJwW1kYXQSAAoGGB3//8JUMo0NEBAAAEAA3Zi2xeiNW1VrWMZmcmAH/0vkDa5nJLN/LOrCZkY8oib8XG+p/6x416j0TK61Hg0MpvGquL5Fv8e97yGgQ/bULG/VQ+9K8BNlWdlCDbaNNfI/44o5Bb/SiiDzk4kbYFxJHIP6y8x+Qvx++CtEi+BxZKwClqMPv4vlh/lF4qynoFz1R9HFLjPesESo36AAq8B54/OHp+eFn8TDdHpMmrnk4Sdfz////9pmnxzYAA94DaawTj9fmG+8tuYoAWRMG+SSWRYv288yX5XdtAyqecWUAAXswQzXGysz/wGA1hxp2y2kypz5H+K5/+08ztWfWaYIAAFOPyUw4ivumBZgAAmdvn5JmMzMI69mlemAXv9Br4mV4kMOCYzrUoIU8nbndpllj5G1Hf///+seAAHcwWdp2+jRDZ3Ttt+H8B9ell84ANRHUYTeBtyfh514qTL/oAK63Mq0BTs2ZINGE4wHYrJoVnqw5ymYKtGBJ8B48jSaGKzkUvsEVoAwAHLrqIyCTEnXkWDBEUSqDiwEVmzwuhXkTP5OZil/Lpyj5e2ADGD4DU/6JuHiw1u2OlvuEhNiz8zOsKnDMfKa1XnK2s0Teq5Usl1PMOeQOWvs98jpRgiP3x8fYc0wPQBa0Vd3+senst+lA7smdAzwhwM8SI+msCn0Yr2/a6PppqXEX7eFfdzf7SlRzsYvS2uqwUjgaVjTgR4dTIC6++A4pp+B3Y29H3RtV5XU5aWlBEhFkb0dj6VJz6Lu8raFKAPwL+dUuWd3y0GvpaR4U38apcBp0d/eKO8CrAPaJZ/5DAbydN2OrlDPmA3If55GZTdtZ4Hz1hmszvl1C4qG8tb4MdVYKkabH4op2RS9Sduzf9zKRoUk3/fc3jbNvhHpVaPoIFTO7JEvl4a9l0D1muhB6eBCmNMRAuhUGeubHm3cjAJUVe1mJYky24pBjWU8BNNMuRms6rBGE5YgcGxi29F1+vEwOXU4ogXkuwPa/UEjSip7eQOJFFP2PclUwzkRy83GbPlCSekzvSfBrQV2LF2VRbRg3X8ZcVujAZO4jer22K1P1lGcS9pzqzwOrJOvb+OHtVToWIAGDEhSEvgV5teSIb8USljwrbnYn7am8O1MmceL2qjBk8HRo+6LBZBf+cAIP0naP6IOKqZi7T/y35LfNl+BXxM3ERL7B7ATa6h/7UdcKL7A6QS6qcaUBuOxusALFOkeclzihRtRDeGBDaThYjv/Y+OnjpZNhwzuvq/48XChS8YmegRW0Dl7GRislwDusiXZdOfPPIIWbdTpMF8wObaU2MQl4MfE6M0L7lNDhyUfK8edHD6+FSB4XpwqkucdaN/Ba8haPG3RuiTdzsHXR+m2cCvKyBkbym+7iIcLrr6QZYIXz0kNRzR0qqiHXBllrDcbhwAz8DjTDtjQ6MssJXy3/KhUCmpjRVt8tethxEYzIBPXhY/GsxCSV/UD4hJCyo497NbYhuZhe3WkD/RY2PqZeAN/G84TY+TdRHkn8AG7c4Fh4Ma/ROA9nBwGTSNAFvbduN1DPheU99N+Gz3ANbj0NmuVk4Ds3lRE4G3suxm44ZYtz4kAF7QPiVREwonhzURJ/nnE+jnBfnD6T3v+XLcfxbQMd09hTlDadS/Sh3OztUJylNyw9yefDuUJM5JjBhzzGghNIzIcWOWd1J/f1wWoGm3s41WLouEemPdZ6QnKos82a0MtZoX5FSgXdIiOfiyhoaAW0Q2lw46Rv0cAQYeDYfgg+5agOHT+3oMCj8sTd3sn1BcDwRxTbCIDM3gIPz3dFkUhjy/2h9QNIlSukS0m8qCIkPp2oIxWGcw3J59KC3ENEkSTbdTOG4471IKqfc5uruwQW0X5EvxcebYqNIK3U8PnuYqLQ8AZdwI2ssHDC7cDGEkXgDOYb6VDGHRVBveGRiRV2FdT3WOLciz/+QbxL/96+WD/jaT1Nf0r5asAYuEqUoqGX2eT6wvWUQYd+05RIqrx210LLY4ND67Ei0ENs5bbDDZTmH9D7x0SYABZuUX1j0L6PW2u878saZjahZQ/3cVa5lfDQlowtgCdkAib8mW8pN/rz6OK1mja68iLMtebT3cKgODmVLU+yUwFEaaDqVkQdCnJWZgF8sgfThMwSCUc6CN6QSyGeWK+ollGKHB5GeyjTgLKUzVtn5N9g5qECr0nYdqw8AReh7TXXjQ28rrDzu7S0KvMaOKmf60+8nkL0w7/V3gj17NOY+XAEgAKBxgd///CAIAykQYRcAFFFFEgggDdK7ZTqQri/BWuvQExV18aMvN6mDhY7kyJyr6S9VAwLEtuz2OxlIG6VMIqEj6qha5hyjxtAEHd242QELypv2SJOwAFUldcPlVQXiSJVfOczpHKSCb0HaMIYPtQRsA3CEXsDcFZA6Olefe09FGicnRxSrb8cboCdwtGhHc3SLdx8L8nUDHM5wS9yP4DWfv4vfsi+54npbM+lAB7DLHL/3CZgCqh6K5QK2QBAQR6ag4MYtKpFq4oH8yshFyEoBl+IYe//6zQ2VPgCauEfJMJJUfA78p2dDRVcKBd+4lCsAAAjhrYA69hjBWloZdjZqGzbB1GuuWzs4NCOmKpWn9Aw47TN26BU1R8qauNRDYP5qkBmsQerMXRJ7qxm6zIK/E0oTKJUyR6yoqIT4r++04I5vcv0ge7YuSZi/rdOr2bQBXC3LPpbW6ZmEkAcCg27qrmINAGnoUWxWEqSusVrXvjvWQa3XpUw+EkialUuy1hdZD3HIoYltZ4hxWe+cY2txGWVkhlT2Z1raMl/ecF11B7mhKRcmAAAJl8PoG8BMB87GGCvHqnom72DRKfNYtQr9AIfULDhI5vEW6Q/gU7tdd5/nphgXv5VIYzdrYq1OlJG5Of1PY590iT80mjVTV5iBGuIEzh7mYwVVu7w7VBQaEOkOwnVJVCgbxMqzrQo4OnsqiDJ6Sr0tx7KRCc5NrON84hrwGzL2EIoucIc0XwsQv3+7wCrjPd3LxQE3WUct1WXOpJ7F9Y2i2091eNQCtNJwhh7UxsNzGx4fi84MuVW1Yr+TtGRSNTNtk8txsmr8KCBsvapArDcjT7MP79fMD5raP0M7XIPI+FCIFxv8UClEOblMX9tiRd4u2itpRGM7kwStnCVFBWEC/P1vtOWVzE2+Kofd815ohIOt1quxvW+lAC5SwUJy7ccA97FEWXIWKh3n9weXuNBp+fYrCTTP/mcNAHwDJoXgxovFBpEE25Mr34f4lrnICaVqXe9AVsQMXtTVJkbgHUxiCo6MSh+JiagfxGNoNmOznmJhaHYA==",Fee="data:image/png;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAITwAAAUMAAgAAAAEAAAG1AAAGmgAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAQAAAAEAAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAgAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAH5W1kYXQSAAoGGB3//8JUMo0NEBAAAEAA3Zi2xeiNW1VrWMZmcmAH/0vkDa5nJLN/LOrCZkY8oib8XG+p/6x416j0TK61Hg0MpvGquL5Fv8e97yGgQ/bULG/VQ+9K8BNlWdlCDbaNNfI/44o5Bb/SiiDzk4kbYFxJHIP6y8x+Qvx++CtEi+BxZKwClqMPv4vlh/lF4qynoFz1R9HFLjPesESo36AAq8B54/OHp+eFn8TDdHpMmrnk4Sdfz////9pmnxzYAA94DaawTj9fmG+8tuYoAWRMG+SSWRYv288yX5XdtAyqecWUAAXswQzXGysz/wGA1hxp2y2kypz5H+K5/+08ztWfWaYIAAFOPyUw4ivumBZgAAmdvn5JmMzMI69mlemAXv9Br4mV4kMOCYzrUoIU8nbndpllj5G1Hf///+seAAHcwWdp2+jRDZ3Ttt+H8B9ell84ANRHUYTeBtyfh514qTL/oAK63Mq0BTs2ZINGE4wHYrJoVnqw5ymYKtGBJ8B48jSaGKzkUvsEVoAwAHLrqIyCTEnXkWDBEUSqDiwEVmzwuhXkTP5OZil/Lpyj5e2ADGD4DU/6JuHiw1u2OlvuEhNiz8zOsKnDMfKa1XnK2s0Teq5Usl1PMOeQOWvs98jpRgiP3x8fYc0wPQBa0Vd3+senst+lA7smdAzwhwM8SI+msCn0Yr2/a6PppqXEX7eFfdzf7SlRzsYvS2uqwUjgaVjTgR4dTIC6++A4pp+B3Y29H3RtV5XU5aWlBEhFkb0dj6VJz6Lu8raFKAPwL+dUuWd3y0GvpaR4U38apcBp0d/eKO8CrAPaJZ/5DAbydN2OrlDPmA3If55GZTdtZ4Hz1hmszvl1C4qG8tb4MdVYKkabH4op2RS9Sduzf9zKRoUk3/fc3jbNvhHpVaPoIFTO7JEvl4a9l0D1muhB6eBCmNMRAuhUGeubHm3cjAJUVe1mJYky24pBjWU8BNNMuRms6rBGE5YgcGxi29F1+vEwOXU4ogXkuwPa/UEjSip7eQOJFFP2PclUwzkRy83GbPlCSekzvSfBrQV2LF2VRbRg3X8ZcVujAZO4jer22K1P1lGcS9pzqzwOrJOvb+OHtVToWIAGDEhSEvgV5teSIb8USljwrbnYn7am8O1MmceL2qjBk8HRo+6LBZBf+cAIP0naP6IOKqZi7T/y35LfNl+BXxM3ERL7B7ATa6h/7UdcKL7A6QS6qcaUBuOxusALFOkeclzihRtRDeGBDaThYjv/Y+OnjpZNhwzuvq/48XChS8YmegRW0Dl7GRislwDusiXZdOfPPIIWbdTpMF8wObaU2MQl4MfE6M0L7lNDhyUfK8edHD6+FSB4XpwqkucdaN/Ba8haPG3RuiTdzsHXR+m2cCvKyBkbym+7iIcLrr6QZYIXz0kNRzR0qqiHXBllrDcbhwAz8DjTDtjQ6MssJXy3/KhUCmpjRVt8tethxEYzIBPXhY/GsxCSV/UD4hJCyo497NbYhuZhe3WkD/RY2PqZeAN/G84TY+TdRHkn8AG7c4Fh4Ma/ROA9nBwGTSNAFvbduN1DPheU99N+Gz3ANbj0NmuVk4Ds3lRE4G3suxm44ZYtz4kAF7QPiVREwonhzURJ/nnE+jnBfnD6T3v+XLcfxbQMd09hTlDadS/Sh3OztUJylNyw9yefDuUJM5JjBhzzGghNIzIcWOWd1J/f1wWoGm3s41WLouEemPdZ6QnKos82a0MtZoX5FSgXdIiOfiyhoaAW0Q2lw46Rv0cAQYeDYfgg+5agOHT+3oMCj8sTd3sn1BcDwRxTbCIDM3gIPz3dFkUhjy/2h9QNIlSukS0m8qCIkPp2oIxWGcw3J59KC3ENEkSTbdTOG4471IKqfc5uruwQW0X5EvxcebYqNIK3U8PnuYqLQ8AZdwI2ssHDC7cDGEkXgDOYb6VDGHRVBveGRiRV2FdT3WOLciz/+QbxL/96+WD/jaT1Nf0r5asAYuEqUoqGX2eT6wvWUQYd+05RIqrx210LLY4ND67Ei0ENs5bbDDZTmH9D7x0SYABZuUX1j0L6PW2u878saZjahZQ/3cVa5lfDQlowtgCdkAib8mW8pN/rz6OK1mja68iLMtebT3cKgODmVLU+yUwFEaaDqVkQdCnJWZgF8sgfThMwSCUc6CN6QSyGeWK+ollGKHB5GeyjTgLKUzVtn5N9g5qECr0nYdqw8AReh7TXXjQ28rrDzu7S0KvMaOKmf60+8nkL0w7/V3gj17NOY+XAEgAKBxgd///CAIAytQIRcAFFFFEgggDdK/pEFTKh6k2anZ35+jTGUpdjCM2BbeAmnobCT2lqoLdLvZSSvMK/7N1IlxUtafRqz2/FnMrQ4HZCLnrptPgct1gN8WP3E3By1Jo1a+XdsCdvEU1rKCwQMX/P6Bj9jFn1pDpp5pwZuM3X73pvxHlnBCtc4UByj3bkDidUREFWLj9ZFXR+z68jvx/wktMouhX82fG5JXXzaRMl1pYHcDngHnK4ggtLaxXY+J/nVsHKIyNB/sLfhAMKWMehgT0A7IsbamYCGZuoWBDYTD1kElTUX7nNzPycVezJuQAUlpDyEirMFx9HPoSa80hom1522TyhOkRJOIdPNapbcmFSx31C4Vov2CdVKGkETpVLCi/G9RGS+gidPi+2tcKY+qq7ZNlZrmXP3wEVOK1gMrg=",Iee="data:image/png;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAITwAAAKEAAgAAAAEAAAG1AAAGmgAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAQAAAAEAAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAgAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAHQ21kYXQSAAoGGB3//8JUMo0NEBAAAEAA3Zi2xeiNW1VrWMZmcmAH/0vkDa5nJLN/LOrCZkY8oib8XG+p/6x416j0TK61Hg0MpvGquL5Fv8e97yGgQ/bULG/VQ+9K8BNlWdlCDbaNNfI/44o5Bb/SiiDzk4kbYFxJHIP6y8x+Qvx++CtEi+BxZKwClqMPv4vlh/lF4qynoFz1R9HFLjPesESo36AAq8B54/OHp+eFn8TDdHpMmrnk4Sdfz////9pmnxzYAA94DaawTj9fmG+8tuYoAWRMG+SSWRYv288yX5XdtAyqecWUAAXswQzXGysz/wGA1hxp2y2kypz5H+K5/+08ztWfWaYIAAFOPyUw4ivumBZgAAmdvn5JmMzMI69mlemAXv9Br4mV4kMOCYzrUoIU8nbndpllj5G1Hf///+seAAHcwWdp2+jRDZ3Ttt+H8B9ell84ANRHUYTeBtyfh514qTL/oAK63Mq0BTs2ZINGE4wHYrJoVnqw5ymYKtGBJ8B48jSaGKzkUvsEVoAwAHLrqIyCTEnXkWDBEUSqDiwEVmzwuhXkTP5OZil/Lpyj5e2ADGD4DU/6JuHiw1u2OlvuEhNiz8zOsKnDMfKa1XnK2s0Teq5Usl1PMOeQOWvs98jpRgiP3x8fYc0wPQBa0Vd3+senst+lA7smdAzwhwM8SI+msCn0Yr2/a6PppqXEX7eFfdzf7SlRzsYvS2uqwUjgaVjTgR4dTIC6++A4pp+B3Y29H3RtV5XU5aWlBEhFkb0dj6VJz6Lu8raFKAPwL+dUuWd3y0GvpaR4U38apcBp0d/eKO8CrAPaJZ/5DAbydN2OrlDPmA3If55GZTdtZ4Hz1hmszvl1C4qG8tb4MdVYKkabH4op2RS9Sduzf9zKRoUk3/fc3jbNvhHpVaPoIFTO7JEvl4a9l0D1muhB6eBCmNMRAuhUGeubHm3cjAJUVe1mJYky24pBjWU8BNNMuRms6rBGE5YgcGxi29F1+vEwOXU4ogXkuwPa/UEjSip7eQOJFFP2PclUwzkRy83GbPlCSekzvSfBrQV2LF2VRbRg3X8ZcVujAZO4jer22K1P1lGcS9pzqzwOrJOvb+OHtVToWIAGDEhSEvgV5teSIb8USljwrbnYn7am8O1MmceL2qjBk8HRo+6LBZBf+cAIP0naP6IOKqZi7T/y35LfNl+BXxM3ERL7B7ATa6h/7UdcKL7A6QS6qcaUBuOxusALFOkeclzihRtRDeGBDaThYjv/Y+OnjpZNhwzuvq/48XChS8YmegRW0Dl7GRislwDusiXZdOfPPIIWbdTpMF8wObaU2MQl4MfE6M0L7lNDhyUfK8edHD6+FSB4XpwqkucdaN/Ba8haPG3RuiTdzsHXR+m2cCvKyBkbym+7iIcLrr6QZYIXz0kNRzR0qqiHXBllrDcbhwAz8DjTDtjQ6MssJXy3/KhUCmpjRVt8tethxEYzIBPXhY/GsxCSV/UD4hJCyo497NbYhuZhe3WkD/RY2PqZeAN/G84TY+TdRHkn8AG7c4Fh4Ma/ROA9nBwGTSNAFvbduN1DPheU99N+Gz3ANbj0NmuVk4Ds3lRE4G3suxm44ZYtz4kAF7QPiVREwonhzURJ/nnE+jnBfnD6T3v+XLcfxbQMd09hTlDadS/Sh3OztUJylNyw9yefDuUJM5JjBhzzGghNIzIcWOWd1J/f1wWoGm3s41WLouEemPdZ6QnKos82a0MtZoX5FSgXdIiOfiyhoaAW0Q2lw46Rv0cAQYeDYfgg+5agOHT+3oMCj8sTd3sn1BcDwRxTbCIDM3gIPz3dFkUhjy/2h9QNIlSukS0m8qCIkPp2oIxWGcw3J59KC3ENEkSTbdTOG4471IKqfc5uruwQW0X5EvxcebYqNIK3U8PnuYqLQ8AZdwI2ssHDC7cDGEkXgDOYb6VDGHRVBveGRiRV2FdT3WOLciz/+QbxL/96+WD/jaT1Nf0r5asAYuEqUoqGX2eT6wvWUQYd+05RIqrx210LLY4ND67Ei0ENs5bbDDZTmH9D7x0SYABZuUX1j0L6PW2u878saZjahZQ/3cVa5lfDQlowtgCdkAib8mW8pN/rz6OK1mja68iLMtebT3cKgODmVLU+yUwFEaaDqVkQdCnJWZgF8sgfThMwSCUc6CN6QSyGeWK+ollGKHB5GeyjTgLKUzVtn5N9g5qECr0nYdqw8AReh7TXXjQ28rrDzu7S0KvMaOKmf60+8nkL0w7/V3gj17NOY+XAEgAKBxgd///CAIAykwERcAFFFFEgggC2dm0xiiuBDcQlws8sdaHFgVRnTs+ETxnyUxReKup68eT8C50Cs+curSsxPvt/rdMjcaymGnmlYEYXfVeRA2EqW09cEmHxyg2Lxo0ZvkPjg+hZESCuaIjjerPuvCvib63VQcyZI4IPt498bz+qqTC01RlrYLbRtYjBShpLDN2J7ZtJWHVGRWALz/A=",Pee="data:image/png;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAITwAAAfcAAgAAAAEAAAG1AAAGmgAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAQAAAAEAAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAgAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAImW1kYXQSAAoGGB3//8JUMo0NEBAAAEAA3Zi2xeiNW1VrWMZmcmAH/0vkDa5nJLN/LOrCZkY8oib8XG+p/6x416j0TK61Hg0MpvGquL5Fv8e97yGgQ/bULG/VQ+9K8BNlWdlCDbaNNfI/44o5Bb/SiiDzk4kbYFxJHIP6y8x+Qvx++CtEi+BxZKwClqMPv4vlh/lF4qynoFz1R9HFLjPesESo36AAq8B54/OHp+eFn8TDdHpMmrnk4Sdfz////9pmnxzYAA94DaawTj9fmG+8tuYoAWRMG+SSWRYv288yX5XdtAyqecWUAAXswQzXGysz/wGA1hxp2y2kypz5H+K5/+08ztWfWaYIAAFOPyUw4ivumBZgAAmdvn5JmMzMI69mlemAXv9Br4mV4kMOCYzrUoIU8nbndpllj5G1Hf///+seAAHcwWdp2+jRDZ3Ttt+H8B9ell84ANRHUYTeBtyfh514qTL/oAK63Mq0BTs2ZINGE4wHYrJoVnqw5ymYKtGBJ8B48jSaGKzkUvsEVoAwAHLrqIyCTEnXkWDBEUSqDiwEVmzwuhXkTP5OZil/Lpyj5e2ADGD4DU/6JuHiw1u2OlvuEhNiz8zOsKnDMfKa1XnK2s0Teq5Usl1PMOeQOWvs98jpRgiP3x8fYc0wPQBa0Vd3+senst+lA7smdAzwhwM8SI+msCn0Yr2/a6PppqXEX7eFfdzf7SlRzsYvS2uqwUjgaVjTgR4dTIC6++A4pp+B3Y29H3RtV5XU5aWlBEhFkb0dj6VJz6Lu8raFKAPwL+dUuWd3y0GvpaR4U38apcBp0d/eKO8CrAPaJZ/5DAbydN2OrlDPmA3If55GZTdtZ4Hz1hmszvl1C4qG8tb4MdVYKkabH4op2RS9Sduzf9zKRoUk3/fc3jbNvhHpVaPoIFTO7JEvl4a9l0D1muhB6eBCmNMRAuhUGeubHm3cjAJUVe1mJYky24pBjWU8BNNMuRms6rBGE5YgcGxi29F1+vEwOXU4ogXkuwPa/UEjSip7eQOJFFP2PclUwzkRy83GbPlCSekzvSfBrQV2LF2VRbRg3X8ZcVujAZO4jer22K1P1lGcS9pzqzwOrJOvb+OHtVToWIAGDEhSEvgV5teSIb8USljwrbnYn7am8O1MmceL2qjBk8HRo+6LBZBf+cAIP0naP6IOKqZi7T/y35LfNl+BXxM3ERL7B7ATa6h/7UdcKL7A6QS6qcaUBuOxusALFOkeclzihRtRDeGBDaThYjv/Y+OnjpZNhwzuvq/48XChS8YmegRW0Dl7GRislwDusiXZdOfPPIIWbdTpMF8wObaU2MQl4MfE6M0L7lNDhyUfK8edHD6+FSB4XpwqkucdaN/Ba8haPG3RuiTdzsHXR+m2cCvKyBkbym+7iIcLrr6QZYIXz0kNRzR0qqiHXBllrDcbhwAz8DjTDtjQ6MssJXy3/KhUCmpjRVt8tethxEYzIBPXhY/GsxCSV/UD4hJCyo497NbYhuZhe3WkD/RY2PqZeAN/G84TY+TdRHkn8AG7c4Fh4Ma/ROA9nBwGTSNAFvbduN1DPheU99N+Gz3ANbj0NmuVk4Ds3lRE4G3suxm44ZYtz4kAF7QPiVREwonhzURJ/nnE+jnBfnD6T3v+XLcfxbQMd09hTlDadS/Sh3OztUJylNyw9yefDuUJM5JjBhzzGghNIzIcWOWd1J/f1wWoGm3s41WLouEemPdZ6QnKos82a0MtZoX5FSgXdIiOfiyhoaAW0Q2lw46Rv0cAQYeDYfgg+5agOHT+3oMCj8sTd3sn1BcDwRxTbCIDM3gIPz3dFkUhjy/2h9QNIlSukS0m8qCIkPp2oIxWGcw3J59KC3ENEkSTbdTOG4471IKqfc5uruwQW0X5EvxcebYqNIK3U8PnuYqLQ8AZdwI2ssHDC7cDGEkXgDOYb6VDGHRVBveGRiRV2FdT3WOLciz/+QbxL/96+WD/jaT1Nf0r5asAYuEqUoqGX2eT6wvWUQYd+05RIqrx210LLY4ND67Ei0ENs5bbDDZTmH9D7x0SYABZuUX1j0L6PW2u878saZjahZQ/3cVa5lfDQlowtgCdkAib8mW8pN/rz6OK1mja68iLMtebT3cKgODmVLU+yUwFEaaDqVkQdCnJWZgF8sgfThMwSCUc6CN6QSyGeWK+ollGKHB5GeyjTgLKUzVtn5N9g5qECr0nYdqw8AReh7TXXjQ28rrDzu7S0KvMaOKmf60+8nkL0w7/V3gj17NOY+XAEgAKBxgd///CAIAy6QMRcAFFFFEgggDZteAlKs2gPMW8xy52qR2Mpsghb84uq093vV3Bbt9J4NZ/ajtQM9DmC0Aozsk2LerTOf4SWkuffk8y+IpCApu/wBcO2VphGS8SHTOK7bO/GXex4IKtuL3oseeeYqSo/3peQIZWrfpHOZhlKb9gkkPC3HyUDwaIyTcAABoGQWsSL7DtRuAyMu/rYE/E4fXPO4FPAAAChThL+0YJXDPY6ikmXOTzPnBmRDFkE9hYWiXynUhSw0JVC7Jx0y2TtNQhRfVJiTjXqHzQcnilvV9B0RQNfMZszkopd7udbRk0EeK3AzlIDpjjf9XU5hL2TIZQQ8oOvc0RZucLUeYPWbQNgodb5SWf6mB77pnfSy/BRDiEyM+4swyspvLKeEFeSft9jwpVaWO56DasWB0ITG9T9UeY9TRh8gJ/9tzNQ3w+jBdF7k6VcaB9A69lN7isKZPfDTu7uttcJ/RFOWDGGoK4BhWX1jea5aGFNcfYXan/WL3fFkq4jhZJzZV6oEMQZmPkI1Illj+rgBsIO+6dxFl8HVRPbN6iuloguiWFRt3DfSyWIbTdn2F7dTqWiC0si1FxQqO1B6hDId44bT2ez6XOIftZLWFKXSrqSPYdo3pSUcUF2TPWpz9xarLkSPSnBt8qXhQ=",Lee=({selectedColor:t,onColorSelect:r,variantIndex:n})=>{const[s,i]=te.useState(!1),o=[{name:"black",image:Bee},{name:"blue",image:Cee},{name:"gray",image:_ee},{name:"green",image:Eee},{name:"orange",image:kee},{name:"pink",image:Tee},{name:"purple",image:Oee},{name:"red",image:Fee},{name:"white",image:Iee},{name:"yellow",image:Pee}],l=u=>{r(n,u),i(!1)},c=o.find(u=>u.name===t)||null;return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{onClick:()=>i(!s),className:"flex items-center gap-2 border border-gray-300 rounded-lg px-3 py-2 cursor-pointer hover:border-gray-400 min-w-[150px]",children:[c?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:c.image,alt:c.name,className:"w-6 h-6 rounded"}),a.jsx("span",{className:"flex-1 capitalize",children:c.name})]}):a.jsx("span",{className:"text-gray-500 flex-1",children:"Select Color"}),a.jsx("svg",{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 max-h-60 overflow-y-auto",children:o.map(u=>a.jsxs("div",{onClick:()=>l(u.name),className:`flex items-center gap-3 px-3 py-2 hover:bg-gray-50 cursor-pointer ${t===u.name?"bg-blue-50 border-l-4 border-blue-500":""}`,children:[a.jsx("img",{src:u.image,alt:u.name,className:"w-8 h-8 rounded"}),a.jsx("span",{className:"capitalize",children:u.name})]},u.name))}),s&&a.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>i(!1)})]})},Dee=()=>{var Q,K,Y;const{user:t}=On(),r=Hs(),[n,s]=te.useState([]),[i,o]=te.useState(""),[l,c]=te.useState(""),[u,d]=te.useState(""),[A,f]=te.useState(0),[h,p]=te.useState([]),[m,g]=te.useState(!1),[b,y]=te.useState(""),[x,v]=te.useState({title:"",description:"",price:"",oldPrice:"",discount:"",stock:"",isPreorder:!1,shipping:"",condition:"",warrentyMonths:"",variants:[],tags:[]});te.useEffect(()=>{w()},[]),te.useEffect(()=>{const V=x.variants.reduce((I,O)=>I+(Number(O.stock)||0),0);f(V)},[x.variants]),te.useEffect(()=>{if(x.oldPrice&&x.discount){const V=parseFloat(x.oldPrice),I=parseFloat(x.discount);if(V>0&&I>=0){const O=V*(1-I/100);v(R=>({...R,price:O.toFixed(2)}))}}},[x.oldPrice,x.discount]);const w=async()=>{try{const V=await fetch("http://localhost:10000/api/categories");if(!V.ok)throw new Error("Failed to fetch categories");const I=await V.json();s(I)}catch(V){console.error("Error loading categories:",V)}},_=V=>{o(V.target.value),c(""),d("")},B=V=>{c(V.target.value),d("")},N=V=>{d(V.target.value)},j=V=>{const{name:I,value:O,type:R,checked:U}=V.target;I==="price"&&x.discount?v(T=>({...T,[I]:R==="checkbox"?U:O,discount:""})):v(T=>({...T,[I]:R==="checkbox"?U:O}))},C=()=>{v(V=>({...V,variants:[...V.variants,{name:"",hex:"#000000",size:"",stock:""}]}))},E=(V,I,O)=>{const R=[...x.variants];R[V][I]=O,v(U=>({...U,variants:R}))},S=V=>{const I=x.variants.filter((O,R)=>R!==V);v(O=>({...O,variants:I}))},k=V=>{V.trim()&&!x.tags.includes(V.trim())&&v(I=>({...I,tags:[...I.tags,V.trim()]}))},P=V=>{v(I=>({...I,tags:I.tags.filter((O,R)=>R!==V)}))},M=V=>{(V.key==="Enter"||V.key===",")&&(V.preventDefault(),k(V.target.value),V.target.value="")},H=async()=>{const V={maxSizeMB:.5,maxWidthOrHeight:1e3,useWebWorker:!0};return Promise.all(h.map(async I=>{const O=await ts(I,V),R=Il(Pl,`products/id_${Date.now()}_${I.name}`);return await Ol(R,O),Fl(R)}))},F=async V=>{V.preventDefault(),g(!0),y("");try{const I=await H();if(!i||!l||!u){y("Please select category, subcategory, and child category."),g(!1);return}const O=x.variants.length>0?x.variants.map(({name:z,hex:G,size:J,stock:ee})=>({name:z,hex:G,size:J,stock:Number(ee)||0})):[],R=O.length>0?O.reduce((z,G)=>z+G.stock,0):Number(x.stock)||0,U={title:x.title,description:x.description,price:parseFloat(x.price),oldPrice:x.oldPrice?parseFloat(x.oldPrice):void 0,category:i,subcategory:l,childCategory:u,stock:R,images:I,isPreorder:x.isPreorder,shipping:x.shipping,condition:x.condition,warrentyMonths:Number(x.warrentyMonths)||0,variants:O.length>0?O:void 0},T=await fetch("http://localhost:10000/api/products",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(T.ok)r("/dashboard");else{const z=await T.json();y(z.error||"Failed to create product")}}catch(I){console.error(I),y("Network error. Please try again.")}finally{g(!1)}};return!t||t.role!=="store_owner"?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"You need to be a store owner to create products"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Create New Product"}),b&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:b}),a.jsxs("form",{onSubmit:F,className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Product Title"}),a.jsx("input",{type:"text",name:"title",value:x.title,onChange:j,required:!0,placeholder:"Sample Product Name",className:"w-full border border-gray-300 rounded-lg px-4 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),a.jsx("textarea",{name:"description",value:x.description,onChange:j,required:!0,rows:4,placeholder:"A detailed description of the product...",className:"w-full border border-gray-300 rounded-lg px-4 py-2 resize-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Price (LKR)"}),a.jsx("input",{type:"number",name:"price",value:x.price,onChange:j,required:!0,min:"0",step:"1",placeholder:"2999.99",className:`w-full border rounded-lg px-4 py-2 ${x.discount&&x.discount>0?"bg-gray-100":"border-gray-300"}`,disabled:!!x.discount&&x.discount>0}),x.discount&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-calculated from original price and discount"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Original Price (optional)"}),a.jsx("input",{type:"number",name:"oldPrice",value:x.oldPrice,onChange:j,min:"0",step:"1",className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discount (%) (optional)"}),a.jsx("input",{type:"number",name:"discount",value:x.discount,onChange:j,min:"0",max:"100",step:"1",className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Stock Quantity"}),a.jsx("input",{type:"number",name:"stock",value:x.variants.length>0?A:x.stock,onChange:j,min:"0",className:`w-full border rounded-lg px-4 py-2 ${x.variants.length>0?"bg-gray-100 cursor-not-allowed":"border-gray-300"}`,placeholder:"0",disabled:x.variants.length>0,required:x.variants.length===0}),x.variants.length>0&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Stock is managed via variants and cannot be set here."})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:a.jsxs("div",{className:"flex items-center space-x-2 mt-6 md:mt-0",children:[a.jsx("input",{type:"checkbox",name:"isPreorder",checked:x.isPreorder,onChange:j,id:"isPreorder",className:"h-5 w-5"}),a.jsx("label",{htmlFor:"isPreorder",className:"text-sm font-medium",children:"Is Preorder"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),a.jsxs("select",{value:i,onChange:_,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-2",children:[a.jsx("option",{value:"",children:"Select a category"}),n.map(V=>a.jsx("option",{value:V.name,children:V.name},V._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Subcategory"}),a.jsxs("select",{value:l,onChange:B,required:!0,disabled:!i,className:"w-full border border-gray-300 rounded-lg px-4 py-2",children:[a.jsx("option",{value:"",children:"Select a subcategory"}),(Q=n.find(V=>V.name===i))==null?void 0:Q.subcategories.map(V=>a.jsx("option",{value:V.name,children:V.name},V.name))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Child Category"}),a.jsxs("select",{value:u,onChange:N,required:!0,disabled:!l,className:"w-full border border-gray-300 rounded-lg px-4 py-2",children:[a.jsx("option",{value:"",children:"Select a child category"}),(Y=(K=n.find(V=>V.name===i))==null?void 0:K.subcategories.find(V=>V.name===l))==null?void 0:Y.childCategories.map(V=>a.jsx("option",{value:V,children:V},V))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Shipping Info"}),a.jsxs("select",{name:"shipping",value:x.shipping,onChange:j,className:"w-full border border-gray-300 rounded-lg px-4 py-2",children:[a.jsx("option",{value:"",children:"Select shipping"}),a.jsx("option",{value:"free-shipping",children:"Free Shipping"}),a.jsx("option",{value:"paid-shipping",children:"Paid Shipping"}),a.jsx("option",{value:"local-pickup",children:"Local Pickup"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["You can only charge for the ",a.jsx("b",{children:"Paid Shipping"})," fees through the user."]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Condition"}),a.jsxs("select",{name:"condition",value:x.condition,onChange:j,className:"w-full border border-gray-300 rounded-lg px-4 py-2",children:[a.jsx("option",{value:"",children:"Select condition"}),a.jsx("option",{value:"new",children:"New"}),a.jsx("option",{value:"used",children:"Used"}),a.jsx("option",{value:"refurbished",children:"Refurbished"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Warranty Months"}),a.jsx("input",{type:"number",name:"warrentyMonths",value:x.warrentyMonths,onChange:j,min:"0",className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"0"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Variants"}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Add color, size, and stock for each variant combination."}),x.variants.map((V,I)=>a.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[a.jsx(Lee,{selectedColor:V.name,onColorSelect:(O,R)=>{E(O,"name",R)},variantIndex:I}),a.jsx("input",{type:"text",placeholder:"Size (e.g. M, L, 42)",value:V.size,onChange:O=>E(I,"size",O.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 w-32 h-10"}),a.jsx("input",{type:"number",placeholder:"Stock",value:V.stock,onChange:O=>E(I,"stock",O.target.value),min:"0",className:"border border-gray-300 rounded-lg px-3 py-2 w-20 h-10",required:!0}),a.jsx("button",{type:"button",onClick:()=>S(I),className:"text-red-500 hover:text-red-700 px-2 py-2 h-10 flex items-center",children:"Remove"})]},I)),a.jsx("button",{type:"button",onClick:C,className:"text-blue-500 hover:text-blue-700 font-medium",children:"+ Add Variant"}),x.variants.length>0&&a.jsxs("p",{className:"text-sm font-medium mt-2",children:["Total Stock (from variants):"," ",a.jsx("span",{className:"text-green-600 font-semibold",children:A})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Service Tags"}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Press Enter or comma to add tags. Great for search and categorization."}),a.jsx("input",{type:"text",placeholder:"Type a tag and press Enter...",onKeyDown:M,className:"w-full border border-gray-300 rounded-lg px-4 py-2 mb-3"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:x.tags.map((V,I)=>a.jsxs("span",{className:"bg-black text-white  px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[V,a.jsx("button",{type:"button",onClick:()=>P(I),className:"text-white hover:text-red-500 font-bold",children:"×"})]},I))}),x.tags.length===0&&a.jsx("p",{className:"text-gray-400 text-sm",children:"No tags added yet"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Product Images (up to 10)"}),a.jsx(Xd,{images:h,onImagesChange:p,maxImages:10,multiple:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[a.jsx("button",{type:"button",onClick:()=>r("/dashboard"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:m,className:"bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 disabled:opacity-50",children:m?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_s,{size:"sm"}),a.jsx("span",{children:"Creating..."})]}):"Create Product"})]})]})]})})})},Uee=()=>{var P,M,H;const{user:t}=On(),r=Hs(),[n,s]=te.useState([]),[i,o]=te.useState(""),[l,c]=te.useState(""),[u,d]=te.useState(""),[A,f]=te.useState([]),[h,p]=te.useState(!1),[m,g]=te.useState(""),[b,y]=te.useState({title:"",description:"",price:"",oldPrice:"",discount:"",duration:30,tags:[]});te.useEffect(()=>{if(b.oldPrice&&b.discount){const F=parseFloat(b.oldPrice),Q=parseFloat(b.discount);if(F>0&&Q>=0){const K=F*(1-Q/100);y(Y=>({...Y,price:K.toFixed(2)}))}}},[b.oldPrice,b.discount]);const x=[{value:30,label:"30 minutes"},{value:60,label:"1 hour"},{value:90,label:"1 hour 30 minutes"},{value:120,label:"2 hours"},{value:150,label:"2 hours 30 minutes"},{value:180,label:"3 hours"},{value:210,label:"3 hours 30 minutes"},{value:240,label:"4 hours"},{value:270,label:"4 hours 30 minutes"},{value:300,label:"5 hours"},{value:330,label:"5 hours 30 minutes"},{value:360,label:"6 hours"}];te.useEffect(()=>{v()},[]);const v=async()=>{try{const F=await fetch("http://localhost:10000/api/categories");if(!F.ok)throw new Error("Failed to fetch categories");const Q=await F.json();s(Q)}catch(F){console.error("Error loading categories:",F)}},w=F=>{o(F.target.value),c(""),d("")},_=F=>{c(F.target.value),d("")},B=F=>{d(F.target.value)},N=F=>{const{name:Q,value:K,type:Y,checked:V}=F.target;y(I=>({...I,[Q]:Y==="checkbox"?V:K}))},j=async()=>{const F={maxSizeMB:.5,maxWidthOrHeight:1e3,useWebWorker:!0};return Promise.all(A.map(async Q=>{const K=await ts(Q,F),Y=Il(Pl,`services/id_${Date.now()}_${Q.name}`);return await Ol(Y,K),Fl(Y)}))},C=F=>{F.trim()&&!b.tags.includes(F.trim())&&y(Q=>({...Q,tags:[...Q.tags,F.trim()]}))},E=F=>{y(Q=>({...Q,tags:Q.tags.filter((K,Y)=>Y!==F)}))},S=F=>{(F.key==="Enter"||F.key===",")&&(F.preventDefault(),C(F.target.value),F.target.value="")},k=async F=>{F.preventDefault(),p(!0),g("");try{const Q=await j();if(!i||!l||!u){g("Please select category, subcategory, and child category."),p(!1);return}if(!(t!=null&&t.storeId)){g("Store information not found. Please ensure you have a store setup."),p(!1);return}const K={title:b.title,description:b.description,price:parseFloat(b.price),oldPrice:b.oldPrice?parseFloat(b.oldPrice):void 0,duration:parseInt(b.duration),category:i,subcategory:l,childCategory:u,images:Q},Y=await fetch("http://localhost:10000/api/services",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(Y.ok)r("/dashboard");else{const V=await Y.json();g(V.error||"Failed to create service")}}catch(Q){console.error(Q),g("Network error. Please try again.")}finally{p(!1)}};return!t||t.role!=="store_owner"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"You need to be a store owner to create services"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Service"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Set up your service with available time slots"})]}),a.jsxs("div",{className:"p-8",children:[m&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:m}),a.jsxs("form",{onSubmit:k,className:"space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Title *"}),a.jsx("input",{type:"text",name:"title",value:b.title,onChange:N,required:!0,placeholder:"e.g., Hair Cut & Styling",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration *"}),a.jsx("select",{name:"duration",value:b.duration,onChange:N,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-black focus:border-transparent",children:x.map(F=>a.jsx("option",{value:F.value,children:F.label},F.value))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Price (LKR)"}),a.jsx("input",{type:"number",name:"price",value:b.price,onChange:N,required:!0,min:"0",step:"1",placeholder:"2999.99",className:`w-full border rounded-lg px-4 py-2 ${b.discount&&b.discount>0?"bg-gray-100":"border-gray-300"}`,disabled:!!b.discount&&b.discount>0}),b.discount&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-calculated from original price and discount"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Original Price (optional)"}),a.jsx("input",{type:"number",name:"oldPrice",value:b.oldPrice,onChange:N,min:"0",step:"1",className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discount (%) (optional)"}),a.jsx("input",{type:"number",name:"discount",value:b.discount,onChange:N,min:"0",max:"100",step:"1",className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"0"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{name:"description",value:b.description,onChange:N,required:!0,rows:4,placeholder:"Describe your service in detail...",className:"w-full border border-gray-300 rounded-lg px-4 py-3 resize-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),a.jsxs("select",{value:i,onChange:w,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-black focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select category"}),n.map(F=>a.jsx("option",{value:F.name,children:F.name},F._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategory *"}),a.jsxs("select",{value:l,onChange:_,required:!0,disabled:!i,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-black focus:border-transparent disabled:bg-gray-100",children:[a.jsx("option",{value:"",children:"Select subcategory"}),(P=n.find(F=>F.name===i))==null?void 0:P.subcategories.map(F=>a.jsx("option",{value:F.name,children:F.name},F.name))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Child Category *"}),a.jsxs("select",{value:u,onChange:B,required:!0,disabled:!l,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-black focus:border-transparent disabled:bg-gray-100",children:[a.jsx("option",{value:"",children:"Select child category"}),(H=(M=n.find(F=>F.name===i))==null?void 0:M.subcategories.find(F=>F.name===l))==null?void 0:H.childCategories.map(F=>a.jsx("option",{value:F,children:F},F))]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Service Tags"}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Press Enter or comma to add tags. Great for search and categorization."}),a.jsx("input",{type:"text",placeholder:"Type a tag and press Enter...",onKeyDown:S,className:"w-full border border-gray-300 rounded-lg px-4 py-2 mb-3"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:b.tags.map((F,Q)=>a.jsxs("span",{className:"bg-black text-white  px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[F,a.jsx("button",{type:"button",onClick:()=>E(Q),className:"text-white hover:text-red-500 font-bold",children:"×"})]},Q))}),b.tags.length===0&&a.jsx("p",{className:"text-gray-400 text-sm",children:"No tags added yet"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Service Images"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Images (up to 10)"}),a.jsx(Xd,{images:A,onImagesChange:f,maxImages:10,multiple:!0})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>r("/dashboard"),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h,className:"bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_s,{size:"sm"}),a.jsx("span",{children:"Creating Service..."})]}):"Create Service"})]})]})]})]})})})},Ree=()=>{var b,y;const{user:t}=On(),r=Hs(),[n,s]=te.useState([]),[i,o]=te.useState(!0),[l,c]=te.useState(null),[u,d]=te.useState(null),[A,f]=te.useState(!1);te.useEffect(()=>{(t==null?void 0:t.role)==="store_owner"&&(t!=null&&t.storeId)?h():r("/dashboard")},[t,r]);const h=async()=>{try{o(!0);const x=await fetch(`http://localhost:10000/api/products?storeId=${t.storeId}`,{credentials:"include"});if(x.ok){const v=await x.json();s(v)}else console.error("Failed to fetch products")}catch(x){console.error("Error fetching products:",x)}finally{o(!1)}},p=async x=>{if(confirm("Are you sure you want to delete this product?")){c(x);try{(await fetch(`http://localhost:10000/api/products/${x}`,{method:"DELETE",credentials:"include"})).ok?(s(n.filter(w=>w._id!==x)),alert("Product deleted successfully!")):alert("Failed to delete product")}catch(v){console.error("Error deleting product:",v),alert("Error deleting product")}finally{c(null)}}},m=x=>{var v,w,_,B;d({...x,price:((v=x.price)==null?void 0:v.toString())||"",stock:((w=x.stock)==null?void 0:w.toString())||"",variants:{colors:((_=x.variants)==null?void 0:_.colors)||[],sizes:((B=x.variants)==null?void 0:B.sizes)||[]}}),f(!0)},g=async x=>{var v,w,_,B;x.preventDefault();try{const N={title:u.title,description:u.description,price:parseFloat(u.price),category:u.category,stock:parseInt(u.stock,10),...((w=(v=u.variants)==null?void 0:v.colors)==null?void 0:w.length)>0||((B=(_=u.variants)==null?void 0:_.sizes)==null?void 0:B.length)>0?{variants:u.variants}:{}};(await fetch(`http://localhost:10000/api/products/${u._id}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).ok?(h(),f(!1),d(null),alert("Product updated successfully!")):alert("Failed to update product")}catch(N){console.error("Error updating product:",N),alert("Error updating product")}};return!t||t.role!=="store_owner"?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"You need to be a store owner to access this page"})]})}):i?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(_s,{size:"xl"})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs($t,{to:"/dashboard",className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors mb-4",children:[a.jsx(Gl,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Dashboard"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Products"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Add, edit, and manage your products"})]}),a.jsxs($t,{to:"/create-product",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors flex items-center space-x-2",children:[a.jsx(Eo,{className:"w-5 h-5"}),a.jsx("span",{children:"Add New Product"})]})]})]}),n.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[a.jsx(Fi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Products Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Start by creating your first product"}),a.jsxs($t,{to:"/create-product",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors inline-flex items-center space-x-2",children:[a.jsx(Eo,{className:"w-5 h-5"}),a.jsx("span",{children:"Create Product"})]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(x=>{var v;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:(v=x.images)!=null&&v[0]?x.images[0].startsWith("http")?x.images[0]:`http://localhost:10000${x.images[0]}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:x.title,className:"w-full h-48 object-cover"}),a.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 rounded text-sm ${x.isActive?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:x.isActive?"Active":"Inactive"})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:x.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:x.description}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-2xl font-bold",children:Lr(x.price)}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Wr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:"4.5"})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("span",{className:"text-sm text-gray-500",children:x.stock>0?`${x.stock} in stock`:"Out of stock"}),a.jsx("span",{className:"text-sm text-gray-500 capitalize",children:x.category})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs($t,{to:`/product/${x._id}`,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded text-sm hover:bg-gray-200 transition-colors flex items-center justify-center space-x-1",children:[a.jsx(Zn,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]}),a.jsxs("button",{onClick:()=>m(x),className:"flex-1 bg-blue-500 text-white py-2 px-3 rounded text-sm hover:bg-blue-600 transition-colors flex items-center justify-center space-x-1",children:[a.jsx(vh,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}),a.jsxs("button",{onClick:()=>p(x._id),disabled:l===x._id,className:"flex-1 bg-red-500 text-white py-2 px-3 rounded text-sm hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center justify-center space-x-1",children:[a.jsx(bh,{className:"w-4 h-4"}),a.jsx("span",{children:l===x._id?"Deleting...":"Delete"})]})]})]})]},x._id)})}),A&&u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Product"}),a.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Title"}),a.jsx("input",{type:"text",value:u.title,onChange:x=>d({...u,title:x.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:u.description,onChange:x=>d({...u,description:x.target.value}),rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (LKR)"}),a.jsx("input",{type:"number",value:u.price,onChange:x=>d({...u,price:x.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity"}),a.jsx("input",{type:"number",value:u.stock,onChange:x=>d({...u,stock:x.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"0"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),a.jsxs("select",{value:u.category,onChange:x=>d({...u,category:x.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,children:[a.jsx("option",{value:"",children:"Select a category"}),a.jsx("option",{value:"Electronics",children:"Electronics"}),a.jsx("option",{value:"Clothing",children:"Clothing"}),a.jsx("option",{value:"Home & Garden",children:"Home & Garden"}),a.jsx("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),a.jsx("option",{value:"Books",children:"Books"}),a.jsx("option",{value:"Beauty & Health",children:"Beauty & Health"}),a.jsx("option",{value:"Toys & Games",children:"Toys & Games"}),a.jsx("option",{value:"Food & Beverages",children:"Food & Beverages"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Variants"}),(((b=u==null?void 0:u.variants)==null?void 0:b.colors)||[]).map((x,v)=>a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Color Name",value:x.name,onChange:w=>{const _=[...u.variants.colors];_[v].name=w.target.value,d(B=>({...B,variants:{...B.variants,colors:_}}))},className:"border border-gray-300 rounded px-2 py-1"}),a.jsx("input",{type:"color",value:x.hex,onChange:w=>{const _=[...u.variants.colors];_[v].hex=w.target.value,d(B=>({...B,variants:{...B.variants,colors:_}}))},className:"w-10 h-10 border"}),a.jsx("button",{type:"button",onClick:()=>{const w=u.variants.colors.filter((_,B)=>B!==v);d(_=>({..._,variants:{..._.variants,colors:w}}))},className:"text-red-500 hover:underline",children:"Remove"})]},v)),a.jsx("button",{type:"button",onClick:()=>{d(x=>({...x,variants:{...x.variants,colors:[...x.variants.colors||[],{name:"",hex:"#000000"}]}}))},className:"text-blue-500 hover:underline mt-2",children:"+ Add Color"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Size Variants"}),(((y=u==null?void 0:u.variants)==null?void 0:y.sizes)||[]).map((x,v)=>a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Size Name",value:x.name,onChange:w=>{const _=[...u.variants.sizes];_[v].name=w.target.value,d(B=>({...B,variants:{...B.variants,sizes:_}}))},className:"border border-gray-300 rounded px-2 py-1"}),a.jsxs("select",{value:x.inStock?"true":"false",onChange:w=>{const _=[...u.variants.sizes];_[v].inStock=w.target.value==="true",d(B=>({...B,variants:{...B.variants,sizes:_}}))},className:"border border-gray-300 rounded px-2 py-1",children:[a.jsx("option",{value:"true",children:"In Stock"}),a.jsx("option",{value:"false",children:"Out of Stock"})]}),a.jsx("button",{type:"button",onClick:()=>{const w=u.variants.sizes.filter((_,B)=>B!==v);d(_=>({..._,variants:{..._.variants,sizes:w}}))},className:"text-red-500 hover:underline",children:"Remove"})]},v)),a.jsx("button",{type:"button",onClick:()=>{d(x=>({...x,variants:{...x.variants,sizes:[...x.variants.sizes||[],{name:"",inStock:!0}]}}))},className:"text-blue-500 hover:underline mt-2",children:"+ Add Size"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800",children:"Update Product"})]})]})]})})})]})})},Mee=()=>{const{user:t}=On(),r=Hs(),[n,s]=te.useState([]),[i,o]=te.useState(!0),[l,c]=te.useState(null),[u,d]=te.useState(null),[A,f]=te.useState(!1);te.useEffect(()=>{(t==null?void 0:t.role)==="store_owner"&&(t!=null&&t.storeId)?h():r("/dashboard")},[t,r]);const h=async()=>{try{o(!0);const b=await fetch(`http://localhost:10000/api/services?storeId=${t.storeId}`,{credentials:"include"});if(b.ok){const y=await b.json();s(y)}else console.error("Failed to fetch services")}catch(b){console.error("Error fetching services:",b)}finally{o(!1)}},p=async b=>{if(confirm("Are you sure you want to delete this service?")){c(b);try{(await fetch(`http://localhost:10000/api/services/${b}`,{method:"DELETE",credentials:"include"})).ok?(s(n.filter(x=>x._id!==b)),alert("Service deleted successfully!")):alert("Failed to delete service")}catch(y){console.error("Error deleting service:",y),alert("Error deleting service")}finally{c(null)}}},m=b=>{d({...b,price:b.price.toString(),duration:b.duration.toString()}),f(!0)},g=async b=>{b.preventDefault();try{const y={title:u.title,description:u.description,price:u.price,priceType:u.priceType,category:u.category,duration:u.duration};(await fetch(`http://localhost:10000/api/services/${u._id}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok?(h(),f(!1),d(null),alert("Service updated successfully!")):alert("Failed to update service")}catch(y){console.error("Error updating service:",y),alert("Error updating service")}};return!t||t.role!=="store_owner"?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"You need to be a store owner to access this page"})]})}):i?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(_s,{size:"xl"})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs($t,{to:"/dashboard",className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors mb-4",children:[a.jsx(Gl,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Dashboard"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Services"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Add, edit, and manage your services"})]}),a.jsxs($t,{to:"/create-service",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors flex items-center space-x-2",children:[a.jsx(Eo,{className:"w-5 h-5"}),a.jsx("span",{children:"Add New Service"})]})]})]}),n.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[a.jsx(Es,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Services Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Start by creating your first service"}),a.jsxs($t,{to:"/create-service",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors inline-flex items-center space-x-2",children:[a.jsx(Eo,{className:"w-5 h-5"}),a.jsx("span",{children:"Create Service"})]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(b=>{var y;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:(y=b.images)!=null&&y[0]?b.images[0].startsWith("http")?b.images[0]:`http://localhost:10000${b.images[0]}`:"https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop",alt:b.title,className:"w-full h-48 object-cover"}),a.jsx("div",{className:"absolute top-2 left-2 bg-black text-white px-2 py-1 rounded text-sm",children:b.priceType}),a.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 rounded text-sm ${b.isActive?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:b.isActive?"Active":"Inactive"})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:b.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:b.description}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("span",{className:"text-2xl font-bold",children:[Lr(b.price),a.jsx("span",{className:"text-sm text-gray-500 ml-1",children:b.priceType==="hourly"?"/hour":""})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Wr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:"4.5"})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx($s,{className:"w-4 h-4"}),a.jsxs("span",{children:[b.duration," min"]})]}),a.jsx("span",{className:"text-sm text-gray-500 capitalize",children:b.category})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs($t,{to:`/service/${b._id}`,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded text-sm hover:bg-gray-200 transition-colors flex items-center justify-center space-x-1",children:[a.jsx(Zn,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]}),a.jsxs("button",{onClick:()=>m(b),className:"flex-1 bg-blue-500 text-white py-2 px-3 rounded text-sm hover:bg-blue-600 transition-colors flex items-center justify-center space-x-1",children:[a.jsx(vh,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}),a.jsxs("button",{onClick:()=>p(b._id),disabled:l===b._id,className:"flex-1 bg-red-500 text-white py-2 px-3 rounded text-sm hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center justify-center space-x-1",children:[a.jsx(bh,{className:"w-4 h-4"}),a.jsx("span",{children:l===b._id?"Deleting...":"Delete"})]})]})]})]},b._id)})}),A&&u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Service"}),a.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Title"}),a.jsx("input",{type:"text",value:u.title,onChange:b=>d({...u,title:b.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:u.description,onChange:b=>d({...u,description:b.target.value}),rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (LKR)"}),a.jsx("input",{type:"number",value:u.price,onChange:b=>d({...u,price:b.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:u.duration,onChange:b=>d({...u,duration:b.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"15",step:"15"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Type"}),a.jsxs("select",{value:u.priceType,onChange:b=>d({...u,priceType:b.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[a.jsx("option",{value:"fixed",children:"Fixed Price"}),a.jsx("option",{value:"hourly",children:"Hourly Rate"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),a.jsxs("select",{value:u.category,onChange:b=>d({...u,category:b.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,children:[a.jsx("option",{value:"",children:"Select a category"}),a.jsx("option",{value:"Tutoring",children:"Tutoring"}),a.jsx("option",{value:"Home Services",children:"Home Services"}),a.jsx("option",{value:"Beauty & Wellness",children:"Beauty & Wellness"}),a.jsx("option",{value:"Consulting",children:"Consulting"}),a.jsx("option",{value:"Fitness",children:"Fitness"}),a.jsx("option",{value:"Technology",children:"Technology"}),a.jsx("option",{value:"Creative Services",children:"Creative Services"}),a.jsx("option",{value:"Professional Services",children:"Professional Services"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800",children:"Update Service"})]})]})]})})})]})})},P_=({status:t,type:r="order"})=>{const s=(()=>{var o;return((o={order:{pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pending"},accepted:{bg:"bg-blue-100",text:"text-blue-800",label:"Accepted"},processing:{bg:"bg-blue-100",text:"text-blue-800",label:"Processing"},ready:{bg:"bg-indigo-100",text:"text-indigo-800",label:"Ready for Pickup"},shipped:{bg:"bg-purple-100",text:"text-purple-800",label:"Shipped"},delivered:{bg:"bg-green-100",text:"text-green-800",label:"Delivered"},cancelled:{bg:"bg-red-100",text:"text-red-800",label:"Cancelled"}},booking:{pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pending"},confirmed:{bg:"bg-blue-100",text:"text-blue-800",label:"Confirmed"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},cancelled:{bg:"bg-red-100",text:"text-red-800",label:"Cancelled"}},payment:{pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pending"},paid:{bg:"bg-green-100",text:"text-green-800",label:"Paid"},failed:{bg:"bg-red-100",text:"text-red-800",label:"Failed"},refunded:{bg:"bg-gray-100",text:"text-gray-800",label:"Refunded"}}}[r])==null?void 0:o[t])||{bg:"bg-gray-100",text:"text-gray-800",label:t}})();return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.bg} ${s.text}`,children:s.label})},Qee=()=>{var K,Y,V;const{user:t}=On(),r=Hs(),[n,s]=te.useState([]),[i,o]=te.useState(!0),[l,c]=te.useState("all"),[u,d]=te.useState(null);te.useState(null);const[A,f]=te.useState(!1),[h,p]=te.useState(null),[m,g]=te.useState({rating:5,comment:""}),[b,y]=te.useState(!1),[x,v]=te.useState(null),[w,_]=te.useState(null),[B,N]=te.useState(new Set);te.useEffect(()=>{if(t){j();const I=setInterval(j,3e4);return()=>clearInterval(I)}},[t]);const j=async()=>{try{o(!0);const I=t.role==="store_owner"?"/api/orders/store":"/api/orders/customer",O=await fetch(`http://localhost:10000${I}`,{credentials:"include"});if(O.ok){const R=await O.json();s(R)}}catch(I){console.error("Error fetching orders:",I)}finally{o(!1)}},C=async(I,O,R="")=>{try{(await fetch(`http://localhost:10000/api/orders/${I}/status`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:O,notes:R})})).ok&&(j(),d(null))}catch(U){console.error("Error updating order status:",U)}},E=I=>{p(I),g({rating:5,comment:""}),f(!0)},S=async I=>{I.preventDefault(),y(!0);try{const O=await fetch("http://localhost:10000/api/reviews",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({storeId:h.storeId._id||h.storeId,orderId:h._id,rating:m.rating,comment:m.comment})});if(O.ok)alert("Review submitted successfully!"),f(!1),p(null),j();else{const R=await O.json();alert(`Error: ${R.error}`)}}catch(O){console.error("Error submitting review:",O),alert("Failed to submit review. Please try again.")}finally{y(!1)}},k=I=>{switch(I){case"pending":return a.jsx($s,{className:"w-4 h-4"});case"accepted":return a.jsx(Kn,{className:"w-4 h-4"});case"processing":return a.jsx(Fi,{className:"w-4 h-4"});case"ready":return a.jsx(Fi,{className:"w-4 h-4"});case"shipped":return a.jsx(Wd,{className:"w-4 h-4"});case"delivered":return a.jsx(Kn,{className:"w-4 h-4"});case"cancelled":return a.jsx(Gu,{className:"w-4 h-4"});default:return a.jsx(Fi,{className:"w-4 h-4"})}},P=I=>{r(`/receipt/${I}?type=order`)},M=async I=>{if(confirm("Are you sure you want to mark this order as delivered?"))try{v(I);const O=await fetch(`http://localhost:10000/api/orders/${I}/mark-delivered`,{method:"PUT",credentials:"include"});if(O.ok)alert("Order marked as delivered successfully!"),j();else{const R=await O.json();alert(`Error: ${R.error}`)}}catch(O){console.error("Error marking order as delivered:",O),alert("Error marking order as delivered. Please try again.")}finally{v(null)}},H=async(I,O)=>{if(confirm(`Are you sure you want to mark this payment as ${O}?`))try{_(I);const R=await fetch(`http://localhost:10000/api/orders/${I}/update-payment-status`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentStatus:O})});if(R.ok)alert("Payment status updated successfully!"),j();else{const U=await R.json();alert(`Error: ${U.error}`)}}catch(R){console.error("Error updating payment status:",R),alert("Error updating payment status. Please try again.")}finally{_(null)}},F=I=>{const O=new Set(B);O.has(I)?O.delete(I):O.add(I),N(O)},Q=n.filter(I=>l==="all"||I.status===l);return t?i?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(_s,{size:"xl"})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.role==="store_owner"?"Store Orders":"My Orders"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:[n.length," order",n.length!==1?"s":""," found"]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"All Orders"},{key:"pending",label:"Pending"},{key:"accepted",label:"Accepted"},{key:"processing",label:"Processing"},{key:"ready",label:"Ready"},{key:"shipped",label:"Shipped"},{key:"delivered",label:"Delivered"},{key:"cancelled",label:"Cancelled"}].map(({key:I,label:O})=>a.jsx("button",{onClick:()=>c(I),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l===I?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:O},I))})}),Q.length===0?a.jsx(PN,{icon:Fi,title:"No orders found",description:"You haven't placed any orders yet or no orders match your current filter."}):a.jsx("div",{className:"space-y-2",children:Q.map(I=>{var U,T,z,G,J,ee,fe,de,ae,xe,X,ie,re,ve,ke,Ce,we,oe,pe,je,Te,be,De,qe;const O=B.has(I._id),R=I.items.reduce((Qe,Re)=>Qe+Re.quantity,0);return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>F(I._id),children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[k(I.status),a.jsxs("span",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["#",I._id.slice(-8)]})]}),a.jsx(P_,{status:I.status})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-gray-900 text-sm sm:text-base",children:["LKR ",I.totalAmount]}),a.jsx("p",{className:"text-xs text-gray-500",children:((U=I.paymentDetails)==null?void 0:U.paymentStatus)==="paid"?"Paid":"Pending"})]}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600 transition-colors p-1",children:O?a.jsx(d8,{className:"w-5 h-5"}):a.jsx(Em,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"mt-3 sm:hidden",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("span",{children:[R," item",R!==1?"s":""]}),a.jsx("span",{children:new Date(I.createdAt).toLocaleDateString()})]}),a.jsxs("div",{children:[t.role==="store_owner"&&a.jsx("span",{children:((T=I.customerId)==null?void 0:T.name)||"Unknown"}),t.role==="customer"&&a.jsx("span",{className:"truncate max-w-24",children:((z=I.storeId)==null?void 0:z.name)||"Unknown Store"})]})]})}),a.jsxs("div",{className:"hidden sm:flex items-center justify-between mt-2",children:[a.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[a.jsxs("span",{children:[R," item",R!==1?"s":""]}),a.jsx("span",{children:new Date(I.createdAt).toLocaleDateString()}),t.role==="store_owner"&&a.jsxs("span",{children:["Customer: ",((G=I.customerId)==null?void 0:G.name)||"Unknown"]}),t.role==="customer"&&a.jsxs("span",{children:["Store: ",((J=I.storeId)==null?void 0:J.name)||"Unknown Store"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[t.role==="store_owner"&&I.status!=="cancelled"&&a.jsxs(a.Fragment,{children:[((ee=I.paymentDetails)==null?void 0:ee.paymentMethod)==="bank_transfer"&&((fe=I.paymentDetails)==null?void 0:fe.paymentStatus)==="pending_bank_transfer"&&a.jsx("button",{onClick:Qe=>{Qe.stopPropagation(),H(I._id,"paid")},disabled:w===I._id,className:"bg-black text-white px-3 py-1.5 rounded text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 min-h-[36px]",children:w===I._id?"...":"Mark Paid"}),((de=I.paymentDetails)==null?void 0:de.paymentMethod)==="cod"&&((ae=I.paymentDetails)==null?void 0:ae.paymentStatus)==="cod_pending"&&a.jsx("button",{onClick:Qe=>{Qe.stopPropagation(),H(I._id,"paid")},disabled:w===I._id,className:"bg-black text-white px-3 py-1.5 rounded text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 min-h-[36px]",children:w===I._id?"...":"Mark Paid"})]}),t.role==="customer"&&I.status!=="cancelled"&&((xe=I.paymentDetails)==null?void 0:xe.paymentMethod)==="cod"&&((X=I.paymentDetails)==null?void 0:X.paymentStatus)==="cod_pending"&&I.canCustomerUpdateStatus&&a.jsx("button",{onClick:Qe=>{Qe.stopPropagation(),M(I._id)},disabled:x===I._id,className:"bg-black text-white px-3 py-1.5 rounded text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 min-h-[36px]",children:x===I._id?"...":"Mark Delivered"})]})]}),a.jsxs("div",{className:"sm:hidden",children:[t.role==="store_owner"&&I.status!=="cancelled"&&a.jsxs("div",{className:"mt-3 space-y-2",children:[((ie=I.paymentDetails)==null?void 0:ie.paymentMethod)==="bank_transfer"&&((re=I.paymentDetails)==null?void 0:re.paymentStatus)==="pending_bank_transfer"&&a.jsx("button",{onClick:Qe=>{Qe.stopPropagation(),H(I._id,"paid")},disabled:w===I._id,className:"w-full bg-black text-white py-2.5 rounded-lg text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 font-medium",children:w===I._id?"Updating Payment...":"Mark Payment as Paid"}),((ve=I.paymentDetails)==null?void 0:ve.paymentMethod)==="cod"&&((ke=I.paymentDetails)==null?void 0:ke.paymentStatus)==="cod_pending"&&a.jsx("button",{onClick:Qe=>{Qe.stopPropagation(),H(I._id,"paid")},disabled:w===I._id,className:"w-full bg-black text-white py-2.5 rounded-lg text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 font-medium",children:w===I._id?"Updating Payment...":"Mark COD Payment as Paid"})]}),t.role==="customer"&&I.status!=="cancelled"&&((Ce=I.paymentDetails)==null?void 0:Ce.paymentMethod)==="cod"&&((we=I.paymentDetails)==null?void 0:we.paymentStatus)==="cod_pending"&&I.canCustomerUpdateStatus&&a.jsx("div",{className:"mt-3",children:a.jsx("button",{onClick:Qe=>{Qe.stopPropagation(),M(I._id)},disabled:x===I._id,className:"w-full bg-black text-white py-2.5 rounded-lg text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 font-medium",children:x===I._id?"Marking as Delivered...":"Mark Order as Delivered"})})]})]}),O&&a.jsx("div",{className:"border-t border-gray-100 animate-in slide-in-from-top duration-200",children:a.jsxs("div",{className:"p-3 space-y-4",children:[a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:t.role==="store_owner"?"Customer:":"Store:"}),a.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.role==="store_owner"?((oe=I.customerId)==null?void 0:oe.name)||"Unknown":((pe=I.storeId)==null?void 0:pe.name)||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Date:"}),a.jsx("p",{className:"font-medium text-gray-900",children:new Date(I.createdAt).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Payment:"}),a.jsx("p",{className:`font-medium ${((Te=(je=I.paymentDetails)==null?void 0:je.paymentStatus)==null?void 0:Te.toLowerCase())==="paid"?"text-green-600":"text-red-600"}`,children:((De=(be=I.paymentDetails)==null?void 0:be.paymentStatus)==null?void 0:De.toLowerCase())==="paid"?"Paid":"Pending"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Items:"}),a.jsx("p",{className:"font-medium text-gray-900",children:R})]})]})}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:["Order Items (",R,")"]}),a.jsx("div",{className:"space-y-2",children:I.items.map((Qe,Re)=>{var We,Me,ot,xt;return a.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded",children:[a.jsx("img",{src:(Me=(We=Qe.productId)==null?void 0:We.images)!=null&&Me[0]?Qe.productId.images[0].startsWith("http")?Qe.productId.images[0]:`http://localhost:10000${Qe.productId.images[0]}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:((ot=Qe.productId)==null?void 0:ot.title)||"Product",className:"w-10 h-10 object-cover rounded flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:((xt=Qe.productId)==null?void 0:xt.title)||"Product"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[Qe.quantity," × LKR ",Qe.price]})]}),a.jsxs("p",{className:"font-medium text-gray-900 text-sm",children:["LKR ",(Qe.price*Qe.quantity).toFixed(2)]})]},Re)})})]}),I.shippingAddress&&a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(ql,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1 text-sm",children:"Shipping Address"}),a.jsxs("div",{className:"text-xs text-gray-600",children:[a.jsx("p",{children:I.shippingAddress.street}),a.jsxs("p",{children:[I.shippingAddress.city,", ",I.shippingAddress.state," ",I.shippingAddress.zipCode]})]})]})]})}),I.trackingNumber&&a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wd,{className:"w-4 h-4 text-black flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"font-medium text-black text-sm",children:"Tracking: "}),a.jsx("span",{className:"text-sm text-gray-700 font-mono bg-gray-50 px-2 py-1 rounded",children:I.trackingNumber})]})]})}),I.status==="delivered"&&t.role==="customer"&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-green-900 text-sm",children:"Order Completed ✅"}),I.reviewed?a.jsx("p",{className:"text-xs text-green-700",children:"Review submitted - Thank you!"}):a.jsx("p",{className:"text-xs text-green-700",children:"Share your experience"})]}),!I.reviewed&&a.jsx("button",{onClick:()=>E(I),className:"bg-green-600 text-white px-3 py-1.5 rounded text-xs hover:bg-green-700 transition-colors",children:"Write Review"})]})}),I.paymentDetails&&a.jsxs("div",{className:"space-y-4",children:[I.paymentDetails.paymentMethod==="bank_transfer"&&t.role==="customer"&&I.paymentDetails.paymentStatus==="pending_bank_transfer"&&a.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-start space-x-2 mb-3",children:[a.jsx(fA,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-semibold text-blue-900 text-sm mb-1",children:["💳 Bank Transfer Required - LKR ",I.totalAmount]}),a.jsx("p",{className:"text-xs text-blue-700",children:"Transfer to the account below and contact the store with receipt."})]})]}),I.bankDetails&&a.jsxs("div",{className:"bg-white border border-blue-200 p-3 rounded-lg mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"🏦 Bank Details"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[I.bankDetails.isVerified&&a.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full",children:"✓ Verified"}),I.bankDetails.isLocked&&a.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium text-gray-700 bg-gray-100 rounded",children:"🔒"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Bank:"}),a.jsx("span",{className:"ml-1 font-medium text-gray-900",children:I.bankDetails.bankName})]}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(I.bankDetails.bankName),className:"text-xs bg-gray-600 text-white px-2 py-1 rounded hover:bg-gray-700",title:"Copy bank name",children:"Copy"})]}),a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Holder:"}),a.jsx("span",{className:"ml-1 font-medium text-gray-900",children:I.bankDetails.accountHolderName})]}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(I.bankDetails.accountHolderName),className:"text-xs bg-gray-600 text-white px-2 py-1 rounded hover:bg-gray-700",title:"Copy account holder name",children:"Copy"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded border-l-4 border-blue-500",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Account Number"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-mono text-lg font-bold text-gray-900 select-all",children:I.bankDetails.accountNumber}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(I.bankDetails.accountNumber),className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",title:"Copy account number",children:"Copy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Branch:"}),a.jsx("span",{className:"ml-1 font-medium text-gray-900",children:I.bankDetails.branchName})]}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(I.bankDetails.branchName),className:"text-xs bg-gray-600 text-white px-2 py-1 rounded hover:bg-gray-700",title:"Copy branch name",children:"Copy"})]})]})]}),a.jsx("div",{className:"bg-blue-100 p-2 rounded",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-blue-700",children:["Reference: ",I._id.slice(-8)]}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(I._id.slice(-8)),className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",title:"Copy reference number",children:"Copy"})]})})]}),I.paymentDetails.paymentMethod==="bank_transfer"&&t.role==="store_owner"&&I.paymentDetails.paymentStatus==="pending_bank_transfer"&&a.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fA,{className:"w-4 h-4 text-orange-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-orange-900 text-sm",children:"Awaiting Bank Transfer"}),a.jsxs("p",{className:"text-xs text-orange-700",children:["LKR ",I.totalAmount," pending"]})]})]}),a.jsx("button",{onClick:()=>H(I._id,"paid"),disabled:w===I._id,className:"bg-orange-600 text-white px-3 py-1.5 rounded text-xs hover:bg-orange-700 transition-colors disabled:opacity-50",children:w===I._id?"Updating...":"Mark Paid"})]})}),I.paymentDetails.paymentMethod==="cod"&&I.paymentDetails.paymentStatus==="cod_pending"&&t.role==="customer"&&I.canCustomerUpdateStatus&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(H0,{className:"w-4 h-4 text-yellow-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-yellow-900 text-sm",children:"Cash on Delivery"}),a.jsx("p",{className:"text-xs text-yellow-700",children:"Confirm when received"})]})]}),a.jsx("button",{onClick:()=>M(I._id),disabled:x===I._id,className:"bg-yellow-600 text-white px-3 py-1.5 rounded text-xs hover:bg-yellow-700 transition-colors disabled:opacity-50",children:x===I._id?"Confirming...":"Received"})]})}),I.paymentDetails.paymentMethod==="cod"&&I.paymentDetails.paymentStatus==="cod_pending"&&t.role==="store_owner"&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(H0,{className:"w-4 h-4 text-green-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-green-900 text-sm",children:"COD Payment"}),a.jsxs("p",{className:"text-xs text-green-700",children:["LKR ",I.totalAmount," on delivery"]})]})]}),a.jsx("button",{onClick:()=>H(I._id,"paid"),disabled:w===I._id,className:"bg-green-600 text-white px-3 py-1.5 rounded text-xs hover:bg-green-700 transition-colors disabled:opacity-50",children:w===I._id?"Updating...":"Mark Paid"})]})})]}),((qe=I.paymentDetails)==null?void 0:qe.paymentStatus)==="paid"&&a.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-green-50",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(x8,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm text-green-900 font-medium",children:"Receipt Available"})]}),a.jsx("button",{onClick:()=>P(I._id),className:"bg-green-600 text-white px-3 py-1.5 rounded text-xs hover:bg-green-700 transition-colors",children:"View Receipt"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>d(I),className:"flex items-center space-x-1 text-gray-700 border border-gray-300 py-1.5 px-3 rounded text-xs hover:bg-gray-50 transition-colors",children:[a.jsx(Zn,{className:"w-3 h-3"}),a.jsx("span",{children:"Details"})]}),t.role==="store_owner"&&a.jsxs(a.Fragment,{children:[I.status==="pending"&&a.jsx("button",{onClick:()=>C(I._id,"accepted"),className:"bg-black text-white py-1.5 px-3 rounded text-xs hover:bg-gray-800 transition-colors",children:"Accept"}),I.status==="accepted"&&a.jsx("button",{onClick:()=>C(I._id,"processing"),className:"bg-black text-white py-1.5 px-3 rounded text-xs hover:bg-gray-800 transition-colors",children:"Process"}),I.status==="processing"&&a.jsx("button",{onClick:()=>C(I._id,"ready"),className:"bg-black text-white py-1.5 px-3 rounded text-xs hover:bg-gray-800 transition-colors",children:"Ready"}),I.status==="ready"&&a.jsx("button",{onClick:()=>C(I._id,"shipped"),className:"bg-black text-white py-1.5 px-3 rounded text-xs hover:bg-gray-800 transition-colors",children:"Ship"}),I.status==="shipped"&&a.jsx("button",{onClick:()=>C(I._id,"delivered"),className:"bg-black text-white py-1.5 px-3 rounded text-xs hover:bg-gray-800 transition-colors",children:"Delivered"}),I.status==="pending"&&a.jsx("button",{onClick:()=>C(I._id,"cancelled"),className:"bg-gray-600 text-white py-1.5 px-3 rounded text-xs hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]})})]},I._id)})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Order Details #",u._id.slice(-8)]}),a.jsx("button",{onClick:()=>d(null),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(P_,{status:u.status}),a.jsxs("span",{className:"text-gray-600",children:["Ordered on"," ",new Date(u.createdAt).toLocaleDateString()]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Order Items"}),a.jsx("div",{className:"space-y-3",children:u.items.map((I,O)=>{var R,U,T,z;return a.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[a.jsx("img",{src:(U=(R=I.productId)==null?void 0:R.images)!=null&&U[0]?I.productId.images[0].startsWith("http")?I.productId.images[0]:`http://localhost:10000${I.productId.images[0]}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:((T=I.productId)==null?void 0:T.title)||"Product",className:"w-16 h-16 object-cover rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:((z=I.productId)==null?void 0:z.title)||"Product"}),a.jsxs("p",{className:"text-gray-600",children:["Quantity: ",I.quantity]}),a.jsxs("p",{className:"text-gray-600",children:["Price: LKR ",I.price]})]}),a.jsxs("p",{className:"font-semibold text-gray-900",children:["LKR ",(I.price*I.quantity).toFixed(2)]})]},O)})})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Order Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["LKR ",u.storeAmount]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Platform Fee:"}),a.jsxs("span",{children:["LKR ",u.platformFee]})]}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["LKR ",u.totalAmount]})]})]})]}),u.shippingAddress&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Shipping Address"}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("p",{children:u.shippingAddress.street}),a.jsxs("p",{children:[u.shippingAddress.city,","," ",u.shippingAddress.state]}),a.jsxs("p",{children:[u.shippingAddress.zipCode,","," ",u.shippingAddress.country]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Payment Details"}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",((K=u.paymentDetails)==null?void 0:K.paymentStatus)||"Paid"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Method:"})," ",((Y=u.paymentDetails)==null?void 0:Y.paymentMethod)||"Local Payment"]}),((V=u.paymentDetails)==null?void 0:V.paidAt)&&a.jsxs("p",{children:[a.jsx("strong",{children:"Paid At:"})," ",new Date(u.paymentDetails.paidAt).toLocaleString()]})]})]})]})]})})})]}),A&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Write a Review"}),a.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),a.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(I=>a.jsx("button",{type:"button",onClick:()=>g({...m,rating:I}),className:`w-8 h-8 ${I<=m.rating?"text-yellow-400 fill-current":"text-gray-300"}`,children:a.jsx(Wr,{className:"w-full h-full"})},I))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),a.jsx("textarea",{value:m.comment,onChange:I=>g({...m,comment:I.target.value}),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Share your experience with this order...",required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 disabled:opacity-50",children:b?"Submitting...":"Submit Review"})]})]})]})})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please log in to view orders"})})})},$ee=()=>{var H;const{user:t}=On(),r=Hs(),[n,s]=te.useState([]),[i,o]=te.useState(!0),[l,c]=te.useState(null),[u,d]=te.useState(!1),[A,f]=te.useState(null),[h,p]=te.useState({rating:5,comment:""}),[m,g]=te.useState(!1),[b,y]=te.useState(null),[x,v]=te.useState(null),[w,_]=te.useState(new Set);te.useEffect(()=>{t&&B()},[t]);const B=async()=>{try{const F=t.role==="store_owner"?"/api/bookings/store":"/api/bookings/customer",Q=await fetch(`http://localhost:10000${F}`,{credentials:"include"});if(Q.ok){const K=await Q.json();s(K)}}catch(F){console.error("Error fetching bookings:",F)}finally{o(!1)}},N=async(F,Q)=>{try{(await fetch(`http://localhost:10000/api/bookings/${F}/status`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:Q})})).ok&&(B(),c(null))}catch(K){console.error("Error updating booking status:",K)}},j=F=>{f(F),p({rating:5,comment:""}),d(!0)},C=async F=>{F.preventDefault(),g(!0);try{const Q=await fetch("http://localhost:10000/api/reviews",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({storeId:A.storeId._id||A.storeId,bookingId:A._id,rating:h.rating,comment:h.comment})});if(Q.ok)alert("Review submitted successfully!"),d(!1),f(null),B();else{const K=await Q.json();alert(`Error: ${K.error}`)}}catch(Q){console.error("Error submitting review:",Q),alert("Failed to submit review. Please try again.")}finally{g(!1)}},E=F=>{r(`/receipt/${F}?type=booking`)},S=async F=>{if(confirm("Are you sure you want to mark this booking as completed?"))try{y(F);const Q=await fetch(`http://localhost:10000/api/bookings/${F}/mark-delivered`,{method:"PUT",credentials:"include"});if(Q.ok)alert("Booking marked as completed successfully!"),B();else{const K=await Q.json();alert(`Error: ${K.error}`)}}catch(Q){console.error("Error marking booking as completed:",Q),alert("Error marking booking as completed. Please try again.")}finally{y(null)}},k=async(F,Q)=>{if(confirm(`Are you sure you want to mark this payment as ${Q}?`))try{v(F);const K=await fetch(`http://localhost:10000/api/bookings/${F}/update-payment-status`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentStatus:Q})});if(K.ok)alert("Payment status updated successfully!"),B();else{const Y=await K.json();alert(`Error: ${Y.error}`)}}catch(K){console.error("Error updating payment status:",K),alert("Error updating payment status. Please try again.")}finally{v(null)}},P=F=>{const Q=new Set(w);Q.has(F)?Q.delete(F):Q.add(F),_(Q)},M=F=>{switch(F){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return t?i?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black"})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.role==="store_owner"?"Store Bookings":"My Bookings"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:[n.length," booking",n.length!==1?"s":""," found"]})]}),n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Es,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No bookings found"}),a.jsx("p",{className:"text-gray-600",children:t.role==="store_owner"?"You haven't received any bookings yet":"You haven't made any bookings yet"})]}):a.jsx("div",{className:"space-y-2",children:n.map(F=>{var K,Y,V,I,O,R,U,T,z,G,J,ee,fe,de,ae,xe,X,ie,re,ve,ke,Ce,we,oe,pe,je,Te,be,De;const Q=w.has(F._id);return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>P(F._id),children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Es,{className:"w-4 h-4 text-black"}),a.jsxs("span",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["#",F._id.slice(-6)]})]}),a.jsx("span",{className:`inline-block px-3 py-1 text-xs rounded-full ${M(F.status)}`,children:F.status})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-gray-900 text-sm sm:text-base",children:["LKR ",F.totalAmount]}),a.jsx("p",{className:"text-xs text-gray-500",children:((K=F.paymentDetails)==null?void 0:K.paymentStatus)==="paid"?"Paid":"Pending"})]}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600 transition-colors p-1",children:Q?a.jsx(d8,{className:"w-5 h-5"}):a.jsx(Em,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"mt-3 sm:hidden",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"truncate max-w-20",children:((Y=F.serviceId)==null?void 0:Y.title)||"Service"}),a.jsx("span",{children:new Date(F.bookingDate).toLocaleDateString()})]}),a.jsx("div",{className:"text-xs",children:a.jsxs("span",{children:[F.startTime,"-",F.endTime]})})]}),t.role==="store_owner"&&a.jsx("div",{className:"mt-1 text-sm text-gray-600",children:a.jsxs("span",{children:["Customer: ",((V=F.customerId)==null?void 0:V.name)||"Unknown"]})})]}),a.jsxs("div",{className:"hidden sm:flex items-center justify-between mt-2",children:[a.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[a.jsx("span",{children:((I=F.serviceId)==null?void 0:I.title)||"Service"}),a.jsx("span",{children:new Date(F.bookingDate).toLocaleDateString()}),a.jsxs("span",{children:[F.startTime," - ",F.endTime]}),t.role==="store_owner"&&a.jsxs("span",{children:["Customer: ",((O=F.customerId)==null?void 0:O.name)||"Unknown"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[t.role==="store_owner"&&F.status!=="cancelled"&&a.jsxs(a.Fragment,{children:[((R=F.paymentDetails)==null?void 0:R.paymentMethod)==="bank_transfer"&&((U=F.paymentDetails)==null?void 0:U.paymentStatus)==="pending_bank_transfer"&&a.jsx("button",{onClick:qe=>{qe.stopPropagation(),k(F._id,"paid")},disabled:x===F._id,className:"bg-black text-white px-3 py-1.5 rounded text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 min-h-[36px]",children:x===F._id?"...":"Mark Paid"}),((T=F.paymentDetails)==null?void 0:T.paymentMethod)==="cod"&&((z=F.paymentDetails)==null?void 0:z.paymentStatus)==="cod_pending"&&a.jsx("button",{onClick:qe=>{qe.stopPropagation(),k(F._id,"paid")},disabled:x===F._id,className:"bg-black text-white px-3 py-1.5 rounded text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 min-h-[36px]",children:x===F._id?"...":"Mark Paid"})]}),t.role==="customer"&&F.status!=="cancelled"&&((G=F.paymentDetails)==null?void 0:G.paymentMethod)==="cod"&&((J=F.paymentDetails)==null?void 0:J.paymentStatus)==="cod_pending"&&F.canCustomerUpdateStatus&&a.jsx("button",{onClick:qe=>{qe.stopPropagation(),S(F._id)},disabled:b===F._id,className:"bg-black text-white px-3 py-1.5 rounded text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 min-h-[36px]",children:b===F._id?"...":"Mark Complete"})]})]}),a.jsxs("div",{className:"sm:hidden",children:[t.role==="store_owner"&&F.status!=="cancelled"&&a.jsxs("div",{className:"mt-3 space-y-2",children:[((ee=F.paymentDetails)==null?void 0:ee.paymentMethod)==="bank_transfer"&&((fe=F.paymentDetails)==null?void 0:fe.paymentStatus)==="pending_bank_transfer"&&a.jsx("button",{onClick:qe=>{qe.stopPropagation(),k(F._id,"paid")},disabled:x===F._id,className:"w-full bg-black text-white py-2.5 rounded-lg text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 font-medium",children:x===F._id?"Updating Payment...":"Mark Payment as Paid"}),((de=F.paymentDetails)==null?void 0:de.paymentMethod)==="cod"&&((ae=F.paymentDetails)==null?void 0:ae.paymentStatus)==="cod_pending"&&a.jsx("button",{onClick:qe=>{qe.stopPropagation(),k(F._id,"paid")},disabled:x===F._id,className:"w-full bg-black text-white py-2.5 rounded-lg text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 font-medium",children:x===F._id?"Updating Payment...":"Mark COD Payment as Paid"})]}),t.role==="customer"&&F.status!=="cancelled"&&((xe=F.paymentDetails)==null?void 0:xe.paymentMethod)==="cod"&&((X=F.paymentDetails)==null?void 0:X.paymentStatus)==="cod_pending"&&F.canCustomerUpdateStatus&&a.jsx("div",{className:"mt-3",children:a.jsx("button",{onClick:qe=>{qe.stopPropagation(),S(F._id)},disabled:b===F._id,className:"w-full bg-black text-white py-2.5 rounded-lg text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 font-medium",children:b===F._id?"Marking as Completed...":"Mark Service as Completed"})})]})]}),Q&&a.jsx("div",{className:"border-t border-gray-100 animate-in slide-in-from-top duration-200",children:a.jsxs("div",{className:"p-3 space-y-4",children:[a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:t.role==="store_owner"?"Customer:":"Service:"}),a.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.role==="store_owner"?((ie=F.customerId)==null?void 0:ie.name)||"Unknown":((re=F.serviceId)==null?void 0:re.title)||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Date:"}),a.jsx("p",{className:"font-medium text-gray-900",children:new Date(F.bookingDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Time:"}),a.jsxs("p",{className:"font-medium text-gray-900 text-xs",children:[F.startTime,"-",F.endTime]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Payment:"}),a.jsx("p",{className:`font-medium ${((ke=(ve=F.paymentDetails)==null?void 0:ve.paymentStatus)==null?void 0:ke.toLowerCase())==="paid"?"text-green-600":"text-red-600"}`,children:((we=(Ce=F.paymentDetails)==null?void 0:Ce.paymentStatus)==null?void 0:we.toLowerCase())==="paid"?"Paid":"Pending"})]})]})}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Service Information"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:(pe=(oe=F.serviceId)==null?void 0:oe.images)!=null&&pe[0]?F.serviceId.images[0].startsWith("http")?F.serviceId.images[0]:`http://localhost:10000${F.serviceId.images[0]}`:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop",alt:((je=F.serviceId)==null?void 0:je.title)||"Service",className:"w-12 h-12 object-cover rounded-lg flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:((Te=F.serviceId)==null?void 0:Te.title)||"Service"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[((be=F.serviceId)==null?void 0:be.category)||"Service"," • LKR ",F.totalAmount]})]})]})]}),F.notes&&a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1 text-sm",children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:F.notes})]}),F.paymentDetails&&a.jsxs("div",{className:"space-y-4",children:[F.paymentDetails.paymentMethod==="bank_transfer"&&t.role==="customer"&&F.paymentDetails.paymentStatus==="pending_bank_transfer"&&a.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-start space-x-2 mb-3",children:[a.jsx(fA,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-semibold text-blue-900 text-sm mb-1",children:["🏦 Bank Transfer Required - LKR ",F.totalAmount]}),a.jsx("p",{className:"text-xs text-blue-700",children:"Transfer to the account below and contact the store with receipt."})]})]}),F.bankDetails&&a.jsxs("div",{className:"bg-white border border-blue-200 p-3 rounded-lg mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"🏛️ Bank Details"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[F.bankDetails.isVerified&&a.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full",children:"✓ Verified"}),F.bankDetails.isLocked&&a.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium text-gray-700 bg-gray-100 rounded",children:"🔒"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Bank:"}),a.jsx("span",{className:"ml-1 font-medium text-gray-900",children:F.bankDetails.bankName})]}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(F.bankDetails.bankName),className:"text-xs bg-gray-600 text-white px-2 py-1 rounded hover:bg-gray-700",title:"Copy bank name",children:"Copy"})]}),a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Holder:"}),a.jsx("span",{className:"ml-1 font-medium text-gray-900",children:F.bankDetails.accountHolderName})]}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(F.bankDetails.accountHolderName),className:"text-xs bg-gray-600 text-white px-2 py-1 rounded hover:bg-gray-700",title:"Copy account holder name",children:"Copy"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded border-l-4 border-blue-500",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Account Number"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-mono text-lg font-bold text-gray-900 select-all",children:F.bankDetails.accountNumber}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(F.bankDetails.accountNumber),className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",title:"Copy account number",children:"Copy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Branch:"}),a.jsx("span",{className:"ml-1 font-medium text-gray-900",children:F.bankDetails.branchName})]}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(F.bankDetails.branchName),className:"text-xs bg-gray-600 text-white px-2 py-1 rounded hover:bg-gray-700",title:"Copy branch name",children:"Copy"})]})]})]}),a.jsx("div",{className:"bg-blue-100 p-2 rounded",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-blue-700",children:["Reference: ",F._id.slice(-8)]}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(F._id.slice(-8)),className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",title:"Copy reference number",children:"Copy"})]})})]}),F.paymentDetails.paymentMethod==="bank_transfer"&&t.role==="store_owner"&&F.paymentDetails.paymentStatus==="pending_bank_transfer"&&a.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fA,{className:"w-4 h-4 text-orange-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-orange-900 text-sm",children:"Awaiting Bank Transfer"}),a.jsxs("p",{className:"text-xs text-orange-700",children:["LKR ",F.totalAmount," pending"]})]})]}),a.jsx("button",{onClick:()=>k(F._id,"paid"),disabled:x===F._id,className:"bg-orange-600 text-white px-3 py-1.5 rounded text-xs hover:bg-orange-700 transition-colors disabled:opacity-50",children:x===F._id?"Updating...":"Mark Paid"})]})}),F.paymentDetails.paymentMethod==="cod"&&F.paymentDetails.paymentStatus==="cod_pending"&&t.role==="customer"&&F.canCustomerUpdateStatus&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(H0,{className:"w-4 h-4 text-yellow-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-yellow-900 text-sm",children:"Cash on Service"}),a.jsx("p",{className:"text-xs text-yellow-700",children:"Confirm when completed"})]})]}),a.jsx("button",{onClick:()=>S(F._id),disabled:b===F._id,className:"bg-yellow-600 text-white px-3 py-1.5 rounded text-xs hover:bg-yellow-700 transition-colors disabled:opacity-50",children:b===F._id?"Confirming...":"Completed"})]})}),F.paymentDetails.paymentMethod==="cod"&&F.paymentDetails.paymentStatus==="cod_pending"&&t.role==="store_owner"&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(H0,{className:"w-4 h-4 text-green-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-green-900 text-sm",children:"Cash on Service"}),a.jsxs("p",{className:"text-xs text-green-700",children:["LKR ",F.totalAmount," on completion"]})]})]}),a.jsx("button",{onClick:()=>k(F._id,"paid"),disabled:x===F._id,className:"bg-green-600 text-white px-3 py-1.5 rounded text-xs hover:bg-green-700 transition-colors disabled:opacity-50",children:x===F._id?"Updating...":"Mark Paid"})]})})]}),((De=F.paymentDetails)==null?void 0:De.paymentStatus)==="paid"&&a.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-green-50",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(x8,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm text-green-900 font-medium",children:"Receipt Available"})]}),a.jsx("button",{onClick:()=>E(F._id),className:"bg-green-600 text-white px-3 py-1.5 rounded text-xs hover:bg-green-700 transition-colors",children:"View Receipt"})]}),F.status==="completed"&&t.role==="customer"&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-green-900 text-sm",children:"Service Completed ✅"}),F.reviewed?a.jsx("p",{className:"text-xs text-green-700",children:"Review submitted - Thank you!"}):a.jsx("p",{className:"text-xs text-green-700",children:"Share your experience"})]}),!F.reviewed&&a.jsx("button",{onClick:()=>j(F),className:"bg-green-600 text-white px-3 py-1.5 rounded text-xs hover:bg-green-700 transition-colors",children:"Write Review"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>c(F),className:"flex items-center space-x-1 text-gray-700 border border-gray-300 py-1.5 px-3 rounded text-xs hover:bg-gray-50 transition-colors",children:[a.jsx(Zn,{className:"w-3 h-3"}),a.jsx("span",{children:"Details"})]}),t.role==="store_owner"&&a.jsxs(a.Fragment,{children:[F.status==="pending"&&a.jsx("button",{onClick:()=>N(F._id,"confirmed"),className:"bg-black text-white py-1.5 px-3 rounded text-xs hover:bg-gray-800 transition-colors",children:"Confirm"}),F.status==="confirmed"&&a.jsx("button",{onClick:()=>N(F._id,"completed"),className:"bg-black text-white py-1.5 px-3 rounded text-xs hover:bg-gray-800 transition-colors",children:"Complete"}),F.status==="pending"&&a.jsx("button",{onClick:()=>N(F._id,"cancelled"),className:"bg-gray-600 text-white py-1.5 px-3 rounded text-xs hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]})})]},F._id)})}),l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Booking Details #",l._id.slice(-6)]}),a.jsx("button",{onClick:()=>c(null),className:"text-gray-500 hover:text-gray-700",children:"×"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Service:"})," ",(H=l.serviceId)==null?void 0:H.title]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",l.status]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Date:"})," ",new Date(l.bookingDate).toLocaleDateString()]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Time:"})," ",l.startTime," -"," ",l.endTime]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Total:"})," ",l.totalAmount," LKR"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Platform Fee:"})," ",l.platformFee," ","LKR"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Store Amount:"})," ",l.storeAmount," ","LKR"]})]}),l.notes&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Notes:"}),a.jsx("p",{children:l.notes})]}),l.paymentDetails&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Payment Details:"}),a.jsxs("p",{children:["Status: ",l.paymentDetails.paymentStatus]}),l.paymentDetails.paidAt&&a.jsxs("p",{children:["Paid:"," ",new Date(l.paymentDetails.paidAt).toLocaleString()]})]})]})]})})]}),u&&A&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Write a Review"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),a.jsxs("form",{onSubmit:C,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),a.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(F=>a.jsx("button",{type:"button",onClick:()=>p({...h,rating:F}),className:`w-8 h-8 ${F<=h.rating?"text-yellow-400 fill-current":"text-gray-300"}`,children:a.jsx(Wr,{className:"w-full h-full"})},F))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),a.jsx("textarea",{value:h.comment,onChange:F=>p({...h,comment:F.target.value}),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Share your experience with this service...",required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 disabled:opacity-50",children:m?"Submitting...":"Submit Review"})]})]})]})})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please log in to view bookings"})})})};function _n(t){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_n(t)}var Ji=Uint8Array,qa=Uint16Array,rS=Int32Array,C1=new Ji([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_1=new Ji([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s4=new Ji([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zP=function(t,r){for(var n=new qa(31),s=0;s<31;++s)n[s]=r+=1<<t[s-1];for(var i=new rS(n[30]),s=1;s<30;++s)for(var o=n[s];o<n[s+1];++o)i[o]=o-n[s]<<5|s;return{b:n,r:i}},KP=zP(C1,2),GP=KP.b,i4=KP.r;GP[28]=258,i4[258]=28;var WP=zP(_1,0),Hee=WP.b,L_=WP.r,a4=new qa(32768);for(var ns=0;ns<32768;++ns){var eu=(ns&43690)>>1|(ns&21845)<<1;eu=(eu&52428)>>2|(eu&13107)<<2,eu=(eu&61680)>>4|(eu&3855)<<4,a4[ns]=((eu&65280)>>8|(eu&255)<<8)>>1}var Ul=function(t,r,n){for(var s=t.length,i=0,o=new qa(r);i<s;++i)t[i]&&++o[t[i]-1];var l=new qa(r);for(i=1;i<r;++i)l[i]=l[i-1]+o[i-1]<<1;var c;if(n){c=new qa(1<<r);var u=15-r;for(i=0;i<s;++i)if(t[i])for(var d=i<<4|t[i],A=r-t[i],f=l[t[i]-1]++<<A,h=f|(1<<A)-1;f<=h;++f)c[a4[f]>>u]=d}else for(c=new qa(s),i=0;i<s;++i)t[i]&&(c[i]=a4[l[t[i]-1]++]>>15-t[i]);return c},Wu=new Ji(288);for(var ns=0;ns<144;++ns)Wu[ns]=8;for(var ns=144;ns<256;++ns)Wu[ns]=9;for(var ns=256;ns<280;++ns)Wu[ns]=7;for(var ns=280;ns<288;++ns)Wu[ns]=8;var em=new Ji(32);for(var ns=0;ns<32;++ns)em[ns]=5;var Vee=Ul(Wu,9,0),zee=Ul(Wu,9,1),Kee=Ul(em,5,0),Gee=Ul(em,5,1),ww=function(t){for(var r=t[0],n=1;n<t.length;++n)t[n]>r&&(r=t[n]);return r},Uo=function(t,r,n){var s=r/8|0;return(t[s]|t[s+1]<<8)>>(r&7)&n},jw=function(t,r){var n=r/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(r&7)},nS=function(t){return(t+7)/8|0},qP=function(t,r,n){return(n==null||n>t.length)&&(n=t.length),new Ji(t.subarray(r,n))},Wee=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Go=function(t,r,n){var s=new Error(r||Wee[t]);if(s.code=t,Error.captureStackTrace&&Error.captureStackTrace(s,Go),!n)throw s;return s},qee=function(t,r,n,s){var i=t.length,o=0;if(!i||r.f&&!r.l)return n||new Ji(0);var l=!n,c=l||r.i!=2,u=r.i;l&&(n=new Ji(i*3));var d=function(de){var ae=n.length;if(de>ae){var xe=new Ji(Math.max(ae*2,de));xe.set(n),n=xe}},A=r.f||0,f=r.p||0,h=r.b||0,p=r.l,m=r.d,g=r.m,b=r.n,y=i*8;do{if(!p){A=Uo(t,f,1);var x=Uo(t,f+1,3);if(f+=3,x)if(x==1)p=zee,m=Gee,g=9,b=5;else if(x==2){var B=Uo(t,f,31)+257,N=Uo(t,f+10,15)+4,j=B+Uo(t,f+5,31)+1;f+=14;for(var C=new Ji(j),E=new Ji(19),S=0;S<N;++S)E[s4[S]]=Uo(t,f+S*3,7);f+=N*3;for(var k=ww(E),P=(1<<k)-1,M=Ul(E,k,1),S=0;S<j;){var H=M[Uo(t,f,P)];f+=H&15;var v=H>>4;if(v<16)C[S++]=v;else{var F=0,Q=0;for(v==16?(Q=3+Uo(t,f,3),f+=2,F=C[S-1]):v==17?(Q=3+Uo(t,f,7),f+=3):v==18&&(Q=11+Uo(t,f,127),f+=7);Q--;)C[S++]=F}}var K=C.subarray(0,B),Y=C.subarray(B);g=ww(K),b=ww(Y),p=Ul(K,g,1),m=Ul(Y,b,1)}else Go(1);else{var v=nS(f)+4,w=t[v-4]|t[v-3]<<8,_=v+w;if(_>i){u&&Go(0);break}c&&d(h+w),n.set(t.subarray(v,_),h),r.b=h+=w,r.p=f=_*8,r.f=A;continue}if(f>y){u&&Go(0);break}}c&&d(h+131072);for(var V=(1<<g)-1,I=(1<<b)-1,O=f;;O=f){var F=p[jw(t,f)&V],R=F>>4;if(f+=F&15,f>y){u&&Go(0);break}if(F||Go(2),R<256)n[h++]=R;else if(R==256){O=f,p=null;break}else{var U=R-254;if(R>264){var S=R-257,T=C1[S];U=Uo(t,f,(1<<T)-1)+GP[S],f+=T}var z=m[jw(t,f)&I],G=z>>4;z||Go(3),f+=z&15;var Y=Hee[G];if(G>3){var T=_1[G];Y+=jw(t,f)&(1<<T)-1,f+=T}if(f>y){u&&Go(0);break}c&&d(h+131072);var J=h+U;if(h<Y){var ee=o-Y,fe=Math.min(Y,J);for(ee+h<0&&Go(3);h<fe;++h)n[h]=s[ee+h]}for(;h<J;++h)n[h]=n[h-Y]}}r.l=p,r.p=O,r.b=h,r.f=A,p&&(A=1,r.m=g,r.d=m,r.n=b)}while(!A);return h!=n.length&&l?qP(n,0,h):n.subarray(0,h)},ac=function(t,r,n){n<<=r&7;var s=r/8|0;t[s]|=n,t[s+1]|=n>>8},xp=function(t,r,n){n<<=r&7;var s=r/8|0;t[s]|=n,t[s+1]|=n>>8,t[s+2]|=n>>16},Nw=function(t,r){for(var n=[],s=0;s<t.length;++s)t[s]&&n.push({s,f:t[s]});var i=n.length,o=n.slice();if(!i)return{t:XP,l:0};if(i==1){var l=new Ji(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(_,B){return _.f-B.f}),n.push({s:-1,f:25001});var c=n[0],u=n[1],d=0,A=1,f=2;for(n[0]={s:-1,f:c.f+u.f,l:c,r:u};A!=i-1;)c=n[n[d].f<n[f].f?d++:f++],u=n[d!=A&&n[d].f<n[f].f?d++:f++],n[A++]={s:-1,f:c.f+u.f,l:c,r:u};for(var h=o[0].s,s=1;s<i;++s)o[s].s>h&&(h=o[s].s);var p=new qa(h+1),m=o4(n[A-1],p,0);if(m>r){var s=0,g=0,b=m-r,y=1<<b;for(o.sort(function(B,N){return p[N.s]-p[B.s]||B.f-N.f});s<i;++s){var x=o[s].s;if(p[x]>r)g+=y-(1<<m-p[x]),p[x]=r;else break}for(g>>=b;g>0;){var v=o[s].s;p[v]<r?g-=1<<r-p[v]++-1:++s}for(;s>=0&&g;--s){var w=o[s].s;p[w]==r&&(--p[w],++g)}m=r}return{t:new Ji(p),l:m}},o4=function(t,r,n){return t.s==-1?Math.max(o4(t.l,r,n+1),o4(t.r,r,n+1)):r[t.s]=n},D_=function(t){for(var r=t.length;r&&!t[--r];);for(var n=new qa(++r),s=0,i=t[0],o=1,l=function(u){n[s++]=u},c=1;c<=r;++c)if(t[c]==i&&c!=r)++o;else{if(!i&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(i),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(i);o=1,i=t[c]}return{c:n.subarray(0,s),n:r}},vp=function(t,r){for(var n=0,s=0;s<r.length;++s)n+=t[s]*r[s];return n},YP=function(t,r,n){var s=n.length,i=nS(r+2);t[i]=s&255,t[i+1]=s>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<s;++o)t[i+o+4]=n[o];return(i+4+s)*8},U_=function(t,r,n,s,i,o,l,c,u,d,A){ac(r,A++,n),++i[256];for(var f=Nw(i,15),h=f.t,p=f.l,m=Nw(o,15),g=m.t,b=m.l,y=D_(h),x=y.c,v=y.n,w=D_(g),_=w.c,B=w.n,N=new qa(19),j=0;j<x.length;++j)++N[x[j]&31];for(var j=0;j<_.length;++j)++N[_[j]&31];for(var C=Nw(N,7),E=C.t,S=C.l,k=19;k>4&&!E[s4[k-1]];--k);var P=d+5<<3,M=vp(i,Wu)+vp(o,em)+l,H=vp(i,h)+vp(o,g)+l+14+3*k+vp(N,E)+2*N[16]+3*N[17]+7*N[18];if(u>=0&&P<=M&&P<=H)return YP(r,A,t.subarray(u,u+d));var F,Q,K,Y;if(ac(r,A,1+(H<M)),A+=2,H<M){F=Ul(h,p,0),Q=h,K=Ul(g,b,0),Y=g;var V=Ul(E,S,0);ac(r,A,v-257),ac(r,A+5,B-1),ac(r,A+10,k-4),A+=14;for(var j=0;j<k;++j)ac(r,A+3*j,E[s4[j]]);A+=3*k;for(var I=[x,_],O=0;O<2;++O)for(var R=I[O],j=0;j<R.length;++j){var U=R[j]&31;ac(r,A,V[U]),A+=E[U],U>15&&(ac(r,A,R[j]>>5&127),A+=R[j]>>12)}}else F=Vee,Q=Wu,K=Kee,Y=em;for(var j=0;j<c;++j){var T=s[j];if(T>255){var U=T>>18&31;xp(r,A,F[U+257]),A+=Q[U+257],U>7&&(ac(r,A,T>>23&31),A+=C1[U]);var z=T&31;xp(r,A,K[z]),A+=Y[z],z>3&&(xp(r,A,T>>5&8191),A+=_1[z])}else xp(r,A,F[T]),A+=Q[T]}return xp(r,A,F[256]),A+Q[256]},Yee=new rS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),XP=new Ji(0),Xee=function(t,r,n,s,i,o){var l=o.z||t.length,c=new Ji(s+l+5*(1+Math.ceil(l/7e3))+i),u=c.subarray(s,c.length-i),d=o.l,A=(o.r||0)&7;if(r){A&&(u[0]=o.r>>3);for(var f=Yee[r-1],h=f>>13,p=f&8191,m=(1<<n)-1,g=o.p||new qa(32768),b=o.h||new qa(m+1),y=Math.ceil(n/3),x=2*y,v=function(X){return(t[X]^t[X+1]<<y^t[X+2]<<x)&m},w=new rS(25e3),_=new qa(288),B=new qa(32),N=0,j=0,C=o.i||0,E=0,S=o.w||0,k=0;C+2<l;++C){var P=v(C),M=C&32767,H=b[P];if(g[M]=H,b[P]=M,S<=C){var F=l-C;if((N>7e3||E>24576)&&(F>423||!d)){A=U_(t,u,0,w,_,B,j,E,k,C-k,A),E=N=j=0,k=C;for(var Q=0;Q<286;++Q)_[Q]=0;for(var Q=0;Q<30;++Q)B[Q]=0}var K=2,Y=0,V=p,I=M-H&32767;if(F>2&&P==v(C-I))for(var O=Math.min(h,F)-1,R=Math.min(32767,C),U=Math.min(258,F);I<=R&&--V&&M!=H;){if(t[C+K]==t[C+K-I]){for(var T=0;T<U&&t[C+T]==t[C+T-I];++T);if(T>K){if(K=T,Y=I,T>O)break;for(var z=Math.min(I,T-2),G=0,Q=0;Q<z;++Q){var J=C-I+Q&32767,ee=g[J],fe=J-ee&32767;fe>G&&(G=fe,H=J)}}}M=H,H=g[M],I+=M-H&32767}if(Y){w[E++]=268435456|i4[K]<<18|L_[Y];var de=i4[K]&31,ae=L_[Y]&31;j+=C1[de]+_1[ae],++_[257+de],++B[ae],S=C+K,++N}else w[E++]=t[C],++_[t[C]]}}for(C=Math.max(C,S);C<l;++C)w[E++]=t[C],++_[t[C]];A=U_(t,u,d,w,_,B,j,E,k,C-k,A),d||(o.r=A&7|u[A/8|0]<<3,A-=7,o.h=b,o.p=g,o.i=C,o.w=S)}else{for(var C=o.w||0;C<l+d;C+=65535){var xe=C+65535;xe>=l&&(u[A/8|0]=d,xe=l),A=YP(u,A+1,t.subarray(C,xe))}o.i=l}return qP(c,0,s+nS(A)+i)},JP=function(){var t=1,r=0;return{p:function(n){for(var s=t,i=r,o=n.length|0,l=0;l!=o;){for(var c=Math.min(l+2655,o);l<c;++l)i+=s+=n[l];s=(s&65535)+15*(s>>16),i=(i&65535)+15*(i>>16)}t=s,r=i},d:function(){return t%=65521,r%=65521,(t&255)<<24|(t&65280)<<8|(r&255)<<8|r>>8}}},Jee=function(t,r,n,s,i){if(!i&&(i={l:1},r.dictionary)){var o=r.dictionary.subarray(-32768),l=new Ji(o.length+t.length);l.set(o),l.set(t,o.length),t=l,i.w=o.length}return Xee(t,r.level==null?6:r.level,r.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+r.mem,n,s,i)},ZP=function(t,r,n){for(;n;++r)t[r]=n,n>>>=8},Zee=function(t,r){var n=r.level,s=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=s<<6|(r.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,r.dictionary){var i=JP();i.p(r.dictionary),ZP(t,2,i.d())}},ete=function(t,r){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Go(6,"invalid zlib data"),(t[1]>>5&1)==+!r&&Go(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function l4(t,r){r||(r={});var n=JP();n.p(t);var s=Jee(t,r,r.dictionary?6:2,4);return Zee(s,r),ZP(s,s.length-4,n.d()),s}function tte(t,r){return qee(t.subarray(ete(t,r),-4),{i:2},r,r)}var rte=typeof TextDecoder<"u"&&new TextDecoder,nte=0;try{rte.decode(XP,{stream:!0}),nte=1}catch{}var Sr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Sw(){Sr.console&&typeof Sr.console.log=="function"&&Sr.console.log.apply(Sr.console,arguments)}var Vn={log:Sw,warn:function(t){Sr.console&&(typeof Sr.console.warn=="function"?Sr.console.warn.apply(Sr.console,arguments):Sw.call(null,arguments))},error:function(t){Sr.console&&(typeof Sr.console.error=="function"?Sr.console.error.apply(Sr.console,arguments):Sw(t))}};function Bw(t,r,n){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){Cd(s.response,r,n)},s.onerror=function(){Vn.error("could not download file")},s.send()}function R_(t){var r=new XMLHttpRequest;r.open("HEAD",t,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function Kg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}var s0,c4,Cd=Sr.saveAs||((typeof window>"u"?"undefined":_n(window))!=="object"||window!==Sr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,r,n){var s=Sr.URL||Sr.webkitURL,i=document.createElement("a");r=r||t.name||"download",i.download=r,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?R_(i.href)?Bw(t,r,n):Kg(i,i.target="_blank"):Kg(i)):(i.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(i.href)},4e4),setTimeout(function(){Kg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,n){if(r=r||t.name||"download",typeof t=="string")if(R_(t))Bw(t,r,n);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){Kg(s)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:_n(o)!=="object"&&(Vn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),r)}:function(t,r,n,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return Bw(t,r,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(Sr.HTMLElement)||Sr.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&o)&&(typeof FileReader>"u"?"undefined":_n(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var A=c.result;A=l?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=A:location=A,s=null},c.readAsDataURL(t)}else{var u=Sr.URL||Sr.webkitURL,d=u.createObjectURL(t);s?s.location=d:location.href=d,s=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function eL(t){var r;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],s=0;s<n.length;s++){var i=n[s].re,o=n[s].process,l=i.exec(t);l&&(r=o(l),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+c+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Cw(t,r){var n=t[0],s=t[1],i=t[2],o=t[3];n=zi(n,s,i,o,r[0],7,-680876936),o=zi(o,n,s,i,r[1],12,-389564586),i=zi(i,o,n,s,r[2],17,606105819),s=zi(s,i,o,n,r[3],22,-1044525330),n=zi(n,s,i,o,r[4],7,-176418897),o=zi(o,n,s,i,r[5],12,1200080426),i=zi(i,o,n,s,r[6],17,-1473231341),s=zi(s,i,o,n,r[7],22,-45705983),n=zi(n,s,i,o,r[8],7,1770035416),o=zi(o,n,s,i,r[9],12,-1958414417),i=zi(i,o,n,s,r[10],17,-42063),s=zi(s,i,o,n,r[11],22,-1990404162),n=zi(n,s,i,o,r[12],7,1804603682),o=zi(o,n,s,i,r[13],12,-40341101),i=zi(i,o,n,s,r[14],17,-1502002290),n=Ki(n,s=zi(s,i,o,n,r[15],22,1236535329),i,o,r[1],5,-165796510),o=Ki(o,n,s,i,r[6],9,-1069501632),i=Ki(i,o,n,s,r[11],14,643717713),s=Ki(s,i,o,n,r[0],20,-373897302),n=Ki(n,s,i,o,r[5],5,-701558691),o=Ki(o,n,s,i,r[10],9,38016083),i=Ki(i,o,n,s,r[15],14,-660478335),s=Ki(s,i,o,n,r[4],20,-405537848),n=Ki(n,s,i,o,r[9],5,568446438),o=Ki(o,n,s,i,r[14],9,-1019803690),i=Ki(i,o,n,s,r[3],14,-187363961),s=Ki(s,i,o,n,r[8],20,1163531501),n=Ki(n,s,i,o,r[13],5,-1444681467),o=Ki(o,n,s,i,r[2],9,-51403784),i=Ki(i,o,n,s,r[7],14,1735328473),n=Gi(n,s=Ki(s,i,o,n,r[12],20,-1926607734),i,o,r[5],4,-378558),o=Gi(o,n,s,i,r[8],11,-2022574463),i=Gi(i,o,n,s,r[11],16,1839030562),s=Gi(s,i,o,n,r[14],23,-35309556),n=Gi(n,s,i,o,r[1],4,-1530992060),o=Gi(o,n,s,i,r[4],11,1272893353),i=Gi(i,o,n,s,r[7],16,-155497632),s=Gi(s,i,o,n,r[10],23,-1094730640),n=Gi(n,s,i,o,r[13],4,681279174),o=Gi(o,n,s,i,r[0],11,-358537222),i=Gi(i,o,n,s,r[3],16,-722521979),s=Gi(s,i,o,n,r[6],23,76029189),n=Gi(n,s,i,o,r[9],4,-640364487),o=Gi(o,n,s,i,r[12],11,-421815835),i=Gi(i,o,n,s,r[15],16,530742520),n=Wi(n,s=Gi(s,i,o,n,r[2],23,-995338651),i,o,r[0],6,-198630844),o=Wi(o,n,s,i,r[7],10,1126891415),i=Wi(i,o,n,s,r[14],15,-1416354905),s=Wi(s,i,o,n,r[5],21,-57434055),n=Wi(n,s,i,o,r[12],6,1700485571),o=Wi(o,n,s,i,r[3],10,-1894986606),i=Wi(i,o,n,s,r[10],15,-1051523),s=Wi(s,i,o,n,r[1],21,-2054922799),n=Wi(n,s,i,o,r[8],6,1873313359),o=Wi(o,n,s,i,r[15],10,-30611744),i=Wi(i,o,n,s,r[6],15,-1560198380),s=Wi(s,i,o,n,r[13],21,1309151649),n=Wi(n,s,i,o,r[4],6,-145523070),o=Wi(o,n,s,i,r[11],10,-1120210379),i=Wi(i,o,n,s,r[2],15,718787259),s=Wi(s,i,o,n,r[9],21,-343485551),t[0]=vu(n,t[0]),t[1]=vu(s,t[1]),t[2]=vu(i,t[2]),t[3]=vu(o,t[3])}function E1(t,r,n,s,i,o){return r=vu(vu(r,t),vu(s,o)),vu(r<<i|r>>>32-i,n)}function zi(t,r,n,s,i,o,l){return E1(r&n|~r&s,t,r,i,o,l)}function Ki(t,r,n,s,i,o,l){return E1(r&s|n&~s,t,r,i,o,l)}function Gi(t,r,n,s,i,o,l){return E1(r^n^s,t,r,i,o,l)}function Wi(t,r,n,s,i,o,l){return E1(n^(r|~s),t,r,i,o,l)}function tL(t){var r,n=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=t.length;r+=64)Cw(s,ste(t.substring(r-64,r)));t=t.substring(r-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<t.length;r++)i[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(Cw(s,i),r=0;r<16;r++)i[r]=0;return i[14]=8*n,Cw(s,i),s}function ste(t){var r,n=[];for(r=0;r<64;r+=4)n[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return n}s0=Sr.atob.bind(Sr),c4=Sr.btoa.bind(Sr);var M_="0123456789abcdef".split("");function ite(t){for(var r="",n=0;n<4;n++)r+=M_[t>>8*n+4&15]+M_[t>>8*n&15];return r}function ate(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function u4(t){return tL(t).map(ate).join("")}var ote=function(t){for(var r=0;r<t.length;r++)t[r]=ite(t[r]);return t.join("")}(tL("hello"))!="5d41402abc4b2a76b9719d911017c592";function vu(t,r){if(ote){var n=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(n>>16)<<16|65535&n}return t+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function d4(t,r){var n,s,i,o;if(t!==n){for(var l=(i=t,o=1+(256/t.length>>0),new Array(o+1).join(i)),c=[],u=0;u<256;u++)c[u]=u;var d=0;for(u=0;u<256;u++){var A=c[u];d=(d+A+l.charCodeAt(u))%256,c[u]=c[d],c[d]=A}n=t,s=c}else c=s;var f=r.length,h=0,p=0,m="";for(u=0;u<f;u++)p=(p+(A=c[h=(h+1)%256]))%256,c[h]=c[p],c[p]=A,l=c[(c[h]+c[p])%256],m+=String.fromCharCode(r.charCodeAt(u)^l);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Q_={print:4,modify:8,copy:16,"annot-forms":32};function df(t,r,n,s){this.v=1,this.r=2;var i=192;t.forEach(function(c){if(Q_.perm!==void 0)throw new Error("Invalid permission: "+c);i+=Q_[c]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(r+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,l),this.P=-(1+(255^i)),this.encryptionKey=u4(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=d4(this.encryptionKey,this.padding)}function Af(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var r="",n=t.length,s=0;s<n;s++){var i=t.charCodeAt(s);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?r+="#"+("0"+i.toString(16)).slice(-2):r+=t[s]}return r}function $_(t){if(_n(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(n,s,i){if(i=i||!1,typeof n!="string"||typeof s!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(n)||(r[n]={});var o=Math.random().toString(35);return r[n][o]=[s,!!i],o},this.unsubscribe=function(n){for(var s in r)if(r[s][n])return delete r[s][n],Object.keys(r[s]).length===0&&delete r[s],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var s=Array.prototype.slice.call(arguments,1),i=[];for(var o in r[n]){var l=r[n][o];try{l[0].apply(t,s)}catch(c){Sr.console&&Vn.error("jsPDF PubSub Error",c.message,c)}l[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function fv(t){if(!(this instanceof fv))return new fv(t);var r="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&r.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function rL(t,r){this.gState=t,this.matrix=r,this.id="",this.objectNumber=-1}function kd(t,r,n,s,i){if(!(this instanceof kd))return new kd(t,r,n,s,i);this.type=t==="axial"?2:3,this.coords=r,this.colors=n,rL.call(this,s,i)}function Ff(t,r,n,s,i){if(!(this instanceof Ff))return new Ff(t,r,n,s,i);this.boundingBox=t,this.xStep=r,this.yStep=n,this.stream="",this.cloneIndex=0,rL.call(this,s,i)}function Nr(t){var r,n=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],i=arguments[2],o=arguments[3],l=[],c=1,u=16,d="S",A=null;_n(t=t||{})==="object"&&(n=t.orientation,s=t.unit||s,i=t.format||i,o=t.compress||t.compressPdf||o,(A=t.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(r=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),d=t.defaultPathOperation||"S"),l=t.filters||(o===!0?["FlateEncode"]:l),s=s||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=$_;var m="1.3",g=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(ne){m=ne};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var y=p.__private__.getPageFormat=function(ne){return b[ne]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},v=x.COMPAT;function w(){this.saveGraphicsState(),re(new Wt(Me,0,0,-Me,0,Dn()*Me).toString()+" cm"),this.setFontSize(this.getFontSize()/Me),d="n",v=x.ADVANCED}function _(){this.restoreGraphicsState(),d="S",v=x.COMPAT}var B=p.__private__.combineFontStyleAndFontWeight=function(ne,Ne){if(ne=="bold"&&Ne=="normal"||ne=="bold"&&Ne==400||ne=="normal"&&Ne=="italic"||ne=="bold"&&Ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ne&&(ne=Ne==400||Ne==="normal"?ne==="italic"?"italic":"normal":Ne!=700&&Ne!=="bold"||ne!=="normal"?(Ne==700?"bold":Ne)+""+ne:"bold"),ne};p.advancedAPI=function(ne){var Ne=v===x.COMPAT;return Ne&&w.call(this),typeof ne!="function"||(ne(this),Ne&&_.call(this)),this},p.compatAPI=function(ne){var Ne=v===x.ADVANCED;return Ne&&_.call(this),typeof ne!="function"||(ne(this),Ne&&w.call(this)),this},p.isAdvancedAPI=function(){return v===x.ADVANCED};var N,j=function(ne){if(v!==x.ADVANCED)throw new Error(ne+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=p.roundToPrecision=p.__private__.roundToPrecision=function(ne,Ne){var ze=r||Ne;if(isNaN(ne)||isNaN(ze))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ne.toFixed(ze).replace(/0+$/,"")};N=p.hpf=p.__private__.hpf=typeof u=="number"?function(ne){if(isNaN(ne))throw new Error("Invalid argument passed to jsPDF.hpf");return C(ne,u)}:u==="smart"?function(ne){if(isNaN(ne))throw new Error("Invalid argument passed to jsPDF.hpf");return C(ne,ne>-1&&ne<1?16:5)}:function(ne){if(isNaN(ne))throw new Error("Invalid argument passed to jsPDF.hpf");return C(ne,16)};var E=p.f2=p.__private__.f2=function(ne){if(isNaN(ne))throw new Error("Invalid argument passed to jsPDF.f2");return C(ne,2)},S=p.__private__.f3=function(ne){if(isNaN(ne))throw new Error("Invalid argument passed to jsPDF.f3");return C(ne,3)},k=p.scale=p.__private__.scale=function(ne){if(isNaN(ne))throw new Error("Invalid argument passed to jsPDF.scale");return v===x.COMPAT?ne*Me:v===x.ADVANCED?ne:void 0},P=function(ne){return v===x.COMPAT?Dn()-ne:v===x.ADVANCED?ne:void 0},M=function(ne){return k(P(ne))};p.__private__.setPrecision=p.setPrecision=function(ne){typeof parseInt(ne,10)=="number"&&(r=parseInt(ne,10))};var H,F="00000000000000000000000000000000",Q=p.__private__.getFileId=function(){return F},K=p.__private__.setFileId=function(ne){return F=ne!==void 0&&/^[a-fA-F0-9]{32}$/.test(ne)?ne.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(wr=new df(A.userPermissions,A.userPassword,A.ownerPassword,F)),F};p.setFileId=function(ne){return K(ne),this},p.getFileId=function(){return Q()};var Y=p.__private__.convertDateToPDFDate=function(ne){var Ne=ne.getTimezoneOffset(),ze=Ne<0?"+":"-",Je=Math.floor(Math.abs(Ne/60)),lt=Math.abs(Ne%60),mt=[ze,U(Je),"'",U(lt),"'"].join("");return["D:",ne.getFullYear(),U(ne.getMonth()+1),U(ne.getDate()),U(ne.getHours()),U(ne.getMinutes()),U(ne.getSeconds()),mt].join("")},V=p.__private__.convertPDFDateToDate=function(ne){var Ne=parseInt(ne.substr(2,4),10),ze=parseInt(ne.substr(6,2),10)-1,Je=parseInt(ne.substr(8,2),10),lt=parseInt(ne.substr(10,2),10),mt=parseInt(ne.substr(12,2),10),Tt=parseInt(ne.substr(14,2),10);return new Date(Ne,ze,Je,lt,mt,Tt,0)},I=p.__private__.setCreationDate=function(ne){var Ne;if(ne===void 0&&(ne=new Date),ne instanceof Date)Ne=Y(ne);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ne))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ne=ne}return H=Ne},O=p.__private__.getCreationDate=function(ne){var Ne=H;return ne==="jsDate"&&(Ne=V(H)),Ne};p.setCreationDate=function(ne){return I(ne),this},p.getCreationDate=function(ne){return O(ne)};var R,U=p.__private__.padd2=function(ne){return("0"+parseInt(ne)).slice(-2)},T=p.__private__.padd2Hex=function(ne){return("00"+(ne=ne.toString())).substr(ne.length)},z=0,G=[],J=[],ee=0,fe=[],de=[],ae=!1,xe=J,X=function(){z=0,ee=0,J=[],G=[],fe=[],Z=Jr(),ue=Jr()};p.__private__.setCustomOutputDestination=function(ne){ae=!0,xe=ne};var ie=function(ne){ae||(xe=ne)};p.__private__.resetCustomOutputDestination=function(){ae=!1,xe=J};var re=p.__private__.out=function(ne){return ne=ne.toString(),ee+=ne.length+1,xe.push(ne),xe},ve=p.__private__.write=function(ne){return re(arguments.length===1?ne.toString():Array.prototype.join.call(arguments," "))},ke=p.__private__.getArrayBuffer=function(ne){for(var Ne=ne.length,ze=new ArrayBuffer(Ne),Je=new Uint8Array(ze);Ne--;)Je[Ne]=ne.charCodeAt(Ne);return ze},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ce};var we=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(ne){return we=v===x.ADVANCED?ne/Me:ne,this};var oe,pe=p.__private__.getFontSize=p.getFontSize=function(){return v===x.COMPAT?we:we*Me},je=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(ne){return je=ne,this},p.__private__.getR2L=p.getR2L=function(){return je};var Te,be=p.__private__.setZoomMode=function(ne){var Ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ne))oe=ne;else if(isNaN(ne)){if(Ne.indexOf(ne)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ne+'" is not recognized.');oe=ne}else oe=parseInt(ne,10)};p.__private__.getZoomMode=function(){return oe};var De,qe=p.__private__.setPageMode=function(ne){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ne)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ne+'" is not recognized.');Te=ne};p.__private__.getPageMode=function(){return Te};var Qe=p.__private__.setLayoutMode=function(ne){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ne)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ne+'" is not recognized.');De=ne};p.__private__.getLayoutMode=function(){return De},p.__private__.setDisplayMode=p.setDisplayMode=function(ne,Ne,ze){return be(ne),Qe(Ne),qe(ze),this};var Re={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(ne){if(Object.keys(Re).indexOf(ne)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Re[ne]},p.__private__.getDocumentProperties=function(){return Re},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(ne){for(var Ne in Re)Re.hasOwnProperty(Ne)&&ne[Ne]&&(Re[Ne]=ne[Ne]);return this},p.__private__.setDocumentProperty=function(ne,Ne){if(Object.keys(Re).indexOf(ne)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Re[ne]=Ne};var We,Me,ot,xt,Ft,nt={},At={},Rt=[],Pt={},ur={},Ht={},lr={},sr=null,Kt=0,Xe=[],ar=new $_(p),rr=t.hotfixes||[],Ke={},Tr={},Fn=[],Wt=function ne(Ne,ze,Je,lt,mt,Tt){if(!(this instanceof ne))return new ne(Ne,ze,Je,lt,mt,Tt);isNaN(Ne)&&(Ne=1),isNaN(ze)&&(ze=0),isNaN(Je)&&(Je=0),isNaN(lt)&&(lt=1),isNaN(mt)&&(mt=0),isNaN(Tt)&&(Tt=0),this._matrix=[Ne,ze,Je,lt,mt,Tt]};Object.defineProperty(Wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ne){this._matrix[0]=ne}}),Object.defineProperty(Wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ne){this._matrix[1]=ne}}),Object.defineProperty(Wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ne){this._matrix[2]=ne}}),Object.defineProperty(Wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ne){this._matrix[3]=ne}}),Object.defineProperty(Wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ne){this._matrix[4]=ne}}),Object.defineProperty(Wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ne){this._matrix[5]=ne}}),Object.defineProperty(Wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(ne){this._matrix[0]=ne}}),Object.defineProperty(Wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(ne){this._matrix[1]=ne}}),Object.defineProperty(Wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(ne){this._matrix[2]=ne}}),Object.defineProperty(Wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(ne){this._matrix[3]=ne}}),Object.defineProperty(Wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(ne){this._matrix[4]=ne}}),Object.defineProperty(Wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(ne){this._matrix[5]=ne}}),Object.defineProperty(Wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Wt.prototype.join=function(ne){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(ne)},Wt.prototype.multiply=function(ne){var Ne=ne.sx*this.sx+ne.shy*this.shx,ze=ne.sx*this.shy+ne.shy*this.sy,Je=ne.shx*this.sx+ne.sy*this.shx,lt=ne.shx*this.shy+ne.sy*this.sy,mt=ne.tx*this.sx+ne.ty*this.shx+this.tx,Tt=ne.tx*this.shy+ne.ty*this.sy+this.ty;return new Wt(Ne,ze,Je,lt,mt,Tt)},Wt.prototype.decompose=function(){var ne=this.sx,Ne=this.shy,ze=this.shx,Je=this.sy,lt=this.tx,mt=this.ty,Tt=Math.sqrt(ne*ne+Ne*Ne),Jt=(ne/=Tt)*ze+(Ne/=Tt)*Je;ze-=ne*Jt,Je-=Ne*Jt;var gr=Math.sqrt(ze*ze+Je*Je);return Jt/=gr,ne*(Je/=gr)<Ne*(ze/=gr)&&(ne=-ne,Ne=-Ne,Jt=-Jt,Tt=-Tt),{scale:new Wt(Tt,0,0,gr,0,0),translate:new Wt(1,0,0,1,lt,mt),rotate:new Wt(ne,Ne,-Ne,ne,0,0),skew:new Wt(1,0,Jt,1,0,0)}},Wt.prototype.toString=function(ne){return this.join(" ")},Wt.prototype.inversed=function(){var ne=this.sx,Ne=this.shy,ze=this.shx,Je=this.sy,lt=this.tx,mt=this.ty,Tt=1/(ne*Je-Ne*ze),Jt=Je*Tt,gr=-Ne*Tt,Ur=-ze*Tt,Ir=ne*Tt;return new Wt(Jt,gr,Ur,Ir,-Jt*lt-Ur*mt,-gr*lt-Ir*mt)},Wt.prototype.applyToPoint=function(ne){var Ne=ne.x*this.sx+ne.y*this.shx+this.tx,ze=ne.x*this.shy+ne.y*this.sy+this.ty;return new Ut(Ne,ze)},Wt.prototype.applyToRectangle=function(ne){var Ne=this.applyToPoint(ne),ze=this.applyToPoint(new Ut(ne.x+ne.w,ne.y+ne.h));return new pr(Ne.x,Ne.y,ze.x-Ne.x,ze.y-Ne.y)},Wt.prototype.clone=function(){var ne=this.sx,Ne=this.shy,ze=this.shx,Je=this.sy,lt=this.tx,mt=this.ty;return new Wt(ne,Ne,ze,Je,lt,mt)},p.Matrix=Wt;var Or=p.matrixMult=function(ne,Ne){return Ne.multiply(ne)},Yr=new Wt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Yr;var hn=function(ne,Ne){if(!ur[ne]){var ze=(Ne instanceof kd?"Sh":"P")+(Object.keys(Pt).length+1).toString(10);Ne.id=ze,ur[ne]=ze,Pt[ze]=Ne,ar.publish("addPattern",Ne)}};p.ShadingPattern=kd,p.TilingPattern=Ff,p.addShadingPattern=function(ne,Ne){return j("addShadingPattern()"),hn(ne,Ne),this},p.beginTilingPattern=function(ne){j("beginTilingPattern()"),zr(ne.boundingBox[0],ne.boundingBox[1],ne.boundingBox[2]-ne.boundingBox[0],ne.boundingBox[3]-ne.boundingBox[1],ne.matrix)},p.endTilingPattern=function(ne,Ne){j("endTilingPattern()"),Ne.stream=de[R].join(`
`),hn(ne,Ne),ar.publish("endTilingPattern",Ne),Fn.pop().restore()};var Mr=p.__private__.newObject=function(){var ne=Jr();return q(ne,!0),ne},Jr=p.__private__.newObjectDeferred=function(){return z++,G[z]=function(){return ee},z},q=function(ne,Ne){return Ne=typeof Ne=="boolean"&&Ne,G[ne]=ee,Ne&&re(ne+" 0 obj"),ne},ce=p.__private__.newAdditionalObject=function(){var ne={objId:Jr(),content:""};return fe.push(ne),ne},Z=Jr(),ue=Jr(),me=p.__private__.decodeColorString=function(ne){var Ne=ne.split(" ");if(Ne.length!==2||Ne[1]!=="g"&&Ne[1]!=="G")Ne.length===5&&(Ne[4]==="k"||Ne[4]==="K")&&(Ne=[(1-Ne[0])*(1-Ne[3]),(1-Ne[1])*(1-Ne[3]),(1-Ne[2])*(1-Ne[3]),"r"]);else{var ze=parseFloat(Ne[0]);Ne=[ze,ze,ze,"r"]}for(var Je="#",lt=0;lt<3;lt++)Je+=("0"+Math.floor(255*parseFloat(Ne[lt])).toString(16)).slice(-2);return Je},ye=p.__private__.encodeColorString=function(ne){var Ne;typeof ne=="string"&&(ne={ch1:ne});var ze=ne.ch1,Je=ne.ch2,lt=ne.ch3,mt=ne.ch4,Tt=ne.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ze=="string"&&ze.charAt(0)!=="#"){var Jt=new eL(ze);if(Jt.ok)ze=Jt.toHex();else if(!/^\d*\.?\d*$/.test(ze))throw new Error('Invalid color "'+ze+'" passed to jsPDF.encodeColorString.')}if(typeof ze=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ze)&&(ze="#"+ze[1]+ze[1]+ze[2]+ze[2]+ze[3]+ze[3]),typeof ze=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ze)){var gr=parseInt(ze.substr(1),16);ze=gr>>16&255,Je=gr>>8&255,lt=255&gr}if(Je===void 0||mt===void 0&&ze===Je&&Je===lt)if(typeof ze=="string")Ne=ze+" "+Tt[0];else switch(ne.precision){case 2:Ne=E(ze/255)+" "+Tt[0];break;case 3:default:Ne=S(ze/255)+" "+Tt[0]}else if(mt===void 0||_n(mt)==="object"){if(mt&&!isNaN(mt.a)&&mt.a===0)return Ne=["1.","1.","1.",Tt[1]].join(" ");if(typeof ze=="string")Ne=[ze,Je,lt,Tt[1]].join(" ");else switch(ne.precision){case 2:Ne=[E(ze/255),E(Je/255),E(lt/255),Tt[1]].join(" ");break;default:case 3:Ne=[S(ze/255),S(Je/255),S(lt/255),Tt[1]].join(" ")}}else if(typeof ze=="string")Ne=[ze,Je,lt,mt,Tt[2]].join(" ");else switch(ne.precision){case 2:Ne=[E(ze),E(Je),E(lt),E(mt),Tt[2]].join(" ");break;case 3:default:Ne=[S(ze),S(Je),S(lt),S(mt),Tt[2]].join(" ")}return Ne},Be=p.__private__.getFilters=function(){return l},Oe=p.__private__.putStream=function(ne){var Ne=(ne=ne||{}).data||"",ze=ne.filters||Be(),Je=ne.alreadyAppliedFilters||[],lt=ne.addLength1||!1,mt=Ne.length,Tt=ne.objectId,Jt=function($i){return $i};if(A!==null&&Tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(Jt=wr.encryptor(Tt,0));var gr={};ze===!0&&(ze=["FlateEncode"]);var Ur=ne.additionalKeyValues||[],Ir=(gr=Nr.API.processDataByFilters!==void 0?Nr.API.processDataByFilters(Ne,ze):{data:Ne,reverseChain:[]}).reverseChain+(Array.isArray(Je)?Je.join(" "):Je.toString());if(gr.data.length!==0&&(Ur.push({key:"Length",value:gr.data.length}),lt===!0&&Ur.push({key:"Length1",value:mt})),Ir.length!=0)if(Ir.split("/").length-1==1)Ur.push({key:"Filter",value:Ir});else{Ur.push({key:"Filter",value:"["+Ir+"]"});for(var ln=0;ln<Ur.length;ln+=1)if(Ur[ln].key==="DecodeParms"){for(var us=[],xs=0;xs<gr.reverseChain.split("/").length-1;xs+=1)us.push("null");us.push(Ur[ln].value),Ur[ln].value="["+us.join(" ")+"]"}}re("<<");for(var Ks=0;Ks<Ur.length;Ks++)re("/"+Ur[Ks].key+" "+Ur[Ks].value);re(">>"),gr.data.length!==0&&(re("stream"),re(Jt(gr.data)),re("endstream"))},Le=p.__private__.putPage=function(ne){var Ne=ne.number,ze=ne.data,Je=ne.objId,lt=ne.contentsObjId;q(Je,!0),re("<</Type /Page"),re("/Parent "+ne.rootDictionaryObjId+" 0 R"),re("/Resources "+ne.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(N(ne.mediaBox.bottomLeftX))+" "+parseFloat(N(ne.mediaBox.bottomLeftY))+" "+N(ne.mediaBox.topRightX)+" "+N(ne.mediaBox.topRightY)+"]"),ne.cropBox!==null&&re("/CropBox ["+N(ne.cropBox.bottomLeftX)+" "+N(ne.cropBox.bottomLeftY)+" "+N(ne.cropBox.topRightX)+" "+N(ne.cropBox.topRightY)+"]"),ne.bleedBox!==null&&re("/BleedBox ["+N(ne.bleedBox.bottomLeftX)+" "+N(ne.bleedBox.bottomLeftY)+" "+N(ne.bleedBox.topRightX)+" "+N(ne.bleedBox.topRightY)+"]"),ne.trimBox!==null&&re("/TrimBox ["+N(ne.trimBox.bottomLeftX)+" "+N(ne.trimBox.bottomLeftY)+" "+N(ne.trimBox.topRightX)+" "+N(ne.trimBox.topRightY)+"]"),ne.artBox!==null&&re("/ArtBox ["+N(ne.artBox.bottomLeftX)+" "+N(ne.artBox.bottomLeftY)+" "+N(ne.artBox.topRightX)+" "+N(ne.artBox.topRightY)+"]"),typeof ne.userUnit=="number"&&ne.userUnit!==1&&re("/UserUnit "+ne.userUnit),ar.publish("putPage",{objId:Je,pageContext:Xe[Ne],pageNumber:Ne,page:ze}),re("/Contents "+lt+" 0 R"),re(">>"),re("endobj");var mt=ze.join(`
`);return v===x.ADVANCED&&(mt+=`
Q`),q(lt,!0),Oe({data:mt,filters:Be(),objectId:lt}),re("endobj"),Je},Ie=p.__private__.putPages=function(){var ne,Ne,ze=[];for(ne=1;ne<=Kt;ne++)Xe[ne].objId=Jr(),Xe[ne].contentsObjId=Jr();for(ne=1;ne<=Kt;ne++)ze.push(Le({number:ne,data:de[ne],objId:Xe[ne].objId,contentsObjId:Xe[ne].contentsObjId,mediaBox:Xe[ne].mediaBox,cropBox:Xe[ne].cropBox,bleedBox:Xe[ne].bleedBox,trimBox:Xe[ne].trimBox,artBox:Xe[ne].artBox,userUnit:Xe[ne].userUnit,rootDictionaryObjId:Z,resourceDictionaryObjId:ue}));q(Z,!0),re("<</Type /Pages");var Je="/Kids [";for(Ne=0;Ne<Kt;Ne++)Je+=ze[Ne]+" 0 R ";re(Je+"]"),re("/Count "+Kt),re(">>"),re("endobj"),ar.publish("postPutPages")},Ue=function(ne){ar.publish("putFont",{font:ne,out:re,newObject:Mr,putStream:Oe}),ne.isAlreadyPutted!==!0&&(ne.objectNumber=Mr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Af(ne.postScriptName)),re("/Subtype /Type1"),typeof ne.encoding=="string"&&re("/Encoding /"+ne.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Ve=function(){for(var ne in nt)nt.hasOwnProperty(ne)&&(f===!1||f===!0&&h.hasOwnProperty(ne))&&Ue(nt[ne])},tt=function(ne){ne.objectNumber=Mr();var Ne=[];Ne.push({key:"Type",value:"/XObject"}),Ne.push({key:"Subtype",value:"/Form"}),Ne.push({key:"BBox",value:"["+[N(ne.x),N(ne.y),N(ne.x+ne.width),N(ne.y+ne.height)].join(" ")+"]"}),Ne.push({key:"Matrix",value:"["+ne.matrix.toString()+"]"});var ze=ne.pages[1].join(`
`);Oe({data:ze,additionalKeyValues:Ne,objectId:ne.objectNumber}),re("endobj")},at=function(){for(var ne in Ke)Ke.hasOwnProperty(ne)&&tt(Ke[ne])},st=function(ne,Ne){var ze,Je=[],lt=1/(Ne-1);for(ze=0;ze<1;ze+=lt)Je.push(ze);if(Je.push(1),ne[0].offset!=0){var mt={offset:0,color:ne[0].color};ne.unshift(mt)}if(ne[ne.length-1].offset!=1){var Tt={offset:1,color:ne[ne.length-1].color};ne.push(Tt)}for(var Jt="",gr=0,Ur=0;Ur<Je.length;Ur++){for(ze=Je[Ur];ze>ne[gr+1].offset;)gr++;var Ir=ne[gr].offset,ln=(ze-Ir)/(ne[gr+1].offset-Ir),us=ne[gr].color,xs=ne[gr+1].color;Jt+=T(Math.round((1-ln)*us[0]+ln*xs[0]).toString(16))+T(Math.round((1-ln)*us[1]+ln*xs[1]).toString(16))+T(Math.round((1-ln)*us[2]+ln*xs[2]).toString(16))}return Jt.trim()},dt=function(ne,Ne){Ne||(Ne=21);var ze=Mr(),Je=st(ne.colors,Ne),lt=[];lt.push({key:"FunctionType",value:"0"}),lt.push({key:"Domain",value:"[0.0 1.0]"}),lt.push({key:"Size",value:"["+Ne+"]"}),lt.push({key:"BitsPerSample",value:"8"}),lt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),lt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe({data:Je,additionalKeyValues:lt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ze}),re("endobj"),ne.objectNumber=Mr(),re("<< /ShadingType "+ne.type),re("/ColorSpace /DeviceRGB");var mt="/Coords ["+N(parseFloat(ne.coords[0]))+" "+N(parseFloat(ne.coords[1]))+" ";ne.type===2?mt+=N(parseFloat(ne.coords[2]))+" "+N(parseFloat(ne.coords[3])):mt+=N(parseFloat(ne.coords[2]))+" "+N(parseFloat(ne.coords[3]))+" "+N(parseFloat(ne.coords[4]))+" "+N(parseFloat(ne.coords[5])),re(mt+="]"),ne.matrix&&re("/Matrix ["+ne.matrix.toString()+"]"),re("/Function "+ze+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},vt=function(ne,Ne){var ze=Jr(),Je=Mr();Ne.push({resourcesOid:ze,objectOid:Je}),ne.objectNumber=Je;var lt=[];lt.push({key:"Type",value:"/Pattern"}),lt.push({key:"PatternType",value:"1"}),lt.push({key:"PaintType",value:"1"}),lt.push({key:"TilingType",value:"1"}),lt.push({key:"BBox",value:"["+ne.boundingBox.map(N).join(" ")+"]"}),lt.push({key:"XStep",value:N(ne.xStep)}),lt.push({key:"YStep",value:N(ne.yStep)}),lt.push({key:"Resources",value:ze+" 0 R"}),ne.matrix&&lt.push({key:"Matrix",value:"["+ne.matrix.toString()+"]"}),Oe({data:ne.stream,additionalKeyValues:lt,objectId:ne.objectNumber}),re("endobj")},It=function(ne){var Ne;for(Ne in Pt)Pt.hasOwnProperty(Ne)&&(Pt[Ne]instanceof kd?dt(Pt[Ne]):Pt[Ne]instanceof Ff&&vt(Pt[Ne],ne))},Zt=function(ne){for(var Ne in ne.objectNumber=Mr(),re("<<"),ne)switch(Ne){case"opacity":re("/ca "+E(ne[Ne]));break;case"stroke-opacity":re("/CA "+E(ne[Ne]))}re(">>"),re("endobj")},br=function(){var ne;for(ne in Ht)Ht.hasOwnProperty(ne)&&Zt(Ht[ne])},fr=function(){for(var ne in re("/XObject <<"),Ke)Ke.hasOwnProperty(ne)&&Ke[ne].objectNumber>=0&&re("/"+ne+" "+Ke[ne].objectNumber+" 0 R");ar.publish("putXobjectDict"),re(">>")},Qr=function(){wr.oid=Mr(),re("<<"),re("/Filter /Standard"),re("/V "+wr.v),re("/R "+wr.r),re("/U <"+wr.toHexString(wr.U)+">"),re("/O <"+wr.toHexString(wr.O)+">"),re("/P "+wr.P),re(">>"),re("endobj")},Cr=function(){for(var ne in re("/Font <<"),nt)nt.hasOwnProperty(ne)&&(f===!1||f===!0&&h.hasOwnProperty(ne))&&re("/"+ne+" "+nt[ne].objectNumber+" 0 R");re(">>")},hr=function(){if(Object.keys(Pt).length>0){for(var ne in re("/Shading <<"),Pt)Pt.hasOwnProperty(ne)&&Pt[ne]instanceof kd&&Pt[ne].objectNumber>=0&&re("/"+ne+" "+Pt[ne].objectNumber+" 0 R");ar.publish("putShadingPatternDict"),re(">>")}},mr=function(ne){if(Object.keys(Pt).length>0){for(var Ne in re("/Pattern <<"),Pt)Pt.hasOwnProperty(Ne)&&Pt[Ne]instanceof p.TilingPattern&&Pt[Ne].objectNumber>=0&&Pt[Ne].objectNumber<ne&&re("/"+Ne+" "+Pt[Ne].objectNumber+" 0 R");ar.publish("putTilingPatternDict"),re(">>")}},Xr=function(){if(Object.keys(Ht).length>0){var ne;for(ne in re("/ExtGState <<"),Ht)Ht.hasOwnProperty(ne)&&Ht[ne].objectNumber>=0&&re("/"+ne+" "+Ht[ne].objectNumber+" 0 R");ar.publish("putGStateDict"),re(">>")}},_r=function(ne){q(ne.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Cr(),hr(),mr(ne.objectOid),Xr(),fr(),re(">>"),re("endobj")},yr=function(){var ne=[];Ve(),br(),at(),It(ne),ar.publish("putResources"),ne.forEach(_r),_r({resourcesOid:ue,objectOid:Number.MAX_SAFE_INTEGER}),ar.publish("postPutResources")},qr=function(){ar.publish("putAdditionalObjects");for(var ne=0;ne<fe.length;ne++){var Ne=fe[ne];q(Ne.objId,!0),re(Ne.content),re("endobj")}ar.publish("postPutAdditionalObjects")},Ct=function(ne){At[ne.fontName]=At[ne.fontName]||{},At[ne.fontName][ne.fontStyle]=ne.id},xr=function(ne,Ne,ze,Je,lt){var mt={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:ne,fontName:Ne,fontStyle:ze,encoding:Je,isStandardFont:lt||!1,metadata:{}};return ar.publish("addFont",{font:mt,instance:this}),nt[mt.id]=mt,Ct(mt),mt.id},Vr=function(ne){for(var Ne=0,ze=Ce.length;Ne<ze;Ne++){var Je=xr.call(this,ne[Ne][0],ne[Ne][1],ne[Ne][2],Ce[Ne][3],!0);f===!1&&(h[Je]=!0);var lt=ne[Ne][0].split("-");Ct({id:Je,fontName:lt[0],fontStyle:lt[1]||""})}ar.publish("addFonts",{fonts:nt,dictionary:At})},jr=function(ne){return ne.foo=function(){try{return ne.apply(this,arguments)}catch(Je){var Ne=Je.stack||"";~Ne.indexOf(" at ")&&(Ne=Ne.split(" at ")[1]);var ze="Error in function "+Ne.split(`
`)[0].split("<")[0]+": "+Je.message;if(!Sr.console)throw new Error(ze);Sr.console.error(ze,Je),Sr.alert&&alert(ze)}},ne.foo.bar=ne,ne.foo},Dr=function(ne,Ne){var ze,Je,lt,mt,Tt,Jt,gr,Ur,Ir;if(lt=(Ne=Ne||{}).sourceEncoding||"Unicode",Tt=Ne.outputEncoding,(Ne.autoencode||Tt)&&nt[We].metadata&&nt[We].metadata[lt]&&nt[We].metadata[lt].encoding&&(mt=nt[We].metadata[lt].encoding,!Tt&&nt[We].encoding&&(Tt=nt[We].encoding),!Tt&&mt.codePages&&(Tt=mt.codePages[0]),typeof Tt=="string"&&(Tt=mt[Tt]),Tt)){for(gr=!1,Jt=[],ze=0,Je=ne.length;ze<Je;ze++)(Ur=Tt[ne.charCodeAt(ze)])?Jt.push(String.fromCharCode(Ur)):Jt.push(ne[ze]),Jt[ze].charCodeAt(0)>>8&&(gr=!0);ne=Jt.join("")}for(ze=ne.length;gr===void 0&&ze!==0;)ne.charCodeAt(ze-1)>>8&&(gr=!0),ze--;if(!gr)return ne;for(Jt=Ne.noBOM?[]:[254,255],ze=0,Je=ne.length;ze<Je;ze++){if((Ir=(Ur=ne.charCodeAt(ze))>>8)>>8)throw new Error("Character at position "+ze+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Jt.push(Ir),Jt.push(Ur-(Ir<<8))}return String.fromCharCode.apply(void 0,Jt)},nn=p.__private__.pdfEscape=p.pdfEscape=function(ne,Ne){return Dr(ne,Ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bn=p.__private__.beginPage=function(ne){de[++Kt]=[],Xe[Kt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ne[0]),topRightY:Number(ne[1])}},ui(Kt),ie(de[R])},ci=function(ne,Ne){var ze,Je,lt;switch(n=Ne||n,typeof ne=="string"&&(ze=y(ne.toLowerCase()),Array.isArray(ze)&&(Je=ze[0],lt=ze[1])),Array.isArray(ne)&&(Je=ne[0]*Me,lt=ne[1]*Me),isNaN(Je)&&(Je=i[0],lt=i[1]),(Je>14400||lt>14400)&&(Vn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Je=Math.min(14400,Je),lt=Math.min(14400,lt)),i=[Je,lt],n.substr(0,1)){case"l":lt>Je&&(i=[lt,Je]);break;case"p":Je>lt&&(i=[lt,Je])}bn(i),Ae(D),re(ft),on!==0&&re(on+" J"),Ln!==0&&re(Ln+" j"),ar.publish("addPage",{pageNumber:Kt})},ri=function(ne){ne>0&&ne<=Kt&&(de.splice(ne,1),Xe.splice(ne,1),Kt--,R>Kt&&(R=Kt),this.setPage(R))},ui=function(ne){ne>0&&ne<=Kt&&(R=ne)},di=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return de.length-1},sn=function(ne,Ne,ze){var Je,lt=void 0;return ze=ze||{},ne=ne!==void 0?ne:nt[We].fontName,Ne=Ne!==void 0?Ne:nt[We].fontStyle,Je=ne.toLowerCase(),At[Je]!==void 0&&At[Je][Ne]!==void 0?lt=At[Je][Ne]:At[ne]!==void 0&&At[ne][Ne]!==void 0?lt=At[ne][Ne]:ze.disableWarning===!1&&Vn.warn("Unable to look up font label for font '"+ne+"', '"+Ne+"'. Refer to getFontList() for available fonts."),lt||ze.noFallback||(lt=At.times[Ne])==null&&(lt=At.times.normal),lt},Gn=p.__private__.putInfo=function(){var ne=Mr(),Ne=function(Je){return Je};for(var ze in A!==null&&(Ne=wr.encryptor(ne,0)),re("<<"),re("/Producer ("+nn(Ne("jsPDF "+Nr.version))+")"),Re)Re.hasOwnProperty(ze)&&Re[ze]&&re("/"+ze.substr(0,1).toUpperCase()+ze.substr(1)+" ("+nn(Ne(Re[ze]))+")");re("/CreationDate ("+nn(Ne(H))+")"),re(">>"),re("endobj")},xn=p.__private__.putCatalog=function(ne){var Ne=(ne=ne||{}).rootDictionaryObjId||Z;switch(Mr(),re("<<"),re("/Type /Catalog"),re("/Pages "+Ne+" 0 R"),oe||(oe="fullwidth"),oe){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ze=""+oe;ze.substr(ze.length-1)==="%"&&(oe=parseInt(oe)/100),typeof oe=="number"&&re("/OpenAction [3 0 R /XYZ null null "+E(oe)+"]")}switch(De||(De="continuous"),De){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Te&&re("/PageMode /"+Te),ar.publish("putCatalog"),re(">>"),re("endobj")},Wn=p.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(z+1)),re("/Root "+z+" 0 R"),re("/Info "+(z-1)+" 0 R"),A!==null&&re("/Encrypt "+wr.oid+" 0 R"),re("/ID [ <"+F+"> <"+F+"> ]"),re(">>")},an=p.__private__.putHeader=function(){re("%PDF-"+m),re("%ºß¬à")},wn=p.__private__.putXRef=function(){var ne="0000000000";re("xref"),re("0 "+(z+1)),re("0000000000 65535 f ");for(var Ne=1;Ne<=z;Ne++)typeof G[Ne]=="function"?re((ne+G[Ne]()).slice(-10)+" 00000 n "):G[Ne]!==void 0?re((ne+G[Ne]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},jn=p.__private__.buildDocument=function(){X(),ie(J),ar.publish("buildDocument"),an(),Ie(),qr(),yr(),A!==null&&Qr(),Gn(),xn();var ne=ee;return wn(),Wn(),re("startxref"),re(""+ne),re("%%EOF"),ie(de[R]),J.join(`
`)},er=p.__private__.getBlob=function(ne){return new Blob([ke(ne)],{type:"application/pdf"})},cn=p.output=p.__private__.output=jr(function(ne,Ne){switch(typeof(Ne=Ne||{})=="string"?Ne={filename:Ne}:Ne.filename=Ne.filename||"generated.pdf",ne){case void 0:return jn();case"save":p.save(Ne.filename);break;case"arraybuffer":return ke(jn());case"blob":return er(jn());case"bloburi":case"bloburl":if(Sr.URL!==void 0&&typeof Sr.URL.createObjectURL=="function")return Sr.URL&&Sr.URL.createObjectURL(er(jn()))||void 0;Vn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ze="",Je=jn();try{ze=c4(Je)}catch{ze=c4(unescape(encodeURIComponent(Je)))}return"data:application/pdf;filename="+Ne.filename+";base64,"+ze;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Sr)==="[object Window]"){var lt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",mt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ne.pdfObjectUrl&&(lt=Ne.pdfObjectUrl,mt="");var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+lt+'"'+mt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ne)+");<\/script></body></html>",Jt=Sr.open();return Jt!==null&&Jt.document.write(Tt),Jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Sr)==="[object Window]"){var gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ne.filename+'" width="500px" height="400px" /></body></html>',Ur=Sr.open();if(Ur!==null){Ur.document.write(gr);var Ir=this;Ur.document.documentElement.querySelector("#pdfViewer").onload=function(){Ur.document.title=Ne.filename,Ur.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ir.output("bloburl"))}}return Ur}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Sr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ne)+'"></iframe></body></html>',us=Sr.open();if(us!==null&&(us.document.write(ln),us.document.title=Ne.filename),us||typeof safari>"u")return us;break;case"datauri":case"dataurl":return Sr.document.location.href=this.output("datauristring",Ne);default:return null}}),un=function(ne){return Array.isArray(rr)===!0&&rr.indexOf(ne)>-1};switch(s){case"pt":Me=1;break;case"mm":Me=72/25.4;break;case"cm":Me=72/2.54;break;case"in":Me=72;break;case"px":Me=un("px_scaling")==1?.75:96/72;break;case"pc":case"em":Me=12;break;case"ex":Me=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Me=s}var wr=null;I(),K();var Hr=function(ne){return A!==null?wr.encryptor(ne,0):function(Ne){return Ne}},Er=p.__private__.getPageInfo=p.getPageInfo=function(ne){if(isNaN(ne)||ne%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xe[ne].objId,pageNumber:ne,pageContext:Xe[ne]}},or=p.__private__.getPageInfoByObjId=function(ne){if(isNaN(ne)||ne%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ne in Xe)if(Xe[Ne].objId===ne)break;return Er(Ne)},In=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Xe[R].objId,pageNumber:R,pageContext:Xe[R]}};p.addPage=function(){return ci.apply(this,arguments),this},p.setPage=function(){return ui.apply(this,arguments),ie.call(this,de[R]),this},p.insertPage=function(ne){return this.addPage(),this.movePage(R,ne),this},p.movePage=function(ne,Ne){var ze,Je;if(ne>Ne){ze=de[ne],Je=Xe[ne];for(var lt=ne;lt>Ne;lt--)de[lt]=de[lt-1],Xe[lt]=Xe[lt-1];de[Ne]=ze,Xe[Ne]=Je,this.setPage(Ne)}else if(ne<Ne){ze=de[ne],Je=Xe[ne];for(var mt=ne;mt<Ne;mt++)de[mt]=de[mt+1],Xe[mt]=Xe[mt+1];de[Ne]=ze,Xe[Ne]=Je,this.setPage(Ne)}return this},p.deletePage=function(){return ri.apply(this,arguments),this},p.__private__.text=p.text=function(ne,Ne,ze,Je,lt){var mt,Tt,Jt,gr,Ur,Ir,ln,us,xs,Ks=(Je=Je||{}).scope||this;if(typeof ne=="number"&&typeof Ne=="number"&&(typeof ze=="string"||Array.isArray(ze))){var $i=ze;ze=Ne,Ne=ne,ne=$i}if(arguments[3]instanceof Wt?(j("The transform parameter of text() with a Matrix value"),xs=lt):(Jt=arguments[4],gr=arguments[5],_n(ln=arguments[3])==="object"&&ln!==null||(typeof Jt=="string"&&(gr=Jt,Jt=null),typeof ln=="string"&&(gr=ln,ln=null),typeof ln=="number"&&(Jt=ln,ln=null),Je={flags:ln,angle:Jt,align:gr})),isNaN(Ne)||isNaN(ze)||ne==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ne.length===0)return Ks;var Ai="",Io=!1,Da=typeof Je.lineHeightFactor=="number"?Je.lineHeightFactor:se,Al=Ks.internal.scaleFactor;function qm(qn){return qn=qn.split("	").join(Array(Je.TabLen||9).join(" ")),nn(qn,ln)}function zh(qn){for(var Yn,Fs=qn.concat(),ni=[],rc=Fs.length;rc--;)typeof(Yn=Fs.shift())=="string"?ni.push(Yn):Array.isArray(qn)&&(Yn.length===1||Yn[1]===void 0&&Yn[2]===void 0)?ni.push(Yn[0]):ni.push([Yn[0],Yn[1],Yn[2]]);return ni}function Kh(qn,Yn){var Fs;if(typeof qn=="string")Fs=Yn(qn)[0];else if(Array.isArray(qn)){for(var ni,rc,ep=qn.concat(),VA=[],eg=ep.length;eg--;)typeof(ni=ep.shift())=="string"?VA.push(Yn(ni)[0]):Array.isArray(ni)&&typeof ni[0]=="string"&&(rc=Yn(ni[0],ni[1],ni[2]),VA.push([rc[0],rc[1],rc[2]]));Fs=VA}return Fs}var PA=!1,Gh=!0;if(typeof ne=="string")PA=!0;else if(Array.isArray(ne)){var Wh=ne.concat();Tt=[];for(var LA,Ni=Wh.length;Ni--;)(typeof(LA=Wh.shift())!="string"||Array.isArray(LA)&&typeof LA[0]!="string")&&(Gh=!1);PA=Gh}if(PA===!1)throw new Error('Type of text must be string or Array. "'+ne+'" is not recognized.');typeof ne=="string"&&(ne=ne.match(/[\r?\n]/)?ne.split(/\r\n|\r|\n/g):[ne]);var DA=we/Ks.internal.scaleFactor,UA=DA*(Da-1);switch(Je.baseline){case"bottom":ze-=UA;break;case"top":ze+=DA-UA;break;case"hanging":ze+=DA-2*UA;break;case"middle":ze+=DA/2-UA}if((Ir=Je.maxWidth||0)>0&&(typeof ne=="string"?ne=Ks.splitTextToSize(ne,Ir):Object.prototype.toString.call(ne)==="[object Array]"&&(ne=ne.reduce(function(qn,Yn){return qn.concat(Ks.splitTextToSize(Yn,Ir))},[]))),mt={text:ne,x:Ne,y:ze,options:Je,mutex:{pdfEscape:nn,activeFontKey:We,fonts:nt,activeFontSize:we}},ar.publish("preProcessText",mt),ne=mt.text,Jt=(Je=mt.options).angle,!(xs instanceof Wt)&&Jt&&typeof Jt=="number"){Jt*=Math.PI/180,Je.rotationDirection===0&&(Jt=-Jt),v===x.ADVANCED&&(Jt=-Jt);var RA=Math.cos(Jt),qh=Math.sin(Jt);xs=new Wt(RA,qh,-qh,RA,0,0)}else Jt&&Jt instanceof Wt&&(xs=Jt);v!==x.ADVANCED||xs||(xs=Yr),(Ur=Je.charSpace||Fr)!==void 0&&(Ai+=N(k(Ur))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(us=Je.horizontalScale)!==void 0&&(Ai+=N(100*us)+` Tz
`),Je.lang;var va=-1,Z1=Je.renderingMode!==void 0?Je.renderingMode:Je.stroke,Yh=Ks.internal.getCurrentPageInfo().pageContext;switch(Z1){case 0:case!1:case"fill":va=0;break;case 1:case!0:case"stroke":va=1;break;case 2:case"fillThenStroke":va=2;break;case 3:case"invisible":va=3;break;case 4:case"fillAndAddForClipping":va=4;break;case 5:case"strokeAndAddPathForClipping":va=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":va=6;break;case 7:case"addToPathForClipping":va=7}var Ym=Yh.usedRenderingMode!==void 0?Yh.usedRenderingMode:-1;va!==-1?Ai+=va+` Tr
`:Ym!==-1&&(Ai+=`0 Tr
`),va!==-1&&(Yh.usedRenderingMode=va),gr=Je.align||"left";var no,MA=we*Da,Xm=Ks.internal.pageSize.getWidth(),Jm=nt[We];Ur=Je.charSpace||Fr,Ir=Je.maxWidth||0,ln=Object.assign({autoencode:!0,noBOM:!0},Je.flags);var Qc=[],hd=function(qn){return Ks.getStringUnitWidth(qn,{font:Jm,charSpace:Ur,fontSize:we,doKerning:!1})*we/Al};if(Object.prototype.toString.call(ne)==="[object Array]"){var ba;Tt=zh(ne),gr!=="left"&&(no=Tt.map(hd));var na,$c=0;if(gr==="right"){Ne-=no[0],ne=[],Ni=Tt.length;for(var Zl=0;Zl<Ni;Zl++)Zl===0?(na=ht(Ne),ba=Ye(ze)):(na=k($c-no[Zl]),ba=-MA),ne.push([Tt[Zl],na,ba]),$c=no[Zl]}else if(gr==="center"){Ne-=no[0]/2,ne=[],Ni=Tt.length;for(var ec=0;ec<Ni;ec++)ec===0?(na=ht(Ne),ba=Ye(ze)):(na=k(($c-no[ec])/2),ba=-MA),ne.push([Tt[ec],na,ba]),$c=no[ec]}else if(gr==="left"){ne=[],Ni=Tt.length;for(var QA=0;QA<Ni;QA++)ne.push(Tt[QA])}else if(gr==="justify"&&Jm.encoding==="Identity-H"){ne=[],Ni=Tt.length,Ir=Ir!==0?Ir:Xm;for(var tc=0,Os=0;Os<Ni;Os++)if(ba=Os===0?Ye(ze):-MA,na=Os===0?ht(Ne):tc,Os<Ni-1){var Xh=k((Ir-no[Os])/(Tt[Os].split(" ").length-1)),sa=Tt[Os].split(" ");ne.push([sa[0]+" ",na,ba]),tc=0;for(var so=1;so<sa.length;so++){var $A=(hd(sa[so-1]+" "+sa[so])-hd(sa[so]))*Al+Xh;so==sa.length-1?ne.push([sa[so],$A,0]):ne.push([sa[so]+" ",$A,0]),tc-=$A}}else ne.push([Tt[Os],na,ba]);ne.push(["",tc,0])}else{if(gr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ne=[],Ni=Tt.length,Ir=Ir!==0?Ir:Xm,Os=0;Os<Ni;Os++)ba=Os===0?Ye(ze):-MA,na=Os===0?ht(Ne):0,Os<Ni-1?Qc.push(N(k((Ir-no[Os])/(Tt[Os].split(" ").length-1)))):Qc.push(0),ne.push([Tt[Os],na,ba])}}var Zm=typeof Je.R2L=="boolean"?Je.R2L:je;Zm===!0&&(ne=Kh(ne,function(qn,Yn,Fs){return[qn.split("").reverse().join(""),Yn,Fs]})),mt={text:ne,x:Ne,y:ze,options:Je,mutex:{pdfEscape:nn,activeFontKey:We,fonts:nt,activeFontSize:we}},ar.publish("postProcessText",mt),ne=mt.text,Io=mt.mutex.isHex||!1;var Jh=nt[We].encoding;Jh!=="WinAnsiEncoding"&&Jh!=="StandardEncoding"||(ne=Kh(ne,function(qn,Yn,Fs){return[qm(qn),Yn,Fs]})),Tt=zh(ne),ne=[];for(var pd,md,Hc,gd=0,HA=1,yd=Array.isArray(Tt[0])?HA:gd,Vc="",Zh=function(qn,Yn,Fs){var ni="";return Fs instanceof Wt?(Fs=typeof Je.angle=="number"?Or(Fs,new Wt(1,0,0,1,qn,Yn)):Or(new Wt(1,0,0,1,qn,Yn),Fs),v===x.ADVANCED&&(Fs=Or(new Wt(1,0,0,-1,0,0),Fs)),ni=Fs.join(" ")+` Tm
`):ni=N(qn)+" "+N(Yn)+` Td
`,ni},io=0;io<Tt.length;io++){switch(Vc="",yd){case HA:Hc=(Io?"<":"(")+Tt[io][0]+(Io?">":")"),pd=parseFloat(Tt[io][1]),md=parseFloat(Tt[io][2]);break;case gd:Hc=(Io?"<":"(")+Tt[io]+(Io?">":")"),pd=ht(Ne),md=Ye(ze)}Qc!==void 0&&Qc[io]!==void 0&&(Vc=Qc[io]+` Tw
`),io===0?ne.push(Vc+Zh(pd,md,xs)+Hc):yd===gd?ne.push(Vc+Hc):yd===HA&&ne.push(Vc+Zh(pd,md,xs)+Hc)}ne=yd===gd?ne.join(` Tj
T* `):ne.join(` Tj
`),ne+=` Tj
`;var ao=`BT
/`;return ao+=We+" "+we+` Tf
`,ao+=N(we*Da)+` TL
`,ao+=qt+`
`,ao+=Ai,ao+=ne,re(ao+="ET"),h[We]=!0,Ks};var ji=p.__private__.clip=p.clip=function(ne){return re(ne==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return ji("evenodd")},p.__private__.discardPath=p.discardPath=function(){return re("n"),this};var Qn=p.__private__.isValidStyle=function(ne){var Ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ne)!==-1&&(Ne=!0),Ne};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(ne){return Qn(ne)&&(d=ne),this};var Vs=p.__private__.getStyle=p.getStyle=function(ne){var Ne=d;switch(ne){case"D":case"S":Ne="S";break;case"F":Ne="f";break;case"FD":case"DF":Ne="B";break;case"f":case"f*":case"B":case"B*":Ne=ne}return Ne},Ts=p.close=function(){return re("h"),this};p.stroke=function(){return re("S"),this},p.fill=function(ne){return Pn("f",ne),this},p.fillEvenOdd=function(ne){return Pn("f*",ne),this},p.fillStroke=function(ne){return Pn("B",ne),this},p.fillStrokeEvenOdd=function(ne){return Pn("B*",ne),this};var Pn=function(ne,Ne){_n(Ne)==="object"?Mc(Ne,ne):re(ne)},zs=function(ne){ne===null||v===x.ADVANCED&&ne===void 0||(ne=Vs(ne),re(ne))};function ro(ne,Ne,ze,Je,lt){var mt=new Ff(Ne||this.boundingBox,ze||this.xStep,Je||this.yStep,this.gState,lt||this.matrix);mt.stream=this.stream;var Tt=ne+"$$"+this.cloneIndex+++"$$";return hn(Tt,mt),mt}var Mc=function(ne,Ne){var ze=ur[ne.key],Je=Pt[ze];if(Je instanceof kd)re("q"),re(dl(Ne)),Je.gState&&p.setGState(Je.gState),re(ne.matrix.toString()+" cm"),re("/"+ze+" sh"),re("Q");else if(Je instanceof Ff){var lt=new Wt(1,0,0,-1,0,Dn());ne.matrix&&(lt=lt.multiply(ne.matrix||Yr),ze=ro.call(Je,ne.key,ne.boundingBox,ne.xStep,ne.yStep,lt).id),re("q"),re("/Pattern cs"),re("/"+ze+" scn"),Je.gState&&p.setGState(Je.gState),re(Ne),re("Q")}},dl=function(ne){switch(ne){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Oo=p.moveTo=function(ne,Ne){return re(N(k(ne))+" "+N(M(Ne))+" m"),this},Mi=p.lineTo=function(ne,Ne){return re(N(k(ne))+" "+N(M(Ne))+" l"),this},xa=p.curveTo=function(ne,Ne,ze,Je,lt,mt){return re([N(k(ne)),N(M(Ne)),N(k(ze)),N(M(Je)),N(k(lt)),N(M(mt)),"c"].join(" ")),this};p.__private__.line=p.line=function(ne,Ne,ze,Je,lt){if(isNaN(ne)||isNaN(Ne)||isNaN(ze)||isNaN(Je)||!Qn(lt))throw new Error("Invalid arguments passed to jsPDF.line");return v===x.COMPAT?this.lines([[ze-ne,Je-Ne]],ne,Ne,[1,1],lt||"S"):this.lines([[ze-ne,Je-Ne]],ne,Ne,[1,1]).stroke()},p.__private__.lines=p.lines=function(ne,Ne,ze,Je,lt,mt){var Tt,Jt,gr,Ur,Ir,ln,us,xs,Ks,$i,Ai,Io;if(typeof ne=="number"&&(Io=ze,ze=Ne,Ne=ne,ne=Io),Je=Je||[1,1],mt=mt||!1,isNaN(Ne)||isNaN(ze)||!Array.isArray(ne)||!Array.isArray(Je)||!Qn(lt)||typeof mt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Oo(Ne,ze),Tt=Je[0],Jt=Je[1],Ur=ne.length,$i=Ne,Ai=ze,gr=0;gr<Ur;gr++)(Ir=ne[gr]).length===2?($i=Ir[0]*Tt+$i,Ai=Ir[1]*Jt+Ai,Mi($i,Ai)):(ln=Ir[0]*Tt+$i,us=Ir[1]*Jt+Ai,xs=Ir[2]*Tt+$i,Ks=Ir[3]*Jt+Ai,$i=Ir[4]*Tt+$i,Ai=Ir[5]*Jt+Ai,xa(ln,us,xs,Ks,$i,Ai));return mt&&Ts(),zs(lt),this},p.path=function(ne){for(var Ne=0;Ne<ne.length;Ne++){var ze=ne[Ne],Je=ze.c;switch(ze.op){case"m":Oo(Je[0],Je[1]);break;case"l":Mi(Je[0],Je[1]);break;case"c":xa.apply(this,Je);break;case"h":Ts()}}return this},p.__private__.rect=p.rect=function(ne,Ne,ze,Je,lt){if(isNaN(ne)||isNaN(Ne)||isNaN(ze)||isNaN(Je)||!Qn(lt))throw new Error("Invalid arguments passed to jsPDF.rect");return v===x.COMPAT&&(Je=-Je),re([N(k(ne)),N(M(Ne)),N(k(ze)),N(k(Je)),"re"].join(" ")),zs(lt),this},p.__private__.triangle=p.triangle=function(ne,Ne,ze,Je,lt,mt,Tt){if(isNaN(ne)||isNaN(Ne)||isNaN(ze)||isNaN(Je)||isNaN(lt)||isNaN(mt)||!Qn(Tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ze-ne,Je-Ne],[lt-ze,mt-Je],[ne-lt,Ne-mt]],ne,Ne,[1,1],Tt,!0),this},p.__private__.roundedRect=p.roundedRect=function(ne,Ne,ze,Je,lt,mt,Tt){if(isNaN(ne)||isNaN(Ne)||isNaN(ze)||isNaN(Je)||isNaN(lt)||isNaN(mt)||!Qn(Tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Jt=4/3*(Math.SQRT2-1);return lt=Math.min(lt,.5*ze),mt=Math.min(mt,.5*Je),this.lines([[ze-2*lt,0],[lt*Jt,0,lt,mt-mt*Jt,lt,mt],[0,Je-2*mt],[0,mt*Jt,-lt*Jt,mt,-lt,mt],[2*lt-ze,0],[-lt*Jt,0,-lt,-mt*Jt,-lt,-mt],[0,2*mt-Je],[0,-mt*Jt,lt*Jt,-mt,lt,-mt]],ne+lt,Ne,[1,1],Tt,!0),this},p.__private__.ellipse=p.ellipse=function(ne,Ne,ze,Je,lt){if(isNaN(ne)||isNaN(Ne)||isNaN(ze)||isNaN(Je)||!Qn(lt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var mt=4/3*(Math.SQRT2-1)*ze,Tt=4/3*(Math.SQRT2-1)*Je;return Oo(ne+ze,Ne),xa(ne+ze,Ne-Tt,ne+mt,Ne-Je,ne,Ne-Je),xa(ne-mt,Ne-Je,ne-ze,Ne-Tt,ne-ze,Ne),xa(ne-ze,Ne+Tt,ne-mt,Ne+Je,ne,Ne+Je),xa(ne+mt,Ne+Je,ne+ze,Ne+Tt,ne+ze,Ne),zs(lt),this},p.__private__.circle=p.circle=function(ne,Ne,ze,Je){if(isNaN(ne)||isNaN(Ne)||isNaN(ze)||!Qn(Je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ne,Ne,ze,ze,Je)},p.setFont=function(ne,Ne,ze){return ze&&(Ne=B(Ne,ze)),We=sn(ne,Ne,{disableWarning:!1}),this};var Fo=p.__private__.getFont=p.getFont=function(){return nt[sn.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var ne,Ne,ze={};for(ne in At)if(At.hasOwnProperty(ne))for(Ne in ze[ne]=[],At[ne])At[ne].hasOwnProperty(Ne)&&ze[ne].push(Ne);return ze},p.addFont=function(ne,Ne,ze,Je,lt){var mt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&mt.indexOf(arguments[3])!==-1?lt=arguments[3]:arguments[3]&&mt.indexOf(arguments[3])==-1&&(ze=B(ze,Je)),lt=lt||"Identity-H",xr.call(this,ne,Ne,ze,lt)};var se,D=t.lineWidth||.200025,he=p.__private__.getLineWidth=p.getLineWidth=function(){return D},Ae=p.__private__.setLineWidth=p.setLineWidth=function(ne){return D=ne,re(N(k(ne))+" w"),this};p.__private__.setLineDash=Nr.API.setLineDash=Nr.API.setLineDashPattern=function(ne,Ne){if(ne=ne||[],Ne=Ne||0,isNaN(Ne)||!Array.isArray(ne))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ne=ne.map(function(ze){return N(k(ze))}).join(" "),Ne=N(k(Ne)),re("["+ne+"] "+Ne+" d"),this};var $e=p.__private__.getLineHeight=p.getLineHeight=function(){return we*se};p.__private__.getLineHeight=p.getLineHeight=function(){return we*se};var Ge=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(ne){return typeof(ne=ne||1.15)=="number"&&(se=ne),this},gt=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return se};Ge(t.lineHeight);var ht=p.__private__.getHorizontalCoordinate=function(ne){return k(ne)},Ye=p.__private__.getVerticalCoordinate=function(ne){return v===x.ADVANCED?ne:Xe[R].mediaBox.topRightY-Xe[R].mediaBox.bottomLeftY-k(ne)},Gt=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(ne){return N(ht(ne))},Et=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(ne){return N(Ye(ne))},ft=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return me(ft)},p.__private__.setStrokeColor=p.setDrawColor=function(ne,Ne,ze,Je){return ft=ye({ch1:ne,ch2:Ne,ch3:ze,ch4:Je,pdfColorType:"draw",precision:2}),re(ft),this};var Nt=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return me(Nt)},p.__private__.setFillColor=p.setFillColor=function(ne,Ne,ze,Je){return Nt=ye({ch1:ne,ch2:Ne,ch3:ze,ch4:Je,pdfColorType:"fill",precision:2}),re(Nt),this};var qt=t.textColor||"0 g",ir=p.__private__.getTextColor=p.getTextColor=function(){return me(qt)};p.__private__.setTextColor=p.setTextColor=function(ne,Ne,ze,Je){return qt=ye({ch1:ne,ch2:Ne,ch3:ze,ch4:Je,pdfColorType:"text",precision:3}),this};var Fr=t.charSpace,pn=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Fr||0)};p.__private__.setCharSpace=p.setCharSpace=function(ne){if(isNaN(ne))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fr=ne,this};var on=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(ne){var Ne=p.CapJoinStyles[ne];if(Ne===void 0)throw new Error("Line cap style of '"+ne+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return on=Ne,re(Ne+" J"),this};var Ln=0;p.__private__.setLineJoin=p.setLineJoin=function(ne){var Ne=p.CapJoinStyles[ne];if(Ne===void 0)throw new Error("Line join style of '"+ne+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ln=Ne,re(Ne+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(ne){if(ne=ne||0,isNaN(ne))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(N(k(ne))+" M"),this},p.GState=fv,p.setGState=function(ne){(ne=typeof ne=="string"?Ht[lr[ne]]:dn(null,ne)).equals(sr)||(re("/"+ne.id+" gs"),sr=ne)};var dn=function(ne,Ne){if(!ne||!lr[ne]){var ze=!1;for(var Je in Ht)if(Ht.hasOwnProperty(Je)&&Ht[Je].equals(Ne)){ze=!0;break}if(ze)Ne=Ht[Je];else{var lt="GS"+(Object.keys(Ht).length+1).toString(10);Ht[lt]=Ne,Ne.id=lt}return ne&&(lr[ne]=Ne.id),ar.publish("addGState",Ne),Ne}};p.addGState=function(ne,Ne){return dn(ne,Ne),this},p.saveGraphicsState=function(){return re("q"),Rt.push({key:We,size:we,color:qt}),this},p.restoreGraphicsState=function(){re("Q");var ne=Rt.pop();return We=ne.key,we=ne.size,qt=ne.color,sr=null,this},p.setCurrentTransformationMatrix=function(ne){return re(ne.toString()+" cm"),this},p.comment=function(ne){return re("#"+ne),this};var Ut=function(ne,Ne){var ze=ne||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ze},set:function(mt){isNaN(mt)||(ze=parseFloat(mt))}});var Je=Ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Je},set:function(mt){isNaN(mt)||(Je=parseFloat(mt))}});var lt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return lt},set:function(mt){lt=mt.toString()}}),this},pr=function(ne,Ne,ze,Je){Ut.call(this,ne,Ne),this.type="rect";var lt=ze||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return lt},set:function(Tt){isNaN(Tt)||(lt=parseFloat(Tt))}});var mt=Je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return mt},set:function(Tt){isNaN(Tt)||(mt=parseFloat(Tt))}}),this},Qi=function(){this.page=Kt,this.currentPage=R,this.pages=de.slice(0),this.pagesContext=Xe.slice(0),this.x=ot,this.y=xt,this.matrix=Ft,this.width=Xt(R),this.height=Dn(R),this.outputDestination=xe,this.id="",this.objectNumber=-1};Qi.prototype.restore=function(){Kt=this.page,R=this.currentPage,Xe=this.pagesContext,de=this.pages,ot=this.x,xt=this.y,Ft=this.matrix,dr(R,this.width),$n(R,this.height),xe=this.outputDestination};var zr=function(ne,Ne,ze,Je,lt){Fn.push(new Qi),Kt=R=0,de=[],ot=ne,xt=Ne,Ft=lt,bn([ze,Je])},ys=function(ne){if(Tr[ne])Fn.pop().restore();else{var Ne=new Qi,ze="Xo"+(Object.keys(Ke).length+1).toString(10);Ne.id=ze,Tr[ne]=ze,Ke[ze]=Ne,ar.publish("addFormObject",Ne),Fn.pop().restore()}};for(var Lt in p.beginFormObject=function(ne,Ne,ze,Je,lt){return zr(ne,Ne,ze,Je,lt),this},p.endFormObject=function(ne){return ys(ne),this},p.doFormObject=function(ne,Ne){var ze=Ke[Tr[ne]];return re("q"),re(Ne.toString()+" cm"),re("/"+ze.id+" Do"),re("Q"),this},p.getFormObject=function(ne){var Ne=Ke[Tr[ne]];return{x:Ne.x,y:Ne.y,width:Ne.width,height:Ne.height,matrix:Ne.matrix}},p.save=function(ne,Ne){return ne=ne||"generated.pdf",(Ne=Ne||{}).returnPromise=Ne.returnPromise||!1,Ne.returnPromise===!1?(Cd(er(jn()),ne),typeof Cd.unload=="function"&&Sr.setTimeout&&setTimeout(Cd.unload,911),this):new Promise(function(ze,Je){try{var lt=Cd(er(jn()),ne);typeof Cd.unload=="function"&&Sr.setTimeout&&setTimeout(Cd.unload,911),ze(lt)}catch(mt){Je(mt.message)}})},Nr.API)Nr.API.hasOwnProperty(Lt)&&(Lt==="events"&&Nr.API.events.length?function(ne,Ne){var ze,Je,lt;for(lt=Ne.length-1;lt!==-1;lt--)ze=Ne[lt][0],Je=Ne[lt][1],ne.subscribe.apply(ne,[ze].concat(typeof Je=="function"?[Je]:Je))}(ar,Nr.API.events):p[Lt]=Nr.API[Lt]);var Xt=p.getPageWidth=function(ne){return(Xe[ne=ne||R].mediaBox.topRightX-Xe[ne].mediaBox.bottomLeftX)/Me},dr=p.setPageWidth=function(ne,Ne){Xe[ne].mediaBox.topRightX=Ne*Me+Xe[ne].mediaBox.bottomLeftX},Dn=p.getPageHeight=function(ne){return(Xe[ne=ne||R].mediaBox.topRightY-Xe[ne].mediaBox.bottomLeftY)/Me},$n=p.setPageHeight=function(ne,Ne){Xe[ne].mediaBox.topRightY=Ne*Me+Xe[ne].mediaBox.bottomLeftY};return p.internal={pdfEscape:nn,getStyle:Vs,getFont:Fo,getFontSize:pe,getCharSpace:pn,getTextColor:ir,getLineHeight:$e,getLineHeightFactor:gt,getLineWidth:he,write:ve,getHorizontalCoordinate:ht,getVerticalCoordinate:Ye,getCoordinateString:Gt,getVerticalCoordinateString:Et,collections:{},newObject:Mr,newAdditionalObject:ce,newObjectDeferred:Jr,newObjectDeferredBegin:q,getFilters:Be,putStream:Oe,events:ar,scaleFactor:Me,pageSize:{getWidth:function(){return Xt(R)},setWidth:function(ne){dr(R,ne)},getHeight:function(){return Dn(R)},setHeight:function(ne){$n(R,ne)}},encryptionOptions:A,encryption:wr,getEncryptor:Hr,output:cn,getNumberOfPages:di,pages:de,out:re,f2:E,f3:S,getPageInfo:Er,getPageInfoByObjId:or,getCurrentPageInfo:In,getPDFVersion:g,Point:Ut,Rectangle:pr,Matrix:Wt,hasHotfix:un},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Xt(R)},set:function(ne){dr(R,ne)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Dn(R)},set:function(ne){$n(R,ne)},enumerable:!0,configurable:!0}),Vr.call(p,Ce),We="F1",ci(i,n),ar.publish("initialized"),p}df.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},df.prototype.toHexString=function(t){return t.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},df.prototype.hexToBytes=function(t){for(var r=[],n=0;n<t.length;n+=2)r.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return r.join("")},df.prototype.processOwnerPassword=function(t,r){return d4(u4(r).substr(0,5),t)},df.prototype.encryptor=function(t,r){var n=u4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&r,r>>8&255)).substr(0,10);return function(s){return d4(n,s)}},fv.prototype.equals=function(t){var r,n="id,objectNumber,equals";if(!t||_n(t)!==_n(this))return!1;var s=0;for(r in this)if(!(n.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!t.hasOwnProperty(r)||this[r]!==t[r])return!1;s++}for(r in t)t.hasOwnProperty(r)&&n.indexOf(r)<0&&s--;return s===0},Nr.API={events:[]},Nr.version="3.0.1";var Ns=Nr.API,sS=1,EA=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},JA=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pr=function(t){return t.toFixed(2)},tu=function(t){return t.toFixed(5)};Ns.__acroform__={};var La=function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t},H_=function(t){return t*sS},gl=function(t){var r=new sL,n=Ar.internal.getHeight(t)||0,s=Ar.internal.getWidth(t)||0;return r.BBox=[0,0,Number(Pr(s)),Number(Pr(n))],r},lte=Ns.__acroform__.setBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<r},cte=Ns.__acroform__.clearBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<r)},ute=Ns.__acroform__.getBit=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<r?1:0},Us=Ns.__acroform__.getBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ute(t,r-1)},Rs=Ns.__acroform__.setBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return lte(t,r-1)},Ms=Ns.__acroform__.clearBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return cte(t,r-1)},dte=Ns.__acroform__.calculateCoordinates=function(t,r){var n=r.internal.getHorizontalCoordinate,s=r.internal.getVerticalCoordinate,i=t[0],o=t[1],l=t[2],c=t[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=s(o+c)||0,u.upperRight_X=n(i+l)||0,u.upperRight_Y=s(o)||0,[Number(Pr(u.lowerLeft_X)),Number(Pr(u.lowerLeft_Y)),Number(Pr(u.upperRight_X)),Number(Pr(u.upperRight_Y))]},Ate=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var r=[],n=t._V||t.DV,s=A4(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(t.scope.__private__.encodeColorString(t.color)),r.push("/"+i+" "+Pr(s.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC");var o=gl(t);return o.scope=t.scope,o.stream=r.join(`
`),o}},A4=function(t,r){var n=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},i=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");i=t.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var o=n,l=Ar.internal.getHeight(t)||0;l=l<0?-l:l;var c=Ar.internal.getWidth(t)||0;c=c<0?-c:c;var u=function(S,k,P){if(S+1<i.length){var M=k+" "+i[S+1][0];return Gg(M,t,P).width<=c-4}return!1};o++;e:for(;o>0;){r="",o--;var d,A,f=Gg("3",t,o).height,h=t.multiline?l-o:(l-f)/2,p=h+=2,m=0,g=0,b=0;if(o<=0){r=`(...) Tj
`,r+="% Width of Text: "+Gg(r,t,o=12).width+", FieldWidth:"+c+`
`;break}for(var y="",x=0,v=0;v<i.length;v++)if(i.hasOwnProperty(v)){var w=!1;if(i[v].length!==1&&b!==i[v].length-1){if((f+2)*(x+2)+2>l)continue e;y+=i[v][b],w=!0,g=v,v--}else{y=(y+=i[v][b]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var _=parseInt(v),B=u(_,y,o),N=v>=i.length-1;if(B&&!N){y+=" ",b=0;continue}if(B||N){if(N)g=_;else if(t.multiline&&(f+2)*(x+2)+2>l)continue e}else{if(!t.multiline||(f+2)*(x+2)+2>l)continue e;g=_}}for(var j="",C=m;C<=g;C++){var E=i[C];if(t.multiline){if(C===g){j+=E[b]+" ",b=(b+1)%E.length;continue}if(C===m){j+=E[E.length-1]+" ";continue}}j+=E[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,A=Gg(j,t,o).width,t.textAlign){case"right":d=c-A-2;break;case"center":d=(c-A)/2;break;case"left":default:d=2}r+=Pr(d)+" "+Pr(p)+` Td
`,r+="("+EA(j)+`) Tj
`,r+=-Pr(d)+` 0 Td
`,p=-(o+2),A=0,m=w?g:g+1,x++,y=""}break}return s.text=r,s.fontSize=o,s},Gg=function(t,r,n){var s=r.scope.internal.getFont(r.fontName,r.fontStyle),i=r.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:r.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},fte={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hte=function(t,r){var n={type:"reference",object:t};r.internal.getPageInfo(t.page).pageContext.annotations.find(function(s){return s.type===n.type&&s.object===n.object})===void 0&&r.internal.getPageInfo(t.page).pageContext.annotations.push(n)},pte=function(t,r){for(var n in t)if(t.hasOwnProperty(n)){var s=n,i=t[n];r.internal.newObjectDeferredBegin(i.objId,!0),_n(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[s]}},mte=function(t,r){if(r.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ll.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(fte)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new iL,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];o.objId=void 0,o.hasAnnotation&&hte(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(s,i){var o=!s;for(var l in s||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(l)){var c=s[l],u=[],d=c.Rect;if(c.Rect&&(c.Rect=dte(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Ar.createDefaultAppearanceStream(c),_n(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var A=Ate(c);u.push({key:"AP",value:"<</N "+A+">>"}),i.internal.acroformPlugin.xForms.push(A)}if(c.appearanceStreamContent){var f="";for(var h in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(h)){var p=c.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var l in p)if(p.hasOwnProperty(l)){var m=p[l];typeof m=="function"&&(m=m.call(i,c)),f+="/"+l+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=p)=="function"&&(m=m.call(i,c)),f+="/"+l+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);f+=">>"}u.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:c.objId}),i.internal.out("endobj")}o&&pte(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},nL=Ns.__acroform__.arrayToPdfArray=function(t,r,n){var s=function(l){return l};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),_n(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(r!==void 0&&n&&(s=n.internal.getEncryptor(r)),i+="("+EA(s(t[o].toString()))+")"):i+=t[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_w=function(t,r,n){var s=function(i){return i};return r!==void 0&&n&&(s=n.internal.getEncryptor(r)),(t=t||"").toString(),t="("+EA(s(t))+")"},Bl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bl.prototype.toString=function(){return this.objId+" 0 R"},Bl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Bl.prototype.getKeyValueListForStream=function(){var t=[],r=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in r)if(Object.getOwnPropertyDescriptor(this,r[n]).configurable===!1){var s=r[n],i=this[s];i&&(Array.isArray(i)?t.push({key:s,value:nL(i,this.objId,this.scope)}):i instanceof Bl?(i.scope=this.scope,t.push({key:s,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:s,value:i}))}return t};var sL=function(){Bl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};La(sL,Bl);var iL=function(){Bl.call(this);var t,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(s){return s};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+EA(n(t))+")"}},set:function(n){t=n}})};La(iL,Bl);var ll=function t(){Bl.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');r=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Us(r,3)},set:function(y){y?this.F=Rs(r,3):this.F=Ms(r,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(y){s=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(y){s[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(y){s[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(y){s[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(y){s[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof hv)return;o="FieldObject"+t.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+EA(y(o))+")"},set:function(y){o=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(y){o=y}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/sS:d},set:function(y){d=y}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(y){A=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof hv||this instanceof Jd))return _w(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof yi?h:_w(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof yi?y:y.substr(0,1)==="("?JA(y.substr(1,y.length-2)):JA(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yi?JA(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof yi?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof yi?p:_w(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof yi?y:y.substr(0,1)==="("?JA(y.substr(1,y.length-2)):JA(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yi?JA(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof yi?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(y){m=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,1)},set:function(y){y?this.Ff=Rs(this.Ff,1):this.Ff=Ms(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,2)},set:function(y){y?this.Ff=Rs(this.Ff,2):this.Ff=Ms(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,3)},set:function(y){y?this.Ff=Rs(this.Ff,3):this.Ff=Ms(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');b=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(b){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};La(ll,Bl);var Jf=function(){ll.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nL(r,this.objId,this.scope)},set:function(n){var s,i;i=[],typeof(s=n)=="string"&&(i=function(o,l,c){c||(c=1);for(var u,d=[];u=l.exec(o);)d.push(u[c]);return d}(s,/\((.*?)\)/g)),r=i}}),this.getOptions=function(){return r},this.setOptions=function(n){r=n,this.sort&&r.sort()},this.addOption=function(n){n=(n=n||"").toString(),r.push(n),this.sort&&r.sort()},this.removeOption=function(n,s){for(s=s||!1,n=(n=n||"").toString();r.indexOf(n)!==-1&&(r.splice(r.indexOf(n),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,18)},set:function(n){n?this.Ff=Rs(this.Ff,18):this.Ff=Ms(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Rs(this.Ff,19):this.Ff=Ms(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,20)},set:function(n){n?(this.Ff=Rs(this.Ff,20),r.sort()):this.Ff=Ms(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,22)},set:function(n){n?this.Ff=Rs(this.Ff,22):this.Ff=Ms(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,23)},set:function(n){n?this.Ff=Rs(this.Ff,23):this.Ff=Ms(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,27)},set:function(n){n?this.Ff=Rs(this.Ff,27):this.Ff=Ms(this.Ff,27)}}),this.hasAppearanceStream=!1};La(Jf,ll);var Zf=function(){Jf.call(this),this.fontName="helvetica",this.combo=!1};La(Zf,Jf);var eh=function(){Zf.call(this),this.combo=!0};La(eh,Zf);var ex=function(){eh.call(this),this.edit=!0};La(ex,eh);var yi=function(){ll.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,15)},set:function(n){n?this.Ff=Rs(this.Ff,15):this.Ff=Ms(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,16)},set:function(n){n?this.Ff=Rs(this.Ff,16):this.Ff=Ms(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,17)},set:function(n){n?this.Ff=Rs(this.Ff,17):this.Ff=Ms(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,26)},set:function(n){n?this.Ff=Rs(this.Ff,26):this.Ff=Ms(this.Ff,26)}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var s,i=[];for(s in i.push("<<"),r)i.push("/"+s+" ("+EA(n(r[s]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){_n(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};La(yi,ll);var tx=function(){yi.call(this),this.pushButton=!0};La(tx,yi);var th=function(){yi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r!==void 0?r:[]}})};La(th,yi);var hv=function(){var t,r;ll.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(i){r=i}});var n,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,l=[];for(o in l.push("<<"),s)l.push("/"+o+" ("+EA(i(s[o]))+")");return l.push(">>"),l.join(`
`)},set:function(i){_n(i)==="object"&&(s=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(i){typeof i=="string"&&(s.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ar.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};La(hv,ll),th.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var n=this.Kids[r];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},th.prototype.createOption=function(t){var r=new hv;return r.Parent=this,r.optionName=t,this.Kids.push(r),gte.call(this.scope,r),r};var rx=function(){yi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ar.CheckBox.createAppearanceStream()};La(rx,yi);var Jd=function(){ll.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,13)},set:function(r){r?this.Ff=Rs(this.Ff,13):this.Ff=Ms(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,21)},set:function(r){r?this.Ff=Rs(this.Ff,21):this.Ff=Ms(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,23)},set:function(r){r?this.Ff=Rs(this.Ff,23):this.Ff=Ms(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,24)},set:function(r){r?this.Ff=Rs(this.Ff,24):this.Ff=Ms(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,25)},set:function(r){r?this.Ff=Rs(this.Ff,25):this.Ff=Ms(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,26)},set:function(r){r?this.Ff=Rs(this.Ff,26):this.Ff=Ms(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){Number.isInteger(r)&&(t=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};La(Jd,ll);var nx=function(){Jd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,14)},set:function(t){t?this.Ff=Rs(this.Ff,14):this.Ff=Ms(this.Ff,14)}}),this.password=!0};La(nx,Jd);var Ar={CheckBox:{createAppearanceStream:function(){return{N:{On:Ar.CheckBox.YesNormal},D:{On:Ar.CheckBox.YesPushDown,Off:Ar.CheckBox.OffPushDown}}},YesPushDown:function(t){var r=gl(t);r.scope=t.scope;var n=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=A4(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Pr(Ar.internal.getWidth(t))+" "+Pr(Ar.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+s+" "+Pr(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),r.stream=n.join(`
`),r},YesNormal:function(t){var r=gl(t);r.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=[],o=Ar.internal.getHeight(t),l=Ar.internal.getWidth(t),c=A4(t,t.caption);return i.push("1 g"),i.push("0 0 "+Pr(l)+" "+Pr(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Pr(l-1)+" "+Pr(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Pr(c.fontSize)+" Tf "+s),i.push(c.text),i.push("ET"),i.push("Q"),r.stream=i.join(`
`),r},OffPushDown:function(t){var r=gl(t);r.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Pr(Ar.internal.getWidth(t))+" "+Pr(Ar.internal.getHeight(t))+" re"),n.push("f"),r.stream=n.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(t){var r={D:{Off:Ar.RadioButton.Circle.OffPushDown},N:{}};return r.N[t]=Ar.RadioButton.Circle.YesNormal,r.D[t]=Ar.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(t){var r=gl(t);r.scope=t.scope;var n=[],s=Ar.internal.getWidth(t)<=Ar.internal.getHeight(t)?Ar.internal.getWidth(t)/4:Ar.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=Ar.internal.Bezier_C,o=Number((s*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+tu(Ar.internal.getWidth(t)/2)+" "+tu(Ar.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(t){var r=gl(t);r.scope=t.scope;var n=[],s=Ar.internal.getWidth(t)<=Ar.internal.getHeight(t)?Ar.internal.getWidth(t)/4:Ar.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),o=Number((i*Ar.internal.Bezier_C).toFixed(5)),l=Number((s*Ar.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+tu(Ar.internal.getWidth(t)/2)+" "+tu(Ar.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+tu(Ar.internal.getWidth(t)/2)+" "+tu(Ar.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),n.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),n.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),n.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},OffPushDown:function(t){var r=gl(t);r.scope=t.scope;var n=[],s=Ar.internal.getWidth(t)<=Ar.internal.getHeight(t)?Ar.internal.getWidth(t)/4:Ar.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),o=Number((i*Ar.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+tu(Ar.internal.getWidth(t)/2)+" "+tu(Ar.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r}},Cross:{createAppearanceStream:function(t){var r={D:{Off:Ar.RadioButton.Cross.OffPushDown},N:{}};return r.N[t]=Ar.RadioButton.Cross.YesNormal,r.D[t]=Ar.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(t){var r=gl(t);r.scope=t.scope;var n=[],s=Ar.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Pr(Ar.internal.getWidth(t)-2)+" "+Pr(Ar.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Pr(s.x1.x)+" "+Pr(s.x1.y)+" m"),n.push(Pr(s.x2.x)+" "+Pr(s.x2.y)+" l"),n.push(Pr(s.x4.x)+" "+Pr(s.x4.y)+" m"),n.push(Pr(s.x3.x)+" "+Pr(s.x3.y)+" l"),n.push("s"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(t){var r=gl(t);r.scope=t.scope;var n=Ar.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+Pr(Ar.internal.getWidth(t))+" "+Pr(Ar.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+Pr(Ar.internal.getWidth(t)-2)+" "+Pr(Ar.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(Pr(n.x1.x)+" "+Pr(n.x1.y)+" m"),s.push(Pr(n.x2.x)+" "+Pr(n.x2.y)+" l"),s.push(Pr(n.x4.x)+" "+Pr(n.x4.y)+" m"),s.push(Pr(n.x3.x)+" "+Pr(n.x3.y)+" l"),s.push("s"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(t){var r=gl(t);r.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Pr(Ar.internal.getWidth(t))+" "+Pr(Ar.internal.getHeight(t))+" re"),n.push("f"),r.stream=n.join(`
`),r}}},createDefaultAppearanceStream:function(t){var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+r+" "+t.fontSize+" Tf "+n}};Ar.internal={Bezier_C:.551915024494,calculateCross:function(t){var r=Ar.internal.getWidth(t),n=Ar.internal.getHeight(t),s=Math.min(r,n);return{x1:{x:(r-s)/2,y:(n-s)/2+s},x2:{x:(r-s)/2+s,y:(n-s)/2},x3:{x:(r-s)/2,y:(n-s)/2},x4:{x:(r-s)/2+s,y:(n-s)/2+s}}}},Ar.internal.getWidth=function(t){var r=0;return _n(t)==="object"&&(r=H_(t.Rect[2])),r},Ar.internal.getHeight=function(t){var r=0;return _n(t)==="object"&&(r=H_(t.Rect[3])),r};var gte=Ns.addField=function(t){if(mte(this,t),!(t instanceof ll))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=t).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ns.AcroFormChoiceField=Jf,Ns.AcroFormListBox=Zf,Ns.AcroFormComboBox=eh,Ns.AcroFormEditBox=ex,Ns.AcroFormButton=yi,Ns.AcroFormPushButton=tx,Ns.AcroFormRadioButton=th,Ns.AcroFormCheckBox=rx,Ns.AcroFormTextField=Jd,Ns.AcroFormPasswordField=nx,Ns.AcroFormAppearance=Ar,Ns.AcroForm={ChoiceField:Jf,ListBox:Zf,ComboBox:eh,EditBox:ex,Button:yi,PushButton:tx,RadioButton:th,CheckBox:rx,TextField:Jd,PasswordField:nx,Appearance:Ar},Nr.AcroForm={ChoiceField:Jf,ListBox:Zf,ComboBox:eh,EditBox:ex,Button:yi,PushButton:tx,RadioButton:th,CheckBox:rx,TextField:Jd,PasswordField:nx,Appearance:Ar};function aL(t){return t.reduce(function(r,n,s){return r[n]=s,r},{})}(function(t){t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(S,k){var P,M,H,F,Q,K=r;if((k=k||r)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(B(S))for(Q in n)for(H=n[Q],P=0;P<H.length;P+=1){for(F=!0,M=0;M<H[P].length;M+=1)if(H[P][M]!==void 0&&H[P][M]!==S[M]){F=!1;break}if(F===!0){K=Q;break}}else for(Q in n)for(H=n[Q],P=0;P<H.length;P+=1){for(F=!0,M=0;M<H[P].length;M+=1)if(H[P][M]!==void 0&&H[P][M]!==S.charCodeAt(M)){F=!1;break}if(F===!0){K=Q;break}}return K===r&&k!==r&&(K=k),K},i=function S(k){for(var P=this.internal.write,M=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:k.width}),F.push({key:"Height",value:k.height}),k.colorSpace===b.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===b.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var Q="",K=0,Y=k.transparency.length;K<Y;K++)Q+=k.transparency[K]+" "+k.transparency[K]+" ";F.push({key:"Mask",value:"["+Q+"]"})}k.sMask!==void 0&&F.push({key:"SMask",value:k.objectId+1+" 0 R"});var V=k.filter!==void 0?["/"+k.filter]:void 0;if(M({data:k.data,additionalKeyValues:F,alreadyAppliedFilters:V,objectId:k.objectId}),P("endobj"),"sMask"in k&&k.sMask!==void 0){var I="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,O={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:I,data:k.sMask};"filter"in k&&(O.filter=k.filter),S.call(this,O)}if(k.colorSpace===b.INDEXED){var R=this.internal.newObject();M({data:j(new Uint8Array(k.palette)),objectId:R}),P("endobj")}},o=function(){var S=this.internal.collections.addImage_images;for(var k in S)i.call(this,S[k])},l=function(){var S,k=this.internal.collections.addImage_images,P=this.internal.write;for(var M in k)P("/I"+(S=k[M]).index,S.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var S=this.internal.collections.addImage_images;return c.call(this),S},d=function(){return Object.keys(this.internal.collections.addImage_images).length},A=function(S){return typeof t["process"+S.toUpperCase()]=="function"},f=function(S){return _n(S)==="object"&&S.nodeType===1},h=function(S,k){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var P=""+S.getAttribute("src");if(P.indexOf("data:image/")===0)return s0(unescape(P).split("base64,").pop());var M=t.loadFile(P,!0);if(M!==void 0)return M}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var H;switch(k){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;case"JPEG":case"JPG":default:H="image/jpeg"}return s0(S.toDataURL(H,1).split("base64,").pop())}},p=function(S){var k=this.internal.collections.addImage_images;if(k){for(var P in k)if(S===k[P].alias)return k[P]}},m=function(S,k,P){return S||k||(S=-96,k=-96),S<0&&(S=-1*P.width*72/S/this.internal.scaleFactor),k<0&&(k=-1*P.height*72/k/this.internal.scaleFactor),S===0&&(S=k*P.width/P.height),k===0&&(k=S*P.height/P.width),[S,k]},g=function(S,k,P,M,H,F){var Q=m.call(this,P,M,H),K=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,V=u.call(this);if(P=Q[0],M=Q[1],V[H.index]=H,F){F*=Math.PI/180;var I=Math.cos(F),O=Math.sin(F),R=function(T){return T.toFixed(4)},U=[R(I),R(O),R(-1*O),R(I),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,K(S),Y(k+M),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([K(P),"0","0",K(M),"0","0","cm"].join(" "))):this.internal.write([K(P),"0","0",K(M),K(S),Y(k+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(S){var k,P,M=0;if(typeof S=="string")for(P=S.length,k=0;k<P;k++)M=(M<<5)-M+S.charCodeAt(k),M|=0;else if(B(S))for(P=S.byteLength/2,k=0;k<P;k++)M=(M<<5)-M+S[k],M|=0;return M},v=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var k=!0;return S.length===0&&(k=!1),S.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(k=!1),k},w=t.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var k=S.indexOf(",");return k<0?null:S.substring(0,k).trim().endsWith("base64")?S.substring(k+1):null},_=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(S){return _()&&S instanceof ArrayBuffer};var B=t.__addimage__.isArrayBufferView=function(S){return _()&&typeof Uint32Array<"u"&&(S instanceof Int8Array||S instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array)},N=t.__addimage__.binaryStringToUint8Array=function(S){for(var k=S.length,P=new Uint8Array(k),M=0;M<k;M++)P[M]=S.charCodeAt(M);return P},j=t.__addimage__.arrayBufferToBinaryString=function(S){for(var k="",P=B(S)?S:new Uint8Array(S),M=0;M<P.length;M+=8192)k+=String.fromCharCode.apply(null,P.subarray(M,M+8192));return k};t.addImage=function(){var S,k,P,M,H,F,Q,K,Y;if(typeof arguments[1]=="number"?(k=r,P=arguments[1],M=arguments[2],H=arguments[3],F=arguments[4],Q=arguments[5],K=arguments[6],Y=arguments[7]):(k=arguments[1],P=arguments[2],M=arguments[3],H=arguments[4],F=arguments[5],Q=arguments[6],K=arguments[7],Y=arguments[8]),_n(S=arguments[0])==="object"&&!f(S)&&"imageData"in S){var V=S;S=V.imageData,k=V.format||k||r,P=V.x||P||0,M=V.y||M||0,H=V.w||V.width||H,F=V.h||V.height||F,Q=V.alias||Q,K=V.compression||K,Y=V.rotation||V.angle||Y}var I=this.internal.getFilters();if(K===void 0&&I.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(P)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var O=C.call(this,S,k,Q,K);return g.call(this,P,M,H,F,O,Y),this};var C=function(S,k,P,M){var H,F,Q;if(typeof S=="string"&&s(S)===r){S=unescape(S);var K=E(S,!1);(K!==""||(K=t.loadFile(S,!0))!==void 0)&&(S=K)}if(f(S)&&(S=h(S,k)),k=s(S,k),!A(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((Q=P)==null||Q.length===0)&&(P=function(Y){return typeof Y=="string"||B(Y)?x(Y):B(Y.data)?x(Y.data):null}(S)),(H=p.call(this,P))||(_()&&(S instanceof Uint8Array||k==="RGBA"||(F=S,S=N(S))),H=this["process"+k.toUpperCase()](S,d.call(this),P,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:y.NONE}(M),F)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},E=t.__addimage__.convertBase64ToBinaryString=function(S,k){k=typeof k!="boolean"||k;var P,M="";if(typeof S=="string"){var H;P=(H=w(S))!==null&&H!==void 0?H:S;try{M=s0(P)}catch(F){if(k)throw v(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};t.getImageProperties=function(S){var k,P,M="";if(f(S)&&(S=h(S)),typeof S=="string"&&s(S)===r&&((M=E(S,!1))===""&&(M=t.loadFile(S)||""),S=M),P=s(S),!A(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(!_()||S instanceof Uint8Array||(S=N(S)),!(k=this["process"+P.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=P,k}})(Nr.API),function(t){var r=function(n){if(n!==void 0&&n!="")return!0};Nr.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var s,i,o,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,A=!1,f=0;f<d.length&&!A;f++)switch((s=d[f]).type){case"link":(r(s.options.url)||r(s.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var h=0;h<d.length;h++){s=d[h];var p=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),x=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(s.bounds.x)+" "+c(s.bounds.y+s.bounds.h)+" "+l(s.bounds.x+s.bounds.w)+" "+c(s.bounds.y)+"] ")+"/Contents ("+p(y(s.contents))+")",o+=" /Popup "+b.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+p(y(x))+") >>",g.content=o;var v=g.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(s.bounds.x+30)+" "+c(s.bounds.y+s.bounds.h)+" "+l(s.bounds.x+s.bounds.w+30)+" "+c(s.bounds.y)+"] ")+" /Parent "+v,s.open&&(o+=" /Open true"),o+=" >>",b.content=o,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+l(s.bounds.x)+" "+c(s.bounds.y)+" "+l(s.bounds.x+s.bounds.w)+" "+c(s.bounds.y+s.bounds.h)+"] ";var w=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(m(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var _=this.annotations._nameMap[s.options.name];s.options.pageNumber=_.page,s.options.top=_.y}else s.options.top||(s.options.top=0);if(i="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(m(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var B=c(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+B+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var s=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":s.pageContext.annotations.push(n)}},t.link=function(n,s,i,o,l){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(n),y:d(s),w:u(n+i),h:d(s+o)},options:l,type:"link"})},t.textWithLink=function(n,s,i,o){var l,c,u=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var A=this.splitTextToSize(n,c).length;l=Math.ceil(d*A)}else c=u,l=d;return this.text(n,s,i,o),i+=.2*d,o.align==="center"&&(s-=u/2),o.align==="right"&&(s-=u),this.link(s,i-d,c,l,o),u},t.getTextWidth=function(n){var s=this.internal.getFontSize();return this.getStringUnitWidth(n)*s/this.internal.scaleFactor}}(Nr.API),function(t){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(g){return r[g.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},c=t.__arabicParser__.isArabicEndLetter=function(g){return l(g)&&o(g)&&r[g.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(g){return l(g)&&i.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return l(g)&&o(g)&&r[g.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return l(g)&&o(g)&&r[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return l(g)&&o(g)&&r[g.charCodeAt(0)].length>=3};var A=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return l(g)&&o(g)&&r[g.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(g){var b=0,y=n,x="",v=0;for(b=0;b<g.length;b+=1)y[g.charCodeAt(b)]!==void 0?(v++,typeof(y=y[g.charCodeAt(b)])=="number"&&(x+=String.fromCharCode(y),y=n,v=0),b===g.length-1&&(y=n,x+=g.charAt(b-(v-1)),b-=v-1,v=0)):(y=n,x+=g.charAt(b-v),b-=v,v=0);return x};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&s[g.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(g,b,y){return l(g)?o(g)===!1?-1:!d(g)||!l(b)&&!l(y)||!l(y)&&c(b)||c(g)&&!l(b)||c(g)&&u(b)||c(g)&&c(b)?0:A(g)&&l(b)&&!c(b)&&l(y)&&d(y)?3:c(g)||!l(y)?1:2:-1},p=function(g){var b=0,y=0,x=0,v="",w="",_="",B=(g=g||"").split("\\s+"),N=[];for(b=0;b<B.length;b+=1){for(N.push(""),y=0;y<B[b].length;y+=1)v=B[b][y],w=B[b][y-1],_=B[b][y+1],l(v)?(x=h(v,w,_),N[b]+=x!==-1?String.fromCharCode(r[v.charCodeAt(0)][x]):v):N[b]+=v;N[b]=f(N[b])}return N.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(b)){var x=0;for(y=[],x=0;x<b.length;x+=1)Array.isArray(b[x])?y.push([p(b[x][0]),b[x][1],b[x][2]]):y.push([p(b[x])]);g=y}else g=p(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",m])}(Nr.API),Nr.API.autoPrint=function(t){var r;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(t){var r=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(n,s){var i;if((n=n||"2d")!=="2d")return null;for(i in s)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=s[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(Nr.API),function(t){var r={left:0,top:0,bottom:0,right:0},n=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return s.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,d){s.call(this);var A=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),h=d.scaleFactor||this.internal.scaleFactor,p=0,m=0,g=0,b=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var y=d.maxWidth;y>0?typeof u=="string"?u=this.splitTextToSize(u,y):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(v,w){return v.concat(b.splitTextToSize(w,y))},[])):u=Array.isArray(u)?u:[u];for(var x=0;x<u.length;x++)p<(g=this.getStringUnitWidth(u[x],{font:f})*A)&&(p=g);return p!==0&&(m=u.length),{w:p/=h,h:Math.max((m*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var u=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var d=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,f=this.internal.__cell__.margins||r,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=f.top,p&&h&&(this.printHeaderRow(u.lineNumber,!0),u.y+=h[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-A,u.y+A,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+A,{align:"center",baseline:"top",maxWidth:u.width-A-A}):this.text(u.text,u.x+A,u.y+A,{align:"left",baseline:"top",maxWidth:u.width-A-A})),this.internal.__cell__.lastCell=u,this};t.table=function(u,d,A,f,h){if(s.call(this),!A)throw new Error("No data for PDF table.");var p,m,g,b,y=[],x=[],v=[],w={},_={},B=[],N=[],j=(h=h||{}).autoSize||!1,C=h.printHeaders!==!1,E=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,S=h.margins||Object.assign({width:this.getPageWidth()},r),k=typeof h.padding=="number"?h.padding:3,P=h.headerBackgroundColor||"#c8c8c8",M=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=E,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=M,this.setFontSize(E),f==null)x=y=Object.keys(A[0]),v=y.map(function(){return"left"});else if(Array.isArray(f)&&_n(f[0])==="object")for(y=f.map(function(V){return V.name}),x=f.map(function(V){return V.prompt||V.name||""}),v=f.map(function(V){return V.align||"left"}),p=0;p<f.length;p+=1)_[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=y=f,v=y.map(function(){return"left"}));if(j||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(w[b=y[p]]=A.map(function(V){return V[b]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(x[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=w[b],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)B.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[b]=Math.max.apply(null,B)+k+k,B=[]}if(C){var H={};for(p=0;p<y.length;p+=1)H[y[p]]={},H[y[p]].text=x[p],H[y[p]].align=v[p];var F=c.call(this,H,_);N=y.map(function(V){return new o(u,d,_[V],F,H[V].text,void 0,H[V].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var Q=f.reduce(function(V,I){return V[I.name]=I.align,V},{});for(p=0;p<A.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:A[p]},this);var K=c.call(this,A[p],_);for(g=0;g<y.length;g+=1){var Y=A[p][y[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:g,data:Y},this),l.call(this,new o(u,d,_[y[g]],K,Y,p+2,Q[y[g]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var c=function(u,d){var A=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(u).map(function(p){var m=u[p];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,d[p]-A-A)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+A+A},this).reduce(function(p,m){return Math.max(p,m)},0)};t.setTableHeaderRow=function(u){s.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){A=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(A.y=this.internal.__cell__.margins.top||0,h.push(A)),A.lineNumber=u;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,A),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(Nr.API);var oL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},lL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],f4=aL(lL),cL=[100,200,300,400,500,600,700,800,900],yte=aL(cL);function h4(t){var r=t.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return oL[o=o||"normal"]?o:"normal"}(t.style),s=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(o){return typeof f4[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:r,style:n,weight:s,stretch:i,src:t.src||[],ref:t.ref||{name:r,style:[i,n,s].join(" ")}}}function V_(t,r,n,s){var i;for(i=n;i>=0&&i<r.length;i+=s)if(t[r[i]])return t[r[i]];for(i=n;i>=0&&i<r.length;i-=s)if(t[r[i]])return t[r[i]]}var xte={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},z_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function K_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function vte(t,r,n){for(var s=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},xte,n.genericFontFamilies||{}),o=null,l=null,c=0;c<r.length;++c)if(i[(o=h4(r[c])).family]&&(o.family=i[o.family]),t.hasOwnProperty(o.family)){l=t[o.family];break}if(!(l=l||t[s]))throw new Error("Could not find a font-family for the rule '"+K_(o)+"' and default family '"+s+"'.");if(l=function(u,d){if(d[u])return d[u];var A=f4[u],f=A<=f4.normal?-1:1,h=V_(d,lL,A,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+u);return h}(o.stretch,l),l=function(u,d){if(d[u])return d[u];for(var A=oL[u],f=0;f<A.length;++f)if(d[A[f]])return d[A[f]];throw new Error("Could not find a matching font-style for "+u)}(o.style,l),!(l=function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var A=yte[u],f=V_(d,cL,A,u<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+u);return f}(o.weight,l)))throw new Error("Failed to resolve a font for the rule '"+K_(o)+"'.");return l}function G_(t){return t.trimLeft()}function bte(t,r){for(var n=0;n<t.length;){if(t.charAt(n)===r)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function wte(t){var r=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],t.substring(r[0].length)]}var Wg,W_,q_,Ew=["times"];(function(t){var r,n,s,i,o,l,c,u,d,A=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new u,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new l,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new l,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),r=this.internal.f2,n=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,d=new A}]);var f=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=O;Object.defineProperty(this,"pdf",{get:function(){return R}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(ie){U=!!ie}});var T=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return T},set:function(ie){T=!!ie}});var z=0;Object.defineProperty(this,"posX",{get:function(){return z},set:function(ie){isNaN(ie)||(z=ie)}});var G=0;Object.defineProperty(this,"posY",{get:function(){return G},set:function(ie){isNaN(ie)||(G=ie)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ie){var re;typeof ie=="number"?re=[ie,ie,ie,ie]:((re=new Array(4))[0]=ie[0],re[1]=ie.length>=2?ie[1]:re[0],re[2]=ie.length>=3?ie[2]:re[0],re[3]=ie.length>=4?ie[3]:re[1]),d.margin=re}});var J=!1;Object.defineProperty(this,"autoPaging",{get:function(){return J},set:function(ie){J=ie}});var ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return ee},set:function(ie){ee=ie}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(ie){fe=ie}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ie){ie instanceof A&&(d=ie)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ie){d.path=ie}});var de=[];Object.defineProperty(this,"ctxStack",{get:function(){return de},set:function(ie){de=ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ie){var re;re=h(ie),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ie){var re=h(ie);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ie){["butt","round","square"].indexOf(ie)!==-1&&(this.ctx.lineCap=ie,this.pdf.setLineCap(ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ie){isNaN(ie)||(this.ctx.lineWidth=ie,this.pdf.setLineWidth(ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ie){["bevel","round","miter"].indexOf(ie)!==-1&&(this.ctx.lineJoin=ie,this.pdf.setLineJoin(ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ie){isNaN(ie)||(this.ctx.miterLimit=ie,this.pdf.setMiterLimit(ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ie){this.ctx.textBaseline=ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ie){["right","end","center","left","start"].indexOf(ie)!==-1&&(this.ctx.textAlign=ie)}});var ae=null;function xe(ie,re){if(ae===null){var ve=function(ke){var Ce=[];return Object.keys(ke).forEach(function(we){ke[we].forEach(function(oe){var pe=null;switch(oe){case"bold":pe={family:we,weight:"bold"};break;case"italic":pe={family:we,style:"italic"};break;case"bolditalic":pe={family:we,weight:"bold",style:"italic"};break;case"":case"normal":pe={family:we}}pe!==null&&(pe.ref={name:we,style:oe},Ce.push(pe))})}),Ce}(ie.getFontList());ae=function(ke){for(var Ce={},we=0;we<ke.length;++we){var oe=h4(ke[we]),pe=oe.family,je=oe.stretch,Te=oe.style,be=oe.weight;Ce[pe]=Ce[pe]||{},Ce[pe][je]=Ce[pe][je]||{},Ce[pe][je][Te]=Ce[pe][je][Te]||{},Ce[pe][je][Te][be]=oe}return Ce}(ve.concat(re))}return ae}var X=null;Object.defineProperty(this,"fontFaces",{get:function(){return X},set:function(ie){ae=null,X=ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ie){var re;if(this.ctx.font=ie,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ie))!==null){var ve=re[1];re[2];var ke=re[3],Ce=re[4];re[5];var we=re[6],oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor(oe==="px"?parseFloat(Ce)*this.pdf.internal.scaleFactor:oe==="em"?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var pe=function(Re){var We,Me,ot=[],xt=Re.trim();if(xt==="")return Ew;if(xt in z_)return[z_[xt]];for(;xt!=="";){switch(Me=null,We=(xt=G_(xt)).charAt(0)){case'"':case"'":Me=bte(xt.substring(1),We);break;default:Me=wte(xt)}if(Me===null||(ot.push(Me[0]),(xt=G_(Me[1]))!==""&&xt.charAt(0)!==","))return Ew;xt=xt.replace(/^,/,"")}return ot}(we);if(this.fontFaces){var je=vte(xe(this.pdf,this.fontFaces),pe.map(function(Re){return{family:Re,stretch:"normal",weight:ke,style:ve}}));this.pdf.setFont(je.ref.name,je.ref.style)}else{var Te="";(ke==="bold"||parseInt(ke,10)>=700||ve==="bold")&&(Te="bold"),ve==="italic"&&(Te+="italic"),Te.length===0&&(Te="normal");for(var be="",De={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},qe=0;qe<pe.length;qe++){if(this.pdf.internal.getFont(pe[qe],Te,{noFallback:!0,disableWarning:!0})!==void 0){be=pe[qe];break}if(Te==="bolditalic"&&this.pdf.internal.getFont(pe[qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)be=pe[qe],Te="bold";else if(this.pdf.internal.getFont(pe[qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){be=pe[qe],Te="normal";break}}if(be===""){for(var Qe=0;Qe<pe.length;Qe++)if(De[pe[Qe]]){be=De[pe[Qe]];break}}be=be===""?"Times":be,this.pdf.setFont(be,Te)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ie){this.ctx.globalCompositeOperation=ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ie){this.ctx.globalAlpha=ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ie){this.ctx.lineDashOffset=ie,I.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ie){this.ctx.lineDash=ie,I.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ie){this.ctx.ignoreClearRect=!!ie}})};f.prototype.setLineDash=function(O){this.lineDash=O},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){w.call(this,"fill",!1)},f.prototype.stroke=function(){w.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(O,R){if(isNaN(O)||isNaN(R))throw Vn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new l(O,R));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new l(O,R)},f.prototype.closePath=function(){var O=new l(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&_n(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){O=new l(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(O.x,O.y)},f.prototype.lineTo=function(O,R){if(isNaN(O)||isNaN(R))throw Vn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new l(O,R));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new l(U.x,U.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},f.prototype.quadraticCurveTo=function(O,R,U,T){if(isNaN(U)||isNaN(T)||isNaN(O)||isNaN(R))throw Vn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var z=this.ctx.transform.applyToPoint(new l(U,T)),G=this.ctx.transform.applyToPoint(new l(O,R));this.path.push({type:"qct",x1:G.x,y1:G.y,x:z.x,y:z.y}),this.ctx.lastPoint=new l(z.x,z.y)},f.prototype.bezierCurveTo=function(O,R,U,T,z,G){if(isNaN(z)||isNaN(G)||isNaN(O)||isNaN(R)||isNaN(U)||isNaN(T))throw Vn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var J=this.ctx.transform.applyToPoint(new l(z,G)),ee=this.ctx.transform.applyToPoint(new l(O,R)),fe=this.ctx.transform.applyToPoint(new l(U,T));this.path.push({type:"bct",x1:ee.x,y1:ee.y,x2:fe.x,y2:fe.y,x:J.x,y:J.y}),this.ctx.lastPoint=new l(J.x,J.y)},f.prototype.arc=function(O,R,U,T,z,G){if(isNaN(O)||isNaN(R)||isNaN(U)||isNaN(T)||isNaN(z))throw Vn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(G=!!G,!this.ctx.transform.isIdentity){var J=this.ctx.transform.applyToPoint(new l(O,R));O=J.x,R=J.y;var ee=this.ctx.transform.applyToPoint(new l(0,U)),fe=this.ctx.transform.applyToPoint(new l(0,0));U=Math.sqrt(Math.pow(ee.x-fe.x,2)+Math.pow(ee.y-fe.y,2))}Math.abs(z-T)>=2*Math.PI&&(T=0,z=2*Math.PI),this.path.push({type:"arc",x:O,y:R,radius:U,startAngle:T,endAngle:z,counterclockwise:G})},f.prototype.arcTo=function(O,R,U,T,z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(O,R,U,T){if(isNaN(O)||isNaN(R)||isNaN(U)||isNaN(T))throw Vn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,R),this.lineTo(O+U,R),this.lineTo(O+U,R+T),this.lineTo(O,R+T),this.lineTo(O,R),this.lineTo(O+U,R),this.lineTo(O,R)},f.prototype.fillRect=function(O,R,U,T){if(isNaN(O)||isNaN(R)||isNaN(U)||isNaN(T))throw Vn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var z={};this.lineCap!=="butt"&&(z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,R,U,T),this.fill(),z.hasOwnProperty("lineCap")&&(this.lineCap=z.lineCap),z.hasOwnProperty("lineJoin")&&(this.lineJoin=z.lineJoin)}},f.prototype.strokeRect=function(O,R,U,T){if(isNaN(O)||isNaN(R)||isNaN(U)||isNaN(T))throw Vn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(O,R,U,T),this.stroke())},f.prototype.clearRect=function(O,R,U,T){if(isNaN(O)||isNaN(R)||isNaN(U)||isNaN(T))throw Vn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,R,U,T))},f.prototype.save=function(O){O=typeof O!="boolean"||O;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var T=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=T}},f.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(R),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(O){var R,U,T,z;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))R=0,U=0,T=0,z=0;else{var G=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(G!==null)R=parseInt(G[1]),U=parseInt(G[2]),T=parseInt(G[3]),z=1;else if((G=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)R=parseInt(G[1]),U=parseInt(G[2]),T=parseInt(G[3]),z=parseFloat(G[4]);else{if(z=1,typeof O=="string"&&O.charAt(0)!=="#"){var J=new eL(O);O=J.ok?J.toHex():"#000000"}O.length===4?(R=O.substring(1,2),R+=R,U=O.substring(2,3),U+=U,T=O.substring(3,4),T+=T):(R=O.substring(1,3),U=O.substring(3,5),T=O.substring(5,7)),R=parseInt(R,16),U=parseInt(U,16),T=parseInt(T,16)}}return{r:R,g:U,b:T,a:z,style:O}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(O,R,U,T){if(isNaN(R)||isNaN(U)||typeof O!="string")throw Vn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(T=isNaN(T)?void 0:T,!p.call(this)){var z=K(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;k.call(this,{text:O,x:R,y:U,scale:G,angle:z,align:this.textAlign,maxWidth:T})}},f.prototype.strokeText=function(O,R,U,T){if(isNaN(R)||isNaN(U)||typeof O!="string")throw Vn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){T=isNaN(T)?void 0:T;var z=K(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;k.call(this,{text:O,x:R,y:U,scale:G,renderingMode:"stroke",angle:z,align:this.textAlign,maxWidth:T})}},f.prototype.measureText=function(O){if(typeof O!="string")throw Vn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,U=this.pdf.internal.scaleFactor,T=R.internal.getFontSize(),z=R.getStringUnitWidth(O)*T/R.internal.scaleFactor,G=function(J){var ee=(J=J||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ee}}),this};return new G({width:z*=Math.round(96*U/72*1e4)/1e4})},f.prototype.scale=function(O,R){if(isNaN(O)||isNaN(R))throw Vn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new u(O,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.rotate=function(O){if(isNaN(O))throw Vn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new u(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(O,R){if(isNaN(O)||isNaN(R))throw Vn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new u(1,0,0,1,O,R);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.transform=function(O,R,U,T,z,G){if(isNaN(O)||isNaN(R)||isNaN(U)||isNaN(T)||isNaN(z)||isNaN(G))throw Vn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var J=new u(O,R,U,T,z,G);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.setTransform=function(O,R,U,T,z,G){O=isNaN(O)?1:O,R=isNaN(R)?0:R,U=isNaN(U)?0:U,T=isNaN(T)?1:T,z=isNaN(z)?0:z,G=isNaN(G)?0:G,this.ctx.transform=new u(O,R,U,T,z,G)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(O,R,U,T,z,G,J,ee,fe){var de=this.pdf.getImageProperties(O),ae=1,xe=1,X=1,ie=1;T!==void 0&&ee!==void 0&&(X=ee/T,ie=fe/z,ae=de.width/T*ee/T,xe=de.height/z*fe/z),G===void 0&&(G=R,J=U,R=0,U=0),T!==void 0&&ee===void 0&&(ee=T,fe=z),T===void 0&&ee===void 0&&(ee=de.width,fe=de.height);for(var re,ve=this.ctx.transform.decompose(),ke=K(ve.rotate.shx),Ce=new u,we=(Ce=(Ce=(Ce=Ce.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale)).applyToRectangle(new c(G-R*X,J-U*ie,T*ae,z*xe)),oe=b.call(this,we),pe=[],je=0;je<oe.length;je+=1)pe.indexOf(oe[je])===-1&&pe.push(oe[je]);if(v(pe),this.autoPaging)for(var Te=pe[0],be=pe[pe.length-1],De=Te;De<be+1;De++){this.pdf.setPage(De);var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qe=De===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=De===1?0:Re+(De-2)*We;if(this.ctx.clip_path.length!==0){var ot=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(re,this.posX+this.margin[3],-Me+Qe+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=ot}var xt=JSON.parse(JSON.stringify(we));xt=x([xt],this.posX+this.margin[3],-Me+Qe+this.ctx.prevPageLastElemOffset)[0];var Ft=(De>Te||De<be)&&g.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,We,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,ke),Ft&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",we.x,we.y,we.w,we.h,null,null,ke)};var b=function(O,R,U){var T=[];R=R||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var z=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":T.push(Math.floor((O.y+z)/U)+1);break;case"arc":T.push(Math.floor((O.y+z-O.radius)/U)+1),T.push(Math.floor((O.y+z+O.radius)/U)+1);break;case"qct":var G=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);T.push(Math.floor((G.y+z)/U)+1),T.push(Math.floor((G.y+G.h+z)/U)+1);break;case"bct":var J=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);T.push(Math.floor((J.y+z)/U)+1),T.push(Math.floor((J.y+J.h+z)/U)+1);break;case"rect":T.push(Math.floor((O.y+z)/U)+1),T.push(Math.floor((O.y+O.h+z)/U)+1)}for(var ee=0;ee<T.length;ee+=1)for(;this.pdf.internal.getNumberOfPages()<T[ee];)y.call(this);return T},y=function(){var O=this.fillStyle,R=this.strokeStyle,U=this.font,T=this.lineCap,z=this.lineWidth,G=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=R,this.font=U,this.lineCap=T,this.lineWidth=z,this.lineJoin=G},x=function(O,R,U){for(var T=0;T<O.length;T++)switch(O[T].type){case"bct":O[T].x2+=R,O[T].y2+=U;case"qct":O[T].x1+=R,O[T].y1+=U;case"mt":case"lt":case"arc":default:O[T].x+=R,O[T].y+=U}return O},v=function(O){return O.sort(function(R,U){return R-U})},w=function(O,R){for(var U,T,z=this.fillStyle,G=this.strokeStyle,J=this.lineCap,ee=this.lineWidth,fe=Math.abs(ee*this.ctx.transform.scaleX),de=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),xe=JSON.parse(JSON.stringify(this.path)),X=[],ie=0;ie<xe.length;ie++)if(xe[ie].x!==void 0)for(var re=b.call(this,xe[ie]),ve=0;ve<re.length;ve+=1)X.indexOf(re[ve])===-1&&X.push(re[ve]);for(var ke=0;ke<X.length;ke++)for(;this.pdf.internal.getNumberOfPages()<X[ke];)y.call(this);if(v(X),this.autoPaging)for(var Ce=X[0],we=X[X.length-1],oe=Ce;oe<we+1;oe++){this.pdf.setPage(oe),this.fillStyle=z,this.strokeStyle=G,this.lineCap=J,this.lineWidth=fe,this.lineJoin=de;var pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=oe===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=oe===1?0:Te+(oe-2)*be;if(this.ctx.clip_path.length!==0){var qe=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(U,this.posX+this.margin[3],-De+je+this.ctx.prevPageLastElemOffset),_.call(this,O,!0),this.path=qe}if(T=JSON.parse(JSON.stringify(ae)),this.path=x(T,this.posX+this.margin[3],-De+je+this.ctx.prevPageLastElemOffset),R===!1||oe===0){var Qe=(oe>Ce||oe<we)&&g.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pe,be,null).clip().discardPath()),_.call(this,O,R),Qe&&this.pdf.restoreGraphicsState()}this.lineWidth=ee}else this.lineWidth=fe,_.call(this,O,R),this.lineWidth=ee;this.path=ae},_=function(O,R){if((O!=="stroke"||R||!m.call(this))&&(O==="stroke"||R||!p.call(this))){for(var U,T,z=[],G=this.path,J=0;J<G.length;J++){var ee=G[J];switch(ee.type){case"begin":z.push({begin:!0});break;case"close":z.push({close:!0});break;case"mt":z.push({start:ee,deltas:[],abs:[]});break;case"lt":var fe=z.length;if(G[J-1]&&!isNaN(G[J-1].x)&&(U=[ee.x-G[J-1].x,ee.y-G[J-1].y],fe>0)){for(;fe>=0;fe--)if(z[fe-1].close!==!0&&z[fe-1].begin!==!0){z[fe-1].deltas.push(U),z[fe-1].abs.push(ee);break}}break;case"bct":U=[ee.x1-G[J-1].x,ee.y1-G[J-1].y,ee.x2-G[J-1].x,ee.y2-G[J-1].y,ee.x-G[J-1].x,ee.y-G[J-1].y],z[z.length-1].deltas.push(U);break;case"qct":var de=G[J-1].x+2/3*(ee.x1-G[J-1].x),ae=G[J-1].y+2/3*(ee.y1-G[J-1].y),xe=ee.x+2/3*(ee.x1-ee.x),X=ee.y+2/3*(ee.y1-ee.y),ie=ee.x,re=ee.y;U=[de-G[J-1].x,ae-G[J-1].y,xe-G[J-1].x,X-G[J-1].y,ie-G[J-1].x,re-G[J-1].y],z[z.length-1].deltas.push(U);break;case"arc":z.push({deltas:[],abs:[],arc:!0}),Array.isArray(z[z.length-1].abs)&&z[z.length-1].abs.push(ee)}}T=R?null:O==="stroke"?"stroke":"fill";for(var ve=!1,ke=0;ke<z.length;ke++)if(z[ke].arc)for(var Ce=z[ke].abs,we=0;we<Ce.length;we++){var oe=Ce[we];oe.type==="arc"?j.call(this,oe.x,oe.y,oe.radius,oe.startAngle,oe.endAngle,oe.counterclockwise,void 0,R,!ve):P.call(this,oe.x,oe.y),ve=!0}else if(z[ke].close===!0)this.pdf.internal.out("h"),ve=!1;else if(z[ke].begin!==!0){var pe=z[ke].start.x,je=z[ke].start.y;M.call(this,z[ke].deltas,pe,je),ve=!0}T&&C.call(this,T),R&&E.call(this)}},B=function(O){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-U;case"top":return O+R-U;case"hanging":return O+R-2*U;case"middle":return O+R/2-U;case"ideographic":return O;case"alphabetic":default:return O}},N=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(R,U){this.colorStops.push([R,U])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(O,R,U,T,z,G,J,ee,fe){for(var de=F.call(this,U,T,z,G),ae=0;ae<de.length;ae++){var xe=de[ae];ae===0&&(fe?S.call(this,xe.x1+O,xe.y1+R):P.call(this,xe.x1+O,xe.y1+R)),H.call(this,O,R,xe.x2,xe.y2,xe.x3,xe.y3,xe.x4,xe.y4)}ee?E.call(this):C.call(this,J)},C=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},E=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(O,R){this.pdf.internal.out(n(O)+" "+s(R)+" m")},k=function(O){var R;switch(O.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var U=this.pdf.getTextDimensions(O.text),T=B.call(this,O.y),z=N.call(this,T)-U.h,G=this.ctx.transform.applyToPoint(new l(O.x,T)),J=this.ctx.transform.decompose(),ee=new u;ee=(ee=(ee=ee.multiply(J.translate)).multiply(J.skew)).multiply(J.scale);for(var fe,de,ae,xe=this.ctx.transform.applyToRectangle(new c(O.x,T,U.w,U.h)),X=ee.applyToRectangle(new c(O.x,z,U.w,U.h)),ie=b.call(this,X),re=[],ve=0;ve<ie.length;ve+=1)re.indexOf(ie[ve])===-1&&re.push(ie[ve]);if(v(re),this.autoPaging)for(var ke=re[0],Ce=re[re.length-1],we=ke;we<Ce+1;we++){this.pdf.setPage(we);var oe=we===1?this.posY+this.margin[0]:this.margin[0],pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[2],Te=je-this.margin[0],be=this.pdf.internal.pageSize.width-this.margin[1],De=be-this.margin[3],qe=we===1?0:pe+(we-2)*Te;if(this.ctx.clip_path.length!==0){var Qe=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(fe,this.posX+this.margin[3],-1*qe+oe),_.call(this,"fill",!0),this.path=Qe}var Re=x([JSON.parse(JSON.stringify(X))],this.posX+this.margin[3],-qe+oe+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*O.scale),ae=this.lineWidth,this.lineWidth=ae*O.scale);var We=this.autoPaging!=="text";if(We||Re.y+Re.h<=je){if(We||Re.y>=oe&&Re.x<=be){var Me=We?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||be-Re.x)[0],ot=x([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-qe+oe+this.ctx.prevPageLastElemOffset)[0],xt=We&&(we>ke||we<Ce)&&g.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,Te,null).clip().discardPath()),this.pdf.text(Me,ot.x,ot.y,{angle:O.angle,align:R,renderingMode:O.renderingMode}),xt&&this.pdf.restoreGraphicsState()}}else Re.y<je&&(this.ctx.prevPageLastElemOffset+=je-Re.y);O.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=ae)}else O.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*O.scale),ae=this.lineWidth,this.lineWidth=ae*O.scale),this.pdf.text(O.text,G.x+this.posX,G.y+this.posY,{angle:O.angle,align:R,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=ae)},P=function(O,R,U,T){U=U||0,T=T||0,this.pdf.internal.out(n(O+U)+" "+s(R+T)+" l")},M=function(O,R,U){return this.pdf.lines(O,R,U,null,null)},H=function(O,R,U,T,z,G,J,ee){this.pdf.internal.out([r(i(U+O)),r(o(T+R)),r(i(z+O)),r(o(G+R)),r(i(J+O)),r(o(ee+R)),"c"].join(" "))},F=function(O,R,U,T){for(var z=2*Math.PI,G=Math.PI/2;R>U;)R-=z;var J=Math.abs(U-R);J<z&&T&&(J=z-J);for(var ee=[],fe=T?-1:1,de=R;J>1e-5;){var ae=de+fe*Math.min(J,G);ee.push(Q.call(this,O,de,ae)),J-=Math.abs(ae-de),de=ae}return ee},Q=function(O,R,U){var T=(U-R)/2,z=O*Math.cos(T),G=O*Math.sin(T),J=z,ee=-G,fe=J*J+ee*ee,de=fe+J*z+ee*G,ae=4/3*(Math.sqrt(2*fe*de)-de)/(J*G-ee*z),xe=J-ae*ee,X=ee+ae*J,ie=xe,re=-X,ve=T+R,ke=Math.cos(ve),Ce=Math.sin(ve);return{x1:O*Math.cos(R),y1:O*Math.sin(R),x2:xe*ke-X*Ce,y2:xe*Ce+X*ke,x3:ie*ke-re*Ce,y3:ie*Ce+re*ke,x4:O*Math.cos(U),y4:O*Math.sin(U)}},K=function(O){return 180*O/Math.PI},Y=function(O,R,U,T,z,G){var J=O+.5*(U-O),ee=R+.5*(T-R),fe=z+.5*(U-z),de=G+.5*(T-G),ae=Math.min(O,z,J,fe),xe=Math.max(O,z,J,fe),X=Math.min(R,G,ee,de),ie=Math.max(R,G,ee,de);return new c(ae,X,xe-ae,ie-X)},V=function(O,R,U,T,z,G,J,ee){var fe,de,ae,xe,X,ie,re,ve,ke,Ce,we,oe,pe,je,Te=U-O,be=T-R,De=z-U,qe=G-T,Qe=J-z,Re=ee-G;for(de=0;de<41;de++)ke=(re=(ae=O+(fe=de/40)*Te)+fe*((X=U+fe*De)-ae))+fe*(X+fe*(z+fe*Qe-X)-re),Ce=(ve=(xe=R+fe*be)+fe*((ie=T+fe*qe)-xe))+fe*(ie+fe*(G+fe*Re-ie)-ve),de==0?(we=ke,oe=Ce,pe=ke,je=Ce):(we=Math.min(we,ke),oe=Math.min(oe,Ce),pe=Math.max(pe,ke),je=Math.max(je,Ce));return new c(Math.round(we),Math.round(oe),Math.round(pe-we),Math.round(je-oe))},I=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,R,U=(O=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:R}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(Nr.API),function(t){var r=function(o){var l,c,u,d,A,f,h,p,m,g;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(A=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(f=(A=((A=((A=((A=(A-(g=A%85))/85)-(m=A%85))/85)-(p=A%85))/85)-(h=A%85))/85)%85,c.push(f+33,h+33,p+33,m+33,g+33)):c.push(122);return function(b,y){for(var x=y;x>0;x--)b.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(o){var l,c,u,d,A,f=String,h="length",p=255,m="charCodeAt",g="slice",b="replace";for(o[g](-2),o=o[g](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],d=0,A=(o+=l="uuuuu"[g](o[h]%5||5))[h];A>d;d+=5)c=52200625*(o[m](d)-33)+614125*(o[m](d+1)-33)+7225*(o[m](d+2)-33)+85*(o[m](d+3)-33)+(o[m](d+4)-33),u.push(p&c>>24,p&c>>16,p&c>>8,p&c);return function(y,x){for(var v=x;v>0;v--)y.pop()}(u,l[h]),f.fromCharCode.apply(f,u)},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return o=(l=l4(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=r(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(A){return("0"+A.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Nr.API),function(t){t.loadFile=function(r,n,s){return function(i,o,l){o=o!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(u,d,A){var f=new XMLHttpRequest,h=0,p=function(m){var g=m.length,b=[],y=String.fromCharCode;for(h=0;h<g;h+=1)b.push(y(255&m.charCodeAt(h)));return b.join("")};if(f.open("GET",u,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?A(p(this.responseText)):A(void 0)}),f.send(null),d&&f.status===200)return p(f.responseText)}(i,o,l)}catch{}return c}(r,n,s)},t.loadImageFile=t.loadFile}(Nr.API),function(t){function r(){return(Sr.html2canvas?Promise.resolve(Sr.html2canvas):G0(()=>Promise.resolve().then(()=>uoe),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(Sr.DOMPurify?Promise.resolve(Sr.DOMPurify):G0(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var s=function(l){var c=_n(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(s(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function u(d,A){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),h=d.firstChild;h;h=h.nextSibling)A!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(u(h,A));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var p=d[h],m=p.src.find(function(g){return g.format==="truetype"});m&&u.addFont(m.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,u.context2d.save(!0),c(this.prop.container,f)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(s(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(s(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||Nr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,A){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(f){return u.updateProgress(null,d),f}).then(d,A).then(function(f){return u.updateProgress(1),f})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),A=u.call(d,l,c);return o.convert(A,this.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Nr.getPageSize=function(l,c,u){if(_n(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var A,f=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+c}var p,m=0,g=0;if(h.hasOwnProperty(f))m=h[f][1]/A,g=h[f][0]/A;else try{m=u[1],g=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",g>m&&(p=g,g=m,m=p);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",m>g&&(p=g,g=m,m=p)}return{width:g,height:m,unit:c,k:A,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(h4):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(Nr.API),Nr.API.addJS=function(t){return q_=t,this.internal.events.subscribe("postPutResources",function(){Wg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Wg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),W_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+q_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Wg!==void 0&&W_!==void 0&&this.internal.out("/Names <</JavaScript "+Wg+" 0 R>>")}),this},function(t){var r;t.events.push(["postPutResources",function(){var n=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var l=i[o],c=s.exec(l);if(c!=null){var u=c[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,A=[];for(o=0;o<d;o++){var f=n.internal.newObject();A.push(f);var h=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<A.length;o++)n.internal.write("(page_"+(o+1)+")"+A[o]+" 0 R");n.internal.write(" ] >>","endobj"),r=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(s,i,o){var l={title:i,options:o,children:[]};return s==null&&(s=this.root),s.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(s){s.id=n.internal.newObjectDeferred();for(var i=0;i<s.children.length;i++)this.genIds_r(s.children[i])},n.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},n.outline.renderItems=function(s){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var l=s.children[o];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var u=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},n.outline.line=function(s){this.ctx.val+=s+`\r
`},n.outline.makeRef=function(s){return s.id+" 0 R"},n.outline.makeString=function(s){return"("+n.internal.pdfEscape(s)+")"},n.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(s,i){for(var o=0;o<i.children.length;o++)s.count++,this.count_r(s,i.children[o]);return s.count}}])}(Nr.API),function(t){var r=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,s,i,o,l,c){var u,d=this.decode.DCT_DECODE,A=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,g={width:0,height:0,numcomponents:1},b=4;b<m;b+=2){if(b+=p,r.indexOf(f.charCodeAt(b+1))!==-1){h=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),g={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:h,numcomponents:f.charCodeAt(b+9)};break}p=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}A={data:n,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:d,index:s,alias:i}}return A}}(Nr.API);var ZA,qg,Y_,X_,J_,jte=function(){var t,r,n;function s(o){var l,c,u,d,A,f,h,p,m,g,b,y,x,v;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(l=this.readUInt32(),m=(function(){var w,_;for(_=[],w=0;w<4;++w)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},A=this.readUInt16(),d=this.readUInt16()||100,f.delay=1e3*A/d,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,l-=4),o=(f!=null?f.data:void 0)||this.imgData,y=0;0<=l?y<l:y>l;0<=l?++y:--y)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((g=u-this.transparency.indexed.length)>0)for(x=0;0<=g?x<g:x>g;0<=g?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":h=(b=this.read(l)).indexOf(0),p=String.fromCharCode.apply(String,b.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,b.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(v=this.colorType)===4||v===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(o){var l,c;for(c=[],l=0;0<=o?l<o:l>o;0<=o?++l:--l)c.push(this.data[this.pos++]);return c},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(o){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),u=0,d=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function A(f,h,p,m){var g,b,y,x,v,w,_,B,N,j,C,E,S,k,P,M,H,F,Q,K,Y,V=Math.ceil((d.width-f)/p),I=Math.ceil((d.height-h)/m),O=d.width==V&&d.height==I;for(k=l*V,E=O?c:new Uint8Array(k*I),w=o.length,S=0,b=0;S<I&&u<w;){switch(o[u++]){case 0:for(x=H=0;H<k;x=H+=1)E[b++]=o[u++];break;case 1:for(x=F=0;F<k;x=F+=1)g=o[u++],v=x<l?0:E[b-l],E[b++]=(g+v)%256;break;case 2:for(x=Q=0;Q<k;x=Q+=1)g=o[u++],y=(x-x%l)/l,P=S&&E[(S-1)*k+y*l+x%l],E[b++]=(P+g)%256;break;case 3:for(x=K=0;K<k;x=K+=1)g=o[u++],y=(x-x%l)/l,v=x<l?0:E[b-l],P=S&&E[(S-1)*k+y*l+x%l],E[b++]=(g+Math.floor((v+P)/2))%256;break;case 4:for(x=Y=0;Y<k;x=Y+=1)g=o[u++],y=(x-x%l)/l,v=x<l?0:E[b-l],S===0?P=M=0:(P=E[(S-1)*k+y*l+x%l],M=y&&E[(S-1)*k+(y-1)*l+x%l]),_=v+P-M,B=Math.abs(_-v),j=Math.abs(_-P),C=Math.abs(_-M),N=B<=j&&B<=C?v:j<=C?P:M,E[b++]=(g+N)%256;break;default:throw new Error("Invalid filter algorithm: "+o[u-1])}if(!O){var R=((h+S*m)*d.width+f)*l,U=S*k;for(x=0;x<V;x+=1){for(var T=0;T<l;T+=1)c[R++]=E[U++];R+=(p-1)*l}}S++}}return o=tte(o),d.interlaceMethod==1?(A(0,0,8,8),A(4,0,8,8),A(0,4,4,8),A(2,0,4,4),A(0,2,2,4),A(1,0,2,2),A(0,1,1,2)):A(0,0,1,1),c},s.prototype.decodePalette=function(){var o,l,c,u,d,A,f,h,p;for(c=this.palette,A=this.transparency.indexed||[],d=new Uint8Array((A.length||0)+c.length),u=0,o=0,l=f=0,h=c.length;f<h;l=f+=3)d[u++]=c[l],d[u++]=c[l+1],d[u++]=c[l+2],d[u++]=(p=A[o++])!=null?p:255;return d},s.prototype.copyToImageData=function(o,l){var c,u,d,A,f,h,p,m,g,b,y;if(u=this.colors,g=null,c=this.hasAlphaChannel,this.palette.length&&(g=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),u=4,c=!0),m=(d=o.data||o).length,f=g||l,A=h=0,u===1)for(;A<m;)p=g?4*l[A/4]:h,b=f[p++],d[A++]=b,d[A++]=b,d[A++]=b,d[A++]=c?f[p++]:255,h=p;else for(;A<m;)p=g?4*l[A/4]:h,d[A++]=f[p++],d[A++]=f[p++],d[A++]=f[p++],d[A++]=c?f[p++]:255,h=p},s.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(Sr)==="[object Window]"){try{r=Sr.document.createElement("canvas"),n=r.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(o){var l;if(i()===!0)return n.width=o.width,n.height=o.height,n.clearRect(0,0,o.width,o.height),n.putImageData(o,0,0),(l=new Image).src=r.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(o){var l,c,u,d,A,f,h,p;if(this.animation){for(p=[],c=A=0,f=(h=this.animation.frames).length;A<f;c=++A)l=h[c],u=o.createImageData(l.width,l.height),d=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(u,d),l.imageData=u,p.push(l.image=t(u));return p}},s.prototype.renderFrame=function(o,l){var c,u,d;return c=(u=this.animation.frames)[l],d=u[l-1],l===0&&o.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?o.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&o.putImageData(d.imageData,d.xOffset,d.yOffset),c.blendOp===0&&o.clearRect(c.xOffset,c.yOffset,c.width,c.height),o.drawImage(c.image,c.xOffset,c.yOffset)},s.prototype.animate=function(o){var l,c,u,d,A,f,h=this;return c=0,f=this.animation,d=f.numFrames,u=f.frames,A=f.numPlays,(l=function(){var p,m;if(p=c++%d,m=u[p],h.renderFrame(o,p),d>1&&c/d<A)return h.animation._timeout=setTimeout(l,m.delay)})()},s.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},s.prototype.render=function(o){var l,c;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,l=o.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Nte(t){var r=0;if(t[r++]!==71||t[r++]!==73||t[r++]!==70||t[r++]!==56||(t[r++]+1&253)!=56||t[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[r++]|t[r++]<<8,s=t[r++]|t[r++]<<8,i=t[r++],o=i>>7,l=1<<(7&i)+1;t[r++],t[r++];var c=null,u=null;o&&(c=r,u=l,r+=3*l);var d=!0,A=[],f=0,h=null,p=0,m=null;for(this.width=n,this.height=s;d&&r<t.length;)switch(t[r++]){case 33:switch(t[r++]){case 255:if(t[r]!==11||t[r+1]==78&&t[r+2]==69&&t[r+3]==84&&t[r+4]==83&&t[r+5]==67&&t[r+6]==65&&t[r+7]==80&&t[r+8]==69&&t[r+9]==50&&t[r+10]==46&&t[r+11]==48&&t[r+12]==3&&t[r+13]==1&&t[r+16]==0)r+=14,m=t[r++]|t[r++]<<8,r++;else for(r+=12;;){if(!((S=t[r++])>=0))throw Error("Invalid block size");if(S===0)break;r+=S}break;case 249:if(t[r++]!==4||t[r+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[r++];f=t[r++]|t[r++]<<8,h=t[r++],!(1&g)&&(h=null),p=g>>2&7,r++;break;case 254:for(;;){if(!((S=t[r++])>=0))throw Error("Invalid block size");if(S===0)break;r+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[r-1].toString(16))}break;case 44:var b=t[r++]|t[r++]<<8,y=t[r++]|t[r++]<<8,x=t[r++]|t[r++]<<8,v=t[r++]|t[r++]<<8,w=t[r++],_=w>>6&1,B=1<<(7&w)+1,N=c,j=u,C=!1;w>>7&&(C=!0,N=r,j=B,r+=3*B);var E=r;for(r++;;){var S;if(!((S=t[r++])>=0))throw Error("Invalid block size");if(S===0)break;r+=S}A.push({x:b,y,width:x,height:v,has_local_palette:C,palette_offset:N,palette_size:j,data_offset:E,data_length:r-E,transparent_index:h,interlaced:!!_,delay:f,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[r-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return m},this.frameInfo=function(k){if(k<0||k>=A.length)throw new Error("Frame index out of range.");return A[k]},this.decodeAndBlitFrameBGRA=function(k,P){var M=this.frameInfo(k),H=M.width*M.height,F=new Uint8Array(H);Z_(t,M.data_offset,F,H);var Q=M.palette_offset,K=M.transparent_index;K===null&&(K=256);var Y=M.width,V=n-Y,I=Y,O=4*(M.y*n+M.x),R=4*((M.y+M.height)*n+M.x),U=O,T=4*V;M.interlaced===!0&&(T+=4*n*7);for(var z=8,G=0,J=F.length;G<J;++G){var ee=F[G];if(I===0&&(I=Y,(U+=T)>=R&&(T=4*V+4*n*(z-1),U=O+(Y+V)*(z<<1),z>>=1)),ee===K)U+=4;else{var fe=t[Q+3*ee],de=t[Q+3*ee+1],ae=t[Q+3*ee+2];P[U++]=ae,P[U++]=de,P[U++]=fe,P[U++]=255}--I}},this.decodeAndBlitFrameRGBA=function(k,P){var M=this.frameInfo(k),H=M.width*M.height,F=new Uint8Array(H);Z_(t,M.data_offset,F,H);var Q=M.palette_offset,K=M.transparent_index;K===null&&(K=256);var Y=M.width,V=n-Y,I=Y,O=4*(M.y*n+M.x),R=4*((M.y+M.height)*n+M.x),U=O,T=4*V;M.interlaced===!0&&(T+=4*n*7);for(var z=8,G=0,J=F.length;G<J;++G){var ee=F[G];if(I===0&&(I=Y,(U+=T)>=R&&(T=4*V+4*n*(z-1),U=O+(Y+V)*(z<<1),z>>=1)),ee===K)U+=4;else{var fe=t[Q+3*ee],de=t[Q+3*ee+1],ae=t[Q+3*ee+2];P[U++]=fe,P[U++]=de,P[U++]=ae,P[U++]=255}--I}}}function Z_(t,r,n,s){for(var i=t[r++],o=1<<i,l=o+1,c=l+1,u=i+1,d=(1<<u)-1,A=0,f=0,h=0,p=t[r++],m=new Int32Array(4096),g=null;;){for(;A<16&&p!==0;)f|=t[r++]<<A,A+=8,p===1?p=t[r++]:--p;if(A<u)break;var b=f&d;if(f>>=u,A-=u,b!==o){if(b===l)break;for(var y=b<c?b:g,x=0,v=y;v>o;)v=m[v]>>8,++x;var w=v;if(h+x+(y!==b?1:0)>s)return void Vn.log("Warning, gif stream longer than expected.");n[h++]=w;var _=h+=x;for(y!==b&&(n[h++]=w),v=y;x--;)v=m[v],n[--_]=255&v,v>>=8;g!==null&&c<4096&&(m[c++]=g<<8|w,c>=d+1&&u<12&&(++u,d=d<<1|1)),g=b}else c=l+1,d=(1<<(u=i+1))-1,g=null}return h!==s&&Vn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function kw(t){var r,n,s,i,o,l=Math.floor,c=new Array(64),u=new Array(64),d=new Array(64),A=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),g=[],b=0,y=7,x=new Array(64),v=new Array(64),w=new Array(64),_=new Array(256),B=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(O,R){for(var U=0,T=0,z=new Array,G=1;G<=16;G++){for(var J=1;J<=O[G];J++)z[R[T]]=[],z[R[T]][0]=U,z[R[T]][1]=G,T++,U++;U*=2}return z}function Q(O){for(var R=O[0],U=O[1]-1;U>=0;)R&1<<U&&(b|=1<<y),U--,--y<0&&(b==255?(K(255),K(0)):K(b),y=7,b=0)}function K(O){g.push(O)}function Y(O){K(O>>8&255),K(255&O)}function V(O,R,U,T,z){for(var G,J=z[0],ee=z[240],fe=function(Ce,we){var oe,pe,je,Te,be,De,qe,Qe,Re,We,Me=0;for(Re=0;Re<8;++Re){oe=Ce[Me],pe=Ce[Me+1],je=Ce[Me+2],Te=Ce[Me+3],be=Ce[Me+4],De=Ce[Me+5],qe=Ce[Me+6];var ot=oe+(Qe=Ce[Me+7]),xt=oe-Qe,Ft=pe+qe,nt=pe-qe,At=je+De,Rt=je-De,Pt=Te+be,ur=Te-be,Ht=ot+Pt,lr=ot-Pt,sr=Ft+At,Kt=Ft-At;Ce[Me]=Ht+sr,Ce[Me+4]=Ht-sr;var Xe=.707106781*(Kt+lr);Ce[Me+2]=lr+Xe,Ce[Me+6]=lr-Xe;var ar=.382683433*((Ht=ur+Rt)-(Kt=nt+xt)),rr=.5411961*Ht+ar,Ke=1.306562965*Kt+ar,Tr=.707106781*(sr=Rt+nt),Fn=xt+Tr,Wt=xt-Tr;Ce[Me+5]=Wt+rr,Ce[Me+3]=Wt-rr,Ce[Me+1]=Fn+Ke,Ce[Me+7]=Fn-Ke,Me+=8}for(Me=0,Re=0;Re<8;++Re){oe=Ce[Me],pe=Ce[Me+8],je=Ce[Me+16],Te=Ce[Me+24],be=Ce[Me+32],De=Ce[Me+40],qe=Ce[Me+48];var Or=oe+(Qe=Ce[Me+56]),Yr=oe-Qe,hn=pe+qe,Mr=pe-qe,Jr=je+De,q=je-De,ce=Te+be,Z=Te-be,ue=Or+ce,me=Or-ce,ye=hn+Jr,Be=hn-Jr;Ce[Me]=ue+ye,Ce[Me+32]=ue-ye;var Oe=.707106781*(Be+me);Ce[Me+16]=me+Oe,Ce[Me+48]=me-Oe;var Le=.382683433*((ue=Z+q)-(Be=Mr+Yr)),Ie=.5411961*ue+Le,Ue=1.306562965*Be+Le,Ve=.707106781*(ye=q+Mr),tt=Yr+Ve,at=Yr-Ve;Ce[Me+40]=at+Ie,Ce[Me+24]=at-Ie,Ce[Me+8]=tt+Ue,Ce[Me+56]=tt-Ue,Me++}for(Re=0;Re<64;++Re)We=Ce[Re]*we[Re],p[Re]=We>0?We+.5|0:We-.5|0;return p}(O,R),de=0;de<64;++de)m[N[de]]=fe[de];var ae=m[0]-U;U=m[0],ae==0?Q(T[0]):(Q(T[h[G=32767+ae]]),Q(f[G]));for(var xe=63;xe>0&&m[xe]==0;)xe--;if(xe==0)return Q(J),U;for(var X,ie=1;ie<=xe;){for(var re=ie;m[ie]==0&&ie<=xe;)++ie;var ve=ie-re;if(ve>=16){X=ve>>4;for(var ke=1;ke<=X;++ke)Q(ee);ve&=15}G=32767+m[ie],Q(z[(ve<<4)+h[G]]),Q(f[G]),ie++}return xe!=63&&Q(J),U}function I(O){O=Math.min(Math.max(O,1),100),o!=O&&(function(R){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],T=0;T<64;T++){var z=l((U[T]*R+50)/100);z=Math.min(Math.max(z,1),255),c[N[T]]=z}for(var G=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],J=0;J<64;J++){var ee=l((G[J]*R+50)/100);ee=Math.min(Math.max(ee,1),255),u[N[J]]=ee}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],de=0,ae=0;ae<8;ae++)for(var xe=0;xe<8;xe++)d[de]=1/(c[N[de]]*fe[ae]*fe[xe]*8),A[de]=1/(u[N[de]]*fe[ae]*fe[xe]*8),de++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),o=O)}this.encode=function(O,R){R&&I(R),g=new Array,b=0,y=7,Y(65496),Y(65504),Y(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),Y(1),Y(1),K(0),K(0),function(){Y(65499),Y(132),K(0);for(var pe=0;pe<64;pe++)K(c[pe]);K(1);for(var je=0;je<64;je++)K(u[je])}(),function(pe,je){Y(65472),Y(17),K(8),Y(je),Y(pe),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(O.width,O.height),function(){Y(65476),Y(418),K(0);for(var pe=0;pe<16;pe++)K(j[pe+1]);for(var je=0;je<=11;je++)K(C[je]);K(16);for(var Te=0;Te<16;Te++)K(E[Te+1]);for(var be=0;be<=161;be++)K(S[be]);K(1);for(var De=0;De<16;De++)K(k[De+1]);for(var qe=0;qe<=11;qe++)K(P[qe]);K(17);for(var Qe=0;Qe<16;Qe++)K(M[Qe+1]);for(var Re=0;Re<=161;Re++)K(H[Re])}(),Y(65498),Y(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var U=0,T=0,z=0;b=0,y=7,this.encode.displayName="_encode_";for(var G,J,ee,fe,de,ae,xe,X,ie,re=O.data,ve=O.width,ke=O.height,Ce=4*ve,we=0;we<ke;){for(G=0;G<Ce;){for(de=Ce*we+G,xe=-1,X=0,ie=0;ie<64;ie++)ae=de+(X=ie>>3)*Ce+(xe=4*(7&ie)),we+X>=ke&&(ae-=Ce*(we+1+X-ke)),G+xe>=Ce&&(ae-=G+xe-Ce+4),J=re[ae++],ee=re[ae++],fe=re[ae++],x[ie]=(B[J]+B[ee+256>>0]+B[fe+512>>0]>>16)-128,v[ie]=(B[J+768>>0]+B[ee+1024>>0]+B[fe+1280>>0]>>16)-128,w[ie]=(B[J+1280>>0]+B[ee+1536>>0]+B[fe+1792>>0]>>16)-128;U=V(x,d,U,r,s),T=V(v,A,T,n,i),z=V(w,A,z,n,i),G+=32}we+=8}if(y>=0){var oe=[];oe[1]=y+1,oe[0]=(1<<y+1)-1,Q(oe)}return Y(65497),new Uint8Array(g)},t=t||50,function(){for(var O=String.fromCharCode,R=0;R<256;R++)_[R]=O(R)}(),r=F(j,C),n=F(k,P),s=F(E,S),i=F(M,H),function(){for(var O=1,R=2,U=1;U<=15;U++){for(var T=O;T<R;T++)h[32767+T]=U,f[32767+T]=[],f[32767+T][1]=U,f[32767+T][0]=T;for(var z=-(R-1);z<=-O;z++)h[32767+z]=U,f[32767+z]=[],f[32767+z][1]=U,f[32767+z][0]=R-1+z;O<<=1,R<<=1}}(),function(){for(var O=0;O<256;O++)B[O]=19595*O,B[O+256>>0]=38470*O,B[O+512>>0]=7471*O+32768,B[O+768>>0]=-11059*O,B[O+1024>>0]=-21709*O,B[O+1280>>0]=32768*O+8421375,B[O+1536>>0]=-27439*O,B[O+1792>>0]=-5329*O}(),I(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ro(t,r){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function eE(t){function r(j){if(!j)throw Error("assert :P")}function n(j,C,E){for(var S=0;4>S;S++)if(j[C+S]!=E.charCodeAt(S))return!0;return!1}function s(j,C,E,S,k){for(var P=0;P<k;P++)j[C+P]=E[S+P]}function i(j,C,E,S){for(var k=0;k<S;k++)j[C+k]=E}function o(j){return new Int32Array(j)}function l(j,C){for(var E=[],S=0;S<j;S++)E.push(new C);return E}function c(j,C){var E=[];return function S(k,P,M){for(var H=M[P],F=0;F<H&&(k.push(M.length>P+1?[]:new C),!(M.length<P+1));F++)S(k[F],P+1,M)}(E,0,j),E}var u=function(){var j=this;function C(L,W){for(var le=1<<W-1>>>0;L&le;)le>>>=1;return le?(L&le-1)+le:L}function E(L,W,le,ge,Se){r(!(ge%le));do L[W+(ge-=le)]=Se;while(0<ge)}function S(L,W,le,ge,Se){if(r(2328>=Se),512>=Se)var _e=o(512);else if((_e=o(Se))==null)return 0;return function(Ee,Fe,Pe,He,Ze,ct){var ut,it,Bt=Fe,pt=1<<Pe,et=o(16),rt=o(16);for(r(Ze!=0),r(He!=null),r(Ee!=null),r(0<Pe),it=0;it<Ze;++it){if(15<He[it])return 0;++et[He[it]]}if(et[0]==Ze)return 0;for(rt[1]=0,ut=1;15>ut;++ut){if(et[ut]>1<<ut)return 0;rt[ut+1]=rt[ut]+et[ut]}for(it=0;it<Ze;++it)ut=He[it],0<He[it]&&(ct[rt[ut]++]=it);if(rt[15]==1)return(He=new k).g=0,He.value=ct[0],E(Ee,Bt,1,pt,He),pt;var jt,Ot=-1,St=pt-1,tr=0,Vt=1,vr=1,zt=1<<Pe;for(it=0,ut=1,Ze=2;ut<=Pe;++ut,Ze<<=1){if(Vt+=vr<<=1,0>(vr-=et[ut]))return 0;for(;0<et[ut];--et[ut])(He=new k).g=ut,He.value=ct[it++],E(Ee,Bt+tr,Ze,zt,He),tr=C(tr,ut)}for(ut=Pe+1,Ze=2;15>=ut;++ut,Ze<<=1){if(Vt+=vr<<=1,0>(vr-=et[ut]))return 0;for(;0<et[ut];--et[ut]){if(He=new k,(tr&St)!=Ot){for(Bt+=zt,jt=1<<(Ot=ut)-Pe;15>Ot&&!(0>=(jt-=et[Ot]));)++Ot,jt<<=1;pt+=zt=1<<(jt=Ot-Pe),Ee[Fe+(Ot=tr&St)].g=jt+Pe,Ee[Fe+Ot].value=Bt-Fe-Ot}He.g=ut-Pe,He.value=ct[it++],E(Ee,Bt+(tr>>Pe),Ze,zt,He),tr=C(tr,ut)}}return Vt!=2*rt[15]-1?0:pt}(L,W,le,ge,Se,_e)}function k(){this.value=this.g=0}function P(){this.value=this.g=0}function M(){this.G=l(5,k),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Ni,P)}function H(L,W,le,ge){r(L!=null),r(W!=null),r(2147483648>ge),L.Ca=254,L.I=0,L.b=-8,L.Ka=0,L.oa=W,L.pa=le,L.Jd=W,L.Yc=le+ge,L.Zc=4<=ge?le+ge-4+1:le,G(L)}function F(L,W){for(var le=0;0<W--;)le|=ee(L,128)<<W;return le}function Q(L,W){var le=F(L,W);return J(L)?-le:le}function K(L,W,le,ge){var Se,_e=0;for(r(L!=null),r(W!=null),r(4294967288>ge),L.Sb=ge,L.Ra=0,L.u=0,L.h=0,4<ge&&(ge=4),Se=0;Se<ge;++Se)_e+=W[le+Se]<<8*Se;L.Ra=_e,L.bb=ge,L.oa=W,L.pa=le}function Y(L){for(;8<=L.u&&L.bb<L.Sb;)L.Ra>>>=8,L.Ra+=L.oa[L.pa+L.bb]<<RA-8>>>0,++L.bb,L.u-=8;U(L)&&(L.h=1,L.u=0)}function V(L,W){if(r(0<=W),!L.h&&W<=UA){var le=R(L)&DA[W];return L.u+=W,Y(L),le}return L.h=1,L.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(L){return L.Ra>>>(L.u&RA-1)>>>0}function U(L){return r(L.bb<=L.Sb),L.h||L.bb==L.Sb&&L.u>RA}function T(L,W){L.u=W,L.h=U(L)}function z(L){L.u>=qh&&(r(L.u>=qh),Y(L))}function G(L){r(L!=null&&L.oa!=null),L.pa<L.Zc?(L.I=(L.oa[L.pa++]|L.I<<8)>>>0,L.b+=8):(r(L!=null&&L.oa!=null),L.pa<L.Yc?(L.b+=8,L.I=L.oa[L.pa++]|L.I<<8):L.Ka?L.b=0:(L.I<<=8,L.b+=8,L.Ka=1))}function J(L){return F(L,1)}function ee(L,W){var le=L.Ca;0>L.b&&G(L);var ge=L.b,Se=le*W>>>8,_e=(L.I>>>ge>Se)+0;for(_e?(le-=Se,L.I-=Se+1<<ge>>>0):le=Se+1,ge=le,Se=0;256<=ge;)Se+=8,ge>>=8;return ge=7^Se+va[ge],L.b-=ge,L.Ca=(le<<ge)-1,_e}function fe(L,W,le){L[W+0]=le>>24&255,L[W+1]=le>>16&255,L[W+2]=le>>8&255,L[W+3]=le>>0&255}function de(L,W){return L[W+0]<<0|L[W+1]<<8}function ae(L,W){return de(L,W)|L[W+2]<<16}function xe(L,W){return de(L,W)|de(L,W+2)<<16}function X(L,W){var le=1<<W;return r(L!=null),r(0<W),L.X=o(le),L.X==null?0:(L.Mb=32-W,L.Xa=W,1)}function ie(L,W){r(L!=null),r(W!=null),r(L.Xa==W.Xa),s(W.X,0,L.X,0,1<<W.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function ve(L,W,le,ge){r(le!=null),r(ge!=null);var Se=le[0],_e=ge[0];return Se==0&&(Se=(L*_e+W/2)/W),_e==0&&(_e=(W*Se+L/2)/L),0>=Se||0>=_e?0:(le[0]=Se,ge[0]=_e,1)}function ke(L,W){return L+(1<<W)-1>>>W}function Ce(L,W){return((4278255360&L)+(4278255360&W)>>>0&4278255360)+((16711935&L)+(16711935&W)>>>0&16711935)>>>0}function we(L,W){j[W]=function(le,ge,Se,_e,Ee,Fe,Pe){var He;for(He=0;He<Ee;++He){var Ze=j[L](Fe[Pe+He-1],Se,_e+He);Fe[Pe+He]=Ce(le[ge+He],Ze)}}}function oe(){this.ud=this.hd=this.jd=0}function pe(L,W){return((4278124286&(L^W))>>>1)+(L&W)>>>0}function je(L){return 0<=L&&256>L?L:0>L?0:255<L?255:void 0}function Te(L,W){return je(L+(L-W+.5>>1))}function be(L,W,le){return Math.abs(W-le)-Math.abs(L-le)}function De(L,W,le,ge,Se,_e,Ee){for(ge=_e[Ee-1],le=0;le<Se;++le)_e[Ee+le]=ge=Ce(L[W+le],ge)}function qe(L,W,le,ge,Se){var _e;for(_e=0;_e<le;++_e){var Ee=L[W+_e],Fe=Ee>>8&255,Pe=16711935&(Pe=(Pe=16711935&Ee)+((Fe<<16)+Fe));ge[Se+_e]=(4278255360&Ee)+Pe>>>0}}function Qe(L,W){W.jd=L>>0&255,W.hd=L>>8&255,W.ud=L>>16&255}function Re(L,W,le,ge,Se,_e){var Ee;for(Ee=0;Ee<ge;++Ee){var Fe=W[le+Ee],Pe=Fe>>>8,He=Fe,Ze=255&(Ze=(Ze=Fe>>>16)+((L.jd<<24>>24)*(Pe<<24>>24)>>>5));He=255&(He=(He=He+((L.hd<<24>>24)*(Pe<<24>>24)>>>5))+((L.ud<<24>>24)*(Ze<<24>>24)>>>5)),Se[_e+Ee]=(4278255360&Fe)+(Ze<<16)+He}}function We(L,W,le,ge,Se){j[W]=function(_e,Ee,Fe,Pe,He,Ze,ct,ut,it){for(Pe=ct;Pe<ut;++Pe)for(ct=0;ct<it;++ct)He[Ze++]=Se(Fe[ge(_e[Ee++])])},j[L]=function(_e,Ee,Fe,Pe,He,Ze,ct){var ut=8>>_e.b,it=_e.Ea,Bt=_e.K[0],pt=_e.w;if(8>ut)for(_e=(1<<_e.b)-1,pt=(1<<ut)-1;Ee<Fe;++Ee){var et,rt=0;for(et=0;et<it;++et)et&_e||(rt=ge(Pe[He++])),Ze[ct++]=Se(Bt[rt&pt]),rt>>=ut}else j["VP8LMapColor"+le](Pe,He,Bt,pt,Ze,ct,Ee,Fe,it)}}function Me(L,W,le,ge,Se){for(le=W+le;W<le;){var _e=L[W++];ge[Se++]=_e>>16&255,ge[Se++]=_e>>8&255,ge[Se++]=_e>>0&255}}function ot(L,W,le,ge,Se){for(le=W+le;W<le;){var _e=L[W++];ge[Se++]=_e>>16&255,ge[Se++]=_e>>8&255,ge[Se++]=_e>>0&255,ge[Se++]=_e>>24&255}}function xt(L,W,le,ge,Se){for(le=W+le;W<le;){var _e=(Ee=L[W++])>>16&240|Ee>>12&15,Ee=Ee>>0&240|Ee>>28&15;ge[Se++]=_e,ge[Se++]=Ee}}function Ft(L,W,le,ge,Se){for(le=W+le;W<le;){var _e=(Ee=L[W++])>>16&248|Ee>>13&7,Ee=Ee>>5&224|Ee>>3&31;ge[Se++]=_e,ge[Se++]=Ee}}function nt(L,W,le,ge,Se){for(le=W+le;W<le;){var _e=L[W++];ge[Se++]=_e>>0&255,ge[Se++]=_e>>8&255,ge[Se++]=_e>>16&255}}function At(L,W,le,ge,Se,_e){if(_e==0)for(le=W+le;W<le;)fe(ge,((_e=L[W++])[0]>>24|_e[1]>>8&65280|_e[2]<<8&16711680|_e[3]<<24)>>>0),Se+=32;else s(ge,Se,L,W,le)}function Rt(L,W){j[W][0]=j[L+"0"],j[W][1]=j[L+"1"],j[W][2]=j[L+"2"],j[W][3]=j[L+"3"],j[W][4]=j[L+"4"],j[W][5]=j[L+"5"],j[W][6]=j[L+"6"],j[W][7]=j[L+"7"],j[W][8]=j[L+"8"],j[W][9]=j[L+"9"],j[W][10]=j[L+"10"],j[W][11]=j[L+"11"],j[W][12]=j[L+"12"],j[W][13]=j[L+"13"],j[W][14]=j[L+"0"],j[W][15]=j[L+"0"]}function Pt(L){return L==rb||L==nb||L==ag||L==sb}function ur(){this.eb=[],this.size=this.A=this.fb=0}function Ht(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function lr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ur,this.f.kb=new Ht,this.sd=null}function sr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xe(L){return alert("todo:WebPSamplerProcessPlane"),L.T}function ar(L,W){var le=L.T,ge=W.ba.f.RGBA,Se=ge.eb,_e=ge.fb+L.ka*ge.A,Ee=lo[W.ba.S],Fe=L.y,Pe=L.O,He=L.f,Ze=L.N,ct=L.ea,ut=L.W,it=W.cc,Bt=W.dc,pt=W.Mc,et=W.Nc,rt=L.ka,jt=L.ka+L.T,Ot=L.U,St=Ot+1>>1;for(rt==0?Ee(Fe,Pe,null,null,He,Ze,ct,ut,He,Ze,ct,ut,Se,_e,null,null,Ot):(Ee(W.ec,W.fc,Fe,Pe,it,Bt,pt,et,He,Ze,ct,ut,Se,_e-ge.A,Se,_e,Ot),++le);rt+2<jt;rt+=2)it=He,Bt=Ze,pt=ct,et=ut,Ze+=L.Rc,ut+=L.Rc,_e+=2*ge.A,Ee(Fe,(Pe+=2*L.fa)-L.fa,Fe,Pe,it,Bt,pt,et,He,Ze,ct,ut,Se,_e-ge.A,Se,_e,Ot);return Pe+=L.fa,L.j+jt<L.o?(s(W.ec,W.fc,Fe,Pe,Ot),s(W.cc,W.dc,He,Ze,St),s(W.Mc,W.Nc,ct,ut,St),le--):1&jt||Ee(Fe,Pe,null,null,He,Ze,ct,ut,He,Ze,ct,ut,Se,_e+ge.A,null,null,Ot),le}function rr(L,W,le){var ge=L.F,Se=[L.J];if(ge!=null){var _e=L.U,Ee=W.ba.S,Fe=Ee==ig||Ee==ag;W=W.ba.f.RGBA;var Pe=[0],He=L.ka;Pe[0]=L.T,L.Kb&&(He==0?--Pe[0]:(--He,Se[0]-=L.width),L.j+L.ka+L.T==L.o&&(Pe[0]=L.o-L.j-He));var Ze=W.eb;He=W.fb+He*W.A,L=Yn(ge,Se[0],L.width,_e,Pe,Ze,He+(Fe?0:3),W.A),r(le==Pe),L&&Pt(Ee)&&ao(Ze,He,Fe,_e,Pe,W.A)}return 0}function Ke(L){var W=L.ma,le=W.ba.S,ge=11>le,Se=le==ng||le==sg||le==ig||le==tb||le==12||Pt(le);if(W.memory=null,W.Ib=null,W.Jb=null,W.Nd=null,!Gh(W.Oa,L,Se?11:12))return 0;if(Se&&Pt(le)&&Tt(),L.da)alert("todo:use_scaling");else{if(ge){if(W.Ib=Xe,L.Kb){if(le=L.U+1>>1,W.memory=o(L.U+2*le),W.memory==null)return 0;W.ec=W.memory,W.fc=0,W.cc=W.ec,W.dc=W.fc+L.U,W.Mc=W.cc,W.Nc=W.dc+le,W.Ib=ar,Tt()}}else alert("todo:EmitYUV");Se&&(W.Jb=rr,ge&&lt())}if(ge&&!j3){for(L=0;256>L;++L)Y7[L]=89858*(L-128)+lg>>og,Z7[L]=-22014*(L-128)+lg,J7[L]=-45773*(L-128),X7[L]=113618*(L-128)+lg>>og;for(L=rp;L<ob;++L)W=76283*(L-16)+lg>>og,eM[L-rp]=Da(W,255),tM[L-rp]=Da(W+8>>4,15);j3=1}return 1}function Tr(L){var W=L.ma,le=L.U,ge=L.T;return r(!(1&L.ka)),0>=le||0>=ge?0:(le=W.Ib(L,W),W.Jb!=null&&W.Jb(L,W,le),W.Dc+=le,1)}function Fn(L){L.ma.memory=null}function Wt(L,W,le,ge){return V(L,8)!=47?0:(W[0]=V(L,14)+1,le[0]=V(L,14)+1,ge[0]=V(L,1),V(L,3)!=0?0:!L.h)}function Or(L,W){if(4>L)return L+1;var le=L-2>>1;return(2+(1&L)<<le)+V(W,le)+1}function Yr(L,W){return 120<W?W-120:1<=(le=((le=L7[W-1])>>4)*L+(8-(15&le)))?le:1;var le}function hn(L,W,le){var ge=R(le),Se=L[W+=255&ge].g-8;return 0<Se&&(T(le,le.u+8),ge=R(le),W+=L[W].value,W+=ge&(1<<Se)-1),T(le,le.u+L[W].g),L[W].value}function Mr(L,W,le){return le.g+=L.g,le.value+=L.value<<W>>>0,r(8>=le.g),L.g}function Jr(L,W,le){var ge=L.xc;return r((W=ge==0?0:L.vc[L.md*(le>>ge)+(W>>ge)])<L.Wb),L.Ya[W]}function q(L,W,le,ge){var Se=L.ab,_e=L.c*W,Ee=L.C;W=Ee+W;var Fe=le,Pe=ge;for(ge=L.Ta,le=L.Ua;0<Se--;){var He=L.gc[Se],Ze=Ee,ct=W,ut=Fe,it=Pe,Bt=(Pe=ge,Fe=le,He.Ea);switch(r(Ze<ct),r(ct<=He.nc),He.hc){case 2:Ym(ut,it,(ct-Ze)*Bt,Pe,Fe);break;case 0:var pt=Ze,et=ct,rt=Pe,jt=Fe,Ot=(zt=He).Ea;pt==0&&(Z1(ut,it,null,null,1,rt,jt),De(ut,it+1,0,0,Ot-1,rt,jt+1),it+=Ot,jt+=Ot,++pt);for(var St=1<<zt.b,tr=St-1,Vt=ke(Ot,zt.b),vr=zt.K,zt=zt.w+(pt>>zt.b)*Vt;pt<et;){var gn=vr,Nn=zt,An=1;for(Yh(ut,it,rt,jt-Ot,1,rt,jt);An<Ot;){var en=(An&~tr)+St;en>Ot&&(en=Ot),(0,Qc[gn[Nn++]>>8&15])(ut,it+ +An,rt,jt+An-Ot,en-An,rt,jt+An),An=en}it+=Ot,jt+=Ot,++pt&tr||(zt+=Vt)}ct!=He.nc&&s(Pe,Fe-Bt,Pe,Fe+(ct-Ze-1)*Bt,Bt);break;case 1:for(Bt=ut,et=it,Ot=(ut=He.Ea)-(jt=ut&~(rt=(it=1<<He.b)-1)),pt=ke(ut,He.b),St=He.K,He=He.w+(Ze>>He.b)*pt;Ze<ct;){for(tr=St,Vt=He,vr=new oe,zt=et+jt,gn=et+ut;et<zt;)Qe(tr[Vt++],vr),hd(vr,Bt,et,it,Pe,Fe),et+=it,Fe+=it;et<gn&&(Qe(tr[Vt++],vr),hd(vr,Bt,et,Ot,Pe,Fe),et+=Ot,Fe+=Ot),++Ze&rt||(He+=pt)}break;case 3:if(ut==Pe&&it==Fe&&0<He.b){for(et=Pe,ut=Bt=Fe+(ct-Ze)*Bt-(jt=(ct-Ze)*ke(He.Ea,He.b)),it=Pe,rt=Fe,pt=[],jt=(Ot=jt)-1;0<=jt;--jt)pt[jt]=it[rt+jt];for(jt=Ot-1;0<=jt;--jt)et[ut+jt]=pt[jt];no(He,Ze,ct,Pe,Bt,Pe,Fe)}else no(He,Ze,ct,ut,it,Pe,Fe)}Fe=ge,Pe=le}Pe!=le&&s(ge,le,Fe,Pe,_e)}function ce(L,W){var le=L.V,ge=L.Ba+L.c*L.C,Se=W-L.C;if(r(W<=L.l.o),r(16>=Se),0<Se){var _e=L.l,Ee=L.Ta,Fe=L.Ua,Pe=_e.width;if(q(L,Se,le,ge),Se=Fe=[Fe],r((le=L.C)<(ge=W)),r(_e.v<_e.va),ge>_e.o&&(ge=_e.o),le<_e.j){var He=_e.j-le;le=_e.j,Se[0]+=He*Pe}if(le>=ge?le=0:(Se[0]+=4*_e.v,_e.ka=le-_e.j,_e.U=_e.va-_e.v,_e.T=ge-le,le=1),le){if(Fe=Fe[0],11>(le=L.ca).S){var Ze=le.f.RGBA,ct=(ge=le.S,Se=_e.U,_e=_e.T,He=Ze.eb,Ze.A),ut=_e;for(Ze=Ze.fb+L.Ma*Ze.A;0<ut--;){var it=Ee,Bt=Fe,pt=Se,et=He,rt=Ze;switch(ge){case rg:ba(it,Bt,pt,et,rt);break;case ng:na(it,Bt,pt,et,rt);break;case rb:na(it,Bt,pt,et,rt),ao(et,rt,0,pt,1,0);break;case f3:ec(it,Bt,pt,et,rt);break;case sg:At(it,Bt,pt,et,rt,1);break;case nb:At(it,Bt,pt,et,rt,1),ao(et,rt,0,pt,1,0);break;case ig:At(it,Bt,pt,et,rt,0);break;case ag:At(it,Bt,pt,et,rt,0),ao(et,rt,1,pt,1,0);break;case tb:$c(it,Bt,pt,et,rt);break;case sb:$c(it,Bt,pt,et,rt),qn(et,rt,pt,1,0);break;case h3:Zl(it,Bt,pt,et,rt);break;default:r(0)}Fe+=Pe,Ze+=ct}L.Ma+=_e}else alert("todo:EmitRescaledRowsYUVA");r(L.Ma<=le.height)}}L.C=W,r(L.C<=L.i)}function Z(L){var W;if(0<L.ua)return 0;for(W=0;W<L.Wb;++W){var le=L.Ya[W].G,ge=L.Ya[W].H;if(0<le[1][ge[1]+0].g||0<le[2][ge[2]+0].g||0<le[3][ge[3]+0].g)return 0}return 1}function ue(L,W,le,ge,Se,_e){if(L.Z!=0){var Ee=L.qd,Fe=L.rd;for(r(Kc[L.Z]!=null);W<le;++W)Kc[L.Z](Ee,Fe,ge,Se,ge,Se,_e),Ee=ge,Fe=Se,Se+=_e;L.qd=Ee,L.rd=Fe}}function me(L,W){var le=L.l.ma,ge=le.Z==0||le.Z==1?L.l.j:L.C;if(ge=L.C<ge?ge:L.C,r(W<=L.l.o),W>ge){var Se=L.l.width,_e=le.ca,Ee=le.tb+Se*ge,Fe=L.V,Pe=L.Ba+L.c*ge,He=L.gc;r(L.ab==1),r(He[0].hc==3),Xm(He[0],ge,W,Fe,Pe,_e,Ee),ue(le,ge,W,_e,Ee,Se)}L.C=L.Ma=W}function ye(L,W,le,ge,Se,_e,Ee){var Fe=L.$/ge,Pe=L.$%ge,He=L.m,Ze=L.s,ct=le+L.$,ut=ct;Se=le+ge*Se;var it=le+ge*_e,Bt=280+Ze.ua,pt=L.Pb?Fe:16777216,et=0<Ze.ua?Ze.Wa:null,rt=Ze.wc,jt=ct<it?Jr(Ze,Pe,Fe):null;r(L.C<_e),r(it<=Se);var Ot=!1;e:for(;;){for(;Ot||ct<it;){var St=0;if(Fe>=pt){var tr=ct-le;r((pt=L).Pb),pt.wd=pt.m,pt.xd=tr,0<pt.s.ua&&ie(pt.s.Wa,pt.s.vb),pt=Fe+U7}if(Pe&rt||(jt=Jr(Ze,Pe,Fe)),r(jt!=null),jt.Qb&&(W[ct]=jt.qb,Ot=!0),!Ot)if(z(He),jt.jc){St=He,tr=W;var Vt=ct,vr=jt.pd[R(St)&Ni-1];r(jt.jc),256>vr.g?(T(St,St.u+vr.g),tr[Vt]=vr.value,St=0):(T(St,St.u+vr.g-256),r(256<=vr.value),St=vr.value),St==0&&(Ot=!0)}else St=hn(jt.G[0],jt.H[0],He);if(He.h)break;if(Ot||256>St){if(!Ot)if(jt.nd)W[ct]=(jt.qb|St<<8)>>>0;else{if(z(He),Ot=hn(jt.G[1],jt.H[1],He),z(He),tr=hn(jt.G[2],jt.H[2],He),Vt=hn(jt.G[3],jt.H[3],He),He.h)break;W[ct]=(Vt<<24|Ot<<16|St<<8|tr)>>>0}if(Ot=!1,++ct,++Pe>=ge&&(Pe=0,++Fe,Ee!=null&&Fe<=_e&&!(Fe%16)&&Ee(L,Fe),et!=null))for(;ut<ct;)St=W[ut++],et.X[(506832829*St&4294967295)>>>et.Mb]=St}else if(280>St){if(St=Or(St-256,He),tr=hn(jt.G[4],jt.H[4],He),z(He),tr=Yr(ge,tr=Or(tr,He)),He.h)break;if(ct-le<tr||Se-ct<St)break e;for(Vt=0;Vt<St;++Vt)W[ct+Vt]=W[ct+Vt-tr];for(ct+=St,Pe+=St;Pe>=ge;)Pe-=ge,++Fe,Ee!=null&&Fe<=_e&&!(Fe%16)&&Ee(L,Fe);if(r(ct<=Se),Pe&rt&&(jt=Jr(Ze,Pe,Fe)),et!=null)for(;ut<ct;)St=W[ut++],et.X[(506832829*St&4294967295)>>>et.Mb]=St}else{if(!(St<Bt))break e;for(Ot=St-280,r(et!=null);ut<ct;)St=W[ut++],et.X[(506832829*St&4294967295)>>>et.Mb]=St;St=ct,r(!(Ot>>>(tr=et).Xa)),W[St]=tr.X[Ot],Ot=!0}Ot||r(He.h==U(He))}if(L.Pb&&He.h&&ct<Se)r(L.m.h),L.a=5,L.m=L.wd,L.$=L.xd,0<L.s.ua&&ie(L.s.vb,L.s.Wa);else{if(He.h)break e;Ee!=null&&Ee(L,Fe>_e?_e:Fe),L.a=0,L.$=ct-le}return 1}return L.a=3,0}function Be(L){r(L!=null),L.vc=null,L.yc=null,L.Ya=null;var W=L.Wa;W!=null&&(W.X=null),L.vb=null,r(L!=null)}function Oe(){var L=new ys;return L==null?null:(L.a=0,L.xb=g3,Rt("Predictor","VP8LPredictors"),Rt("Predictor","VP8LPredictors_C"),Rt("PredictorAdd","VP8LPredictorsAdd"),Rt("PredictorAdd","VP8LPredictorsAdd_C"),Ym=qe,hd=Re,ba=Me,na=ot,$c=xt,Zl=Ft,ec=nt,j.VP8LMapColor32b=MA,j.VP8LMapColor8b=Jm,L)}function Le(L,W,le,ge,Se){var _e=1,Ee=[L],Fe=[W],Pe=ge.m,He=ge.s,Ze=null,ct=0;e:for(;;){if(le)for(;_e&&V(Pe,1);){var ut=Ee,it=Fe,Bt=ge,pt=1,et=Bt.m,rt=Bt.gc[Bt.ab],jt=V(et,2);if(Bt.Oc&1<<jt)_e=0;else{switch(Bt.Oc|=1<<jt,rt.hc=jt,rt.Ea=ut[0],rt.nc=it[0],rt.K=[null],++Bt.ab,r(4>=Bt.ab),jt){case 0:case 1:rt.b=V(et,3)+2,pt=Le(ke(rt.Ea,rt.b),ke(rt.nc,rt.b),0,Bt,rt.K),rt.K=rt.K[0];break;case 3:var Ot,St=V(et,8)+1,tr=16<St?0:4<St?1:2<St?2:3;if(ut[0]=ke(rt.Ea,tr),rt.b=tr,Ot=pt=Le(St,1,0,Bt,rt.K)){var Vt,vr=St,zt=rt,gn=1<<(8>>zt.b),Nn=o(gn);if(Nn==null)Ot=0;else{var An=zt.K[0],en=zt.w;for(Nn[0]=zt.K[0][0],Vt=1;Vt<1*vr;++Vt)Nn[Vt]=Ce(An[en+Vt],Nn[Vt-1]);for(;Vt<4*gn;++Vt)Nn[Vt]=0;zt.K[0]=null,zt.K[0]=Nn,Ot=1}}pt=Ot;break;case 2:break;default:r(0)}_e=pt}}if(Ee=Ee[0],Fe=Fe[0],_e&&V(Pe,1)&&!(_e=1<=(ct=V(Pe,4))&&11>=ct)){ge.a=3;break e}var Hn;if(Hn=_e)t:{var Un,$r,Gs,wa=ge,Ws=Ee,ja=Fe,Sn=ct,Ra=le,Ma=wa.m,fi=wa.s,Si=[null],ia=1,co=0,fl=D7[Sn];r:for(;;){if(Ra&&V(Ma,1)){var hi=V(Ma,3)+2,sc=ke(Ws,hi),xd=ke(ja,hi),zA=sc*xd;if(!Le(sc,xd,0,wa,Si))break r;for(Si=Si[0],fi.xc=hi,Un=0;Un<zA;++Un){var Gc=Si[Un]>>8&65535;Si[Un]=Gc,Gc>=ia&&(ia=Gc+1)}}if(Ma.h)break r;for($r=0;5>$r;++$r){var vs=p3[$r];!$r&&0<Sn&&(vs+=1<<Sn),co<vs&&(co=vs)}var lb=l(ia*fl,k),B3=ia,C3=l(B3,M);if(C3==null)var ug=null;else r(65536>=B3),ug=C3;var np=o(co);if(ug==null||np==null||lb==null){wa.a=1;break r}var dg=lb;for(Un=Gs=0;Un<ia;++Un){var Lo=ug[Un],KA=Lo.G,GA=Lo.H,_3=0,Ag=1,E3=0;for($r=0;5>$r;++$r){vs=p3[$r],KA[$r]=dg,GA[$r]=Gs,!$r&&0<Sn&&(vs+=1<<Sn);s:{var fg,cb=vs,hg=wa,sp=np,sM=dg,iM=Gs,ub=0,Wc=hg.m,aM=V(Wc,1);if(i(sp,0,0,cb),aM){var oM=V(Wc,1)+1,lM=V(Wc,1),k3=V(Wc,lM==0?1:8);sp[k3]=1,oM==2&&(sp[k3=V(Wc,8)]=1);var pg=1}else{var T3=o(19),O3=V(Wc,4)+4;if(19<O3){hg.a=3;var mg=0;break s}for(fg=0;fg<O3;++fg)T3[P7[fg]]=V(Wc,3);var db=void 0,ip=void 0,F3=hg,cM=T3,gg=cb,I3=sp,Ab=0,qc=F3.m,P3=8,L3=l(128,k);n:for(;S(L3,0,7,cM,19);){if(V(qc,1)){var uM=2+2*V(qc,3);if((db=2+V(qc,uM))>gg)break n}else db=gg;for(ip=0;ip<gg&&db--;){z(qc);var D3=L3[0+(127&R(qc))];T(qc,qc.u+D3.g);var WA=D3.value;if(16>WA)I3[ip++]=WA,WA!=0&&(P3=WA);else{var dM=WA==16,U3=WA-16,AM=F7[U3],R3=V(qc,O7[U3])+AM;if(ip+R3>gg)break n;for(var fM=dM?P3:0;0<R3--;)I3[ip++]=fM}}Ab=1;break n}Ab||(F3.a=3),pg=Ab}(pg=pg&&!Wc.h)&&(ub=S(sM,iM,8,sp,cb)),pg&&ub!=0?mg=ub:(hg.a=3,mg=0)}if(mg==0)break r;if(Ag&&I7[$r]==1&&(Ag=dg[Gs].g==0),_3+=dg[Gs].g,Gs+=mg,3>=$r){var ap,fb=np[0];for(ap=1;ap<vs;++ap)np[ap]>fb&&(fb=np[ap]);E3+=fb}}if(Lo.nd=Ag,Lo.Qb=0,Ag&&(Lo.qb=(KA[3][GA[3]+0].value<<24|KA[1][GA[1]+0].value<<16|KA[2][GA[2]+0].value)>>>0,_3==0&&256>KA[0][GA[0]+0].value&&(Lo.Qb=1,Lo.qb+=KA[0][GA[0]+0].value<<8)),Lo.jc=!Lo.Qb&&6>E3,Lo.jc){var yg,ic=Lo;for(yg=0;yg<Ni;++yg){var Yc=yg,Xc=ic.pd[Yc],xg=ic.G[0][ic.H[0]+Yc];256<=xg.value?(Xc.g=xg.g+256,Xc.value=xg.value):(Xc.g=0,Xc.value=0,Yc>>=Mr(xg,8,Xc),Yc>>=Mr(ic.G[1][ic.H[1]+Yc],16,Xc),Yc>>=Mr(ic.G[2][ic.H[2]+Yc],0,Xc),Mr(ic.G[3][ic.H[3]+Yc],24,Xc))}}}fi.vc=Si,fi.Wb=ia,fi.Ya=ug,fi.yc=lb,Hn=1;break t}Hn=0}if(!(_e=Hn)){ge.a=3;break e}if(0<ct){if(He.ua=1<<ct,!X(He.Wa,ct)){ge.a=1,_e=0;break e}}else He.ua=0;var hb=ge,M3=Ee,hM=Fe,pb=hb.s,mb=pb.xc;if(hb.c=M3,hb.i=hM,pb.md=ke(M3,mb),pb.wc=mb==0?-1:(1<<mb)-1,le){ge.xb=z7;break e}if((Ze=o(Ee*Fe))==null){ge.a=1,_e=0;break e}_e=(_e=ye(ge,Ze,0,Ee,Fe,Fe,null))&&!Pe.h;break e}return _e?(Se!=null?Se[0]=Ze:(r(Ze==null),r(le)),ge.$=0,le||Be(He)):Be(He),_e}function Ie(L,W){var le=L.c*L.i,ge=le+W+16*W;return r(L.c<=W),L.V=o(ge),L.V==null?(L.Ta=null,L.Ua=0,L.a=1,0):(L.Ta=L.V,L.Ua=L.Ba+le+W,1)}function Ue(L,W){var le=L.C,ge=W-le,Se=L.V,_e=L.Ba+L.c*le;for(r(W<=L.l.o);0<ge;){var Ee=16<ge?16:ge,Fe=L.l.ma,Pe=L.l.width,He=Pe*Ee,Ze=Fe.ca,ct=Fe.tb+Pe*le,ut=L.Ta,it=L.Ua;q(L,Ee,Se,_e),Fs(ut,it,Ze,ct,He),ue(Fe,le,le+Ee,Ze,ct,Pe),ge-=Ee,Se+=Ee*L.c,le+=Ee}r(le==W),L.C=L.Ma=W}function Ve(){this.ub=this.yd=this.td=this.Rb=0}function tt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function at(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function st(){this.Yb=function(){var L=[];return function W(le,ge,Se){for(var _e=Se[ge],Ee=0;Ee<_e&&(le.push(Se.length>ge+1?[]:0),!(Se.length<ge+1));Ee++)W(le[Ee],ge+1,Se)}(L,0,[3,11]),L}()}function dt(){this.jb=o(3),this.Wc=c([4,8],st),this.Xc=c([4,17],st)}function vt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function It(){this.ld=this.La=this.dd=this.tc=0}function Zt(){this.Na=this.la=0}function br(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fr(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qr(){this.uc=this.M=this.Nb=0,this.wa=Array(new It),this.Y=0,this.ya=Array(new fr),this.aa=0,this.l=new mr}function Cr(){this.y=o(16),this.f=o(8),this.ea=o(8)}function hr(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new Ve,this.Kc=new tt,this.ed=new vt,this.Qa=new at,this.Ic=this.$c=this.Aa=0,this.D=new Qr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,I),this.ia=0,this.pb=l(4,br),this.Pa=new dt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Cr),this.Hd=0,this.rb=Array(new Zt),this.sb=0,this.wa=Array(new It),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fr),this.L=this.aa=0,this.gd=c([4,2],It),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function mr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xr(){var L=new hr;return L!=null&&(L.a=0,L.sc="OK",L.cb=0,L.Xb=0,tp||(tp=Ct)),L}function _r(L,W,le){return L.a==0&&(L.a=W,L.sc=le,L.cb=0),0}function yr(L,W,le){return 3<=le&&L[W+0]==157&&L[W+1]==1&&L[W+2]==42}function qr(L,W){if(L==null)return 0;if(L.a=0,L.sc="OK",W==null)return _r(L,2,"null VP8Io passed to VP8GetHeaders()");var le=W.data,ge=W.w,Se=W.ha;if(4>Se)return _r(L,7,"Truncated header.");var _e=le[ge+0]|le[ge+1]<<8|le[ge+2]<<16,Ee=L.Od;if(Ee.Rb=!(1&_e),Ee.td=_e>>1&7,Ee.yd=_e>>4&1,Ee.ub=_e>>5,3<Ee.td)return _r(L,3,"Incorrect keyframe parameters.");if(!Ee.yd)return _r(L,4,"Frame not displayable.");ge+=3,Se-=3;var Fe=L.Kc;if(Ee.Rb){if(7>Se)return _r(L,7,"cannot parse picture header");if(!yr(le,ge,Se))return _r(L,3,"Bad code word");Fe.c=16383&(le[ge+4]<<8|le[ge+3]),Fe.Td=le[ge+4]>>6,Fe.i=16383&(le[ge+6]<<8|le[ge+5]),Fe.Ud=le[ge+6]>>6,ge+=7,Se-=7,L.za=Fe.c+15>>4,L.Ub=Fe.i+15>>4,W.width=Fe.c,W.height=Fe.i,W.Da=0,W.j=0,W.v=0,W.va=W.width,W.o=W.height,W.da=0,W.ib=W.width,W.hb=W.height,W.U=W.width,W.T=W.height,i((_e=L.Pa).jb,0,255,_e.jb.length),r((_e=L.Qa)!=null),_e.Cb=0,_e.Bb=0,_e.Fb=1,i(_e.Zb,0,0,_e.Zb.length),i(_e.Lb,0,0,_e.Lb)}if(Ee.ub>Se)return _r(L,7,"bad partition length");H(_e=L.m,le,ge,Ee.ub),ge+=Ee.ub,Se-=Ee.ub,Ee.Rb&&(Fe.Ld=J(_e),Fe.Kd=J(_e)),Fe=L.Qa;var Pe,He=L.Pa;if(r(_e!=null),r(Fe!=null),Fe.Cb=J(_e),Fe.Cb){if(Fe.Bb=J(_e),J(_e)){for(Fe.Fb=J(_e),Pe=0;4>Pe;++Pe)Fe.Zb[Pe]=J(_e)?Q(_e,7):0;for(Pe=0;4>Pe;++Pe)Fe.Lb[Pe]=J(_e)?Q(_e,6):0}if(Fe.Bb)for(Pe=0;3>Pe;++Pe)He.jb[Pe]=J(_e)?F(_e,8):255}else Fe.Bb=0;if(_e.Ka)return _r(L,3,"cannot parse segment header");if((Fe=L.ed).zd=J(_e),Fe.Tb=F(_e,6),Fe.wb=F(_e,3),Fe.Pc=J(_e),Fe.Pc&&J(_e)){for(He=0;4>He;++He)J(_e)&&(Fe.vd[He]=Q(_e,6));for(He=0;4>He;++He)J(_e)&&(Fe.od[He]=Q(_e,6))}if(L.L=Fe.Tb==0?0:Fe.zd?1:2,_e.Ka)return _r(L,3,"cannot parse filter header");var Ze=Se;if(Se=Pe=ge,ge=Pe+Ze,Fe=Ze,L.Xb=(1<<F(L.m,2))-1,Ze<3*(He=L.Xb))le=7;else{for(Pe+=3*He,Fe-=3*He,Ze=0;Ze<He;++Ze){var ct=le[Se+0]|le[Se+1]<<8|le[Se+2]<<16;ct>Fe&&(ct=Fe),H(L.Jc[+Ze],le,Pe,ct),Pe+=ct,Fe-=ct,Se+=3}H(L.Jc[+He],le,Pe,Fe),le=Pe<ge?0:5}if(le!=0)return _r(L,le,"cannot parse partitions");for(le=F(Pe=L.m,7),Se=J(Pe)?Q(Pe,4):0,ge=J(Pe)?Q(Pe,4):0,Fe=J(Pe)?Q(Pe,4):0,He=J(Pe)?Q(Pe,4):0,Pe=J(Pe)?Q(Pe,4):0,Ze=L.Qa,ct=0;4>ct;++ct){if(Ze.Cb){var ut=Ze.Zb[ct];Ze.Fb||(ut+=le)}else{if(0<ct){L.pb[ct]=L.pb[0];continue}ut=le}var it=L.pb[ct];it.Sc[0]=ib[Da(ut+Se,127)],it.Sc[1]=ab[Da(ut+0,127)],it.Eb[0]=2*ib[Da(ut+ge,127)],it.Eb[1]=101581*ab[Da(ut+Fe,127)]>>16,8>it.Eb[1]&&(it.Eb[1]=8),it.Qc[0]=ib[Da(ut+He,117)],it.Qc[1]=ab[Da(ut+Pe,127)],it.lc=ut+Pe}if(!Ee.Rb)return _r(L,4,"Not a key frame.");for(J(_e),Ee=L.Pa,le=0;4>le;++le){for(Se=0;8>Se;++Se)for(ge=0;3>ge;++ge)for(Fe=0;11>Fe;++Fe)He=ee(_e,H7[le][Se][ge][Fe])?F(_e,8):Q7[le][Se][ge][Fe],Ee.Wc[le][Se].Yb[ge][Fe]=He;for(Se=0;17>Se;++Se)Ee.Xc[le][Se]=Ee.Wc[le][V7[Se]]}return L.kc=J(_e),L.kc&&(L.Bd=F(_e,8)),L.cb=1}function Ct(L,W,le,ge,Se,_e,Ee){var Fe=W[Se].Yb[le];for(le=0;16>Se;++Se){if(!ee(L,Fe[le+0]))return Se;for(;!ee(L,Fe[le+1]);)if(Fe=W[++Se].Yb[0],le=0,Se==16)return 16;var Pe=W[Se+1].Yb;if(ee(L,Fe[le+2])){var He=L,Ze=0;if(ee(He,(ut=Fe)[(ct=le)+3]))if(ee(He,ut[ct+6])){for(Fe=0,ct=2*(Ze=ee(He,ut[ct+8]))+(ut=ee(He,ut[ct+9+Ze])),Ze=0,ut=R7[ct];ut[Fe];++Fe)Ze+=Ze+ee(He,ut[Fe]);Ze+=3+(8<<ct)}else ee(He,ut[ct+7])?(Ze=7+2*ee(He,165),Ze+=ee(He,145)):Ze=5+ee(He,159);else Ze=ee(He,ut[ct+4])?3+ee(He,ut[ct+5]):2;Fe=Pe[2]}else Ze=1,Fe=Pe[1];Pe=Ee+M7[Se],0>(He=L).b&&G(He);var ct,ut=He.b,it=(ct=He.Ca>>1)-(He.I>>ut)>>31;--He.b,He.Ca+=it,He.Ca|=1,He.I-=(ct+1&it)<<ut,_e[Pe]=((Ze^it)-it)*ge[(0<Se)+0]}return 16}function xr(L){var W=L.rb[L.sb-1];W.la=0,W.Na=0,i(L.zc,0,0,L.zc.length),L.ja=0}function Vr(L,W){if(L==null)return 0;if(W==null)return _r(L,2,"NULL VP8Io parameter in VP8Decode().");if(!L.cb&&!qr(L,W))return 0;if(r(L.cb),W.ac==null||W.ac(W)){W.ob&&(L.L=0);var le=cg[L.L];if(L.L==2?(L.yb=0,L.zb=0):(L.yb=W.v-le>>4,L.zb=W.j-le>>4,0>L.yb&&(L.yb=0),0>L.zb&&(L.zb=0)),L.Va=W.o+15+le>>4,L.Hb=W.va+15+le>>4,L.Hb>L.za&&(L.Hb=L.za),L.Va>L.Ub&&(L.Va=L.Ub),0<L.L){var ge=L.ed;for(le=0;4>le;++le){var Se;if(L.Qa.Cb){var _e=L.Qa.Lb[le];L.Qa.Fb||(_e+=ge.Tb)}else _e=ge.Tb;for(Se=0;1>=Se;++Se){var Ee=L.gd[le][Se],Fe=_e;if(ge.Pc&&(Fe+=ge.vd[0],Se&&(Fe+=ge.od[0])),0<(Fe=0>Fe?0:63<Fe?63:Fe)){var Pe=Fe;0<ge.wb&&(Pe=4<ge.wb?Pe>>2:Pe>>1)>9-ge.wb&&(Pe=9-ge.wb),1>Pe&&(Pe=1),Ee.dd=Pe,Ee.tc=2*Fe+Pe,Ee.ld=40<=Fe?2:15<=Fe?1:0}else Ee.tc=0;Ee.La=Se}}}le=0}else _r(L,6,"Frame setup failed"),le=L.a;if(le=le==0){if(le){L.$c=0,0<L.Aa||(L.Ic=nM);e:{le=L.Ic,ge=4*(Pe=L.za);var He=32*Pe,Ze=Pe+1,ct=0<L.L?Pe*(0<L.Aa?2:1):0,ut=(L.Aa==2?2:1)*Pe;if((Ee=ge+832+(Se=3*(16*le+cg[L.L])/2*He)+(_e=L.Fa!=null&&0<L.Fa.length?L.Kc.c*L.Kc.i:0))!=Ee)le=0;else{if(Ee>L.Vb){if(L.Vb=0,L.Ec=o(Ee),L.Fc=0,L.Ec==null){le=_r(L,1,"no memory during frame initialization.");break e}L.Vb=Ee}Ee=L.Ec,Fe=L.Fc,L.Ac=Ee,L.Bc=Fe,Fe+=ge,L.Gd=l(He,Cr),L.Hd=0,L.rb=l(Ze+1,Zt),L.sb=1,L.wa=ct?l(ct,It):null,L.Y=0,L.D.Nb=0,L.D.wa=L.wa,L.D.Y=L.Y,0<L.Aa&&(L.D.Y+=Pe),r(!0),L.oc=Ee,L.pc=Fe,Fe+=832,L.ya=l(ut,fr),L.aa=0,L.D.ya=L.ya,L.D.aa=L.aa,L.Aa==2&&(L.D.aa+=Pe),L.R=16*Pe,L.B=8*Pe,Pe=(He=cg[L.L])*L.R,He=He/2*L.B,L.sa=Ee,L.ta=Fe+Pe,L.qa=L.sa,L.ra=L.ta+16*le*L.R+He,L.Ha=L.qa,L.Ia=L.ra+8*le*L.B+He,L.$c=0,Fe+=Se,L.mb=_e?Ee:null,L.nb=_e?Fe:null,r(Fe+_e<=L.Fc+L.Vb),xr(L),i(L.Ac,L.Bc,0,ge),le=1}}if(le){if(W.ka=0,W.y=L.sa,W.O=L.ta,W.f=L.qa,W.N=L.ra,W.ea=L.Ha,W.Vd=L.Ia,W.fa=L.R,W.Rc=L.B,W.F=null,W.J=0,!eg){for(le=-255;255>=le;++le)ni[255+le]=0>le?-le:le;for(le=-1020;1020>=le;++le)rc[1020+le]=-128>le?-128:127<le?127:le;for(le=-112;112>=le;++le)ep[112+le]=-16>le?-16:15<le?15:le;for(le=-255;510>=le;++le)VA[255+le]=0>le?0:255<le?255:le;eg=1}QA=Gn,tc=ri,Xh=ui,sa=di,so=sn,Os=ci,$A=Nt,Zm=qt,Jh=pn,pd=on,md=ir,Hc=Fr,gd=Ln,HA=dn,yd=gt,Vc=ht,Zh=Ye,io=Gt,Po[0]=Qn,Po[1]=Wn,Po[2]=In,Po[3]=ji,Po[4]=Vs,Po[5]=Pn,Po[6]=Ts,Po[7]=zs,Po[8]=Mc,Po[9]=ro,zc[0]=un,zc[1]=wn,zc[2]=jn,zc[3]=er,zc[4]=wr,zc[5]=Hr,zc[6]=Er,nc[0]=xa,nc[1]=an,nc[2]=dl,nc[3]=Oo,nc[4]=se,nc[5]=Fo,nc[6]=D,le=1}else le=0}le&&(le=function(it,Bt){for(it.M=0;it.M<it.Va;++it.M){var pt,et=it.Jc[it.M&it.Xb],rt=it.m,jt=it;for(pt=0;pt<jt.za;++pt){var Ot=rt,St=jt,tr=St.Ac,Vt=St.Bc+4*pt,vr=St.zc,zt=St.ya[St.aa+pt];if(St.Qa.Bb?zt.$b=ee(Ot,St.Pa.jb[0])?2+ee(Ot,St.Pa.jb[2]):ee(Ot,St.Pa.jb[1]):zt.$b=0,St.kc&&(zt.Ad=ee(Ot,St.Bd)),zt.Za=!ee(Ot,145)+0,zt.Za){var gn=zt.Ob,Nn=0;for(St=0;4>St;++St){var An,en=vr[0+St];for(An=0;4>An;++An){en=$7[tr[Vt+An]][en];for(var Hn=m3[ee(Ot,en[0])];0<Hn;)Hn=m3[2*Hn+ee(Ot,en[Hn])];en=-Hn,tr[Vt+An]=en}s(gn,Nn,tr,Vt,4),Nn+=4,vr[0+St]=en}}else en=ee(Ot,156)?ee(Ot,128)?1:3:ee(Ot,163)?2:0,zt.Ob[0]=en,i(tr,Vt,en,4),i(vr,0,en,4);zt.Dd=ee(Ot,142)?ee(Ot,114)?ee(Ot,183)?1:3:2:0}if(jt.m.Ka)return _r(it,7,"Premature end-of-partition0 encountered.");for(;it.ja<it.za;++it.ja){if(jt=et,Ot=(rt=it).rb[rt.sb-1],tr=rt.rb[rt.sb+rt.ja],pt=rt.ya[rt.aa+rt.ja],Vt=rt.kc?pt.Ad:0)Ot.la=tr.la=0,pt.Za||(Ot.Na=tr.Na=0),pt.Hc=0,pt.Gc=0,pt.ia=0;else{var Un,$r;if(Ot=tr,tr=jt,Vt=rt.Pa.Xc,vr=rt.ya[rt.aa+rt.ja],zt=rt.pb[vr.$b],St=vr.ad,gn=0,Nn=rt.rb[rt.sb-1],en=An=0,i(St,gn,0,384),vr.Za)var Gs=0,wa=Vt[3];else{Hn=o(16);var Ws=Ot.Na+Nn.Na;if(Ws=tp(tr,Vt[1],Ws,zt.Eb,0,Hn,0),Ot.Na=Nn.Na=(0<Ws)+0,1<Ws)QA(Hn,0,St,gn);else{var ja=Hn[0]+3>>3;for(Hn=0;256>Hn;Hn+=16)St[gn+Hn]=ja}Gs=1,wa=Vt[0]}var Sn=15&Ot.la,Ra=15&Nn.la;for(Hn=0;4>Hn;++Hn){var Ma=1&Ra;for(ja=$r=0;4>ja;++ja)Sn=Sn>>1|(Ma=(Ws=tp(tr,wa,Ws=Ma+(1&Sn),zt.Sc,Gs,St,gn))>Gs)<<7,$r=$r<<2|(3<Ws?3:1<Ws?2:St[gn+0]!=0),gn+=16;Sn>>=4,Ra=Ra>>1|Ma<<7,An=(An<<8|$r)>>>0}for(wa=Sn,Gs=Ra>>4,Un=0;4>Un;Un+=2){for($r=0,Sn=Ot.la>>4+Un,Ra=Nn.la>>4+Un,Hn=0;2>Hn;++Hn){for(Ma=1&Ra,ja=0;2>ja;++ja)Ws=Ma+(1&Sn),Sn=Sn>>1|(Ma=0<(Ws=tp(tr,Vt[2],Ws,zt.Qc,0,St,gn)))<<3,$r=$r<<2|(3<Ws?3:1<Ws?2:St[gn+0]!=0),gn+=16;Sn>>=2,Ra=Ra>>1|Ma<<5}en|=$r<<4*Un,wa|=Sn<<4<<Un,Gs|=(240&Ra)<<Un}Ot.la=wa,Nn.la=Gs,vr.Hc=An,vr.Gc=en,vr.ia=43690&en?0:zt.ia,Vt=!(An|en)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[pt.$b][pt.Za],rt.wa[rt.Y+rt.ja].La|=!Vt),jt.Ka)return _r(it,7,"Premature end-of-file encountered.")}if(xr(it),rt=Bt,jt=1,pt=(et=it).D,Ot=0<et.L&&et.M>=et.zb&&et.M<=et.Va,et.Aa==0)e:{if(pt.M=et.M,pt.uc=Ot,Kh(et,pt),jt=1,pt=($r=et.D).Nb,Ot=(en=cg[et.L])*et.R,tr=en/2*et.B,Hn=16*pt*et.R,ja=8*pt*et.B,Vt=et.sa,vr=et.ta-Ot+Hn,zt=et.qa,St=et.ra-tr+ja,gn=et.Ha,Nn=et.Ia-tr+ja,Ra=(Sn=$r.M)==0,An=Sn>=et.Va-1,et.Aa==2&&Kh(et,$r),$r.uc)for(Ma=(Ws=et).D.M,r(Ws.D.uc),$r=Ws.yb;$r<Ws.Hb;++$r){Gs=$r,wa=Ma;var fi=(Si=(vs=Ws).D).Nb;Un=vs.R;var Si=Si.wa[Si.Y+Gs],ia=vs.sa,co=vs.ta+16*fi*Un+16*Gs,fl=Si.dd,hi=Si.tc;if(hi!=0)if(r(3<=hi),vs.L==1)0<Gs&&Vc(ia,co,Un,hi+4),Si.La&&io(ia,co,Un,hi),0<wa&&yd(ia,co,Un,hi+4),Si.La&&Zh(ia,co,Un,hi);else{var sc=vs.B,xd=vs.qa,zA=vs.ra+8*fi*sc+8*Gs,Gc=vs.Ha,vs=vs.Ia+8*fi*sc+8*Gs;fi=Si.ld,0<Gs&&(Zm(ia,co,Un,hi+4,fl,fi),pd(xd,zA,Gc,vs,sc,hi+4,fl,fi)),Si.La&&(Hc(ia,co,Un,hi,fl,fi),HA(xd,zA,Gc,vs,sc,hi,fl,fi)),0<wa&&($A(ia,co,Un,hi+4,fl,fi),Jh(xd,zA,Gc,vs,sc,hi+4,fl,fi)),Si.La&&(md(ia,co,Un,hi,fl,fi),gd(xd,zA,Gc,vs,sc,hi,fl,fi))}}if(et.ia&&alert("todo:DitherRow"),rt.put!=null){if($r=16*Sn,Sn=16*(Sn+1),Ra?(rt.y=et.sa,rt.O=et.ta+Hn,rt.f=et.qa,rt.N=et.ra+ja,rt.ea=et.Ha,rt.W=et.Ia+ja):($r-=en,rt.y=Vt,rt.O=vr,rt.f=zt,rt.N=St,rt.ea=gn,rt.W=Nn),An||(Sn-=en),Sn>rt.o&&(Sn=rt.o),rt.F=null,rt.J=null,et.Fa!=null&&0<et.Fa.length&&$r<Sn&&(rt.J=$n(et,rt,$r,Sn-$r),rt.F=et.mb,rt.F==null&&rt.F.length==0)){jt=_r(et,3,"Could not decode alpha data.");break e}$r<rt.j&&(en=rt.j-$r,$r=rt.j,r(!(1&en)),rt.O+=et.R*en,rt.N+=et.B*(en>>1),rt.W+=et.B*(en>>1),rt.F!=null&&(rt.J+=rt.width*en)),$r<Sn&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=$r-rt.j,rt.U=rt.va-rt.v,rt.T=Sn-$r,jt=rt.put(rt))}pt+1!=et.Ic||An||(s(et.sa,et.ta-Ot,Vt,vr+16*et.R,Ot),s(et.qa,et.ra-tr,zt,St+8*et.B,tr),s(et.Ha,et.Ia-tr,gn,Nn+8*et.B,tr))}if(!jt)return _r(it,6,"Output aborted.")}return 1}(L,W)),W.bc!=null&&W.bc(W),le&=1}return le?(L.cb=0,le):0}function jr(L,W,le,ge,Se){Se=L[W+le+32*ge]+(Se>>3),L[W+le+32*ge]=-256&Se?0>Se?0:255:Se}function Dr(L,W,le,ge,Se,_e){jr(L,W,0,le,ge+Se),jr(L,W,1,le,ge+_e),jr(L,W,2,le,ge-_e),jr(L,W,3,le,ge-Se)}function nn(L){return(20091*L>>16)+L}function bn(L,W,le,ge){var Se,_e=0,Ee=o(16);for(Se=0;4>Se;++Se){var Fe=L[W+0]+L[W+8],Pe=L[W+0]-L[W+8],He=(35468*L[W+4]>>16)-nn(L[W+12]),Ze=nn(L[W+4])+(35468*L[W+12]>>16);Ee[_e+0]=Fe+Ze,Ee[_e+1]=Pe+He,Ee[_e+2]=Pe-He,Ee[_e+3]=Fe-Ze,_e+=4,W++}for(Se=_e=0;4>Se;++Se)Fe=(L=Ee[_e+0]+4)+Ee[_e+8],Pe=L-Ee[_e+8],He=(35468*Ee[_e+4]>>16)-nn(Ee[_e+12]),jr(le,ge,0,0,Fe+(Ze=nn(Ee[_e+4])+(35468*Ee[_e+12]>>16))),jr(le,ge,1,0,Pe+He),jr(le,ge,2,0,Pe-He),jr(le,ge,3,0,Fe-Ze),_e++,ge+=32}function ci(L,W,le,ge){var Se=L[W+0]+4,_e=35468*L[W+4]>>16,Ee=nn(L[W+4]),Fe=35468*L[W+1]>>16;Dr(le,ge,0,Se+Ee,L=nn(L[W+1]),Fe),Dr(le,ge,1,Se+_e,L,Fe),Dr(le,ge,2,Se-_e,L,Fe),Dr(le,ge,3,Se-Ee,L,Fe)}function ri(L,W,le,ge,Se){bn(L,W,le,ge),Se&&bn(L,W+16,le,ge+4)}function ui(L,W,le,ge){tc(L,W+0,le,ge,1),tc(L,W+32,le,ge+128,1)}function di(L,W,le,ge){var Se;for(L=L[W+0]+4,Se=0;4>Se;++Se)for(W=0;4>W;++W)jr(le,ge,W,Se,L)}function sn(L,W,le,ge){L[W+0]&&sa(L,W+0,le,ge),L[W+16]&&sa(L,W+16,le,ge+4),L[W+32]&&sa(L,W+32,le,ge+128),L[W+48]&&sa(L,W+48,le,ge+128+4)}function Gn(L,W,le,ge){var Se,_e=o(16);for(Se=0;4>Se;++Se){var Ee=L[W+0+Se]+L[W+12+Se],Fe=L[W+4+Se]+L[W+8+Se],Pe=L[W+4+Se]-L[W+8+Se],He=L[W+0+Se]-L[W+12+Se];_e[0+Se]=Ee+Fe,_e[8+Se]=Ee-Fe,_e[4+Se]=He+Pe,_e[12+Se]=He-Pe}for(Se=0;4>Se;++Se)Ee=(L=_e[0+4*Se]+3)+_e[3+4*Se],Fe=_e[1+4*Se]+_e[2+4*Se],Pe=_e[1+4*Se]-_e[2+4*Se],He=L-_e[3+4*Se],le[ge+0]=Ee+Fe>>3,le[ge+16]=He+Pe>>3,le[ge+32]=Ee-Fe>>3,le[ge+48]=He-Pe>>3,ge+=64}function xn(L,W,le){var ge,Se=W-32,_e=Ua,Ee=255-L[Se-1];for(ge=0;ge<le;++ge){var Fe,Pe=_e,He=Ee+L[W-1];for(Fe=0;Fe<le;++Fe)L[W+Fe]=Pe[He+L[Se+Fe]];W+=32}}function Wn(L,W){xn(L,W,4)}function an(L,W){xn(L,W,8)}function wn(L,W){xn(L,W,16)}function jn(L,W){var le;for(le=0;16>le;++le)s(L,W+32*le,L,W-32,16)}function er(L,W){var le;for(le=16;0<le;--le)i(L,W,L[W-1],16),W+=32}function cn(L,W,le){var ge;for(ge=0;16>ge;++ge)i(W,le+32*ge,L,16)}function un(L,W){var le,ge=16;for(le=0;16>le;++le)ge+=L[W-1+32*le]+L[W+le-32];cn(ge>>5,L,W)}function wr(L,W){var le,ge=8;for(le=0;16>le;++le)ge+=L[W-1+32*le];cn(ge>>4,L,W)}function Hr(L,W){var le,ge=8;for(le=0;16>le;++le)ge+=L[W+le-32];cn(ge>>4,L,W)}function Er(L,W){cn(128,L,W)}function or(L,W,le){return L+2*W+le+2>>2}function In(L,W){var le,ge=W-32;for(ge=new Uint8Array([or(L[ge-1],L[ge+0],L[ge+1]),or(L[ge+0],L[ge+1],L[ge+2]),or(L[ge+1],L[ge+2],L[ge+3]),or(L[ge+2],L[ge+3],L[ge+4])]),le=0;4>le;++le)s(L,W+32*le,ge,0,ge.length)}function ji(L,W){var le=L[W-1],ge=L[W-1+32],Se=L[W-1+64],_e=L[W-1+96];fe(L,W+0,16843009*or(L[W-1-32],le,ge)),fe(L,W+32,16843009*or(le,ge,Se)),fe(L,W+64,16843009*or(ge,Se,_e)),fe(L,W+96,16843009*or(Se,_e,_e))}function Qn(L,W){var le,ge=4;for(le=0;4>le;++le)ge+=L[W+le-32]+L[W-1+32*le];for(ge>>=3,le=0;4>le;++le)i(L,W+32*le,ge,4)}function Vs(L,W){var le=L[W-1+0],ge=L[W-1+32],Se=L[W-1+64],_e=L[W-1-32],Ee=L[W+0-32],Fe=L[W+1-32],Pe=L[W+2-32],He=L[W+3-32];L[W+0+96]=or(ge,Se,L[W-1+96]),L[W+1+96]=L[W+0+64]=or(le,ge,Se),L[W+2+96]=L[W+1+64]=L[W+0+32]=or(_e,le,ge),L[W+3+96]=L[W+2+64]=L[W+1+32]=L[W+0+0]=or(Ee,_e,le),L[W+3+64]=L[W+2+32]=L[W+1+0]=or(Fe,Ee,_e),L[W+3+32]=L[W+2+0]=or(Pe,Fe,Ee),L[W+3+0]=or(He,Pe,Fe)}function Ts(L,W){var le=L[W+1-32],ge=L[W+2-32],Se=L[W+3-32],_e=L[W+4-32],Ee=L[W+5-32],Fe=L[W+6-32],Pe=L[W+7-32];L[W+0+0]=or(L[W+0-32],le,ge),L[W+1+0]=L[W+0+32]=or(le,ge,Se),L[W+2+0]=L[W+1+32]=L[W+0+64]=or(ge,Se,_e),L[W+3+0]=L[W+2+32]=L[W+1+64]=L[W+0+96]=or(Se,_e,Ee),L[W+3+32]=L[W+2+64]=L[W+1+96]=or(_e,Ee,Fe),L[W+3+64]=L[W+2+96]=or(Ee,Fe,Pe),L[W+3+96]=or(Fe,Pe,Pe)}function Pn(L,W){var le=L[W-1+0],ge=L[W-1+32],Se=L[W-1+64],_e=L[W-1-32],Ee=L[W+0-32],Fe=L[W+1-32],Pe=L[W+2-32],He=L[W+3-32];L[W+0+0]=L[W+1+64]=_e+Ee+1>>1,L[W+1+0]=L[W+2+64]=Ee+Fe+1>>1,L[W+2+0]=L[W+3+64]=Fe+Pe+1>>1,L[W+3+0]=Pe+He+1>>1,L[W+0+96]=or(Se,ge,le),L[W+0+64]=or(ge,le,_e),L[W+0+32]=L[W+1+96]=or(le,_e,Ee),L[W+1+32]=L[W+2+96]=or(_e,Ee,Fe),L[W+2+32]=L[W+3+96]=or(Ee,Fe,Pe),L[W+3+32]=or(Fe,Pe,He)}function zs(L,W){var le=L[W+0-32],ge=L[W+1-32],Se=L[W+2-32],_e=L[W+3-32],Ee=L[W+4-32],Fe=L[W+5-32],Pe=L[W+6-32],He=L[W+7-32];L[W+0+0]=le+ge+1>>1,L[W+1+0]=L[W+0+64]=ge+Se+1>>1,L[W+2+0]=L[W+1+64]=Se+_e+1>>1,L[W+3+0]=L[W+2+64]=_e+Ee+1>>1,L[W+0+32]=or(le,ge,Se),L[W+1+32]=L[W+0+96]=or(ge,Se,_e),L[W+2+32]=L[W+1+96]=or(Se,_e,Ee),L[W+3+32]=L[W+2+96]=or(_e,Ee,Fe),L[W+3+64]=or(Ee,Fe,Pe),L[W+3+96]=or(Fe,Pe,He)}function ro(L,W){var le=L[W-1+0],ge=L[W-1+32],Se=L[W-1+64],_e=L[W-1+96];L[W+0+0]=le+ge+1>>1,L[W+2+0]=L[W+0+32]=ge+Se+1>>1,L[W+2+32]=L[W+0+64]=Se+_e+1>>1,L[W+1+0]=or(le,ge,Se),L[W+3+0]=L[W+1+32]=or(ge,Se,_e),L[W+3+32]=L[W+1+64]=or(Se,_e,_e),L[W+3+64]=L[W+2+64]=L[W+0+96]=L[W+1+96]=L[W+2+96]=L[W+3+96]=_e}function Mc(L,W){var le=L[W-1+0],ge=L[W-1+32],Se=L[W-1+64],_e=L[W-1+96],Ee=L[W-1-32],Fe=L[W+0-32],Pe=L[W+1-32],He=L[W+2-32];L[W+0+0]=L[W+2+32]=le+Ee+1>>1,L[W+0+32]=L[W+2+64]=ge+le+1>>1,L[W+0+64]=L[W+2+96]=Se+ge+1>>1,L[W+0+96]=_e+Se+1>>1,L[W+3+0]=or(Fe,Pe,He),L[W+2+0]=or(Ee,Fe,Pe),L[W+1+0]=L[W+3+32]=or(le,Ee,Fe),L[W+1+32]=L[W+3+64]=or(ge,le,Ee),L[W+1+64]=L[W+3+96]=or(Se,ge,le),L[W+1+96]=or(_e,Se,ge)}function dl(L,W){var le;for(le=0;8>le;++le)s(L,W+32*le,L,W-32,8)}function Oo(L,W){var le;for(le=0;8>le;++le)i(L,W,L[W-1],8),W+=32}function Mi(L,W,le){var ge;for(ge=0;8>ge;++ge)i(W,le+32*ge,L,8)}function xa(L,W){var le,ge=8;for(le=0;8>le;++le)ge+=L[W+le-32]+L[W-1+32*le];Mi(ge>>4,L,W)}function Fo(L,W){var le,ge=4;for(le=0;8>le;++le)ge+=L[W+le-32];Mi(ge>>3,L,W)}function se(L,W){var le,ge=4;for(le=0;8>le;++le)ge+=L[W-1+32*le];Mi(ge>>3,L,W)}function D(L,W){Mi(128,L,W)}function he(L,W,le){var ge=L[W-le],Se=L[W+0],_e=3*(Se-ge)+eb[1020+L[W-2*le]-L[W+le]],Ee=tg[112+(_e+4>>3)];L[W-le]=Ua[255+ge+tg[112+(_e+3>>3)]],L[W+0]=Ua[255+Se-Ee]}function Ae(L,W,le,ge){var Se=L[W+0],_e=L[W+le];return oo[255+L[W-2*le]-L[W-le]]>ge||oo[255+_e-Se]>ge}function $e(L,W,le,ge){return 4*oo[255+L[W-le]-L[W+0]]+oo[255+L[W-2*le]-L[W+le]]<=ge}function Ge(L,W,le,ge,Se){var _e=L[W-3*le],Ee=L[W-2*le],Fe=L[W-le],Pe=L[W+0],He=L[W+le],Ze=L[W+2*le],ct=L[W+3*le];return 4*oo[255+Fe-Pe]+oo[255+Ee-He]>ge?0:oo[255+L[W-4*le]-_e]<=Se&&oo[255+_e-Ee]<=Se&&oo[255+Ee-Fe]<=Se&&oo[255+ct-Ze]<=Se&&oo[255+Ze-He]<=Se&&oo[255+He-Pe]<=Se}function gt(L,W,le,ge){var Se=2*ge+1;for(ge=0;16>ge;++ge)$e(L,W+ge,le,Se)&&he(L,W+ge,le)}function ht(L,W,le,ge){var Se=2*ge+1;for(ge=0;16>ge;++ge)$e(L,W+ge*le,1,Se)&&he(L,W+ge*le,1)}function Ye(L,W,le,ge){var Se;for(Se=3;0<Se;--Se)gt(L,W+=4*le,le,ge)}function Gt(L,W,le,ge){var Se;for(Se=3;0<Se;--Se)ht(L,W+=4,le,ge)}function Et(L,W,le,ge,Se,_e,Ee,Fe){for(_e=2*_e+1;0<Se--;){if(Ge(L,W,le,_e,Ee))if(Ae(L,W,le,Fe))he(L,W,le);else{var Pe=L,He=W,Ze=le,ct=Pe[He-2*Ze],ut=Pe[He-Ze],it=Pe[He+0],Bt=Pe[He+Ze],pt=Pe[He+2*Ze],et=27*(jt=eb[1020+3*(it-ut)+eb[1020+ct-Bt]])+63>>7,rt=18*jt+63>>7,jt=9*jt+63>>7;Pe[He-3*Ze]=Ua[255+Pe[He-3*Ze]+jt],Pe[He-2*Ze]=Ua[255+ct+rt],Pe[He-Ze]=Ua[255+ut+et],Pe[He+0]=Ua[255+it-et],Pe[He+Ze]=Ua[255+Bt-rt],Pe[He+2*Ze]=Ua[255+pt-jt]}W+=ge}}function ft(L,W,le,ge,Se,_e,Ee,Fe){for(_e=2*_e+1;0<Se--;){if(Ge(L,W,le,_e,Ee))if(Ae(L,W,le,Fe))he(L,W,le);else{var Pe=L,He=W,Ze=le,ct=Pe[He-Ze],ut=Pe[He+0],it=Pe[He+Ze],Bt=tg[112+((pt=3*(ut-ct))+4>>3)],pt=tg[112+(pt+3>>3)],et=Bt+1>>1;Pe[He-2*Ze]=Ua[255+Pe[He-2*Ze]+et],Pe[He-Ze]=Ua[255+ct+pt],Pe[He+0]=Ua[255+ut-Bt],Pe[He+Ze]=Ua[255+it-et]}W+=ge}}function Nt(L,W,le,ge,Se,_e){Et(L,W,le,1,16,ge,Se,_e)}function qt(L,W,le,ge,Se,_e){Et(L,W,1,le,16,ge,Se,_e)}function ir(L,W,le,ge,Se,_e){var Ee;for(Ee=3;0<Ee;--Ee)ft(L,W+=4*le,le,1,16,ge,Se,_e)}function Fr(L,W,le,ge,Se,_e){var Ee;for(Ee=3;0<Ee;--Ee)ft(L,W+=4,1,le,16,ge,Se,_e)}function pn(L,W,le,ge,Se,_e,Ee,Fe){Et(L,W,Se,1,8,_e,Ee,Fe),Et(le,ge,Se,1,8,_e,Ee,Fe)}function on(L,W,le,ge,Se,_e,Ee,Fe){Et(L,W,1,Se,8,_e,Ee,Fe),Et(le,ge,1,Se,8,_e,Ee,Fe)}function Ln(L,W,le,ge,Se,_e,Ee,Fe){ft(L,W+4*Se,Se,1,8,_e,Ee,Fe),ft(le,ge+4*Se,Se,1,8,_e,Ee,Fe)}function dn(L,W,le,ge,Se,_e,Ee,Fe){ft(L,W+4,1,Se,8,_e,Ee,Fe),ft(le,ge+4,1,Se,8,_e,Ee,Fe)}function Ut(){this.ba=new lr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qi(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function zr(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new k}function ys(){this.xb=this.a=0,this.l=new mr,this.ca=new lr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new zr,this.ab=0,this.gc=l(4,Qi),this.Oc=0}function Lt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new mr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xt(L,W,le,ge,Se,_e,Ee){for(L=L==null?0:L[W+0],W=0;W<Ee;++W)Se[_e+W]=L+le[ge+W]&255,L=Se[_e+W]}function dr(L,W,le,ge,Se,_e,Ee){var Fe;if(L==null)Xt(null,null,le,ge,Se,_e,Ee);else for(Fe=0;Fe<Ee;++Fe)Se[_e+Fe]=L[W+Fe]+le[ge+Fe]&255}function Dn(L,W,le,ge,Se,_e,Ee){if(L==null)Xt(null,null,le,ge,Se,_e,Ee);else{var Fe,Pe=L[W+0],He=Pe,Ze=Pe;for(Fe=0;Fe<Ee;++Fe)He=Ze+(Pe=L[W+Fe])-He,Ze=le[ge+Fe]+(-256&He?0>He?0:255:He)&255,He=Pe,Se[_e+Fe]=Ze}}function $n(L,W,le,ge){var Se=W.width,_e=W.o;if(r(L!=null&&W!=null),0>le||0>=ge||le+ge>_e)return null;if(!L.Cc){if(L.ga==null){var Ee;if(L.ga=new Lt,(Ee=L.ga==null)||(Ee=W.width*W.o,r(L.Gb.length==0),L.Gb=o(Ee),L.Uc=0,L.Gb==null?Ee=0:(L.mb=L.Gb,L.nb=L.Uc,L.rc=null,Ee=1),Ee=!Ee),!Ee){Ee=L.ga;var Fe=L.Fa,Pe=L.P,He=L.qc,Ze=L.mb,ct=L.nb,ut=Pe+1,it=He-1,Bt=Ee.l;if(r(Fe!=null&&Ze!=null&&W!=null),Kc[0]=null,Kc[1]=Xt,Kc[2]=dr,Kc[3]=Dn,Ee.ca=Ze,Ee.tb=ct,Ee.c=W.width,Ee.i=W.height,r(0<Ee.c&&0<Ee.i),1>=He)W=0;else if(Ee.$a=Fe[Pe+0]>>0&3,Ee.Z=Fe[Pe+0]>>2&3,Ee.Lc=Fe[Pe+0]>>4&3,Pe=Fe[Pe+0]>>6&3,0>Ee.$a||1<Ee.$a||4<=Ee.Z||1<Ee.Lc||Pe)W=0;else if(Bt.put=Tr,Bt.ac=Ke,Bt.bc=Fn,Bt.ma=Ee,Bt.width=W.width,Bt.height=W.height,Bt.Da=W.Da,Bt.v=W.v,Bt.va=W.va,Bt.j=W.j,Bt.o=W.o,Ee.$a)e:{r(Ee.$a==1),W=Oe();t:for(;;){if(W==null){W=0;break e}if(r(Ee!=null),Ee.mc=W,W.c=Ee.c,W.i=Ee.i,W.l=Ee.l,W.l.ma=Ee,W.l.width=Ee.c,W.l.height=Ee.i,W.a=0,K(W.m,Fe,ut,it),!Le(Ee.c,Ee.i,1,W,null)||(W.ab==1&&W.gc[0].hc==3&&Z(W.s)?(Ee.ic=1,Fe=W.c*W.i,W.Ta=null,W.Ua=0,W.V=o(Fe),W.Ba=0,W.V==null?(W.a=1,W=0):W=1):(Ee.ic=0,W=Ie(W,Ee.c)),!W))break t;W=1;break e}Ee.mc=null,W=0}else W=it>=Ee.c*Ee.i;Ee=!W}if(Ee)return null;L.ga.Lc!=1?L.Ga=0:ge=_e-le}r(L.ga!=null),r(le+ge<=_e);e:{if(W=(Fe=L.ga).c,_e=Fe.l.o,Fe.$a==0){if(ut=L.rc,it=L.Vc,Bt=L.Fa,Pe=L.P+1+le*W,He=L.mb,Ze=L.nb+le*W,r(Pe<=L.P+L.qc),Fe.Z!=0)for(r(Kc[Fe.Z]!=null),Ee=0;Ee<ge;++Ee)Kc[Fe.Z](ut,it,Bt,Pe,He,Ze,W),ut=He,it=Ze,Ze+=W,Pe+=W;else for(Ee=0;Ee<ge;++Ee)s(He,Ze,Bt,Pe,W),ut=He,it=Ze,Ze+=W,Pe+=W;L.rc=ut,L.Vc=it}else{if(r(Fe.mc!=null),W=le+ge,r((Ee=Fe.mc)!=null),r(W<=Ee.i),Ee.C>=W)W=1;else if(Fe.ic||lt(),Fe.ic){Fe=Ee.V,ut=Ee.Ba,it=Ee.c;var pt=Ee.i,et=(Bt=1,Pe=Ee.$/it,He=Ee.$%it,Ze=Ee.m,ct=Ee.s,Ee.$),rt=it*pt,jt=it*W,Ot=ct.wc,St=et<jt?Jr(ct,He,Pe):null;r(et<=rt),r(W<=pt),r(Z(ct));t:for(;;){for(;!Ze.h&&et<jt;){if(He&Ot||(St=Jr(ct,He,Pe)),r(St!=null),z(Ze),256>(pt=hn(St.G[0],St.H[0],Ze)))Fe[ut+et]=pt,++et,++He>=it&&(He=0,++Pe<=W&&!(Pe%16)&&me(Ee,Pe));else{if(!(280>pt)){Bt=0;break t}pt=Or(pt-256,Ze);var tr,Vt=hn(St.G[4],St.H[4],Ze);if(z(Ze),!(et>=(Vt=Yr(it,Vt=Or(Vt,Ze)))&&rt-et>=pt)){Bt=0;break t}for(tr=0;tr<pt;++tr)Fe[ut+et+tr]=Fe[ut+et+tr-Vt];for(et+=pt,He+=pt;He>=it;)He-=it,++Pe<=W&&!(Pe%16)&&me(Ee,Pe);et<jt&&He&Ot&&(St=Jr(ct,He,Pe))}r(Ze.h==U(Ze))}me(Ee,Pe>W?W:Pe);break t}!Bt||Ze.h&&et<rt?(Bt=0,Ee.a=Ze.h?5:3):Ee.$=et,W=Bt}else W=ye(Ee,Ee.V,Ee.Ba,Ee.c,Ee.i,W,Ue);if(!W){ge=0;break e}}le+ge>=_e&&(L.Cc=1),ge=1}if(!ge)return null;if(L.Cc&&((ge=L.ga)!=null&&(ge.mc=null),L.ga=null,0<L.Ga))return alert("todo:WebPDequantizeLevels"),null}return L.nb+le*Se}function ne(L,W,le,ge,Se,_e){for(;0<Se--;){var Ee,Fe=L,Pe=W+(le?1:0),He=L,Ze=W+(le?0:3);for(Ee=0;Ee<ge;++Ee){var ct=He[Ze+4*Ee];ct!=255&&(ct*=32897,Fe[Pe+4*Ee+0]=Fe[Pe+4*Ee+0]*ct>>23,Fe[Pe+4*Ee+1]=Fe[Pe+4*Ee+1]*ct>>23,Fe[Pe+4*Ee+2]=Fe[Pe+4*Ee+2]*ct>>23)}W+=_e}}function Ne(L,W,le,ge,Se){for(;0<ge--;){var _e;for(_e=0;_e<le;++_e){var Ee=L[W+2*_e+0],Fe=15&(He=L[W+2*_e+1]),Pe=4369*Fe,He=(240&He|He>>4)*Pe>>16;L[W+2*_e+0]=(240&Ee|Ee>>4)*Pe>>16&240|(15&Ee|Ee<<4)*Pe>>16>>4&15,L[W+2*_e+1]=240&He|Fe}W+=Se}}function ze(L,W,le,ge,Se,_e,Ee,Fe){var Pe,He,Ze=255;for(He=0;He<Se;++He){for(Pe=0;Pe<ge;++Pe){var ct=L[W+Pe];_e[Ee+4*Pe]=ct,Ze&=ct}W+=le,Ee+=Fe}return Ze!=255}function Je(L,W,le,ge,Se){var _e;for(_e=0;_e<Se;++_e)le[ge+_e]=L[W+_e]>>8}function lt(){ao=ne,qn=Ne,Yn=ze,Fs=Je}function mt(L,W,le){j[L]=function(ge,Se,_e,Ee,Fe,Pe,He,Ze,ct,ut,it,Bt,pt,et,rt,jt,Ot){var St,tr=Ot-1>>1,Vt=Fe[Pe+0]|He[Ze+0]<<16,vr=ct[ut+0]|it[Bt+0]<<16;r(ge!=null);var zt=3*Vt+vr+131074>>2;for(W(ge[Se+0],255&zt,zt>>16,pt,et),_e!=null&&(zt=3*vr+Vt+131074>>2,W(_e[Ee+0],255&zt,zt>>16,rt,jt)),St=1;St<=tr;++St){var gn=Fe[Pe+St]|He[Ze+St]<<16,Nn=ct[ut+St]|it[Bt+St]<<16,An=Vt+gn+vr+Nn+524296,en=An+2*(gn+vr)>>3;zt=en+Vt>>1,Vt=(An=An+2*(Vt+Nn)>>3)+gn>>1,W(ge[Se+2*St-1],255&zt,zt>>16,pt,et+(2*St-1)*le),W(ge[Se+2*St-0],255&Vt,Vt>>16,pt,et+(2*St-0)*le),_e!=null&&(zt=An+vr>>1,Vt=en+Nn>>1,W(_e[Ee+2*St-1],255&zt,zt>>16,rt,jt+(2*St-1)*le),W(_e[Ee+2*St+0],255&Vt,Vt>>16,rt,jt+(2*St+0)*le)),Vt=gn,vr=Nn}1&Ot||(zt=3*Vt+vr+131074>>2,W(ge[Se+Ot-1],255&zt,zt>>16,pt,et+(Ot-1)*le),_e!=null&&(zt=3*vr+Vt+131074>>2,W(_e[Ee+Ot-1],255&zt,zt>>16,rt,jt+(Ot-1)*le)))}}function Tt(){lo[rg]=K7,lo[ng]=y3,lo[f3]=G7,lo[sg]=x3,lo[ig]=v3,lo[tb]=b3,lo[h3]=W7,lo[rb]=y3,lo[nb]=x3,lo[ag]=v3,lo[sb]=b3}function Jt(L){return L&~q7?0>L?0:255:L>>w3}function gr(L,W){return Jt((19077*L>>8)+(26149*W>>8)-14234)}function Ur(L,W,le){return Jt((19077*L>>8)-(6419*W>>8)-(13320*le>>8)+8708)}function Ir(L,W){return Jt((19077*L>>8)+(33050*W>>8)-17685)}function ln(L,W,le,ge,Se){ge[Se+0]=gr(L,le),ge[Se+1]=Ur(L,W,le),ge[Se+2]=Ir(L,W)}function us(L,W,le,ge,Se){ge[Se+0]=Ir(L,W),ge[Se+1]=Ur(L,W,le),ge[Se+2]=gr(L,le)}function xs(L,W,le,ge,Se){var _e=Ur(L,W,le);W=_e<<3&224|Ir(L,W)>>3,ge[Se+0]=248&gr(L,le)|_e>>5,ge[Se+1]=W}function Ks(L,W,le,ge,Se){var _e=240&Ir(L,W)|15;ge[Se+0]=240&gr(L,le)|Ur(L,W,le)>>4,ge[Se+1]=_e}function $i(L,W,le,ge,Se){ge[Se+0]=255,ln(L,W,le,ge,Se+1)}function Ai(L,W,le,ge,Se){us(L,W,le,ge,Se),ge[Se+3]=255}function Io(L,W,le,ge,Se){ln(L,W,le,ge,Se),ge[Se+3]=255}function Da(L,W){return 0>L?0:L>W?W:L}function Al(L,W,le){j[L]=function(ge,Se,_e,Ee,Fe,Pe,He,Ze,ct){for(var ut=Ze+(-2&ct)*le;Ze!=ut;)W(ge[Se+0],_e[Ee+0],Fe[Pe+0],He,Ze),W(ge[Se+1],_e[Ee+0],Fe[Pe+0],He,Ze+le),Se+=2,++Ee,++Pe,Ze+=2*le;1&ct&&W(ge[Se+0],_e[Ee+0],Fe[Pe+0],He,Ze)}}function qm(L,W,le){return le==0?L==0?W==0?6:5:W==0?4:0:le}function zh(L,W,le,ge,Se){switch(L>>>30){case 3:tc(W,le,ge,Se,0);break;case 2:Os(W,le,ge,Se);break;case 1:sa(W,le,ge,Se)}}function Kh(L,W){var le,ge,Se=W.M,_e=W.Nb,Ee=L.oc,Fe=L.pc+40,Pe=L.oc,He=L.pc+584,Ze=L.oc,ct=L.pc+600;for(le=0;16>le;++le)Ee[Fe+32*le-1]=129;for(le=0;8>le;++le)Pe[He+32*le-1]=129,Ze[ct+32*le-1]=129;for(0<Se?Ee[Fe-1-32]=Pe[He-1-32]=Ze[ct-1-32]=129:(i(Ee,Fe-32-1,127,21),i(Pe,He-32-1,127,9),i(Ze,ct-32-1,127,9)),ge=0;ge<L.za;++ge){var ut=W.ya[W.aa+ge];if(0<ge){for(le=-1;16>le;++le)s(Ee,Fe+32*le-4,Ee,Fe+32*le+12,4);for(le=-1;8>le;++le)s(Pe,He+32*le-4,Pe,He+32*le+4,4),s(Ze,ct+32*le-4,Ze,ct+32*le+4,4)}var it=L.Gd,Bt=L.Hd+ge,pt=ut.ad,et=ut.Hc;if(0<Se&&(s(Ee,Fe-32,it[Bt].y,0,16),s(Pe,He-32,it[Bt].f,0,8),s(Ze,ct-32,it[Bt].ea,0,8)),ut.Za){var rt=Ee,jt=Fe-32+16;for(0<Se&&(ge>=L.za-1?i(rt,jt,it[Bt].y[15],4):s(rt,jt,it[Bt+1].y,0,4)),le=0;4>le;le++)rt[jt+128+le]=rt[jt+256+le]=rt[jt+384+le]=rt[jt+0+le];for(le=0;16>le;++le,et<<=2)rt=Ee,jt=Fe+N3[le],Po[ut.Ob[le]](rt,jt),zh(et,pt,16*+le,rt,jt)}else if(rt=qm(ge,Se,ut.Ob[0]),zc[rt](Ee,Fe),et!=0)for(le=0;16>le;++le,et<<=2)zh(et,pt,16*+le,Ee,Fe+N3[le]);for(le=ut.Gc,rt=qm(ge,Se,ut.Dd),nc[rt](Pe,He),nc[rt](Ze,ct),et=pt,rt=Pe,jt=He,255&(ut=le>>0)&&(170&ut?Xh(et,256,rt,jt):so(et,256,rt,jt)),ut=Ze,et=ct,255&(le>>=8)&&(170&le?Xh(pt,320,ut,et):so(pt,320,ut,et)),Se<L.Ub-1&&(s(it[Bt].y,0,Ee,Fe+480,16),s(it[Bt].f,0,Pe,He+224,8),s(it[Bt].ea,0,Ze,ct+224,8)),le=8*_e*L.B,it=L.sa,Bt=L.ta+16*ge+16*_e*L.R,pt=L.qa,ut=L.ra+8*ge+le,et=L.Ha,rt=L.Ia+8*ge+le,le=0;16>le;++le)s(it,Bt+le*L.R,Ee,Fe+32*le,16);for(le=0;8>le;++le)s(pt,ut+le*L.B,Pe,He+32*le,8),s(et,rt+le*L.B,Ze,ct+32*le,8)}}function PA(L,W,le,ge,Se,_e,Ee,Fe,Pe){var He=[0],Ze=[0],ct=0,ut=Pe!=null?Pe.kd:0,it=Pe??new pr;if(L==null||12>le)return 7;it.data=L,it.w=W,it.ha=le,W=[W],le=[le],it.gb=[it.gb];e:{var Bt=W,pt=le,et=it.gb;if(r(L!=null),r(pt!=null),r(et!=null),et[0]=0,12<=pt[0]&&!n(L,Bt[0],"RIFF")){if(n(L,Bt[0]+8,"WEBP")){et=3;break e}var rt=xe(L,Bt[0]+4);if(12>rt||4294967286<rt){et=3;break e}if(ut&&rt>pt[0]-8){et=7;break e}et[0]=rt,Bt[0]+=12,pt[0]-=12}et=0}if(et!=0)return et;for(rt=0<it.gb[0],le=le[0];;){e:{var jt=L;pt=W,et=le;var Ot=He,St=Ze,tr=Bt=[0];if((zt=ct=[ct])[0]=0,8>et[0])et=7;else{if(!n(jt,pt[0],"VP8X")){if(xe(jt,pt[0]+4)!=10){et=3;break e}if(18>et[0]){et=7;break e}var Vt=xe(jt,pt[0]+8),vr=1+ae(jt,pt[0]+12);if(2147483648<=vr*(jt=1+ae(jt,pt[0]+15))){et=3;break e}tr!=null&&(tr[0]=Vt),Ot!=null&&(Ot[0]=vr),St!=null&&(St[0]=jt),pt[0]+=18,et[0]-=18,zt[0]=1}et=0}}if(ct=ct[0],Bt=Bt[0],et!=0)return et;if(pt=!!(2&Bt),!rt&&ct)return 3;if(_e!=null&&(_e[0]=!!(16&Bt)),Ee!=null&&(Ee[0]=pt),Fe!=null&&(Fe[0]=0),Ee=He[0],Bt=Ze[0],ct&&pt&&Pe==null){et=0;break}if(4>le){et=7;break}if(rt&&ct||!rt&&!ct&&!n(L,W[0],"ALPH")){le=[le],it.na=[it.na],it.P=[it.P],it.Sa=[it.Sa];e:{Vt=L,et=W,rt=le;var zt=it.gb;Ot=it.na,St=it.P,tr=it.Sa,vr=22,r(Vt!=null),r(rt!=null),jt=et[0];var gn=rt[0];for(r(Ot!=null),r(tr!=null),Ot[0]=null,St[0]=null,tr[0]=0;;){if(et[0]=jt,rt[0]=gn,8>gn){et=7;break e}var Nn=xe(Vt,jt+4);if(4294967286<Nn){et=3;break e}var An=8+Nn+1&-2;if(vr+=An,0<zt&&vr>zt){et=3;break e}if(!n(Vt,jt,"VP8 ")||!n(Vt,jt,"VP8L")){et=0;break e}if(gn[0]<An){et=7;break e}n(Vt,jt,"ALPH")||(Ot[0]=Vt,St[0]=jt+8,tr[0]=Nn),jt+=An,gn-=An}}if(le=le[0],it.na=it.na[0],it.P=it.P[0],it.Sa=it.Sa[0],et!=0)break}le=[le],it.Ja=[it.Ja],it.xa=[it.xa];e:if(zt=L,et=W,rt=le,Ot=it.gb[0],St=it.Ja,tr=it.xa,Vt=et[0],jt=!n(zt,Vt,"VP8 "),vr=!n(zt,Vt,"VP8L"),r(zt!=null),r(rt!=null),r(St!=null),r(tr!=null),8>rt[0])et=7;else{if(jt||vr){if(zt=xe(zt,Vt+4),12<=Ot&&zt>Ot-12){et=3;break e}if(ut&&zt>rt[0]-8){et=7;break e}St[0]=zt,et[0]+=8,rt[0]-=8,tr[0]=vr}else tr[0]=5<=rt[0]&&zt[Vt+0]==47&&!(zt[Vt+4]>>5),St[0]=rt[0];et=0}if(le=le[0],it.Ja=it.Ja[0],it.xa=it.xa[0],W=W[0],et!=0)break;if(4294967286<it.Ja)return 3;if(Fe==null||pt||(Fe[0]=it.xa?2:1),Ee=[Ee],Bt=[Bt],it.xa){if(5>le){et=7;break}Fe=Ee,ut=Bt,pt=_e,L==null||5>le?L=0:5<=le&&L[W+0]==47&&!(L[W+4]>>5)?(rt=[0],zt=[0],Ot=[0],K(St=new O,L,W,le),Wt(St,rt,zt,Ot)?(Fe!=null&&(Fe[0]=rt[0]),ut!=null&&(ut[0]=zt[0]),pt!=null&&(pt[0]=Ot[0]),L=1):L=0):L=0}else{if(10>le){et=7;break}Fe=Bt,L==null||10>le||!yr(L,W+3,le-3)?L=0:(ut=L[W+0]|L[W+1]<<8|L[W+2]<<16,pt=16383&(L[W+7]<<8|L[W+6]),L=16383&(L[W+9]<<8|L[W+8]),1&ut||3<(ut>>1&7)||!(ut>>4&1)||ut>>5>=it.Ja||!pt||!L?L=0:(Ee&&(Ee[0]=pt),Fe&&(Fe[0]=L),L=1))}if(!L||(Ee=Ee[0],Bt=Bt[0],ct&&(He[0]!=Ee||Ze[0]!=Bt)))return 3;Pe!=null&&(Pe[0]=it,Pe.offset=W-Pe.w,r(4294967286>W-Pe.w),r(Pe.offset==Pe.ha-le));break}return et==0||et==7&&ct&&Pe==null?(_e!=null&&(_e[0]|=it.na!=null&&0<it.na.length),ge!=null&&(ge[0]=Ee),Se!=null&&(Se[0]=Bt),0):et}function Gh(L,W,le){var ge=W.width,Se=W.height,_e=0,Ee=0,Fe=ge,Pe=Se;if(W.Da=L!=null&&0<L.Da,W.Da&&(Fe=L.cd,Pe=L.bd,_e=L.v,Ee=L.j,11>le||(_e&=-2,Ee&=-2),0>_e||0>Ee||0>=Fe||0>=Pe||_e+Fe>ge||Ee+Pe>Se))return 0;if(W.v=_e,W.j=Ee,W.va=_e+Fe,W.o=Ee+Pe,W.U=Fe,W.T=Pe,W.da=L!=null&&0<L.da,W.da){if(!ve(Fe,Pe,le=[L.ib],_e=[L.hb]))return 0;W.ib=le[0],W.hb=_e[0]}return W.ob=L!=null&&L.ob,W.Kb=L==null||!L.Sd,W.da&&(W.ob=W.ib<3*ge/4&&W.hb<3*Se/4,W.Kb=0),1}function Wh(L){if(L==null)return 2;if(11>L.S){var W=L.f.RGBA;W.fb+=(L.height-1)*W.A,W.A=-W.A}else W=L.f.kb,L=L.height,W.O+=(L-1)*W.fa,W.fa=-W.fa,W.N+=(L-1>>1)*W.Ab,W.Ab=-W.Ab,W.W+=(L-1>>1)*W.Db,W.Db=-W.Db,W.F!=null&&(W.J+=(L-1)*W.lb,W.lb=-W.lb);return 0}function LA(L,W,le,ge){if(ge==null||0>=L||0>=W)return 2;if(le!=null){if(le.Da){var Se=le.cd,_e=le.bd,Ee=-2&le.v,Fe=-2&le.j;if(0>Ee||0>Fe||0>=Se||0>=_e||Ee+Se>L||Fe+_e>W)return 2;L=Se,W=_e}if(le.da){if(!ve(L,W,Se=[le.ib],_e=[le.hb]))return 2;L=Se[0],W=_e[0]}}ge.width=L,ge.height=W;e:{var Pe=ge.width,He=ge.height;if(L=ge.S,0>=Pe||0>=He||!(L>=rg&&13>L))L=2;else{if(0>=ge.Rd&&ge.sd==null){Ee=_e=Se=W=0;var Ze=(Fe=Pe*S3[L])*He;if(11>L||(_e=(He+1)/2*(W=(Pe+1)/2),L==12&&(Ee=(Se=Pe)*He)),(He=o(Ze+2*_e+Ee))==null){L=1;break e}ge.sd=He,11>L?((Pe=ge.f.RGBA).eb=He,Pe.fb=0,Pe.A=Fe,Pe.size=Ze):((Pe=ge.f.kb).y=He,Pe.O=0,Pe.fa=Fe,Pe.Fd=Ze,Pe.f=He,Pe.N=0+Ze,Pe.Ab=W,Pe.Cd=_e,Pe.ea=He,Pe.W=0+Ze+_e,Pe.Db=W,Pe.Ed=_e,L==12&&(Pe.F=He,Pe.J=0+Ze+2*_e),Pe.Tc=Ee,Pe.lb=Se)}if(W=1,Se=ge.S,_e=ge.width,Ee=ge.height,Se>=rg&&13>Se)if(11>Se)L=ge.f.RGBA,W&=(Fe=Math.abs(L.A))*(Ee-1)+_e<=L.size,W&=Fe>=_e*S3[Se],W&=L.eb!=null;else{L=ge.f.kb,Fe=(_e+1)/2,Ze=(Ee+1)/2,Pe=Math.abs(L.fa),He=Math.abs(L.Ab);var ct=Math.abs(L.Db),ut=Math.abs(L.lb),it=ut*(Ee-1)+_e;W&=Pe*(Ee-1)+_e<=L.Fd,W&=He*(Ze-1)+Fe<=L.Cd,W=(W&=ct*(Ze-1)+Fe<=L.Ed)&Pe>=_e&He>=Fe&ct>=Fe,W&=L.y!=null,W&=L.f!=null,W&=L.ea!=null,Se==12&&(W&=ut>=_e,W&=it<=L.Tc,W&=L.F!=null)}else W=0;L=W?0:2}}return L!=0||le!=null&&le.fd&&(L=Wh(ge)),L}var Ni=64,DA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],UA=24,RA=32,qh=8,va=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];we("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(L){return L},j.Predictor2=function(L,W,le){return W[le+0]},j.Predictor3=function(L,W,le){return W[le+1]},j.Predictor4=function(L,W,le){return W[le-1]},j.Predictor5=function(L,W,le){return pe(pe(L,W[le+1]),W[le+0])},j.Predictor6=function(L,W,le){return pe(L,W[le-1])},j.Predictor7=function(L,W,le){return pe(L,W[le+0])},j.Predictor8=function(L,W,le){return pe(W[le-1],W[le+0])},j.Predictor9=function(L,W,le){return pe(W[le+0],W[le+1])},j.Predictor10=function(L,W,le){return pe(pe(L,W[le-1]),pe(W[le+0],W[le+1]))},j.Predictor11=function(L,W,le){var ge=W[le+0];return 0>=be(ge>>24&255,L>>24&255,(W=W[le-1])>>24&255)+be(ge>>16&255,L>>16&255,W>>16&255)+be(ge>>8&255,L>>8&255,W>>8&255)+be(255&ge,255&L,255&W)?ge:L},j.Predictor12=function(L,W,le){var ge=W[le+0];return(je((L>>24&255)+(ge>>24&255)-((W=W[le-1])>>24&255))<<24|je((L>>16&255)+(ge>>16&255)-(W>>16&255))<<16|je((L>>8&255)+(ge>>8&255)-(W>>8&255))<<8|je((255&L)+(255&ge)-(255&W)))>>>0},j.Predictor13=function(L,W,le){var ge=W[le-1];return(Te((L=pe(L,W[le+0]))>>24&255,ge>>24&255)<<24|Te(L>>16&255,ge>>16&255)<<16|Te(L>>8&255,ge>>8&255)<<8|Te(L>>0&255,ge>>0&255))>>>0};var Z1=j.PredictorAdd0;j.PredictorAdd1=De,we("Predictor2","PredictorAdd2"),we("Predictor3","PredictorAdd3"),we("Predictor4","PredictorAdd4"),we("Predictor5","PredictorAdd5"),we("Predictor6","PredictorAdd6"),we("Predictor7","PredictorAdd7"),we("Predictor8","PredictorAdd8"),we("Predictor9","PredictorAdd9"),we("Predictor10","PredictorAdd10"),we("Predictor11","PredictorAdd11"),we("Predictor12","PredictorAdd12"),we("Predictor13","PredictorAdd13");var Yh=j.PredictorAdd2;We("ColorIndexInverseTransform","MapARGB","32b",function(L){return L>>8&255},function(L){return L}),We("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(L){return L},function(L){return L>>8&255});var Ym,no=j.ColorIndexInverseTransform,MA=j.MapARGB,Xm=j.VP8LColorIndexInverseTransformAlpha,Jm=j.MapAlpha,Qc=j.VP8LPredictorsAdd=[];Qc.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var hd,ba,na,$c,Zl,ec,QA,tc,Os,Xh,sa,so,$A,Zm,Jh,pd,md,Hc,gd,HA,yd,Vc,Zh,io,ao,qn,Yn,Fs,ni=o(511),rc=o(2041),ep=o(225),VA=o(767),eg=0,eb=rc,tg=ep,Ua=VA,oo=ni,rg=0,ng=1,f3=2,sg=3,ig=4,tb=5,h3=6,rb=7,nb=8,ag=9,sb=10,O7=[2,3,7],F7=[3,3,11],p3=[280,256,256,256,40],I7=[0,1,1,1,0],P7=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],L7=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],D7=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],U7=8,ib=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ab=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tp=null,R7=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],M7=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],m3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Q7=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$7=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],H7=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],V7=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zc=[],Po=[],nc=[],z7=1,g3=2,Kc=[],lo=[];mt("UpsampleRgbLinePair",ln,3),mt("UpsampleBgrLinePair",us,3),mt("UpsampleRgbaLinePair",Io,4),mt("UpsampleBgraLinePair",Ai,4),mt("UpsampleArgbLinePair",$i,4),mt("UpsampleRgba4444LinePair",Ks,2),mt("UpsampleRgb565LinePair",xs,2);var K7=j.UpsampleRgbLinePair,G7=j.UpsampleBgrLinePair,y3=j.UpsampleRgbaLinePair,x3=j.UpsampleBgraLinePair,v3=j.UpsampleArgbLinePair,b3=j.UpsampleRgba4444LinePair,W7=j.UpsampleRgb565LinePair,og=16,lg=1<<og-1,rp=-227,ob=482,w3=6,q7=(256<<w3)-1,j3=0,Y7=o(256),X7=o(256),J7=o(256),Z7=o(256),eM=o(ob-rp),tM=o(ob-rp);Al("YuvToRgbRow",ln,3),Al("YuvToBgrRow",us,3),Al("YuvToRgbaRow",Io,4),Al("YuvToBgraRow",Ai,4),Al("YuvToArgbRow",$i,4),Al("YuvToRgba4444Row",Ks,2),Al("YuvToRgb565Row",xs,2);var N3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],cg=[0,2,8],rM=[8,7,6,4,4,2,2,2,1,1,1,1],nM=1;this.WebPDecodeRGBA=function(L,W,le,ge,Se){var _e=ng,Ee=new Ut,Fe=new lr;Ee.ba=Fe,Fe.S=_e,Fe.width=[Fe.width],Fe.height=[Fe.height];var Pe=Fe.width,He=Fe.height,Ze=new sr;if(Ze==null||L==null)var ct=2;else r(Ze!=null),ct=PA(L,W,le,Ze.width,Ze.height,Ze.Pd,Ze.Qd,Ze.format,null);if(ct!=0?Pe=0:(Pe!=null&&(Pe[0]=Ze.width[0]),He!=null&&(He[0]=Ze.height[0]),Pe=1),Pe){Fe.width=Fe.width[0],Fe.height=Fe.height[0],ge!=null&&(ge[0]=Fe.width),Se!=null&&(Se[0]=Fe.height);e:{if(ge=new mr,(Se=new pr).data=L,Se.w=W,Se.ha=le,Se.kd=1,W=[0],r(Se!=null),((L=PA(Se.data,Se.w,Se.ha,null,null,null,W,null,Se))==0||L==7)&&W[0]&&(L=4),(W=L)==0){if(r(Ee!=null),ge.data=Se.data,ge.w=Se.w+Se.offset,ge.ha=Se.ha-Se.offset,ge.put=Tr,ge.ac=Ke,ge.bc=Fn,ge.ma=Ee,Se.xa){if((L=Oe())==null){Ee=1;break e}if(function(ut,it){var Bt=[0],pt=[0],et=[0];t:for(;;){if(ut==null)return 0;if(it==null)return ut.a=2,0;if(ut.l=it,ut.a=0,K(ut.m,it.data,it.w,it.ha),!Wt(ut.m,Bt,pt,et)){ut.a=3;break t}if(ut.xb=g3,it.width=Bt[0],it.height=pt[0],!Le(Bt[0],pt[0],1,ut,null))break t;return 1}return r(ut.a!=0),0}(L,ge)){if(ge=(W=LA(ge.width,ge.height,Ee.Oa,Ee.ba))==0){t:{ge=L;r:for(;;){if(ge==null){ge=0;break t}if(r(ge.s.yc!=null),r(ge.s.Ya!=null),r(0<ge.s.Wb),r((le=ge.l)!=null),r((Se=le.ma)!=null),ge.xb!=0){if(ge.ca=Se.ba,ge.tb=Se.tb,r(ge.ca!=null),!Gh(Se.Oa,le,sg)){ge.a=2;break r}if(!Ie(ge,le.width)||le.da)break r;if((le.da||Pt(ge.ca.S))&&lt(),11>ge.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ge.ca.f.kb.F!=null&&lt()),ge.Pb&&0<ge.s.ua&&ge.s.vb.X==null&&!X(ge.s.vb,ge.s.Wa.Xa)){ge.a=1;break r}ge.xb=0}if(!ye(ge,ge.V,ge.Ba,ge.c,ge.i,le.o,ce))break r;Se.Dc=ge.Ma,ge=1;break t}r(ge.a!=0),ge=0}ge=!ge}ge&&(W=L.a)}else W=L.a}else{if((L=new Xr)==null){Ee=1;break e}if(L.Fa=Se.na,L.P=Se.P,L.qc=Se.Sa,qr(L,ge)){if((W=LA(ge.width,ge.height,Ee.Oa,Ee.ba))==0){if(L.Aa=0,le=Ee.Oa,r((Se=L)!=null),le!=null){if(0<(Pe=0>(Pe=le.Md)?0:100<Pe?255:255*Pe/100)){for(He=Ze=0;4>He;++He)12>(ct=Se.pb[He]).lc&&(ct.ia=Pe*rM[0>ct.lc?0:ct.lc]>>3),Ze|=ct.ia;Ze&&(alert("todo:VP8InitRandom"),Se.ia=1)}Se.Ga=le.Id,100<Se.Ga?Se.Ga=100:0>Se.Ga&&(Se.Ga=0)}Vr(L,ge)||(W=L.a)}}else W=L.a}W==0&&Ee.Oa!=null&&Ee.Oa.fd&&(W=Wh(Ee.ba))}Ee=W}_e=Ee!=0?null:11>_e?Fe.f.RGBA.eb:Fe.f.kb.y}else _e=null;return _e};var S3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(j,C){for(var E="",S=0;S<4;S++)E+=String.fromCharCode(j[C++]);return E}function A(j,C){return(j[C+0]<<0|j[C+1]<<8|j[C+2]<<16)>>>0}function f(j,C){return(j[C+0]<<0|j[C+1]<<8|j[C+2]<<16|j[C+3]<<24)>>>0}new u;var h=[0],p=[0],m=[],g=new u,b=t,y=function(j,C){var E={},S=0,k=!1,P=0,M=0;if(E.frames=[],!function(R,U,T,z){for(var G=0;G<z;G++)if(R[U+G]!=T.charCodeAt(G))return!0;return!1}(j,C,"RIFF",4)){for(f(j,C+=4),C+=8;C<j.length;){var H=d(j,C),F=f(j,C+=4);C+=4;var Q=F+(1&F);switch(H){case"VP8 ":case"VP8L":E.frames[S]===void 0&&(E.frames[S]={}),(V=E.frames[S]).src_off=k?M:C-8,V.src_size=P+F+8,S++,k&&(k=!1,P=0,M=0);break;case"VP8X":(V=E.header={}).feature_flags=j[C];var K=C+4;V.canvas_width=1+A(j,K),K+=3,V.canvas_height=1+A(j,K),K+=3;break;case"ALPH":k=!0,P=Q+8,M=C-8;break;case"ANIM":(V=E.header).bgcolor=f(j,C),K=C+4,V.loop_count=(I=j)[(O=K)+0]<<0|I[O+1]<<8,K+=2;break;case"ANMF":var Y,V;(V=E.frames[S]={}).offset_x=2*A(j,C),C+=3,V.offset_y=2*A(j,C),C+=3,V.width=1+A(j,C),C+=3,V.height=1+A(j,C),C+=3,V.duration=A(j,C),C+=3,Y=j[C++],V.dispose=1&Y,V.blend=Y>>1&1}H!="ANMF"&&(C+=Q)}var I,O;return E}}(b,0);y.response=b,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,v=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,h=[x.canvas_height],p=[x.canvas_width];for(var w=0;w<v.length&&v[w].blend!=0;w++);}var _=v[0],B=g.WebPDecodeRGBA(b,_.src_off,_.src_size,p,h);_.rgba=B,_.imgwidth=p[0],_.imgheight=h[0];for(var N=0;N<p[0]*h[0]*4;N++)m[N]=B[N];return this.width=p,this.height=h,this.data=m,this}(function(t){var r=function(){return typeof l4=="function"},n=function(h,p,m,g){var b=4,y=l;switch(g){case t.image_compression.FAST:b=1,y=o;break;case t.image_compression.MEDIUM:b=6,y=c;break;case t.image_compression.SLOW:b=9,y=u}h=s(h,p,m,y);var x=l4(h,{level:b});return t.__addimage__.arrayBufferToBinaryString(x)},s=function(h,p,m,g){for(var b,y,x,v=h.length/p,w=new Uint8Array(h.length+v),_=A(),B=0;B<v;B+=1){if(x=B*p,b=h.subarray(x,x+p),g)w.set(g(b,m,y),x+B);else{for(var N,j=_.length,C=[];N<j;N+=1)C[N]=_[N](b,m,y);var E=f(C.concat());w.set(C[E],x+B)}y=b}return w},i=function(h){var p=Array.apply([],h);return p.unshift(0),p},o=function(h,p){var m,g=[],b=h.length;g[0]=1;for(var y=0;y<b;y+=1)m=h[y-p]||0,g[y+1]=h[y]-m+256&255;return g},l=function(h,p,m){var g,b=[],y=h.length;b[0]=2;for(var x=0;x<y;x+=1)g=m&&m[x]||0,b[x+1]=h[x]-g+256&255;return b},c=function(h,p,m){var g,b,y=[],x=h.length;y[0]=3;for(var v=0;v<x;v+=1)g=h[v-p]||0,b=m&&m[v]||0,y[v+1]=h[v]+256-(g+b>>>1)&255;return y},u=function(h,p,m){var g,b,y,x,v=[],w=h.length;v[0]=4;for(var _=0;_<w;_+=1)g=h[_-p]||0,b=m&&m[_]||0,y=m&&m[_-p]||0,x=d(g,b,y),v[_+1]=h[_]-x+256&255;return v},d=function(h,p,m){if(h===p&&p===m)return h;var g=Math.abs(p-m),b=Math.abs(h-m),y=Math.abs(h+p-m-m);return g<=b&&g<=y?h:b<=y?p:m},A=function(){return[i,o,l,c,u]},f=function(h){var p=h.map(function(m){return m.reduce(function(g,b){return g+Math.abs(b)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(h,p,m,g){var b,y,x,v,w,_,B,N,j,C,E,S,k,P,M,H=this.decode.FLATE_DECODE,F="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(x=new jte(h)).imgData,y=x.bits,b=x.colorSpace,w=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){j=(N=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,E=new Uint8Array(j*x.colors),C=new Uint8Array(j);var Q,K=x.pixelBitlength-x.bits;for(P=0,M=0;P<j;P++){for(k=N[P],Q=0;Q<K;)E[M++]=k>>>Q&255,Q+=x.bits;C[P]=k>>>Q&255}}if(x.bits===16){j=(N=new Uint32Array(x.decodePixels().buffer)).length,E=new Uint8Array(j*(32/x.pixelBitlength)*x.colors),C=new Uint8Array(j*(32/x.pixelBitlength)),S=x.colors>1,P=0,M=0;for(var Y=0;P<j;)k=N[P++],E[M++]=k>>>0&255,S&&(E[M++]=k>>>16&255,k=N[P++],E[M++]=k>>>0&255),C[Y++]=k>>>16&255;y=8}g!==t.image_compression.NONE&&r()?(h=n(E,x.width*x.colors,x.colors,g),B=n(C,x.width,1,g)):(h=E,B=C,H=void 0)}if(x.colorType===3&&(b=this.color_spaces.INDEXED,_=x.palette,x.transparency.indexed)){var V=x.transparency.indexed,I=0;for(P=0,j=V.length;P<j;++P)I+=V[P];if((I/=255)===j-1&&V.indexOf(0)!==-1)v=[V.indexOf(0)];else if(I!==j){for(N=x.decodePixels(),C=new Uint8Array(N.length),P=0,j=N.length;P<j;P++)C[P]=V[N[P]];B=n(C,x.width,1)}}var O=function(R){var U;switch(R){case t.image_compression.FAST:U=11;break;case t.image_compression.MEDIUM:U=13;break;case t.image_compression.SLOW:U=14;break;default:U=12}return U}(g);return H===this.decode.FLATE_DECODE&&(F="/Predictor "+O+" "),F+="/Colors "+w+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:m,data:h,index:p,filter:H,decodeParameters:F,transparency:v,palette:_,sMask:B,predictor:O,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:b}}}})(Nr.API),function(t){t.processGIF89A=function(r,n,s,i){var o=new Nte(r),l=o.width,c=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:l,height:c},A=new kw(100).encode(d,100);return t.processJPEG.call(this,A,n,s,i)},t.processGIF87A=t.processGIF89A}(Nr.API),Ro.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var r=0;r<t;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:i,green:s,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ro.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[t]()}catch(n){Vn.log("bit decode error:"+n)}},Ro.prototype.bit1=function(){var t,r=Math.ceil(this.width/8),n=r%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,i=0;i<r;i++)for(var o=this.datav.getUint8(this.pos++,!0),l=s*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var u=this.palette[o>>7-c&1];this.data[l+4*c]=u.blue,this.data[l+4*c+1]=u.green,this.data[l+4*c+2]=u.red,this.data[l+4*c+3]=255}n!==0&&(this.pos+=4-n)}},Ro.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),r=t%4,n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),l=s*this.width*4+2*i*4,c=o>>4,u=15&o,d=this.palette[c];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}r!==0&&(this.pos+=4-r)}},Ro.prototype.bit8=function(){for(var t=this.width%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*s;if(i<this.palette.length){var l=this.palette[i];this.data[o]=l.red,this.data[o+1]=l.green,this.data[o+2]=l.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Ro.prototype.bit15=function(){for(var t=this.width%3,r=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&r)/r*255|0,c=(o>>5&r)/r*255|0,u=(o>>10&r)/r*255|0,d=o>>15?255:0,A=s*this.width*4+4*i;this.data[A]=u,this.data[A+1]=c,this.data[A+2]=l,this.data[A+3]=d}this.pos+=t}},Ro.prototype.bit16=function(){for(var t=this.width%3,r=parseInt("11111",2),n=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&r)/r*255|0,u=(l>>5&n)/n*255|0,d=(l>>11)/r*255|0,A=i*this.width*4+4*o;this.data[A]=d,this.data[A+1]=u,this.data[A+2]=c,this.data[A+3]=255}this.pos+=t}},Ro.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*n;this.data[l]=o,this.data[l+1]=i,this.data[l+2]=s,this.data[l+3]=255}this.pos+=this.width%4}},Ro.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+4*n;this.data[c]=o,this.data[c+1]=i,this.data[c+2]=s,this.data[c+3]=l}},Ro.prototype.getData=function(){return this.data},function(t){t.processBMP=function(r,n,s,i){var o=new Ro(r,!1),l=o.width,c=o.height,u={data:o.getData(),width:l,height:c},d=new kw(100).encode(u,100);return t.processJPEG.call(this,d,n,s,i)}}(Nr.API),eE.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(r,n,s,i){var o=new eE(r),l=o.width,c=o.height,u={data:o.getData(),width:l,height:c},d=new kw(100).encode(u,100);return t.processJPEG.call(this,d,n,s,i)}}(Nr.API),Nr.API.processRGBA=function(t,r,n){for(var s=t.data,i=s.length,o=new Uint8Array(i/4*3),l=new Uint8Array(i/4),c=0,u=0,d=0;d<i;d+=4){var A=s[d],f=s[d+1],h=s[d+2],p=s[d+3];o[c++]=A,o[c++]=f,o[c++]=h,l[u++]=p}var m=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:m,index:r,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Nr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ZA=Nr.API,qg=ZA.getCharWidthsArray=function(t,r){var n,s,i=(r=r||{}).font||this.internal.getFont(),o=r.fontSize||this.internal.getFontSize(),l=r.charSpace||this.internal.getCharSpace(),c=r.widths?r.widths:i.metadata.Unicode.widths,u=c.fof?c.fof:1,d=r.kerning?r.kerning:i.metadata.Unicode.kerning,A=d.fof?d.fof:1,f=r.doKerning!==!1,h=0,p=t.length,m=0,g=c[0]||u,b=[];for(n=0;n<p;n++)s=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(s))+l*(1e3/o)||0)/1e3):(h=f&&_n(d[s])==="object"&&!isNaN(parseInt(d[s][m],10))?d[s][m]/A:0,b.push((c[s]||g)/u+h)),m=s;return b},Y_=ZA.getStringUnitWidth=function(t,r){var n=(r=r||{}).fontSize||this.internal.getFontSize(),s=r.font||this.internal.getFont(),i=r.charSpace||this.internal.getCharSpace();return ZA.processArabic&&(t=ZA.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,n,i)/n:qg.apply(this,arguments).reduce(function(o,l){return o+l},0)},X_=function(t,r,n,s){for(var i=[],o=0,l=t.length,c=0;o!==l&&c+r[o]<n;)c+=r[o],o++;i.push(t.slice(0,o));var u=o;for(c=0;o!==l;)c+r[o]>s&&(i.push(t.slice(u,o)),c=0,u=o),c+=r[o],o++;return u!==o&&i.push(t.slice(u,o)),i},J_=function(t,r,n){n||(n={});var s,i,o,l,c,u,d,A=[],f=[A],h=n.textIndent||0,p=0,m=0,g=t.split(" "),b=qg.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var y=Array(u).join(" "),x=[];g.map(function(w){(w=w.split(/\s*\n/)).length>1?x=x.concat(w.map(function(_,B){return(B&&_.length?`
`:"")+_})):x.push(w[0])}),g=x,u=Y_.apply(this,[y,n])}for(o=0,l=g.length;o<l;o++){var v=0;if(s=g[o],u&&s[0]==`
`&&(s=s.substr(1),v=1),h+p+(m=(i=qg.apply(this,[s,n])).reduce(function(w,_){return w+_},0))>r||v){if(m>r){for(c=X_.apply(this,[s,i,r-(h+p),r]),A.push(c.shift()),A=[c.pop()];c.length;)f.push([c.shift()]);m=i.slice(s.length-(A[0]?A[0].length:0)).reduce(function(w,_){return w+_},0)}else A=[s];f.push(A),h=m+u,p=b}else A.push(s),h+=p+m,p=b}return d=u?function(w,_){return(_?y:"")+w.join(" ")}:function(w){return w.join(" ")},f.map(d)},ZA.splitTextToSize=function(t,r,n){var s,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var f=this.internal.getFont(A.fontName,A.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*r/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var c,u,d=[];for(c=0,u=s.length;c<u;c++)d=d.concat(J_.apply(this,[s[c],l,o]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",n={},s={},i=0;i<r.length;i++)n[r[i]]="0123456789abcdef"[i],s["0123456789abcdef"[i]]=r[i];var o=function(f){return"0x"+parseInt(f,10).toString(16)},l=t.__fontmetrics__.compress=function(f){var h,p,m,g,b=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=o(y).slice(2)).slice(0,-1)+s[p.slice(-1)]),typeof h=="number")h<0?(m=o(h).slice(3),g="-"):(m=o(h).slice(2),g=""),m=g+m.slice(0,-1)+s[m.slice(-1)];else{if(_n(h)!=="object")throw new Error("Don't know what to do with value type "+_n(h)+".");m=l(h)}b.push(p+m)}return b.push("}"),b.join("")},c=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,m,g,b={},y=1,x=b,v=[],w="",_="",B=f.length-1,N=1;N<B;N+=1)(g=f[N])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(v.push([x,m]),x={},m=void 0):g=="}"?((p=v.pop())[0][p[1]]=x,m=void 0,x=p[0]):g=="-"?y=-1:m===void 0?n.hasOwnProperty(g)?(w+=n[g],m=parseInt(w,16)*y,y=1,w=""):w+=g:n.hasOwnProperty(g)?(_+=n[g],x[m]=parseInt(_,16)*y,y=1,m=void 0,_=""):_+=g;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},A={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,p=A.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Nr.API),function(t){var r=function(n){for(var s=n.length,i=new Uint8Array(s),o=0;o<s;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var s=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(s=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?r(c):r(s0(c)),l.metadata=t.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,s)}}])}(Nr),function(t){function r(){return(Sr.canvg?Promise.resolve(Sr.canvg):G0(()=>import("./index.es-CcM0mViC.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Nr.API.addSvgAsImage=function(n,s,i,o,l,c,u,d){if(isNaN(s)||isNaN(i))throw Vn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(l))throw Vn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=o,A.height=l;var f=A.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,A.width,A.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return r().then(function(m){return m.fromString(f,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){p.addImage(A.toDataURL("image/jpeg",1),s,i,o,l,u,d)})}}(),Nr.API.putTotalPages=function(t){var r,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var i=0;i<this.internal.pages[s].length;i++)this.internal.pages[s][i]=this.internal.pages[s][i].replace(r,n);return this},Nr.API.viewerPreferences=function(t,r){var n;t=t||{},r=r||!1;var s,i,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),u=[],d=0,A=0,f=0;function h(m,g){var b,y=!1;for(b=0;b<m.length;b+=1)m[b]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||r===!0){var p=c.length;for(f=0;f<p;f+=1)n[c[f]].value=n[c[f]].defaultValue,n[c[f]].explicitSet=!1}if(_n(t)==="object"){for(i in t)if(o=t[i],h(c,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&h(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(d=0;d<o.length;d+=1)if(s=!0,o[d].length===1&&typeof o[d][0]=="number")u.push(String(o[d]-1));else if(o[d].length>1){for(A=0;A<o[d].length;A+=1)typeof o[d][A]!="number"&&(s=!1);s===!0&&u.push([o[d][0]-1,o[d][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?g.push("/"+m+" /"+n[m].value):g.push("/"+m+" "+n[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var r=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+l.length+c.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+o+l+c+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(s,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",r)),this}}(Nr.API),function(t){var r=t.API,n=r.pdfEscape16=function(o,l){for(var c,u=l.metadata.Unicode.widths,d=["","0","00","000","0000"],A=[""],f=0,h=o.length;f<h;++f){if(c=l.metadata.characterToGlyph(o.charCodeAt(f)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=o.charCodeAt(f),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return A.join("");c=c.toString(16),A.push(d[4-c.length],c)}return A.join("")},s=function(o){var l,c,u,d,A,f,h;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],f=0,h=(c=Object.keys(o).sort(function(p,m){return p-m})).length;f<h;f++)l=c[f],u.length>=100&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[l]!==void 0&&o[l]!==null&&typeof o[l].toString=="function"&&(d=("0000"+o[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),u.push("<"+l+"><"+d+">"));return u.length&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),A+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(o){(function(l){var c=l.font,u=l.out,d=l.newObject,A=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var f=c.metadata.Unicode.widths,h=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var g=d();A({data:p,addLength1:!0,objectId:g}),u("endobj");var b=d();A({data:s(c.metadata.toUnicode),addLength1:!0,objectId:b}),u("endobj");var y=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Af(c.fontName)),u("/FontFile2 "+g+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var x=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+Af(c.fontName)),u("/FontDescriptor "+y+" 0 R"),u("/W "+t.API.PDFObject.convert(f)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+b+" 0 R"),u("/BaseFont /"+Af(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+x+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(o)}]),r.events.push(["putFont",function(o){(function(l){var c=l.font,u=l.out,d=l.newObject,A=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var f=c.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=d();A({data:h,addLength1:!0,objectId:m}),u("endobj");var g=d();A({data:s(c.metadata.toUnicode),addLength1:!0,objectId:g}),u("endobj");var b=d();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+m+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Af(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=d();for(var y=0;y<c.metadata.hmtx.widths.length;y++)c.metadata.hmtx.widths[y]=parseInt(c.metadata.hmtx.widths[y]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Af(c.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(o)}]);var i=function(o){var l,c=o.text||"",u=o.x,d=o.y,A=o.options||{},f=o.mutex||{},h=f.pdfEscape,p=f.activeFontKey,m=f.fonts,g=p,b="",y=0,x="",v=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:c,x:u,y:d,options:A,mutex:f};for(x=c,g=p,Array.isArray(c)&&(x=c[0]),y=0;y<x.length;y+=1)m[g].metadata.hasOwnProperty("cmap")&&(l=m[g].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),l||x[y].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?b+=x[y]:b+="";var w="";return parseInt(g.slice(1))<14||v==="WinAnsiEncoding"?w=h(b,g).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):v==="Identity-H"&&(w=n(b,m[g])),f.isHex=!0,{text:w,x:u,y:d,options:A,mutex:f}};r.events.push(["postProcessText",function(o){var l=o.text||"",c=[],u={text:l,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?c.push([i(Object.assign({},u,{text:l[d][0]})).text,l[d][1],l[d][2]]):c.push(i(Object.assign({},u,{text:l[d]})).text);o.text=c}else o.text=i(Object.assign({},u,{text:l})).text}])}(Nr),function(t){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,s){return r.call(this),this.internal.vFS[n]=s,this},t.getFileFromVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Nr.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var i,o,l,c,u,d,A,f=r,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,v=0;this.__bidiEngine__={};var w=function(S){var k=S.charCodeAt(),P=k>>8,M=g[P];return M!==void 0?f[256*M+(255&k)]:P===252||P===253?"AL":y.test(P)?"L":P===8?"R":"N"},_=function(S){for(var k,P=0;P<S.length;P++){if((k=w(S.charAt(P)))==="L")return!1;if(k==="R")return!0}return!1},B=function(S,k,P,M){var H,F,Q,K,Y=k[M];switch(Y){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(Y="AN");break;case"AL":x=!0,Y="R";break;case"WS":Y="N";break;case"CS":M<1||M+1>=k.length||(H=P[M-1])!=="EN"&&H!=="AN"||(F=k[M+1])!=="EN"&&F!=="AN"?Y="N":x&&(F="AN"),Y=F===H?F:"N";break;case"ES":Y=(H=M>0?P[M-1]:"B")==="EN"&&M+1<k.length&&k[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&P[M-1]==="EN"){Y="EN";break}if(x){Y="N";break}for(Q=M+1,K=k.length;Q<K&&k[Q]==="ET";)Q++;Y=Q<K&&k[Q]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(K=k.length,Q=M+1;Q<K&&k[Q]==="NSM";)Q++;if(Q<K){var V=S[M],I=V>=1425&&V<=2303||V===64286;if(H=k[Q],I&&(H==="R"||H==="AL")){Y="R";break}}}Y=M<1||(H=k[M-1])==="B"?"N":P[M-1];break;case"B":x=!1,i=!0,Y=v;break;case"S":o=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":Y="N"}return Y},N=function(S,k,P){var M=S.split("");return P&&j(M,P,{hiLevel:v}),M.reverse(),k&&k.reverse(),M.join("")},j=function(S,k,P){var M,H,F,Q,K,Y=-1,V=S.length,I=0,O=[],R=v?p:h,U=[];for(x=!1,i=!1,o=!1,H=0;H<V;H++)U[H]=w(S[H]);for(F=0;F<V;F++){if(K=I,O[F]=B(S,U,O,F),M=240&(I=R[K][m[O[F]]]),I&=15,k[F]=Q=R[I][5],M>0)if(M===16){for(H=Y;H<F;H++)k[H]=1;Y=-1}else Y=-1;if(R[I][6])Y===-1&&(Y=F);else if(Y>-1){for(H=Y;H<F;H++)k[H]=Q;Y=-1}U[F]==="B"&&(k[F]=0),P.hiLevel|=Q}o&&function(T,z,G){for(var J=0;J<G;J++)if(T[J]==="S"){z[J]=v;for(var ee=J-1;ee>=0&&T[ee]==="WS";ee--)z[ee]=v}}(U,k,V)},C=function(S,k,P,M,H){if(!(H.hiLevel<S)){if(S===1&&v===1&&!i)return k.reverse(),void(P&&P.reverse());for(var F,Q,K,Y,V=k.length,I=0;I<V;){if(M[I]>=S){for(K=I+1;K<V&&M[K]>=S;)K++;for(Y=I,Q=K-1;Y<Q;Y++,Q--)F=k[Y],k[Y]=k[Q],k[Q]=F,P&&(F=P[Y],P[Y]=P[Q],P[Q]=F);I=K}I++}}},E=function(S,k,P){var M=S.split(""),H={hiLevel:v};return P||(P=[]),j(M,P,H),function(F,Q,K){if(K.hiLevel!==0&&A)for(var Y,V=0;V<F.length;V++)Q[V]===1&&(Y=b.indexOf(F[V]))>=0&&(F[V]=b[Y+1])}(M,P,H),C(2,M,k,P,H),C(1,M,k,P,H),M.join("")};return this.__bidiEngine__.doBidiReorder=function(S,k,P){if(function(H,F){if(F)for(var Q=0;Q<H.length;Q++)F[Q]=Q;c===void 0&&(c=_(H)),d===void 0&&(d=_(H))}(S,k),l||!u||d)if(l&&u&&c^d)v=c?1:0,S=N(S,k,P);else if(!l&&u&&d)v=c?1:0,S=E(S,k,P),S=N(S,k);else if(!l||c||u||d){if(l&&!u&&c^d)S=N(S,k),c?(v=0,S=E(S,k,P)):(v=1,S=E(S,k,P),S=N(S,k));else if(l&&c&&!u&&d)v=1,S=E(S,k,P),S=N(S,k);else if(!l&&!u&&c^d){var M=A;c?(v=1,S=E(S,k,P),v=0,A=!1,S=E(S,k,P),A=M):(v=0,S=E(S,k,P),S=N(S,k),v=1,A=!1,S=E(S,k,P),A=M,S=N(S,k))}}else v=0,S=E(S,k,P);else v=c?1:0,S=E(S,k,P);return S},this.__bidiEngine__.setOptions=function(S){S&&(l=S.isInputVisual,u=S.isOutputVisual,c=S.isInputRtl,d=S.isOutputRtl,A=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var i=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var l=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(l=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?l.push([n.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):l.push([n.doBidiReorder(i[c])]);s.text=l}else s.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Nr),Nr.API.TTFFont=function(){function t(r){var n;if(this.rawData=r,n=this.contents=new qu(r),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Rte(this),this.registerTTF()}return t.open=function(r){return new t(r)},t.prototype.parse=function(){return this.directory=new Ste(this.contents),this.head=new Cte(this),this.name=new Ote(this),this.cmap=new uL(this),this.toUnicode={},this.hhea=new _te(this),this.maxp=new Fte(this),this.hmtx=new Ite(this),this.post=new kte(this),this.os2=new Ete(this),this.loca=new Ute(this),this.glyf=new Pte(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var r,n,s,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,u,d;for(d=[],l=0,c=(u=this.bbox).length;l<c;l++)r=u[l],d.push(Math.round(r*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(r){var n;return((n=this.cmap.unicode)!=null?n.codeMap[r]:void 0)||0},t.prototype.widthOfGlyph=function(r){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*n},t.prototype.widthOfString=function(r,n,s){var i,o,l,c;for(l=0,o=0,c=(r=""+r).length;0<=c?o<c:o>c;o=0<=c?++o:--o)i=r.charCodeAt(o),l+=this.widthOfGlyph(this.characterToGlyph(i))+s*(1e3/n)||0;return l*(n/1e3)},t.prototype.lineHeight=function(r,n){var s;return n==null&&(n=!1),s=n?this.lineGap:0,(this.ascender+s-this.decender)/1e3*r},t}();var cl,qu=function(){function t(r){this.data=r??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(r){return this.data[this.pos++]=r},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},t.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},t.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},t.prototype.readString=function(r){var n,s;for(s=[],n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)s[n]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(r){var n,s,i;for(i=[],n=0,s=r.length;0<=s?n<s:n>s;n=0<=s?++n:--n)i.push(this.writeByte(r.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(r){return this.writeInt16(r)},t.prototype.readLongLong=function(){var r,n,s,i,o,l,c,u;return r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),u=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^n)+1099511627776*(255^s)+4294967296*(255^i)+16777216*(255^o)+65536*(255^l)+256*(255^c)+(255^u)+1):72057594037927940*r+281474976710656*n+1099511627776*s+4294967296*i+16777216*o+65536*l+256*c+u},t.prototype.writeLongLong=function(r){var n,s;return n=Math.floor(r/4294967296),s=4294967295&r,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(r){return this.writeInt32(r)},t.prototype.read=function(r){var n,s;for(n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push(this.readByte());return n},t.prototype.write=function(r){var n,s,i,o;for(o=[],s=0,i=r.length;s<i;s++)n=r[s],o.push(this.writeByte(n));return o},t}(),Ste=function(){var t;function r(n){var s,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)s={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[s.tag]=s}return r.prototype.encode=function(n){var s,i,o,l,c,u,d,A,f,h,p,m,g;for(g in p=Object.keys(n).length,u=Math.log(2),f=16*Math.floor(Math.log(p)/u),l=Math.floor(f/u),A=16*p-f,(i=new qu).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(l),i.writeShort(A),o=16*p,d=i.pos+o,c=null,m=[],n)for(h=n[g],i.writeString(g),i.writeInt(t(h)),i.writeInt(d),i.writeInt(h.length),m=m.concat(h),g==="head"&&(c=d),d+=h.length;d%4;)m.push(0),d++;return i.write(m),s=2981146554-t(i.data),i.pos=c+8,i.writeUInt32(s),i.data},t=function(n){var s,i,o,l;for(n=dL.call(n);n.length%4;)n.push(0);for(o=new qu(n),i=0,s=0,l=n.length;s<l;s=s+=4)i+=o.readUInt32();return 4294967295&i},r}(),Bte={}.hasOwnProperty,Yl=function(t,r){for(var n in r)Bte.call(r,n)&&(t[n]=r[n]);function s(){this.constructor=t}return s.prototype=r.prototype,t.prototype=new s,t.__super__=r.prototype,t};cl=function(){function t(r){var n;this.file=r,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Cte=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Yl(r,cl),r.prototype.tag="head",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},r.prototype.encode=function(n){var s;return(s=new qu).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(n),s.writeShort(this.glyphDataFormat),s.data},r}(),tE=function(){function t(r,n){var s,i,o,l,c,u,d,A,f,h,p,m,g,b,y,x,v;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=n+r.readInt(),f=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=r.readByte();break;case 4:for(p=r.readUInt16(),h=p/2,r.pos+=6,o=function(){var w,_;for(_=[],u=w=0;0<=h?w<h:w>h;u=0<=h?++w:--w)_.push(r.readUInt16());return _}(),r.pos+=2,g=function(){var w,_;for(_=[],u=w=0;0<=h?w<h:w>h;u=0<=h?++w:--w)_.push(r.readUInt16());return _}(),d=function(){var w,_;for(_=[],u=w=0;0<=h?w<h:w>h;u=0<=h?++w:--w)_.push(r.readUInt16());return _}(),A=function(){var w,_;for(_=[],u=w=0;0<=h?w<h:w>h;u=0<=h?++w:--w)_.push(r.readUInt16());return _}(),i=(this.length-r.pos+this.offset)/2,c=function(){var w,_;for(_=[],u=w=0;0<=i?w<i:w>i;u=0<=i?++w:--w)_.push(r.readUInt16());return _}(),u=y=0,v=o.length;y<v;u=++y)for(b=o[u],s=x=m=g[u];m<=b?x<=b:x>=b;s=m<=b?++x:--x)A[u]===0?l=s+d[u]:(l=c[A[u]/2+(s-m)-(h-u)]||0)!==0&&(l+=d[u]),this.codeMap[s]=65535&l}r.pos=f}return t.encode=function(r,n){var s,i,o,l,c,u,d,A,f,h,p,m,g,b,y,x,v,w,_,B,N,j,C,E,S,k,P,M,H,F,Q,K,Y,V,I,O,R,U,T,z,G,J,ee,fe,de,ae;switch(M=new qu,l=Object.keys(r).sort(function(xe,X){return xe-X}),n){case"macroman":for(g=0,b=function(){var xe=[];for(m=0;m<256;++m)xe.push(0);return xe}(),x={0:0},o={},H=0,Y=l.length;H<Y;H++)x[ee=r[i=l[H]]]==null&&(x[ee]=++g),o[i]={old:r[i],new:x[r[i]]},b[i]=x[r[i]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(b),{charMap:o,subtable:M.data,maxGlyphID:g+1};case"unicode":for(k=[],f=[],v=0,x={},s={},y=d=null,F=0,V=l.length;F<V;F++)x[_=r[i=l[F]]]==null&&(x[_]=++v),s[i]={old:_,new:x[_]},c=x[_]-i,y!=null&&c===d||(y&&f.push(y),k.push(i),d=c),y=i;for(y&&f.push(y),f.push(65535),k.push(65535),E=2*(C=k.length),j=2*Math.pow(Math.log(C)/Math.LN2,2),h=Math.log(j/2)/Math.LN2,N=2*C-j,u=[],B=[],p=[],m=Q=0,I=k.length;Q<I;m=++Q){if(S=k[m],A=f[m],S===65535){u.push(0),B.push(0);break}if(S-(P=s[S].new)>=32768)for(u.push(0),B.push(2*(p.length+C-m)),i=K=S;S<=A?K<=A:K>=A;i=S<=A?++K:--K)p.push(s[i].new);else u.push(P-S),B.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*C+2*p.length),M.writeUInt16(0),M.writeUInt16(E),M.writeUInt16(j),M.writeUInt16(h),M.writeUInt16(N),G=0,O=f.length;G<O;G++)i=f[G],M.writeUInt16(i);for(M.writeUInt16(0),J=0,R=k.length;J<R;J++)i=k[J],M.writeUInt16(i);for(fe=0,U=u.length;fe<U;fe++)c=u[fe],M.writeUInt16(c);for(de=0,T=B.length;de<T;de++)w=B[de],M.writeUInt16(w);for(ae=0,z=p.length;ae<z;ae++)g=p[ae],M.writeUInt16(g);return{charMap:s,subtable:M.data,maxGlyphID:v+1}}},t}(),uL=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Yl(r,cl),r.prototype.tag="cmap",r.prototype.parse=function(n){var s,i,o;for(n.pos=this.offset,this.version=n.readUInt16(),o=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)s=new tE(n,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},r.encode=function(n,s){var i,o;return s==null&&(s="macroman"),i=tE.encode(n,s),(o=new qu).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},r}(),_te=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Yl(r,cl),r.prototype.tag="hhea",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},r}(),Ete=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Yl(r,cl),r.prototype.tag="OS/2",r.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var s,i;for(i=[],s=0;s<10;++s)i.push(n.readByte());return i}(),this.charRange=function(){var s,i;for(i=[],s=0;s<4;++s)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var s,i;for(i=[],s=0;s<2;s=++s)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},r}(),kte=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Yl(r,cl),r.prototype.tag="post",r.prototype.parse=function(n){var s,i,o;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var l;for(i=n.readUInt16(),this.glyphNameIndex=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],o=[];n.pos<this.offset+this.length;)s=n.readByte(),o.push(this.names.push(n.readString(s)));return o;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var c,u,d;for(d=[],l=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;l=0<=u?++c:--c)d.push(n.readUInt32());return d}).call(this)}},r}(),Tte=function(t,r){this.raw=t,this.length=t.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},Ote=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Yl(r,cl),r.prototype.tag="name",r.prototype.parse=function(n){var s,i,o,l,c,u,d,A,f,h,p;for(n.pos=this.offset,n.readShort(),s=n.readShort(),u=n.readShort(),i=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(d={},l=f=0,h=i.length;f<h;l=++f)o=i[l],n.pos=o.offset,A=n.readString(o.length),c=new Tte(A,o),d[p=o.nameID]==null&&(d[p]=[]),d[o.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},r}(),Fte=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Yl(r,cl),r.prototype.tag="maxp",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},r}(),Ite=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Yl(r,cl),r.prototype.tag="hmtx",r.prototype.parse=function(n){var s,i,o,l,c,u,d;for(n.pos=this.offset,this.metrics=[],s=0,u=this.file.hhea.numberOfMetrics;0<=u?s<u:s>u;s=0<=u?++s:--s)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var A,f;for(f=[],s=A=0;0<=o?A<o:A>o;s=0<=o?++A:--A)f.push(n.readInt16());return f}(),this.widths=(function(){var A,f,h,p;for(p=[],A=0,f=(h=this.metrics).length;A<f;A++)l=h[A],p.push(l.advance);return p}).call(this),i=this.widths[this.widths.length-1],d=[],s=c=0;0<=o?c<o:c>o;s=0<=o?++c:--c)d.push(this.widths.push(i));return d},r.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},r}(),dL=[].slice,Pte=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Yl(r,cl),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(n){var s,i,o,l,c,u,d,A,f,h;return n in this.cache?this.cache[n]:(l=this.file.loca,s=this.file.contents,i=l.indexOf(n),(o=l.lengthOf(n))===0?this.cache[n]=null:(s.pos=this.offset+i,c=(u=new qu(s.read(o))).readShort(),A=u.readShort(),h=u.readShort(),d=u.readShort(),f=u.readShort(),this.cache[n]=c===-1?new Dte(u,A,h,d,f):new Lte(u,c,A,h,d,f),this.cache[n]))},r.prototype.encode=function(n,s,i){var o,l,c,u,d;for(c=[],l=[],u=0,d=s.length;u<d;u++)o=n[s[u]],l.push(c.length),o&&(c=c.concat(o.encode(i)));return l.push(c.length),{table:c,offsets:l}},r}(),Lte=function(){function t(r,n,s,i,o,l){this.raw=r,this.numberOfContours=n,this.xMin=s,this.yMin=i,this.xMax=o,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Dte=function(){function t(r,n,s,i,o){var l,c;for(this.raw=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return t.prototype.encode=function(){var r,n,s;for(n=new qu(dL.call(this.raw.data)),r=0,s=this.glyphIDs.length;r<s;++r)n.pos=this.glyphOffsets[r];return n.data},t}(),Ute=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Yl(r,cl),r.prototype.tag="loca",r.prototype.parse=function(n){var s,i;return n.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var o,l;for(l=[],i=0,o=this.length;i<o;i+=2)l.push(2*n.readUInt16());return l}).call(this):(function(){var o,l;for(l=[],i=0,o=this.length;i<o;i+=4)l.push(n.readUInt32());return l}).call(this)},r.prototype.indexOf=function(n){return this.offsets[n]},r.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},r.prototype.encode=function(n,s){for(var i=new Uint32Array(this.offsets.length),o=0,l=0,c=0;c<i.length;++c)if(i[c]=o,l<s.length&&s[l]==c){++l,i[c]=o;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(o+=d)}for(var A=new Array(4*i.length),f=0;f<i.length;++f)A[4*f+3]=255&i[f],A[4*f+2]=(65280&i[f])>>8,A[4*f+1]=(16711680&i[f])>>16,A[4*f]=(4278190080&i[f])>>24;return A},r}(),Rte=function(){function t(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var r,n,s,i,o;for(n in i=this.font.cmap.tables[0].codeMap,r={},o=this.subset)s=o[n],r[n]=i[s];return r},t.prototype.glyphsFor=function(r){var n,s,i,o,l,c,u;for(i={},l=0,c=r.length;l<c;l++)i[o=r[l]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(s=i[o])!=null&&s.compound&&n.push.apply(n,s.glyphIDs);if(n.length>0)for(o in u=this.glyphsFor(n))s=u[o],i[o]=s;return i},t.prototype.encode=function(r,n){var s,i,o,l,c,u,d,A,f,h,p,m,g,b,y;for(i in s=uL.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(r),p={0:0},y=s.charMap)p[(u=y[i]).old]=u.new;for(m in h=s.maxGlyphID,l)m in p||(p[m]=h++);return A=function(x){var v,w;for(v in w={},x)w[x[v]]=v;return w}(p),f=Object.keys(A).sort(function(x,v){return x-v}),g=function(){var x,v,w;for(w=[],x=0,v=f.length;x<v;x++)c=f[x],w.push(A[c]);return w}(),o=this.font.glyf.encode(l,g,p),d=this.font.loca.encode(o.offsets,g),b={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();Nr.API.PDFObject=function(){var t;function r(){}return t=function(n,s){return(Array(s+1).join("0")+n).slice(-s)},r.convert=function(n){var s,i,o,l;if(Array.isArray(n))return"["+function(){var c,u,d;for(d=[],c=0,u=n.length;c<u;c++)s=n[c],d.push(r.convert(s));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)l=n[i],o.push("/"+i+" "+r.convert(l));return o.push(">>"),o.join(`
`)}return""+n},r}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var p4=function(t,r){return p4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},p4(t,r)};function ul(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");p4(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var m4=function(){return m4=Object.assign||function(r){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},m4.apply(this,arguments)};function oa(t,r,n,s){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(A){try{d(s.next(A))}catch(f){l(f)}}function u(A){try{d(s.throw(A))}catch(f){l(f)}}function d(A){A.done?o(A.value):i(A.value).then(c,u)}d((s=s.apply(t,[])).next())})}function qi(t,r){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,i,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(A){return u([d,A])}}function u(d){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=r.call(t,n)}catch(A){d=[6,A],i=0}finally{s=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Yg(t,r,n){if(arguments.length===2)for(var s=0,i=r.length,o;s<i;s++)(o||!(s in r))&&(o||(o=Array.prototype.slice.call(r,0,s)),o[s]=r[s]);return t.concat(o||r)}var Ec=function(){function t(r,n,s,i){this.left=r,this.top=n,this.width=s,this.height=i}return t.prototype.add=function(r,n,s,i){return new t(this.left+r,this.top+n,this.width+s,this.height+i)},t.fromClientRect=function(r,n){return new t(n.left+r.windowBounds.left,n.top+r.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(r,n){var s=Array.from(n).find(function(i){return i.width!==0});return s?new t(s.left+r.windowBounds.left,s.top+r.windowBounds.top,s.width,s.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),k1=function(t,r){return Ec.fromClientRect(t,r.getBoundingClientRect())},Mte=function(t){var r=t.body,n=t.documentElement;if(!r||!n)throw new Error("Unable to get document size");var s=Math.max(Math.max(r.scrollWidth,n.scrollWidth),Math.max(r.offsetWidth,n.offsetWidth),Math.max(r.clientWidth,n.clientWidth)),i=Math.max(Math.max(r.scrollHeight,n.scrollHeight),Math.max(r.offsetHeight,n.offsetHeight),Math.max(r.clientHeight,n.clientHeight));return new Ec(0,0,s,i)},T1=function(t){for(var r=[],n=0,s=t.length;n<s;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<s){var o=t.charCodeAt(n++);(o&64512)===56320?r.push(((i&1023)<<10)+(o&1023)+65536):(r.push(i),n--)}else r.push(i)}return r},Ls=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var s=[],i=-1,o="";++i<n;){var l=t[i];l<=65535?s.push(l):(l-=65536,s.push((l>>10)+55296,l%1024+56320)),(i+1===n||s.length>16384)&&(o+=String.fromCharCode.apply(String,s),s.length=0)}return o},rE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qte=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xg=0;Xg<rE.length;Xg++)Qte[rE.charCodeAt(Xg)]=Xg;var nE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jg=0;Jg<nE.length;Jg++)Lp[nE.charCodeAt(Jg)]=Jg;var $te=function(t){var r=t.length*.75,n=t.length,s,i=0,o,l,c,u;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),A=Array.isArray(d)?d:new Uint8Array(d);for(s=0;s<n;s+=4)o=Lp[t.charCodeAt(s)],l=Lp[t.charCodeAt(s+1)],c=Lp[t.charCodeAt(s+2)],u=Lp[t.charCodeAt(s+3)],A[i++]=o<<2|l>>4,A[i++]=(l&15)<<4|c>>2,A[i++]=(c&3)<<6|u&63;return d},Hte=function(t){for(var r=t.length,n=[],s=0;s<r;s+=2)n.push(t[s+1]<<8|t[s]);return n},Vte=function(t){for(var r=t.length,n=[],s=0;s<r;s+=4)n.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return n},Zd=5,iS=11,Tw=2,zte=iS-Zd,AL=65536>>Zd,Kte=1<<Zd,Ow=Kte-1,Gte=1024>>Zd,Wte=AL+Gte,qte=Wte,Yte=32,Xte=qte+Yte,Jte=65536>>iS,Zte=1<<zte,ere=Zte-1,sE=function(t,r,n){return t.slice?t.slice(r,n):new Uint16Array(Array.prototype.slice.call(t,r,n))},tre=function(t,r,n){return t.slice?t.slice(r,n):new Uint32Array(Array.prototype.slice.call(t,r,n))},rre=function(t,r){var n=$te(t),s=Array.isArray(n)?Vte(n):new Uint32Array(n),i=Array.isArray(n)?Hte(n):new Uint16Array(n),o=24,l=sE(i,o/2,s[4]/2),c=s[5]===2?sE(i,(o+s[4])/2):tre(s,Math.ceil((o+s[4])/4));return new nre(s[0],s[1],s[2],s[3],l,c)},nre=function(){function t(r,n,s,i,o,l){this.initialValue=r,this.errorValue=n,this.highStart=s,this.highValueIndex=i,this.index=o,this.data=l}return t.prototype.get=function(r){var n;if(r>=0){if(r<55296||r>56319&&r<=65535)return n=this.index[r>>Zd],n=(n<<Tw)+(r&Ow),this.data[n];if(r<=65535)return n=this.index[AL+(r-55296>>Zd)],n=(n<<Tw)+(r&Ow),this.data[n];if(r<this.highStart)return n=Xte-Jte+(r>>iS),n=this.index[n],n+=r>>Zd&ere,n=this.index[n],n=(n<<Tw)+(r&Ow),this.data[n];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),iE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sre=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zg=0;Zg<iE.length;Zg++)sre[iE.charCodeAt(Zg)]=Zg;var ire="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",aE=50,are=1,fL=2,hL=3,ore=4,lre=5,oE=7,pL=8,lE=9,bu=10,g4=11,cE=12,y4=13,cre=14,Dp=15,x4=16,ey=17,bp=18,ure=19,uE=20,v4=21,wp=22,Fw=23,ef=24,Qa=25,Up=26,Rp=27,tf=28,dre=29,Td=30,Are=31,ty=32,ry=33,b4=34,w4=35,j4=36,tm=37,N4=38,sx=39,ix=40,Iw=41,mL=42,fre=43,hre=[9001,65288],gL="!",tn="×",ny="÷",S4=rre(ire),oc=[Td,j4],B4=[are,fL,hL,lre],yL=[bu,pL],dE=[Rp,Up],pre=B4.concat(yL),AE=[N4,sx,ix,b4,w4],mre=[Dp,y4],gre=function(t,r){r===void 0&&(r="strict");var n=[],s=[],i=[];return t.forEach(function(o,l){var c=S4.get(o);if(c>aE?(i.push(!0),c-=aE):i.push(!1),["normal","auto","loose"].indexOf(r)!==-1&&[8208,8211,12316,12448].indexOf(o)!==-1)return s.push(l),n.push(x4);if(c===ore||c===g4){if(l===0)return s.push(l),n.push(Td);var u=n[l-1];return pre.indexOf(u)===-1?(s.push(s[l-1]),n.push(u)):(s.push(l),n.push(Td))}if(s.push(l),c===Are)return n.push(r==="strict"?v4:tm);if(c===mL||c===dre)return n.push(Td);if(c===fre)return o>=131072&&o<=196605||o>=196608&&o<=262141?n.push(tm):n.push(Td);n.push(c)}),[s,n,i]},Pw=function(t,r,n,s){var i=s[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var o=n;o<=s.length;){o++;var l=s[o];if(l===r)return!0;if(l!==bu)break}if(i===bu)for(var o=n;o>0;){o--;var c=s[o];if(Array.isArray(t)?t.indexOf(c)!==-1:t===c)for(var u=n;u<=s.length;){u++;var l=s[u];if(l===r)return!0;if(l!==bu)break}if(c!==bu)break}return!1},fE=function(t,r){for(var n=t;n>=0;){var s=r[n];if(s===bu)n--;else return s}return 0},yre=function(t,r,n,s,i){if(n[s]===0)return tn;var o=s-1;if(Array.isArray(i)&&i[o]===!0)return tn;var l=o-1,c=o+1,u=r[o],d=l>=0?r[l]:0,A=r[c];if(u===fL&&A===hL)return tn;if(B4.indexOf(u)!==-1)return gL;if(B4.indexOf(A)!==-1||yL.indexOf(A)!==-1)return tn;if(fE(o,r)===pL)return ny;if(S4.get(t[o])===g4||(u===ty||u===ry)&&S4.get(t[c])===g4||u===oE||A===oE||u===lE||[bu,y4,Dp].indexOf(u)===-1&&A===lE||[ey,bp,ure,ef,tf].indexOf(A)!==-1||fE(o,r)===wp||Pw(Fw,wp,o,r)||Pw([ey,bp],v4,o,r)||Pw(cE,cE,o,r))return tn;if(u===bu)return ny;if(u===Fw||A===Fw)return tn;if(A===x4||u===x4)return ny;if([y4,Dp,v4].indexOf(A)!==-1||u===cre||d===j4&&mre.indexOf(u)!==-1||u===tf&&A===j4||A===uE||oc.indexOf(A)!==-1&&u===Qa||oc.indexOf(u)!==-1&&A===Qa||u===Rp&&[tm,ty,ry].indexOf(A)!==-1||[tm,ty,ry].indexOf(u)!==-1&&A===Up||oc.indexOf(u)!==-1&&dE.indexOf(A)!==-1||dE.indexOf(u)!==-1&&oc.indexOf(A)!==-1||[Rp,Up].indexOf(u)!==-1&&(A===Qa||[wp,Dp].indexOf(A)!==-1&&r[c+1]===Qa)||[wp,Dp].indexOf(u)!==-1&&A===Qa||u===Qa&&[Qa,tf,ef].indexOf(A)!==-1)return tn;if([Qa,tf,ef,ey,bp].indexOf(A)!==-1)for(var f=o;f>=0;){var h=r[f];if(h===Qa)return tn;if([tf,ef].indexOf(h)!==-1)f--;else break}if([Rp,Up].indexOf(A)!==-1)for(var f=[ey,bp].indexOf(u)!==-1?l:o;f>=0;){var h=r[f];if(h===Qa)return tn;if([tf,ef].indexOf(h)!==-1)f--;else break}if(N4===u&&[N4,sx,b4,w4].indexOf(A)!==-1||[sx,b4].indexOf(u)!==-1&&[sx,ix].indexOf(A)!==-1||[ix,w4].indexOf(u)!==-1&&A===ix||AE.indexOf(u)!==-1&&[uE,Up].indexOf(A)!==-1||AE.indexOf(A)!==-1&&u===Rp||oc.indexOf(u)!==-1&&oc.indexOf(A)!==-1||u===ef&&oc.indexOf(A)!==-1||oc.concat(Qa).indexOf(u)!==-1&&A===wp&&hre.indexOf(t[c])===-1||oc.concat(Qa).indexOf(A)!==-1&&u===bp)return tn;if(u===Iw&&A===Iw){for(var p=n[o],m=1;p>0&&(p--,r[p]===Iw);)m++;if(m%2!==0)return tn}return u===ty&&A===ry?tn:ny},xre=function(t,r){r||(r={lineBreak:"normal",wordBreak:"normal"});var n=gre(t,r.lineBreak),s=n[0],i=n[1],o=n[2];(r.wordBreak==="break-all"||r.wordBreak==="break-word")&&(i=i.map(function(c){return[Qa,Td,mL].indexOf(c)!==-1?tm:c}));var l=r.wordBreak==="keep-all"?o.map(function(c,u){return c&&t[u]>=19968&&t[u]<=40959}):void 0;return[s,i,l]},vre=function(){function t(r,n,s,i){this.codePoints=r,this.required=n===gL,this.start=s,this.end=i}return t.prototype.slice=function(){return Ls.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),bre=function(t,r){var n=T1(t),s=xre(n,r),i=s[0],o=s[1],l=s[2],c=n.length,u=0,d=0;return{next:function(){if(d>=c)return{done:!0,value:null};for(var A=tn;d<c&&(A=yre(n,o,i,++d,l))===tn;);if(A!==tn||d===c){var f=new vre(n,A,u,d);return u=d,{value:f,done:!1}}return{done:!0,value:null}}}},wre=1,jre=2,Dm=4,hE=8,pv=10,pE=47,i0=92,Nre=9,Sre=32,sy=34,jp=61,Bre=35,Cre=36,_re=37,iy=39,ay=40,Np=41,Ere=95,Na=45,kre=33,Tre=60,Ore=62,Fre=64,Ire=91,Pre=93,Lre=61,Dre=123,oy=63,Ure=125,mE=124,Rre=126,Mre=128,gE=65533,Lw=42,Ud=43,Qre=44,$re=58,Hre=59,rm=46,Vre=0,zre=8,Kre=11,Gre=14,Wre=31,qre=127,ml=-1,xL=48,vL=97,bL=101,Yre=102,Xre=117,Jre=122,wL=65,jL=69,NL=70,Zre=85,ene=90,Yi=function(t){return t>=xL&&t<=57},tne=function(t){return t>=55296&&t<=57343},rf=function(t){return Yi(t)||t>=wL&&t<=NL||t>=vL&&t<=Yre},rne=function(t){return t>=vL&&t<=Jre},nne=function(t){return t>=wL&&t<=ene},sne=function(t){return rne(t)||nne(t)},ine=function(t){return t>=Mre},ly=function(t){return t===pv||t===Nre||t===Sre},mv=function(t){return sne(t)||ine(t)||t===Ere},yE=function(t){return mv(t)||Yi(t)||t===Na},ane=function(t){return t>=Vre&&t<=zre||t===Kre||t>=Gre&&t<=Wre||t===qre},lu=function(t,r){return t!==i0?!1:r!==pv},cy=function(t,r,n){return t===Na?mv(r)||lu(r,n):mv(t)?!0:!!(t===i0&&lu(t,r))},Dw=function(t,r,n){return t===Ud||t===Na?Yi(r)?!0:r===rm&&Yi(n):Yi(t===rm?r:t)},one=function(t){var r=0,n=1;(t[r]===Ud||t[r]===Na)&&(t[r]===Na&&(n=-1),r++);for(var s=[];Yi(t[r]);)s.push(t[r++]);var i=s.length?parseInt(Ls.apply(void 0,s),10):0;t[r]===rm&&r++;for(var o=[];Yi(t[r]);)o.push(t[r++]);var l=o.length,c=l?parseInt(Ls.apply(void 0,o),10):0;(t[r]===jL||t[r]===bL)&&r++;var u=1;(t[r]===Ud||t[r]===Na)&&(t[r]===Na&&(u=-1),r++);for(var d=[];Yi(t[r]);)d.push(t[r++]);var A=d.length?parseInt(Ls.apply(void 0,d),10):0;return n*(i+c*Math.pow(10,-l))*Math.pow(10,u*A)},lne={type:2},cne={type:3},une={type:4},dne={type:13},Ane={type:8},fne={type:21},hne={type:9},pne={type:10},mne={type:11},gne={type:12},yne={type:14},uy={type:23},xne={type:1},vne={type:25},bne={type:24},wne={type:26},jne={type:27},Nne={type:28},Sne={type:29},Bne={type:31},C4={type:32},SL=function(){function t(){this._value=[]}return t.prototype.write=function(r){this._value=this._value.concat(T1(r))},t.prototype.read=function(){for(var r=[],n=this.consumeToken();n!==C4;)r.push(n),n=this.consumeToken();return r},t.prototype.consumeToken=function(){var r=this.consumeCodePoint();switch(r){case sy:return this.consumeStringToken(sy);case Bre:var n=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(yE(n)||lu(s,i)){var o=cy(n,s,i)?jre:wre,l=this.consumeName();return{type:5,value:l,flags:o}}break;case Cre:if(this.peekCodePoint(0)===jp)return this.consumeCodePoint(),dne;break;case iy:return this.consumeStringToken(iy);case ay:return lne;case Np:return cne;case Lw:if(this.peekCodePoint(0)===jp)return this.consumeCodePoint(),yne;break;case Ud:if(Dw(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case Qre:return une;case Na:var c=r,u=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Dw(c,u,d))return this.reconsumeCodePoint(r),this.consumeNumericToken();if(cy(c,u,d))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();if(u===Na&&d===Ore)return this.consumeCodePoint(),this.consumeCodePoint(),bne;break;case rm:if(Dw(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case pE:if(this.peekCodePoint(0)===Lw)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===Lw&&(A=this.consumeCodePoint(),A===pE))return this.consumeToken();if(A===ml)return this.consumeToken()}break;case $re:return wne;case Hre:return jne;case Tre:if(this.peekCodePoint(0)===kre&&this.peekCodePoint(1)===Na&&this.peekCodePoint(2)===Na)return this.consumeCodePoint(),this.consumeCodePoint(),vne;break;case Fre:var f=this.peekCodePoint(0),h=this.peekCodePoint(1),p=this.peekCodePoint(2);if(cy(f,h,p)){var l=this.consumeName();return{type:7,value:l}}break;case Ire:return Nne;case i0:if(lu(r,this.peekCodePoint(0)))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();break;case Pre:return Sne;case Lre:if(this.peekCodePoint(0)===jp)return this.consumeCodePoint(),Ane;break;case Dre:return mne;case Ure:return gne;case Xre:case Zre:var m=this.peekCodePoint(0),g=this.peekCodePoint(1);return m===Ud&&(rf(g)||g===oy)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(r),this.consumeIdentLikeToken();case mE:if(this.peekCodePoint(0)===jp)return this.consumeCodePoint(),hne;if(this.peekCodePoint(0)===mE)return this.consumeCodePoint(),fne;break;case Rre:if(this.peekCodePoint(0)===jp)return this.consumeCodePoint(),pne;break;case ml:return C4}return ly(r)?(this.consumeWhiteSpace(),Bne):Yi(r)?(this.reconsumeCodePoint(r),this.consumeNumericToken()):mv(r)?(this.reconsumeCodePoint(r),this.consumeIdentLikeToken()):{type:6,value:Ls(r)}},t.prototype.consumeCodePoint=function(){var r=this._value.shift();return typeof r>"u"?-1:r},t.prototype.reconsumeCodePoint=function(r){this._value.unshift(r)},t.prototype.peekCodePoint=function(r){return r>=this._value.length?-1:this._value[r]},t.prototype.consumeUnicodeRangeToken=function(){for(var r=[],n=this.consumeCodePoint();rf(n)&&r.length<6;)r.push(n),n=this.consumeCodePoint();for(var s=!1;n===oy&&r.length<6;)r.push(n),n=this.consumeCodePoint(),s=!0;if(s){var i=parseInt(Ls.apply(void 0,r.map(function(u){return u===oy?xL:u})),16),o=parseInt(Ls.apply(void 0,r.map(function(u){return u===oy?NL:u})),16);return{type:30,start:i,end:o}}var l=parseInt(Ls.apply(void 0,r),16);if(this.peekCodePoint(0)===Na&&rf(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var c=[];rf(n)&&c.length<6;)c.push(n),n=this.consumeCodePoint();var o=parseInt(Ls.apply(void 0,c),16);return{type:30,start:l,end:o}}else return{type:30,start:l,end:l}},t.prototype.consumeIdentLikeToken=function(){var r=this.consumeName();return r.toLowerCase()==="url"&&this.peekCodePoint(0)===ay?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ay?(this.consumeCodePoint(),{type:19,value:r}):{type:20,value:r}},t.prototype.consumeUrlToken=function(){var r=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ml)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===iy||n===sy){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ml||this.peekCodePoint(0)===Np)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),uy)}for(;;){var i=this.consumeCodePoint();if(i===ml||i===Np)return{type:22,value:Ls.apply(void 0,r)};if(ly(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ml||this.peekCodePoint(0)===Np?(this.consumeCodePoint(),{type:22,value:Ls.apply(void 0,r)}):(this.consumeBadUrlRemnants(),uy);if(i===sy||i===iy||i===ay||ane(i))return this.consumeBadUrlRemnants(),uy;if(i===i0)if(lu(i,this.peekCodePoint(0)))r.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),uy;else r.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;ly(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var r=this.consumeCodePoint();if(r===Np||r===ml)return;lu(r,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(r){for(var n=5e4,s="";r>0;){var i=Math.min(n,r);s+=Ls.apply(void 0,this._value.splice(0,i)),r-=i}return this._value.shift(),s},t.prototype.consumeStringToken=function(r){var n="",s=0;do{var i=this._value[s];if(i===ml||i===void 0||i===r)return n+=this.consumeStringSlice(s),{type:0,value:n};if(i===pv)return this._value.splice(0,s),xne;if(i===i0){var o=this._value[s+1];o!==ml&&o!==void 0&&(o===pv?(n+=this.consumeStringSlice(s),s=-1,this._value.shift()):lu(i,o)&&(n+=this.consumeStringSlice(s),n+=Ls(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},t.prototype.consumeNumber=function(){var r=[],n=Dm,s=this.peekCodePoint(0);for((s===Ud||s===Na)&&r.push(this.consumeCodePoint());Yi(this.peekCodePoint(0));)r.push(this.consumeCodePoint());s=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(s===rm&&Yi(i))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),n=hE;Yi(this.peekCodePoint(0));)r.push(this.consumeCodePoint());s=this.peekCodePoint(0),i=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((s===jL||s===bL)&&((i===Ud||i===Na)&&Yi(o)||Yi(i)))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),n=hE;Yi(this.peekCodePoint(0));)r.push(this.consumeCodePoint());return[one(r),n]},t.prototype.consumeNumericToken=function(){var r=this.consumeNumber(),n=r[0],s=r[1],i=this.peekCodePoint(0),o=this.peekCodePoint(1),l=this.peekCodePoint(2);if(cy(i,o,l)){var c=this.consumeName();return{type:15,number:n,flags:s,unit:c}}return i===_re?(this.consumeCodePoint(),{type:16,number:n,flags:s}):{type:17,number:n,flags:s}},t.prototype.consumeEscapedCodePoint=function(){var r=this.consumeCodePoint();if(rf(r)){for(var n=Ls(r);rf(this.peekCodePoint(0))&&n.length<6;)n+=Ls(this.consumeCodePoint());ly(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(n,16);return s===0||tne(s)||s>1114111?gE:s}return r===ml?gE:r},t.prototype.consumeName=function(){for(var r="";;){var n=this.consumeCodePoint();if(yE(n))r+=Ls(n);else if(lu(n,this.peekCodePoint(0)))r+=Ls(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),r}},t}(),BL=function(){function t(r){this._tokens=r}return t.create=function(r){var n=new SL;return n.write(r),new t(n.read())},t.parseValue=function(r){return t.create(r).parseComponentValue()},t.parseValues=function(r){return t.create(r).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var r=this.consumeToken();r.type===31;)r=this.consumeToken();if(r.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(r);var n=this.consumeComponentValue();do r=this.consumeToken();while(r.type===31);if(r.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var r=[];;){var n=this.consumeComponentValue();if(n.type===32)return r;r.push(n),r.push()}},t.prototype.consumeComponentValue=function(){var r=this.consumeToken();switch(r.type){case 11:case 28:case 2:return this.consumeSimpleBlock(r.type);case 19:return this.consumeFunction(r)}return r},t.prototype.consumeSimpleBlock=function(r){for(var n={type:r,values:[]},s=this.consumeToken();;){if(s.type===32||_ne(s,r))return n;this.reconsumeToken(s),n.values.push(this.consumeComponentValue()),s=this.consumeToken()}},t.prototype.consumeFunction=function(r){for(var n={name:r.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return n;this.reconsumeToken(s),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var r=this._tokens.shift();return typeof r>"u"?C4:r},t.prototype.reconsumeToken=function(r){this._tokens.unshift(r)},t}(),Um=function(t){return t.type===15},Dh=function(t){return t.type===17},Mn=function(t){return t.type===20},Cne=function(t){return t.type===0},_4=function(t,r){return Mn(t)&&t.value===r},CL=function(t){return t.type!==31},wh=function(t){return t.type!==31&&t.type!==4},Xl=function(t){var r=[],n=[];return t.forEach(function(s){if(s.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");r.push(n),n=[];return}s.type!==31&&n.push(s)}),n.length&&r.push(n),r},_ne=function(t,r){return r===11&&t.type===12||r===28&&t.type===29?!0:r===2&&t.type===3},Yu=function(t){return t.type===17||t.type===15},Xs=function(t){return t.type===16||Yu(t)},_L=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Ii={type:17,number:0,flags:Dm},aS={type:16,number:50,flags:Dm},wu={type:16,number:100,flags:Dm},Mp=function(t,r,n){var s=t[0],i=t[1];return[Xn(s,r),Xn(typeof i<"u"?i:s,n)]},Xn=function(t,r){if(t.type===16)return t.number/100*r;if(Um(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},EL="deg",kL="grad",TL="rad",OL="turn",O1={name:"angle",parse:function(t,r){if(r.type===15)switch(r.unit){case EL:return Math.PI*r.number/180;case kL:return Math.PI/200*r.number;case TL:return r.number;case OL:return Math.PI*2*r.number}throw new Error("Unsupported angle type")}},FL=function(t){return t.type===15&&(t.unit===EL||t.unit===kL||t.unit===TL||t.unit===OL)},IL=function(t){var r=t.filter(Mn).map(function(n){return n.value}).join(" ");switch(r){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ii,Ii];case"to top":case"bottom":return jo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ii,wu];case"to right":case"left":return jo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[wu,wu];case"to bottom":case"top":return jo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[wu,Ii];case"to left":case"right":return jo(270)}return 0},jo=function(t){return Math.PI*t/180},Mu={name:"color",parse:function(t,r){if(r.type===18){var n=Ene[r.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+r.name+'"');return n(t,r.values)}if(r.type===5){if(r.value.length===3){var s=r.value.substring(0,1),i=r.value.substring(1,2),o=r.value.substring(2,3);return ju(parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(r.value.length===4){var s=r.value.substring(0,1),i=r.value.substring(1,2),o=r.value.substring(2,3),l=r.value.substring(3,4);return ju(parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(l+l,16)/255)}if(r.value.length===6){var s=r.value.substring(0,2),i=r.value.substring(2,4),o=r.value.substring(4,6);return ju(parseInt(s,16),parseInt(i,16),parseInt(o,16),1)}if(r.value.length===8){var s=r.value.substring(0,2),i=r.value.substring(2,4),o=r.value.substring(4,6),l=r.value.substring(6,8);return ju(parseInt(s,16),parseInt(i,16),parseInt(o,16),parseInt(l,16)/255)}}if(r.type===20){var c=xc[r.value.toUpperCase()];if(typeof c<"u")return c}return xc.TRANSPARENT}},Qu=function(t){return(255&t)===0},pi=function(t){var r=255&t,n=255&t>>8,s=255&t>>16,i=255&t>>24;return r<255?"rgba("+i+","+s+","+n+","+r/255+")":"rgb("+i+","+s+","+n+")"},ju=function(t,r,n,s){return(t<<24|r<<16|n<<8|Math.round(s*255)<<0)>>>0},xE=function(t,r){if(t.type===17)return t.number;if(t.type===16){var n=r===3?1:255;return r===3?t.number/100*n:Math.round(t.number/100*n)}return 0},vE=function(t,r){var n=r.filter(wh);if(n.length===3){var s=n.map(xE),i=s[0],o=s[1],l=s[2];return ju(i,o,l,1)}if(n.length===4){var c=n.map(xE),i=c[0],o=c[1],l=c[2],u=c[3];return ju(i,o,l,u)}return 0};function Uw(t,r,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(r-t)*n*6+t:n<1/2?r:n<2/3?(r-t)*6*(2/3-n)+t:t}var bE=function(t,r){var n=r.filter(wh),s=n[0],i=n[1],o=n[2],l=n[3],c=(s.type===17?jo(s.number):O1.parse(t,s))/(Math.PI*2),u=Xs(i)?i.number/100:0,d=Xs(o)?o.number/100:0,A=typeof l<"u"&&Xs(l)?Xn(l,1):1;if(u===0)return ju(d*255,d*255,d*255,1);var f=d<=.5?d*(u+1):d+u-d*u,h=d*2-f,p=Uw(h,f,c+1/3),m=Uw(h,f,c),g=Uw(h,f,c-1/3);return ju(p*255,m*255,g*255,A)},Ene={hsl:bE,hsla:bE,rgb:vE,rgba:vE},a0=function(t,r){return Mu.parse(t,BL.create(r).parseComponentValue())},xc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},kne={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,r){return r.map(function(n){if(Mn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Tne={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},F1=function(t,r){var n=Mu.parse(t,r[0]),s=r[1];return s&&Xs(s)?{color:n,stop:s}:{color:n,stop:null}},wE=function(t,r){var n=t[0],s=t[t.length-1];n.stop===null&&(n.stop=Ii),s.stop===null&&(s.stop=wu);for(var i=[],o=0,l=0;l<t.length;l++){var c=t[l].stop;if(c!==null){var u=Xn(c,r);u>o?i.push(u):i.push(o),o=u}else i.push(null)}for(var d=null,l=0;l<i.length;l++){var A=i[l];if(A===null)d===null&&(d=l);else if(d!==null){for(var f=l-d,h=i[d-1],p=(A-h)/(f+1),m=1;m<=f;m++)i[d+m-1]=p*m;d=null}}return t.map(function(g,b){var y=g.color;return{color:y,stop:Math.max(Math.min(1,i[b]/r),0)}})},One=function(t,r,n){var s=r/2,i=n/2,o=Xn(t[0],r)-s,l=i-Xn(t[1],n);return(Math.atan2(l,o)+Math.PI*2)%(Math.PI*2)},Fne=function(t,r,n){var s=typeof t=="number"?t:One(t,r,n),i=Math.abs(r*Math.sin(s))+Math.abs(n*Math.cos(s)),o=r/2,l=n/2,c=i/2,u=Math.sin(s-Math.PI/2)*c,d=Math.cos(s-Math.PI/2)*c;return[i,o-d,o+d,l-u,l+u]},Vo=function(t,r){return Math.sqrt(t*t+r*r)},jE=function(t,r,n,s,i){var o=[[0,0],[0,r],[t,0],[t,r]];return o.reduce(function(l,c){var u=c[0],d=c[1],A=Vo(n-u,s-d);return(i?A<l.optimumDistance:A>l.optimumDistance)?{optimumCorner:c,optimumDistance:A}:l},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Ine=function(t,r,n,s,i){var o=0,l=0;switch(t.size){case 0:t.shape===0?o=l=Math.min(Math.abs(r),Math.abs(r-s),Math.abs(n),Math.abs(n-i)):t.shape===1&&(o=Math.min(Math.abs(r),Math.abs(r-s)),l=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)o=l=Math.min(Vo(r,n),Vo(r,n-i),Vo(r-s,n),Vo(r-s,n-i));else if(t.shape===1){var c=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(r),Math.abs(r-s)),u=jE(s,i,r,n,!0),d=u[0],A=u[1];o=Vo(d-r,(A-n)/c),l=c*o}break;case 1:t.shape===0?o=l=Math.max(Math.abs(r),Math.abs(r-s),Math.abs(n),Math.abs(n-i)):t.shape===1&&(o=Math.max(Math.abs(r),Math.abs(r-s)),l=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)o=l=Math.max(Vo(r,n),Vo(r,n-i),Vo(r-s,n),Vo(r-s,n-i));else if(t.shape===1){var c=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(r),Math.abs(r-s)),f=jE(s,i,r,n,!1),d=f[0],A=f[1];o=Vo(d-r,(A-n)/c),l=c*o}break}return Array.isArray(t.size)&&(o=Xn(t.size[0],s),l=t.size.length===2?Xn(t.size[1],i):o),[o,l]},Pne=function(t,r){var n=jo(180),s=[];return Xl(r).forEach(function(i,o){if(o===0){var l=i[0];if(l.type===20&&l.value==="to"){n=IL(i);return}else if(FL(l)){n=O1.parse(t,l);return}}var c=F1(t,i);s.push(c)}),{angle:n,stops:s,type:1}},dy=function(t,r){var n=jo(180),s=[];return Xl(r).forEach(function(i,o){if(o===0){var l=i[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){n=IL(i);return}else if(FL(l)){n=(O1.parse(t,l)+jo(270))%jo(360);return}}var c=F1(t,i);s.push(c)}),{angle:n,stops:s,type:1}},Lne=function(t,r){var n=jo(180),s=[],i=1,o=0,l=3,c=[];return Xl(r).forEach(function(u,d){var A=u[0];if(d===0){if(Mn(A)&&A.value==="linear"){i=1;return}else if(Mn(A)&&A.value==="radial"){i=2;return}}if(A.type===18){if(A.name==="from"){var f=Mu.parse(t,A.values[0]);s.push({stop:Ii,color:f})}else if(A.name==="to"){var f=Mu.parse(t,A.values[0]);s.push({stop:wu,color:f})}else if(A.name==="color-stop"){var h=A.values.filter(wh);if(h.length===2){var f=Mu.parse(t,h[1]),p=h[0];Dh(p)&&s.push({stop:{type:16,number:p.number*100,flags:p.flags},color:f})}}}}),i===1?{angle:(n+jo(180))%jo(360),stops:s,type:i}:{size:l,shape:o,stops:s,position:c,type:i}},PL="closest-side",LL="farthest-side",DL="closest-corner",UL="farthest-corner",RL="circle",ML="ellipse",QL="cover",$L="contain",Dne=function(t,r){var n=0,s=3,i=[],o=[];return Xl(r).forEach(function(l,c){var u=!0;if(c===0){var d=!1;u=l.reduce(function(f,h){if(d)if(Mn(h))switch(h.value){case"center":return o.push(aS),f;case"top":case"left":return o.push(Ii),f;case"right":case"bottom":return o.push(wu),f}else(Xs(h)||Yu(h))&&o.push(h);else if(Mn(h))switch(h.value){case RL:return n=0,!1;case ML:return n=1,!1;case"at":return d=!0,!1;case PL:return s=0,!1;case QL:case LL:return s=1,!1;case $L:case DL:return s=2,!1;case UL:return s=3,!1}else if(Yu(h)||Xs(h))return Array.isArray(s)||(s=[]),s.push(h),!1;return f},u)}if(u){var A=F1(t,l);i.push(A)}}),{size:s,shape:n,stops:i,position:o,type:2}},Ay=function(t,r){var n=0,s=3,i=[],o=[];return Xl(r).forEach(function(l,c){var u=!0;if(c===0?u=l.reduce(function(A,f){if(Mn(f))switch(f.value){case"center":return o.push(aS),!1;case"top":case"left":return o.push(Ii),!1;case"right":case"bottom":return o.push(wu),!1}else if(Xs(f)||Yu(f))return o.push(f),!1;return A},u):c===1&&(u=l.reduce(function(A,f){if(Mn(f))switch(f.value){case RL:return n=0,!1;case ML:return n=1,!1;case $L:case PL:return s=0,!1;case LL:return s=1,!1;case DL:return s=2,!1;case QL:case UL:return s=3,!1}else if(Yu(f)||Xs(f))return Array.isArray(s)||(s=[]),s.push(f),!1;return A},u)),u){var d=F1(t,l);i.push(d)}}),{size:s,shape:n,stops:i,position:o,type:2}},Une=function(t){return t.type===1},Rne=function(t){return t.type===2},oS={name:"image",parse:function(t,r){if(r.type===22){var n={url:r.value,type:0};return t.cache.addImage(r.value),n}if(r.type===18){var s=HL[r.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+r.name+'"');return s(t,r.values)}throw new Error("Unsupported image type "+r.type)}};function Mne(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!HL[t.name])}var HL={"linear-gradient":Pne,"-moz-linear-gradient":dy,"-ms-linear-gradient":dy,"-o-linear-gradient":dy,"-webkit-linear-gradient":dy,"radial-gradient":Dne,"-moz-radial-gradient":Ay,"-ms-radial-gradient":Ay,"-o-radial-gradient":Ay,"-webkit-radial-gradient":Ay,"-webkit-gradient":Lne},Qne={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,r){if(r.length===0)return[];var n=r[0];return n.type===20&&n.value==="none"?[]:r.filter(function(s){return wh(s)&&Mne(s)}).map(function(s){return oS.parse(t,s)})}},$ne={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,r){return r.map(function(n){if(Mn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Hne={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,r){return Xl(r).map(function(n){return n.filter(Xs)}).map(_L)}},Vne={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,r){return Xl(r).map(function(n){return n.filter(Mn).map(function(s){return s.value}).join(" ")}).map(zne)}},zne=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},rh;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(rh||(rh={}));var Kne={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,r){return Xl(r).map(function(n){return n.filter(Gne)})}},Gne=function(t){return Mn(t)||Xs(t)},I1=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Wne=I1("top"),qne=I1("right"),Yne=I1("bottom"),Xne=I1("left"),P1=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(r,n){return _L(n.filter(Xs))}}},Jne=P1("top-left"),Zne=P1("top-right"),ese=P1("bottom-right"),tse=P1("bottom-left"),L1=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(r,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rse=L1("top"),nse=L1("right"),sse=L1("bottom"),ise=L1("left"),D1=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(r,n){return Um(n)?n.number:0}}},ase=D1("top"),ose=D1("right"),lse=D1("bottom"),cse=D1("left"),use={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dse={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,r){switch(r){case"rtl":return 1;case"ltr":default:return 0}}},Ase={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,r){return r.filter(Mn).reduce(function(n,s){return n|fse(s.value)},0)}},fse=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},hse={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,r){switch(r){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},pse={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,r){return r.type===20&&r.value==="normal"?0:r.type===17||r.type===15?r.number:0}},gv;(function(t){t.NORMAL="normal",t.STRICT="strict"})(gv||(gv={}));var mse={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,r){switch(r){case"strict":return gv.STRICT;case"normal":default:return gv.NORMAL}}},gse={name:"line-height",initialValue:"normal",prefix:!1,type:4},NE=function(t,r){return Mn(t)&&t.value==="normal"?1.2*r:t.type===17?r*t.number:Xs(t)?Xn(t,r):r},yse={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,r){return r.type===20&&r.value==="none"?null:oS.parse(t,r)}},xse={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,r){switch(r){case"inside":return 0;case"outside":default:return 1}}},E4={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,r){switch(r){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},U1=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},vse=U1("top"),bse=U1("right"),wse=U1("bottom"),jse=U1("left"),Nse={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,r){return r.filter(Mn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Sse={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,r){switch(r){case"break-word":return"break-word";case"normal":default:return"normal"}}},R1=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Bse=R1("top"),Cse=R1("right"),_se=R1("bottom"),Ese=R1("left"),kse={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,r){switch(r){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Tse={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,r){switch(r){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ose={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,r){return r.length===1&&_4(r[0],"none")?[]:Xl(r).map(function(n){for(var s={color:xc.TRANSPARENT,offsetX:Ii,offsetY:Ii,blur:Ii},i=0,o=0;o<n.length;o++){var l=n[o];Yu(l)?(i===0?s.offsetX=l:i===1?s.offsetY=l:s.blur=l,i++):s.color=Mu.parse(t,l)}return s})}},Fse={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,r){switch(r){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ise={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,r){if(r.type===20&&r.value==="none")return null;if(r.type===18){var n=Dse[r.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+r.name+'"');return n(r.values)}return null}},Pse=function(t){var r=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return r.length===6?r:null},Lse=function(t){var r=t.filter(function(u){return u.type===17}).map(function(u){return u.number}),n=r[0],s=r[1];r[2],r[3];var i=r[4],o=r[5];r[6],r[7],r[8],r[9],r[10],r[11];var l=r[12],c=r[13];return r[14],r[15],r.length===16?[n,s,i,o,l,c]:null},Dse={matrix:Pse,matrix3d:Lse},SE={type:16,number:50,flags:Dm},Use=[SE,SE],Rse={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,r){var n=r.filter(Xs);return n.length!==2?Use:[n[0],n[1]]}},Mse={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,r){switch(r){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},o0;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(o0||(o0={}));var Qse={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,r){switch(r){case"break-all":return o0.BREAK_ALL;case"keep-all":return o0.KEEP_ALL;case"normal":default:return o0.NORMAL}}},$se={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,r){if(r.type===20)return{auto:!0,order:0};if(Dh(r))return{auto:!1,order:r.number};throw new Error("Invalid z-index number parsed")}},VL={name:"time",parse:function(t,r){if(r.type===15)switch(r.unit.toLowerCase()){case"s":return 1e3*r.number;case"ms":return r.number}throw new Error("Unsupported time type")}},Hse={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,r){return Dh(r)?r.number:1}},Vse={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zse={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,r){return r.filter(Mn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},Kse={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,r){var n=[],s=[];return r.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:s.push(n.join(" ")),n.length=0;break}}),n.length&&s.push(n.join(" ")),s.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Gse={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Wse={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,r){if(Dh(r))return r.number;if(Mn(r))switch(r.value){case"bold":return 700;case"normal":default:return 400}return 400}},qse={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,r){return r.filter(Mn).map(function(n){return n.value})}},Yse={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,r){switch(r){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ai=function(t,r){return(t&r)!==0},Xse={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,r){if(r.length===0)return[];var n=r[0];return n.type===20&&n.value==="none"?[]:r}},Jse={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,r){if(r.length===0)return null;var n=r[0];if(n.type===20&&n.value==="none")return null;for(var s=[],i=r.filter(CL),o=0;o<i.length;o++){var l=i[o],c=i[o+1];if(l.type===20){var u=c&&Dh(c)?c.number:1;s.push({counter:l.value,increment:u})}}return s}},Zse={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,r){if(r.length===0)return[];for(var n=[],s=r.filter(CL),i=0;i<s.length;i++){var o=s[i],l=s[i+1];if(Mn(o)&&o.value!=="none"){var c=l&&Dh(l)?l.number:0;n.push({counter:o.value,reset:c})}}return n}},eie={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,r){return r.filter(Um).map(function(n){return VL.parse(t,n)})}},tie={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,r){if(r.length===0)return null;var n=r[0];if(n.type===20&&n.value==="none")return null;var s=[],i=r.filter(Cne);if(i.length%2!==0)return null;for(var o=0;o<i.length;o+=2){var l=i[o].value,c=i[o+1].value;s.push({open:l,close:c})}return s}},BE=function(t,r,n){if(!t)return"";var s=t[Math.min(r,t.length-1)];return s?n?s.open:s.close:""},rie={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,r){return r.length===1&&_4(r[0],"none")?[]:Xl(r).map(function(n){for(var s={color:255,offsetX:Ii,offsetY:Ii,blur:Ii,spread:Ii,inset:!1},i=0,o=0;o<n.length;o++){var l=n[o];_4(l,"inset")?s.inset=!0:Yu(l)?(i===0?s.offsetX=l:i===1?s.offsetY=l:i===2?s.blur=l:s.spread=l,i++):s.color=Mu.parse(t,l)}return s})}},nie={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,r){var n=[0,1,2],s=[];return r.filter(Mn).forEach(function(i){switch(i.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),n.forEach(function(i){s.indexOf(i)===-1&&s.push(i)}),s}},sie={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},iie={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Um(r)?r.number:0}},aie=function(){function t(r,n){var s,i;this.animationDuration=nr(r,eie,n.animationDuration),this.backgroundClip=nr(r,kne,n.backgroundClip),this.backgroundColor=nr(r,Tne,n.backgroundColor),this.backgroundImage=nr(r,Qne,n.backgroundImage),this.backgroundOrigin=nr(r,$ne,n.backgroundOrigin),this.backgroundPosition=nr(r,Hne,n.backgroundPosition),this.backgroundRepeat=nr(r,Vne,n.backgroundRepeat),this.backgroundSize=nr(r,Kne,n.backgroundSize),this.borderTopColor=nr(r,Wne,n.borderTopColor),this.borderRightColor=nr(r,qne,n.borderRightColor),this.borderBottomColor=nr(r,Yne,n.borderBottomColor),this.borderLeftColor=nr(r,Xne,n.borderLeftColor),this.borderTopLeftRadius=nr(r,Jne,n.borderTopLeftRadius),this.borderTopRightRadius=nr(r,Zne,n.borderTopRightRadius),this.borderBottomRightRadius=nr(r,ese,n.borderBottomRightRadius),this.borderBottomLeftRadius=nr(r,tse,n.borderBottomLeftRadius),this.borderTopStyle=nr(r,rse,n.borderTopStyle),this.borderRightStyle=nr(r,nse,n.borderRightStyle),this.borderBottomStyle=nr(r,sse,n.borderBottomStyle),this.borderLeftStyle=nr(r,ise,n.borderLeftStyle),this.borderTopWidth=nr(r,ase,n.borderTopWidth),this.borderRightWidth=nr(r,ose,n.borderRightWidth),this.borderBottomWidth=nr(r,lse,n.borderBottomWidth),this.borderLeftWidth=nr(r,cse,n.borderLeftWidth),this.boxShadow=nr(r,rie,n.boxShadow),this.color=nr(r,use,n.color),this.direction=nr(r,dse,n.direction),this.display=nr(r,Ase,n.display),this.float=nr(r,hse,n.cssFloat),this.fontFamily=nr(r,Kse,n.fontFamily),this.fontSize=nr(r,Gse,n.fontSize),this.fontStyle=nr(r,Yse,n.fontStyle),this.fontVariant=nr(r,qse,n.fontVariant),this.fontWeight=nr(r,Wse,n.fontWeight),this.letterSpacing=nr(r,pse,n.letterSpacing),this.lineBreak=nr(r,mse,n.lineBreak),this.lineHeight=nr(r,gse,n.lineHeight),this.listStyleImage=nr(r,yse,n.listStyleImage),this.listStylePosition=nr(r,xse,n.listStylePosition),this.listStyleType=nr(r,E4,n.listStyleType),this.marginTop=nr(r,vse,n.marginTop),this.marginRight=nr(r,bse,n.marginRight),this.marginBottom=nr(r,wse,n.marginBottom),this.marginLeft=nr(r,jse,n.marginLeft),this.opacity=nr(r,Hse,n.opacity);var o=nr(r,Nse,n.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=nr(r,Sse,n.overflowWrap),this.paddingTop=nr(r,Bse,n.paddingTop),this.paddingRight=nr(r,Cse,n.paddingRight),this.paddingBottom=nr(r,_se,n.paddingBottom),this.paddingLeft=nr(r,Ese,n.paddingLeft),this.paintOrder=nr(r,nie,n.paintOrder),this.position=nr(r,Tse,n.position),this.textAlign=nr(r,kse,n.textAlign),this.textDecorationColor=nr(r,Vse,(s=n.textDecorationColor)!==null&&s!==void 0?s:n.color),this.textDecorationLine=nr(r,zse,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=nr(r,Ose,n.textShadow),this.textTransform=nr(r,Fse,n.textTransform),this.transform=nr(r,Ise,n.transform),this.transformOrigin=nr(r,Rse,n.transformOrigin),this.visibility=nr(r,Mse,n.visibility),this.webkitTextStrokeColor=nr(r,sie,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=nr(r,iie,n.webkitTextStrokeWidth),this.wordBreak=nr(r,Qse,n.wordBreak),this.zIndex=nr(r,$se,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Qu(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return ai(this.display,4)||ai(this.display,33554432)||ai(this.display,268435456)||ai(this.display,536870912)||ai(this.display,67108864)||ai(this.display,134217728)},t}(),oie=function(){function t(r,n){this.content=nr(r,Xse,n.content),this.quotes=nr(r,tie,n.quotes)}return t}(),CE=function(){function t(r,n){this.counterIncrement=nr(r,Jse,n.counterIncrement),this.counterReset=nr(r,Zse,n.counterReset)}return t}(),nr=function(t,r,n){var s=new SL,i=n!==null&&typeof n<"u"?n.toString():r.initialValue;s.write(i);var o=new BL(s.read());switch(r.type){case 2:var l=o.parseComponentValue();return r.parse(t,Mn(l)?l.value:r.initialValue);case 0:return r.parse(t,o.parseComponentValue());case 1:return r.parse(t,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(r.format){case"angle":return O1.parse(t,o.parseComponentValue());case"color":return Mu.parse(t,o.parseComponentValue());case"image":return oS.parse(t,o.parseComponentValue());case"length":var c=o.parseComponentValue();return Yu(c)?c:Ii;case"length-percentage":var u=o.parseComponentValue();return Xs(u)?u:Ii;case"time":return VL.parse(t,o.parseComponentValue())}break}},lie="data-html2canvas-debug",cie=function(t){var r=t.getAttribute(lie);switch(r){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},k4=function(t,r){var n=cie(t);return n===1||r===n},Jl=function(){function t(r,n){if(this.context=r,this.textNodes=[],this.elements=[],this.flags=0,k4(n,3))debugger;this.styles=new aie(r,window.getComputedStyle(n,null)),F4(n)&&(this.styles.animationDuration.some(function(s){return s>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=k1(this.context,n),k4(n,4)&&(this.flags|=16)}return t}(),uie="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",_E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fy=0;fy<_E.length;fy++)Qp[_E.charCodeAt(fy)]=fy;var die=function(t){var r=t.length*.75,n=t.length,s,i=0,o,l,c,u;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),A=Array.isArray(d)?d:new Uint8Array(d);for(s=0;s<n;s+=4)o=Qp[t.charCodeAt(s)],l=Qp[t.charCodeAt(s+1)],c=Qp[t.charCodeAt(s+2)],u=Qp[t.charCodeAt(s+3)],A[i++]=o<<2|l>>4,A[i++]=(l&15)<<4|c>>2,A[i++]=(c&3)<<6|u&63;return d},Aie=function(t){for(var r=t.length,n=[],s=0;s<r;s+=2)n.push(t[s+1]<<8|t[s]);return n},fie=function(t){for(var r=t.length,n=[],s=0;s<r;s+=4)n.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return n},eA=5,lS=11,Rw=2,hie=lS-eA,zL=65536>>eA,pie=1<<eA,Mw=pie-1,mie=1024>>eA,gie=zL+mie,yie=gie,xie=32,vie=yie+xie,bie=65536>>lS,wie=1<<hie,jie=wie-1,EE=function(t,r,n){return t.slice?t.slice(r,n):new Uint16Array(Array.prototype.slice.call(t,r,n))},Nie=function(t,r,n){return t.slice?t.slice(r,n):new Uint32Array(Array.prototype.slice.call(t,r,n))},Sie=function(t,r){var n=die(t),s=Array.isArray(n)?fie(n):new Uint32Array(n),i=Array.isArray(n)?Aie(n):new Uint16Array(n),o=24,l=EE(i,o/2,s[4]/2),c=s[5]===2?EE(i,(o+s[4])/2):Nie(s,Math.ceil((o+s[4])/4));return new Bie(s[0],s[1],s[2],s[3],l,c)},Bie=function(){function t(r,n,s,i,o,l){this.initialValue=r,this.errorValue=n,this.highStart=s,this.highValueIndex=i,this.index=o,this.data=l}return t.prototype.get=function(r){var n;if(r>=0){if(r<55296||r>56319&&r<=65535)return n=this.index[r>>eA],n=(n<<Rw)+(r&Mw),this.data[n];if(r<=65535)return n=this.index[zL+(r-55296>>eA)],n=(n<<Rw)+(r&Mw),this.data[n];if(r<this.highStart)return n=vie-bie+(r>>lS),n=this.index[n],n+=r>>eA&jie,n=this.index[n],n=(n<<Rw)+(r&Mw),this.data[n];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),kE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cie=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hy=0;hy<kE.length;hy++)Cie[kE.charCodeAt(hy)]=hy;var _ie=1,Qw=2,$w=3,TE=4,OE=5,Eie=7,FE=8,Hw=9,Vw=10,IE=11,PE=12,LE=13,DE=14,zw=15,kie=function(t){for(var r=[],n=0,s=t.length;n<s;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<s){var o=t.charCodeAt(n++);(o&64512)===56320?r.push(((i&1023)<<10)+(o&1023)+65536):(r.push(i),n--)}else r.push(i)}return r},Tie=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var s=[],i=-1,o="";++i<n;){var l=t[i];l<=65535?s.push(l):(l-=65536,s.push((l>>10)+55296,l%1024+56320)),(i+1===n||s.length>16384)&&(o+=String.fromCharCode.apply(String,s),s.length=0)}return o},Oie=Sie(uie),ho="×",Kw="÷",Fie=function(t){return Oie.get(t)},Iie=function(t,r,n){var s=n-2,i=r[s],o=r[n-1],l=r[n];if(o===Qw&&l===$w)return ho;if(o===Qw||o===$w||o===TE||l===Qw||l===$w||l===TE)return Kw;if(o===FE&&[FE,Hw,IE,PE].indexOf(l)!==-1||(o===IE||o===Hw)&&(l===Hw||l===Vw)||(o===PE||o===Vw)&&l===Vw||l===LE||l===OE||l===Eie||o===_ie)return ho;if(o===LE&&l===DE){for(;i===OE;)i=r[--s];if(i===DE)return ho}if(o===zw&&l===zw){for(var c=0;i===zw;)c++,i=r[--s];if(c%2===0)return ho}return Kw},Pie=function(t){var r=kie(t),n=r.length,s=0,i=0,o=r.map(Fie);return{next:function(){if(s>=n)return{done:!0,value:null};for(var l=ho;s<n&&(l=Iie(r,o,++s))===ho;);if(l!==ho||s===n){var c=Tie.apply(null,r.slice(i,s));return i=s,{value:c,done:!1}}return{done:!0,value:null}}}},Lie=function(t){for(var r=Pie(t),n=[],s;!(s=r.next()).done;)s.value&&n.push(s.value.slice());return n},Die=function(t){var r=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var s=t.createElement("boundtest");s.style.height=r+"px",s.style.display="block",t.body.appendChild(s),n.selectNode(s);var i=n.getBoundingClientRect(),o=Math.round(i.height);if(t.body.removeChild(s),o===r)return!0}}return!1},Uie=function(t){var r=t.createElement("boundtest");r.style.width="50px",r.style.display="block",r.style.fontSize="12px",r.style.letterSpacing="0px",r.style.wordSpacing="0px",t.body.appendChild(r);var n=t.createRange();r.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=r.firstChild,i=T1(s.data).map(function(u){return Ls(u)}),o=0,l={},c=i.every(function(u,d){n.setStart(s,o),n.setEnd(s,o+u.length);var A=n.getBoundingClientRect();o+=u.length;var f=A.x>l.x||A.y>l.y;return l=A,d===0?!0:f});return t.body.removeChild(r),c},Rie=function(){return typeof new Image().crossOrigin<"u"},Mie=function(){return typeof new XMLHttpRequest().responseType=="string"},Qie=function(t){var r=new Image,n=t.createElement("canvas"),s=n.getContext("2d");if(!s)return!1;r.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(r,0,0),n.toDataURL()}catch{return!1}return!0},UE=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},$ie=function(t){var r=t.createElement("canvas"),n=100;r.width=n,r.height=n;var s=r.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,n,n);var i=new Image,o=r.toDataURL();i.src=o;var l=T4(n,n,0,0,i);return s.fillStyle="red",s.fillRect(0,0,n,n),RE(l).then(function(c){s.drawImage(c,0,0);var u=s.getImageData(0,0,n,n).data;s.fillStyle="red",s.fillRect(0,0,n,n);var d=t.createElement("div");return d.style.backgroundImage="url("+o+")",d.style.height=n+"px",UE(u)?RE(T4(n,n,0,0,d)):Promise.reject(!1)}).then(function(c){return s.drawImage(c,0,0),UE(s.getImageData(0,0,n,n).data)}).catch(function(){return!1})},T4=function(t,r,n,s,i){var o="http://www.w3.org/2000/svg",l=document.createElementNS(o,"svg"),c=document.createElementNS(o,"foreignObject");return l.setAttributeNS(null,"width",t.toString()),l.setAttributeNS(null,"height",r.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",n.toString()),c.setAttributeNS(null,"y",s.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(c),c.appendChild(i),l},RE=function(t){return new Promise(function(r,n){var s=new Image;s.onload=function(){return r(s)},s.onerror=n,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ei={get SUPPORT_RANGE_BOUNDS(){var t=Die(document);return Object.defineProperty(Ei,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ei.SUPPORT_RANGE_BOUNDS&&Uie(document);return Object.defineProperty(Ei,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Qie(document);return Object.defineProperty(Ei,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?$ie(document):Promise.resolve(!1);return Object.defineProperty(Ei,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Rie();return Object.defineProperty(Ei,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Mie();return Object.defineProperty(Ei,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ei,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ei,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},l0=function(){function t(r,n){this.text=r,this.bounds=n}return t}(),Hie=function(t,r,n,s){var i=Kie(r,n),o=[],l=0;return i.forEach(function(c){if(n.textDecorationLine.length||c.trim().length>0)if(Ei.SUPPORT_RANGE_BOUNDS){var u=ME(s,l,c.length).getClientRects();if(u.length>1){var d=cS(c),A=0;d.forEach(function(h){o.push(new l0(h,Ec.fromDOMRectList(t,ME(s,A+l,h.length).getClientRects()))),A+=h.length})}else o.push(new l0(c,Ec.fromDOMRectList(t,u)))}else{var f=s.splitText(c.length);o.push(new l0(c,Vie(t,s))),s=f}else Ei.SUPPORT_RANGE_BOUNDS||(s=s.splitText(c.length));l+=c.length}),o},Vie=function(t,r){var n=r.ownerDocument;if(n){var s=n.createElement("html2canvaswrapper");s.appendChild(r.cloneNode(!0));var i=r.parentNode;if(i){i.replaceChild(s,r);var o=k1(t,s);return s.firstChild&&i.replaceChild(s.firstChild,s),o}}return Ec.EMPTY},ME=function(t,r,n){var s=t.ownerDocument;if(!s)throw new Error("Node has no owner document");var i=s.createRange();return i.setStart(t,r),i.setEnd(t,r+n),i},cS=function(t){if(Ei.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Lie(t)},zie=function(t,r){if(Ei.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(s){return s.segment})}return Wie(t,r)},Kie=function(t,r){return r.letterSpacing!==0?cS(t):zie(t,r)},Gie=[32,160,4961,65792,65793,4153,4241],Wie=function(t,r){for(var n=bre(t,{lineBreak:r.lineBreak,wordBreak:r.overflowWrap==="break-word"?"break-word":r.wordBreak}),s=[],i,o=function(){if(i.value){var l=i.value.slice(),c=T1(l),u="";c.forEach(function(d){Gie.indexOf(d)===-1?u+=Ls(d):(u.length&&s.push(u),s.push(Ls(d)),u="")}),u.length&&s.push(u)}};!(i=n.next()).done;)o();return s},qie=function(){function t(r,n,s){this.text=Yie(n.data,s.textTransform),this.textBounds=Hie(r,this.text,s,n)}return t}(),Yie=function(t,r){switch(r){case 1:return t.toLowerCase();case 3:return t.replace(Xie,Jie);case 2:return t.toUpperCase();default:return t}},Xie=/(^|\s|:|-|\(|\))([a-z])/g,Jie=function(t,r,n){return t.length>0?r+n.toUpperCase():t},KL=function(t){ul(r,t);function r(n,s){var i=t.call(this,n,s)||this;return i.src=s.currentSrc||s.src,i.intrinsicWidth=s.naturalWidth,i.intrinsicHeight=s.naturalHeight,i.context.cache.addImage(i.src),i}return r}(Jl),GL=function(t){ul(r,t);function r(n,s){var i=t.call(this,n,s)||this;return i.canvas=s,i.intrinsicWidth=s.width,i.intrinsicHeight=s.height,i}return r}(Jl),WL=function(t){ul(r,t);function r(n,s){var i=t.call(this,n,s)||this,o=new XMLSerializer,l=k1(n,s);return s.setAttribute("width",l.width+"px"),s.setAttribute("height",l.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(s)),i.intrinsicWidth=s.width.baseVal.value,i.intrinsicHeight=s.height.baseVal.value,i.context.cache.addImage(i.svg),i}return r}(Jl),qL=function(t){ul(r,t);function r(n,s){var i=t.call(this,n,s)||this;return i.value=s.value,i}return r}(Jl),O4=function(t){ul(r,t);function r(n,s){var i=t.call(this,n,s)||this;return i.start=s.start,i.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,i}return r}(Jl),Zie=[{type:15,flags:0,unit:"px",number:3}],eae=[{type:16,flags:0,number:50}],tae=function(t){return t.width>t.height?new Ec(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Ec(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},rae=function(t){var r=t.type===nae?new Array(t.value.length+1).join("•"):t.value;return r.length===0?t.placeholder||"":r},yv="checkbox",xv="radio",nae="password",QE=707406591,uS=function(t){ul(r,t);function r(n,s){var i=t.call(this,n,s)||this;switch(i.type=s.type.toLowerCase(),i.checked=s.checked,i.value=rae(s),(i.type===yv||i.type===xv)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=tae(i.bounds)),i.type){case yv:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Zie;break;case xv:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=eae;break}return i}return r}(Jl),YL=function(t){ul(r,t);function r(n,s){var i=t.call(this,n,s)||this,o=s.options[s.selectedIndex||0];return i.value=o&&o.text||"",i}return r}(Jl),XL=function(t){ul(r,t);function r(n,s){var i=t.call(this,n,s)||this;return i.value=s.value,i}return r}(Jl),JL=function(t){ul(r,t);function r(n,s){var i=t.call(this,n,s)||this;i.src=s.src,i.width=parseInt(s.width,10)||0,i.height=parseInt(s.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){i.tree=eD(n,s.contentWindow.document.documentElement);var o=s.contentWindow.document.documentElement?a0(n,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):xc.TRANSPARENT,l=s.contentWindow.document.body?a0(n,getComputedStyle(s.contentWindow.document.body).backgroundColor):xc.TRANSPARENT;i.backgroundColor=Qu(o)?Qu(l)?i.styles.backgroundColor:l:o}}catch{}return i}return r}(Jl),sae=["OL","UL","MENU"],ax=function(t,r,n,s){for(var i=r.firstChild,o=void 0;i;i=o)if(o=i.nextSibling,tD(i)&&i.data.trim().length>0)n.textNodes.push(new qie(t,i,n.styles));else if(If(i))if(iD(i)&&i.assignedNodes)i.assignedNodes().forEach(function(c){return ax(t,c,n,s)});else{var l=ZL(t,i);l.styles.isVisible()&&(iae(i,l,s)?l.flags|=4:aae(l.styles)&&(l.flags|=2),sae.indexOf(i.tagName)!==-1&&(l.flags|=8),n.elements.push(l),i.slot,i.shadowRoot?ax(t,i.shadowRoot,l,s):!vv(i)&&!rD(i)&&!bv(i)&&ax(t,i,l,s))}},ZL=function(t,r){return I4(r)?new KL(t,r):nD(r)?new GL(t,r):rD(r)?new WL(t,r):oae(r)?new qL(t,r):lae(r)?new O4(t,r):cae(r)?new uS(t,r):bv(r)?new YL(t,r):vv(r)?new XL(t,r):sD(r)?new JL(t,r):new Jl(t,r)},eD=function(t,r){var n=ZL(t,r);return n.flags|=4,ax(t,r,n,n),n},iae=function(t,r,n){return r.styles.isPositionedWithZIndex()||r.styles.opacity<1||r.styles.isTransformed()||dS(t)&&n.styles.isTransparent()},aae=function(t){return t.isPositioned()||t.isFloating()},tD=function(t){return t.nodeType===Node.TEXT_NODE},If=function(t){return t.nodeType===Node.ELEMENT_NODE},F4=function(t){return If(t)&&typeof t.style<"u"&&!ox(t)},ox=function(t){return typeof t.className=="object"},oae=function(t){return t.tagName==="LI"},lae=function(t){return t.tagName==="OL"},cae=function(t){return t.tagName==="INPUT"},uae=function(t){return t.tagName==="HTML"},rD=function(t){return t.tagName==="svg"},dS=function(t){return t.tagName==="BODY"},nD=function(t){return t.tagName==="CANVAS"},$E=function(t){return t.tagName==="VIDEO"},I4=function(t){return t.tagName==="IMG"},sD=function(t){return t.tagName==="IFRAME"},HE=function(t){return t.tagName==="STYLE"},dae=function(t){return t.tagName==="SCRIPT"},vv=function(t){return t.tagName==="TEXTAREA"},bv=function(t){return t.tagName==="SELECT"},iD=function(t){return t.tagName==="SLOT"},VE=function(t){return t.tagName.indexOf("-")>0},Aae=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(r){var n=this.counters[r];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(r){var n=this.counters[r];return n||[]},t.prototype.pop=function(r){var n=this;r.forEach(function(s){return n.counters[s].pop()})},t.prototype.parse=function(r){var n=this,s=r.counterIncrement,i=r.counterReset,o=!0;s!==null&&s.forEach(function(c){var u=n.counters[c.counter];u&&c.increment!==0&&(o=!1,u.length||u.push(1),u[Math.max(0,u.length-1)]+=c.increment)});var l=[];return o&&i.forEach(function(c){var u=n.counters[c.counter];l.push(c.counter),u||(u=n.counters[c.counter]=[]),u.push(c.reset)}),l},t}(),zE={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},KE={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},fae={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},hae={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},nf=function(t,r,n,s,i,o){return t<r||t>n?nm(t,i,o.length>0):s.integers.reduce(function(l,c,u){for(;t>=c;)t-=c,l+=s.values[u];return l},"")+o},aD=function(t,r,n,s){var i="";do n||t--,i=s(t)+i,t/=r;while(t*r>=r);return i},Is=function(t,r,n,s,i){var o=n-r+1;return(t<0?"-":"")+(aD(Math.abs(t),o,s,function(l){return Ls(Math.floor(l%o)+r)})+i)},vd=function(t,r,n){n===void 0&&(n=". ");var s=r.length;return aD(Math.abs(t),s,!1,function(i){return r[Math.floor(i%s)]})+n},ff=1,nu=2,su=4,$p=8,lc=function(t,r,n,s,i,o){if(t<-9999||t>9999)return nm(t,4,i.length>0);var l=Math.abs(t),c=i;if(l===0)return r[0]+c;for(var u=0;l>0&&u<=4;u++){var d=l%10;d===0&&ai(o,ff)&&c!==""?c=r[d]+c:d>1||d===1&&u===0||d===1&&u===1&&ai(o,nu)||d===1&&u===1&&ai(o,su)&&t>100||d===1&&u>1&&ai(o,$p)?c=r[d]+(u>0?n[u-1]:"")+c:d===1&&u>0&&(c=n[u-1]+c),l=Math.floor(l/10)}return(t<0?s:"")+c},GE="十百千萬",WE="拾佰仟萬",qE="マイナス",Gw="마이너스",nm=function(t,r,n){var s=n?". ":"",i=n?"、":"",o=n?", ":"",l=n?" ":"";switch(r){case 0:return"•"+l;case 1:return"◦"+l;case 2:return"◾"+l;case 5:var c=Is(t,48,57,!0,s);return c.length<4?"0"+c:c;case 4:return vd(t,"〇一二三四五六七八九",i);case 6:return nf(t,1,3999,zE,3,s).toLowerCase();case 7:return nf(t,1,3999,zE,3,s);case 8:return Is(t,945,969,!1,s);case 9:return Is(t,97,122,!1,s);case 10:return Is(t,65,90,!1,s);case 11:return Is(t,1632,1641,!0,s);case 12:case 49:return nf(t,1,9999,KE,3,s);case 35:return nf(t,1,9999,KE,3,s).toLowerCase();case 13:return Is(t,2534,2543,!0,s);case 14:case 30:return Is(t,6112,6121,!0,s);case 15:return vd(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return vd(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return lc(t,"零一二三四五六七八九",GE,"負",i,nu|su|$p);case 47:return lc(t,"零壹貳參肆伍陸柒捌玖",WE,"負",i,ff|nu|su|$p);case 42:return lc(t,"零一二三四五六七八九",GE,"负",i,nu|su|$p);case 41:return lc(t,"零壹贰叁肆伍陆柒捌玖",WE,"负",i,ff|nu|su|$p);case 26:return lc(t,"〇一二三四五六七八九","十百千万",qE,i,0);case 25:return lc(t,"零壱弐参四伍六七八九","拾百千万",qE,i,ff|nu|su);case 31:return lc(t,"영일이삼사오육칠팔구","십백천만",Gw,o,ff|nu|su);case 33:return lc(t,"零一二三四五六七八九","十百千萬",Gw,o,0);case 32:return lc(t,"零壹貳參四五六七八九","拾百千",Gw,o,ff|nu|su);case 18:return Is(t,2406,2415,!0,s);case 20:return nf(t,1,19999,hae,3,s);case 21:return Is(t,2790,2799,!0,s);case 22:return Is(t,2662,2671,!0,s);case 22:return nf(t,1,10999,fae,3,s);case 23:return vd(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return vd(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Is(t,3302,3311,!0,s);case 28:return vd(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return vd(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return Is(t,3792,3801,!0,s);case 37:return Is(t,6160,6169,!0,s);case 38:return Is(t,4160,4169,!0,s);case 39:return Is(t,2918,2927,!0,s);case 40:return Is(t,1776,1785,!0,s);case 43:return Is(t,3046,3055,!0,s);case 44:return Is(t,3174,3183,!0,s);case 45:return Is(t,3664,3673,!0,s);case 46:return Is(t,3872,3881,!0,s);case 3:default:return Is(t,48,57,!0,s)}},oD="data-html2canvas-ignore",YE=function(){function t(r,n,s){if(this.context=r,this.options=s,this.scrolledElements=[],this.referenceElement=n,this.counters=new Aae,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(r,n){var s=this,i=pae(r,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=r.defaultView.pageXOffset,l=r.defaultView.pageYOffset,c=i.contentWindow,u=c.document,d=yae(i).then(function(){return oa(s,void 0,void 0,function(){var A,f;return qi(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(wae),c&&(c.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==n.top||c.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-n.left,c.scrollY-n.top,0,0))),A=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,gae(u)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(u,f)}).then(function(){return i})]:[2,i]}})})});return u.open(),u.write(vae(document.doctype)+"<html></html>"),bae(this.referenceElement.ownerDocument,o,l),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),d},t.prototype.createElementClone=function(r){if(k4(r,2))debugger;if(nD(r))return this.createCanvasClone(r);if($E(r))return this.createVideoClone(r);if(HE(r))return this.createStyleClone(r);var n=r.cloneNode(!1);return I4(n)&&(I4(r)&&r.currentSrc&&r.currentSrc!==r.src&&(n.src=r.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),VE(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(r){var n=document.createElement("html2canvascustomelement");return Ww(r.style,n),n},t.prototype.createStyleClone=function(r){try{var n=r.sheet;if(n&&n.cssRules){var s=[].slice.call(n.cssRules,0).reduce(function(o,l){return l&&typeof l.cssText=="string"?o+l.cssText:o},""),i=r.cloneNode(!1);return i.textContent=s,i}}catch(o){if(this.context.logger.error("Unable to access cssRules property",o),o.name!=="SecurityError")throw o}return r.cloneNode(!1)},t.prototype.createCanvasClone=function(r){var n;if(this.options.inlineImages&&r.ownerDocument){var s=r.ownerDocument.createElement("img");try{return s.src=r.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",r)}}var i=r.cloneNode(!1);try{i.width=r.width,i.height=r.height;var o=r.getContext("2d"),l=i.getContext("2d");if(l)if(!this.options.allowTaint&&o)l.putImageData(o.getImageData(0,0,r.width,r.height),0,0);else{var c=(n=r.getContext("webgl2"))!==null&&n!==void 0?n:r.getContext("webgl");if(c){var u=c.getContextAttributes();(u==null?void 0:u.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",r)}l.drawImage(r,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",r)}return i},t.prototype.createVideoClone=function(r){var n=r.ownerDocument.createElement("canvas");n.width=r.offsetWidth,n.height=r.offsetHeight;var s=n.getContext("2d");try{return s&&(s.drawImage(r,0,0,n.width,n.height),this.options.allowTaint||s.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",r)}var i=r.ownerDocument.createElement("canvas");return i.width=r.offsetWidth,i.height=r.offsetHeight,i},t.prototype.appendChildNode=function(r,n,s){(!If(n)||!dae(n)&&!n.hasAttribute(oD)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!If(n)||!HE(n))&&r.appendChild(this.cloneNode(n,s))},t.prototype.cloneChildNodes=function(r,n,s){for(var i=this,o=r.shadowRoot?r.shadowRoot.firstChild:r.firstChild;o;o=o.nextSibling)if(If(o)&&iD(o)&&typeof o.assignedNodes=="function"){var l=o.assignedNodes();l.length&&l.forEach(function(c){return i.appendChildNode(n,c,s)})}else this.appendChildNode(n,o,s)},t.prototype.cloneNode=function(r,n){if(tD(r))return document.createTextNode(r.data);if(!r.ownerDocument)return r.cloneNode(!1);var s=r.ownerDocument.defaultView;if(s&&If(r)&&(F4(r)||ox(r))){var i=this.createElementClone(r);i.style.transitionProperty="none";var o=s.getComputedStyle(r),l=s.getComputedStyle(r,":before"),c=s.getComputedStyle(r,":after");this.referenceElement===r&&F4(i)&&(this.clonedReferenceElement=i),dS(i)&&Sae(i);var u=this.counters.parse(new CE(this.context,o)),d=this.resolvePseudoContent(r,i,l,c0.BEFORE);VE(r)&&(n=!0),$E(r)||this.cloneChildNodes(r,i,n),d&&i.insertBefore(d,i.firstChild);var A=this.resolvePseudoContent(r,i,c,c0.AFTER);return A&&i.appendChild(A),this.counters.pop(u),(o&&(this.options.copyStyles||ox(r))&&!sD(r)||n)&&Ww(o,i),(r.scrollTop!==0||r.scrollLeft!==0)&&this.scrolledElements.push([i,r.scrollLeft,r.scrollTop]),(vv(r)||bv(r))&&(vv(i)||bv(i))&&(i.value=r.value),i}return r.cloneNode(!1)},t.prototype.resolvePseudoContent=function(r,n,s,i){var o=this;if(s){var l=s.content,c=n.ownerDocument;if(!(!c||!l||l==="none"||l==="-moz-alt-content"||s.display==="none")){this.counters.parse(new CE(this.context,s));var u=new oie(this.context,s),d=c.createElement("html2canvaspseudoelement");Ww(s,d),u.content.forEach(function(f){if(f.type===0)d.appendChild(c.createTextNode(f.value));else if(f.type===22){var h=c.createElement("img");h.src=f.value,h.style.opacity="1",d.appendChild(h)}else if(f.type===18){if(f.name==="attr"){var p=f.values.filter(Mn);p.length&&d.appendChild(c.createTextNode(r.getAttribute(p[0].value)||""))}else if(f.name==="counter"){var m=f.values.filter(wh),g=m[0],b=m[1];if(g&&Mn(g)){var y=o.counters.getCounterValue(g.value),x=b&&Mn(b)?E4.parse(o.context,b.value):3;d.appendChild(c.createTextNode(nm(y,x,!1)))}}else if(f.name==="counters"){var v=f.values.filter(wh),g=v[0],w=v[1],b=v[2];if(g&&Mn(g)){var _=o.counters.getCounterValues(g.value),B=b&&Mn(b)?E4.parse(o.context,b.value):3,N=w&&w.type===0?w.value:"",j=_.map(function(S){return nm(S,B,!1)}).join(N);d.appendChild(c.createTextNode(j))}}}else if(f.type===20)switch(f.value){case"open-quote":d.appendChild(c.createTextNode(BE(u.quotes,o.quoteDepth++,!0)));break;case"close-quote":d.appendChild(c.createTextNode(BE(u.quotes,--o.quoteDepth,!1)));break;default:d.appendChild(c.createTextNode(f.value))}}),d.className=P4+" "+L4;var A=i===c0.BEFORE?" "+P4:" "+L4;return ox(n)?n.className.baseValue+=A:n.className+=A,d}}},t.destroy=function(r){return r.parentNode?(r.parentNode.removeChild(r),!0):!1},t}(),c0;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(c0||(c0={}));var pae=function(t,r){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=r.width.toString(),n.height=r.height.toString(),n.scrolling="no",n.setAttribute(oD,"true"),t.body.appendChild(n),n},mae=function(t){return new Promise(function(r){if(t.complete){r();return}if(!t.src){r();return}t.onload=r,t.onerror=r})},gae=function(t){return Promise.all([].slice.call(t.images,0).map(mae))},yae=function(t){return new Promise(function(r,n){var s=t.contentWindow;if(!s)return n("No window assigned for iframe");var i=s.document;s.onload=t.onload=function(){s.onload=t.onload=null;var o=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(o),r(t))},50)}})},xae=["all","d","content"],Ww=function(t,r){for(var n=t.length-1;n>=0;n--){var s=t.item(n);xae.indexOf(s)===-1&&r.style.setProperty(s,t.getPropertyValue(s))}return r},vae=function(t){var r="";return t&&(r+="<!DOCTYPE ",t.name&&(r+=t.name),t.internalSubset&&(r+=t.internalSubset),t.publicId&&(r+='"'+t.publicId+'"'),t.systemId&&(r+='"'+t.systemId+'"'),r+=">"),r},bae=function(t,r,n){t&&t.defaultView&&(r!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(r,n)},wae=function(t){var r=t[0],n=t[1],s=t[2];r.scrollLeft=n,r.scrollTop=s},jae=":before",Nae=":after",P4="___html2canvas___pseudoelement_before",L4="___html2canvas___pseudoelement_after",XE=`{
    content: "" !important;
    display: none !important;
}`,Sae=function(t){Bae(t,"."+P4+jae+XE+`
         .`+L4+Nae+XE)},Bae=function(t,r){var n=t.ownerDocument;if(n){var s=n.createElement("style");s.textContent=r,t.appendChild(s)}},lD=function(){function t(){}return t.getOrigin=function(r){var n=t._link;return n?(n.href=r,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(r){return t.getOrigin(r)===t._origin},t.setContext=function(r){t._link=r.document.createElement("a"),t._origin=t.getOrigin(r.location.href)},t._origin="about:blank",t}(),Cae=function(){function t(r,n){this.context=r,this._options=n,this._cache={}}return t.prototype.addImage=function(r){var n=Promise.resolve();return this.has(r)||(Yw(r)||Tae(r))&&(this._cache[r]=this.loadImage(r)).catch(function(){}),n},t.prototype.match=function(r){return this._cache[r]},t.prototype.loadImage=function(r){return oa(this,void 0,void 0,function(){var n,s,i,o,l=this;return qi(this,function(c){switch(c.label){case 0:return n=lD.isSameOrigin(r),s=!qw(r)&&this._options.useCORS===!0&&Ei.SUPPORT_CORS_IMAGES&&!n,i=!qw(r)&&!n&&!Yw(r)&&typeof this._options.proxy=="string"&&Ei.SUPPORT_CORS_XHR&&!s,!n&&this._options.allowTaint===!1&&!qw(r)&&!Yw(r)&&!i&&!s?[2]:(o=r,i?[4,this.proxy(o)]:[3,2]);case 1:o=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+r.substring(0,256)),[4,new Promise(function(u,d){var A=new Image;A.onload=function(){return u(A)},A.onerror=d,(Oae(o)||s)&&(A.crossOrigin="anonymous"),A.src=o,A.complete===!0&&setTimeout(function(){return u(A)},500),l._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},t.prototype.has=function(r){return typeof this._cache[r]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(r){var n=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var i=r.substring(0,256);return new Promise(function(o,l){var c=Ei.SUPPORT_RESPONSE_TYPE?"blob":"text",u=new XMLHttpRequest;u.onload=function(){if(u.status===200)if(c==="text")o(u.response);else{var f=new FileReader;f.addEventListener("load",function(){return o(f.result)},!1),f.addEventListener("error",function(h){return l(h)},!1),f.readAsDataURL(u.response)}else l("Failed to proxy resource "+i+" with status code "+u.status)},u.onerror=l;var d=s.indexOf("?")>-1?"&":"?";if(u.open("GET",""+s+d+"url="+encodeURIComponent(r)+"&responseType="+c),c!=="text"&&u instanceof XMLHttpRequest&&(u.responseType=c),n._options.imageTimeout){var A=n._options.imageTimeout;u.timeout=A,u.ontimeout=function(){return l("Timed out ("+A+"ms) proxying "+i)}}u.send()})},t}(),_ae=/^data:image\/svg\+xml/i,Eae=/^data:image\/.*;base64,/i,kae=/^data:image\/.*/i,Tae=function(t){return Ei.SUPPORT_SVG_DRAWING||!Fae(t)},qw=function(t){return kae.test(t)},Oae=function(t){return Eae.test(t)},Yw=function(t){return t.substr(0,4)==="blob"},Fae=function(t){return t.substr(-3).toLowerCase()==="svg"||_ae.test(t)},Yt=function(){function t(r,n){this.type=0,this.x=r,this.y=n}return t.prototype.add=function(r,n){return new t(this.x+r,this.y+n)},t}(),sf=function(t,r,n){return new Yt(t.x+(r.x-t.x)*n,t.y+(r.y-t.y)*n)},py=function(){function t(r,n,s,i){this.type=1,this.start=r,this.startControl=n,this.endControl=s,this.end=i}return t.prototype.subdivide=function(r,n){var s=sf(this.start,this.startControl,r),i=sf(this.startControl,this.endControl,r),o=sf(this.endControl,this.end,r),l=sf(s,i,r),c=sf(i,o,r),u=sf(l,c,r);return n?new t(this.start,s,l,u):new t(u,c,o,this.end)},t.prototype.add=function(r,n){return new t(this.start.add(r,n),this.startControl.add(r,n),this.endControl.add(r,n),this.end.add(r,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),vo=function(t){return t.type===1},Iae=function(){function t(r){var n=r.styles,s=r.bounds,i=Mp(n.borderTopLeftRadius,s.width,s.height),o=i[0],l=i[1],c=Mp(n.borderTopRightRadius,s.width,s.height),u=c[0],d=c[1],A=Mp(n.borderBottomRightRadius,s.width,s.height),f=A[0],h=A[1],p=Mp(n.borderBottomLeftRadius,s.width,s.height),m=p[0],g=p[1],b=[];b.push((o+u)/s.width),b.push((m+f)/s.width),b.push((l+g)/s.height),b.push((d+h)/s.height);var y=Math.max.apply(Math,b);y>1&&(o/=y,l/=y,u/=y,d/=y,f/=y,h/=y,m/=y,g/=y);var x=s.width-u,v=s.height-h,w=s.width-f,_=s.height-g,B=n.borderTopWidth,N=n.borderRightWidth,j=n.borderBottomWidth,C=n.borderLeftWidth,E=Xn(n.paddingTop,r.bounds.width),S=Xn(n.paddingRight,r.bounds.width),k=Xn(n.paddingBottom,r.bounds.width),P=Xn(n.paddingLeft,r.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||l>0?as(s.left+C/3,s.top+B/3,o-C/3,l-B/3,vn.TOP_LEFT):new Yt(s.left+C/3,s.top+B/3),this.topRightBorderDoubleOuterBox=o>0||l>0?as(s.left+x,s.top+B/3,u-N/3,d-B/3,vn.TOP_RIGHT):new Yt(s.left+s.width-N/3,s.top+B/3),this.bottomRightBorderDoubleOuterBox=f>0||h>0?as(s.left+w,s.top+v,f-N/3,h-j/3,vn.BOTTOM_RIGHT):new Yt(s.left+s.width-N/3,s.top+s.height-j/3),this.bottomLeftBorderDoubleOuterBox=m>0||g>0?as(s.left+C/3,s.top+_,m-C/3,g-j/3,vn.BOTTOM_LEFT):new Yt(s.left+C/3,s.top+s.height-j/3),this.topLeftBorderDoubleInnerBox=o>0||l>0?as(s.left+C*2/3,s.top+B*2/3,o-C*2/3,l-B*2/3,vn.TOP_LEFT):new Yt(s.left+C*2/3,s.top+B*2/3),this.topRightBorderDoubleInnerBox=o>0||l>0?as(s.left+x,s.top+B*2/3,u-N*2/3,d-B*2/3,vn.TOP_RIGHT):new Yt(s.left+s.width-N*2/3,s.top+B*2/3),this.bottomRightBorderDoubleInnerBox=f>0||h>0?as(s.left+w,s.top+v,f-N*2/3,h-j*2/3,vn.BOTTOM_RIGHT):new Yt(s.left+s.width-N*2/3,s.top+s.height-j*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||g>0?as(s.left+C*2/3,s.top+_,m-C*2/3,g-j*2/3,vn.BOTTOM_LEFT):new Yt(s.left+C*2/3,s.top+s.height-j*2/3),this.topLeftBorderStroke=o>0||l>0?as(s.left+C/2,s.top+B/2,o-C/2,l-B/2,vn.TOP_LEFT):new Yt(s.left+C/2,s.top+B/2),this.topRightBorderStroke=o>0||l>0?as(s.left+x,s.top+B/2,u-N/2,d-B/2,vn.TOP_RIGHT):new Yt(s.left+s.width-N/2,s.top+B/2),this.bottomRightBorderStroke=f>0||h>0?as(s.left+w,s.top+v,f-N/2,h-j/2,vn.BOTTOM_RIGHT):new Yt(s.left+s.width-N/2,s.top+s.height-j/2),this.bottomLeftBorderStroke=m>0||g>0?as(s.left+C/2,s.top+_,m-C/2,g-j/2,vn.BOTTOM_LEFT):new Yt(s.left+C/2,s.top+s.height-j/2),this.topLeftBorderBox=o>0||l>0?as(s.left,s.top,o,l,vn.TOP_LEFT):new Yt(s.left,s.top),this.topRightBorderBox=u>0||d>0?as(s.left+x,s.top,u,d,vn.TOP_RIGHT):new Yt(s.left+s.width,s.top),this.bottomRightBorderBox=f>0||h>0?as(s.left+w,s.top+v,f,h,vn.BOTTOM_RIGHT):new Yt(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=m>0||g>0?as(s.left,s.top+_,m,g,vn.BOTTOM_LEFT):new Yt(s.left,s.top+s.height),this.topLeftPaddingBox=o>0||l>0?as(s.left+C,s.top+B,Math.max(0,o-C),Math.max(0,l-B),vn.TOP_LEFT):new Yt(s.left+C,s.top+B),this.topRightPaddingBox=u>0||d>0?as(s.left+Math.min(x,s.width-N),s.top+B,x>s.width+N?0:Math.max(0,u-N),Math.max(0,d-B),vn.TOP_RIGHT):new Yt(s.left+s.width-N,s.top+B),this.bottomRightPaddingBox=f>0||h>0?as(s.left+Math.min(w,s.width-C),s.top+Math.min(v,s.height-j),Math.max(0,f-N),Math.max(0,h-j),vn.BOTTOM_RIGHT):new Yt(s.left+s.width-N,s.top+s.height-j),this.bottomLeftPaddingBox=m>0||g>0?as(s.left+C,s.top+Math.min(_,s.height-j),Math.max(0,m-C),Math.max(0,g-j),vn.BOTTOM_LEFT):new Yt(s.left+C,s.top+s.height-j),this.topLeftContentBox=o>0||l>0?as(s.left+C+P,s.top+B+E,Math.max(0,o-(C+P)),Math.max(0,l-(B+E)),vn.TOP_LEFT):new Yt(s.left+C+P,s.top+B+E),this.topRightContentBox=u>0||d>0?as(s.left+Math.min(x,s.width+C+P),s.top+B+E,x>s.width+C+P?0:u-C+P,d-(B+E),vn.TOP_RIGHT):new Yt(s.left+s.width-(N+S),s.top+B+E),this.bottomRightContentBox=f>0||h>0?as(s.left+Math.min(w,s.width-(C+P)),s.top+Math.min(v,s.height+B+E),Math.max(0,f-(N+S)),h-(j+k),vn.BOTTOM_RIGHT):new Yt(s.left+s.width-(N+S),s.top+s.height-(j+k)),this.bottomLeftContentBox=m>0||g>0?as(s.left+C+P,s.top+_,Math.max(0,m-(C+P)),g-(j+k),vn.BOTTOM_LEFT):new Yt(s.left+C+P,s.top+s.height-(j+k))}return t}(),vn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(vn||(vn={}));var as=function(t,r,n,s,i){var o=4*((Math.sqrt(2)-1)/3),l=n*o,c=s*o,u=t+n,d=r+s;switch(i){case vn.TOP_LEFT:return new py(new Yt(t,d),new Yt(t,d-c),new Yt(u-l,r),new Yt(u,r));case vn.TOP_RIGHT:return new py(new Yt(t,r),new Yt(t+l,r),new Yt(u,d-c),new Yt(u,d));case vn.BOTTOM_RIGHT:return new py(new Yt(u,r),new Yt(u,r+c),new Yt(t+l,d),new Yt(t,d));case vn.BOTTOM_LEFT:default:return new py(new Yt(u,d),new Yt(u-l,d),new Yt(t,r+c),new Yt(t,r))}},wv=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Pae=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},jv=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Lae=function(){function t(r,n,s){this.offsetX=r,this.offsetY=n,this.matrix=s,this.type=0,this.target=6}return t}(),my=function(){function t(r,n){this.path=r,this.target=n,this.type=1}return t}(),Dae=function(){function t(r){this.opacity=r,this.type=2,this.target=6}return t}(),Uae=function(t){return t.type===0},cD=function(t){return t.type===1},Rae=function(t){return t.type===2},JE=function(t,r){return t.length===r.length?t.some(function(n,s){return n===r[s]}):!1},Mae=function(t,r,n,s,i){return t.map(function(o,l){switch(l){case 0:return o.add(r,n);case 1:return o.add(r+s,n);case 2:return o.add(r+s,n+i);case 3:return o.add(r,n+i)}return o})},uD=function(){function t(r){this.element=r,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),dD=function(){function t(r,n){if(this.container=r,this.parent=n,this.effects=[],this.curves=new Iae(this.container),this.container.styles.opacity<1&&this.effects.push(new Dae(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new Lae(s,i,o))}if(this.container.styles.overflowX!==0){var l=wv(this.curves),c=jv(this.curves);JE(l,c)?this.effects.push(new my(l,6)):(this.effects.push(new my(l,2)),this.effects.push(new my(c,4)))}}return t.prototype.getEffects=function(r){for(var n=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,i=this.effects.slice(0);s;){var o=s.effects.filter(function(u){return!cD(u)});if(n||s.container.styles.position!==0||!s.parent){if(i.unshift.apply(i,o),n=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var l=wv(s.curves),c=jv(s.curves);JE(l,c)||i.unshift(new my(c,6))}}else i.unshift.apply(i,o);s=s.parent}return i.filter(function(u){return ai(u.target,r)})},t}(),D4=function(t,r,n,s){t.container.elements.forEach(function(i){var o=ai(i.flags,4),l=ai(i.flags,2),c=new dD(i,t);ai(i.styles.display,2048)&&s.push(c);var u=ai(i.flags,8)?[]:s;if(o||l){var d=o||i.styles.isPositioned()?n:r,A=new uD(c);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var f=i.styles.zIndex.order;if(f<0){var h=0;d.negativeZIndex.some(function(m,g){return f>m.element.container.styles.zIndex.order?(h=g,!1):h>0}),d.negativeZIndex.splice(h,0,A)}else if(f>0){var p=0;d.positiveZIndex.some(function(m,g){return f>=m.element.container.styles.zIndex.order?(p=g+1,!1):p>0}),d.positiveZIndex.splice(p,0,A)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else i.styles.isFloating()?d.nonPositionedFloats.push(A):d.nonPositionedInlineLevel.push(A);D4(c,A,o?A:n,u)}else i.styles.isInlineLevel()?r.inlineLevel.push(c):r.nonInlineLevel.push(c),D4(c,r,n,u);ai(i.flags,8)&&AD(i,u)})},AD=function(t,r){for(var n=t instanceof O4?t.start:1,s=t instanceof O4?t.reversed:!1,i=0;i<r.length;i++){var o=r[i];o.container instanceof qL&&typeof o.container.value=="number"&&o.container.value!==0&&(n=o.container.value),o.listValue=nm(n,o.container.styles.listStyleType,!0),n+=s?-1:1}},Qae=function(t){var r=new dD(t,null),n=new uD(r),s=[];return D4(r,n,n,s),AD(r.container,s),n},ZE=function(t,r){switch(r){case 0:return No(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return No(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return No(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return No(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},$ae=function(t,r){switch(r){case 0:return No(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return No(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return No(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return No(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Hae=function(t,r){switch(r){case 0:return No(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return No(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return No(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return No(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Vae=function(t,r){switch(r){case 0:return gy(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return gy(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return gy(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return gy(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},gy=function(t,r){var n=[];return vo(t)?n.push(t.subdivide(.5,!1)):n.push(t),vo(r)?n.push(r.subdivide(.5,!0)):n.push(r),n},No=function(t,r,n,s){var i=[];return vo(t)?i.push(t.subdivide(.5,!1)):i.push(t),vo(n)?i.push(n.subdivide(.5,!0)):i.push(n),vo(s)?i.push(s.subdivide(.5,!0).reverse()):i.push(s),vo(r)?i.push(r.subdivide(.5,!1).reverse()):i.push(r),i},fD=function(t){var r=t.bounds,n=t.styles;return r.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Nv=function(t){var r=t.styles,n=t.bounds,s=Xn(r.paddingLeft,n.width),i=Xn(r.paddingRight,n.width),o=Xn(r.paddingTop,n.width),l=Xn(r.paddingBottom,n.width);return n.add(s+r.borderLeftWidth,o+r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth+s+i),-(r.borderTopWidth+r.borderBottomWidth+o+l))},zae=function(t,r){return t===0?r.bounds:t===2?Nv(r):fD(r)},Kae=function(t,r){return t===0?r.bounds:t===2?Nv(r):fD(r)},Xw=function(t,r,n){var s=zae(hf(t.styles.backgroundOrigin,r),t),i=Kae(hf(t.styles.backgroundClip,r),t),o=Gae(hf(t.styles.backgroundSize,r),n,s),l=o[0],c=o[1],u=Mp(hf(t.styles.backgroundPosition,r),s.width-l,s.height-c),d=Wae(hf(t.styles.backgroundRepeat,r),u,o,s,i),A=Math.round(s.left+u[0]),f=Math.round(s.top+u[1]);return[d,A,f,l,c]},af=function(t){return Mn(t)&&t.value===rh.AUTO},yy=function(t){return typeof t=="number"},Gae=function(t,r,n){var s=r[0],i=r[1],o=r[2],l=t[0],c=t[1];if(!l)return[0,0];if(Xs(l)&&c&&Xs(c))return[Xn(l,n.width),Xn(c,n.height)];var u=yy(o);if(Mn(l)&&(l.value===rh.CONTAIN||l.value===rh.COVER)){if(yy(o)){var d=n.width/n.height;return d<o!=(l.value===rh.COVER)?[n.width,n.width/o]:[n.height*o,n.height]}return[n.width,n.height]}var A=yy(s),f=yy(i),h=A||f;if(af(l)&&(!c||af(c))){if(A&&f)return[s,i];if(!u&&!h)return[n.width,n.height];if(h&&u){var p=A?s:i*o,m=f?i:s/o;return[p,m]}var g=A?s:n.width,b=f?i:n.height;return[g,b]}if(u){var y=0,x=0;return Xs(l)?y=Xn(l,n.width):Xs(c)&&(x=Xn(c,n.height)),af(l)?y=x*o:(!c||af(c))&&(x=y/o),[y,x]}var v=null,w=null;if(Xs(l)?v=Xn(l,n.width):c&&Xs(c)&&(w=Xn(c,n.height)),v!==null&&(!c||af(c))&&(w=A&&f?v/s*i:n.height),w!==null&&af(l)&&(v=A&&f?w/i*s:n.width),v!==null&&w!==null)return[v,w];throw new Error("Unable to calculate background-size for element")},hf=function(t,r){var n=t[r];return typeof n>"u"?t[0]:n},Wae=function(t,r,n,s,i){var o=r[0],l=r[1],c=n[0],u=n[1];switch(t){case 2:return[new Yt(Math.round(s.left),Math.round(s.top+l)),new Yt(Math.round(s.left+s.width),Math.round(s.top+l)),new Yt(Math.round(s.left+s.width),Math.round(u+s.top+l)),new Yt(Math.round(s.left),Math.round(u+s.top+l))];case 3:return[new Yt(Math.round(s.left+o),Math.round(s.top)),new Yt(Math.round(s.left+o+c),Math.round(s.top)),new Yt(Math.round(s.left+o+c),Math.round(s.height+s.top)),new Yt(Math.round(s.left+o),Math.round(s.height+s.top))];case 1:return[new Yt(Math.round(s.left+o),Math.round(s.top+l)),new Yt(Math.round(s.left+o+c),Math.round(s.top+l)),new Yt(Math.round(s.left+o+c),Math.round(s.top+l+u)),new Yt(Math.round(s.left+o),Math.round(s.top+l+u))];default:return[new Yt(Math.round(i.left),Math.round(i.top)),new Yt(Math.round(i.left+i.width),Math.round(i.top)),new Yt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Yt(Math.round(i.left),Math.round(i.height+i.top))]}},qae="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ek="Hidden Text",Yae=function(){function t(r){this._data={},this._document=r}return t.prototype.parseMetrics=function(r,n){var s=this._document.createElement("div"),i=this._document.createElement("img"),o=this._document.createElement("span"),l=this._document.body;s.style.visibility="hidden",s.style.fontFamily=r,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",l.appendChild(s),i.src=qae,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",o.style.fontFamily=r,o.style.fontSize=n,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(ek)),s.appendChild(o),s.appendChild(i);var c=i.offsetTop-o.offsetTop+2;s.removeChild(o),s.appendChild(this._document.createTextNode(ek)),s.style.lineHeight="normal",i.style.verticalAlign="super";var u=i.offsetTop-s.offsetTop+2;return l.removeChild(s),{baseline:c,middle:u}},t.prototype.getMetrics=function(r,n){var s=r+" "+n;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(r,n)),this._data[s]},t}(),hD=function(){function t(r,n){this.context=r,this.options=n}return t}(),Xae=1e4,Jae=function(t){ul(r,t);function r(n,s){var i=t.call(this,n,s)||this;return i._activeEffects=[],i.canvas=s.canvas?s.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),s.canvas||(i.canvas.width=Math.floor(s.width*s.scale),i.canvas.height=Math.floor(s.height*s.scale),i.canvas.style.width=s.width+"px",i.canvas.style.height=s.height+"px"),i.fontMetrics=new Yae(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-s.x,-s.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),i}return r.prototype.applyEffects=function(n){for(var s=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return s.applyEffect(i)})},r.prototype.applyEffect=function(n){this.ctx.save(),Rae(n)&&(this.ctx.globalAlpha=n.opacity),Uae(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),cD(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},r.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.prototype.renderStack=function(n){return oa(this,void 0,void 0,function(){var s;return qi(this,function(i){switch(i.label){case 0:return s=n.element.container.styles,s.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},r.prototype.renderNode=function(n){return oa(this,void 0,void 0,function(){return qi(this,function(s){switch(s.label){case 0:if(ai(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(n)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},r.prototype.renderTextWithLetterSpacing=function(n,s,i){var o=this;if(s===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var l=cS(n.text);l.reduce(function(c,u){return o.ctx.fillText(u,c,n.bounds.top+i),c+o.ctx.measureText(u).width},n.bounds.left)}},r.prototype.createFontStyle=function(n){var s=n.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),i=noe(n.fontFamily).join(", "),o=Um(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,s,n.fontWeight,o,i].join(" "),i,o]},r.prototype.renderTextNode=function(n,s){return oa(this,void 0,void 0,function(){var i,o,l,c,u,d,A,f,h=this;return qi(this,function(p){return i=this.createFontStyle(s),o=i[0],l=i[1],c=i[2],this.ctx.font=o,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",u=this.fontMetrics.getMetrics(l,c),d=u.baseline,A=u.middle,f=s.paintOrder,n.textBounds.forEach(function(m){f.forEach(function(g){switch(g){case 0:h.ctx.fillStyle=pi(s.color),h.renderTextWithLetterSpacing(m,s.letterSpacing,d);var b=s.textShadow;b.length&&m.text.trim().length&&(b.slice(0).reverse().forEach(function(y){h.ctx.shadowColor=pi(y.color),h.ctx.shadowOffsetX=y.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=y.offsetY.number*h.options.scale,h.ctx.shadowBlur=y.blur.number,h.renderTextWithLetterSpacing(m,s.letterSpacing,d)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),s.textDecorationLine.length&&(h.ctx.fillStyle=pi(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(y){switch(y){case 1:h.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+d),m.bounds.width,1);break;case 2:h.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:h.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+A),m.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&m.text.trim().length&&(h.ctx.strokeStyle=pi(s.webkitTextStrokeColor),h.ctx.lineWidth=s.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+d)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},r.prototype.renderReplacedElement=function(n,s,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var o=Nv(n),l=jv(s);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},r.prototype.renderNodeContent=function(n){return oa(this,void 0,void 0,function(){var s,i,o,l,c,u,x,x,d,A,f,h,w,p,m,_,g,b,y,x,v,w,_;return qi(this,function(B){switch(B.label){case 0:this.applyEffects(n.getEffects(4)),s=n.container,i=n.curves,o=s.styles,l=0,c=s.textNodes,B.label=1;case 1:return l<c.length?(u=c[l],[4,this.renderTextNode(u,o)]):[3,4];case 2:B.sent(),B.label=3;case 3:return l++,[3,1];case 4:if(!(s instanceof KL))return[3,8];B.label=5;case 5:return B.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return x=B.sent(),this.renderReplacedElement(s,i,x),[3,8];case 7:return B.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof GL&&this.renderReplacedElement(s,i,s.canvas),!(s instanceof WL))return[3,12];B.label=9;case 9:return B.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return x=B.sent(),this.renderReplacedElement(s,i,x),[3,12];case 11:return B.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof JL&&s.tree?(d=new r(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,d.render(s.tree)]):[3,14];case 13:A=B.sent(),s.width&&s.height&&this.ctx.drawImage(A,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),B.label=14;case 14:if(s instanceof uS&&(f=Math.min(s.bounds.width,s.bounds.height),s.type===yv?s.checked&&(this.ctx.save(),this.path([new Yt(s.bounds.left+f*.39363,s.bounds.top+f*.79),new Yt(s.bounds.left+f*.16,s.bounds.top+f*.5549),new Yt(s.bounds.left+f*.27347,s.bounds.top+f*.44071),new Yt(s.bounds.left+f*.39694,s.bounds.top+f*.5649),new Yt(s.bounds.left+f*.72983,s.bounds.top+f*.23),new Yt(s.bounds.left+f*.84,s.bounds.top+f*.34085),new Yt(s.bounds.left+f*.39363,s.bounds.top+f*.79)]),this.ctx.fillStyle=pi(QE),this.ctx.fill(),this.ctx.restore()):s.type===xv&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+f/2,s.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=pi(QE),this.ctx.fill(),this.ctx.restore())),Zae(s)&&s.value.length){switch(h=this.createFontStyle(o),w=h[0],p=h[1],m=this.fontMetrics.getMetrics(w,p).baseline,this.ctx.font=w,this.ctx.fillStyle=pi(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=toe(s.styles.textAlign),_=Nv(s),g=0,s.styles.textAlign){case 1:g+=_.width/2;break;case 2:g+=_.width;break}b=_.add(g,0,0,-_.height/2+1),this.ctx.save(),this.path([new Yt(_.left,_.top),new Yt(_.left+_.width,_.top),new Yt(_.left+_.width,_.top+_.height),new Yt(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new l0(s.value,b),o.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ai(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(y=s.styles.listStyleImage,y.type!==0)return[3,18];x=void 0,v=y.url,B.label=15;case 15:return B.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return x=B.sent(),this.ctx.drawImage(x,s.bounds.left-(x.width+10),s.bounds.top),[3,18];case 17:return B.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:n.listValue&&s.styles.listStyleType!==-1&&(w=this.createFontStyle(o)[0],this.ctx.font=w,this.ctx.fillStyle=pi(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new Ec(s.bounds.left,s.bounds.top+Xn(s.styles.paddingTop,s.bounds.width),s.bounds.width,NE(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new l0(n.listValue,_),o.letterSpacing,NE(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),B.label=20;case 20:return[2]}})})},r.prototype.renderStackContent=function(n){return oa(this,void 0,void 0,function(){var s,i,y,o,l,y,c,u,y,d,A,y,f,h,y,p,m,y,g,b,y;return qi(this,function(x){switch(x.label){case 0:if(ai(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:x.sent(),s=0,i=n.negativeZIndex,x.label=2;case 2:return s<i.length?(y=i[s],[4,this.renderStack(y)]):[3,5];case 3:x.sent(),x.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:x.sent(),o=0,l=n.nonInlineLevel,x.label=7;case 7:return o<l.length?(y=l[o],[4,this.renderNode(y)]):[3,10];case 8:x.sent(),x.label=9;case 9:return o++,[3,7];case 10:c=0,u=n.nonPositionedFloats,x.label=11;case 11:return c<u.length?(y=u[c],[4,this.renderStack(y)]):[3,14];case 12:x.sent(),x.label=13;case 13:return c++,[3,11];case 14:d=0,A=n.nonPositionedInlineLevel,x.label=15;case 15:return d<A.length?(y=A[d],[4,this.renderStack(y)]):[3,18];case 16:x.sent(),x.label=17;case 17:return d++,[3,15];case 18:f=0,h=n.inlineLevel,x.label=19;case 19:return f<h.length?(y=h[f],[4,this.renderNode(y)]):[3,22];case 20:x.sent(),x.label=21;case 21:return f++,[3,19];case 22:p=0,m=n.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return p<m.length?(y=m[p],[4,this.renderStack(y)]):[3,26];case 24:x.sent(),x.label=25;case 25:return p++,[3,23];case 26:g=0,b=n.positiveZIndex,x.label=27;case 27:return g<b.length?(y=b[g],[4,this.renderStack(y)]):[3,30];case 28:x.sent(),x.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},r.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},r.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},r.prototype.formatPath=function(n){var s=this;n.forEach(function(i,o){var l=vo(i)?i.start:i;o===0?s.ctx.moveTo(l.x,l.y):s.ctx.lineTo(l.x,l.y),vo(i)&&s.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},r.prototype.renderRepeat=function(n,s,i,o){this.path(n),this.ctx.fillStyle=s,this.ctx.translate(i,o),this.ctx.fill(),this.ctx.translate(-i,-o)},r.prototype.resizeImage=function(n,s,i){var o;if(n.width===s&&n.height===i)return n;var l=(o=this.canvas.ownerDocument)!==null&&o!==void 0?o:document,c=l.createElement("canvas");c.width=Math.max(1,s),c.height=Math.max(1,i);var u=c.getContext("2d");return u.drawImage(n,0,0,n.width,n.height,0,0,s,i),c},r.prototype.renderBackgroundImage=function(n){return oa(this,void 0,void 0,function(){var s,i,o,l,c,u;return qi(this,function(d){switch(d.label){case 0:s=n.styles.backgroundImage.length-1,i=function(A){var f,h,p,E,F,Q,P,M,j,m,E,F,Q,P,M,g,b,y,x,v,w,_,B,N,j,C,E,S,k,P,M,H,F,Q,K,Y,V,I,O,R,U,T;return qi(this,function(z){switch(z.label){case 0:if(A.type!==0)return[3,5];f=void 0,h=A.url,z.label=1;case 1:return z.trys.push([1,3,,4]),[4,o.context.cache.match(h)];case 2:return f=z.sent(),[3,4];case 3:return z.sent(),o.context.logger.error("Error loading background-image "+h),[3,4];case 4:return f&&(p=Xw(n,s,[f.width,f.height,f.width/f.height]),E=p[0],F=p[1],Q=p[2],P=p[3],M=p[4],j=o.ctx.createPattern(o.resizeImage(f,P,M),"repeat"),o.renderRepeat(E,j,F,Q)),[3,6];case 5:Une(A)?(m=Xw(n,s,[null,null,null]),E=m[0],F=m[1],Q=m[2],P=m[3],M=m[4],g=Fne(A.angle,P,M),b=g[0],y=g[1],x=g[2],v=g[3],w=g[4],_=document.createElement("canvas"),_.width=P,_.height=M,B=_.getContext("2d"),N=B.createLinearGradient(y,v,x,w),wE(A.stops,b).forEach(function(G){return N.addColorStop(G.stop,pi(G.color))}),B.fillStyle=N,B.fillRect(0,0,P,M),P>0&&M>0&&(j=o.ctx.createPattern(_,"repeat"),o.renderRepeat(E,j,F,Q))):Rne(A)&&(C=Xw(n,s,[null,null,null]),E=C[0],S=C[1],k=C[2],P=C[3],M=C[4],H=A.position.length===0?[aS]:A.position,F=Xn(H[0],P),Q=Xn(H[H.length-1],M),K=Ine(A,F,Q,P,M),Y=K[0],V=K[1],Y>0&&V>0&&(I=o.ctx.createRadialGradient(S+F,k+Q,0,S+F,k+Q,Y),wE(A.stops,Y*2).forEach(function(G){return I.addColorStop(G.stop,pi(G.color))}),o.path(E),o.ctx.fillStyle=I,Y!==V?(O=n.bounds.left+.5*n.bounds.width,R=n.bounds.top+.5*n.bounds.height,U=V/Y,T=1/U,o.ctx.save(),o.ctx.translate(O,R),o.ctx.transform(1,0,0,U,0,0),o.ctx.translate(-O,-R),o.ctx.fillRect(S,T*(k-R)+R,P,M*T),o.ctx.restore()):o.ctx.fill())),z.label=6;case 6:return s--,[2]}})},o=this,l=0,c=n.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return l<c.length?(u=c[l],[5,i(u)]):[3,4];case 2:d.sent(),d.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},r.prototype.renderSolidBorder=function(n,s,i){return oa(this,void 0,void 0,function(){return qi(this,function(o){return this.path(ZE(i,s)),this.ctx.fillStyle=pi(n),this.ctx.fill(),[2]})})},r.prototype.renderDoubleBorder=function(n,s,i,o){return oa(this,void 0,void 0,function(){var l,c;return qi(this,function(u){switch(u.label){case 0:return s<3?[4,this.renderSolidBorder(n,i,o)]:[3,2];case 1:return u.sent(),[2];case 2:return l=$ae(o,i),this.path(l),this.ctx.fillStyle=pi(n),this.ctx.fill(),c=Hae(o,i),this.path(c),this.ctx.fill(),[2]}})})},r.prototype.renderNodeBackgroundAndBorders=function(n){return oa(this,void 0,void 0,function(){var s,i,o,l,c,u,d,A,f=this;return qi(this,function(h){switch(h.label){case 0:return this.applyEffects(n.getEffects(2)),s=n.container.styles,i=!Qu(s.backgroundColor)||s.backgroundImage.length,o=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],l=eoe(hf(s.backgroundClip,0),n.curves),i||s.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),Qu(s.backgroundColor)||(this.ctx.fillStyle=pi(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(p){f.ctx.save();var m=wv(n.curves),g=p.inset?0:Xae,b=Mae(m,-g+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(f.path(m),f.ctx.clip(),f.mask(b)):(f.mask(m),f.ctx.clip(),f.path(b)),f.ctx.shadowOffsetX=p.offsetX.number+g,f.ctx.shadowOffsetY=p.offsetY.number,f.ctx.shadowColor=pi(p.color),f.ctx.shadowBlur=p.blur.number,f.ctx.fillStyle=p.inset?pi(p.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),h.label=2;case 2:c=0,u=0,d=o,h.label=3;case 3:return u<d.length?(A=d[u],A.style!==0&&!Qu(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,c,n.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,c,n.curves,3)];case 6:return h.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,c,n.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,c,n.curves)];case 10:h.sent(),h.label=11;case 11:c++,h.label=12;case 12:return u++,[3,3];case 13:return[2]}})})},r.prototype.renderDashedDottedBorder=function(n,s,i,o,l){return oa(this,void 0,void 0,function(){var c,u,d,A,f,h,p,m,g,b,y,x,v,w,_,B,_,B;return qi(this,function(N){return this.ctx.save(),c=Vae(o,i),u=ZE(o,i),l===2&&(this.path(u),this.ctx.clip()),vo(u[0])?(d=u[0].start.x,A=u[0].start.y):(d=u[0].x,A=u[0].y),vo(u[1])?(f=u[1].end.x,h=u[1].end.y):(f=u[1].x,h=u[1].y),i===0||i===2?p=Math.abs(d-f):p=Math.abs(A-h),this.ctx.beginPath(),l===3?this.formatPath(c):this.formatPath(u.slice(0,2)),m=s<3?s*3:s*2,g=s<3?s*2:s,l===3&&(m=s,g=s),b=!0,p<=m*2?b=!1:p<=m*2+g?(y=p/(2*m+g),m*=y,g*=y):(x=Math.floor((p+g)/(m+g)),v=(p-x*m)/(x-1),w=(p-(x+1)*m)/x,g=w<=0||Math.abs(g-v)<Math.abs(g-w)?v:w),b&&(l===3?this.ctx.setLineDash([0,m+g]):this.ctx.setLineDash([m,g])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=pi(n),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(vo(u[0])&&(_=u[3],B=u[0],this.ctx.beginPath(),this.formatPath([new Yt(_.end.x,_.end.y),new Yt(B.start.x,B.start.y)]),this.ctx.stroke()),vo(u[1])&&(_=u[1],B=u[2],this.ctx.beginPath(),this.formatPath([new Yt(_.end.x,_.end.y),new Yt(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},r.prototype.render=function(n){return oa(this,void 0,void 0,function(){var s;return qi(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=Qae(n),[4,this.renderStack(s)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},r}(hD),Zae=function(t){return t instanceof XL||t instanceof YL?!0:t instanceof uS&&t.type!==xv&&t.type!==yv},eoe=function(t,r){switch(t){case 0:return wv(r);case 2:return Pae(r);case 1:default:return jv(r)}},toe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},roe=["-apple-system","system-ui"],noe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(r){return roe.indexOf(r)===-1}):t},soe=function(t){ul(r,t);function r(n,s){var i=t.call(this,n,s)||this;return i.canvas=s.canvas?s.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=s,i.canvas.width=Math.floor(s.width*s.scale),i.canvas.height=Math.floor(s.height*s.scale),i.canvas.style.width=s.width+"px",i.canvas.style.height=s.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-s.x,-s.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),i}return r.prototype.render=function(n){return oa(this,void 0,void 0,function(){var s,i;return qi(this,function(o){switch(o.label){case 0:return s=T4(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,ioe(s)];case 1:return i=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},r}(hD),ioe=function(t){return new Promise(function(r,n){var s=new Image;s.onload=function(){r(s)},s.onerror=n,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},aoe=function(){function t(r){var n=r.id,s=r.enabled;this.id=n,this.enabled=s,this.start=Date.now()}return t.prototype.debug=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Yg([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Yg([this.id,this.getTime()+"ms"],r))},t.prototype.warn=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Yg([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},t.prototype.error=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Yg([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},t.instances={},t}(),ooe=function(){function t(r,n){var s;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new aoe({id:this.instanceName,enabled:r.logging}),this.cache=(s=r.cache)!==null&&s!==void 0?s:new Cae(this,r)}return t.instanceCount=1,t}(),pD=function(t,r){return r===void 0&&(r={}),loe(t,r)};typeof window<"u"&&lD.setContext(window);var loe=function(t,r){return oa(void 0,void 0,void 0,function(){var n,s,i,o,l,c,u,d,A,f,h,p,m,g,b,y,x,v,w,_,N,B,N,j,C,E,S,k,P,M,H,F,Q,K,Y,V,I,O,R,U;return qi(this,function(T){switch(T.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(s=n.defaultView,!s)throw new Error("Document is not attached to a Window");return i={allowTaint:(j=r.allowTaint)!==null&&j!==void 0?j:!1,imageTimeout:(C=r.imageTimeout)!==null&&C!==void 0?C:15e3,proxy:r.proxy,useCORS:(E=r.useCORS)!==null&&E!==void 0?E:!1},o=m4({logging:(S=r.logging)!==null&&S!==void 0?S:!0,cache:r.cache},i),l={windowWidth:(k=r.windowWidth)!==null&&k!==void 0?k:s.innerWidth,windowHeight:(P=r.windowHeight)!==null&&P!==void 0?P:s.innerHeight,scrollX:(M=r.scrollX)!==null&&M!==void 0?M:s.pageXOffset,scrollY:(H=r.scrollY)!==null&&H!==void 0?H:s.pageYOffset},c=new Ec(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),u=new ooe(o,c),d=(F=r.foreignObjectRendering)!==null&&F!==void 0?F:!1,A={allowTaint:(Q=r.allowTaint)!==null&&Q!==void 0?Q:!1,onclone:r.onclone,ignoreElements:r.ignoreElements,inlineImages:d,copyStyles:d},u.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),f=new YE(u,t,A),h=f.clonedReferenceElement,h?[4,f.toIFrame(n,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=T.sent(),m=dS(h)||uae(h)?Mte(h.ownerDocument):k1(u,h),g=m.width,b=m.height,y=m.left,x=m.top,v=coe(u,h,r.backgroundColor),w={canvas:r.canvas,backgroundColor:v,scale:(Y=(K=r.scale)!==null&&K!==void 0?K:s.devicePixelRatio)!==null&&Y!==void 0?Y:1,x:((V=r.x)!==null&&V!==void 0?V:0)+y,y:((I=r.y)!==null&&I!==void 0?I:0)+x,width:(O=r.width)!==null&&O!==void 0?O:Math.ceil(g),height:(R=r.height)!==null&&R!==void 0?R:Math.ceil(b)},d?(u.logger.debug("Document cloned, using foreign object rendering"),N=new soe(u,w),[4,N.render(h)]):[3,3];case 2:return _=T.sent(),[3,5];case 3:return u.logger.debug("Document cloned, element located at "+y+","+x+" with size "+g+"x"+b+" using computed rendering"),u.logger.debug("Starting DOM parsing"),B=eD(u,h),v===B.styles.backgroundColor&&(B.styles.backgroundColor=xc.TRANSPARENT),u.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),N=new Jae(u,w),[4,N.render(B)];case 4:_=T.sent(),T.label=5;case 5:return(!((U=r.removeContainer)!==null&&U!==void 0)||U)&&(YE.destroy(p)||u.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),u.logger.debug("Finished rendering"),[2,_]}})})},coe=function(t,r,n){var s=r.ownerDocument,i=s.documentElement?a0(t,getComputedStyle(s.documentElement).backgroundColor):xc.TRANSPARENT,o=s.body?a0(t,getComputedStyle(s.body).backgroundColor):xc.TRANSPARENT,l=typeof n=="string"?a0(t,n):n===null?xc.TRANSPARENT:4294967295;return r===s.documentElement?Qu(i)?Qu(o)?l:o:i:l};const uoe=Object.freeze(Object.defineProperty({__proto__:null,default:pD},Symbol.toStringTag,{value:"Module"})),doe=()=>{var b,y,x,v,w,_,B;const{id:t}=l1(),r=al(),{user:n}=On(),[s,i]=te.useState(null),[o,l]=te.useState(!0),[c,u]=te.useState(null),d=te.useRef(),f=new URLSearchParams(r.search).get("type");te.useEffect(()=>{!n||!t||!f||h()},[n,t,f]);const h=async()=>{try{l(!0);const N=f==="order"?`/api/orders/${t}`:`/api/bookings/${t}`,j=await fetch(`http://localhost:10000${N}`,{credentials:"include"});if(j.ok){const C=await j.json();i(C)}else u(`${f} not found`)}catch(N){console.error("Error fetching data:",N),u("Failed to load data")}finally{l(!1)}},p=()=>{window.print()},m=async()=>{if(!(!s||!d.current))try{const N=document.querySelector("[data-pdf-download]");N&&(N.textContent="Generating PDF...",N.disabled=!0);const j=await pD(d.current,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:d.current.scrollWidth,height:d.current.scrollHeight}),C=210,E=j.height*C/j.width,S=297,k=new Nr("p","mm","a4"),P=j.toDataURL("image/png");let M=E,H=0;for(k.addImage(P,"PNG",0,H,C,E),M-=S;M>=0;)H=M-E,k.addPage(),k.addImage(P,"PNG",0,H,C,E),M-=S;const Q=new Date().toISOString().split("T")[0],Y=`Receipt_${s._id.slice(-8).toUpperCase()}_${Q}.pdf`;k.save(Y)}catch(N){console.error("Error generating PDF:",N),alert("Error generating PDF. Please try again.")}finally{const N=document.querySelector("[data-pdf-download]");N&&(N.textContent="Download PDF",N.disabled=!1)}};if(!n)return a.jsx(k$,{to:"/login",replace:!0});if(!f||!["order","booking"].includes(f))return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Invalid Receipt Type"}),a.jsx("p",{className:"text-gray-600",children:"The receipt type must be 'order' or 'booking'"})]})});if(o)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(_s,{size:"xl"})});if(c)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Receipt Not Found"}),a.jsx("p",{className:"text-gray-600",children:c})]})});if(!s)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"No Data Available"}),a.jsx("p",{className:"text-gray-600",children:"Unable to load receipt data"})]})});const g=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b print:hidden",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(Gl,{className:"w-5 h-5"}),a.jsx("span",{children:"Back"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:p,className:"flex items-center space-x-2 bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-900 transition-colors",children:[a.jsx(mq,{className:"w-4 h-4"}),a.jsx("span",{children:"Print"})]}),a.jsxs("button",{onClick:m,"data-pdf-download":!0,className:"flex items-center space-x-2 bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",children:[a.jsx(Tm,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8 print:p-0",children:a.jsxs("div",{ref:d,className:"bg-white shadow-lg rounded-lg p-8 print:shadow-none print:rounded-none",style:{fontFamily:"Arial, sans-serif",lineHeight:"1.4"},children:[a.jsxs("div",{className:"text-center pb-6 mb-6",style:{borderBottom:"2px solid #1f2937"},children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",style:{fontSize:"24px",fontWeight:"bold",color:"#111827",marginBottom:"8px"},children:"AIO CART"}),a.jsx("h2",{className:"text-xl text-gray-700",style:{fontSize:"18px",color:"#374151",marginBottom:"8px"},children:"Payment Receipt"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",style:{fontSize:"12px",color:"#6b7280"},children:["Receipt #",s._id.slice(-8).toUpperCase()]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Receipt Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Date:"}),a.jsx("span",{className:"font-medium",children:g(new Date)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600",children:[f==="order"?"Order":"Booking"," ID:"]}),a.jsx("span",{className:"font-medium",children:s.combinedId||s._id})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Status:"}),a.jsx("span",{className:"font-medium capitalize",children:s.status})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Payment:"}),a.jsx("span",{className:"font-medium",children:((b=s.paymentDetails)==null?void 0:b.paymentStatus)==="paid"?"✓ Paid":"Pending"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Customer Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Name:"}),a.jsx("span",{className:"font-medium",children:((y=s.customerId)==null?void 0:y.name)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Email:"}),a.jsx("span",{className:"font-medium",children:((x=s.customerId)==null?void 0:x.email)||"N/A"})]})]}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-3 mt-4",children:"Store Information"}),a.jsx("div",{className:"space-y-2 text-sm",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Store:"}),a.jsx("span",{className:"font-medium",children:((v=s.storeId)==null?void 0:v.name)||"N/A"})]})})]})]}),f==="order"&&s.items&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Items"}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{style:{backgroundColor:"#f9fafb"},children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"500",color:"#6b7280"},children:"Product"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",style:{padding:"12px",textAlign:"right",fontSize:"11px",fontWeight:"500",color:"#6b7280"},children:"Qty"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",style:{padding:"12px",textAlign:"right",fontSize:"11px",fontWeight:"500",color:"#6b7280"},children:"Price"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",style:{padding:"12px",textAlign:"right",fontSize:"11px",fontWeight:"500",color:"#6b7280"},children:"Total"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.items.map((N,j)=>{var C;return a.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[a.jsx("td",{className:"px-4 py-3",style:{padding:"12px"},children:a.jsx("div",{className:"text-sm font-medium text-gray-900",style:{fontSize:"13px",fontWeight:"500",color:"#111827"},children:((C=N.productId)==null?void 0:C.title)||"Product"})}),a.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-900",style:{padding:"12px",textAlign:"right",fontSize:"13px",color:"#111827"},children:N.quantity}),a.jsxs("td",{className:"px-4 py-3 text-right text-sm text-gray-900",style:{padding:"12px",textAlign:"right",fontSize:"13px",color:"#111827"},children:["LKR ",N.price.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:"500",color:"#111827"},children:["LKR ",(N.price*N.quantity).toFixed(2)]})]},j)})})]})})]}),f==="booking"&&s.serviceId&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Service Information"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:s.serviceId.title||"Service"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",(w=s.bookingDetails)!=null&&w.date?g(s.bookingDetails.date):"N/A"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Time: ",((_=s.bookingDetails)==null?void 0:_.startTime)||s.startTime," - ",((B=s.bookingDetails)==null?void 0:B.endTime)||s.endTime]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-medium text-gray-900",children:["LKR ",s.totalAmount]})})]})})]}),f==="order"&&s.shippingAddress&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Shipping Address"}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-sm",children:[a.jsx("p",{children:s.shippingAddress.street}),a.jsxs("p",{children:[s.shippingAddress.city,", ",s.shippingAddress.state]}),a.jsx("p",{children:s.shippingAddress.zipCode})]})]}),a.jsxs("div",{className:"pt-6",style:{borderTop:"2px solid #e5e7eb",paddingTop:"24px"},children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",style:{fontSize:"16px",fontWeight:"600",color:"#111827",marginBottom:"16px"},children:"Payment Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",style:{display:"flex",justifyContent:"space-between",fontSize:"13px",marginBottom:"8px"},children:[a.jsx("span",{className:"text-gray-600",style:{color:"#4b5563"},children:"Subtotal:"}),a.jsxs("span",{className:"font-medium",style:{fontWeight:"500"},children:["LKR ",s.storeAmount]})]}),a.jsxs("div",{className:"flex justify-between text-sm",style:{display:"flex",justifyContent:"space-between",fontSize:"13px",marginBottom:"8px"},children:[a.jsx("span",{className:"text-gray-600",style:{color:"#4b5563"},children:"Platform Fee:"}),a.jsxs("span",{className:"font-medium",style:{fontWeight:"500"},children:["LKR ",s.platformFee]})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900 pt-2",style:{display:"flex",justifyContent:"space-between",fontSize:"16px",fontWeight:"bold",color:"#111827",borderTop:"1px solid #d1d5db",paddingTop:"8px",marginTop:"8px"},children:[a.jsx("span",{children:"Total Amount:"}),a.jsxs("span",{children:["LKR ",s.totalAmount]})]})]})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:[a.jsx("p",{children:"Thank you for your business!"}),a.jsx("p",{className:"mt-1",children:"This is an electronically generated receipt."}),a.jsxs("p",{className:"mt-1",children:["Generated on ",g(new Date)]})]})]})}),a.jsx("style",{jsx:!0,children:`
        @media print {
          @page {
            margin: 0.5in;
          }
          body {
            -webkit-print-color-adjust: exact;
          }
          .print\\:hidden {
            display: none !important;
          }
          .print\\:shadow-none {
            box-shadow: none !important;
          }
          .print\\:rounded-none {
            border-radius: 0 !important;
          }
          .print\\:p-0 {
            padding: 0 !important;
          }
        }
      `})]})},Aoe=({selectedColor:t,onColorChange:r,className:n=""})=>{const s=[{name:"Classic Black",value:"#000000",preview:"bg-black"},{name:"Pure White",value:"#FFFFFF",preview:"bg-white border-2 border-gray-300"},{name:"Slate Gray",value:"#64748b",preview:"bg-slate-500"},{name:"Royal Blue",value:"#2563eb",preview:"bg-blue-600"},{name:"Emerald Green",value:"#059669",preview:"bg-emerald-600"},{name:"Crimson Red",value:"#dc2626",preview:"bg-red-600"},{name:"Amber Orange",value:"#d97706",preview:"bg-amber-600"},{name:"Violet Purple",value:"#7c3aed",preview:"bg-violet-600"},{name:"Rose Pink",value:"#e11d48",preview:"bg-rose-600"},{name:"Teal",value:"#0d9488",preview:"bg-teal-600"},{name:"Indigo",value:"#4f46e5",preview:"bg-indigo-600"},{name:"Lime Green",value:"#65a30d",preview:"bg-lime-600"}];return a.jsxs("div",{className:`space-y-4 ${n}`,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(D5,{className:"w-5 h-5 text-gray-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Store Theme Color"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Choose from preset colors"}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:s.map(i=>a.jsxs("button",{type:"button",onClick:()=>r(i.value),className:`group relative p-3 rounded-lg border-2 transition-all hover:scale-105 ${t===i.value?"border-black ring-2 ring-black ring-opacity-50":"border-gray-200 hover:border-gray-300"}`,title:i.name,children:[a.jsx("div",{className:`w-full h-8 rounded ${i.preview} mb-2`}),a.jsx("p",{className:"text-xs text-gray-600 text-center truncate",children:i.name}),t===i.value&&a.jsx("div",{className:"absolute top-1 right-1 w-3 h-3 bg-black rounded-full flex items-center justify-center",children:a.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]},i.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or choose a custom color"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx("input",{type:"color",value:t,onChange:i=>r(i.target.value),className:"w-16 h-12 border border-gray-300 rounded-lg cursor-pointer"})}),a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",value:t,onChange:i=>r(i.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent font-mono",placeholder:"#000000",pattern:"^#[0-9A-Fa-f]{6}$"})})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Theme Preview"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-4 rounded-lg text-white",style:{backgroundColor:t},children:[a.jsx("h5",{className:"font-semibold",children:"Your Store Name"}),a.jsx("p",{className:"text-sm opacity-90",children:"This is how your store theme will look"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:"px-4 py-2 rounded-lg text-white font-medium",style:{backgroundColor:t},children:"Primary Button"}),a.jsx("button",{className:"px-4 py-2 rounded-lg font-medium border-2",style:{borderColor:t,color:t,backgroundColor:"transparent"},children:"Secondary Button"})]})]})]})]})},foe=()=>{const{user:t,loading:r}=On(),n=Hs(),[s,i]=te.useState(null),[o,l]=te.useState([]),[c,u]=te.useState(!0),[d,A]=te.useState(!1),[f,h]=te.useState("details"),[p,m]=te.useState(""),[g,b]=te.useState(""),[y,x]=te.useState(""),[v,w]=te.useState("all"),[_,B]=te.useState(null),[N,j]=te.useState({name:"",description:"",themeColor:"#000000",storeType:"product",contactInfo:{email:"",phone:"",address:""},serviceSettings:{workingHours:{start:"09:00",end:"17:00"},workingDays:["monday","tuesday","wednesday","thursday","friday"],excludedDates:[],timeZone:"Asia/Colombo",bookingBuffer:0,advanceBookingDays:30},shippingInfo:{freeShipping:!1,deliveryDaysMin:3,deliveryDaysMax:7,areas:[]},socialLinks:{facebook:"",instagram:"",youtube:"",tiktok:"",linkedin:"",pinterest:"",snapchat:"",website:""}}),[C,E]=te.useState([]),[S,k]=te.useState(null),[P,M]=te.useState(""),[H,F]=te.useState(""),[Q,K]=te.useState([]),[Y,V]=te.useState([]),[I,O]=te.useState(!1),R=[{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}];te.useEffect(()=>{r||((t==null?void 0:t.role)==="store_owner"&&(t!=null&&t.storeId)?(U(),T()):n("/dashboard"))},[t,n,r]);const U=async()=>{try{const we=await fetch(`http://localhost:10000/api/stores/${t.storeId}`);if(we.ok){const je=await we.json();i(je.store),j({name:je.store.name||"",description:je.store.description||"",themeColor:je.store.themeColor||"#000000",storeType:je.store.storeType||"product",contactInfo:je.store.contactInfo||{email:"",phone:"",address:""},serviceSettings:je.store.serviceSettings||{workingHours:{start:"09:00",end:"17:00"},workingDays:["monday","tuesday","wednesday","thursday","friday"],excludedDates:[],timeZone:"Asia/Colombo",bookingBuffer:0,advanceBookingDays:30},shippingInfo:je.store.shippingInfo||{freeShipping:!1,deliveryDaysMin:3,deliveryDaysMax:7,areas:[]},socialLinks:je.store.socialLinks||[]}),O(je.store.canReuploadDocs||!1)}const oe=await fetch("http://localhost:10000/api/subscriptions/my-subscription",{credentials:"include"});if(!oe.ok)throw new Error("Failed to fetch subscription");const pe=await oe.json();B(pe)}catch(we){console.error("Error fetching store:",we),m("Failed to load store data")}finally{u(!1)}},T=async()=>{try{const we=await fetch("http://localhost:10000/api/reviews/manage",{credentials:"include"});if(we.ok){const oe=await we.json();l(oe)}}catch(we){console.error("Error fetching reviews:",we)}},z=async we=>{we.preventDefault(),A(!0),m(""),x("");const oe={maxSizeMB:.5,maxWidthOrHeight:2e3,useWebWorker:!0};try{let pe=await Promise.all(C.map(async De=>{const qe=await ts(De,oe),Qe=Il(Pl,`stores/id_${Date.now()}_${De.name}`);return await Ol(Qe,qe),Fl(Qe)}));const je=pe.length>0?pe:s.heroImages,Te={name:N.name,description:N.description,themeColor:N.themeColor,storeType:N.storeType,contactInfo:N.contactInfo,heroImages:je,serviceSettings:N.serviceSettings,shippingInfo:N.shippingInfo,socialLinks:N.socialLinks},be=await fetch(`http://localhost:10000/api/stores/${s._id}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(Te)});if(be.ok){const De=await be.json();i(De),E([]),x("Store updated successfully!")}else{const De=await be.json();m(De.error||"Failed to update store")}}catch(pe){m("Network error. Please try again."+pe)}finally{A(!1)}},G=async()=>{if(!S)return;const we={maxSizeMB:.2,maxWidthOrHeight:400,useWebWorker:!0};try{const oe=await ts(S,we),pe=Il(Pl,`users/${Date.now()}_${S.name}`);await Ol(pe,oe);const Te={profileImage:await Fl(pe)},be=await fetch(`http://localhost:10000/api/stores/${s._id}/profile-image`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(Te)});if(be.ok){const De=await be.json();i(De),k(null),x("Profile image updated successfully!")}else{const De=await be.json();m(De.error||"Failed to update profile image")}}catch(oe){m("Network error. Please try again."+oe)}},J=async we=>{const oe=we==="id"?Q:Y;if(oe.length!==0){A(!0);try{const pe={maxSizeMB:1,maxWidthOrHeight:2e3,useWebWorker:!0},je=await Promise.all(oe.map(async De=>{const qe=await ts(De,pe),Qe=Il(Pl,`verification/${we}_${Date.now()}_${De.name}`);return await Ol(Qe,qe),Fl(Qe)})),Te={[we==="id"?"idImages":"addressVerificationImages"]:je},be=await fetch(`http://localhost:10000/api/stores/${s._id}/verification-docs`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(Te)});if(be.ok){const De=await be.json();i(De),we==="id"?K([]):V([]),x(`${we==="id"?"ID":"Address"} verification documents uploaded successfully!`)}else{const De=await be.json();m(De.error||"Failed to upload verification documents")}}catch(pe){console.error("Upload error:",pe),m("Network error. Please try again: "+pe.message)}finally{A(!1)}}},ee=we=>{const{name:oe,value:pe,type:je,checked:Te}=we.target;if(oe.startsWith("contactInfo.")){const be=oe.split(".")[1];j(De=>({...De,contactInfo:{...De.contactInfo,[be]:pe}}))}else if(oe.startsWith("serviceSettings.")){const be=oe.split(".");if(be.length===3){const[,De,qe]=be;j(Qe=>({...Qe,serviceSettings:{...Qe.serviceSettings,[De]:{...Qe.serviceSettings[De],[qe]:pe}}}))}else{const De=be[1];j(qe=>({...qe,serviceSettings:{...qe.serviceSettings,[De]:je==="number"?parseInt(pe)||0:pe}}))}}else if(oe.startsWith("shippingInfo.")){const be=oe.split(".")[1];j(De=>({...De,shippingInfo:{...De.shippingInfo,[be]:je==="checkbox"?Te:je==="number"?parseInt(pe)||0:pe}}))}else if(oe.startsWith("socialLinks.")){const be=oe.split(".")[1];j(De=>({...De,socialLinks:{...De.socialLinks,[be]:pe}}))}else j(be=>({...be,[oe]:pe}))},fe=we=>{j(oe=>({...oe,serviceSettings:{...oe.serviceSettings,workingDays:oe.serviceSettings.workingDays.includes(we)?oe.serviceSettings.workingDays.filter(pe=>pe!==we):[...oe.serviceSettings.workingDays,we]}}))},de=()=>{P&&!N.serviceSettings.excludedDates.includes(P)&&(j(we=>({...we,serviceSettings:{...we.serviceSettings,excludedDates:[...we.serviceSettings.excludedDates,P]}})),M(""))},ae=we=>{j(oe=>({...oe,serviceSettings:{...oe.serviceSettings,excludedDates:oe.serviceSettings.excludedDates.filter(pe=>pe!==we)}}))},xe=()=>{H.trim()&&!N.shippingInfo.areas.includes(H.trim())&&(j(we=>({...we,shippingInfo:{...we.shippingInfo,areas:[...we.shippingInfo.areas,H.trim()]}})),F(""))},X=we=>{j(oe=>({...oe,shippingInfo:{...oe.shippingInfo,areas:oe.shippingInfo.areas.filter(pe=>pe!==we)}}))},ie=async(we,oe)=>{try{_&&_.package==="standard"?(await fetch(`http://localhost:10000/api/reviews/${we}/visibility`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({isVisible:oe})})).ok&&(T(),x(`Review ${oe?"shown":"hidden"} successfully!`)):b("To manage reviews and enhance your brand credibility, simply upgrade your package. It's quick, easy, and unlocks powerful features to grow your business.")}catch{m("Failed to update review visibility")}},re=async(we,oe)=>{try{(await fetch(`http://localhost:10000/api/reviews/${we}/respond`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:oe})})).ok&&(T(),x("Response added successfully!"))}catch{m("Failed to respond to review")}},ve=o.filter(we=>{switch(v){case"visible":return we.isVisible;case"hidden":return!we.isVisible;case"unanswered":return!we.response;default:return!0}}),ke=we=>!we||we.length<=2?we:we.charAt(0)+"*".repeat(we.length-2)+we.charAt(we.length-1),Ce=(we,oe)=>we?{status:"verified",icon:Kn,color:"text-green-600",bg:"bg-green-50"}:oe?{status:"pending",icon:Li,color:"text-yellow-600",bg:"bg-yellow-50"}:{status:"not_uploaded",icon:Gu,color:"text-red-600",bg:"bg-red-50"};return r||c?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(_s,{size:"xl"})}):s?a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Store Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your store settings, verification, and reviews"})]}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[{id:"details",name:"Store Details",icon:li},{id:"shipping",name:"Shipping & Delivery",icon:Wd},{id:"social",name:"Social Media",icon:xh},{id:"verification",name:"Verification",icon:z0},{id:"reviews",name:"Reviews",icon:mA}].map(we=>{const oe=we.icon;return a.jsxs("button",{onClick:()=>h(we.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${f===we.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(oe,{className:"w-5 h-5"}),a.jsxs("span",{children:[we.name,we.id==="reviews"&&o.length>0&&a.jsx("span",{className:"ml-1 bg-black text-white text-xs px-2 py-1 rounded-full",children:o.length})]})]},we.id)})})})}),p&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:p}),g&&a.jsx("div",{className:"bg-amber-100 border border-amber-400 text-amber-700 px-4 py-3 rounded mb-6",children:g}),y&&a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:y}),f==="details"&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8",children:a.jsxs("form",{onSubmit:z,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Store Profile Image"}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:s.profileImage?a.jsx("img",{src:s.profileImage.startsWith("http")?s.profileImage:`http://localhost:10000${s.profileImage}`,alt:"Store profile",className:"w-full h-full object-cover"}):a.jsx(li,{className:"w-8 h-8 text-gray-400"})}),a.jsxs("label",{className:"absolute bottom-0 right-0 bg-black text-white p-2 rounded-full hover:bg-gray-800 transition-colors cursor-pointer",children:[a.jsx(TN,{className:"w-4 h-4"}),a.jsx("input",{type:"file",accept:"image/*",onChange:we=>k(we.target.files[0]),className:"hidden"})]})]}),S&&a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:URL.createObjectURL(S),alt:"New profile",className:"w-16 h-16 rounded-full object-cover"}),a.jsx("button",{type:"button",onClick:G,className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Upload"}),a.jsx("button",{type:"button",onClick:()=>k(null),className:"text-red-500 hover:text-red-700",children:"Cancel"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Name"}),a.jsx("input",{type:"text",name:"name",value:N.name,onChange:ee,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme Color"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"color",name:"themeColor",value:N.themeColor,onChange:ee,className:"w-16 h-12 border border-gray-300 rounded-lg cursor-pointer"}),a.jsx("input",{type:"text",value:N.themeColor,onChange:we=>j(oe=>({...oe,themeColor:we.target.value})),className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"#000000"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Description"}),a.jsx("textarea",{name:"description",value:N.description,onChange:ee,rows:4,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.type==="service"&&a.jsxs("div",{className:"border-t pt-8",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[a.jsx($s,{className:"w-5 h-5 mr-2"}),"Service & Booking Settings"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Working Hours"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Start Time"}),a.jsx("input",{type:"time",name:"serviceSettings.workingHours.start",value:N.serviceSettings.workingHours.start,onChange:ee,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"End Time"}),a.jsx("input",{type:"time",name:"serviceSettings.workingHours.end",value:N.serviceSettings.workingHours.end,onChange:ee,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Working Days"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:R.map(we=>a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:N.serviceSettings.workingDays.includes(we.value),onChange:()=>fe(we.value),className:"w-4 h-4 text-black focus:ring-black border-gray-300 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:we.label})]},we.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Excluded Dates (Holidays/Closures)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"date",value:P,onChange:we=>M(we.target.value),min:new Date().toISOString().split("T")[0],className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"}),a.jsx("button",{type:"button",onClick:de,className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors flex items-center",children:a.jsx(Eo,{className:"w-4 h-4"})})]}),N.serviceSettings.excludedDates.length>0&&a.jsx("div",{className:"space-y-2",children:N.serviceSettings.excludedDates.map((we,oe)=>a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-3 py-2 rounded-lg",children:[a.jsx("span",{className:"text-sm text-gray-700",children:new Date(we).toLocaleDateString()}),a.jsx("button",{type:"button",onClick:()=>ae(we),className:"text-red-500 hover:text-red-700",children:a.jsx(hs,{className:"w-4 h-4"})})]},oe))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking Buffer (minutes)"}),a.jsx("input",{type:"number",name:"serviceSettings.bookingBuffer",value:N.serviceSettings.bookingBuffer,onChange:ee,min:"0",max:"60",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"0"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Buffer time between bookings"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advance Booking Days"}),a.jsx("input",{type:"number",name:"serviceSettings.advanceBookingDays",value:N.serviceSettings.advanceBookingDays,onChange:ee,min:"1",max:"365",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"30"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How far in advance customers can book"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),a.jsxs("select",{name:"serviceSettings.timeZone",value:N.serviceSettings.timeZone,onChange:ee,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[a.jsx("option",{value:"Asia/Colombo",children:"Asia/Colombo (Sri Lanka)"}),a.jsx("option",{value:"Asia/Kolkata",children:"Asia/Kolkata (India)"}),a.jsx("option",{value:"UTC",children:"UTC"}),a.jsx("option",{value:"America/New_York",children:"America/New_York (EST)"}),a.jsx("option",{value:"Europe/London",children:"Europe/London (GMT)"})]})]})]})]})]}),a.jsx(Aoe,{selectedColor:N.themeColor,onColorChange:we=>j({...N,themeColor:we})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Images (up to 5)"}),a.jsx(Xd,{images:C,onImagesChange:E,maxImages:5,multiple:!0}),s.heroImages&&s.heroImages.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Current Images:"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:s.heroImages.map((we,oe)=>a.jsx("img",{src:we.startsWith("http")?we:`http://localhost:10000${we}`,alt:`Hero ${oe+1}`,className:"w-full h-24 object-cover rounded-lg"},oe))})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",name:"contactInfo.email",value:N.contactInfo.email,onChange:ee,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",name:"contactInfo.phone",value:N.contactInfo.phone,onChange:ee,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),a.jsx("textarea",{name:"contactInfo.address",value:N.contactInfo.address,onChange:ee,rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{type:"submit",disabled:d,className:"bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[d&&a.jsx(_s,{size:"sm"}),a.jsx("span",{children:d?"Saving...":"Save Changes"})]})})]})}),f==="shipping"&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8",children:a.jsxs("form",{onSubmit:z,className:"space-y-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(Wd,{className:"w-5 h-5 mr-2"}),"Shipping & Delivery Settings"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure your delivery options and areas"})]})}),s.type==="product"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Free Shipping"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Offer free shipping to your customers"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"shippingInfo.freeShipping",checked:N.shippingInfo.freeShipping,onChange:ee,className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-black/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Delivery Timeframe"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Minimum Days"}),a.jsx("input",{type:"number",name:"shippingInfo.deliveryDaysMin",value:N.shippingInfo.deliveryDaysMin,onChange:ee,min:"1",max:"30",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Maximum Days"}),a.jsx("input",{type:"number",name:"shippingInfo.deliveryDaysMax",value:N.shippingInfo.deliveryDaysMax,onChange:ee,min:"1",max:"30",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Estimated delivery time for your products"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Delivery Areas"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:H,onChange:we=>F(we.target.value),placeholder:"Enter area name (e.g., Colombo, Kandy)",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"}),a.jsx("button",{type:"button",onClick:xe,className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors flex items-center",children:a.jsx(Eo,{className:"w-4 h-4"})})]}),N.shippingInfo.areas.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Current Delivery Areas:"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:N.shippingInfo.areas.map((we,oe)=>a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-3 py-2 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ql,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:we})]}),a.jsx("button",{type:"button",onClick:()=>X(we),className:"text-red-500 hover:text-red-700",children:a.jsx(hs,{className:"w-4 h-4"})})]},oe))})]}),N.shippingInfo.areas.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Fi,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No delivery areas added yet"}),a.jsx("p",{className:"text-sm",children:"Add areas where you can deliver products"})]})]})]})]}):a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(Wd,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Service Store"}),a.jsx("p",{children:"Shipping settings are only available for product stores."}),a.jsx("p",{className:"text-sm mt-1",children:"Service bookings are handled through the booking system."})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{type:"submit",disabled:d||s.type!=="product",className:"bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[d&&a.jsx(_s,{size:"sm"}),a.jsx("span",{children:d?"Saving...":"Save Changes"})]})})]})}),f==="social"&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8",children:a.jsxs("form",{onSubmit:z,className:"space-y-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(xh,{className:"w-5 h-5 mr-2"}),"Social Media Links"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add your social media profiles to increase customer engagement"})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(f8,{className:"w-4 h-4 mr-2 text-blue-600"}),"Facebook"]}),a.jsx("input",{type:"url",name:"socialLinks.facebook",value:N.socialLinks.facebook||"",onChange:ee,placeholder:"https://facebook.com/yourpage",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(m8,{className:"w-4 h-4 mr-2 text-pink-600"}),"Instagram"]}),a.jsx("input",{type:"url",name:"socialLinks.instagram",value:N.socialLinks.instagram||"",onChange:ee,placeholder:"https://instagram.com/youraccount",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(Cq,{className:"w-4 h-4 mr-2 text-red-600"}),"YouTube"]}),a.jsx("input",{type:"url",name:"socialLinks.youtube",value:N.socialLinks.youtube||"",onChange:ee,placeholder:"https://youtube.com/yourchannel",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(Aq,{className:"w-4 h-4 mr-2 text-black"}),"TikTok"]}),a.jsx("input",{type:"url",name:"socialLinks.tiktok",value:N.socialLinks.tiktok||"",onChange:ee,placeholder:"https://tiktok.com/@youraccount",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(oq,{className:"w-4 h-4 mr-2 text-blue-700"}),"LinkedIn"]}),a.jsx("input",{type:"url",name:"socialLinks.linkedin",value:N.socialLinks.linkedin||"",onChange:ee,placeholder:"https://linkedin.com/company/yourcompany",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(p1,{className:"w-4 h-4 mr-2 text-red-500"}),"Pinterest"]}),a.jsx("input",{type:"url",name:"socialLinks.pinterest",value:N.socialLinks.pinterest||"",onChange:ee,placeholder:"https://pinterest.com/youraccount",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(yh,{className:"w-4 h-4 mr-2 text-yellow-500"}),"Snapchat"]}),a.jsx("input",{type:"url",name:"socialLinks.snapchat",value:N.socialLinks.snapchat||"",onChange:ee,placeholder:"https://snapchat.com/add/yourusername",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(P5,{className:"w-4 h-4 mr-2 text-gray-600"}),"Website"]}),a.jsx("input",{type:"url",name:"socialLinks.website",value:N.socialLinks.website||"",onChange:ee,placeholder:"https://yourwebsite.com",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{type:"submit",disabled:d,className:"bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[d&&a.jsx(_s,{size:"sm"}),a.jsx("span",{children:d?"Saving...":"Save Changes"})]})})]})}),f==="verification"&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8",children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(z0,{className:"w-5 h-5 mr-2"}),"Store Verification"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Upload verification documents to build customer trust"}),!1]}),s.isVerified&&a.jsxs("div",{className:"flex items-center space-x-2 bg-green-50 px-4 py-2 rounded-full",children:[a.jsx(Kn,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Verified Store"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"border rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"ID Verification"}),(()=>{var pe;const we=Ce(s.isVerified,((pe=s.idImages)==null?void 0:pe.length)>0),oe=we.icon;return a.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full ${we.bg}`,children:[a.jsx(oe,{className:`w-4 h-4 ${we.color}`}),a.jsxs("span",{className:`text-xs font-medium ${we.color}`,children:[we.status==="verified"&&"Verified",we.status==="pending"&&"Under Review",we.status==="not_uploaded"&&"Not Uploaded"]})]})})()]}),s.idImages&&s.idImages.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Current Documents:"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.idImages.map((we,oe)=>a.jsx("img",{src:we.startsWith("http")?we:`http://localhost:10000${we}`,alt:`ID ${oe+1}`,className:"w-full h-24 object-cover rounded border"},oe))})]}),(I||!s.idImages||s.idImages.length===0)&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(Xd,{images:Q,onImagesChange:K,maxImages:3,multiple:!0,accept:"image/*",idPrefix:"id-verification"}),Q.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{type:"button",onClick:()=>{console.log("Attempting to upload ID documents:",Q),J("id")},disabled:d,className:"w-full bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 flex items-center justify-center space-x-2",children:[d&&a.jsx(_s,{size:"sm"}),a.jsx(K0,{className:"w-4 h-4"}),a.jsx("span",{children:d?"Uploading...":"Upload ID Documents"})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[Q.length," file(s) selected for upload"]})]})]}),!I&&s.idImages&&s.idImages.length>0&&a.jsx("div",{className:`border rounded-lg p-3 ${s.isVerified?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:a.jsx("p",{className:`text-sm ${s.isVerified?"text-green-800":"text-yellow-800"}`,children:s.isVerified?"✓ Your ID documents have been verified and approved.":"Your ID documents are under review. You can only reupload if admin requests changes."})})]}),a.jsxs("div",{className:"border rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Address Verification"}),(()=>{var pe;const we=Ce(s.isVerified,((pe=s.addressVerificationImages)==null?void 0:pe.length)>0),oe=we.icon;return a.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full ${we.bg}`,children:[a.jsx(oe,{className:`w-4 h-4 ${we.color}`}),a.jsxs("span",{className:`text-xs font-medium ${we.color}`,children:[we.status==="verified"&&"Verified",we.status==="pending"&&"Under Review",we.status==="not_uploaded"&&"Not Uploaded"]})]})})()]}),s.addressVerificationImages&&s.addressVerificationImages.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Current Documents:"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.addressVerificationImages.map((we,oe)=>a.jsx("img",{src:we.startsWith("http")?we:`http://localhost:10000${we}`,alt:`Address ${oe+1}`,className:"w-full h-24 object-cover rounded border"},oe))})]}),(I||!s.addressVerificationImages||s.addressVerificationImages.length===0)&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(Xd,{images:Y,onImagesChange:V,maxImages:3,multiple:!0,accept:"image/*",idPrefix:"address-verification"}),Y.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{type:"button",onClick:()=>{console.log("Attempting to upload address documents:",Y),J("address")},disabled:d,className:"w-full bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 flex items-center justify-center space-x-2",children:[d&&a.jsx(_s,{size:"sm"}),a.jsx(K0,{className:"w-4 h-4"}),a.jsx("span",{children:d?"Uploading...":"Upload Address Documents"})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[Y.length," file(s) selected for upload"]})]})]}),!I&&s.addressVerificationImages&&s.addressVerificationImages.length>0&&a.jsx("div",{className:`border rounded-lg p-3 ${s.isVerified?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:a.jsx("p",{className:`text-sm ${s.isVerified?"text-green-800":"text-yellow-800"}`,children:s.isVerified?"✓ Your address documents have been verified and approved.":"Your address documents are under review. You can only reupload if admin requests changes."})})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Document Guidelines"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium mb-2",children:"ID Documents (Required):"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:"• National ID Card"}),a.jsx("li",{children:"• Passport"}),a.jsx("li",{children:"• Driving License"}),a.jsx("li",{children:"• Clear, readable photos"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium mb-2",children:"Address Proof (Required):"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:"• Utility Bill (recent)"}),a.jsx("li",{children:"• Bank Statement"}),a.jsx("li",{children:"• Lease Agreement"}),a.jsx("li",{children:"• Government Letter"})]})]})]})]})]})}),f==="reviews"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Review Statistics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:o.length>0?(o.reduce((we,oe)=>we+oe.rating,0)/o.length).toFixed(1):"0.0"}),a.jsx("div",{className:"text-sm text-yellow-700",children:"Average Rating"})]}),a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-900",children:o.length}),a.jsx("div",{className:"text-sm text-blue-700",children:"Total Reviews"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-900",children:o.filter(we=>we.isVisible).length}),a.jsx("div",{className:"text-sm text-green-700",children:"Visible Reviews"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-900",children:o.filter(we=>we.response).length}),a.jsx("div",{className:"text-sm text-purple-700",children:"Responded To"})]})]})]}),o.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[a.jsx(Wr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Reviews Yet"}),a.jsx("p",{className:"text-gray-600",children:"Customer reviews will appear here once you receive them"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>w("all"),className:`px-3 py-1 rounded-full text-sm ${v==="all"?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Reviews (",o.length,")"]}),a.jsxs("button",{onClick:()=>w("visible"),className:`px-3 py-1 rounded-full text-sm ${v==="visible"?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Visible (",o.filter(we=>we.isVisible).length,")"]}),a.jsxs("button",{onClick:()=>w("hidden"),className:`px-3 py-1 rounded-full text-sm ${v==="hidden"?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Hidden (",o.filter(we=>!we.isVisible).length,")"]}),a.jsxs("button",{onClick:()=>w("unanswered"),className:`px-3 py-1 rounded-full text-sm ${v==="unanswered"?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Unanswered (",o.filter(we=>!we.response).length,")"]})]})}),ve.map(we=>{var oe;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:ke(((oe=we.customerId)==null?void 0:oe.name)||"Anonymous")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((pe,je)=>a.jsx(Wr,{className:`w-4 h-4 ${je<we.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},je))}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(we.createdAt).toLocaleDateString()}),we.orderId&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Order"}),we.bookingId&&a.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Booking"})]})]})}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>ie(we._id,!we.isVisible),className:`p-2 rounded-lg transition-colors ${we.isVisible?"bg-green-100 text-green-600 hover:bg-green-200":"bg-red-100 text-red-600 hover:bg-red-200"}`,title:we.isVisible?"Hide review":"Show review",children:we.isVisible?a.jsx(Zn,{className:"w-4 h-4"}):a.jsx(Gx,{className:"w-4 h-4"})})})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:we.comment}),we.response?a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(mA,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Your Response"}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(we.response.respondedAt).toLocaleDateString()})]}),a.jsx("p",{className:"text-gray-700",children:we.response.message})]}):a.jsx("div",{className:"border-t pt-4",children:a.jsxs("form",{onSubmit:pe=>{pe.preventDefault();const je=pe.target.message.value;je.trim()&&(re(we._id,je),pe.target.reset())},className:"flex space-x-3",children:[a.jsx("input",{type:"text",name:"message",placeholder:"Respond to this review...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"}),a.jsx("button",{type:"submit",className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Respond"})]})})]},we._id)})]})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(li,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Store Found"}),a.jsx("p",{className:"text-gray-600",children:"Please create a store first"})]})})},hoe=()=>a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-9xl font-bold text-gray-300",children:"404"}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Sorry, we couldn't find the page you're looking for. It might have been moved, deleted, or you entered the wrong URL."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs($t,{to:"/",className:"inline-flex items-center space-x-2 bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:[a.jsx(sq,{className:"w-5 h-5"}),a.jsx("span",{children:"Go Home"})]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center space-x-2 bg-white border-2 border-black text-black px-6 py-3 rounded-lg hover:bg-black hover:text-white transition-colors",children:[a.jsx(Gl,{className:"w-5 h-5"}),a.jsx("span",{children:"Go Back"})]})]})]})}),mD=({isOpen:t,onClose:r,title:n,children:s,size:i="md"})=>{const o={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"};return te.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:`bg-white rounded-lg w-full ${o[i]} max-h-[90vh] overflow-y-auto`,children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n}),a.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors",children:a.jsx(hs,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-6",children:s})]})}):null},poe=()=>{var k;const{user:t}=On(),[r,n]=te.useState({totalUsers:0,totalStores:0,totalProducts:0,totalServices:0,totalOrders:0,totalBookings:0,totalRevenue:0}),[s,i]=te.useState({users:[],stores:[],products:[],services:[],orders:[],bookings:[],subscriptions:[],commissions:[],categories:[]}),[o,l]=te.useState({}),[c,u]=te.useState("dashboard"),[d,A]=te.useState(!0),[f,h]=te.useState(""),[p,m]=te.useState("all"),[g,b]=te.useState(null),[y,x]=te.useState(!1),[v,w]=te.useState("view"),[_,B]=te.useState([]);te.useEffect(()=>{(t==null?void 0:t.email)==="admin@aio.com"&&N()},[t]);const N=async()=>{var P;try{const[M,H,F,Q]=await Promise.all([fetch("http://localhost:10000/api/users"),fetch("http://localhost:10000/api/stores"),fetch("http://localhost:10000/api/products"),fetch("http://localhost:10000/api/services")]),K=M.ok?await M.json():[],Y=H.ok?await H.json():[],V=F.ok?await F.json():[],I=Q.ok?await Q.json():[],O=await fetch("http://localhost:10000/api/subscriptions/admin/all",{credentials:"include"}),R=O.ok?await O.json():[],U=await fetch("http://localhost:10000/api/commissions/admin/all",{credentials:"include"}),T=U.ok?await U.json():[],z=await fetch("http://localhost:10000/api/commissions/admin/stats",{credentials:"include"}),G=z.ok?await z.json():{};i({users:K,stores:Y,products:V,services:I,subscriptions:R,commissions:T}),l(G),n({totalUsers:K.length,totalStores:Y.length,totalProducts:V.length,totalServices:I.length,totalOrders:0,totalBookings:0,totalRevenue:((P=G.overall)==null?void 0:P.totalCommissions)||0})}catch(M){console.error("Error fetching admin data:",M)}finally{A(!1)}},j=async(P,M)=>{const H=`${window.location.origin}/store/${P}`,F=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(H)}`;try{const K=await(await fetch(F)).blob(),Y=window.URL.createObjectURL(K),V=document.createElement("a");V.href=Y,V.download=`${M.replace(/\s+/g,"-").toLowerCase()}-qr-code.png`,document.body.appendChild(V),V.click(),document.body.removeChild(V),window.URL.revokeObjectURL(Y)}catch(Q){console.error("Error downloading QR code:",Q),alert("Failed to download QR code")}},C=(P,M=null)=>{w(P),b(M),x(!0)},E=P=>(s[P]||[]).filter(H=>{const F=!f||H.name&&H.name.toLowerCase().includes(f.toLowerCase())||H.title&&H.title.toLowerCase().includes(f.toLowerCase())||H.email&&H.email.toLowerCase().includes(f.toLowerCase()),Q=p==="all"||H.status===p||H.isActive===(p==="active");return F&&Q});if(!t||t.email!=="admin@aio.com")return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md",children:[a.jsx(yu,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the admin panel."})]})});if(d)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(_s,{size:"xl"})});const S=[{id:"dashboard",name:"Dashboard",icon:c8},{id:"users",name:"Users",icon:zl},{id:"stores",name:"Stores",icon:li},{id:"products",name:"Products",icon:Fi},{id:"services",name:"Services",icon:Es},{id:"categories",name:"Categories",icon:p1},{id:"subscriptions",name:"Subscriptions",icon:hA},{id:"commissions",name:"Commissions",icon:Hl},{id:"audit",name:"Audit Logs",icon:h8}];return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive platform management"})]}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:S.map(P=>{const M=P.icon;return a.jsxs("button",{onClick:()=>u(P.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${c===P.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(M,{className:"w-5 h-5"}),a.jsx("span",{children:P.name})]},P.id)})})})}),c!=="dashboard"&&c!=="audit"&&a.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-sm p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search...",value:f,onChange:P=>h(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Om,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:p,onChange:P=>m(P.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]}),a.jsxs("button",{onClick:()=>C("create"),className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors flex items-center space-x-2",children:[a.jsx(Eo,{className:"w-4 h-4"}),a.jsx("span",{children:"Add New"})]})]})}),c==="dashboard"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.totalUsers})]}),a.jsx(zl,{className:"w-8 h-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Stores"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.totalStores})]}),a.jsx(li,{className:"w-8 h-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Lr(((k=o.overall)==null?void 0:k.totalCommissions)||0)})]}),a.jsx(hA,{className:"w-8 h-8 text-yellow-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Active Subscriptions"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.subscriptions.filter(P=>P.status==="active").length})]}),a.jsx(Hl,{className:"w-8 h-8 text-purple-500"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Store QR Codes"}),a.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Download QR codes for business cards"}),a.jsx("button",{onClick:()=>u("stores"),className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700 transition-colors",children:"Manage QR Codes"})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Platform Analytics"}),a.jsx("p",{className:"text-sm text-green-700 mb-3",children:"View detailed platform statistics"}),a.jsx("button",{onClick:()=>u("commissions"),className:"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700 transition-colors",children:"View Analytics"})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"System Logs"}),a.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Monitor system activities"}),a.jsx("button",{onClick:()=>u("audit"),className:"bg-purple-600 text-white px-4 py-2 rounded text-sm hover:bg-purple-700 transition-colors",children:"View Logs"})]}),a.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:"Platform Settings"}),a.jsx("p",{className:"text-sm text-orange-700 mb-3",children:"Configure commission rates, subscriptions, and platform policies"}),a.jsx($t,{to:"/platform-settings",className:"bg-orange-600 text-white px-4 py-2 rounded text-sm hover:bg-orange-700 transition-colors",children:"Manage Settings"})]})]})]})]}),c!=="dashboard"&&c!=="audit"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-semibold capitalize",children:[c," Management"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[c==="users"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Register Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}),c==="stores"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}),c==="products"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}),c==="services"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}),c==="subscriptions"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}),c==="commissions"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E(c).map(P=>{var M,H,F,Q,K,Y,V,I,O,R,U;return a.jsxs("tr",{children:[c==="users"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("img",{src:((M=P.profileImage)==null?void 0:M[0])||"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",alt:P.name,className:"w-10 h-10 rounded object-cover mr-3"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"capitalize text-sm text-gray-500",children:P.email})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.role}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P.createdAt}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>C("view",P),className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(Zn,{className:"w-4 h-4"})})})})]}),c==="stores"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("img",{src:((H=P.heroImages)==null?void 0:H[0])||"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",alt:P.name,className:"w-10 h-10 rounded object-cover mr-3"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"capitalize text-sm text-gray-500",children:P.type})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((F=P.ownerId)==null?void 0:F.name)||"Unknown"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Lr(P.totalSales||0)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>C("view",P),className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(Zn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>C("edit",P),className:"text-green-600 hover:text-green-900",children:a.jsx(vh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>j(P._id,P.name),className:"text-blue-600 hover:text-blue-900",children:a.jsx(gq,{className:"w-4 h-4"})}),a.jsx("a",{href:`/store/${P._id}`,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-900",children:a.jsx(I5,{className:"w-4 h-4"})})]})})]}),c==="products"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("img",{src:(Q=P.images)!=null&&Q[0]?P.images[0].startsWith("http")?P.images[0]:`http://localhost:10000${P.images[0]}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:P.title,className:"w-10 h-10 rounded object-cover mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.title}),a.jsx("div",{className:"text-sm text-gray-500",children:P.category})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((K=P.storeId)==null?void 0:K.name)||"Unknown"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Lr(P.price)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.stock}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.isActive?"Active":"Inactive"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[a.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 mr-3",children:a.jsx(Zn,{className:"w-4 h-4"})}),a.jsx("button",{className:`mr-3 ${P.isActive?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,children:P.isActive?a.jsx(Gu,{className:"w-4 h-4"}):a.jsx(Kn,{className:"w-4 h-4"})})]})]}),c==="services"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("img",{src:(Y=P.images)!=null&&Y[0]?P.images[0].startsWith("http")?P.images[0]:`http://localhost:10000${P.images[0]}`:"https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop",alt:P.title,className:"w-10 h-10 rounded object-cover mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.title}),a.jsx("div",{className:"text-sm text-gray-500",children:P.category})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((V=P.storeId)==null?void 0:V.name)||"Unknown"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Lr(P.price)," ",P.priceType==="hourly"?"/hour":""]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[P.duration," min"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.isActive?"Active":"Inactive"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[a.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 mr-3",children:a.jsx(Zn,{className:"w-4 h-4"})}),a.jsx("button",{className:`mr-3 ${P.isActive?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,children:P.isActive?a.jsx(Gu,{className:"w-4 h-4"}):a.jsx(Kn,{className:"w-4 h-4"})})]})]}),c==="subscriptions"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:(I=P.userId)==null?void 0:I.name}),a.jsx("div",{className:"text-sm text-gray-500",children:(O=P.userId)==null?void 0:O.email})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(R=P.storeId)==null?void 0:R.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Lr(P.amount)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.endDate).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(Zn,{className:"w-4 h-4"})})})]}),c==="commissions"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(U=P.storeId)==null?void 0:U.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:P.type}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Lr(P.totalAmount)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium",children:Lr(P.commissionAmount)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Lr(P.storeAmount)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.createdAt).toLocaleDateString()})]})]},P._id)})})]})})]}),c==="audit"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-semibold",children:"System Audit Logs"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item ID"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(P=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(P.timestamp).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.user}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.action==="create"?"bg-green-100 text-green-800":P.action==="update"?"bg-blue-100 text-blue-800":P.action==="delete"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:P.action})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:P.type}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:P.itemId})]},P.id))})]})})]}),a.jsx(mD,{isOpen:y,onClose:()=>x(!1),title:`${v.charAt(0).toUpperCase()+v.slice(1)} ${c.slice(0,-1)}`,size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[v==="view"&&g&&a.jsx("div",{className:"space-y-3",children:a.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-auto",children:JSON.stringify(g,null,2)})}),(v==="create"||v==="edit")&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-600 mb-4",children:[v==="create"?"Create new":"Edit"," ",c.slice(0,-1)," form would go here."]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:()=>{x(!1)},className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800",children:"Save"})]})]})]})})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Sv={};Sv.version="0.18.5";var gD=1252,moe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],yD=function(t){moe.indexOf(t)!=-1&&(gD=t)};function goe(){yD(1252)}var sm=function(t){yD(t)};function yoe(){sm(1200),goe()}var xy=function(r){return String.fromCharCode(r)},tk=function(r){return String.fromCharCode(r)},Od,Nu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function im(t){for(var r="",n=0,s=0,i=0,o=0,l=0,c=0,u=0,d=0;d<t.length;)n=t.charCodeAt(d++),o=n>>2,s=t.charCodeAt(d++),l=(n&3)<<4|s>>4,i=t.charCodeAt(d++),c=(s&15)<<2|i>>6,u=i&63,isNaN(s)?c=u=64:isNaN(i)&&(u=64),r+=Nu.charAt(o)+Nu.charAt(l)+Nu.charAt(c)+Nu.charAt(u);return r}function kc(t){var r="",n=0,s=0,i=0,o=0,l=0,c=0,u=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)o=Nu.indexOf(t.charAt(d++)),l=Nu.indexOf(t.charAt(d++)),n=o<<2|l>>4,r+=String.fromCharCode(n),c=Nu.indexOf(t.charAt(d++)),s=(l&15)<<4|c>>2,c!==64&&(r+=String.fromCharCode(s)),u=Nu.indexOf(t.charAt(d++)),i=(c&3)<<6|u,u!==64&&(r+=String.fromCharCode(i));return r}var yn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Rc=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(r,n){return n?new Buffer(r,n):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}}();function bA(t){return yn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function rk(t){return yn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Xo=function(r){return yn?Rc(r,"binary"):r.split("").map(function(n){return n.charCodeAt(0)&255})};function M1(t){if(typeof ArrayBuffer>"u")return Xo(t);for(var r=new ArrayBuffer(t.length),n=new Uint8Array(r),s=0;s!=t.length;++s)n[s]=t.charCodeAt(s)&255;return r}function Rm(t){if(Array.isArray(t))return t.map(function(s){return String.fromCharCode(s)}).join("");for(var r=[],n=0;n<t.length;++n)r[n]=String.fromCharCode(t[n]);return r.join("")}function xoe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Ti=yn?function(t){return Buffer.concat(t.map(function(r){return Buffer.isBuffer(r)?r:Rc(r)}))}:function(t){if(typeof Uint8Array<"u"){var r=0,n=0;for(r=0;r<t.length;++r)n+=t[r].length;var s=new Uint8Array(n),i=0;for(r=0,n=0;r<t.length;n+=i,++r)if(i=t[r].length,t[r]instanceof Uint8Array)s.set(t[r],n);else{if(typeof t[r]=="string")throw"wtf";s.set(new Uint8Array(t[r]),n)}return s}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function voe(t){for(var r=[],n=0,s=t.length+250,i=bA(t.length+255),o=0;o<t.length;++o){var l=t.charCodeAt(o);if(l<128)i[n++]=l;else if(l<2048)i[n++]=192|l>>6&31,i[n++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=t.charCodeAt(++o)&1023;i[n++]=240|l>>8&7,i[n++]=128|l>>2&63,i[n++]=128|c>>6&15|(l&3)<<4,i[n++]=128|c&63}else i[n++]=224|l>>12&15,i[n++]=128|l>>6&63,i[n++]=128|l&63;n>s&&(r.push(i.slice(0,n)),n=0,i=bA(65535),s=65530)}return r.push(i.slice(0,n)),Ti(r)}var u0=/\u0000/g,vy=/[\u0001-\u0006]/g;function nh(t){for(var r="",n=t.length-1;n>=0;)r+=t.charAt(n--);return r}function el(t,r){var n=""+t;return n.length>=r?n:Cs("0",r-n.length)+n}function AS(t,r){var n=""+t;return n.length>=r?n:Cs(" ",r-n.length)+n}function Bv(t,r){var n=""+t;return n.length>=r?n:n+Cs(" ",r-n.length)}function boe(t,r){var n=""+Math.round(t);return n.length>=r?n:Cs("0",r-n.length)+n}function woe(t,r){var n=""+t;return n.length>=r?n:Cs("0",r-n.length)+n}var nk=Math.pow(2,32);function of(t,r){if(t>nk||t<-nk)return boe(t,r);var n=Math.round(t);return woe(n,r)}function Cv(t,r){return r=r||0,t.length>=7+r&&(t.charCodeAt(r)|32)===103&&(t.charCodeAt(r+1)|32)===101&&(t.charCodeAt(r+2)|32)===110&&(t.charCodeAt(r+3)|32)===101&&(t.charCodeAt(r+4)|32)===114&&(t.charCodeAt(r+5)|32)===97&&(t.charCodeAt(r+6)|32)===108}var sk=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Jw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function joe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var ks={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},ik={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Noe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function _v(t,r,n){for(var s=t<0?-1:1,i=t*s,o=0,l=1,c=0,u=1,d=0,A=0,f=Math.floor(i);d<r&&(f=Math.floor(i),c=f*l+o,A=f*d+u,!(i-f<5e-8));)i=1/(i-f),o=l,l=c,u=d,d=A;if(A>r&&(d>r?(A=u,c=o):(A=d,c=l)),!n)return[0,s*c,A];var h=Math.floor(s*c/A);return[h,s*c-h*A,A]}function by(t,r,n){if(t>2958465||t<0)return null;var s=t|0,i=Math.floor(86400*(t-s)),o=0,l=[],c={D:s,T:i,u:86400*(t-s)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),r&&r.date1904&&(s+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++s,++c.D)),s===60)l=n?[1317,10,29]:[1900,2,29],o=3;else if(s===0)l=n?[1317,8,29]:[1900,1,0],o=6;else{s>60&&--s;var u=new Date(1900,0,1);u.setDate(u.getDate()+s-1),l=[u.getFullYear(),u.getMonth()+1,u.getDate()],o=u.getDay(),s<60&&(o=(o+6)%7),n&&(o=Toe(u,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=o,c}var xD=new Date(1899,11,31,0,0,0),Soe=xD.getTime(),Boe=new Date(1900,2,1,0,0,0);function vD(t,r){var n=t.getTime();return r?n-=1461*24*60*60*1e3:t>=Boe&&(n+=24*60*60*1e3),(n-(Soe+(t.getTimezoneOffset()-xD.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function fS(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Coe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function _oe(t){var r=t<0?12:11,n=fS(t.toFixed(12));return n.length<=r||(n=t.toPrecision(10),n.length<=r)?n:t.toExponential(5)}function Eoe(t){var r=fS(t.toFixed(11));return r.length>(t<0?12:11)||r==="0"||r==="-0"?t.toPrecision(6):r}function koe(t){var r=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return r>=-4&&r<=-1?n=t.toPrecision(10+r):Math.abs(r)<=9?n=_oe(t):r===10?n=t.toFixed(10).substr(0,12):n=Eoe(t),fS(Coe(n.toUpperCase()))}function U4(t,r){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):koe(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Xu(14,vD(t,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+t)}function Toe(t,r){r[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function Ooe(t,r,n,s){var i="",o=0,l=0,c=n.y,u,d=0;switch(t){case 98:c=n.y+543;case 121:switch(r.length){case 1:case 2:u=c%100,d=2;break;default:u=c%1e4,d=4;break}break;case 109:switch(r.length){case 1:case 2:u=n.m,d=r.length;break;case 3:return Jw[n.m-1][1];case 5:return Jw[n.m-1][0];default:return Jw[n.m-1][2]}break;case 100:switch(r.length){case 1:case 2:u=n.d,d=r.length;break;case 3:return sk[n.q][0];default:return sk[n.q][1]}break;case 104:switch(r.length){case 1:case 2:u=1+(n.H+11)%12,d=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:u=n.H,d=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:u=n.M,d=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return n.u===0&&(r=="s"||r=="ss")?el(n.S,r.length):(s>=2?l=s===3?1e3:100:l=s===1?10:1,o=Math.round(l*(n.S+n.u)),o>=60*l&&(o=0),r==="s"?o===0?"0":""+o/l:(i=el(o,2+s),r==="ss"?i.substr(0,2):"."+i.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":u=n.D*24+n.H;break;case"[m]":case"[mm]":u=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":u=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+r}d=r.length===3?1:2;break;case 101:u=c,d=1;break}var A=d>0?el(u,d):"";return A}function Su(t){var r=3;if(t.length<=r)return t;for(var n=t.length%r,s=t.substr(0,n);n!=t.length;n+=r)s+=(s.length>0?",":"")+t.substr(n,r);return s}var bD=/%/g;function Foe(t,r,n){var s=r.replace(bD,""),i=r.length-s.length;return vc(t,s,n*Math.pow(10,2*i))+Cs("%",i)}function Ioe(t,r,n){for(var s=r.length-1;r.charCodeAt(s-1)===44;)--s;return vc(t,r.substr(0,s),n/Math.pow(10,3*(r.length-s)))}function wD(t,r){var n,s=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+wD(t,-r);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(r)*Math.LOG10E)%i;if(o<0&&(o+=i),n=(r/Math.pow(10,o)).toPrecision(s+1+(i+o)%i),n.indexOf("e")===-1){var l=Math.floor(Math.log(r)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+o):n+="E+"+(l-o);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,d,A){return u+d+A.substr(0,(i+o)%i)+"."+A.substr(o)+"E"})}else n=r.toExponential(s);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var jD=/# (\?+)( ?)\/( ?)(\d+)/;function Poe(t,r,n){var s=parseInt(t[4],10),i=Math.round(r*s),o=Math.floor(i/s),l=i-o*s,c=s;return n+(o===0?"":""+o)+" "+(l===0?Cs(" ",t[1].length+1+t[4].length):AS(l,t[1].length)+t[2]+"/"+t[3]+el(c,t[4].length))}function Loe(t,r,n){return n+(r===0?"":""+r)+Cs(" ",t[1].length+2+t[4].length)}var ND=/^#*0*\.([0#]+)/,SD=/\).*[0#]/,BD=/\(###\) ###\\?-####/;function ua(t){for(var r="",n,s=0;s!=t.length;++s)switch(n=t.charCodeAt(s)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(n)}return r}function ak(t,r){var n=Math.pow(10,r);return""+Math.round(t*n)/n}function ok(t,r){var n=t-Math.floor(t),s=Math.pow(10,r);return r<(""+Math.round(n*s)).length?0:Math.round(n*s)}function Doe(t,r){return r<(""+Math.round((t-Math.floor(t))*Math.pow(10,r))).length?1:0}function Uoe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ao(t,r,n){if(t.charCodeAt(0)===40&&!r.match(SD)){var s=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ao("n",s,n):"("+Ao("n",s,-n)+")"}if(r.charCodeAt(r.length-1)===44)return Ioe(t,r,n);if(r.indexOf("%")!==-1)return Foe(t,r,n);if(r.indexOf("E")!==-1)return wD(r,n);if(r.charCodeAt(0)===36)return"$"+Ao(t,r.substr(r.charAt(1)==" "?2:1),n);var i,o,l,c,u=Math.abs(n),d=n<0?"-":"";if(r.match(/^00+$/))return d+of(u,r.length);if(r.match(/^[#?]+$/))return i=of(n,0),i==="0"&&(i=""),i.length>r.length?i:ua(r.substr(0,r.length-i.length))+i;if(o=r.match(jD))return Poe(o,u,d);if(r.match(/^#+0+$/))return d+of(u,r.length-r.indexOf("0"));if(o=r.match(ND))return i=ak(n,o[1].length).replace(/^([^\.]+)$/,"$1."+ua(o[1])).replace(/\.$/,"."+ua(o[1])).replace(/\.(\d*)$/,function(m,g){return"."+g+Cs("0",ua(o[1]).length-g.length)}),r.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),o=r.match(/^(0*)\.(#*)$/))return d+ak(u,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=r.match(/^#{1,3},##0(\.?)$/))return d+Su(of(u,0));if(o=r.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ao(t,r,-n):Su(""+(Math.floor(n)+Doe(n,o[1].length)))+"."+el(ok(n,o[1].length),o[1].length);if(o=r.match(/^#,#*,#0/))return Ao(t,r.replace(/^#,#*,/,""),n);if(o=r.match(/^([0#]+)(\\?-([0#]+))+$/))return i=nh(Ao(t,r.replace(/[\\-]/g,""),n)),l=0,nh(nh(r.replace(/\\/g,"")).replace(/[0#]/g,function(m){return l<i.length?i.charAt(l++):m==="0"?"0":""}));if(r.match(BD))return i=Ao(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var A="";if(o=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=_v(u,Math.pow(10,l)-1,!1),i=""+d,A=vc("n",o[1],c[1]),A.charAt(A.length-1)==" "&&(A=A.substr(0,A.length-1)+"0"),i+=A+o[2]+"/"+o[3],A=Bv(c[2],l),A.length<o[4].length&&(A=ua(o[4].substr(o[4].length-A.length))+A),i+=A,i;if(o=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=_v(u,Math.pow(10,l)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?AS(c[1],l)+o[2]+"/"+o[3]+Bv(c[2],l):Cs(" ",2*l+1+o[2].length+o[3].length));if(o=r.match(/^[#0?]+$/))return i=of(n,0),r.length<=i.length?i:ua(r.substr(0,r.length-i.length))+i;if(o=r.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var f=r.indexOf(".")-l,h=r.length-i.length-f;return ua(r.substr(0,f)+i+r.substr(r.length-h))}if(o=r.match(/^00,000\.([#0]*0)$/))return l=ok(n,o[1].length),n<0?"-"+Ao(t,r,-n):Su(Uoe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?el(0,3-m.length):"")+m})+"."+el(l,o[1].length);switch(r){case"###,##0.00":return Ao(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=Su(of(u,0));return p!=="0"?d+p:"";case"###,###.00":return Ao(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ao(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function Roe(t,r,n){for(var s=r.length-1;r.charCodeAt(s-1)===44;)--s;return vc(t,r.substr(0,s),n/Math.pow(10,3*(r.length-s)))}function Moe(t,r,n){var s=r.replace(bD,""),i=r.length-s.length;return vc(t,s,n*Math.pow(10,2*i))+Cs("%",i)}function CD(t,r){var n,s=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+CD(t,-r);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(r)*Math.LOG10E)%i;if(o<0&&(o+=i),n=(r/Math.pow(10,o)).toPrecision(s+1+(i+o)%i),!n.match(/[Ee]/)){var l=Math.floor(Math.log(r)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+o):n+="E+"+(l-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,d,A){return u+d+A.substr(0,(i+o)%i)+"."+A.substr(o)+"E"})}else n=r.toExponential(s);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function yl(t,r,n){if(t.charCodeAt(0)===40&&!r.match(SD)){var s=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?yl("n",s,n):"("+yl("n",s,-n)+")"}if(r.charCodeAt(r.length-1)===44)return Roe(t,r,n);if(r.indexOf("%")!==-1)return Moe(t,r,n);if(r.indexOf("E")!==-1)return CD(r,n);if(r.charCodeAt(0)===36)return"$"+yl(t,r.substr(r.charAt(1)==" "?2:1),n);var i,o,l,c,u=Math.abs(n),d=n<0?"-":"";if(r.match(/^00+$/))return d+el(u,r.length);if(r.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>r.length?i:ua(r.substr(0,r.length-i.length))+i;if(o=r.match(jD))return Loe(o,u,d);if(r.match(/^#+0+$/))return d+el(u,r.length-r.indexOf("0"));if(o=r.match(ND))return i=(""+n).replace(/^([^\.]+)$/,"$1."+ua(o[1])).replace(/\.$/,"."+ua(o[1])),i=i.replace(/\.(\d*)$/,function(m,g){return"."+g+Cs("0",ua(o[1]).length-g.length)}),r.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),o=r.match(/^(0*)\.(#*)$/))return d+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=r.match(/^#{1,3},##0(\.?)$/))return d+Su(""+u);if(o=r.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+yl(t,r,-n):Su(""+n)+"."+Cs("0",o[1].length);if(o=r.match(/^#,#*,#0/))return yl(t,r.replace(/^#,#*,/,""),n);if(o=r.match(/^([0#]+)(\\?-([0#]+))+$/))return i=nh(yl(t,r.replace(/[\\-]/g,""),n)),l=0,nh(nh(r.replace(/\\/g,"")).replace(/[0#]/g,function(m){return l<i.length?i.charAt(l++):m==="0"?"0":""}));if(r.match(BD))return i=yl(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var A="";if(o=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=_v(u,Math.pow(10,l)-1,!1),i=""+d,A=vc("n",o[1],c[1]),A.charAt(A.length-1)==" "&&(A=A.substr(0,A.length-1)+"0"),i+=A+o[2]+"/"+o[3],A=Bv(c[2],l),A.length<o[4].length&&(A=ua(o[4].substr(o[4].length-A.length))+A),i+=A,i;if(o=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=_v(u,Math.pow(10,l)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?AS(c[1],l)+o[2]+"/"+o[3]+Bv(c[2],l):Cs(" ",2*l+1+o[2].length+o[3].length));if(o=r.match(/^[#0?]+$/))return i=""+n,r.length<=i.length?i:ua(r.substr(0,r.length-i.length))+i;if(o=r.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var f=r.indexOf(".")-l,h=r.length-i.length-f;return ua(r.substr(0,f)+i+r.substr(r.length-h))}if(o=r.match(/^00,000\.([#0]*0)$/))return n<0?"-"+yl(t,r,-n):Su(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?el(0,3-m.length):"")+m})+"."+el(0,o[1].length);switch(r){case"###,###":case"##,###":case"#,###":var p=Su(""+u);return p!=="0"?d+p:"";default:if(r.match(/\.[0#?]*$/))return yl(t,r.slice(0,r.lastIndexOf(".")),n)+ua(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function vc(t,r,n){return(n|0)===n?yl(t,r,n):Ao(t,r,n)}function Qoe(t){for(var r=[],n=!1,s=0,i=0;s<t.length;++s)switch(t.charCodeAt(s)){case 34:n=!n;break;case 95:case 42:case 92:++s;break;case 59:r[r.length]=t.substr(i,s-i),i=s+1}if(r[r.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return r}var _D=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ED(t){for(var r=0,n="",s="";r<t.length;)switch(n=t.charAt(r)){case"G":Cv(t,r)&&(r+=6),r++;break;case'"':for(;t.charCodeAt(++r)!==34&&r<t.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(t.charAt(r+1)==="1"||t.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(r,3).toUpperCase()==="A/P"||t.substr(r,5).toUpperCase()==="AM/PM"||t.substr(r,5).toUpperCase()==="上午/下午")return!0;++r;break;case"[":for(s=n;t.charAt(r++)!=="]"&&r<t.length;)s+=t.charAt(r);if(s.match(_D))return!0;break;case".":case"0":case"#":for(;r<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++r))>-1||n=="\\"&&t.charAt(r+1)=="-"&&"0#".indexOf(t.charAt(r+2))>-1););break;case"?":for(;t.charAt(++r)===n;);break;case"*":++r,(t.charAt(r)==" "||t.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<t.length&&"0123456789".indexOf(t.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function $oe(t,r,n,s){for(var i=[],o="",l=0,c="",u="t",d,A,f,h="H";l<t.length;)switch(c=t.charAt(l)){case"G":if(!Cv(t,l))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(o="";(f=t.charCodeAt(++l))!==34&&l<t.length;)o+=String.fromCharCode(f);i[i.length]={t:"t",v:o},++l;break;case"\\":var p=t.charAt(++l),m=p==="("||p===")"?p:"t";i[i.length]={t:m,v:p},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:r},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(d==null&&(d=by(r,n,t.charAt(l+1)==="2"),d==null))return"";i[i.length]={t:"X",v:t.substr(l,2)},u=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||d==null&&(d=by(r,n),d==null))return"";for(o=c;++l<t.length&&t.charAt(l).toLowerCase()===c;)o+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=h),i[i.length]={t:c,v:o},u=c;break;case"A":case"a":case"上":var g={t:c,v:c};if(d==null&&(d=by(r,n)),t.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(g.v=d.H>=12?"P":"A"),g.t="T",h="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(g.v=d.H>=12?"PM":"AM"),g.t="T",l+=5,h="h"):t.substr(l,5).toUpperCase()==="上午/下午"?(d!=null&&(g.v=d.H>=12?"下午":"上午"),g.t="T",l+=5,h="h"):(g.t="t",++l),d==null&&g.t==="T")return"";i[i.length]=g,u=c;break;case"[":for(o=c;t.charAt(l++)!=="]"&&l<t.length;)o+=t.charAt(l);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(_D)){if(d==null&&(d=by(r,n),d==null))return"";i[i.length]={t:"Z",v:o.toLowerCase()},u=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",ED(t)||(i[i.length]={t:"t",v:o}));break;case".":if(d!=null){for(o=c;++l<t.length&&(c=t.charAt(l))==="0";)o+=c;i[i.length]={t:"s",v:o};break}case"0":case"#":for(o=c;++l<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(l))>-1;)o+=c;i[i.length]={t:"n",v:o};break;case"?":for(o=c;t.charAt(++l)===c;)o+=c;i[i.length]={t:c,v:o},u=c;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:s===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=c;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)o+=t.charAt(l);i[i.length]={t:"D",v:o};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++l;break}var b=0,y=0,x;for(l=i.length-1,u="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=h,u="h",b<1&&(b=1);break;case"s":(x=i[l].v.match(/\.0+$/))&&(y=Math.max(y,x[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":u=i[l].t;break;case"m":u==="s"&&(i[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&i[l].v.match(/[Hh]/)&&(b=1),b<2&&i[l].v.match(/[Mm]/)&&(b=2),b<3&&i[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var v="",w;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=Ooe(i[l].t.charCodeAt(0),i[l].v,d,y),i[l].t="t";break;case"n":case"?":for(w=l+1;i[w]!=null&&((c=i[w].t)==="?"||c==="D"||(c===" "||c==="t")&&i[w+1]!=null&&(i[w+1].t==="?"||i[w+1].t==="t"&&i[w+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[w].v==="/"||i[w].v===" "&&i[w+1]!=null&&i[w+1].t=="?"));)i[l].v+=i[w].v,i[w]={v:"",t:";"},++w;v+=i[l].v,l=w-1;break;case"G":i[l].t="t",i[l].v=U4(r,n);break}var _="",B,N;if(v.length>0){v.charCodeAt(0)==40?(B=r<0&&v.charCodeAt(0)===45?-r:r,N=vc("n",v,B)):(B=r<0&&s>1?-r:r,N=vc("n",v,B),B<0&&i[0]&&i[0].t=="t"&&(N=N.substr(1),i[0].v="-"+i[0].v)),w=N.length-1;var j=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){j=l;break}var C=i.length;if(j===i.length&&N.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(w>=i[l].v.length-1?(w-=i[l].v.length,i[l].v=N.substr(w+1,i[l].v.length)):w<0?i[l].v="":(i[l].v=N.substr(0,w+1),w=-1),i[l].t="t",C=l);w>=0&&C<i.length&&(i[C].v=N.substr(0,w+1)+i[C].v)}else if(j!==i.length&&N.indexOf("E")===-1){for(w=N.indexOf(".")-1,l=j;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(A=i[l].v.indexOf(".")>-1&&l===j?i[l].v.indexOf(".")-1:i[l].v.length-1,_=i[l].v.substr(A+1);A>=0;--A)w>=0&&(i[l].v.charAt(A)==="0"||i[l].v.charAt(A)==="#")&&(_=N.charAt(w--)+_);i[l].v=_,i[l].t="t",C=l}for(w>=0&&C<i.length&&(i[C].v=N.substr(0,w+1)+i[C].v),w=N.indexOf(".")+1,l=j;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==j)){for(A=i[l].v.indexOf(".")>-1&&l===j?i[l].v.indexOf(".")+1:0,_=i[l].v.substr(0,A);A<i[l].v.length;++A)w<N.length&&(_+=N.charAt(w++));i[l].v=_,i[l].t="t",C=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(B=s>1&&r<0&&l>0&&i[l-1].v==="-"?-r:r,i[l].v=vc(i[l].t,i[l].v,B),i[l].t="t");var E="";for(l=0;l!==i.length;++l)i[l]!=null&&(E+=i[l].v);return E}var lk=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ck(t,r){if(r==null)return!1;var n=parseFloat(r[2]);switch(r[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function Hoe(t,r){var n=Qoe(t),s=n.length,i=n[s-1].indexOf("@");if(s<4&&i>-1&&--s,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof r!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var o=r>0?n[0]:r<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[s,o];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var l=n[0].match(lk),c=n[1].match(lk);return ck(r,l)?[s,n[0]]:ck(r,c)?[s,n[1]]:[s,n[l!=null&&c!=null?2:1]]}return[s,o]}function Xu(t,r,n){n==null&&(n={});var s="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?s=n.dateNF:s=t;break;case"number":t==14&&n.dateNF?s=n.dateNF:s=(n.table!=null?n.table:ks)[t],s==null&&(s=n.table&&n.table[ik[t]]||ks[ik[t]]),s==null&&(s=Noe[t]||"General");break}if(Cv(s,0))return U4(r,n);r instanceof Date&&(r=vD(r,n.date1904));var i=Hoe(s,r);if(Cv(i[1]))return U4(r,n);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return $oe(i[1],r,n,i[0])}function kD(t,r){if(typeof r!="number"){r=+r||-1;for(var n=0;n<392;++n){if(ks[n]==null){r<0&&(r=n);continue}if(ks[n]==t){r=n;break}}r<0&&(r=391)}return ks[r]=t,r}function Q1(t){for(var r=0;r!=392;++r)t[r]!==void 0&&kD(t[r],r)}function $1(){ks=joe()}var TD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Voe(t){var r=typeof t=="number"?ks[t]:t;return r=r.replace(TD,"(\\d+)"),new RegExp("^"+r+"$")}function zoe(t,r,n){var s=-1,i=-1,o=-1,l=-1,c=-1,u=-1;(r.match(TD)||[]).forEach(function(f,h){var p=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":s=p;break;case"d":o=p;break;case"h":l=p;break;case"s":u=p;break;case"m":l>=0?c=p:i=p;break}}),u>=0&&c==-1&&i>=0&&(c=i,i=-1);var d=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var A=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return l==-1&&c==-1&&u==-1?d:s==-1&&i==-1&&o==-1?A:d+"T"+A}var Koe=function(){var t={};t.version="1.2.0";function r(){for(var N=0,j=new Array(256),C=0;C!=256;++C)N=C,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,j[C]=N;return typeof Int32Array<"u"?new Int32Array(j):j}var n=r();function s(N){var j=0,C=0,E=0,S=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(E=0;E!=256;++E)S[E]=N[E];for(E=0;E!=256;++E)for(C=N[E],j=256+E;j<4096;j+=256)C=S[j]=C>>>8^N[C&255];var k=[];for(E=1;E!=16;++E)k[E-1]=typeof Int32Array<"u"?S.subarray(E*256,E*256+256):S.slice(E*256,E*256+256);return k}var i=s(n),o=i[0],l=i[1],c=i[2],u=i[3],d=i[4],A=i[5],f=i[6],h=i[7],p=i[8],m=i[9],g=i[10],b=i[11],y=i[12],x=i[13],v=i[14];function w(N,j){for(var C=j^-1,E=0,S=N.length;E<S;)C=C>>>8^n[(C^N.charCodeAt(E++))&255];return~C}function _(N,j){for(var C=j^-1,E=N.length-15,S=0;S<E;)C=v[N[S++]^C&255]^x[N[S++]^C>>8&255]^y[N[S++]^C>>16&255]^b[N[S++]^C>>>24]^g[N[S++]]^m[N[S++]]^p[N[S++]]^h[N[S++]]^f[N[S++]]^A[N[S++]]^d[N[S++]]^u[N[S++]]^c[N[S++]]^l[N[S++]]^o[N[S++]]^n[N[S++]];for(E+=15;S<E;)C=C>>>8^n[(C^N[S++])&255];return~C}function B(N,j){for(var C=j^-1,E=0,S=N.length,k=0,P=0;E<S;)k=N.charCodeAt(E++),k<128?C=C>>>8^n[(C^k)&255]:k<2048?(C=C>>>8^n[(C^(192|k>>6&31))&255],C=C>>>8^n[(C^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,P=N.charCodeAt(E++)&1023,C=C>>>8^n[(C^(240|k>>8&7))&255],C=C>>>8^n[(C^(128|k>>2&63))&255],C=C>>>8^n[(C^(128|P>>6&15|(k&3)<<4))&255],C=C>>>8^n[(C^(128|P&63))&255]):(C=C>>>8^n[(C^(224|k>>12&15))&255],C=C>>>8^n[(C^(128|k>>6&63))&255],C=C>>>8^n[(C^(128|k&63))&255]);return~C}return t.table=n,t.bstr=w,t.buf=_,t.str=B,t}(),Rn=function(){var r={};r.version="1.2.1";function n(q,ce){for(var Z=q.split("/"),ue=ce.split("/"),me=0,ye=0,Be=Math.min(Z.length,ue.length);me<Be;++me){if(ye=Z[me].length-ue[me].length)return ye;if(Z[me]!=ue[me])return Z[me]<ue[me]?-1:1}return Z.length-ue.length}function s(q){if(q.charAt(q.length-1)=="/")return q.slice(0,-1).indexOf("/")===-1?q:s(q.slice(0,-1));var ce=q.lastIndexOf("/");return ce===-1?q:q.slice(0,ce+1)}function i(q){if(q.charAt(q.length-1)=="/")return i(q.slice(0,-1));var ce=q.lastIndexOf("/");return ce===-1?q:q.slice(ce+1)}function o(q,ce){typeof ce=="string"&&(ce=new Date(ce));var Z=ce.getHours();Z=Z<<6|ce.getMinutes(),Z=Z<<5|ce.getSeconds()>>>1,q.write_shift(2,Z);var ue=ce.getFullYear()-1980;ue=ue<<4|ce.getMonth()+1,ue=ue<<5|ce.getDate(),q.write_shift(2,ue)}function l(q){var ce=q.read_shift(2)&65535,Z=q.read_shift(2)&65535,ue=new Date,me=Z&31;Z>>>=5;var ye=Z&15;Z>>>=4,ue.setMilliseconds(0),ue.setFullYear(Z+1980),ue.setMonth(ye-1),ue.setDate(me);var Be=ce&31;ce>>>=5;var Oe=ce&63;return ce>>>=6,ue.setHours(ce),ue.setMinutes(Oe),ue.setSeconds(Be<<1),ue}function c(q){za(q,0);for(var ce={},Z=0;q.l<=q.length-4;){var ue=q.read_shift(2),me=q.read_shift(2),ye=q.l+me,Be={};switch(ue){case 21589:Z=q.read_shift(1),Z&1&&(Be.mtime=q.read_shift(4)),me>5&&(Z&2&&(Be.atime=q.read_shift(4)),Z&4&&(Be.ctime=q.read_shift(4))),Be.mtime&&(Be.mt=new Date(Be.mtime*1e3));break}q.l=ye,ce[ue]=Be}return ce}var u;function d(){return u||(u={})}function A(q,ce){if(q[0]==80&&q[1]==75)return Ht(q,ce);if((q[0]|32)==109&&(q[1]|32)==105)return Fn(q,ce);if(q.length<512)throw new Error("CFB file size "+q.length+" < 512");var Z=3,ue=512,me=0,ye=0,Be=0,Oe=0,Le=0,Ie=[],Ue=q.slice(0,512);za(Ue,0);var Ve=f(Ue);switch(Z=Ve[0],Z){case 3:ue=512;break;case 4:ue=4096;break;case 0:if(Ve[1]==0)return Ht(q,ce);default:throw new Error("Major Version: Expected 3 or 4 saw "+Z)}ue!==512&&(Ue=q.slice(0,ue),za(Ue,28));var tt=q.slice(0,ue);h(Ue,Z);var at=Ue.read_shift(4,"i");if(Z===3&&at!==0)throw new Error("# Directory Sectors: Expected 0 saw "+at);Ue.l+=4,Be=Ue.read_shift(4,"i"),Ue.l+=4,Ue.chk("00100000","Mini Stream Cutoff Size: "),Oe=Ue.read_shift(4,"i"),me=Ue.read_shift(4,"i"),Le=Ue.read_shift(4,"i"),ye=Ue.read_shift(4,"i");for(var st=-1,dt=0;dt<109&&(st=Ue.read_shift(4,"i"),!(st<0));++dt)Ie[dt]=st;var vt=p(q,ue);b(Le,ye,vt,ue,Ie);var It=x(vt,Be,Ie,ue);It[Be].name="!Directory",me>0&&Oe!==P&&(It[Oe].name="!MiniFAT"),It[Ie[0]].name="!FAT",It.fat_addrs=Ie,It.ssz=ue;var Zt={},br=[],fr=[],Qr=[];v(Be,It,vt,br,me,Zt,fr,Oe),m(fr,Qr,br),br.shift();var Cr={FileIndex:fr,FullPaths:Qr};return ce&&ce.raw&&(Cr.raw={header:tt,sectors:vt}),Cr}function f(q){if(q[q.l]==80&&q[q.l+1]==75)return[0,0];q.chk(M,"Header Signature: "),q.l+=16;var ce=q.read_shift(2,"u");return[q.read_shift(2,"u"),ce]}function h(q,ce){var Z=9;switch(q.l+=2,Z=q.read_shift(2)){case 9:if(ce!=3)throw new Error("Sector Shift: Expected 9 saw "+Z);break;case 12:if(ce!=4)throw new Error("Sector Shift: Expected 12 saw "+Z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Z)}q.chk("0600","Mini Sector Shift: "),q.chk("000000000000","Reserved: ")}function p(q,ce){for(var Z=Math.ceil(q.length/ce)-1,ue=[],me=1;me<Z;++me)ue[me-1]=q.slice(me*ce,(me+1)*ce);return ue[Z-1]=q.slice(Z*ce),ue}function m(q,ce,Z){for(var ue=0,me=0,ye=0,Be=0,Oe=0,Le=Z.length,Ie=[],Ue=[];ue<Le;++ue)Ie[ue]=Ue[ue]=ue,ce[ue]=Z[ue];for(;Oe<Ue.length;++Oe)ue=Ue[Oe],me=q[ue].L,ye=q[ue].R,Be=q[ue].C,Ie[ue]===ue&&(me!==-1&&Ie[me]!==me&&(Ie[ue]=Ie[me]),ye!==-1&&Ie[ye]!==ye&&(Ie[ue]=Ie[ye])),Be!==-1&&(Ie[Be]=ue),me!==-1&&ue!=Ie[ue]&&(Ie[me]=Ie[ue],Ue.lastIndexOf(me)<Oe&&Ue.push(me)),ye!==-1&&ue!=Ie[ue]&&(Ie[ye]=Ie[ue],Ue.lastIndexOf(ye)<Oe&&Ue.push(ye));for(ue=1;ue<Le;++ue)Ie[ue]===ue&&(ye!==-1&&Ie[ye]!==ye?Ie[ue]=Ie[ye]:me!==-1&&Ie[me]!==me&&(Ie[ue]=Ie[me]));for(ue=1;ue<Le;++ue)if(q[ue].type!==0){if(Oe=ue,Oe!=Ie[Oe])do Oe=Ie[Oe],ce[ue]=ce[Oe]+"/"+ce[ue];while(Oe!==0&&Ie[Oe]!==-1&&Oe!=Ie[Oe]);Ie[ue]=-1}for(ce[0]+="/",ue=1;ue<Le;++ue)q[ue].type!==2&&(ce[ue]+="/")}function g(q,ce,Z){for(var ue=q.start,me=q.size,ye=[],Be=ue;Z&&me>0&&Be>=0;)ye.push(ce.slice(Be*k,Be*k+k)),me-=k,Be=Fd(Z,Be*4);return ye.length===0?yt(0):Ti(ye).slice(0,q.size)}function b(q,ce,Z,ue,me){var ye=P;if(q===P){if(ce!==0)throw new Error("DIFAT chain shorter than expected")}else if(q!==-1){var Be=Z[q],Oe=(ue>>>2)-1;if(!Be)return;for(var Le=0;Le<Oe&&(ye=Fd(Be,Le*4))!==P;++Le)me.push(ye);b(Fd(Be,ue-4),ce-1,Z,ue,me)}}function y(q,ce,Z,ue,me){var ye=[],Be=[];me||(me=[]);var Oe=ue-1,Le=0,Ie=0;for(Le=ce;Le>=0;){me[Le]=!0,ye[ye.length]=Le,Be.push(q[Le]);var Ue=Z[Math.floor(Le*4/ue)];if(Ie=Le*4&Oe,ue<4+Ie)throw new Error("FAT boundary crossed: "+Le+" 4 "+ue);if(!q[Ue])break;Le=Fd(q[Ue],Ie)}return{nodes:ye,data:gk([Be])}}function x(q,ce,Z,ue){var me=q.length,ye=[],Be=[],Oe=[],Le=[],Ie=ue-1,Ue=0,Ve=0,tt=0,at=0;for(Ue=0;Ue<me;++Ue)if(Oe=[],tt=Ue+ce,tt>=me&&(tt-=me),!Be[tt]){Le=[];var st=[];for(Ve=tt;Ve>=0;){st[Ve]=!0,Be[Ve]=!0,Oe[Oe.length]=Ve,Le.push(q[Ve]);var dt=Z[Math.floor(Ve*4/ue)];if(at=Ve*4&Ie,ue<4+at)throw new Error("FAT boundary crossed: "+Ve+" 4 "+ue);if(!q[dt]||(Ve=Fd(q[dt],at),st[Ve]))break}ye[tt]={nodes:Oe,data:gk([Le])}}return ye}function v(q,ce,Z,ue,me,ye,Be,Oe){for(var Le=0,Ie=ue.length?2:0,Ue=ce[q].data,Ve=0,tt=0,at;Ve<Ue.length;Ve+=128){var st=Ue.slice(Ve,Ve+128);za(st,64),tt=st.read_shift(2),at=yS(st,0,tt-Ie),ue.push(at);var dt={name:at,type:st.read_shift(1),color:st.read_shift(1),L:st.read_shift(4,"i"),R:st.read_shift(4,"i"),C:st.read_shift(4,"i"),clsid:st.read_shift(16),state:st.read_shift(4,"i"),start:0,size:0},vt=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);vt!==0&&(dt.ct=w(st,st.l-8));var It=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);It!==0&&(dt.mt=w(st,st.l-8)),dt.start=st.read_shift(4,"i"),dt.size=st.read_shift(4,"i"),dt.size<0&&dt.start<0&&(dt.size=dt.type=0,dt.start=P,dt.name=""),dt.type===5?(Le=dt.start,me>0&&Le!==P&&(ce[Le].name="!StreamData")):dt.size>=4096?(dt.storage="fat",ce[dt.start]===void 0&&(ce[dt.start]=y(Z,dt.start,ce.fat_addrs,ce.ssz)),ce[dt.start].name=dt.name,dt.content=ce[dt.start].data.slice(0,dt.size)):(dt.storage="minifat",dt.size<0?dt.size=0:Le!==P&&dt.start!==P&&ce[Le]&&(dt.content=g(dt,ce[Le].data,(ce[Oe]||{}).data))),dt.content&&za(dt.content,0),ye[at]=dt,Be.push(dt)}}function w(q,ce){return new Date((Ga(q,ce+4)/1e7*Math.pow(2,32)+Ga(q,ce)/1e7-11644473600)*1e3)}function _(q,ce){return d(),A(u.readFileSync(q),ce)}function B(q,ce){var Z=ce&&ce.type;switch(Z||yn&&Buffer.isBuffer(q)&&(Z="buffer"),Z||"base64"){case"file":return _(q,ce);case"base64":return A(Xo(kc(q)),ce);case"binary":return A(Xo(q),ce)}return A(q,ce)}function N(q,ce){var Z=ce||{},ue=Z.root||"Root Entry";if(q.FullPaths||(q.FullPaths=[]),q.FileIndex||(q.FileIndex=[]),q.FullPaths.length!==q.FileIndex.length)throw new Error("inconsistent CFB structure");q.FullPaths.length===0&&(q.FullPaths[0]=ue+"/",q.FileIndex[0]={name:ue,type:5}),Z.CLSID&&(q.FileIndex[0].clsid=Z.CLSID),j(q)}function j(q){var ce="Sh33tJ5";if(!Rn.find(q,"/"+ce)){var Z=yt(4);Z[0]=55,Z[1]=Z[3]=50,Z[2]=54,q.FileIndex.push({name:ce,type:2,content:Z,size:4,L:69,R:69,C:69}),q.FullPaths.push(q.FullPaths[0]+ce),C(q)}}function C(q,ce){N(q);for(var Z=!1,ue=!1,me=q.FullPaths.length-1;me>=0;--me){var ye=q.FileIndex[me];switch(ye.type){case 0:ue?Z=!0:(q.FileIndex.pop(),q.FullPaths.pop());break;case 1:case 2:case 5:ue=!0,isNaN(ye.R*ye.L*ye.C)&&(Z=!0),ye.R>-1&&ye.L>-1&&ye.R==ye.L&&(Z=!0);break;default:Z=!0;break}}if(!(!Z&&!ce)){var Be=new Date(1987,1,19),Oe=0,Le=Object.create?Object.create(null):{},Ie=[];for(me=0;me<q.FullPaths.length;++me)Le[q.FullPaths[me]]=!0,q.FileIndex[me].type!==0&&Ie.push([q.FullPaths[me],q.FileIndex[me]]);for(me=0;me<Ie.length;++me){var Ue=s(Ie[me][0]);ue=Le[Ue],ue||(Ie.push([Ue,{name:i(Ue).replace("/",""),type:1,clsid:F,ct:Be,mt:Be,content:null}]),Le[Ue]=!0)}for(Ie.sort(function(at,st){return n(at[0],st[0])}),q.FullPaths=[],q.FileIndex=[],me=0;me<Ie.length;++me)q.FullPaths[me]=Ie[me][0],q.FileIndex[me]=Ie[me][1];for(me=0;me<Ie.length;++me){var Ve=q.FileIndex[me],tt=q.FullPaths[me];if(Ve.name=i(tt).replace("/",""),Ve.L=Ve.R=Ve.C=-(Ve.color=1),Ve.size=Ve.content?Ve.content.length:0,Ve.start=0,Ve.clsid=Ve.clsid||F,me===0)Ve.C=Ie.length>1?1:-1,Ve.size=0,Ve.type=5;else if(tt.slice(-1)=="/"){for(Oe=me+1;Oe<Ie.length&&s(q.FullPaths[Oe])!=tt;++Oe);for(Ve.C=Oe>=Ie.length?-1:Oe,Oe=me+1;Oe<Ie.length&&s(q.FullPaths[Oe])!=s(tt);++Oe);Ve.R=Oe>=Ie.length?-1:Oe,Ve.type=1}else s(q.FullPaths[me+1]||"")==s(tt)&&(Ve.R=me+1),Ve.type=2}}}function E(q,ce){var Z=ce||{};if(Z.fileType=="mad")return Wt(q,Z);switch(C(q),Z.fileType){case"zip":return sr(q,Z)}var ue=function(at){for(var st=0,dt=0,vt=0;vt<at.FileIndex.length;++vt){var It=at.FileIndex[vt];if(It.content){var Zt=It.content.length;Zt>0&&(Zt<4096?st+=Zt+63>>6:dt+=Zt+511>>9)}}for(var br=at.FullPaths.length+3>>2,fr=st+7>>3,Qr=st+127>>7,Cr=fr+dt+br+Qr,hr=Cr+127>>7,mr=hr<=109?0:Math.ceil((hr-109)/127);Cr+hr+mr+127>>7>hr;)mr=++hr<=109?0:Math.ceil((hr-109)/127);var Xr=[1,mr,hr,Qr,br,dt,st,0];return at.FileIndex[0].size=st<<6,Xr[7]=(at.FileIndex[0].start=Xr[0]+Xr[1]+Xr[2]+Xr[3]+Xr[4]+Xr[5])+(Xr[6]+7>>3),Xr}(q),me=yt(ue[7]<<9),ye=0,Be=0;{for(ye=0;ye<8;++ye)me.write_shift(1,H[ye]);for(ye=0;ye<8;++ye)me.write_shift(2,0);for(me.write_shift(2,62),me.write_shift(2,3),me.write_shift(2,65534),me.write_shift(2,9),me.write_shift(2,6),ye=0;ye<3;++ye)me.write_shift(2,0);for(me.write_shift(4,0),me.write_shift(4,ue[2]),me.write_shift(4,ue[0]+ue[1]+ue[2]+ue[3]-1),me.write_shift(4,0),me.write_shift(4,4096),me.write_shift(4,ue[3]?ue[0]+ue[1]+ue[2]-1:P),me.write_shift(4,ue[3]),me.write_shift(-4,ue[1]?ue[0]-1:P),me.write_shift(4,ue[1]),ye=0;ye<109;++ye)me.write_shift(-4,ye<ue[2]?ue[1]+ye:-1)}if(ue[1])for(Be=0;Be<ue[1];++Be){for(;ye<236+Be*127;++ye)me.write_shift(-4,ye<ue[2]?ue[1]+ye:-1);me.write_shift(-4,Be===ue[1]-1?P:Be+1)}var Oe=function(at){for(Be+=at;ye<Be-1;++ye)me.write_shift(-4,ye+1);at&&(++ye,me.write_shift(-4,P))};for(Be=ye=0,Be+=ue[1];ye<Be;++ye)me.write_shift(-4,Q.DIFSECT);for(Be+=ue[2];ye<Be;++ye)me.write_shift(-4,Q.FATSECT);Oe(ue[3]),Oe(ue[4]);for(var Le=0,Ie=0,Ue=q.FileIndex[0];Le<q.FileIndex.length;++Le)Ue=q.FileIndex[Le],Ue.content&&(Ie=Ue.content.length,!(Ie<4096)&&(Ue.start=Be,Oe(Ie+511>>9)));for(Oe(ue[6]+7>>3);me.l&511;)me.write_shift(-4,Q.ENDOFCHAIN);for(Be=ye=0,Le=0;Le<q.FileIndex.length;++Le)Ue=q.FileIndex[Le],Ue.content&&(Ie=Ue.content.length,!(!Ie||Ie>=4096)&&(Ue.start=Be,Oe(Ie+63>>6)));for(;me.l&511;)me.write_shift(-4,Q.ENDOFCHAIN);for(ye=0;ye<ue[4]<<2;++ye){var Ve=q.FullPaths[ye];if(!Ve||Ve.length===0){for(Le=0;Le<17;++Le)me.write_shift(4,0);for(Le=0;Le<3;++Le)me.write_shift(4,-1);for(Le=0;Le<12;++Le)me.write_shift(4,0);continue}Ue=q.FileIndex[ye],ye===0&&(Ue.start=Ue.size?Ue.start-1:P);var tt=ye===0&&Z.root||Ue.name;if(Ie=2*(tt.length+1),me.write_shift(64,tt,"utf16le"),me.write_shift(2,Ie),me.write_shift(1,Ue.type),me.write_shift(1,Ue.color),me.write_shift(-4,Ue.L),me.write_shift(-4,Ue.R),me.write_shift(-4,Ue.C),Ue.clsid)me.write_shift(16,Ue.clsid,"hex");else for(Le=0;Le<4;++Le)me.write_shift(4,0);me.write_shift(4,Ue.state||0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,Ue.start),me.write_shift(4,Ue.size),me.write_shift(4,0)}for(ye=1;ye<q.FileIndex.length;++ye)if(Ue=q.FileIndex[ye],Ue.size>=4096)if(me.l=Ue.start+1<<9,yn&&Buffer.isBuffer(Ue.content))Ue.content.copy(me,me.l,0,Ue.size),me.l+=Ue.size+511&-512;else{for(Le=0;Le<Ue.size;++Le)me.write_shift(1,Ue.content[Le]);for(;Le&511;++Le)me.write_shift(1,0)}for(ye=1;ye<q.FileIndex.length;++ye)if(Ue=q.FileIndex[ye],Ue.size>0&&Ue.size<4096)if(yn&&Buffer.isBuffer(Ue.content))Ue.content.copy(me,me.l,0,Ue.size),me.l+=Ue.size+63&-64;else{for(Le=0;Le<Ue.size;++Le)me.write_shift(1,Ue.content[Le]);for(;Le&63;++Le)me.write_shift(1,0)}if(yn)me.l=me.length;else for(;me.l<me.length;)me.write_shift(1,0);return me}function S(q,ce){var Z=q.FullPaths.map(function(Le){return Le.toUpperCase()}),ue=Z.map(function(Le){var Ie=Le.split("/");return Ie[Ie.length-(Le.slice(-1)=="/"?2:1)]}),me=!1;ce.charCodeAt(0)===47?(me=!0,ce=Z[0].slice(0,-1)+ce):me=ce.indexOf("/")!==-1;var ye=ce.toUpperCase(),Be=me===!0?Z.indexOf(ye):ue.indexOf(ye);if(Be!==-1)return q.FileIndex[Be];var Oe=!ye.match(vy);for(ye=ye.replace(u0,""),Oe&&(ye=ye.replace(vy,"!")),Be=0;Be<Z.length;++Be)if((Oe?Z[Be].replace(vy,"!"):Z[Be]).replace(u0,"")==ye||(Oe?ue[Be].replace(vy,"!"):ue[Be]).replace(u0,"")==ye)return q.FileIndex[Be];return null}var k=64,P=-2,M="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],F="00000000000000000000000000000000",Q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:P,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:F,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function K(q,ce,Z){d();var ue=E(q,Z);u.writeFileSync(ce,ue)}function Y(q){for(var ce=new Array(q.length),Z=0;Z<q.length;++Z)ce[Z]=String.fromCharCode(q[Z]);return ce.join("")}function V(q,ce){var Z=E(q,ce);switch(ce&&ce.type||"buffer"){case"file":return d(),u.writeFileSync(ce.filename,Z),Z;case"binary":return typeof Z=="string"?Z:Y(Z);case"base64":return im(typeof Z=="string"?Z:Y(Z));case"buffer":if(yn)return Buffer.isBuffer(Z)?Z:Rc(Z);case"array":return typeof Z=="string"?Xo(Z):Z}return Z}var I;function O(q){try{var ce=q.InflateRaw,Z=new ce;if(Z._processChunk(new Uint8Array([3,0]),Z._finishFlushFlag),Z.bytesRead)I=q;else throw new Error("zlib does not expose bytesRead")}catch(ue){console.error("cannot use native zlib: "+(ue.message||ue))}}function R(q,ce){if(!I)return Pt(q,ce);var Z=I.InflateRaw,ue=new Z,me=ue._processChunk(q.slice(q.l),ue._finishFlushFlag);return q.l+=ue.bytesRead,me}function U(q){return I?I.deflateRawSync(q):We(q)}var T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],G=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function J(q){var ce=(q<<1|q<<11)&139536|(q<<5|q<<15)&558144;return(ce>>16|ce>>8|ce)&255}for(var ee=typeof Uint8Array<"u",fe=ee?new Uint8Array(256):[],de=0;de<256;++de)fe[de]=J(de);function ae(q,ce){var Z=fe[q&255];return ce<=8?Z>>>8-ce:(Z=Z<<8|fe[q>>8&255],ce<=16?Z>>>16-ce:(Z=Z<<8|fe[q>>16&255],Z>>>24-ce))}function xe(q,ce){var Z=ce&7,ue=ce>>>3;return(q[ue]|(Z<=6?0:q[ue+1]<<8))>>>Z&3}function X(q,ce){var Z=ce&7,ue=ce>>>3;return(q[ue]|(Z<=5?0:q[ue+1]<<8))>>>Z&7}function ie(q,ce){var Z=ce&7,ue=ce>>>3;return(q[ue]|(Z<=4?0:q[ue+1]<<8))>>>Z&15}function re(q,ce){var Z=ce&7,ue=ce>>>3;return(q[ue]|(Z<=3?0:q[ue+1]<<8))>>>Z&31}function ve(q,ce){var Z=ce&7,ue=ce>>>3;return(q[ue]|(Z<=1?0:q[ue+1]<<8))>>>Z&127}function ke(q,ce,Z){var ue=ce&7,me=ce>>>3,ye=(1<<Z)-1,Be=q[me]>>>ue;return Z<8-ue||(Be|=q[me+1]<<8-ue,Z<16-ue)||(Be|=q[me+2]<<16-ue,Z<24-ue)||(Be|=q[me+3]<<24-ue),Be&ye}function Ce(q,ce,Z){var ue=ce&7,me=ce>>>3;return ue<=5?q[me]|=(Z&7)<<ue:(q[me]|=Z<<ue&255,q[me+1]=(Z&7)>>8-ue),ce+3}function we(q,ce,Z){var ue=ce&7,me=ce>>>3;return Z=(Z&1)<<ue,q[me]|=Z,ce+1}function oe(q,ce,Z){var ue=ce&7,me=ce>>>3;return Z<<=ue,q[me]|=Z&255,Z>>>=8,q[me+1]=Z,ce+8}function pe(q,ce,Z){var ue=ce&7,me=ce>>>3;return Z<<=ue,q[me]|=Z&255,Z>>>=8,q[me+1]=Z&255,q[me+2]=Z>>>8,ce+16}function je(q,ce){var Z=q.length,ue=2*Z>ce?2*Z:ce+5,me=0;if(Z>=ce)return q;if(yn){var ye=rk(ue);if(q.copy)q.copy(ye);else for(;me<q.length;++me)ye[me]=q[me];return ye}else if(ee){var Be=new Uint8Array(ue);if(Be.set)Be.set(q);else for(;me<Z;++me)Be[me]=q[me];return Be}return q.length=ue,q}function Te(q){for(var ce=new Array(q),Z=0;Z<q;++Z)ce[Z]=0;return ce}function be(q,ce,Z){var ue=1,me=0,ye=0,Be=0,Oe=0,Le=q.length,Ie=ee?new Uint16Array(32):Te(32);for(ye=0;ye<32;++ye)Ie[ye]=0;for(ye=Le;ye<Z;++ye)q[ye]=0;Le=q.length;var Ue=ee?new Uint16Array(Le):Te(Le);for(ye=0;ye<Le;++ye)Ie[me=q[ye]]++,ue<me&&(ue=me),Ue[ye]=0;for(Ie[0]=0,ye=1;ye<=ue;++ye)Ie[ye+16]=Oe=Oe+Ie[ye-1]<<1;for(ye=0;ye<Le;++ye)Oe=q[ye],Oe!=0&&(Ue[ye]=Ie[Oe+16]++);var Ve=0;for(ye=0;ye<Le;++ye)if(Ve=q[ye],Ve!=0)for(Oe=ae(Ue[ye],ue)>>ue-Ve,Be=(1<<ue+4-Ve)-1;Be>=0;--Be)ce[Oe|Be<<Ve]=Ve&15|ye<<4;return ue}var De=ee?new Uint16Array(512):Te(512),qe=ee?new Uint16Array(32):Te(32);if(!ee){for(var Qe=0;Qe<512;++Qe)De[Qe]=0;for(Qe=0;Qe<32;++Qe)qe[Qe]=0}(function(){for(var q=[],ce=0;ce<32;ce++)q.push(5);be(q,qe,32);var Z=[];for(ce=0;ce<=143;ce++)Z.push(8);for(;ce<=255;ce++)Z.push(9);for(;ce<=279;ce++)Z.push(7);for(;ce<=287;ce++)Z.push(8);be(Z,De,288)})();var Re=function(){for(var ce=ee?new Uint8Array(32768):[],Z=0,ue=0;Z<G.length-1;++Z)for(;ue<G[Z+1];++ue)ce[ue]=Z;for(;ue<32768;++ue)ce[ue]=29;var me=ee?new Uint8Array(259):[];for(Z=0,ue=0;Z<z.length-1;++Z)for(;ue<z[Z+1];++ue)me[ue]=Z;function ye(Oe,Le){for(var Ie=0;Ie<Oe.length;){var Ue=Math.min(65535,Oe.length-Ie),Ve=Ie+Ue==Oe.length;for(Le.write_shift(1,+Ve),Le.write_shift(2,Ue),Le.write_shift(2,~Ue&65535);Ue-- >0;)Le[Le.l++]=Oe[Ie++]}return Le.l}function Be(Oe,Le){for(var Ie=0,Ue=0,Ve=ee?new Uint16Array(32768):[];Ue<Oe.length;){var tt=Math.min(65535,Oe.length-Ue);if(tt<10){for(Ie=Ce(Le,Ie,+(Ue+tt==Oe.length)),Ie&7&&(Ie+=8-(Ie&7)),Le.l=Ie/8|0,Le.write_shift(2,tt),Le.write_shift(2,~tt&65535);tt-- >0;)Le[Le.l++]=Oe[Ue++];Ie=Le.l*8;continue}Ie=Ce(Le,Ie,+(Ue+tt==Oe.length)+2);for(var at=0;tt-- >0;){var st=Oe[Ue];at=(at<<5^st)&32767;var dt=-1,vt=0;if((dt=Ve[at])&&(dt|=Ue&-32768,dt>Ue&&(dt-=32768),dt<Ue))for(;Oe[dt+vt]==Oe[Ue+vt]&&vt<250;)++vt;if(vt>2){st=me[vt],st<=22?Ie=oe(Le,Ie,fe[st+1]>>1)-1:(oe(Le,Ie,3),Ie+=5,oe(Le,Ie,fe[st-23]>>5),Ie+=3);var It=st<8?0:st-4>>2;It>0&&(pe(Le,Ie,vt-z[st]),Ie+=It),st=ce[Ue-dt],Ie=oe(Le,Ie,fe[st]>>3),Ie-=3;var Zt=st<4?0:st-2>>1;Zt>0&&(pe(Le,Ie,Ue-dt-G[st]),Ie+=Zt);for(var br=0;br<vt;++br)Ve[at]=Ue&32767,at=(at<<5^Oe[Ue])&32767,++Ue;tt-=vt-1}else st<=143?st=st+48:Ie=we(Le,Ie,1),Ie=oe(Le,Ie,fe[st]),Ve[at]=Ue&32767,++Ue}Ie=oe(Le,Ie,0)-1}return Le.l=(Ie+7)/8|0,Le.l}return function(Le,Ie){return Le.length<8?ye(Le,Ie):Be(Le,Ie)}}();function We(q){var ce=yt(50+Math.floor(q.length*1.1)),Z=Re(q,ce);return ce.slice(0,Z)}var Me=ee?new Uint16Array(32768):Te(32768),ot=ee?new Uint16Array(32768):Te(32768),xt=ee?new Uint16Array(128):Te(128),Ft=1,nt=1;function At(q,ce){var Z=re(q,ce)+257;ce+=5;var ue=re(q,ce)+1;ce+=5;var me=ie(q,ce)+4;ce+=4;for(var ye=0,Be=ee?new Uint8Array(19):Te(19),Oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Le=1,Ie=ee?new Uint8Array(8):Te(8),Ue=ee?new Uint8Array(8):Te(8),Ve=Be.length,tt=0;tt<me;++tt)Be[T[tt]]=ye=X(q,ce),Le<ye&&(Le=ye),Ie[ye]++,ce+=3;var at=0;for(Ie[0]=0,tt=1;tt<=Le;++tt)Ue[tt]=at=at+Ie[tt-1]<<1;for(tt=0;tt<Ve;++tt)(at=Be[tt])!=0&&(Oe[tt]=Ue[at]++);var st=0;for(tt=0;tt<Ve;++tt)if(st=Be[tt],st!=0){at=fe[Oe[tt]]>>8-st;for(var dt=(1<<7-st)-1;dt>=0;--dt)xt[at|dt<<st]=st&7|tt<<3}var vt=[];for(Le=1;vt.length<Z+ue;)switch(at=xt[ve(q,ce)],ce+=at&7,at>>>=3){case 16:for(ye=3+xe(q,ce),ce+=2,at=vt[vt.length-1];ye-- >0;)vt.push(at);break;case 17:for(ye=3+X(q,ce),ce+=3;ye-- >0;)vt.push(0);break;case 18:for(ye=11+ve(q,ce),ce+=7;ye-- >0;)vt.push(0);break;default:vt.push(at),Le<at&&(Le=at);break}var It=vt.slice(0,Z),Zt=vt.slice(Z);for(tt=Z;tt<286;++tt)It[tt]=0;for(tt=ue;tt<30;++tt)Zt[tt]=0;return Ft=be(It,Me,286),nt=be(Zt,ot,30),ce}function Rt(q,ce){if(q[0]==3&&!(q[1]&3))return[bA(ce),2];for(var Z=0,ue=0,me=rk(ce||1<<18),ye=0,Be=me.length>>>0,Oe=0,Le=0;!(ue&1);){if(ue=X(q,Z),Z+=3,ue>>>1)ue>>1==1?(Oe=9,Le=5):(Z=At(q,Z),Oe=Ft,Le=nt);else{Z&7&&(Z+=8-(Z&7));var Ie=q[Z>>>3]|q[(Z>>>3)+1]<<8;if(Z+=32,Ie>0)for(!ce&&Be<ye+Ie&&(me=je(me,ye+Ie),Be=me.length);Ie-- >0;)me[ye++]=q[Z>>>3],Z+=8;continue}for(;;){!ce&&Be<ye+32767&&(me=je(me,ye+32767),Be=me.length);var Ue=ke(q,Z,Oe),Ve=ue>>>1==1?De[Ue]:Me[Ue];if(Z+=Ve&15,Ve>>>=4,!(Ve>>>8&255))me[ye++]=Ve;else{if(Ve==256)break;Ve-=257;var tt=Ve<8?0:Ve-4>>2;tt>5&&(tt=0);var at=ye+z[Ve];tt>0&&(at+=ke(q,Z,tt),Z+=tt),Ue=ke(q,Z,Le),Ve=ue>>>1==1?qe[Ue]:ot[Ue],Z+=Ve&15,Ve>>>=4;var st=Ve<4?0:Ve-2>>1,dt=G[Ve];for(st>0&&(dt+=ke(q,Z,st),Z+=st),!ce&&Be<at&&(me=je(me,at+100),Be=me.length);ye<at;)me[ye]=me[ye-dt],++ye}}}return ce?[me,Z+7>>>3]:[me.slice(0,ye),Z+7>>>3]}function Pt(q,ce){var Z=q.slice(q.l||0),ue=Rt(Z,ce);return q.l+=ue[1],ue[0]}function ur(q,ce){if(q)typeof console<"u"&&console.error(ce);else throw new Error(ce)}function Ht(q,ce){var Z=q;za(Z,0);var ue=[],me=[],ye={FileIndex:ue,FullPaths:me};N(ye,{root:ce.root});for(var Be=Z.length-4;(Z[Be]!=80||Z[Be+1]!=75||Z[Be+2]!=5||Z[Be+3]!=6)&&Be>=0;)--Be;Z.l=Be+4,Z.l+=4;var Oe=Z.read_shift(2);Z.l+=6;var Le=Z.read_shift(4);for(Z.l=Le,Be=0;Be<Oe;++Be){Z.l+=20;var Ie=Z.read_shift(4),Ue=Z.read_shift(4),Ve=Z.read_shift(2),tt=Z.read_shift(2),at=Z.read_shift(2);Z.l+=8;var st=Z.read_shift(4),dt=c(Z.slice(Z.l+Ve,Z.l+Ve+tt));Z.l+=Ve+tt+at;var vt=Z.l;Z.l=st+4,lr(Z,Ie,Ue,ye,dt),Z.l=vt}return ye}function lr(q,ce,Z,ue,me){q.l+=2;var ye=q.read_shift(2),Be=q.read_shift(2),Oe=l(q);if(ye&8257)throw new Error("Unsupported ZIP encryption");for(var Le=q.read_shift(4),Ie=q.read_shift(4),Ue=q.read_shift(4),Ve=q.read_shift(2),tt=q.read_shift(2),at="",st=0;st<Ve;++st)at+=String.fromCharCode(q[q.l++]);if(tt){var dt=c(q.slice(q.l,q.l+tt));(dt[21589]||{}).mt&&(Oe=dt[21589].mt),((me||{})[21589]||{}).mt&&(Oe=me[21589].mt)}q.l+=tt;var vt=q.slice(q.l,q.l+Ie);switch(Be){case 8:vt=R(q,Ue);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Be)}var It=!1;ye&8&&(Le=q.read_shift(4),Le==134695760&&(Le=q.read_shift(4),It=!0),Ie=q.read_shift(4),Ue=q.read_shift(4)),Ie!=ce&&ur(It,"Bad compressed size: "+ce+" != "+Ie),Ue!=Z&&ur(It,"Bad uncompressed size: "+Z+" != "+Ue),Yr(ue,at,vt,{unsafe:!0,mt:Oe})}function sr(q,ce){var Z=ce||{},ue=[],me=[],ye=yt(1),Be=Z.compression?8:0,Oe=0,Le=0,Ie=0,Ue=0,Ve=0,tt=q.FullPaths[0],at=tt,st=q.FileIndex[0],dt=[],vt=0;for(Le=1;Le<q.FullPaths.length;++Le)if(at=q.FullPaths[Le].slice(tt.length),st=q.FileIndex[Le],!(!st.size||!st.content||at=="Sh33tJ5")){var It=Ue,Zt=yt(at.length);for(Ie=0;Ie<at.length;++Ie)Zt.write_shift(1,at.charCodeAt(Ie)&127);Zt=Zt.slice(0,Zt.l),dt[Ve]=Koe.buf(st.content,0);var br=st.content;Be==8&&(br=U(br)),ye=yt(30),ye.write_shift(4,67324752),ye.write_shift(2,20),ye.write_shift(2,Oe),ye.write_shift(2,Be),st.mt?o(ye,st.mt):ye.write_shift(4,0),ye.write_shift(-4,dt[Ve]),ye.write_shift(4,br.length),ye.write_shift(4,st.content.length),ye.write_shift(2,Zt.length),ye.write_shift(2,0),Ue+=ye.length,ue.push(ye),Ue+=Zt.length,ue.push(Zt),Ue+=br.length,ue.push(br),ye=yt(46),ye.write_shift(4,33639248),ye.write_shift(2,0),ye.write_shift(2,20),ye.write_shift(2,Oe),ye.write_shift(2,Be),ye.write_shift(4,0),ye.write_shift(-4,dt[Ve]),ye.write_shift(4,br.length),ye.write_shift(4,st.content.length),ye.write_shift(2,Zt.length),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(4,0),ye.write_shift(4,It),vt+=ye.l,me.push(ye),vt+=Zt.length,me.push(Zt),++Ve}return ye=yt(22),ye.write_shift(4,101010256),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,Ve),ye.write_shift(2,Ve),ye.write_shift(4,vt),ye.write_shift(4,Ue),ye.write_shift(2,0),Ti([Ti(ue),Ti(me),ye])}var Kt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Xe(q,ce){if(q.ctype)return q.ctype;var Z=q.name||"",ue=Z.match(/\.([^\.]+)$/);return ue&&Kt[ue[1]]||ce&&(ue=(Z=ce).match(/[\.\\]([^\.\\])+$/),ue&&Kt[ue[1]])?Kt[ue[1]]:"application/octet-stream"}function ar(q){for(var ce=im(q),Z=[],ue=0;ue<ce.length;ue+=76)Z.push(ce.slice(ue,ue+76));return Z.join(`\r
`)+`\r
`}function rr(q){var ce=q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ie){var Ue=Ie.charCodeAt(0).toString(16).toUpperCase();return"="+(Ue.length==1?"0"+Ue:Ue)});ce=ce.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ce.charAt(0)==`
`&&(ce="=0D"+ce.slice(1)),ce=ce.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Z=[],ue=ce.split(`\r
`),me=0;me<ue.length;++me){var ye=ue[me];if(ye.length==0){Z.push("");continue}for(var Be=0;Be<ye.length;){var Oe=76,Le=ye.slice(Be,Be+Oe);Le.charAt(Oe-1)=="="?Oe--:Le.charAt(Oe-2)=="="?Oe-=2:Le.charAt(Oe-3)=="="&&(Oe-=3),Le=ye.slice(Be,Be+Oe),Be+=Oe,Be<ye.length&&(Le+="="),Z.push(Le)}}return Z.join(`\r
`)}function Ke(q){for(var ce=[],Z=0;Z<q.length;++Z){for(var ue=q[Z];Z<=q.length&&ue.charAt(ue.length-1)=="=";)ue=ue.slice(0,ue.length-1)+q[++Z];ce.push(ue)}for(var me=0;me<ce.length;++me)ce[me]=ce[me].replace(/[=][0-9A-Fa-f]{2}/g,function(ye){return String.fromCharCode(parseInt(ye.slice(1),16))});return Xo(ce.join(`\r
`))}function Tr(q,ce,Z){for(var ue="",me="",ye="",Be,Oe=0;Oe<10;++Oe){var Le=ce[Oe];if(!Le||Le.match(/^\s*$/))break;var Ie=Le.match(/^(.*?):\s*([^\s].*)$/);if(Ie)switch(Ie[1].toLowerCase()){case"content-location":ue=Ie[2].trim();break;case"content-type":ye=Ie[2].trim();break;case"content-transfer-encoding":me=Ie[2].trim();break}}switch(++Oe,me.toLowerCase()){case"base64":Be=Xo(kc(ce.slice(Oe).join("")));break;case"quoted-printable":Be=Ke(ce.slice(Oe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+me)}var Ue=Yr(q,ue.slice(Z.length),Be,{unsafe:!0});ye&&(Ue.ctype=ye)}function Fn(q,ce){if(Y(q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Z=ce&&ce.root||"",ue=(yn&&Buffer.isBuffer(q)?q.toString("binary"):Y(q)).split(`\r
`),me=0,ye="";for(me=0;me<ue.length;++me)if(ye=ue[me],!!/^Content-Location:/i.test(ye)&&(ye=ye.slice(ye.indexOf("file")),Z||(Z=ye.slice(0,ye.lastIndexOf("/")+1)),ye.slice(0,Z.length)!=Z))for(;Z.length>0&&(Z=Z.slice(0,Z.length-1),Z=Z.slice(0,Z.lastIndexOf("/")+1),ye.slice(0,Z.length)!=Z););var Be=(ue[1]||"").match(/boundary="(.*?)"/);if(!Be)throw new Error("MAD cannot find boundary");var Oe="--"+(Be[1]||""),Le=[],Ie=[],Ue={FileIndex:Le,FullPaths:Ie};N(Ue);var Ve,tt=0;for(me=0;me<ue.length;++me){var at=ue[me];at!==Oe&&at!==Oe+"--"||(tt++&&Tr(Ue,ue.slice(Ve,me),Z),Ve=me)}return Ue}function Wt(q,ce){var Z=ce||{},ue=Z.boundary||"SheetJS";ue="------="+ue;for(var me=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ue.slice(2)+'"',"","",""],ye=q.FullPaths[0],Be=ye,Oe=q.FileIndex[0],Le=1;Le<q.FullPaths.length;++Le)if(Be=q.FullPaths[Le].slice(ye.length),Oe=q.FileIndex[Le],!(!Oe.size||!Oe.content||Be=="Sh33tJ5")){Be=Be.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(vt){return"_x"+vt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(vt){return"_u"+vt.charCodeAt(0).toString(16)+"_"});for(var Ie=Oe.content,Ue=yn&&Buffer.isBuffer(Ie)?Ie.toString("binary"):Y(Ie),Ve=0,tt=Math.min(1024,Ue.length),at=0,st=0;st<=tt;++st)(at=Ue.charCodeAt(st))>=32&&at<128&&++Ve;var dt=Ve>=tt*4/5;me.push(ue),me.push("Content-Location: "+(Z.root||"file:///C:/SheetJS/")+Be),me.push("Content-Transfer-Encoding: "+(dt?"quoted-printable":"base64")),me.push("Content-Type: "+Xe(Oe,Be)),me.push(""),me.push(dt?rr(Ue):ar(Ue))}return me.push(ue+`--\r
`),me.join(`\r
`)}function Or(q){var ce={};return N(ce,q),ce}function Yr(q,ce,Z,ue){var me=ue&&ue.unsafe;me||N(q);var ye=!me&&Rn.find(q,ce);if(!ye){var Be=q.FullPaths[0];ce.slice(0,Be.length)==Be?Be=ce:(Be.slice(-1)!="/"&&(Be+="/"),Be=(Be+ce).replace("//","/")),ye={name:i(ce),type:2},q.FileIndex.push(ye),q.FullPaths.push(Be),me||Rn.utils.cfb_gc(q)}return ye.content=Z,ye.size=Z?Z.length:0,ue&&(ue.CLSID&&(ye.clsid=ue.CLSID),ue.mt&&(ye.mt=ue.mt),ue.ct&&(ye.ct=ue.ct)),ye}function hn(q,ce){N(q);var Z=Rn.find(q,ce);if(Z){for(var ue=0;ue<q.FileIndex.length;++ue)if(q.FileIndex[ue]==Z)return q.FileIndex.splice(ue,1),q.FullPaths.splice(ue,1),!0}return!1}function Mr(q,ce,Z){N(q);var ue=Rn.find(q,ce);if(ue){for(var me=0;me<q.FileIndex.length;++me)if(q.FileIndex[me]==ue)return q.FileIndex[me].name=i(Z),q.FullPaths[me]=Z,!0}return!1}function Jr(q){C(q,!0)}return r.find=S,r.read=B,r.parse=A,r.write=V,r.writeFile=K,r.utils={cfb_new:Or,cfb_add:Yr,cfb_del:hn,cfb_mov:Mr,cfb_gc:Jr,ReadShift:A0,CheckField:qD,prep_blob:za,bconcat:Ti,use_zlib:O,_deflateRaw:We,_inflateRaw:Pt,consts:Q},r}();function Goe(t){return typeof t=="string"?M1(t):Array.isArray(t)?xoe(t):t}function Mm(t,r,n){if(typeof Deno<"u"){if(n&&typeof r=="string")switch(n){case"utf8":r=new TextEncoder(n).encode(r);break;case"binary":r=M1(r);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,r)}var s=n=="utf8"?om(r):r;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,t);if(typeof Blob<"u"){var i=new Blob([Goe(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=o,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(r)&&(r=Rm(r)),c.write(r),c.close(),r}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+t)}function Ri(t){for(var r=Object.keys(t),n=[],s=0;s<r.length;++s)Object.prototype.hasOwnProperty.call(t,r[s])&&n.push(r[s]);return n}function uk(t,r){for(var n=[],s=Ri(t),i=0;i!==s.length;++i)n[t[s[i]][r]]==null&&(n[t[s[i]][r]]=s[i]);return n}function hS(t){for(var r=[],n=Ri(t),s=0;s!==n.length;++s)r[t[n[s]]]=n[s];return r}function H1(t){for(var r=[],n=Ri(t),s=0;s!==n.length;++s)r[t[n[s]]]=parseInt(n[s],10);return r}function Woe(t){for(var r=[],n=Ri(t),s=0;s!==n.length;++s)r[t[n[s]]]==null&&(r[t[n[s]]]=[]),r[t[n[s]]].push(n[s]);return r}var Ev=new Date(1899,11,30,0,0,0);function Ia(t,r){var n=t.getTime(),s=Ev.getTime()+(t.getTimezoneOffset()-Ev.getTimezoneOffset())*6e4;return(n-s)/(24*60*60*1e3)}var OD=new Date,qoe=Ev.getTime()+(OD.getTimezoneOffset()-Ev.getTimezoneOffset())*6e4,dk=OD.getTimezoneOffset();function FD(t){var r=new Date;return r.setTime(t*24*60*60*1e3+qoe),r.getTimezoneOffset()!==dk&&r.setTime(r.getTime()+(r.getTimezoneOffset()-dk)*6e4),r}var Ak=new Date("2017-02-19T19:06:09.000Z"),ID=isNaN(Ak.getFullYear())?new Date("2/19/17"):Ak,Yoe=ID.getFullYear()==2017;function ha(t,r){var n=new Date(t);if(Yoe)return r>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):r<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(ID.getFullYear()==1917&&!isNaN(n.getFullYear())){var s=n.getFullYear();return t.indexOf(""+s)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function V1(t,r){if(yn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(o){return n[o]||o})}catch{}for(var s=[],i=0;i!=t.length;++i)s.push(String.fromCharCode(t[i]));return s.join("")}function Pa(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=Pa(t[n]));return r}function Cs(t,r){for(var n="";n.length<r;)n+=t;return n}function bc(t){var r=Number(t);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(t))return r;var n=1,s=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(r=Number(s))||(s=s.replace(/[(](.*)[)]/,function(i,o){return n=-n,o}),!isNaN(r=Number(s)))?r/n:r}var Xoe=["january","february","march","april","may","june","july","august","september","october","november","december"];function am(t){var r=new Date(t),n=new Date(NaN),s=r.getYear(),i=r.getMonth(),o=r.getDate();if(isNaN(o))return n;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&Xoe.indexOf(l)==-1)return n}else if(l.match(/[a-z]/))return n;return s<0||s>8099?n:(i>0||o>1)&&s!=101?r:t.match(/[^-0-9:,\/\\]/)?n:r}function Gr(t,r,n){if(t.FullPaths){if(typeof n=="string"){var s;return yn?s=Rc(n):s=voe(n),Rn.utils.cfb_add(t,r,s)}Rn.utils.cfb_add(t,r,n)}else t.file(r,n)}function pS(){return Rn.utils.cfb_new()}var ti=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Joe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},mS=hS(Joe),gS=/[&<>'"]/g,Zoe=/[\u0000-\u0008\u000b-\u001f]/g;function En(t){var r=t+"";return r.replace(gS,function(n){return mS[n]}).replace(Zoe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function fk(t){return En(t).replace(/ /g,"_x0020_")}var PD=/[\u0000-\u001f]/g;function ele(t){var r=t+"";return r.replace(gS,function(n){return mS[n]}).replace(/\n/g,"<br/>").replace(PD,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function tle(t){var r=t+"";return r.replace(gS,function(n){return mS[n]}).replace(PD,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function rle(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function nle(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Zw(t){for(var r="",n=0,s=0,i=0,o=0,l=0,c=0;n<t.length;){if(s=t.charCodeAt(n++),s<128){r+=String.fromCharCode(s);continue}if(i=t.charCodeAt(n++),s>191&&s<224){l=(s&31)<<6,l|=i&63,r+=String.fromCharCode(l);continue}if(o=t.charCodeAt(n++),s<240){r+=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63);continue}l=t.charCodeAt(n++),c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536,r+=String.fromCharCode(55296+(c>>>10&1023)),r+=String.fromCharCode(56320+(c&1023))}return r}function hk(t){var r=bA(2*t.length),n,s,i=1,o=0,l=0,c;for(s=0;s<t.length;s+=i)i=1,(c=t.charCodeAt(s))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(s+1)&63),i=2):c<240?(n=(c&15)*4096+(t.charCodeAt(s+1)&63)*64+(t.charCodeAt(s+2)&63),i=3):(i=4,n=(c&7)*262144+(t.charCodeAt(s+1)&63)*4096+(t.charCodeAt(s+2)&63)*64+(t.charCodeAt(s+3)&63),n-=65536,l=55296+(n>>>10&1023),n=56320+(n&1023)),l!==0&&(r[o++]=l&255,r[o++]=l>>>8,l=0),r[o++]=n%256,r[o++]=n>>>8;return r.slice(0,o).toString("ucs2")}function pk(t){return Rc(t,"binary").toString("utf8")}var wy="foo bar bazâð£",d0=yn&&(pk(wy)==Zw(wy)&&pk||hk(wy)==Zw(wy)&&hk)||Zw,om=yn?function(t){return Rc(t,"utf8").toString("binary")}:function(t){for(var r=[],n=0,s=0,i=0;n<t.length;)switch(s=t.charCodeAt(n++),!0){case s<128:r.push(String.fromCharCode(s));break;case s<2048:r.push(String.fromCharCode(192+(s>>6))),r.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,i=t.charCodeAt(n++)-56320+(s<<10),r.push(String.fromCharCode(240+(i>>18&7))),r.push(String.fromCharCode(144+(i>>12&63))),r.push(String.fromCharCode(128+(i>>6&63))),r.push(String.fromCharCode(128+(i&63)));break;default:r.push(String.fromCharCode(224+(s>>12))),r.push(String.fromCharCode(128+(s>>6&63))),r.push(String.fromCharCode(128+(s&63)))}return r.join("")},sle=function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(n){for(var s=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)s=s.replace(t[i][0],t[i][1]);return s}}(),LD=/(^\s|\s$|\n)/;function Oi(t,r){return"<"+t+(r.match(LD)?' xml:space="preserve"':"")+">"+r+"</"+t+">"}function lm(t){return Ri(t).map(function(r){return" "+r+'="'+t[r]+'"'}).join("")}function Mt(t,r,n){return"<"+t+(n!=null?lm(n):"")+(r!=null?(r.match(LD)?' xml:space="preserve"':"")+">"+r+"</"+t:"/")+">"}function R4(t,r){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(r)throw n}return""}function ile(t,r){switch(typeof t){case"string":var n=Mt("vt:lpwstr",En(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Mt((t|0)==t?"vt:i4":"vt:r8",En(String(t)));case"boolean":return Mt("vt:bool",t?"true":"false")}if(t instanceof Date)return Mt("vt:filetime",R4(t));throw new Error("Unable to serialize "+t)}var xi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Uh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ka={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function ale(t,r){for(var n=1-2*(t[r+7]>>>7),s=((t[r+7]&127)<<4)+(t[r+6]>>>4&15),i=t[r+6]&15,o=5;o>=0;--o)i=i*256+t[r+o];return s==2047?i==0?n*(1/0):NaN:(s==0?s=-1022:(s-=1023,i+=Math.pow(2,52)),n*Math.pow(2,s-52)*i)}function ole(t,r,n){var s=(r<0||1/r==-1/0?1:0)<<7,i=0,o=0,l=s?-r:r;isFinite(l)?l==0?i=o=0:(i=Math.floor(Math.log(l)/Math.LN2),o=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(r)?26985:0);for(var c=0;c<=5;++c,o/=256)t[n+c]=o&255;t[n+6]=(i&15)<<4|o&15,t[n+7]=i>>4|s}var mk=function(t){for(var r=[],n=10240,s=0;s<t[0].length;++s)if(t[0][s])for(var i=0,o=t[0][s].length;i<o;i+=n)r.push.apply(r,t[0][s].slice(i,i+n));return r},gk=yn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(r){return Buffer.isBuffer(r)?r:Rc(r)})):mk(t)}:mk,yk=function(t,r,n){for(var s=[],i=r;i<n;i+=2)s.push(String.fromCharCode(Hp(t,i)));return s.join("").replace(u0,"")},yS=yn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf16le",r,n).replace(u0,""):yk(t,r,n)}:yk,xk=function(t,r,n){for(var s=[],i=r;i<r+n;++i)s.push(("0"+t[i].toString(16)).slice(-2));return s.join("")},DD=yn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("hex",r,r+n):xk(t,r,n)}:xk,vk=function(t,r,n){for(var s=[],i=r;i<n;i++)s.push(String.fromCharCode(pf(t,i)));return s.join("")},Qm=yn?function(r,n,s){return Buffer.isBuffer(r)?r.toString("utf8",n,s):vk(r,n,s)}:vk,UD=function(t,r){var n=Ga(t,r);return n>0?Qm(t,r+4,r+4+n-1):""},RD=UD,MD=function(t,r){var n=Ga(t,r);return n>0?Qm(t,r+4,r+4+n-1):""},QD=MD,$D=function(t,r){var n=2*Ga(t,r);return n>0?Qm(t,r+4,r+4+n-1):""},HD=$D,VD=function(r,n){var s=Ga(r,n);return s>0?yS(r,n+4,n+4+s):""},zD=VD,KD=function(t,r){var n=Ga(t,r);return n>0?Qm(t,r+4,r+4+n):""},GD=KD,WD=function(t,r){return ale(t,r)},kv=WD,xS=function(r){return Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array};yn&&(RD=function(r,n){if(!Buffer.isBuffer(r))return UD(r,n);var s=r.readUInt32LE(n);return s>0?r.toString("utf8",n+4,n+4+s-1):""},QD=function(r,n){if(!Buffer.isBuffer(r))return MD(r,n);var s=r.readUInt32LE(n);return s>0?r.toString("utf8",n+4,n+4+s-1):""},HD=function(r,n){if(!Buffer.isBuffer(r))return $D(r,n);var s=2*r.readUInt32LE(n);return r.toString("utf16le",n+4,n+4+s-1)},zD=function(r,n){if(!Buffer.isBuffer(r))return VD(r,n);var s=r.readUInt32LE(n);return r.toString("utf16le",n+4,n+4+s)},GD=function(r,n){if(!Buffer.isBuffer(r))return KD(r,n);var s=r.readUInt32LE(n);return r.toString("utf8",n+4,n+4+s)},kv=function(r,n){return Buffer.isBuffer(r)?r.readDoubleLE(n):WD(r,n)},xS=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array});var pf=function(t,r){return t[r]},Hp=function(t,r){return t[r+1]*256+t[r]},lle=function(t,r){var n=t[r+1]*256+t[r];return n<32768?n:(65535-n+1)*-1},Ga=function(t,r){return t[r+3]*(1<<24)+(t[r+2]<<16)+(t[r+1]<<8)+t[r]},Fd=function(t,r){return t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]},cle=function(t,r){return t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]};function A0(t,r){var n="",s,i,o=[],l,c,u,d;switch(r){case"dbcs":if(d=this.l,yn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(u=0;u<t;++u)n+=String.fromCharCode(Hp(this,d)),d+=2;t*=2;break;case"utf8":n=Qm(this,this.l,this.l+t);break;case"utf16le":t*=2,n=yS(this,this.l,this.l+t);break;case"wstr":return A0.call(this,t,"dbcs");case"lpstr-ansi":n=RD(this,this.l),t=4+Ga(this,this.l);break;case"lpstr-cp":n=QD(this,this.l),t=4+Ga(this,this.l);break;case"lpwstr":n=HD(this,this.l),t=4+2*Ga(this,this.l);break;case"lpp4":t=4+Ga(this,this.l),n=zD(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ga(this,this.l),n=GD(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(l=pf(this,this.l+t++))!==0;)o.push(xy(l));n=o.join("");break;case"_wstr":for(t=0,n="";(l=Hp(this,this.l+t))!==0;)o.push(xy(l)),t+=2;t+=2,n=o.join("");break;case"dbcs-cont":for(n="",d=this.l,u=0;u<t;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return l=pf(this,d),this.l=d+1,c=A0.call(this,t-u,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(xy(Hp(this,d))),d+=2}n=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",d=this.l,u=0;u!=t;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return l=pf(this,d),this.l=d+1,c=A0.call(this,t-u,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(xy(pf(this,d))),d+=1}n=o.join("");break;default:switch(t){case 1:return s=pf(this,this.l),this.l++,s;case 2:return s=(r==="i"?lle:Hp)(this,this.l),this.l+=2,s;case 4:case-4:return r==="i"||!(this[this.l+3]&128)?(s=(t>0?Fd:cle)(this,this.l),this.l+=4,s):(i=Ga(this,this.l),this.l+=4,i);case 8:case-8:if(r==="f")return t==8?i=kv(this,this.l):i=kv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=DD(this,this.l,t);break}}return this.l+=t,n}var ule=function(t,r,n){t[n]=r&255,t[n+1]=r>>>8&255,t[n+2]=r>>>16&255,t[n+3]=r>>>24&255},dle=function(t,r,n){t[n]=r&255,t[n+1]=r>>8&255,t[n+2]=r>>16&255,t[n+3]=r>>24&255},Ale=function(t,r,n){t[n]=r&255,t[n+1]=r>>>8&255};function fle(t,r,n){var s=0,i=0;if(n==="dbcs"){for(i=0;i!=r.length;++i)Ale(this,r.charCodeAt(i),this.l+2*i);s=2*r.length}else if(n==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=r.length;++i)this[this.l+i]=r.charCodeAt(i)&255;s=r.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(r.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var o=Math.min(this.l+t,this.length);for(i=0;i<Math.min(r.length,t);++i){var l=r.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:s=1,this[this.l]=r&255;break;case 2:s=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:s=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:s=4,ule(this,r,this.l);break;case 8:if(s=8,n==="f"){ole(this,r,this.l);break}case 16:break;case-4:s=4,dle(this,r,this.l);break}return this.l+=s,this}function qD(t,r){var n=DD(this,this.l,t.length>>1);if(n!==t)throw new Error(r+"Expected "+t+" saw "+n);this.l+=t.length>>1}function za(t,r){t.l=r,t.read_shift=A0,t.chk=qD,t.write_shift=fle}function Kl(t,r){t.l+=r}function yt(t){var r=bA(t);return za(r,0),r}function Fa(){var t=[],r=yn?256:2048,n=function(d){var A=yt(d);return za(A,0),A},s=n(r),i=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&t.push(s),s=null)},o=function(d){return s&&d<s.length-s.l?s:(i(),s=n(Math.max(d+1,r)))},l=function(){return i(),Ti(t)},c=function(d){i(),s=d,s.l==null&&(s.l=s.length),o(r)};return{next:o,push:c,end:l,_bufs:t}}function kt(t,r,n,s){var i=+r,o;if(!isNaN(i)){s||(s=ahe[i].p||(n||[]).length||0),o=1+(i>=128?1:0)+1,s>=128&&++o,s>=16384&&++o,s>=2097152&&++o;var l=t.next(o);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(s>=128)l.write_shift(1,(s&127)+128),s>>=7;else{l.write_shift(1,s);break}s>0&&xS(n)&&t.push(n)}}function f0(t,r,n){var s=Pa(t);if(r.s?(s.cRel&&(s.c+=r.s.c),s.rRel&&(s.r+=r.s.r)):(s.cRel&&(s.c+=r.c),s.rRel&&(s.r+=r.r)),!n||n.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function bk(t,r,n){var s=Pa(t);return s.s=f0(s.s,r.s,n),s.e=f0(s.e,r.s,n),s}function h0(t,r){if(t.cRel&&t.c<0)for(t=Pa(t);t.c<0;)t.c+=r>8?16384:256;if(t.rRel&&t.r<0)for(t=Pa(t);t.r<0;)t.r+=r>8?1048576:r>5?65536:16384;var n=Tn(t);return!t.cRel&&t.cRel!=null&&(n=mle(n)),!t.rRel&&t.rRel!=null&&(n=hle(n)),n}function e2(t,r){return t.s.r==0&&!t.s.rRel&&t.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ea(t.s.c)+":"+(t.e.cRel?"":"$")+ea(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(r.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Di(t.s.r)+":"+(t.e.rRel?"":"$")+Di(t.e.r):h0(t.s,r.biff)+":"+h0(t.e,r.biff)}function vS(t){return parseInt(ple(t),10)-1}function Di(t){return""+(t+1)}function hle(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ple(t){return t.replace(/\$(\d+)$/,"$1")}function bS(t){for(var r=gle(t),n=0,s=0;s!==r.length;++s)n=26*n+r.charCodeAt(s)-64;return n-1}function ea(t){if(t<0)throw new Error("invalid column "+t);var r="";for(++t;t;t=Math.floor((t-1)/26))r=String.fromCharCode((t-1)%26+65)+r;return r}function mle(t){return t.replace(/^([A-Z])/,"$$$1")}function gle(t){return t.replace(/^\$([A-Z])/,"$1")}function yle(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function vi(t){for(var r=0,n=0,s=0;s<t.length;++s){var i=t.charCodeAt(s);i>=48&&i<=57?r=10*r+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:r-1}}function Tn(t){for(var r=t.c+1,n="";r;r=(r-1)/26|0)n=String.fromCharCode((r-1)%26+65)+n;return n+(t.r+1)}function Za(t){var r=t.indexOf(":");return r==-1?{s:vi(t),e:vi(t)}:{s:vi(t.slice(0,r)),e:vi(t.slice(r+1))}}function ei(t,r){return typeof r>"u"||typeof r=="number"?ei(t.s,t.e):(typeof t!="string"&&(t=Tn(t)),typeof r!="string"&&(r=Tn(r)),t==r?t:t+":"+r)}function is(t){var r={s:{c:0,r:0},e:{c:0,r:0}},n=0,s=0,i=0,o=t.length;for(n=0;s<o&&!((i=t.charCodeAt(s)-64)<1||i>26);++s)n=26*n+i;for(r.s.c=--n,n=0;s<o&&!((i=t.charCodeAt(s)-48)<0||i>9);++s)n=10*n+i;if(r.s.r=--n,s===o||i!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++s,n=0;s!=o&&!((i=t.charCodeAt(s)-64)<1||i>26);++s)n=26*n+i;for(r.e.c=--n,n=0;s!=o&&!((i=t.charCodeAt(s)-48)<0||i>9);++s)n=10*n+i;return r.e.r=--n,r}function wk(t,r){var n=t.t=="d"&&r instanceof Date;if(t.z!=null)try{return t.w=Xu(t.z,n?Ia(r):r)}catch{}try{return t.w=Xu((t.XF||{}).numFmtId||(n?14:0),n?Ia(r):r)}catch{return""+r}}function Tc(t,r,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?$m[t.v]||t.v:r==null?wk(t,t.v):wk(t,r))}function kA(t,r){var n=r&&r.sheet?r.sheet:"Sheet1",s={};return s[n]=t,{SheetNames:[n],Sheets:s}}function YD(t,r,n){var s=n||{},i=t?Array.isArray(t):s.dense,o=t||(i?[]:{}),l=0,c=0;if(o&&s.origin!=null){if(typeof s.origin=="number")l=s.origin;else{var u=typeof s.origin=="string"?vi(s.origin):s.origin;l=u.r,c=u.c}o["!ref"]||(o["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var A=is(o["!ref"]);d.s.c=A.s.c,d.s.r=A.s.r,d.e.c=Math.max(d.e.c,A.e.c),d.e.r=Math.max(d.e.r,A.e.r),l==-1&&(d.e.r=l=A.e.r+1)}for(var f=0;f!=r.length;++f)if(r[f]){if(!Array.isArray(r[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=r[f].length;++h)if(!(typeof r[f][h]>"u")){var p={v:r[f][h]},m=l+f,g=c+h;if(d.s.r>m&&(d.s.r=m),d.s.c>g&&(d.s.c=g),d.e.r<m&&(d.e.r=m),d.e.c<g&&(d.e.c=g),r[f][h]&&typeof r[f][h]=="object"&&!Array.isArray(r[f][h])&&!(r[f][h]instanceof Date))p=r[f][h];else if(Array.isArray(p.v)&&(p.f=r[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(s.nullError)p.t="e",p.v=0;else if(s.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=s.dateNF||ks[14],s.cellDates?(p.t="d",p.w=Xu(p.z,Ia(p.v))):(p.t="n",p.v=Ia(p.v),p.w=Xu(p.z,p.v))):p.t="s";if(i)o[m]||(o[m]=[]),o[m][g]&&o[m][g].z&&(p.z=o[m][g].z),o[m][g]=p;else{var b=Tn({c:g,r:m});o[b]&&o[b].z&&(p.z=o[b].z),o[b]=p}}}return d.s.c<1e7&&(o["!ref"]=ei(d)),o}function Rh(t,r){return YD(null,t,r)}function xle(t){return t.read_shift(4,"i")}function nl(t,r){return r||(r=yt(4)),r.write_shift(4,t),r}function ta(t){var r=t.read_shift(4);return r===0?"":t.read_shift(r,"dbcs")}function bi(t,r){var n=!1;return r==null&&(n=!0,r=yt(4+2*t.length)),r.write_shift(4,t.length),t.length>0&&r.write_shift(0,t,"dbcs"),n?r.slice(0,r.l):r}function vle(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function ble(t,r){return r||(r=yt(4)),r.write_shift(2,0),r.write_shift(2,0),r}function wS(t,r){var n=t.l,s=t.read_shift(1),i=ta(t),o=[],l={t:i,h:i};if(s&1){for(var c=t.read_shift(4),u=0;u!=c;++u)o.push(vle(t));l.r=o}else l.r=[{ich:0,ifnt:0}];return t.l=n+r,l}function wle(t,r){var n=!1;return r==null&&(n=!0,r=yt(15+4*t.t.length)),r.write_shift(1,0),bi(t.t,r),n?r.slice(0,r.l):r}var jle=wS;function Nle(t,r){var n=!1;return r==null&&(n=!0,r=yt(23+4*t.t.length)),r.write_shift(1,1),bi(t.t,r),r.write_shift(4,1),ble({ich:0,ifnt:0},r),n?r.slice(0,r.l):r}function To(t){var r=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:r,iStyleRef:n}}function TA(t,r){return r==null&&(r=yt(8)),r.write_shift(-4,t.c),r.write_shift(3,t.iStyleRef||t.s),r.write_shift(1,0),r}function OA(t){var r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:r}}function FA(t,r){return r==null&&(r=yt(4)),r.write_shift(3,t.iStyleRef||t.s),r.write_shift(1,0),r}var Sle=ta,XD=bi;function jS(t){var r=t.read_shift(4);return r===0||r===4294967295?"":t.read_shift(r,"dbcs")}function Tv(t,r){var n=!1;return r==null&&(n=!0,r=yt(127)),r.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&r.write_shift(0,t,"dbcs"),n?r.slice(0,r.l):r}var Ble=ta,M4=jS,NS=Tv;function JD(t){var r=t.slice(t.l,t.l+4),n=r[0]&1,s=r[0]&2;t.l+=4;var i=s===0?kv([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):Fd(r,0)>>2;return n?i/100:i}function ZD(t,r){r==null&&(r=yt(4));var n=0,s=0,i=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?s=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(s=1,n=1),s)r.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function eU(t){var r={s:{},e:{}};return r.s.r=t.read_shift(4),r.e.r=t.read_shift(4),r.s.c=t.read_shift(4),r.e.c=t.read_shift(4),r}function Cle(t,r){return r||(r=yt(16)),r.write_shift(4,t.s.r),r.write_shift(4,t.e.r),r.write_shift(4,t.s.c),r.write_shift(4,t.e.c),r}var IA=eU,Mh=Cle;function Qh(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function wA(t,r){return(r||yt(8)).write_shift(8,t,"f")}function _le(t){var r={},n=t.read_shift(1),s=n>>>1,i=t.read_shift(1),o=t.read_shift(2,"i"),l=t.read_shift(1),c=t.read_shift(1),u=t.read_shift(1);switch(t.l++,s){case 0:r.auto=1;break;case 1:r.index=i;var d=Dle[i];d&&(r.rgb=Fk(d));break;case 2:r.rgb=Fk([l,c,u]);break;case 3:r.theme=i;break}return o!=0&&(r.tint=o>0?o/32767:o/32768),r}function Ov(t,r){if(r||(r=yt(8)),!t||t.auto)return r.write_shift(4,0),r.write_shift(4,0),r;t.index!=null?(r.write_shift(1,2),r.write_shift(1,t.index)):t.theme!=null?(r.write_shift(1,6),r.write_shift(1,t.theme)):(r.write_shift(1,5),r.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),r.write_shift(2,n),!t.rgb||t.theme!=null)r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);else{var s=t.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),r.write_shift(1,parseInt(s.slice(0,2),16)),r.write_shift(1,parseInt(s.slice(2,4),16)),r.write_shift(1,parseInt(s.slice(4,6),16)),r.write_shift(1,255)}return r}function Ele(t){var r=t.read_shift(1);t.l++;var n={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return n}function kle(t,r){r||(r=yt(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return r.write_shift(1,n),r.write_shift(1,0),r}var tU=2,$a=3,jy=11,Fv=19,Ny=64,Tle=65,Ole=71,Fle=4108,Ile=4126,ki=80,jk={1:{n:"CodePage",t:tU},2:{n:"Category",t:ki},3:{n:"PresentationFormat",t:ki},4:{n:"ByteCount",t:$a},5:{n:"LineCount",t:$a},6:{n:"ParagraphCount",t:$a},7:{n:"SlideCount",t:$a},8:{n:"NoteCount",t:$a},9:{n:"HiddenCount",t:$a},10:{n:"MultimediaClipCount",t:$a},11:{n:"ScaleCrop",t:jy},12:{n:"HeadingPairs",t:Fle},13:{n:"TitlesOfParts",t:Ile},14:{n:"Manager",t:ki},15:{n:"Company",t:ki},16:{n:"LinksUpToDate",t:jy},17:{n:"CharacterCount",t:$a},19:{n:"SharedDoc",t:jy},22:{n:"HyperlinksChanged",t:jy},23:{n:"AppVersion",t:$a,p:"version"},24:{n:"DigSig",t:Tle},26:{n:"ContentType",t:ki},27:{n:"ContentStatus",t:ki},28:{n:"Language",t:ki},29:{n:"Version",t:ki},255:{},2147483648:{n:"Locale",t:Fv},2147483651:{n:"Behavior",t:Fv},1919054434:{}},Nk={1:{n:"CodePage",t:tU},2:{n:"Title",t:ki},3:{n:"Subject",t:ki},4:{n:"Author",t:ki},5:{n:"Keywords",t:ki},6:{n:"Comments",t:ki},7:{n:"Template",t:ki},8:{n:"LastAuthor",t:ki},9:{n:"RevNumber",t:ki},10:{n:"EditTime",t:Ny},11:{n:"LastPrinted",t:Ny},12:{n:"CreatedDate",t:Ny},13:{n:"ModifiedDate",t:Ny},14:{n:"PageCount",t:$a},15:{n:"WordCount",t:$a},16:{n:"CharCount",t:$a},17:{n:"Thumbnail",t:Ole},18:{n:"Application",t:ki},19:{n:"DocSecurity",t:$a},255:{},2147483648:{n:"Locale",t:Fv},2147483651:{n:"Behavior",t:Fv},1919054434:{}};function Ple(t){return t.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var Lle=Ple([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Dle=Pa(Lle),$m={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Ule={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Sy={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function rU(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function nU(t,r){var n=Woe(Ule),s=[],i;s[s.length]=ti,s[s.length]=Mt("Types",null,{xmlns:xi.CT,"xmlns:xsd":xi.xsd,"xmlns:xsi":xi.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return Mt("Default",null,{Extension:u[0],ContentType:u[1]})}));var o=function(u){t[u]&&t[u].length>0&&(i=t[u][0],s[s.length]=Mt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Sy[u][r.bookType]||Sy[u].xlsx}))},l=function(u){(t[u]||[]).forEach(function(d){s[s.length]=Mt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:Sy[u][r.bookType]||Sy[u].xlsx})})},c=function(u){(t[u]||[]).forEach(function(d){s[s.length]=Mt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:n[u][0]})})};return o("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var mn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function sU(t){var r=t.lastIndexOf("/");return t.slice(0,r+1)+"_rels/"+t.slice(r+1)+".rels"}function sh(t){var r=[ti,Mt("Relationships",null,{xmlns:xi.RELS})];return Ri(t["!id"]).forEach(function(n){r[r.length]=Mt("Relationship",null,t["!id"][n])}),r.length>2&&(r[r.length]="</Relationships>",r[1]=r[1].replace("/>",">")),r.join("")}function Cn(t,r,n,s,i,o){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),r<0)for(r=t["!idx"];t["!id"]["rId"+r];++r);if(t["!idx"]=r+1,i.Id="rId"+r,i.Type=s,i.Target=n,[mn.HLINK,mn.XPATH,mn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+r);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,r}function Rle(t){var r=[ti];r.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),r.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)r.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return r.push("</manifest:manifest>"),r.join("")}function Sk(t,r,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+r+`"/>
`,`  </rdf:Description>
`].join("")}function Mle(t,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+`"/>
`,`  </rdf:Description>
`].join("")}function Qle(t){var r=[ti];r.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)r.push(Sk(t[n][0],t[n][1])),r.push(Mle("",t[n][0]));return r.push(Sk("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}function iU(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Sv.version+"</meta:generator></office:meta></office:document-meta>"}var tA=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function t2(t,r,n,s,i){i[t]!=null||r==null||r===""||(i[t]=r,r=En(r),s[s.length]=n?Mt(t,r,n):Oi(t,r))}function aU(t,r){var n=r||{},s=[ti,Mt("cp:coreProperties",null,{"xmlns:cp":xi.CORE_PROPS,"xmlns:dc":xi.dc,"xmlns:dcterms":xi.dcterms,"xmlns:dcmitype":xi.dcmitype,"xmlns:xsi":xi.xsi})],i={};if(!t&&!n.Props)return s.join("");t&&(t.CreatedDate!=null&&t2("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:R4(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},s,i),t.ModifiedDate!=null&&t2("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:R4(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},s,i));for(var o=0;o!=tA.length;++o){var l=tA[o],c=n.Props&&n.Props[l[1]]!=null?n.Props[l[1]]:t?t[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&t2(l[0],c,null,s,i)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var ih=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],oU=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function lU(t){var r=[],n=Mt;return t||(t={}),t.Application="SheetJS",r[r.length]=ti,r[r.length]=Mt("Properties",null,{xmlns:xi.EXT_PROPS,"xmlns:vt":xi.vt}),ih.forEach(function(s){if(t[s[1]]!==void 0){var i;switch(s[2]){case"string":i=En(String(t[s[1]]));break;case"bool":i=t[s[1]]?"true":"false";break}i!==void 0&&(r[r.length]=n(s[0],i))}}),r[r.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),r[r.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(s){return"<vt:lpstr>"+En(s)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}function cU(t){var r=[ti,Mt("Properties",null,{xmlns:xi.CUST_PROPS,"xmlns:vt":xi.vt})];if(!t)return r.join("");var n=1;return Ri(t).forEach(function(i){++n,r[r.length]=Mt("property",ile(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:En(i)})}),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}var Bk={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function $le(t,r){var n=[];return Ri(Bk).map(function(s){for(var i=0;i<tA.length;++i)if(tA[i][1]==s)return tA[i];for(i=0;i<ih.length;++i)if(ih[i][1]==s)return ih[i];throw s}).forEach(function(s){if(t[s[1]]!=null){var i=r&&r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t[s[1]];switch(s[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Oi(Bk[s[1]]||s[1],i))}}),Mt("DocumentProperties",n.join(""),{xmlns:Ka.o})}function Hle(t,r){var n=["Worksheets","SheetNames"],s="CustomDocumentProperties",i=[];return t&&Ri(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var l=0;l<tA.length;++l)if(o==tA[l][1])return;for(l=0;l<ih.length;++l)if(o==ih[l][1])return;for(l=0;l<n.length;++l)if(o==n[l])return;var c=t[o],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c=String(c),i.push(Mt(fk(o),c,{"dt:dt":u}))}}),r&&Ri(r).forEach(function(o){if(Object.prototype.hasOwnProperty.call(r,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var l=r[o],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),i.push(Mt(fk(o),l,{"dt:dt":c}))}}),"<"+s+' xmlns="'+Ka.o+'">'+i.join("")+"</"+s+">"}function Vle(t){var r=typeof t=="string"?new Date(Date.parse(t)):t,n=r.getTime()/1e3+11644473600,s=n%Math.pow(2,32),i=(n-s)/Math.pow(2,32);s*=1e7,i*=1e7;var o=s/Math.pow(2,32)|0;o>0&&(s=s%Math.pow(2,32),i+=o);var l=yt(8);return l.write_shift(4,s),l.write_shift(4,i),l}function Ck(t,r){var n=yt(4),s=yt(4);switch(n.write_shift(4,t==80?31:t),t){case 3:s.write_shift(-4,r);break;case 5:s=yt(8),s.write_shift(8,r,"f");break;case 11:s.write_shift(4,r?1:0);break;case 64:s=Vle(r);break;case 31:case 80:for(s=yt(4+2*(r.length+1)+(r.length%2?0:2)),s.write_shift(4,r.length+1),s.write_shift(0,r,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}return Ti([n,s])}var uU=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function zle(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function _k(t,r,n){var s=yt(8),i=[],o=[],l=8,c=0,u=yt(8),d=yt(8);if(u.write_shift(4,2),u.write_shift(4,1200),d.write_shift(4,1),o.push(u),i.push(d),l+=8+u.length,!r){d=yt(8),d.write_shift(4,0),i.unshift(d);var A=[yt(4)];for(A[0].write_shift(4,t.length),c=0;c<t.length;++c){var f=t[c][0];for(u=yt(8+2*(f.length+1)+(f.length%2?0:2)),u.write_shift(4,c+2),u.write_shift(4,f.length+1),u.write_shift(0,f,"dbcs");u.l!=u.length;)u.write_shift(1,0);A.push(u)}u=Ti(A),o.unshift(u),l+=8+u.length}for(c=0;c<t.length;++c)if(!(r&&!r[t[c][0]])&&!(uU.indexOf(t[c][0])>-1||oU.indexOf(t[c][0])>-1)&&t[c][1]!=null){var h=t[c][1],p=0;if(r){p=+r[t[c][0]];var m=n[p];if(m.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}u=Ck(m.t,h)}else{var b=zle(h);b==-1&&(b=31,h=String(h)),u=Ck(b,h)}o.push(u),d=yt(8),d.write_shift(4,r?p:2+c),i.push(d),l+=8+u.length}var y=8*(o.length+1);for(c=0;c<o.length;++c)i[c].write_shift(4,y),y+=o[c].length;return s.write_shift(4,l),s.write_shift(4,o.length),Ti([s].concat(i).concat(o))}function Ek(t,r,n,s,i,o){var l=yt(i?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Rn.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,r,"hex"),l.write_shift(4,i?68:48);var u=_k(t,n,s);if(c.push(u),i){var d=_k(i,null,null);l.write_shift(16,o,"hex"),l.write_shift(4,68+u.length),c.push(d)}return Ti(c)}function Kle(t,r){r||(r=yt(t));for(var n=0;n<t;++n)r.write_shift(1,0);return r}function Gle(t,r){return t.read_shift(r)===1}function da(t,r){return r||(r=yt(2)),r.write_shift(2,+!!t),r}function dU(t){return t.read_shift(2,"u")}function mo(t,r){return r||(r=yt(2)),r.write_shift(2,t),r}function AU(t,r,n){return n||(n=yt(2)),n.write_shift(1,r=="e"?+t:+!!t),n.write_shift(1,r=="e"?1:0),n}function fU(t,r,n){var s=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var o=t.read_shift(1);o&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var l=s?t.read_shift(s,i):"";return l}function Wle(t){var r=t.t||"",n=yt(3);n.write_shift(2,r.length),n.write_shift(1,1);var s=yt(2*r.length);s.write_shift(2*r.length,r,"utf16le");var i=[n,s];return Ti(i)}function qle(t,r,n){var s;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(r,"cpstr");if(n.biff>=12)return t.read_shift(r,"dbcs-cont")}var i=t.read_shift(1);return i===0?s=t.read_shift(r,"sbcs-cont"):s=t.read_shift(r,"dbcs-cont"),s}function Yle(t,r,n){var s=t.read_shift(n&&n.biff==2?1:2);return s===0?(t.l++,""):qle(t,s,n)}function Xle(t,r,n){if(n.biff>5)return Yle(t,r,n);var s=t.read_shift(1);return s===0?(t.l++,""):t.read_shift(s,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function hU(t,r,n){return n||(n=yt(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function kk(t,r){r||(r=yt(6+t.length*2)),r.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)r.write_shift(2,t.charCodeAt(n));return r.write_shift(2,0),r}function Jle(t){var r=yt(512),n=0,s=t.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var i=s.indexOf("#"),o=i>-1?31:23;switch(s.charAt(0)){case"#":o=28;break;case".":o&=-3;break}r.write_shift(4,2),r.write_shift(4,o);var l=[8,6815827,6619237,4849780,83];for(n=0;n<l.length;++n)r.write_shift(4,l[n]);if(o==28)s=s.slice(1),kk(s,r);else if(o&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<l.length;++n)r.write_shift(1,parseInt(l[n],16));var c=i>-1?s.slice(0,i):s;for(r.write_shift(4,2*(c.length+1)),n=0;n<c.length;++n)r.write_shift(2,c.charCodeAt(n));r.write_shift(2,0),o&8&&kk(i>-1?s.slice(i+1):"",r)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<l.length;++n)r.write_shift(1,parseInt(l[n],16));for(var u=0;s.slice(u*3,u*3+3)=="../"||s.slice(u*3,u*3+3)=="..\\";)++u;for(r.write_shift(2,u),r.write_shift(4,s.length-3*u+1),n=0;n<s.length-3*u;++n)r.write_shift(1,s.charCodeAt(n+3*u)&255);for(r.write_shift(1,0),r.write_shift(2,65535),r.write_shift(2,57005),n=0;n<6;++n)r.write_shift(4,0)}return r.slice(0,r.l)}function jA(t,r,n,s){return s||(s=yt(6)),s.write_shift(2,t),s.write_shift(2,r),s.write_shift(2,n||0),s}function Zle(t,r,n){var s=n.biff>8?4:2,i=t.read_shift(s),o=t.read_shift(s,"i"),l=t.read_shift(s,"i");return[i,o,l]}function ece(t){var r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2);return{s:{c:s,r},e:{c:i,r:n}}}function pU(t,r){return r||(r=yt(8)),r.write_shift(2,t.s.r),r.write_shift(2,t.e.r),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c),r}function SS(t,r,n){var s=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":s=1280,i=8;break;case"biff4":s=4,i=6;break;case"biff3":s=3,i=6;break;case"biff2":s=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=yt(i);return o.write_shift(2,s),o.write_shift(2,r),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function tce(t,r){var n=!r||r.biff==8,s=yt(n?112:54);for(s.write_shift(r.biff==8?2:1,7),n&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(n?0:536870912));s.l<s.length;)s.write_shift(1,n?0:32);return s}function rce(t,r){var n=!r||r.biff>=8?2:1,s=yt(8+n*t.name.length);s.write_shift(4,t.pos),s.write_shift(1,t.hs||0),s.write_shift(1,t.dt),s.write_shift(1,t.name.length),r.biff>=8&&s.write_shift(1,1),s.write_shift(n*t.name.length,t.name,r.biff<8?"sbcs":"utf16le");var i=s.slice(0,s.l);return i.l=s.l,i}function nce(t,r){var n=yt(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var s=[],i=0;i<t.length;++i)s[i]=Wle(t[i]);var o=Ti([n].concat(s));return o.parts=[n.length].concat(s.map(function(l){return l.length})),o}function sce(){var t=yt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function ice(t){var r=yt(18),n=1718;return t&&t.RTL&&(n|=64),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,64),r.write_shift(4,0),r.write_shift(4,0),r}function ace(t,r){var n=t.name||"Arial",s=r&&r.biff==5,i=s?15+n.length:16+2*n.length,o=yt(i);return o.write_shift(2,(t.sz||12)*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,n.length),s||o.write_shift(1,1),o.write_shift((s?1:2)*n.length,n,s?"sbcs":"utf16le"),o}function oce(t,r,n,s){var i=yt(10);return jA(t,r,s,i),i.write_shift(4,n),i}function lce(t,r,n,s,i){var o=!i||i.biff==8,l=yt(8+ +o+(1+o)*n.length);return jA(t,r,s,l),l.write_shift(2,n.length),o&&l.write_shift(1,1),l.write_shift((1+o)*n.length,n,o?"utf16le":"sbcs"),l}function cce(t,r,n,s){var i=n&&n.biff==5;s||(s=yt(i?3+r.length:5+2*r.length)),s.write_shift(2,t),s.write_shift(i?1:2,r.length),i||s.write_shift(1,1),s.write_shift((i?1:2)*r.length,r,i?"sbcs":"utf16le");var o=s.length>s.l?s.slice(0,s.l):s;return o.l==null&&(o.l=o.length),o}function uce(t,r){var n=r.biff==8||!r.biff?4:2,s=yt(2*n+6);return s.write_shift(n,t.s.r),s.write_shift(n,t.e.r+1),s.write_shift(2,t.s.c),s.write_shift(2,t.e.c+1),s.write_shift(2,0),s}function Tk(t,r,n,s){var i=n&&n.biff==5;s||(s=yt(i?16:20)),s.write_shift(2,0),t.style?(s.write_shift(2,t.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,t.numFmtId||0),s.write_shift(2,r<<4));var o=0;return t.numFmtId>0&&i&&(o|=1024),s.write_shift(4,o),s.write_shift(4,0),i||s.write_shift(4,0),s.write_shift(2,0),s}function dce(t){var r=yt(8);return r.write_shift(4,0),r.write_shift(2,0),r.write_shift(2,0),r}function Ace(t,r,n,s,i,o){var l=yt(8);return jA(t,r,s,l),AU(n,o,l),l}function fce(t,r,n,s){var i=yt(14);return jA(t,r,s,i),wA(n,i),i}function hce(t,r,n){if(n.biff<8)return pce(t,r,n);for(var s=[],i=t.l+r,o=t.read_shift(n.biff>8?4:2);o--!==0;)s.push(Zle(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return s}function pce(t,r,n){t[t.l+1]==3&&t[t.l]++;var s=fU(t,r,n);return s.charCodeAt(0)==3?s.slice(1):s}function mce(t){var r=yt(2+t.length*8);r.write_shift(2,t.length);for(var n=0;n<t.length;++n)pU(t[n],r);return r}function gce(t){var r=yt(24),n=vi(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)r.write_shift(1,parseInt(s[i],16));return Ti([r,Jle(t[1])])}function yce(t){var r=t[1].Tooltip,n=yt(10+2*(r.length+1));n.write_shift(2,2048);var s=vi(t[0]);n.write_shift(2,s.r),n.write_shift(2,s.r),n.write_shift(2,s.c),n.write_shift(2,s.c);for(var i=0;i<r.length;++i)n.write_shift(2,r.charCodeAt(i));return n.write_shift(2,0),n}function xce(t){return t||(t=yt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function vce(t,r,n){if(!n.cellStyles)return Kl(t,r);var s=n&&n.biff>=12?4:2,i=t.read_shift(s),o=t.read_shift(s),l=t.read_shift(s),c=t.read_shift(s),u=t.read_shift(2);s==2&&(t.l+=2);var d={s:i,e:o,w:l,ixfe:c,flags:u};return(n.biff>=5||!n.biff)&&(d.level=u>>8&7),d}function bce(t,r){var n=yt(12);n.write_shift(2,r),n.write_shift(2,r),n.write_shift(2,t.width*256),n.write_shift(2,0);var s=0;return t.hidden&&(s|=1),n.write_shift(1,s),s=t.level||0,n.write_shift(1,s),n.write_shift(2,0),n}function wce(t){for(var r=yt(2*t),n=0;n<t;++n)r.write_shift(2,n+1);return r}function jce(t,r,n){var s=yt(15);return Vm(s,t,r),s.write_shift(8,n,"f"),s}function Nce(t,r,n){var s=yt(9);return Vm(s,t,r),s.write_shift(2,n),s}var Sce=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=hS({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,u){var d=[],A=bA(1);switch(u.type){case"base64":A=Xo(kc(c));break;case"binary":A=Xo(c);break;case"buffer":case"array":A=c;break}za(A,0);var f=A.read_shift(1),h=!!(f&136),p=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,b=521;f==2&&(g=A.read_shift(2)),A.l+=3,f!=2&&(g=A.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(b=A.read_shift(2));var y=A.read_shift(2),x=u.codepage||1252;f!=2&&(A.l+=16,A.read_shift(1),A[A.l]!==0&&(x=t[A[A.l]]),A.l+=1,A.l+=2),m&&(A.l+=36);for(var v=[],w={},_=Math.min(A.length,f==2?521:b-10-(p?264:0)),B=m?32:11;A.l<_&&A[A.l]!=13;)switch(w={},w.name=Od.utils.decode(x,A.slice(A.l,A.l+B)).replace(/[\u0000\r\n].*$/g,""),A.l+=B,w.type=String.fromCharCode(A.read_shift(1)),f!=2&&!m&&(w.offset=A.read_shift(4)),w.len=A.read_shift(1),f==2&&(w.offset=A.read_shift(2)),w.dec=A.read_shift(1),w.name.length&&v.push(w),f!=2&&(A.l+=m?13:14),w.type){case"B":(!p||w.len!=8)&&u.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(A[A.l]!==13&&(A.l=b-1),A.read_shift(1)!==13)throw new Error("DBF Terminator not found "+A.l+" "+A[A.l]);A.l=b;var N=0,j=0;for(d[0]=[],j=0;j!=v.length;++j)d[0][j]=v[j].name;for(;g-- >0;){if(A[A.l]===42){A.l+=y;continue}for(++A.l,d[++N]=[],j=0,j=0;j!=v.length;++j){var C=A.slice(A.l,A.l+v[j].len);A.l+=v[j].len,za(C,0);var E=Od.utils.decode(x,C);switch(v[j].type){case"C":E.trim().length&&(d[N][j]=E.replace(/\s+$/,""));break;case"D":E.length===8?d[N][j]=new Date(+E.slice(0,4),+E.slice(4,6)-1,+E.slice(6,8)):d[N][j]=E;break;case"F":d[N][j]=parseFloat(E.trim());break;case"+":case"I":d[N][j]=m?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(E.trim().toUpperCase()){case"Y":case"T":d[N][j]=!0;break;case"N":case"F":d[N][j]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+E+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[N][j]="##MEMO##"+(m?parseInt(E.trim(),10):C.read_shift(4));break;case"N":E=E.replace(/\u0000/g,"").trim(),E&&E!="."&&(d[N][j]=+E||0);break;case"@":d[N][j]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":d[N][j]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":d[N][j]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[N][j]=-C.read_shift(-8,"f");break;case"B":if(p&&v[j].len==8){d[N][j]=C.read_shift(8,"f");break}case"G":case"P":C.l+=v[j].len;break;case"0":if(v[j].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+v[j].type)}}}if(f!=2&&A.l<A.length&&A[A.l++]!=26)throw new Error("DBF EOF Marker missing "+(A.l-1)+" of "+A.length+" "+A[A.l-1].toString(16));return u&&u.sheetRows&&(d=d.slice(0,u.sheetRows)),u.DBF=v,d}function s(c,u){var d=u||{};d.dateNF||(d.dateNF="yyyymmdd");var A=Rh(n(c,d),d);return A["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,A}function i(c,u){try{return kA(s(c,u),u)}catch(d){if(u&&u.WTF)throw d}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,u){var d=u||{};if(+d.codepage>=0&&sm(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var A=Fa(),f=Uv(c,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),m=c["!cols"]||[],g=0,b=0,y=0,x=1;for(g=0;g<h.length;++g){if(((m[g]||{}).DBF||{}).name){h[g]=m[g].DBF.name,++y;continue}if(h[g]!=null){if(++y,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(b=0;b<1024;++b)if(h.indexOf(h[g]+"_"+b)==-1){h[g]+="_"+b;break}}}}var v=is(c["!ref"]),w=[],_=[],B=[];for(g=0;g<=v.e.c-v.s.c;++g){var N="",j="",C=0,E=[];for(b=0;b<p.length;++b)p[b][g]!=null&&E.push(p[b][g]);if(E.length==0||h[g]==null){w[g]="?";continue}for(b=0;b<E.length;++b){switch(typeof E[b]){case"number":j="B";break;case"string":j="C";break;case"boolean":j="L";break;case"object":j=E[b]instanceof Date?"D":"C";break;default:j="C"}C=Math.max(C,String(E[b]).length),N=N&&N!=j?"C":j}C>250&&(C=250),j=((m[g]||{}).DBF||{}).type,j=="C"&&m[g].DBF.len>C&&(C=m[g].DBF.len),N=="B"&&j=="N"&&(N="N",B[g]=m[g].DBF.dec,C=m[g].DBF.len),_[g]=N=="C"||j=="N"?C:o[N]||0,x+=_[g],w[g]=N}var S=A.next(32);for(S.write_shift(4,318902576),S.write_shift(4,p.length),S.write_shift(2,296+32*y),S.write_shift(2,x),g=0;g<4;++g)S.write_shift(4,0);for(S.write_shift(4,0|(+r[gD]||3)<<8),g=0,b=0;g<h.length;++g)if(h[g]!=null){var k=A.next(32),P=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,P,"sbcs"),k.write_shift(1,w[g]=="?"?"C":w[g],"sbcs"),k.write_shift(4,b),k.write_shift(1,_[g]||o[w[g]]||0),k.write_shift(1,B[g]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),b+=_[g]||o[w[g]]||0}var M=A.next(264);for(M.write_shift(4,13),g=0;g<65;++g)M.write_shift(4,0);for(g=0;g<p.length;++g){var H=A.next(x);for(H.write_shift(1,0),b=0;b<h.length;++b)if(h[b]!=null)switch(w[b]){case"L":H.write_shift(1,p[g][b]==null?63:p[g][b]?84:70);break;case"B":H.write_shift(8,p[g][b]||0,"f");break;case"N":var F="0";for(typeof p[g][b]=="number"&&(F=p[g][b].toFixed(B[b]||0)),y=0;y<_[b]-F.length;++y)H.write_shift(1,32);H.write_shift(1,F,"sbcs");break;case"D":p[g][b]?(H.write_shift(4,("0000"+p[g][b].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(p[g][b].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+p[g][b].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var Q=String(p[g][b]!=null?p[g][b]:"").slice(0,_[b]);for(H.write_shift(1,Q,"sbcs"),y=0;y<_[b]-Q.length;++y)H.write_shift(1,32);break}}return A.next(1).write_shift(1,26),A.end()}return{to_workbook:i,to_sheet:s,from_sheet:l}}(),Bce=function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+Ri(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,p){var m=t[p];return typeof m=="number"?tk(m):m},s=function(h,p,m){var g=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return g==59?h:tk(g)};t["|"]=254;function i(h,p){switch(p.type){case"base64":return o(kc(h),p);case"binary":return o(h,p);case"buffer":return o(yn&&Buffer.isBuffer(h)?h.toString("binary"):Rm(h),p);case"array":return o(V1(h),p)}throw new Error("Unrecognized type "+p.type)}function o(h,p){var m=h.split(/[\n\r]+/),g=-1,b=-1,y=0,x=0,v=[],w=[],_=null,B={},N=[],j=[],C=[],E=0,S;for(+p.codepage>=0&&sm(+p.codepage);y!==m.length;++y){E=0;var k=m[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(r,n),P=k.replace(/;;/g,"\0").split(";").map(function(T){return T.replace(/\u0000/g,";")}),M=P[0],H;if(k.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":P[1].charAt(0)=="P"&&w.push(k.slice(3).replace(/;;/g,";"));break;case"C":var F=!1,Q=!1,K=!1,Y=!1,V=-1,I=-1;for(x=1;x<P.length;++x)switch(P[x].charAt(0)){case"A":break;case"X":b=parseInt(P[x].slice(1))-1,Q=!0;break;case"Y":for(g=parseInt(P[x].slice(1))-1,Q||(b=0),S=v.length;S<=g;++S)v[S]=[];break;case"K":H=P[x].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN(bc(H))?isNaN(am(H).getDate())||(H=ha(H)):(H=bc(H),_!==null&&ED(_)&&(H=FD(H))),F=!0;break;case"E":Y=!0;var O=Nue(P[x].slice(1),{r:g,c:b});v[g][b]=[v[g][b],O];break;case"S":K=!0,v[g][b]=[v[g][b],"S5S"];break;case"G":break;case"R":V=parseInt(P[x].slice(1))-1;break;case"C":I=parseInt(P[x].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}if(F&&(v[g][b]&&v[g][b].length==2?v[g][b][0]=H:v[g][b]=H,_=null),K){if(Y)throw new Error("SYLK shared formula cannot have own formula");var R=V>-1&&v[V][I];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");v[g][b][1]=Sue(R[1],{r:g-V,c:b-I})}break;case"F":var U=0;for(x=1;x<P.length;++x)switch(P[x].charAt(0)){case"X":b=parseInt(P[x].slice(1))-1,++U;break;case"Y":for(g=parseInt(P[x].slice(1))-1,S=v.length;S<=g;++S)v[S]=[];break;case"M":E=parseInt(P[x].slice(1))/20;break;case"F":break;case"G":break;case"P":_=w[parseInt(P[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=P[x].slice(1).split(" "),S=parseInt(C[0],10);S<=parseInt(C[1],10);++S)E=parseInt(C[2],10),j[S-1]=E===0?{hidden:!0}:{wch:E},BS(j[S-1]);break;case"C":b=parseInt(P[x].slice(1))-1,j[b]||(j[b]={});break;case"R":g=parseInt(P[x].slice(1))-1,N[g]||(N[g]={}),E>0?(N[g].hpt=E,N[g].hpx=vU(E)):E===0&&(N[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}U<1&&(_=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}}return N.length>0&&(B["!rows"]=N),j.length>0&&(B["!cols"]=j),p&&p.sheetRows&&(v=v.slice(0,p.sheetRows)),[v,B]}function l(h,p){var m=i(h,p),g=m[0],b=m[1],y=Rh(g,p);return Ri(b).forEach(function(x){y[x]=b[x]}),y}function c(h,p){return kA(l(h,p),p)}function u(h,p,m,g){var b="C;Y"+(m+1)+";X"+(g+1)+";K";switch(h.t){case"n":b+=h.v||0,h.f&&!h.F&&(b+=";E"+_S(h.f,{r:m,c:g}));break;case"b":b+=h.v?"TRUE":"FALSE";break;case"e":b+=h.w||h.v;break;case"d":b+='"'+(h.w||h.v)+'"';break;case"s":b+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(h,p){p.forEach(function(m,g){var b="F;W"+(g+1)+" "+(g+1)+" ";m.hidden?b+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=Iv(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=Pv(m.wpx)),typeof m.wch=="number"&&(b+=Math.round(m.wch))),b.charAt(b.length-1)!=" "&&h.push(b)})}function A(h,p){p.forEach(function(m,g){var b="F;";m.hidden?b+="M0;":m.hpt?b+="M"+20*m.hpt+";":m.hpx&&(b+="M"+20*Lv(m.hpx)+";"),b.length>2&&h.push(b+"R"+(g+1))})}function f(h,p){var m=["ID;PWXL;N;E"],g=[],b=is(h["!ref"]),y,x=Array.isArray(h),v=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&d(m,h["!cols"]),h["!rows"]&&A(m,h["!rows"]),m.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var w=b.s.r;w<=b.e.r;++w)for(var _=b.s.c;_<=b.e.c;++_){var B=Tn({r:w,c:_});y=x?(h[w]||[])[_]:h[B],!(!y||y.v==null&&(!y.f||y.F))&&g.push(u(y,h,w,_))}return m.join(v)+v+g.join(v)+v+"E"+v}return{to_workbook:c,to_sheet:l,from_sheet:f}}(),Cce=function(){function t(o,l){switch(l.type){case"base64":return r(kc(o),l);case"binary":return r(o,l);case"buffer":return r(yn&&Buffer.isBuffer(o)?o.toString("binary"):Rm(o),l);case"array":return r(V1(o),l)}throw new Error("Unrecognized type "+l.type)}function r(o,l){for(var c=o.split(`
`),u=-1,d=-1,A=0,f=[];A!==c.length;++A){if(c[A].trim()==="BOT"){f[++u]=[],d=0;continue}if(!(u<0)){var h=c[A].trim().split(","),p=h[0],m=h[1];++A;for(var g=c[A]||"";(g.match(/["]/g)||[]).length&1&&A<c.length-1;)g+=`
`+c[++A];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++u]=[],d=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[u][d]=!0:g==="FALSE"?f[u][d]=!1:isNaN(bc(m))?isNaN(am(m).getDate())?f[u][d]=m:f[u][d]=ha(m):f[u][d]=bc(m),++d;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[u][d++]=g!==""?g:null;break}if(g==="EOD")break}}return l&&l.sheetRows&&(f=f.slice(0,l.sheetRows)),f}function n(o,l){return Rh(t(o,l),l)}function s(o,l){return kA(n(o,l),l)}var i=function(){var o=function(u,d,A,f,h){u.push(d),u.push(A+","+f),u.push('"'+h.replace(/"/g,'""')+'"')},l=function(u,d,A,f){u.push(d+","+A),u.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(u){var d=[],A=is(u["!ref"]),f,h=Array.isArray(u);o(d,"TABLE",0,1,"sheetjs"),o(d,"VECTORS",0,A.e.r-A.s.r+1,""),o(d,"TUPLES",0,A.e.c-A.s.c+1,""),o(d,"DATA",0,0,"");for(var p=A.s.r;p<=A.e.r;++p){l(d,-1,0,"BOT");for(var m=A.s.c;m<=A.e.c;++m){var g=Tn({r:p,c:m});if(f=h?(u[p]||[])[m]:u[g],!f){l(d,1,0,"");continue}switch(f.t){case"n":var b=f.w;!b&&f.v!=null&&(b=f.v),b==null?f.f&&!f.F?l(d,1,0,"="+f.f):l(d,1,0,""):l(d,0,b,"V");break;case"b":l(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Xu(f.z||ks[14],Ia(ha(f.v)))),l(d,0,f.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var y=`\r
`,x=d.join(y);return x}}();return{to_workbook:s,to_sheet:n,from_sheet:i}}(),mU=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var p=f.split(`
`),m=-1,g=-1,b=0,y=[];b!==p.length;++b){var x=p[b].trim().split(":");if(x[0]==="cell"){var v=vi(x[1]);if(y.length<=v.r)for(m=y.length;m<=v.r;++m)y[m]||(y[m]=[]);switch(m=v.r,g=v.c,x[2]){case"t":y[m][g]=t(x[3]);break;case"v":y[m][g]=+x[3];break;case"vtf":var w=x[x.length-1];case"vtc":switch(x[3]){case"nl":y[m][g]=!!+x[4];break;default:y[m][g]=+x[4];break}x[2]=="vtf"&&(y[m][g]=[y[m][g],w])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function s(f,h){return Rh(n(f,h),h)}function i(f,h){return kA(s(f,h),h)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],m,g="",b=Za(f["!ref"]),y=Array.isArray(f),x=b.s.r;x<=b.e.r;++x)for(var v=b.s.c;v<=b.e.c;++v)if(g=Tn({r:x,c:v}),m=y?(f[x]||[])[v]:f[g],!(!m||m.v==null||m.t==="z")){switch(p=["cell",g,"t"],m.t){case"s":case"str":p.push(r(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=r(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=r(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var w=Ia(ha(m.v));p[2]="vtc",p[3]="nd",p[4]=""+w,p[5]=m.w||Xu(m.z||ks[14],w);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function A(f){return[o,l,c,l,d(f),u].join(`
`)}return{to_workbook:i,to_sheet:s,from_sheet:A}}(),_ce=function(){function t(A,f,h,p,m){m.raw?f[h][p]=A:A===""||(A==="TRUE"?f[h][p]=!0:A==="FALSE"?f[h][p]=!1:isNaN(bc(A))?isNaN(am(A).getDate())?f[h][p]=A:f[h][p]=ha(A):f[h][p]=bc(A))}function r(A,f){var h=f||{},p=[];if(!A||A.length===0)return p;for(var m=A.split(/[\r\n]/),g=m.length-1;g>=0&&m[g].length===0;)--g;for(var b=10,y=0,x=0;x<=g;++x)y=m[x].indexOf(" "),y==-1?y=m[x].length:y++,b=Math.max(b,y);for(x=0;x<=g;++x){p[x]=[];var v=0;for(t(m[x].slice(0,b).trim(),p,x,v,h),v=1;v<=(m[x].length-b)/10+1;++v)t(m[x].slice(b+(v-1)*10,b+v*10).trim(),p,x,v,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function i(A){for(var f={},h=!1,p=0,m=0;p<A.length;++p)(m=A.charCodeAt(p))==34?h=!h:!h&&m in n&&(f[m]=(f[m]||0)+1);m=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p]);if(!m.length){f=s;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p])}return m.sort(function(g,b){return g[0]-b[0]||s[g[1]]-s[b[1]]}),n[m.pop()[1]]||44}function o(A,f){var h=f||{},p="",m=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};A.slice(0,4)=="sep="?A.charCodeAt(5)==13&&A.charCodeAt(6)==10?(p=A.charAt(4),A=A.slice(7)):A.charCodeAt(5)==13||A.charCodeAt(5)==10?(p=A.charAt(4),A=A.slice(6)):p=i(A.slice(0,1024)):h&&h.FS?p=h.FS:p=i(A.slice(0,1024));var b=0,y=0,x=0,v=0,w=0,_=p.charCodeAt(0),B=!1,N=0,j=A.charCodeAt(0);A=A.replace(/\r\n/mg,`
`);var C=h.dateNF!=null?Voe(h.dateNF):null;function E(){var S=A.slice(v,w),k={};if(S.charAt(0)=='"'&&S.charAt(S.length-1)=='"'&&(S=S.slice(1,-1).replace(/""/g,'"')),S.length===0)k.t="z";else if(h.raw)k.t="s",k.v=S;else if(S.trim().length===0)k.t="s",k.v=S;else if(S.charCodeAt(0)==61)S.charCodeAt(1)==34&&S.charCodeAt(S.length-1)==34?(k.t="s",k.v=S.slice(2,-1).replace(/""/g,'"')):Bue(S)?(k.t="n",k.f=S.slice(1)):(k.t="s",k.v=S);else if(S=="TRUE")k.t="b",k.v=!0;else if(S=="FALSE")k.t="b",k.v=!1;else if(!isNaN(x=bc(S)))k.t="n",h.cellText!==!1&&(k.w=S),k.v=x;else if(!isNaN(am(S).getDate())||C&&S.match(C)){k.z=h.dateNF||ks[14];var P=0;C&&S.match(C)&&(S=zoe(S,h.dateNF,S.match(C)||[]),P=1),h.cellDates?(k.t="d",k.v=ha(S,P)):(k.t="n",k.v=Ia(ha(S,P))),h.cellText!==!1&&(k.w=Xu(k.z,k.v instanceof Date?Ia(k.v):k.v)),h.cellNF||delete k.z}else k.t="s",k.v=S;if(k.t=="z"||(h.dense?(m[b]||(m[b]=[]),m[b][y]=k):m[Tn({c:y,r:b})]=k),v=w+1,j=A.charCodeAt(v),g.e.c<y&&(g.e.c=y),g.e.r<b&&(g.e.r=b),N==_)++y;else if(y=0,++b,h.sheetRows&&h.sheetRows<=b)return!0}e:for(;w<A.length;++w)switch(N=A.charCodeAt(w)){case 34:j===34&&(B=!B);break;case _:case 10:case 13:if(!B&&E())break e;break}return w-v>0&&E(),m["!ref"]=ei(g),m}function l(A,f){return!(f&&f.PRN)||f.FS||A.slice(0,4)=="sep="||A.indexOf("	")>=0||A.indexOf(",")>=0||A.indexOf(";")>=0?o(A,f):Rh(r(A,f),f)}function c(A,f){var h="",p=f.type=="string"?[0,0,0,0]:Mhe(A,f);switch(f.type){case"base64":h=kc(A);break;case"binary":h=A;break;case"buffer":f.codepage==65001?h=A.toString("utf8"):f.codepage&&typeof Od<"u"?h=Od.utils.decode(f.codepage,A):h=yn&&Buffer.isBuffer(A)?A.toString("binary"):Rm(A);break;case"array":h=V1(A);break;case"string":h=A;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=d0(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=d0(h):f.type=="binary"&&typeof Od<"u"&&f.codepage&&(h=Od.utils.decode(f.codepage,Od.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?mU.to_sheet(f.type=="string"?h:d0(h),f):l(h,f)}function u(A,f){return kA(c(A,f),f)}function d(A){for(var f=[],h=is(A["!ref"]),p,m=Array.isArray(A),g=h.s.r;g<=h.e.r;++g){for(var b=[],y=h.s.c;y<=h.e.c;++y){var x=Tn({r:g,c:y});if(p=m?(A[g]||[])[y]:A[x],!p||p.v==null){b.push("          ");continue}for(var v=(p.w||(Tc(p),p.w)||"").slice(0,10);v.length<10;)v+=" ";b.push(v+(y===0?" ":""))}f.push(b.join(""))}return f.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:d}}(),Ok=function(){function t(O,R,U){if(O){za(O,O.l||0);for(var T=U.Enum||V;O.l<O.length;){var z=O.read_shift(2),G=T[z]||T[65535],J=O.read_shift(2),ee=O.l+J,fe=G.f&&G.f(O,J,U);if(O.l=ee,R(fe,G,z))return}}}function r(O,R){switch(R.type){case"base64":return n(Xo(kc(O)),R);case"binary":return n(Xo(O),R);case"buffer":case"array":return n(O,R)}throw"Unsupported type "+R.type}function n(O,R){if(!O)return O;var U=R||{},T=U.dense?[]:{},z="Sheet1",G="",J=0,ee={},fe=[],de=[],ae={s:{r:0,c:0},e:{r:0,c:0}},xe=U.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)U.Enum=V,t(O,function(ve,ke,Ce){switch(Ce){case 0:U.vers=ve,ve>=4096&&(U.qpro=!0);break;case 6:ae=ve;break;case 204:ve&&(G=ve);break;case 222:G=ve;break;case 15:case 51:U.qpro||(ve[1].v=ve[1].v.slice(1));case 13:case 14:case 16:Ce==14&&(ve[2]&112)==112&&(ve[2]&15)>1&&(ve[2]&15)<15&&(ve[1].z=U.dateNF||ks[14],U.cellDates&&(ve[1].t="d",ve[1].v=FD(ve[1].v))),U.qpro&&ve[3]>J&&(T["!ref"]=ei(ae),ee[z]=T,fe.push(z),T=U.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},J=ve[3],z=G||"Sheet"+(J+1),G="");var we=U.dense?(T[ve[0].r]||[])[ve[0].c]:T[Tn(ve[0])];if(we){we.t=ve[1].t,we.v=ve[1].v,ve[1].z!=null&&(we.z=ve[1].z),ve[1].f!=null&&(we.f=ve[1].f);break}U.dense?(T[ve[0].r]||(T[ve[0].r]=[]),T[ve[0].r][ve[0].c]=ve[1]):T[Tn(ve[0])]=ve[1];break}},U);else if(O[2]==26||O[2]==14)U.Enum=I,O[2]==14&&(U.qpro=!0,O.l=0),t(O,function(ve,ke,Ce){switch(Ce){case 204:z=ve;break;case 22:ve[1].v=ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ve[3]>J&&(T["!ref"]=ei(ae),ee[z]=T,fe.push(z),T=U.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},J=ve[3],z="Sheet"+(J+1)),xe>0&&ve[0].r>=xe)break;U.dense?(T[ve[0].r]||(T[ve[0].r]=[]),T[ve[0].r][ve[0].c]=ve[1]):T[Tn(ve[0])]=ve[1],ae.e.c<ve[0].c&&(ae.e.c=ve[0].c),ae.e.r<ve[0].r&&(ae.e.r=ve[0].r);break;case 27:ve[14e3]&&(de[ve[14e3][0]]=ve[14e3][1]);break;case 1537:de[ve[0]]=ve[1],ve[0]==J&&(z=ve[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(T["!ref"]=ei(ae),ee[G||z]=T,fe.push(G||z),!de.length)return{SheetNames:fe,Sheets:ee};for(var X={},ie=[],re=0;re<de.length;++re)ee[fe[re]]?(ie.push(de[re]||fe[re]),X[de[re]]=ee[de[re]]||ee[fe[re]]):(ie.push(de[re]),X[de[re]]={"!ref":"A1"});return{SheetNames:ie,Sheets:X}}function s(O,R){var U=R||{};if(+U.codepage>=0&&sm(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var T=Fa(),z=is(O["!ref"]),G=Array.isArray(O),J=[];Qt(T,0,o(1030)),Qt(T,6,u(z));for(var ee=Math.min(z.e.r,8191),fe=z.s.r;fe<=ee;++fe)for(var de=Di(fe),ae=z.s.c;ae<=z.e.c;++ae){fe===z.s.r&&(J[ae]=ea(ae));var xe=J[ae]+de,X=G?(O[fe]||[])[ae]:O[xe];if(!(!X||X.t=="z"))if(X.t=="n")(X.v|0)==X.v&&X.v>=-32768&&X.v<=32767?Qt(T,13,p(fe,ae,X.v)):Qt(T,14,g(fe,ae,X.v));else{var ie=Tc(X);Qt(T,15,f(fe,ae,ie.slice(0,239)))}}return Qt(T,1),T.end()}function i(O,R){var U=R||{};if(+U.codepage>=0&&sm(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var T=Fa();Qt(T,0,l(O));for(var z=0,G=0;z<O.SheetNames.length;++z)(O.Sheets[O.SheetNames[z]]||{})["!ref"]&&Qt(T,27,Y(O.SheetNames[z],G++));var J=0;for(z=0;z<O.SheetNames.length;++z){var ee=O.Sheets[O.SheetNames[z]];if(!(!ee||!ee["!ref"])){for(var fe=is(ee["!ref"]),de=Array.isArray(ee),ae=[],xe=Math.min(fe.e.r,8191),X=fe.s.r;X<=xe;++X)for(var ie=Di(X),re=fe.s.c;re<=fe.e.c;++re){X===fe.s.r&&(ae[re]=ea(re));var ve=ae[re]+ie,ke=de?(ee[X]||[])[re]:ee[ve];if(!(!ke||ke.t=="z"))if(ke.t=="n")Qt(T,23,E(X,re,J,ke.v));else{var Ce=Tc(ke);Qt(T,22,N(X,re,J,Ce.slice(0,239)))}}++J}}return Qt(T,1),T.end()}function o(O){var R=yt(2);return R.write_shift(2,O),R}function l(O){var R=yt(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var U=0,T=0,z=0,G=0;G<O.SheetNames.length;++G){var J=O.SheetNames[G],ee=O.Sheets[J];if(!(!ee||!ee["!ref"])){++z;var fe=Za(ee["!ref"]);U<fe.e.r&&(U=fe.e.r),T<fe.e.c&&(T=fe.e.c)}}return U>8191&&(U=8191),R.write_shift(2,U),R.write_shift(1,z),R.write_shift(1,T),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function c(O,R,U){var T={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&U.qpro?(T.s.c=O.read_shift(1),O.l++,T.s.r=O.read_shift(2),T.e.c=O.read_shift(1),O.l++,T.e.r=O.read_shift(2),T):(T.s.c=O.read_shift(2),T.s.r=O.read_shift(2),R==12&&U.qpro&&(O.l+=2),T.e.c=O.read_shift(2),T.e.r=O.read_shift(2),R==12&&U.qpro&&(O.l+=2),T.s.c==65535&&(T.s.c=T.e.c=T.s.r=T.e.r=0),T)}function u(O){var R=yt(8);return R.write_shift(2,O.s.c),R.write_shift(2,O.s.r),R.write_shift(2,O.e.c),R.write_shift(2,O.e.r),R}function d(O,R,U){var T=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(T[0].c=O.read_shift(1),T[3]=O.read_shift(1),T[0].r=O.read_shift(2),O.l+=2):(T[2]=O.read_shift(1),T[0].c=O.read_shift(2),T[0].r=O.read_shift(2)),T}function A(O,R,U){var T=O.l+R,z=d(O,R,U);if(z[1].t="s",U.vers==20768){O.l++;var G=O.read_shift(1);return z[1].v=O.read_shift(G,"utf8"),z}return U.qpro&&O.l++,z[1].v=O.read_shift(T-O.l,"cstr"),z}function f(O,R,U){var T=yt(7+U.length);T.write_shift(1,255),T.write_shift(2,R),T.write_shift(2,O),T.write_shift(1,39);for(var z=0;z<T.length;++z){var G=U.charCodeAt(z);T.write_shift(1,G>=128?95:G)}return T.write_shift(1,0),T}function h(O,R,U){var T=d(O,R,U);return T[1].v=O.read_shift(2,"i"),T}function p(O,R,U){var T=yt(7);return T.write_shift(1,255),T.write_shift(2,R),T.write_shift(2,O),T.write_shift(2,U,"i"),T}function m(O,R,U){var T=d(O,R,U);return T[1].v=O.read_shift(8,"f"),T}function g(O,R,U){var T=yt(13);return T.write_shift(1,255),T.write_shift(2,R),T.write_shift(2,O),T.write_shift(8,U,"f"),T}function b(O,R,U){var T=O.l+R,z=d(O,R,U);if(z[1].v=O.read_shift(8,"f"),U.qpro)O.l=T;else{var G=O.read_shift(2);w(O.slice(O.l,O.l+G),z),O.l+=G}return z}function y(O,R,U){var T=R&32768;return R&=-32769,R=(T?O:0)+(R>=8192?R-16384:R),(T?"":"$")+(U?ea(R):Di(R))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},v=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(O,R){za(O,0);for(var U=[],T=0,z="",G="",J="",ee="";O.l<O.length;){var fe=O[O.l++];switch(fe){case 0:U.push(O.read_shift(8,"f"));break;case 1:G=y(R[0].c,O.read_shift(2),!0),z=y(R[0].r,O.read_shift(2),!1),U.push(G+z);break;case 2:{var de=y(R[0].c,O.read_shift(2),!0),ae=y(R[0].r,O.read_shift(2),!1);G=y(R[0].c,O.read_shift(2),!0),z=y(R[0].r,O.read_shift(2),!1),U.push(de+ae+":"+G+z)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(O.read_shift(2));break;case 6:{for(var xe="";fe=O[O.l++];)xe+=String.fromCharCode(fe);U.push('"'+xe.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:ee=U.pop(),J=U.pop(),U.push(["AND","OR"][fe-20]+"("+J+","+ee+")");break;default:if(fe<32&&v[fe])ee=U.pop(),J=U.pop(),U.push(J+v[fe]+ee);else if(x[fe]){if(T=x[fe][1],T==69&&(T=O[O.l++]),T>U.length){console.error("WK1 bad formula parse 0x"+fe.toString(16)+":|"+U.join("|")+"|");return}var X=U.slice(-T);U.length-=T,U.push(x[fe][0]+"("+X.join(",")+")")}else return fe<=7?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=24?console.error("WK1 unsupported op "+fe.toString(16)):fe<=30?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=115?console.error("WK1 unsupported function opcode "+fe.toString(16)):console.error("WK1 unrecognized opcode "+fe.toString(16))}}U.length==1?R[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function _(O){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=O.read_shift(2),R[3]=O[O.l++],R[0].c=O[O.l++],R}function B(O,R){var U=_(O);return U[1].t="s",U[1].v=O.read_shift(R-4,"cstr"),U}function N(O,R,U,T){var z=yt(6+T.length);z.write_shift(2,O),z.write_shift(1,U),z.write_shift(1,R),z.write_shift(1,39);for(var G=0;G<T.length;++G){var J=T.charCodeAt(G);z.write_shift(1,J>=128?95:J)}return z.write_shift(1,0),z}function j(O,R){var U=_(O);U[1].v=O.read_shift(2);var T=U[1].v>>1;if(U[1].v&1)switch(T&7){case 0:T=(T>>3)*5e3;break;case 1:T=(T>>3)*500;break;case 2:T=(T>>3)/20;break;case 3:T=(T>>3)/200;break;case 4:T=(T>>3)/2e3;break;case 5:T=(T>>3)/2e4;break;case 6:T=(T>>3)/16;break;case 7:T=(T>>3)/64;break}return U[1].v=T,U}function C(O,R){var U=_(O),T=O.read_shift(4),z=O.read_shift(4),G=O.read_shift(2);if(G==65535)return T===0&&z===3221225472?(U[1].t="e",U[1].v=15):T===0&&z===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var J=G&32768;return G=(G&32767)-16446,U[1].v=(1-J*2)*(z*Math.pow(2,G+32)+T*Math.pow(2,G)),U}function E(O,R,U,T){var z=yt(14);if(z.write_shift(2,O),z.write_shift(1,U),z.write_shift(1,R),T==0)return z.write_shift(4,0),z.write_shift(4,0),z.write_shift(2,65535),z;var G=0,J=0,ee=0,fe=0;return T<0&&(G=1,T=-T),J=Math.log2(T)|0,T/=Math.pow(2,J-31),fe=T>>>0,fe&2147483648||(T/=2,++J,fe=T>>>0),T-=fe,fe|=2147483648,fe>>>=0,T*=Math.pow(2,32),ee=T>>>0,z.write_shift(4,ee),z.write_shift(4,fe),J+=16383+(G?32768:0),z.write_shift(2,J),z}function S(O,R){var U=C(O);return O.l+=R-14,U}function k(O,R){var U=_(O),T=O.read_shift(4);return U[1].v=T>>6,U}function P(O,R){var U=_(O),T=O.read_shift(8,"f");return U[1].v=T,U}function M(O,R){var U=P(O);return O.l+=R-10,U}function H(O,R){return O[O.l+R-1]==0?O.read_shift(R,"cstr"):""}function F(O,R){var U=O[O.l++];U>R-1&&(U=R-1);for(var T="";T.length<U;)T+=String.fromCharCode(O[O.l++]);return T}function Q(O,R,U){if(!(!U.qpro||R<21)){var T=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var z=O.read_shift(R-21,"cstr");return[T,z]}}function K(O,R){for(var U={},T=O.l+R;O.l<T;){var z=O.read_shift(2);if(z==14e3){for(U[z]=[0,""],U[z][0]=O.read_shift(2);O[O.l];)U[z][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return U}function Y(O,R){var U=yt(5+O.length);U.write_shift(2,14e3),U.write_shift(2,R);for(var T=0;T<O.length;++T){var z=O.charCodeAt(T);U[U.l++]=z>127?95:z}return U[U.l++]=0,U}var V={0:{n:"BOF",f:dU},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:A},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:A},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:F},65535:{n:""}},I={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:B},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:j},25:{n:"FORMULA19",f:S},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:K},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:P},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:i,to_workbook:r}}(),Ece=/^\s|\s$|[\t\n\r]/;function gU(t,r){if(!r.bookSST)return"";var n=[ti];n[n.length]=Mt("sst",null,{xmlns:Uh[0],count:t.Count,uniqueCount:t.Unique});for(var s=0;s!=t.length;++s)if(t[s]!=null){var i=t[s],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(Ece)&&(o+=' xml:space="preserve"'),o+=">"+En(i.t)+"</t>"),o+="</si>",n[n.length]=o}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function kce(t){return[t.read_shift(4),t.read_shift(4)]}function Tce(t,r){return r||(r=yt(8)),r.write_shift(4,t.Count),r.write_shift(4,t.Unique),r}var Oce=wle;function Fce(t){var r=Fa();kt(r,159,Tce(t));for(var n=0;n<t.length;++n)kt(r,19,Oce(t[n]));return kt(r,160),r.end()}function Ice(t){for(var r=[],n=t.split(""),s=0;s<n.length;++s)r[s]=n[s].charCodeAt(0);return r}function yU(t){var r=0,n,s=Ice(t),i=s.length+1,o,l,c,u,d;for(n=bA(i),n[0]=s.length,o=1;o!=i;++o)n[o]=s[o-1];for(o=i-1;o>=0;--o)l=n[o],c=r&16384?1:0,u=r<<1&32767,d=c|u,r=d^l;return r^52811}var Pce=function(){function t(i,o){switch(o.type){case"base64":return r(kc(i),o);case"binary":return r(i,o);case"buffer":return r(yn&&Buffer.isBuffer(i)?i.toString("binary"):Rm(i),o);case"array":return r(V1(i),o)}throw new Error("Unrecognized type "+o.type)}function r(i,o){var l=o||{},c=l.dense?[]:{},u=i.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(A,f){Array.isArray(c)&&(c[f]=[]);for(var h=/\\\w+\b/g,p=0,m,g=-1;m=h.exec(A);){switch(m[0]){case"\\cell":var b=A.slice(p,h.lastIndex-m[0].length);if(b[0]==" "&&(b=b.slice(1)),++g,b.length){var y={v:b,t:"s"};Array.isArray(c)?c[f][g]=y:c[Tn({r:f,c:g})]=y}break}p=h.lastIndex}g>d.e.c&&(d.e.c=g)}),c["!ref"]=ei(d),c}function n(i,o){return kA(t(i,o),o)}function s(i){for(var o=["{\\rtf1\\ansi"],l=is(i["!ref"]),c,u=Array.isArray(i),d=l.s.r;d<=l.e.r;++d){o.push("\\trowd\\trautofit1");for(var A=l.s.c;A<=l.e.c;++A)o.push("\\cellx"+(A+1));for(o.push("\\pard\\intbl"),A=l.s.c;A<=l.e.c;++A){var f=Tn({r:d,c:A});c=u?(i[d]||[])[A]:i[f],!(!c||c.v==null&&(!c.f||c.F))&&(o.push(" "+(c.w||(Tc(c),c.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:s}}();function Fk(t){for(var r=0,n=1;r!=3;++r)n=n*256+(t[r]>255?255:t[r]<0?0:t[r]);return n.toString(16).toUpperCase().slice(1)}var Lce=6,wc=Lce;function Iv(t){return Math.floor((t+Math.round(128/wc)/256)*wc)}function Pv(t){return Math.floor((t-5)/wc*100+.5)/100}function Q4(t){return Math.round((t*wc+5)/wc*256)/256}function BS(t){t.width?(t.wpx=Iv(t.width),t.wch=Pv(t.wpx),t.MDW=wc):t.wpx?(t.wch=Pv(t.wpx),t.width=Q4(t.wch),t.MDW=wc):typeof t.wch=="number"&&(t.width=Q4(t.wch),t.wpx=Iv(t.width),t.MDW=wc),t.customWidth&&delete t.customWidth}var Dce=96,xU=Dce;function Lv(t){return t*96/xU}function vU(t){return t*xU/96}function Uce(t){var r=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&(r[r.length]=Mt("numFmt",null,{numFmtId:s,formatCode:En(t[s])}))}),r.length===1?"":(r[r.length]="</numFmts>",r[0]=Mt("numFmts",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function Rce(t){var r=[];return r[r.length]=Mt("cellXfs",null),t.forEach(function(n){r[r.length]=Mt("xf",null,n)}),r[r.length]="</cellXfs>",r.length===2?"":(r[0]=Mt("cellXfs",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function bU(t,r){var n=[ti,Mt("styleSheet",null,{xmlns:Uh[0],"xmlns:vt":xi.vt})],s;return t.SSF&&(s=Uce(t.SSF))!=null&&(n[n.length]=s),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=Rce(r.cellXfs))&&(n[n.length]=s),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Mce(t,r){var n=t.read_shift(2),s=ta(t);return[n,s]}function Qce(t,r,n){n||(n=yt(6+4*r.length)),n.write_shift(2,t),bi(r,n);var s=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),s}function $ce(t,r,n){var s={};s.sz=t.read_shift(2)/20;var i=Ele(t);i.fItalic&&(s.italic=1),i.fCondense&&(s.condense=1),i.fExtend&&(s.extend=1),i.fShadow&&(s.shadow=1),i.fOutline&&(s.outline=1),i.fStrikeout&&(s.strike=1);var o=t.read_shift(2);switch(o===700&&(s.bold=1),t.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(s.underline=l);var c=t.read_shift(1);c>0&&(s.family=c);var u=t.read_shift(1);switch(u>0&&(s.charset=u),t.l++,s.color=_le(t),t.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=ta(t),s}function Hce(t,r){r||(r=yt(25+4*32)),r.write_shift(2,t.sz*20),kle(t,r),r.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),r.write_shift(2,n),r.write_shift(1,t.underline||0),r.write_shift(1,t.family||0),r.write_shift(1,t.charset||0),r.write_shift(1,0),Ov(t.color,r);var s=0;return t.scheme=="major"&&(s=1),t.scheme=="minor"&&(s=2),r.write_shift(1,s),bi(t.name,r),r.length>r.l?r.slice(0,r.l):r}var Vce=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],r2,zce=Kl;function Ik(t,r){r||(r=yt(4*3+8*7+16*1)),r2||(r2=hS(Vce));var n=r2[t.patternType];n==null&&(n=40),r.write_shift(4,n);var s=0;if(n!=40)for(Ov({auto:1},r),Ov({auto:1},r);s<12;++s)r.write_shift(4,0);else{for(;s<4;++s)r.write_shift(4,0);for(;s<12;++s)r.write_shift(4,0)}return r.length>r.l?r.slice(0,r.l):r}function Kce(t,r){var n=t.l+r,s=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:s,numFmtId:i}}function wU(t,r,n){n||(n=yt(16)),n.write_shift(2,r||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var s=0;return n.write_shift(1,s),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Sp(t,r){return r||(r=yt(10)),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(4,0),r}var Gce=Kl;function Wce(t,r){return r||(r=yt(51)),r.write_shift(1,0),Sp(null,r),Sp(null,r),Sp(null,r),Sp(null,r),Sp(null,r),r.length>r.l?r.slice(0,r.l):r}function qce(t,r){return r||(r=yt(12+4*10)),r.write_shift(4,t.xfId),r.write_shift(2,1),r.write_shift(1,+t.builtinId),r.write_shift(1,0),Tv(t.name||"",r),r.length>r.l?r.slice(0,r.l):r}function Yce(t,r,n){var s=yt(2052);return s.write_shift(4,t),Tv(r,s),Tv(n,s),s.length>s.l?s.slice(0,s.l):s}function Xce(t,r){if(r){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var i=s[0];i<=s[1];++i)r[i]!=null&&++n}),n!=0&&(kt(t,615,nl(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var i=s[0];i<=s[1];++i)r[i]!=null&&kt(t,44,Qce(i,r[i]))}),kt(t,616))}}function Jce(t){var r=1;kt(t,611,nl(r)),kt(t,43,Hce({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),kt(t,612)}function Zce(t){var r=2;kt(t,603,nl(r)),kt(t,45,Ik({patternType:"none"})),kt(t,45,Ik({patternType:"gray125"})),kt(t,604)}function eue(t){var r=1;kt(t,613,nl(r)),kt(t,46,Wce()),kt(t,614)}function tue(t){var r=1;kt(t,626,nl(r)),kt(t,47,wU({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),kt(t,627)}function rue(t,r){kt(t,617,nl(r.length)),r.forEach(function(n){kt(t,47,wU(n,0))}),kt(t,618)}function nue(t){var r=1;kt(t,619,nl(r)),kt(t,48,qce({xfId:0,builtinId:0,name:"Normal"})),kt(t,620)}function sue(t){var r=0;kt(t,505,nl(r)),kt(t,506)}function iue(t){var r=0;kt(t,508,Yce(r,"TableStyleMedium9","PivotStyleMedium4")),kt(t,509)}function aue(t,r){var n=Fa();return kt(n,278),Xce(n,t.SSF),Jce(n),Zce(n),eue(n),tue(n),rue(n,r.cellXfs),nue(n),sue(n),iue(n),kt(n,279),n.end()}function jU(t,r){if(r&&r.themeXLSX)return r.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[ti];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function oue(t,r){return{flags:t.read_shift(4),version:t.read_shift(4),name:ta(t)}}function lue(t){var r=yt(12+2*t.name.length);return r.write_shift(4,t.flags),r.write_shift(4,t.version),bi(t.name,r),r.slice(0,r.l)}function cue(t){for(var r=[],n=t.read_shift(4);n-- >0;)r.push([t.read_shift(4),t.read_shift(4)]);return r}function uue(t){var r=yt(4+8*t.length);r.write_shift(4,t.length);for(var n=0;n<t.length;++n)r.write_shift(4,t[n][0]),r.write_shift(4,t[n][1]);return r}function due(t,r){var n=yt(8+2*r.length);return n.write_shift(4,t),bi(r,n),n.slice(0,n.l)}function Aue(t){return t.l+=4,t.read_shift(4)!=0}function fue(t,r){var n=yt(8);return n.write_shift(4,t),n.write_shift(4,1),n}function hue(){var t=Fa();return kt(t,332),kt(t,334,nl(1)),kt(t,335,lue({name:"XLDAPR",version:12e4,flags:3496657072})),kt(t,336),kt(t,339,due(1,"XLDAPR")),kt(t,52),kt(t,35,nl(514)),kt(t,4096,nl(0)),kt(t,4097,mo(1)),kt(t,36),kt(t,53),kt(t,340),kt(t,337,fue(1)),kt(t,51,uue([[1,0]])),kt(t,338),kt(t,333),t.end()}function NU(){var t=[ti];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function pue(t){var r={};r.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),r.r=Tn(n);var s=t.read_shift(1);return s&2&&(r.l="1"),s&8&&(r.a="1"),r}var Pf=1024;function SU(t,r){for(var n=[21600,21600],s=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Mt("xml",null,{"xmlns:v":Ka.v,"xmlns:o":Ka.o,"xmlns:x":Ka.x,"xmlns:mv":Ka.mv}).replace(/\/>/,">"),Mt("o:shapelayout",Mt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Mt("v:shapetype",[Mt("v:stroke",null,{joinstyle:"miter"}),Mt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:s})];Pf<t*1e3;)Pf+=1e3;return r.forEach(function(o){var l=vi(o[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var u=c.type=="gradient"?Mt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Mt("v:fill",u,c),A={on:"t",obscured:"t"};++Pf,i=i.concat(["<v:shape"+lm({id:"_x0000_s"+Pf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Mt("v:shadow",null,A),Mt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Oi("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),Oi("x:AutoFill","False"),Oi("x:Row",String(l.r)),Oi("x:Column",String(l.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function BU(t){var r=[ti,Mt("comments",null,{xmlns:Uh[0]})],n=[];return r.push("<authors>"),t.forEach(function(s){s[1].forEach(function(i){var o=En(i.a);n.indexOf(o)==-1&&(n.push(o),r.push("<author>"+o+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),r.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),r.push("<author>SheetJ5</author>")),r.push("</authors>"),r.push("<commentList>"),t.forEach(function(s){var i=0,o=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?i=n.indexOf("tc="+s[1][0].ID):s[1].forEach(function(u){u.a&&(i=n.indexOf(En(u.a))),o.push(u.t||"")}),r.push('<comment ref="'+s[0]+'" authorId="'+i+'"><text>'),o.length<=1)r.push(Oi("t",En(o[0]||"")));else{for(var l=`Comment:
    `+o[0]+`
`,c=1;c<o.length;++c)l+=`Reply:
    `+o[c]+`
`;r.push(Oi("t",En(l)))}r.push("</text></comment>")}),r.push("</commentList>"),r.length>2&&(r[r.length]="</comments>",r[1]=r[1].replace("/>",">")),r.join("")}function mue(t,r,n){var s=[ti,Mt("ThreadedComments",null,{xmlns:xi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var o="";(i[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&r.indexOf(l.a)==-1&&r.push(l.a);var u={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};c==0?o=u.id:u.parentId=o,l.ID=u.id,l.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+r.indexOf(l.a)).slice(-12)+"}"),s.push(Mt("threadedComment",Oi("text",l.t||""),u))})}),s.push("</ThreadedComments>"),s.join("")}function gue(t){var r=[ti,Mt("personList",null,{xmlns:xi.TCMNT,"xmlns:x":Uh[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,s){r.push(Mt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:n,providerId:"None"}))}),r.push("</personList>"),r.join("")}function yue(t){var r={};r.iauthor=t.read_shift(4);var n=IA(t);return r.rfx=n.s,r.ref=Tn(n.s),t.l+=16,r}function xue(t,r){return r==null&&(r=yt(36)),r.write_shift(4,t[1].iauthor),Mh(t[0],r),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r}var vue=ta;function bue(t){return bi(t.slice(0,54))}function wue(t){var r=Fa(),n=[];return kt(r,628),kt(r,630),t.forEach(function(s){s[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),kt(r,632,bue(i.a)))})}),kt(r,631),kt(r,633),t.forEach(function(s){s[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var o={s:vi(s[0]),e:vi(s[0])};kt(r,635,xue([o,i])),i.t&&i.t.length>0&&kt(r,637,Nle(i)),kt(r,636),delete i.iauthor})}),kt(r,634),kt(r,629),r.end()}function jue(t,r){r.FullPaths.forEach(function(n,s){if(s!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Rn.utils.cfb_add(t,i,r.FileIndex[s].content)}})}var CU=["xlsb","xlsm","xlam","biff8","xla"],Nue=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function n(s,i,o,l){var c=!1,u=!1;o.length==0?u=!0:o.charAt(0)=="["&&(u=!0,o=o.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var d=o.length>0?parseInt(o,10)|0:0,A=l.length>0?parseInt(l,10)|0:0;return c?A+=r.c:--A,u?d+=r.r:--d,i+(c?"":"$")+ea(A)+(u?"":"$")+Di(d)}return function(i,o){return r=o,i.replace(t,n)}}(),CS=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,_S=function(){return function(r,n){return r.replace(CS,function(s,i,o,l,c,u){var d=bS(l)-(o?0:n.c),A=vS(u)-(c?0:n.r),f=A==0?"":c?A+1:"["+A+"]",h=d==0?"":o?d+1:"["+d+"]";return i+"R"+f+"C"+h})}}();function Sue(t,r){return t.replace(CS,function(n,s,i,o,l,c){return s+(i=="$"?i+o:ea(bS(o)+r.c))+(l=="$"?l+c:Di(vS(c)+r.r))})}function Bue(t){return t.length!=1}function qs(t){t.l+=1}function Ju(t,r){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function _U(t,r,n){var s=2;if(n){if(n.biff>=2&&n.biff<=5)return EU(t);n.biff==12&&(s=4)}var i=t.read_shift(s),o=t.read_shift(s),l=Ju(t),c=Ju(t);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:o,c:c[0],cRel:c[1],rRel:c[2]}}}function EU(t){var r=Ju(t),n=Ju(t),s=t.read_shift(1),i=t.read_shift(1);return{s:{r:r[0],c:s,cRel:r[1],rRel:r[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function Cue(t,r,n){if(n.biff<8)return EU(t);var s=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),o=Ju(t),l=Ju(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function kU(t,r,n){if(n&&n.biff>=2&&n.biff<=5)return _ue(t);var s=t.read_shift(n&&n.biff==12?4:2),i=Ju(t);return{r:s,c:i[0],cRel:i[1],rRel:i[2]}}function _ue(t){var r=Ju(t),n=t.read_shift(1);return{r:r[0],c:n,cRel:r[1],rRel:r[2]}}function Eue(t){var r=t.read_shift(2),n=t.read_shift(2);return{r,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function kue(t,r,n){var s=n&&n.biff?n.biff:8;if(s>=2&&s<=5)return Tue(t);var i=t.read_shift(s>=12?4:2),o=t.read_shift(2),l=(o&16384)>>14,c=(o&32768)>>15;if(o&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;o>8191;)o=o-16384;return{r:i,c:o,cRel:l,rRel:c}}function Tue(t){var r=t.read_shift(2),n=t.read_shift(1),s=(r&32768)>>15,i=(r&16384)>>14;return r&=16383,s==1&&r>=8192&&(r=r-16384),i==1&&n>=128&&(n=n-256),{r,c:n,cRel:i,rRel:s}}function Oue(t,r,n){var s=(t[t.l++]&96)>>5,i=_U(t,n.biff>=2&&n.biff<=5?6:8,n);return[s,i]}function Fue(t,r,n){var s=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var l=_U(t,o,n);return[s,i,l]}function Iue(t,r,n){var s=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[s]}function Pue(t,r,n){var s=(t[t.l++]&96)>>5,i=t.read_shift(2),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[s,i]}function Lue(t,r,n){var s=(t[t.l++]&96)>>5,i=Cue(t,r-1,n);return[s,i]}function Due(t,r,n){var s=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[s]}function Pk(t){var r=t[t.l+1]&1,n=1;return t.l+=4,[r,n]}function Uue(t,r,n){t.l+=2;for(var s=t.read_shift(n&&n.biff==2?1:2),i=[],o=0;o<=s;++o)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function Rue(t,r,n){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(n&&n.biff==2?1:2)]}function Mue(t,r,n){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(n&&n.biff==2?1:2)]}function Que(t){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(2)]}function $ue(t,r,n){var s=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[s]}function TU(t){var r=t.read_shift(1),n=t.read_shift(1);return[r,n]}function Hue(t){return t.read_shift(2),TU(t)}function Vue(t){return t.read_shift(2),TU(t)}function zue(t,r,n){var s=(t[t.l]&96)>>5;t.l+=1;var i=kU(t,0,n);return[s,i]}function Kue(t,r,n){var s=(t[t.l]&96)>>5;t.l+=1;var i=kue(t,0,n);return[s,i]}function Gue(t,r,n){var s=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var o=kU(t,0,n);return[s,i,o]}function Wue(t,r,n){var s=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[Wde[i],IU[i],s]}function que(t,r,n){var s=t[t.l++],i=t.read_shift(1),o=n&&n.biff<=3?[s==88?-1:0,t.read_shift(1)]:Yue(t);return[i,(o[0]===0?IU:Gde)[o[1]]]}function Yue(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Xue(t,r,n){t.l+=n&&n.biff==2?3:4}function Jue(t,r,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var s=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[s,i]}function Zue(t){return t.l++,$m[t.read_shift(1)]}function ede(t){return t.l++,t.read_shift(2)}function tde(t){return t.l++,t.read_shift(1)!==0}function rde(t){return t.l++,Qh(t)}function nde(t,r,n){return t.l++,fU(t,r-1,n)}function sde(t,r){var n=[t.read_shift(1)];if(r==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Gle(t,1)?"TRUE":"FALSE",r!=12&&(t.l+=7);break;case 37:case 16:n[1]=$m[t[t.l]],t.l+=r==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Qh(t);break;case 2:n[1]=Xle(t,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function ide(t,r,n){for(var s=t.read_shift(n.biff==12?4:2),i=[],o=0;o!=s;++o)i.push((n.biff==12?IA:ece)(t));return i}function ade(t,r,n){var s=0,i=0;n.biff==12?(s=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),s=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--s,--i==0&&(i=256));for(var o=0,l=[];o!=s&&(l[o]=[]);++o)for(var c=0;c!=i;++c)l[o][c]=sde(t,n.biff);return l}function ode(t,r,n){var s=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,o=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[s,0,o]}function lde(t,r,n){if(n.biff==5)return cde(t);var s=t.read_shift(1)>>>5&3,i=t.read_shift(2),o=t.read_shift(4);return[s,i,o]}function cde(t){var r=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var s=t.read_shift(2);return t.l+=12,[r,n,s]}function ude(t,r,n){var s=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[s,i]}function dde(t,r,n){var s=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[s,i]}function Ade(t,r,n){var s=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[s]}function fde(t,r,n){var s=(t[t.l++]&96)>>5,i=t.read_shift(2),o=4;if(n)switch(n.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[s,i]}var hde=Kl,pde=Kl,mde=Kl;function Hm(t,r,n){return t.l+=2,[Eue(t)]}function ES(t){return t.l+=6,[]}var gde=Hm,yde=ES,xde=ES,vde=Hm;function OU(t){return t.l+=2,[dU(t),t.read_shift(2)&1]}var bde=Hm,wde=OU,jde=ES,Nde=Hm,Sde=Hm,Bde=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Cde(t){t.l+=2;var r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(4),i=t.read_shift(2),o=t.read_shift(2),l=Bde[n>>2&31];return{ixti:r,coltype:n&3,rt:l,idx:s,c:i,C:o}}function _de(t){return t.l+=2,[t.read_shift(4)]}function Ede(t,r,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function kde(t,r,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function Tde(t){var r=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[r,n]}function Ode(t){var r=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[r,n]}function Fde(t){return t.l+=4,[0,0]}var Lk={1:{n:"PtgExp",f:Jue},2:{n:"PtgTbl",f:mde},3:{n:"PtgAdd",f:qs},4:{n:"PtgSub",f:qs},5:{n:"PtgMul",f:qs},6:{n:"PtgDiv",f:qs},7:{n:"PtgPower",f:qs},8:{n:"PtgConcat",f:qs},9:{n:"PtgLt",f:qs},10:{n:"PtgLe",f:qs},11:{n:"PtgEq",f:qs},12:{n:"PtgGe",f:qs},13:{n:"PtgGt",f:qs},14:{n:"PtgNe",f:qs},15:{n:"PtgIsect",f:qs},16:{n:"PtgUnion",f:qs},17:{n:"PtgRange",f:qs},18:{n:"PtgUplus",f:qs},19:{n:"PtgUminus",f:qs},20:{n:"PtgPercent",f:qs},21:{n:"PtgParen",f:qs},22:{n:"PtgMissArg",f:qs},23:{n:"PtgStr",f:nde},26:{n:"PtgSheet",f:Ede},27:{n:"PtgEndSheet",f:kde},28:{n:"PtgErr",f:Zue},29:{n:"PtgBool",f:tde},30:{n:"PtgInt",f:ede},31:{n:"PtgNum",f:rde},32:{n:"PtgArray",f:Due},33:{n:"PtgFunc",f:Wue},34:{n:"PtgFuncVar",f:que},35:{n:"PtgName",f:ode},36:{n:"PtgRef",f:zue},37:{n:"PtgArea",f:Oue},38:{n:"PtgMemArea",f:ude},39:{n:"PtgMemErr",f:hde},40:{n:"PtgMemNoMem",f:pde},41:{n:"PtgMemFunc",f:dde},42:{n:"PtgRefErr",f:Ade},43:{n:"PtgAreaErr",f:Iue},44:{n:"PtgRefN",f:Kue},45:{n:"PtgAreaN",f:Lue},46:{n:"PtgMemAreaN",f:Tde},47:{n:"PtgMemNoMemN",f:Ode},57:{n:"PtgNameX",f:lde},58:{n:"PtgRef3d",f:Gue},59:{n:"PtgArea3d",f:Fue},60:{n:"PtgRefErr3d",f:fde},61:{n:"PtgAreaErr3d",f:Pue},255:{}},Ide={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Pde={1:{n:"PtgElfLel",f:OU},2:{n:"PtgElfRw",f:Nde},3:{n:"PtgElfCol",f:gde},6:{n:"PtgElfRwV",f:Sde},7:{n:"PtgElfColV",f:vde},10:{n:"PtgElfRadical",f:bde},11:{n:"PtgElfRadicalS",f:jde},13:{n:"PtgElfColS",f:yde},15:{n:"PtgElfColSV",f:xde},16:{n:"PtgElfRadicalLel",f:wde},25:{n:"PtgList",f:Cde},29:{n:"PtgSxName",f:_de},255:{}},Lde={0:{n:"PtgAttrNoop",f:Fde},1:{n:"PtgAttrSemi",f:$ue},2:{n:"PtgAttrIf",f:Mue},4:{n:"PtgAttrChoose",f:Uue},8:{n:"PtgAttrGoto",f:Rue},16:{n:"PtgAttrSum",f:Xue},32:{n:"PtgAttrBaxcel",f:Pk},33:{n:"PtgAttrBaxcel",f:Pk},64:{n:"PtgAttrSpace",f:Hue},65:{n:"PtgAttrSpaceSemi",f:Vue},128:{n:"PtgAttrIfError",f:Que},255:{}};function Dde(t,r,n,s){if(s.biff<8)return Kl(t,r);for(var i=t.l+r,o=[],l=0;l!==n.length;++l)switch(n[l][0]){case"PtgArray":n[l][1]=ade(t,0,s),o.push(n[l][1]);break;case"PtgMemArea":n[l][2]=ide(t,n[l][1],s),o.push(n[l][2]);break;case"PtgExp":s&&s.biff==12&&(n[l][1][1]=t.read_shift(4),o.push(n[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[l][0]}return r=i-t.l,r!==0&&o.push(Kl(t,r)),o}function Ude(t,r,n){for(var s=t.l+r,i,o,l=[];s!=t.l;)r=s-t.l,o=t[t.l],i=Lk[o]||Lk[Ide[o]],(o===24||o===25)&&(i=(o===24?Pde:Lde)[t[t.l+1]]),!i||!i.f?Kl(t,r):l.push([i.n,i.f(t,r,n)]);return l}function Rde(t){for(var r=[],n=0;n<t.length;++n){for(var s=t[n],i=[],o=0;o<s.length;++o){var l=s[o];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}r.push(i.join(","))}return r.join(";")}var Mde={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Qde(t,r){if(!t&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function FU(t,r,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[r]))return t.SheetNames[r];if(!t.XTI)return"SH33TJSERR6";var s=t.XTI[r];if(n.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":t.XTI[r-1];if(!s)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[s[0]][0]){case 357:return i=s[1]==-1?"#REF":t.SheetNames[s[1]],s[1]==s[2]?i:i+":"+t.SheetNames[s[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[s[0]][0];case 355:default:return"SH33TJSSRC"+t[s[0]][0]}switch(t[s[0]][0][0]){case 1025:return i=s[1]==-1?"#REF":t.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?i:i+":"+t.SheetNames[s[2]];case 14849:return t[s[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[s[0]][0][3]?(i=s[1]==-1?"#REF":t[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?i:i+":"+t[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function Dk(t,r,n){var s=FU(t,r,n);return s=="#REF"?s:Qde(s,n)}function jh(t,r,n,s,i){var o=i&&i.biff||8,l={s:{c:0,r:0},e:{c:0,r:0}},c=[],u,d,A,f=0,h=0,p,m="";if(!t[0]||!t[0][0])return"";for(var g=-1,b="",y=0,x=t[0].length;y<x;++y){var v=t[0][y];switch(v[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),d=c.pop(),g>=0){switch(t[0][g][1][0]){case 0:b=Cs(" ",t[0][g][1][1]);break;case 1:b=Cs("\r",t[0][g][1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}d=d+b,g=-1}c.push(d+Mde[v[0]]+u);break;case"PtgIsect":u=c.pop(),d=c.pop(),c.push(d+" "+u);break;case"PtgUnion":u=c.pop(),d=c.pop(),c.push(d+","+u);break;case"PtgRange":u=c.pop(),d=c.pop(),c.push(d+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":A=f0(v[1][1],l,i),c.push(h0(A,o));break;case"PtgRefN":A=n?f0(v[1][1],n,i):v[1][1],c.push(h0(A,o));break;case"PtgRef3d":f=v[1][1],A=f0(v[1][2],l,i),m=Dk(s,f,i),c.push(m+"!"+h0(A,o));break;case"PtgFunc":case"PtgFuncVar":var w=v[1][0],_=v[1][1];w||(w=0),w&=127;var B=w==0?[]:c.slice(-w);c.length-=w,_==="User"&&(_=B.shift()),c.push(_+"("+B.join(",")+")");break;case"PtgBool":c.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(v[1]);break;case"PtgNum":c.push(String(v[1]));break;case"PtgStr":c.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(v[1]);break;case"PtgAreaN":p=bk(v[1][1],n?{s:n}:l,i),c.push(e2(p,i));break;case"PtgArea":p=bk(v[1][1],l,i),c.push(e2(p,i));break;case"PtgArea3d":f=v[1][1],p=v[1][2],m=Dk(s,f,i),c.push(m+"!"+e2(p,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=v[1][2];var N=(s.names||[])[h-1]||(s[0]||[])[h],j=N?N.Name:"SH33TJSNAME"+String(h);j&&j.slice(0,6)=="_xlfn."&&!i.xlfn&&(j=j.slice(6)),c.push(j);break;case"PtgNameX":var C=v[1][1];h=v[1][2];var E;if(i.biff<=5)C<0&&(C=-C),s[C]&&(E=s[C][h]);else{var S="";if(((s[C]||[])[0]||[])[0]==14849||(((s[C]||[])[0]||[])[0]==1025?s[C][h]&&s[C][h].itab>0&&(S=s.SheetNames[s[C][h].itab-1]+"!"):S=s.SheetNames[h-1]+"!"),s[C]&&s[C][h])S+=s[C][h].Name;else if(s[0]&&s[0][h])S+=s[0][h].Name;else{var k=(FU(s,C,i)||"").split(";;");k[h-1]?S=k[h-1]:S+="SH33TJSERRX"}c.push(S);break}E||(E={Name:"SH33TJSERRY"}),c.push(E.Name);break;case"PtgParen":var P="(",M=")";if(g>=0){switch(b="",t[0][g][1][0]){case 2:P=Cs(" ",t[0][g][1][1])+P;break;case 3:P=Cs("\r",t[0][g][1][1])+P;break;case 4:M=Cs(" ",t[0][g][1][1])+M;break;case 5:M=Cs("\r",t[0][g][1][1])+M;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}c.push(P+c.pop()+M);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":A={c:v[1][1],r:v[1][0]};var H={c:n.c,r:n.r};if(s.sharedf[Tn(A)]){var F=s.sharedf[Tn(A)];c.push(jh(F,l,H,s,i))}else{var Q=!1;for(u=0;u!=s.arrayf.length;++u)if(d=s.arrayf[u],!(A.c<d[0].s.c||A.c>d[0].e.c)&&!(A.r<d[0].s.r||A.r>d[0].e.r)){c.push(jh(d[1],l,H,s,i)),Q=!0;break}Q||c.push(v[1])}break;case"PtgArray":c.push("{"+Rde(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var K=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&K.indexOf(t[0][y][0])==-1){v=t[0][g];var Y=!0;switch(v[1][0]){case 4:Y=!1;case 0:b=Cs(" ",v[1][1]);break;case 5:Y=!1;case 1:b=Cs("\r",v[1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}c.push((Y?b:"")+c.pop()+(Y?"":b)),g=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function $de(t){if(t==null){var r=yt(8);return r.write_shift(1,3),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,65535),r}else if(typeof t=="number")return wA(t);return wA(0)}function Hde(t,r,n,s,i){var o=jA(r,n,i),l=$de(t.v),c=yt(6),u=33;c.write_shift(2,u),c.write_shift(4,0);for(var d=yt(t.bf.length),A=0;A<t.bf.length;++A)d[A]=t.bf[A];var f=Ti([o,l,c,d]);return f}function z1(t,r,n){var s=t.read_shift(4),i=Ude(t,s,n),o=t.read_shift(4),l=o>0?Dde(t,o,i,n):null;return[i,l]}var Vde=z1,K1=z1,zde=z1,Kde=z1,Gde={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},IU={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Wde={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function qde(t){var r="of:="+t.replace(CS,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return r.replace(/;/g,"|").replace(/,/g,";")}function Yde(t){return t.replace(/\./,"!")}var p0=typeof Map<"u";function kS(t,r,n){var s=0,i=t.length;if(n){if(p0?n.has(r):Object.prototype.hasOwnProperty.call(n,r)){for(var o=p0?n.get(r):n[r];s<o.length;++s)if(t[o[s]].t===r)return t.Count++,o[s]}}else for(;s<i;++s)if(t[s].t===r)return t.Count++,s;return t[i]={t:r},t.Count++,t.Unique++,n&&(p0?(n.has(r)||n.set(r,[]),n.get(r).push(i)):(Object.prototype.hasOwnProperty.call(n,r)||(n[r]=[]),n[r].push(i))),i}function G1(t,r){var n={min:t+1,max:t+1},s=-1;return r.MDW&&(wc=r.MDW),r.width!=null?n.customWidth=1:r.wpx!=null?s=Pv(r.wpx):r.wch!=null&&(s=r.wch),s>-1?(n.width=Q4(s),n.customWidth=1):r.width!=null&&(n.width=r.width),r.hidden&&(n.hidden=!0),r.level!=null&&(n.outlineLevel=n.level=r.level),n}function PU(t,r){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Ad(t,r,n){var s=n.revssf[r.z!=null?r.z:"General"],i=60,o=t.length;if(s==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){kD(r.z,i),n.ssf[i]=r.z,n.revssf[r.z]=s=i;break}}for(i=0;i!=o;++i)if(t[i].numFmtId===s)return i;return t[o]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function Xde(t,r,n){if(t&&t["!ref"]){var s=is(t["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function Jde(t){if(t.length===0)return"";for(var r='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)r+='<mergeCell ref="'+ei(t[n])+'"/>';return r+"</mergeCells>"}function Zde(t,r,n,s,i){var o=!1,l={},c=null;if(s.bookType!=="xlsx"&&r.vbaraw){var u=r.SheetNames[n];try{r.Workbook&&(u=r.Workbook.Sheets[n].CodeName||u)}catch{}o=!0,l.codeName=om(En(u))}if(t&&t["!outline"]){var d={summaryBelow:1,summaryRight:1};t["!outline"].above&&(d.summaryBelow=0),t["!outline"].left&&(d.summaryRight=0),c=(c||"")+Mt("outlinePr",null,d)}!o&&!c||(i[i.length]=Mt("sheetPr",c,l))}var eAe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],tAe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function rAe(t){var r={sheet:1};return eAe.forEach(function(n){t[n]!=null&&t[n]&&(r[n]="1")}),tAe.forEach(function(n){t[n]!=null&&!t[n]&&(r[n]="0")}),t.password&&(r.password=yU(t.password).toString(16).toUpperCase()),Mt("sheetProtection",null,r)}function nAe(t){return PU(t),Mt("pageMargins",null,t)}function sAe(t,r){for(var n=["<cols>"],s,i=0;i!=r.length;++i)(s=r[i])&&(n[n.length]=Mt("col",null,G1(i,s)));return n[n.length]="</cols>",n.join("")}function iAe(t,r,n,s){var i=typeof t.ref=="string"?t.ref:ei(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,l=Za(i);l.s.r==l.e.r&&(l.e.r=Za(r["!ref"]).e.r,i=ei(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==s){u.Ref="'"+n.SheetNames[s]+"'!"+i;break}}return c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+n.SheetNames[s]+"'!"+i}),Mt("autoFilter",null,{ref:i})}function aAe(t,r,n,s){var i={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),Mt("sheetViews",Mt("sheetView",null,i),{})}function oAe(t,r,n,s){if(t.c&&n["!comments"].push([r,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",o=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=$m[t.v];break;case"d":s&&s.cellDates?i=ha(t.v,-1).toISOString():(t=Pa(t),t.t="n",i=""+(t.v=Ia(ha(t.v)))),typeof t.z>"u"&&(t.z=ks[14]);break;default:i=t.v;break}var c=Oi("v",En(i)),u={r},d=Ad(s.cellXfs,t,s);switch(d!==0&&(u.s=d),t.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){c=Oi("v",""+kS(s.Strings,t.v,s.revStrings)),u.t="s";break}u.t="str";break}if(t.t!=o&&(t.t=o,t.v=l),typeof t.f=="string"&&t.f){var A=t.F&&t.F.slice(0,r.length)==r?{t:"array",ref:t.F}:null;c=Mt("f",En(t.f),A)+(t.v!=null?c:"")}return t.l&&n["!links"].push([r,t.l]),t.D&&(u.cm=1),Mt("c",c,u)}function lAe(t,r,n,s){var i=[],o=[],l=is(t["!ref"]),c="",u,d="",A=[],f=0,h=0,p=t["!rows"],m=Array.isArray(t),g={r:d},b,y=-1;for(h=l.s.c;h<=l.e.c;++h)A[h]=ea(h);for(f=l.s.r;f<=l.e.r;++f){for(o=[],d=Di(f),h=l.s.c;h<=l.e.c;++h){u=A[h]+d;var x=m?(t[f]||[])[h]:t[u];x!==void 0&&(c=oAe(x,u,t,r))!=null&&o.push(c)}(o.length>0||p&&p[f])&&(g={r:d},p&&p[f]&&(b=p[f],b.hidden&&(g.hidden=1),y=-1,b.hpx?y=Lv(b.hpx):b.hpt&&(y=b.hpt),y>-1&&(g.ht=y,g.customHeight=1),b.level&&(g.outlineLevel=b.level)),i[i.length]=Mt("row",o.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},b=p[f],b.hidden&&(g.hidden=1),y=-1,b.hpx?y=Lv(b.hpx):b.hpt&&(y=b.hpt),y>-1&&(g.ht=y,g.customHeight=1),b.level&&(g.outlineLevel=b.level),i[i.length]=Mt("row","",g));return i.join("")}function LU(t,r,n,s){var i=[ti,Mt("worksheet",null,{xmlns:Uh[0],"xmlns:r":xi.r})],o=n.SheetNames[t],l=0,c="",u=n.Sheets[o];u==null&&(u={});var d=u["!ref"]||"A1",A=is(d);if(A.e.c>16383||A.e.r>1048575){if(r.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");A.e.c=Math.min(A.e.c,16383),A.e.r=Math.min(A.e.c,1048575),d=ei(A)}s||(s={}),u["!comments"]=[];var f=[];Zde(u,n,t,r,i),i[i.length]=Mt("dimension",null,{ref:d}),i[i.length]=aAe(u,r,t,n),r.sheetFormat&&(i[i.length]=Mt("sheetFormatPr",null,{defaultRowHeight:r.sheetFormat.defaultRowHeight||"16",baseColWidth:r.sheetFormat.baseColWidth||"10",outlineLevelRow:r.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(i[i.length]=sAe(u,u["!cols"])),i[l=i.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(c=lAe(u,r),c.length>0&&(i[i.length]=c)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),u["!protect"]&&(i[i.length]=rAe(u["!protect"])),u["!autofilter"]!=null&&(i[i.length]=iAe(u["!autofilter"],u,n,t)),u["!merges"]!=null&&u["!merges"].length>0&&(i[i.length]=Jde(u["!merges"]));var h=-1,p,m=-1;return u["!links"].length>0&&(i[i.length]="<hyperlinks>",u["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(m=Cn(s,-1,En(g[1].Target).replace(/#.*$/,""),mn.HLINK),p["r:id"]="rId"+m),(h=g[1].Target.indexOf("#"))>-1&&(p.location=En(g[1].Target.slice(h+1))),g[1].Tooltip&&(p.tooltip=En(g[1].Tooltip)),i[i.length]=Mt("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(i[i.length]=nAe(u["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&(i[i.length]=Oi("ignoredErrors",Mt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(m=Cn(s,-1,"../drawings/drawing"+(t+1)+".xml",mn.DRAW),i[i.length]=Mt("drawing",null,{"r:id":"rId"+m}),u["!drawing"]=f),u["!comments"].length>0&&(m=Cn(s,-1,"../drawings/vmlDrawing"+(t+1)+".vml",mn.VML),i[i.length]=Mt("legacyDrawing",null,{"r:id":"rId"+m}),u["!legacy"]=m),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function cAe(t,r){var n={},s=t.l+r;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=s,o&7&&(n.level=o&7),o&16&&(n.hidden=!0),o&32&&(n.hpt=i/20),n}function uAe(t,r,n){var s=yt(145),i=(n["!rows"]||[])[t]||{};s.write_shift(4,t),s.write_shift(4,0);var o=320;i.hpx?o=Lv(i.hpx)*20:i.hpt&&(o=i.hpt*20),s.write_shift(2,o),s.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),s.write_shift(1,l),s.write_shift(1,0);var c=0,u=s.l;s.l+=4;for(var d={r:t,c:0},A=0;A<16;++A)if(!(r.s.c>A+1<<10||r.e.c<A<<10)){for(var f=-1,h=-1,p=A<<10;p<A+1<<10;++p){d.c=p;var m=Array.isArray(n)?(n[d.r]||[])[d.c]:n[Tn(d)];m&&(f<0&&(f=p),h=p)}f<0||(++c,s.write_shift(4,f),s.write_shift(4,h))}var g=s.l;return s.l=u,s.write_shift(4,c),s.l=g,s.length>s.l?s.slice(0,s.l):s}function dAe(t,r,n,s){var i=uAe(s,n,r);(i.length>17||(r["!rows"]||[])[s])&&kt(t,0,i)}var AAe=IA,fAe=Mh;function hAe(){}function pAe(t,r){var n={},s=t[t.l];return++t.l,n.above=!(s&64),n.left=!(s&128),t.l+=18,n.name=Sle(t),n}function mAe(t,r,n){n==null&&(n=yt(84+4*t.length));var s=192;r&&(r.above&&(s&=-65),r.left&&(s&=-129)),n.write_shift(1,s);for(var i=1;i<3;++i)n.write_shift(1,0);return Ov({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),XD(t,n),n.slice(0,n.l)}function gAe(t){var r=To(t);return[r]}function yAe(t,r,n){return n==null&&(n=yt(8)),TA(r,n)}function xAe(t){var r=OA(t);return[r]}function vAe(t,r,n){return n==null&&(n=yt(4)),FA(r,n)}function bAe(t){var r=To(t),n=t.read_shift(1);return[r,n,"b"]}function wAe(t,r,n){return n==null&&(n=yt(9)),TA(r,n),n.write_shift(1,t.v?1:0),n}function jAe(t){var r=OA(t),n=t.read_shift(1);return[r,n,"b"]}function NAe(t,r,n){return n==null&&(n=yt(5)),FA(r,n),n.write_shift(1,t.v?1:0),n}function SAe(t){var r=To(t),n=t.read_shift(1);return[r,n,"e"]}function BAe(t,r,n){return n==null&&(n=yt(9)),TA(r,n),n.write_shift(1,t.v),n}function CAe(t){var r=OA(t),n=t.read_shift(1);return[r,n,"e"]}function _Ae(t,r,n){return n==null&&(n=yt(8)),FA(r,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function EAe(t){var r=To(t),n=t.read_shift(4);return[r,n,"s"]}function kAe(t,r,n){return n==null&&(n=yt(12)),TA(r,n),n.write_shift(4,r.v),n}function TAe(t){var r=OA(t),n=t.read_shift(4);return[r,n,"s"]}function OAe(t,r,n){return n==null&&(n=yt(8)),FA(r,n),n.write_shift(4,r.v),n}function FAe(t){var r=To(t),n=Qh(t);return[r,n,"n"]}function IAe(t,r,n){return n==null&&(n=yt(16)),TA(r,n),wA(t.v,n),n}function PAe(t){var r=OA(t),n=Qh(t);return[r,n,"n"]}function LAe(t,r,n){return n==null&&(n=yt(12)),FA(r,n),wA(t.v,n),n}function DAe(t){var r=To(t),n=JD(t);return[r,n,"n"]}function UAe(t,r,n){return n==null&&(n=yt(12)),TA(r,n),ZD(t.v,n),n}function RAe(t){var r=OA(t),n=JD(t);return[r,n,"n"]}function MAe(t,r,n){return n==null&&(n=yt(8)),FA(r,n),ZD(t.v,n),n}function QAe(t){var r=To(t),n=wS(t);return[r,n,"is"]}function $Ae(t){var r=To(t),n=ta(t);return[r,n,"str"]}function HAe(t,r,n){return n==null&&(n=yt(12+4*t.v.length)),TA(r,n),bi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function VAe(t){var r=OA(t),n=ta(t);return[r,n,"str"]}function zAe(t,r,n){return n==null&&(n=yt(8+4*t.v.length)),FA(r,n),bi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function KAe(t,r,n){var s=t.l+r,i=To(t);i.r=n["!row"];var o=t.read_shift(1),l=[i,o,"b"];if(n.cellFormula){t.l+=2;var c=K1(t,s-t.l,n);l[3]=jh(c,null,i,n.supbooks,n)}else t.l=s;return l}function GAe(t,r,n){var s=t.l+r,i=To(t);i.r=n["!row"];var o=t.read_shift(1),l=[i,o,"e"];if(n.cellFormula){t.l+=2;var c=K1(t,s-t.l,n);l[3]=jh(c,null,i,n.supbooks,n)}else t.l=s;return l}function WAe(t,r,n){var s=t.l+r,i=To(t);i.r=n["!row"];var o=Qh(t),l=[i,o,"n"];if(n.cellFormula){t.l+=2;var c=K1(t,s-t.l,n);l[3]=jh(c,null,i,n.supbooks,n)}else t.l=s;return l}function qAe(t,r,n){var s=t.l+r,i=To(t);i.r=n["!row"];var o=ta(t),l=[i,o,"str"];if(n.cellFormula){t.l+=2;var c=K1(t,s-t.l,n);l[3]=jh(c,null,i,n.supbooks,n)}else t.l=s;return l}var YAe=IA,XAe=Mh;function JAe(t,r){return r==null&&(r=yt(4)),r.write_shift(4,t),r}function ZAe(t,r){var n=t.l+r,s=IA(t),i=jS(t),o=ta(t),l=ta(t),c=ta(t);t.l=n;var u={rfx:s,relId:i,loc:o,display:c};return l&&(u.Tooltip=l),u}function efe(t,r){var n=yt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Mh({s:vi(t[0]),e:vi(t[0])},n),NS("rId"+r,n);var s=t[1].Target.indexOf("#"),i=s==-1?"":t[1].Target.slice(s+1);return bi(i||"",n),bi(t[1].Tooltip||"",n),bi("",n),n.slice(0,n.l)}function tfe(){}function rfe(t,r,n){var s=t.l+r,i=eU(t),o=t.read_shift(1),l=[i];if(l[2]=o,n.cellFormula){var c=Vde(t,s-t.l,n);l[1]=c}else t.l=s;return l}function nfe(t,r,n){var s=t.l+r,i=IA(t),o=[i];if(n.cellFormula){var l=Kde(t,s-t.l,n);o[1]=l,t.l=s}else t.l=s;return o}function sfe(t,r,n){n==null&&(n=yt(18));var s=G1(t,r);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(s.width||10)*256),n.write_shift(4,0);var i=0;return r.hidden&&(i|=1),typeof s.width=="number"&&(i|=2),r.level&&(i|=r.level<<8),n.write_shift(2,i),n}var DU=["left","right","top","bottom","header","footer"];function ife(t){var r={};return DU.forEach(function(n){r[n]=Qh(t)}),r}function afe(t,r){return r==null&&(r=yt(6*8)),PU(t),DU.forEach(function(n){wA(t[n],r)}),r}function ofe(t){var r=t.read_shift(2);return t.l+=28,{RTL:r&32}}function lfe(t,r,n){n==null&&(n=yt(30));var s=924;return(((r||{}).Views||[])[0]||{}).RTL&&(s|=32),n.write_shift(2,s),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function cfe(t){var r=yt(24);return r.write_shift(4,4),r.write_shift(4,1),Mh(t,r),r}function ufe(t,r){return r==null&&(r=yt(16*4+2)),r.write_shift(2,t.password?yU(t.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?r.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):r.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),r}function dfe(){}function Afe(){}function ffe(t,r,n,s,i,o,l){if(r.v===void 0)return!1;var c="";switch(r.t){case"b":c=r.v?"1":"0";break;case"d":r=Pa(r),r.z=r.z||ks[14],r.v=Ia(ha(r.v)),r.t="n";break;case"n":case"e":c=""+r.v;break;default:c=r.v;break}var u={r:n,c:s};switch(u.s=Ad(i.cellXfs,r,i),r.l&&o["!links"].push([Tn(u),r.l]),r.c&&o["!comments"].push([Tn(u),r.c]),r.t){case"s":case"str":return i.bookSST?(c=kS(i.Strings,r.v,i.revStrings),u.t="s",u.v=c,l?kt(t,18,OAe(r,u)):kt(t,7,kAe(r,u))):(u.t="str",l?kt(t,17,zAe(r,u)):kt(t,6,HAe(r,u))),!0;case"n":return r.v==(r.v|0)&&r.v>-1e3&&r.v<1e3?l?kt(t,13,MAe(r,u)):kt(t,2,UAe(r,u)):l?kt(t,16,LAe(r,u)):kt(t,5,IAe(r,u)),!0;case"b":return u.t="b",l?kt(t,15,NAe(r,u)):kt(t,4,wAe(r,u)),!0;case"e":return u.t="e",l?kt(t,14,_Ae(r,u)):kt(t,3,BAe(r,u)),!0}return l?kt(t,12,vAe(r,u)):kt(t,1,yAe(r,u)),!0}function hfe(t,r,n,s){var i=is(r["!ref"]||"A1"),o,l="",c=[];kt(t,145);var u=Array.isArray(r),d=i.e.r;r["!rows"]&&(d=Math.max(i.e.r,r["!rows"].length-1));for(var A=i.s.r;A<=d;++A){l=Di(A),dAe(t,r,i,A);var f=!1;if(A<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){A===i.s.r&&(c[h]=ea(h)),o=c[h]+l;var p=u?(r[A]||[])[h]:r[o];if(!p){f=!1;continue}f=ffe(t,p,A,h,s,r,f)}}kt(t,146)}function pfe(t,r){!r||!r["!merges"]||(kt(t,177,JAe(r["!merges"].length)),r["!merges"].forEach(function(n){kt(t,176,XAe(n))}),kt(t,178))}function mfe(t,r){!r||!r["!cols"]||(kt(t,390),r["!cols"].forEach(function(n,s){n&&kt(t,60,sfe(s,n))}),kt(t,391))}function gfe(t,r){!r||!r["!ref"]||(kt(t,648),kt(t,649,cfe(is(r["!ref"]))),kt(t,650))}function yfe(t,r,n){r["!links"].forEach(function(s){if(s[1].Target){var i=Cn(n,-1,s[1].Target.replace(/#.*$/,""),mn.HLINK);kt(t,494,efe(s,i))}}),delete r["!links"]}function xfe(t,r,n,s){if(r["!comments"].length>0){var i=Cn(s,-1,"../drawings/vmlDrawing"+(n+1)+".vml",mn.VML);kt(t,551,NS("rId"+i)),r["!legacy"]=i}}function vfe(t,r,n,s){if(r["!autofilter"]){var i=r["!autofilter"],o=typeof i.ref=="string"?i.ref:ei(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var l=n.Workbook.Names,c=Za(o);c.s.r==c.e.r&&(c.e.r=Za(r["!ref"]).e.r,o=ei(c));for(var u=0;u<l.length;++u){var d=l[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==s){d.Ref="'"+n.SheetNames[s]+"'!"+o;break}}u==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+n.SheetNames[s]+"'!"+o}),kt(t,161,Mh(is(o))),kt(t,162)}}function bfe(t,r,n){kt(t,133),kt(t,137,lfe(r,n)),kt(t,138),kt(t,134)}function wfe(t,r){r["!protect"]&&kt(t,535,ufe(r["!protect"]))}function jfe(t,r,n,s){var i=Fa(),o=n.SheetNames[t],l=n.Sheets[o]||{},c=o;try{n&&n.Workbook&&(c=n.Workbook.Sheets[t].CodeName||c)}catch{}var u=is(l["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(r.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],kt(i,129),(n.vbaraw||l["!outline"])&&kt(i,147,mAe(c,l["!outline"])),kt(i,148,fAe(u)),bfe(i,l,n.Workbook),mfe(i,l),hfe(i,l,t,r),wfe(i,l),vfe(i,l,n,t),pfe(i,l),yfe(i,l,s),l["!margins"]&&kt(i,476,afe(l["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&gfe(i,l),xfe(i,l,t,s),kt(i,130),i.end()}function Nfe(t,r){t.l+=10;var n=ta(t);return{name:n}}var Sfe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Bfe(t){return!t.Workbook||!t.Workbook.WBProps?"false":nle(t.Workbook.WBProps.date1904)?"true":"false"}var Cfe="][*?/\\".split("");function UU(t,r){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return Cfe.forEach(function(s){if(t.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function _fe(t,r,n){t.forEach(function(s,i){UU(s);for(var o=0;o<i;++o)if(s==t[o])throw new Error("Duplicate Sheet Name: "+s);if(n){var l=r&&r[i]&&r[i].CodeName||s;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function Efe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var r=t.Workbook&&t.Workbook.Sheets||[];_fe(t.SheetNames,r,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)Xde(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function RU(t){var r=[ti];r[r.length]=Mt("workbook",null,{xmlns:Uh[0],"xmlns:r":xi.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Sfe.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(s[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(s.codeName=t.Workbook.WBProps.CodeName,delete s.CodeName)),r[r.length]=Mt("workbookPr",null,s);var i=t.Workbook&&t.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(r[r.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!i[o]||!i[o].Hidden);++o);o==t.SheetNames.length&&(o=0),r[r.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',r[r.length]="</bookViews>"}for(r[r.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var l={name:En(t.SheetNames[o].slice(0,31))};if(l.sheetId=""+(o+1),l["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}r[r.length]=Mt("sheet",null,l)}return r[r.length]="</sheets>",n&&(r[r.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var u={name:c.Name};c.Comment&&(u.comment=c.Comment),c.Sheet!=null&&(u.localSheetId=""+c.Sheet),c.Hidden&&(u.hidden="1"),c.Ref&&(r[r.length]=Mt("definedName",En(c.Ref),u))}),r[r.length]="</definedNames>"),r.length>2&&(r[r.length]="</workbook>",r[1]=r[1].replace("/>",">")),r.join("")}function kfe(t,r){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=M4(t),n.name=ta(t),n}function Tfe(t,r){return r||(r=yt(127)),r.write_shift(4,t.Hidden),r.write_shift(4,t.iTabID),NS(t.strRelID,r),bi(t.name.slice(0,31),r),r.length>r.l?r.slice(0,r.l):r}function Ofe(t,r){var n={},s=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=r>8?ta(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(s&65536),n.backupFile=!!(s&64),n.checkCompatibility=!!(s&4096),n.date1904=!!(s&1),n.filterPrivacy=!!(s&8),n.hidePivotFieldList=!!(s&1024),n.promptedSolutions=!!(s&16),n.publishItems=!!(s&2048),n.refreshAllConnections=!!(s&262144),n.saveExternalLinkValues=!!(s&128),n.showBorderUnselectedTables=!!(s&4),n.showInkAnnotation=!!(s&32),n.showObjects=["all","placeholders","none"][s>>13&3],n.showPivotChartFilter=!!(s&32768),n.updateLinks=["userSet","never","always"][s>>8&3],n}function Ffe(t,r){r||(r=yt(72));var n=0;return t&&t.filterPrivacy&&(n|=8),r.write_shift(4,n),r.write_shift(4,0),XD(t&&t.CodeName||"ThisWorkbook",r),r.slice(0,r.l)}function Ife(t,r,n){var s=t.l+r;t.l+=4,t.l+=1;var i=t.read_shift(4),o=Ble(t),l=zde(t,0,n),c=jS(t);t.l=s;var u={Name:o,Ptg:l};return i<268435455&&(u.Sheet=i),c&&(u.Comment=c),u}function Pfe(t,r){kt(t,143);for(var n=0;n!=r.SheetNames.length;++n){var s=r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n]&&r.Workbook.Sheets[n].Hidden||0,i={Hidden:s,iTabID:n+1,strRelID:"rId"+(n+1),name:r.SheetNames[n]};kt(t,156,Tfe(i))}kt(t,144)}function Lfe(t,r){r||(r=yt(127));for(var n=0;n!=4;++n)r.write_shift(4,0);return bi("SheetJS",r),bi(Sv.version,r),bi(Sv.version,r),bi("7262",r),r.length>r.l?r.slice(0,r.l):r}function Dfe(t,r){r||(r=yt(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,t),r.write_shift(4,t);var n=120;return r.write_shift(1,n),r.length>r.l?r.slice(0,r.l):r}function Ufe(t,r){if(!(!r.Workbook||!r.Workbook.Sheets)){for(var n=r.Workbook.Sheets,s=0,i=-1,o=-1;s<n.length;++s)!n[s]||!n[s].Hidden&&i==-1?i=s:n[s].Hidden==1&&o==-1&&(o=s);o>i||(kt(t,135),kt(t,158,Dfe(i)),kt(t,136))}}function Rfe(t,r){var n=Fa();return kt(n,131),kt(n,128,Lfe()),kt(n,153,Ffe(t.Workbook&&t.Workbook.WBProps||null)),Ufe(n,t),Pfe(n,t),kt(n,132),n.end()}function Mfe(t,r,n){return(r.slice(-4)===".bin"?Rfe:RU)(t)}function Qfe(t,r,n,s,i){return(r.slice(-4)===".bin"?jfe:LU)(t,n,s,i)}function $fe(t,r,n){return(r.slice(-4)===".bin"?aue:bU)(t,n)}function Hfe(t,r,n){return(r.slice(-4)===".bin"?Fce:gU)(t,n)}function Vfe(t,r,n){return(r.slice(-4)===".bin"?wue:BU)(t)}function zfe(t){return(t.slice(-4)===".bin"?hue:NU)()}function Kfe(t,r){var n=[];return t.Props&&n.push($le(t.Props,r)),t.Custprops&&n.push(Hle(t.Props,t.Custprops)),n.join("")}function Gfe(){return""}function Wfe(t,r){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return r.cellXfs.forEach(function(s,i){var o=[];o.push(Mt("NumberFormat",null,{"ss:Format":En(ks[s.numFmtId])}));var l={"ss:ID":"s"+(21+i)};n.push(Mt("Style",o.join(""),l))}),Mt("Styles",n.join(""))}function MU(t){return Mt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+_S(t.Ref,{r:0,c:0})})}function qfe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var r=t.Workbook.Names,n=[],s=0;s<r.length;++s){var i=r[s];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(MU(i)))}return Mt("Names",n.join(""))}function Yfe(t,r,n,s){if(!t||!((s||{}).Workbook||{}).Names)return"";for(var i=s.Workbook.Names,o=[],l=0;l<i.length;++l){var c=i[l];c.Sheet==n&&(c.Name.match(/^_xlfn\./)||o.push(MU(c)))}return o.join("")}function Xfe(t,r,n,s){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Mt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Mt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Mt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[n])if(s.Workbook.Sheets[n].Hidden)i.push(Mt("Visible",s.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<n&&!(s.Workbook.Sheets[o]&&!s.Workbook.Sheets[o].Hidden);++o);o==n&&i.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Oi("ProtectContents","True")),t["!protect"].objects&&i.push(Oi("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Oi("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Oi("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Oi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":Mt("WorksheetOptions",i.join(""),{xmlns:Ka.x})}function Jfe(t){return t.map(function(r){var n=rle(r.t||""),s=Mt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Mt("Comment",s,{"ss:Author":r.a})}).join("")}function Zfe(t,r,n,s,i,o,l){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+En(_S(t.f,l))),t.F&&t.F.slice(0,r.length)==r){var u=vi(t.F.slice(r.length+1));c["ss:ArrayRange"]="RC:R"+(u.r==l.r?"":"["+(u.r-l.r)+"]")+"C"+(u.c==l.c?"":"["+(u.c-l.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=En(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=En(t.l.Tooltip))),n["!merges"])for(var d=n["!merges"],A=0;A!=d.length;++A)d[A].s.c!=l.c||d[A].s.r!=l.r||(d[A].e.c>d[A].s.c&&(c["ss:MergeAcross"]=d[A].e.c-d[A].s.c),d[A].e.r>d[A].s.r&&(c["ss:MergeDown"]=d[A].e.r-d[A].s.r));var f="",h="";switch(t.t){case"z":if(!s.sheetStubs)return"";break;case"n":f="Number",h=String(t.v);break;case"b":f="Boolean",h=t.v?"1":"0";break;case"e":f="Error",h=$m[t.v];break;case"d":f="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||ks[14]);break;case"s":f="String",h=tle(t.v||"");break}var p=Ad(s.cellXfs,t,s);c["ss:StyleID"]="s"+(21+p),c["ss:Index"]=l.c+1;var m=t.v!=null?h:"",g=t.t=="z"?"":'<Data ss:Type="'+f+'">'+m+"</Data>";return(t.c||[]).length>0&&(g+=Jfe(t.c)),Mt("Cell",g,c)}function ehe(t,r){var n='<Row ss:Index="'+(t+1)+'"';return r&&(r.hpt&&!r.hpx&&(r.hpx=vU(r.hpt)),r.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+r.hpx+'"'),r.hidden&&(n+=' ss:Hidden="1"')),n+">"}function the(t,r,n,s){if(!t["!ref"])return"";var i=is(t["!ref"]),o=t["!merges"]||[],l=0,c=[];t["!cols"]&&t["!cols"].forEach(function(b,y){BS(b);var x=!!b.width,v=G1(y,b),w={"ss:Index":y+1};x&&(w["ss:Width"]=Iv(v.width)),b.hidden&&(w["ss:Hidden"]="1"),c.push(Mt("Column",null,w))});for(var u=Array.isArray(t),d=i.s.r;d<=i.e.r;++d){for(var A=[ehe(d,(t["!rows"]||[])[d])],f=i.s.c;f<=i.e.c;++f){var h=!1;for(l=0;l!=o.length;++l)if(!(o[l].s.c>f)&&!(o[l].s.r>d)&&!(o[l].e.c<f)&&!(o[l].e.r<d)){(o[l].s.c!=f||o[l].s.r!=d)&&(h=!0);break}if(!h){var p={r:d,c:f},m=Tn(p),g=u?(t[d]||[])[f]:t[m];A.push(Zfe(g,m,t,r,n,s,p))}}A.push("</Row>"),A.length>2&&c.push(A.join(""))}return c.join("")}function rhe(t,r,n){var s=[],i=n.SheetNames[t],o=n.Sheets[i],l=o?Yfe(o,r,t,n):"";return l.length>0&&s.push("<Names>"+l+"</Names>"),l=o?the(o,r,t,n):"",l.length>0&&s.push("<Table>"+l+"</Table>"),s.push(Xfe(o,r,t,n)),s.join("")}function nhe(t,r){r||(r={}),t.SSF||(t.SSF=Pa(ks)),t.SSF&&($1(),Q1(t.SSF),r.revssf=H1(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF,r.cellXfs=[],Ad(r.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(Kfe(t,r)),n.push(Gfe()),n.push(""),n.push("");for(var s=0;s<t.SheetNames.length;++s)n.push(Mt("Worksheet",rhe(s,r,t),{"ss:Name":En(t.SheetNames[s])}));return n[2]=Wfe(t,r),n[3]=qfe(t),ti+Mt("Workbook",n.join(""),{xmlns:Ka.ss,"xmlns:o":Ka.o,"xmlns:x":Ka.x,"xmlns:ss":Ka.ss,"xmlns:dt":Ka.dt,"xmlns:html":Ka.html})}var n2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function she(t,r){var n=[],s=[],i=[],o=0,l,c=uk(jk,"n"),u=uk(Nk,"n");if(t.Props)for(l=Ri(t.Props),o=0;o<l.length;++o)(Object.prototype.hasOwnProperty.call(c,l[o])?n:Object.prototype.hasOwnProperty.call(u,l[o])?s:i).push([l[o],t.Props[l[o]]]);if(t.Custprops)for(l=Ri(t.Custprops),o=0;o<l.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},l[o])||(Object.prototype.hasOwnProperty.call(c,l[o])?n:Object.prototype.hasOwnProperty.call(u,l[o])?s:i).push([l[o],t.Custprops[l[o]]]);var d=[];for(o=0;o<i.length;++o)uU.indexOf(i[o][0])>-1||oU.indexOf(i[o][0])>-1||i[o][1]!=null&&d.push(i[o]);s.length&&Rn.utils.cfb_add(r,"/SummaryInformation",Ek(s,n2.SI,u,Nk)),(n.length||d.length)&&Rn.utils.cfb_add(r,"/DocumentSummaryInformation",Ek(n,n2.DSI,c,jk,d.length?d:null,n2.UDI))}function ihe(t,r){var n=r||{},s=Rn.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Rn.utils.cfb_add(s,i,QU(t,n)),n.biff==8&&(t.Props||t.Custprops)&&she(t,s),n.biff==8&&t.vbaraw&&jue(s,Rn.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),s}var ahe={0:{f:cAe},1:{f:gAe},2:{f:DAe},3:{f:SAe},4:{f:bAe},5:{f:FAe},6:{f:$Ae},7:{f:EAe},8:{f:qAe},9:{f:WAe},10:{f:KAe},11:{f:GAe},12:{f:xAe},13:{f:RAe},14:{f:CAe},15:{f:jAe},16:{f:PAe},17:{f:VAe},18:{f:TAe},19:{f:wS},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Ife},40:{},42:{},43:{f:$ce},44:{f:Mce},45:{f:zce},46:{f:Gce},47:{f:Kce},48:{},49:{f:xle},50:{},51:{f:cue},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:vce},62:{f:QAe},63:{f:pue},64:{f:dfe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Kl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ofe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:pAe},148:{f:AAe,p:16},151:{f:tfe},152:{},153:{f:Ofe},154:{},155:{},156:{f:kfe},157:{},158:{},159:{T:1,f:kce},160:{T:-1},161:{T:1,f:IA},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:YAe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:oue},336:{T:-1},337:{f:Aue,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:M4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:hce},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:rfe},427:{f:nfe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:ife},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:hAe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ZAe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:M4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:vue},633:{T:1},634:{T:-1},635:{T:1,f:yue},636:{T:-1},637:{f:jle},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Nfe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Afe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Qt(t,r,n,s){var i=r;if(!isNaN(i)){var o=s||(n||[]).length||0,l=t.next(4);l.write_shift(2,i),l.write_shift(2,o),o>0&&xS(n)&&t.push(n)}}function ohe(t,r,n,s){var i=(n||[]).length||0;if(i<=8224)return Qt(t,r,n,i);var o=r;if(!isNaN(o)){for(var l=n.parts||[],c=0,u=0,d=0;d+(l[c]||8224)<=8224;)d+=l[c]||8224,c++;var A=t.next(4);for(A.write_shift(2,o),A.write_shift(2,d),t.push(n.slice(u,u+d)),u+=d;u<i;){for(A=t.next(4),A.write_shift(2,60),d=0;d+(l[c]||8224)<=8224;)d+=l[c]||8224,c++;A.write_shift(2,d),t.push(n.slice(u,u+d)),u+=d}}}function Vm(t,r,n){return t||(t=yt(7)),t.write_shift(2,r),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function lhe(t,r,n,s){var i=yt(9);return Vm(i,t,r),AU(n,s||"b",i),i}function che(t,r,n){var s=yt(8+2*n.length);return Vm(s,t,r),s.write_shift(1,n.length),s.write_shift(n.length,n,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function uhe(t,r,n,s){if(r.v!=null)switch(r.t){case"d":case"n":var i=r.t=="d"?Ia(ha(r.v)):r.v;i==(i|0)&&i>=0&&i<65536?Qt(t,2,Nce(n,s,i)):Qt(t,3,jce(n,s,i));return;case"b":case"e":Qt(t,5,lhe(n,s,r.v,r.t));return;case"s":case"str":Qt(t,4,che(n,s,(r.v||"").slice(0,255)));return}Qt(t,1,Vm(null,n,s))}function dhe(t,r,n,s){var i=Array.isArray(r),o=is(r["!ref"]||"A1"),l,c="",u=[];if(o.e.c>255||o.e.r>16383){if(s.WTF)throw new Error("Range "+(r["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),l=ei(o)}for(var d=o.s.r;d<=o.e.r;++d){c=Di(d);for(var A=o.s.c;A<=o.e.c;++A){d===o.s.r&&(u[A]=ea(A)),l=u[A]+c;var f=i?(r[d]||[])[A]:r[l];f&&uhe(t,f,d,A)}}}function Ahe(t,r){for(var n=r||{},s=Fa(),i=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==n.sheet&&(i=o);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Qt(s,n.biff==4?1033:n.biff==3?521:9,SS(t,16,n)),dhe(s,t.Sheets[t.SheetNames[i]],i,n),Qt(s,10),s.end()}function fhe(t,r,n){Qt(t,49,ace({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function hhe(t,r,n){r&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var i=s[0];i<=s[1];++i)r[i]!=null&&Qt(t,1054,cce(i,r[i],n))})}function phe(t,r){var n=yt(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Qt(t,2151,n),n=yt(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),pU(is(r["!ref"]||"A1"),n),n.write_shift(4,4),Qt(t,2152,n)}function mhe(t,r){for(var n=0;n<16;++n)Qt(t,224,Tk({numFmtId:0,style:!0},0,r));r.cellXfs.forEach(function(s){Qt(t,224,Tk(s,0,r))})}function ghe(t,r){for(var n=0;n<r["!links"].length;++n){var s=r["!links"][n];Qt(t,440,gce(s)),s[1].Tooltip&&Qt(t,2048,yce(s))}delete r["!links"]}function yhe(t,r){if(r){var n=0;r.forEach(function(s,i){++n<=256&&s&&Qt(t,125,bce(G1(i,s),i))})}}function xhe(t,r,n,s,i){var o=16+Ad(i.cellXfs,r,i);if(r.v==null&&!r.bf){Qt(t,513,jA(n,s,o));return}if(r.bf)Qt(t,6,Hde(r,n,s,i,o));else switch(r.t){case"d":case"n":var l=r.t=="d"?Ia(ha(r.v)):r.v;Qt(t,515,fce(n,s,l,o));break;case"b":case"e":Qt(t,517,Ace(n,s,r.v,o,i,r.t));break;case"s":case"str":if(i.bookSST){var c=kS(i.Strings,r.v,i.revStrings);Qt(t,253,oce(n,s,c,o))}else Qt(t,516,lce(n,s,(r.v||"").slice(0,255),o,i));break;default:Qt(t,513,jA(n,s,o))}}function vhe(t,r,n){var s=Fa(),i=n.SheetNames[t],o=n.Sheets[i]||{},l=(n||{}).Workbook||{},c=(l.Sheets||[])[t]||{},u=Array.isArray(o),d=r.biff==8,A,f="",h=[],p=is(o["!ref"]||"A1"),m=d?65536:16384;if(p.e.c>255||p.e.r>=m){if(r.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,m-1)}Qt(s,2057,SS(n,16,r)),Qt(s,13,mo(1)),Qt(s,12,mo(100)),Qt(s,15,da(!0)),Qt(s,17,da(!1)),Qt(s,16,wA(.001)),Qt(s,95,da(!0)),Qt(s,42,da(!1)),Qt(s,43,da(!1)),Qt(s,130,mo(1)),Qt(s,128,dce()),Qt(s,131,da(!1)),Qt(s,132,da(!1)),d&&yhe(s,o["!cols"]),Qt(s,512,uce(p,r)),d&&(o["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=Di(g);for(var b=p.s.c;b<=p.e.c;++b){g===p.s.r&&(h[b]=ea(b)),A=h[b]+f;var y=u?(o[g]||[])[b]:o[A];y&&(xhe(s,y,g,b,r),d&&y.l&&o["!links"].push([A,y.l]))}}var x=c.CodeName||c.name||i;return d&&Qt(s,574,ice((l.Views||[])[0])),d&&(o["!merges"]||[]).length&&Qt(s,229,mce(o["!merges"])),d&&ghe(s,o),Qt(s,442,hU(x)),d&&phe(s,o),Qt(s,10),s.end()}function bhe(t,r,n){var s=Fa(),i=(t||{}).Workbook||{},o=i.Sheets||[],l=i.WBProps||{},c=n.biff==8,u=n.biff==5;if(Qt(s,2057,SS(t,5,n)),n.bookType=="xla"&&Qt(s,135),Qt(s,225,c?mo(1200):null),Qt(s,193,Kle(2)),u&&Qt(s,191),u&&Qt(s,192),Qt(s,226),Qt(s,92,tce("SheetJS",n)),Qt(s,66,mo(c?1200:1252)),c&&Qt(s,353,mo(0)),c&&Qt(s,448),Qt(s,317,wce(t.SheetNames.length)),c&&t.vbaraw&&Qt(s,211),c&&t.vbaraw){var d=l.CodeName||"ThisWorkbook";Qt(s,442,hU(d))}Qt(s,156,mo(17)),Qt(s,25,da(!1)),Qt(s,18,da(!1)),Qt(s,19,mo(0)),c&&Qt(s,431,da(!1)),c&&Qt(s,444,mo(0)),Qt(s,61,sce()),Qt(s,64,da(!1)),Qt(s,141,mo(0)),Qt(s,34,da(Bfe(t)=="true")),Qt(s,14,da(!0)),c&&Qt(s,439,da(!1)),Qt(s,218,mo(0)),fhe(s,t,n),hhe(s,t.SSF,n),mhe(s,n),c&&Qt(s,352,da(!1));var A=s.end(),f=Fa();c&&Qt(f,140,xce()),c&&n.Strings&&ohe(f,252,nce(n.Strings)),Qt(f,10);var h=f.end(),p=Fa(),m=0,g=0;for(g=0;g<t.SheetNames.length;++g)m+=(c?12:11)+(c?2:1)*t.SheetNames[g].length;var b=A.length+m+h.length;for(g=0;g<t.SheetNames.length;++g){var y=o[g]||{};Qt(p,133,rce({pos:b,hs:y.Hidden||0,dt:0,name:t.SheetNames[g]},n)),b+=r[g].length}var x=p.end();if(m!=x.length)throw new Error("BS8 "+m+" != "+x.length);var v=[];return A.length&&v.push(A),x.length&&v.push(x),h.length&&v.push(h),Ti(v)}function whe(t,r){var n=r||{},s=[];t&&!t.SSF&&(t.SSF=Pa(ks)),t&&t.SSF&&($1(),Q1(t.SSF),n.revssf=H1(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,TS(n),n.cellXfs=[],Ad(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)s[s.length]=vhe(i,n,t);return s.unshift(bhe(t,s,n)),Ti(s)}function QU(t,r){for(var n=0;n<=t.SheetNames.length;++n){var s=t.Sheets[t.SheetNames[n]];if(!(!s||!s["!ref"])){var i=Za(s["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var o=r||{};switch(o.biff||2){case 8:case 5:return whe(t,r);case 4:case 3:case 2:return Ahe(t,r)}throw new Error("invalid type "+o.bookType+" for BIFF")}function jhe(t,r,n,s){for(var i=t["!merges"]||[],o=[],l=r.s.c;l<=r.e.c;++l){for(var c=0,u=0,d=0;d<i.length;++d)if(!(i[d].s.r>n||i[d].s.c>l)&&!(i[d].e.r<n||i[d].e.c<l)){if(i[d].s.r<n||i[d].s.c<l){c=-1;break}c=i[d].e.r-i[d].s.r+1,u=i[d].e.c-i[d].s.c+1;break}if(!(c<0)){var A=Tn({r:n,c:l}),f=s.dense?(t[n]||[])[l]:t[A],h=f&&f.v!=null&&(f.h||ele(f.w||(Tc(f),f.w)||""))||"",p={};c>1&&(p.rowspan=c),u>1&&(p.colspan=u),s.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(s.id||"sjs")+"-"+A,o.push(Mt("td",h,p))}}var m="<tr>";return m+o.join("")+"</tr>"}var Nhe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',She="</body></html>";function Bhe(t,r,n){var s=[];return s.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function $U(t,r){var n=r||{},s=n.header!=null?n.header:Nhe,i=n.footer!=null?n.footer:She,o=[s],l=Za(t["!ref"]);n.dense=Array.isArray(t),o.push(Bhe(t,l,n));for(var c=l.s.r;c<=l.e.r;++c)o.push(jhe(t,l,c,n));return o.push("</table>"+i),o.join("")}function HU(t,r,n){var s=n||{},i=0,o=0;if(s.origin!=null)if(typeof s.origin=="number")i=s.origin;else{var l=typeof s.origin=="string"?vi(s.origin):s.origin;i=l.r,o=l.c}var c=r.getElementsByTagName("tr"),u=Math.min(s.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:i,c:o}};if(t["!ref"]){var A=Za(t["!ref"]);d.s.r=Math.min(d.s.r,A.s.r),d.s.c=Math.min(d.s.c,A.s.c),d.e.r=Math.max(d.e.r,A.e.r),d.e.c=Math.max(d.e.c,A.e.c),i==-1&&(d.e.r=i=A.e.r+1)}var f=[],h=0,p=t["!rows"]||(t["!rows"]=[]),m=0,g=0,b=0,y=0,x=0,v=0;for(t["!cols"]||(t["!cols"]=[]);m<c.length&&g<u;++m){var w=c[m];if(Uk(w)){if(s.display)continue;p[g]={hidden:!0}}var _=w.children;for(b=y=0;b<_.length;++b){var B=_[b];if(!(s.display&&Uk(B))){var N=B.hasAttribute("data-v")?B.getAttribute("data-v"):B.hasAttribute("v")?B.getAttribute("v"):sle(B.innerHTML),j=B.getAttribute("data-z")||B.getAttribute("z");for(h=0;h<f.length;++h){var C=f[h];C.s.c==y+o&&C.s.r<g+i&&g+i<=C.e.r&&(y=C.e.c+1-o,h=-1)}v=+B.getAttribute("colspan")||1,((x=+B.getAttribute("rowspan")||1)>1||v>1)&&f.push({s:{r:g+i,c:y+o},e:{r:g+i+(x||1)-1,c:y+o+(v||1)-1}});var E={t:"s",v:N},S=B.getAttribute("data-t")||B.getAttribute("t")||"";N!=null&&(N.length==0?E.t=S||"z":s.raw||N.trim().length==0||S=="s"||(N==="TRUE"?E={t:"b",v:!0}:N==="FALSE"?E={t:"b",v:!1}:isNaN(bc(N))?isNaN(am(N).getDate())||(E={t:"d",v:ha(N)},s.cellDates||(E={t:"n",v:Ia(E.v)}),E.z=s.dateNF||ks[14]):E={t:"n",v:bc(N)})),E.z===void 0&&j!=null&&(E.z=j);var k="",P=B.getElementsByTagName("A");if(P&&P.length)for(var M=0;M<P.length&&!(P[M].hasAttribute("href")&&(k=P[M].getAttribute("href"),k.charAt(0)!="#"));++M);k&&k.charAt(0)!="#"&&(E.l={Target:k}),s.dense?(t[g+i]||(t[g+i]=[]),t[g+i][y+o]=E):t[Tn({c:y+o,r:g+i})]=E,d.e.c<y+o&&(d.e.c=y+o),y+=v}}++g}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,g-1+i),t["!ref"]=ei(d),g>=u&&(t["!fullref"]=ei((d.e.r=c.length-m+g-1+i,d))),t}function VU(t,r){var n=r||{},s=n.dense?[]:{};return HU(s,t,r)}function Che(t,r){return kA(VU(t,r),r)}function Uk(t){var r="",n=_he(t);return n&&(r=n(t).getPropertyValue("display")),r||(r=t.style&&t.style.display),r==="none"}function _he(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Ehe=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),r="<office:document-styles "+lm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ti+r}}(),Rk=function(){var t=function(o){return En(o).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},r=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,s=function(o,l,c){var u=[];u.push('      <table:table table:name="'+En(l.SheetNames[c])+`" table:style-name="ta1">
`);var d=0,A=0,f=Za(o["!ref"]||"A1"),h=o["!merges"]||[],p=0,m=Array.isArray(o);if(o["!cols"])for(A=0;A<=f.e.c;++A)u.push("        <table:table-column"+(o["!cols"][A]?' table:style-name="co'+o["!cols"][A].ods+'"':"")+`></table:table-column>
`);var g="",b=o["!rows"]||[];for(d=0;d<f.s.r;++d)g=b[d]?' table:style-name="ro'+b[d].ods+'"':"",u.push("        <table:table-row"+g+`></table:table-row>
`);for(;d<=f.e.r;++d){for(g=b[d]?' table:style-name="ro'+b[d].ods+'"':"",u.push("        <table:table-row"+g+`>
`),A=0;A<f.s.c;++A)u.push(r);for(;A<=f.e.c;++A){var y=!1,x={},v="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>A)&&!(h[p].s.r>d)&&!(h[p].e.c<A)&&!(h[p].e.r<d)){(h[p].s.c!=A||h[p].s.r!=d)&&(y=!0),x["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,x["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(y){u.push(n);continue}var w=Tn({r:d,c:A}),_=m?(o[d]||[])[A]:o[w];if(_&&_.f&&(x["table:formula"]=En(qde(_.f)),_.F&&_.F.slice(0,w.length)==w)){var B=Za(_.F);x["table:number-matrix-columns-spanned"]=B.e.c-B.s.c+1,x["table:number-matrix-rows-spanned"]=B.e.r-B.s.r+1}if(!_){u.push(r);continue}switch(_.t){case"b":v=_.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=_.v?"true":"false";break;case"n":v=_.w||String(_.v||0),x["office:value-type"]="float",x["office:value"]=_.v||0;break;case"s":case"str":v=_.v==null?"":_.v,x["office:value-type"]="string";break;case"d":v=_.w||ha(_.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=ha(_.v).toISOString(),x["table:style-name"]="ce1";break;default:u.push(r);continue}var N=t(v);if(_.l&&_.l.Target){var j=_.l.Target;j=j.charAt(0)=="#"?"#"+Yde(j.slice(1)):j,j.charAt(0)!="#"&&!j.match(/^\w+:/)&&(j="../"+j),N=Mt("text:a",N,{"xlink:href":j.replace(/&/g,"&amp;")})}u.push("          "+Mt("table:table-cell",Mt("text:p",N,{}),x)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},i=function(o,l){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var A=0;A<d["!cols"].length;++A)if(d["!cols"][A]){var f=d["!cols"][A];if(f.width==null&&f.wpx==null&&f.wch==null)continue;BS(f),f.ods=c;var h=d["!cols"][A].wpx+"px";o.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),o.push(`  </style:style>
`),++c}}});var u=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var A=0;A<d["!rows"].length;++A)if(d["!rows"][A]){d["!rows"][A].ods=u;var f=d["!rows"][A].hpx+"px";o.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),o.push(`  </style:style>
`),++u}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(l,c){var u=[ti],d=lm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),A=lm({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(u.push("<office:document"+d+A+`>
`),u.push(iU().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+d+`>
`),i(u,l),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var f=0;f!=l.SheetNames.length;++f)u.push(s(l.Sheets[l.SheetNames[f]],l,f));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),c.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function zU(t,r){if(r.bookType=="fods")return Rk(t,r);var n=pS(),s="",i=[],o=[];return s="mimetype",Gr(n,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",Gr(n,s,Rk(t,r)),i.push([s,"text/xml"]),o.push([s,"ContentFile"]),s="styles.xml",Gr(n,s,Ehe(t,r)),i.push([s,"text/xml"]),o.push([s,"StylesFile"]),s="meta.xml",Gr(n,s,ti+iU()),i.push([s,"text/xml"]),o.push([s,"MetadataFile"]),s="manifest.rdf",Gr(n,s,Qle(o)),i.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",Gr(n,s,Rle(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Dv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function khe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Xo(om(t))}function The(t,r){e:for(var n=0;n<=t.length-r.length;++n){for(var s=0;s<r.length;++s)if(t[n+s]!=r[s])continue e;return!0}return!1}function Zu(t){var r=t.reduce(function(i,o){return i+o.length},0),n=new Uint8Array(r),s=0;return t.forEach(function(i){n.set(i,s),s+=i.length}),n}function Ohe(t,r,n){var s=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,s-6176);t[r+15]|=s>>7,t[r+14]|=(s&127)<<1;for(var o=0;i>=1;++o,i/=256)t[r+o]=i&255;t[r+15]|=n>=0?0:128}function cm(t,r){var n=r?r[0]:0,s=t[n]&127;e:if(t[n++]>=128&&(s|=(t[n]&127)<<7,t[n++]<128||(s|=(t[n]&127)<<14,t[n++]<128)||(s|=(t[n]&127)<<21,t[n++]<128)||(s+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(s+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(s+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return r&&(r[0]=n),s}function Bn(t){var r=new Uint8Array(7);r[0]=t&127;var n=1;e:if(t>127){if(r[n-1]|=128,r[n]=t>>7&127,++n,t<=16383||(r[n-1]|=128,r[n]=t>>14&127,++n,t<=2097151)||(r[n-1]|=128,r[n]=t>>21&127,++n,t<=268435455)||(r[n-1]|=128,r[n]=t/256>>>21&127,++n,t<=34359738367)||(r[n-1]|=128,r[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;r[n-1]|=128,r[n]=t/16777216>>>21&127,++n}return r.slice(0,n)}function ah(t){var r=0,n=t[r]&127;e:if(t[r++]>=128){if(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128))break e;n|=(t[r]&127)<<28}return n}function si(t){for(var r=[],n=[0];n[0]<t.length;){var s=n[0],i=cm(t,n),o=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(o){case 0:{for(var u=n[0];t[n[0]++]>=128;);c=t.slice(u,n[0])}break;case 5:l=4,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 1:l=8,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 2:l=cm(t,n),c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(s))}var d={data:c,type:o};r[i]==null?r[i]=[d]:r[i].push(d)}return r}function Bi(t){var r=[];return t.forEach(function(n,s){n.forEach(function(i){i.data&&(r.push(Bn(s*8+i.type)),i.type==2&&r.push(Bn(i.data.length)),r.push(i.data))})}),Zu(r)}function Mo(t){for(var r,n=[],s=[0];s[0]<t.length;){var i=cm(t,s),o=si(t.slice(s[0],s[0]+i));s[0]+=i;var l={id:ah(o[1][0].data),messages:[]};o[2].forEach(function(c){var u=si(c.data),d=ah(u[3][0].data);l.messages.push({meta:u,data:t.slice(s[0],s[0]+d)}),s[0]+=d}),(r=o[3])!=null&&r[0]&&(l.merge=ah(o[3][0].data)>>>0>0),n.push(l)}return n}function lf(t){var r=[];return t.forEach(function(n){var s=[];s[1]=[{data:Bn(n.id),type:0}],s[2]=[],n.merge!=null&&(s[3]=[{data:Bn(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:Bn(l.data.length)}],s[2].push({data:Bi(l.meta),type:2})});var o=Bi(s);r.push(Bn(o.length)),r.push(o),i.forEach(function(l){return r.push(l)})}),Zu(r)}function Fhe(t,r){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],s=cm(r,n),i=[];n[0]<r.length;){var o=r[n[0]]&3;if(o==0){var l=r[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=r[n[0]],c>1&&(l|=r[n[0]+1]<<8),c>2&&(l|=r[n[0]+2]<<16),c>3&&(l|=r[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}i.push(r.slice(n[0],n[0]+l)),n[0]+=l;continue}else{var u=0,d=0;if(o==1?(d=(r[n[0]]>>2&7)+4,u=(r[n[0]++]&224)<<3,u|=r[n[0]++]):(d=(r[n[0]++]>>2)+1,o==2?(u=r[n[0]]|r[n[0]+1]<<8,n[0]+=2):(u=(r[n[0]]|r[n[0]+1]<<8|r[n[0]+2]<<16|r[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Zu(i)],u==0)throw new Error("Invalid offset 0");if(u>i[0].length)throw new Error("Invalid offset beyond length");if(d>=u)for(i.push(i[0].slice(-u)),d-=u;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-u,-u+d))}}var A=Zu(i);if(A.length!=s)throw new Error("Unexpected length: ".concat(A.length," != ").concat(s));return A}function Qo(t){for(var r=[],n=0;n<t.length;){var s=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,r.push(Fhe(s,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Zu(r)}function cf(t){for(var r=[],n=0;n<t.length;){var s=Math.min(t.length-n,268435455),i=new Uint8Array(4);r.push(i);var o=Bn(s),l=o.length;r.push(o),s<=60?(l++,r.push(new Uint8Array([s-1<<2]))):s<=256?(l+=2,r.push(new Uint8Array([240,s-1&255]))):s<=65536?(l+=3,r.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(l+=4,r.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(l+=5,r.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),r.push(t.slice(n,n+s)),l+=s,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,n+=s}return Zu(r)}function s2(t,r){var n=new Uint8Array(32),s=Dv(n),i=12,o=0;switch(n[0]=5,t.t){case"n":n[1]=2,Ohe(n,i,t.v),o|=1,i+=16;break;case"b":n[1]=6,s.setFloat64(i,t.v?1:0,!0),o|=2,i+=8;break;case"s":if(r.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,s.setUint32(i,r.indexOf(t.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return s.setUint32(8,o,!0),n.slice(0,i)}function i2(t,r){var n=new Uint8Array(32),s=Dv(n),i=12,o=0;switch(n[0]=3,t.t){case"n":n[2]=2,s.setFloat64(i,t.v,!0),o|=32,i+=8;break;case"b":n[2]=6,s.setFloat64(i,t.v?1:0,!0),o|=32,i+=8;break;case"s":if(r.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,s.setUint32(i,r.indexOf(t.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return s.setUint32(4,o,!0),n.slice(0,i)}function ru(t){var r=si(t);return cm(r[1][0].data)}function Ihe(t,r,n){var s,i,o,l;if(!((s=t[6])!=null&&s[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(o=t[8])==null?void 0:o[0])==null?void 0:l.data)&&ah(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var u=0,d=Dv(t[7][0].data),A=0,f=[],h=Dv(t[4][0].data),p=0,m=[],g=0;g<r.length;++g){if(r[g]==null){d.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}d.setUint16(g*2,A,!0),h.setUint16(g*2,p,!0);var b,y;switch(typeof r[g]){case"string":b=s2({t:"s",v:r[g]},n),y=i2({t:"s",v:r[g]},n);break;case"number":b=s2({t:"n",v:r[g]},n),y=i2({t:"n",v:r[g]},n);break;case"boolean":b=s2({t:"b",v:r[g]},n),y=i2({t:"b",v:r[g]},n);break;default:throw new Error("Unsupported value "+r[g])}f.push(b),A+=b.length,m.push(y),p+=y.length,++u}for(t[2][0].data=Bn(u);g<t[7][0].data.length/2;++g)d.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return t[6][0].data=Zu(f),t[3][0].data=Zu(m),u}function Phe(t,r){if(!r||!r.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=Za(n["!ref"]);s.s.r=s.s.c=0;var i=!1;s.e.c>9&&(i=!0,s.e.c=9),s.e.r>49&&(i=!0,s.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ei(s)));var o=Uv(n,{range:s,header:1}),l=["~Sh33tJ5~"];o.forEach(function(R){return R.forEach(function(U){typeof U=="string"&&l.push(U)})});var c={},u=[],d=Rn.read(r.numbers,{type:"base64"});d.FileIndex.map(function(R,U){return[R,d.FullPaths[U]]}).forEach(function(R){var U=R[0],T=R[1];if(U.type==2&&U.name.match(/\.iwa/)){var z=U.content,G=Qo(z),J=Mo(G);J.forEach(function(ee){u.push(ee.id),c[ee.id]={deps:[],location:T,type:ah(ee.messages[0].meta[1][0].data)}})}}),u.sort(function(R,U){return R-U});var A=u.filter(function(R){return R>1}).map(function(R){return[R,Bn(R)]});d.FileIndex.map(function(R,U){return[R,d.FullPaths[U]]}).forEach(function(R){var U=R[0];if(R[1],!!U.name.match(/\.iwa/)){var T=Mo(Qo(U.content));T.forEach(function(z){z.messages.forEach(function(G){A.forEach(function(J){z.messages.some(function(ee){return ah(ee.meta[1][0].data)!=11006&&The(ee.data,J[1])})&&c[J[0]].deps.push(z.id)})})})}});for(var f=Rn.find(d,c[1].location),h=Mo(Qo(f.content)),p,m=0;m<h.length;++m){var g=h[m];g.id==1&&(p=g)}var b=ru(si(p.messages[0].data)[1][0].data);for(f=Rn.find(d,c[b].location),h=Mo(Qo(f.content)),m=0;m<h.length;++m)g=h[m],g.id==b&&(p=g);for(b=ru(si(p.messages[0].data)[2][0].data),f=Rn.find(d,c[b].location),h=Mo(Qo(f.content)),m=0;m<h.length;++m)g=h[m],g.id==b&&(p=g);for(b=ru(si(p.messages[0].data)[2][0].data),f=Rn.find(d,c[b].location),h=Mo(Qo(f.content)),m=0;m<h.length;++m)g=h[m],g.id==b&&(p=g);var y=si(p.messages[0].data);{y[6][0].data=Bn(s.e.r+1),y[7][0].data=Bn(s.e.c+1);var x=ru(y[46][0].data),v=Rn.find(d,c[x].location),w=Mo(Qo(v.content));{for(var _=0;_<w.length&&w[_].id!=x;++_);if(w[_].id!=x)throw"Bad ColumnRowUIDMapArchive";var B=si(w[_].messages[0].data);B[1]=[],B[2]=[],B[3]=[];for(var N=0;N<=s.e.c;++N){var j=[];j[1]=j[2]=[{type:0,data:Bn(N+420690)}],B[1].push({type:2,data:Bi(j)}),B[2].push({type:0,data:Bn(N)}),B[3].push({type:0,data:Bn(N)})}B[4]=[],B[5]=[],B[6]=[];for(var C=0;C<=s.e.r;++C)j=[],j[1]=j[2]=[{type:0,data:Bn(C+726270)}],B[4].push({type:2,data:Bi(j)}),B[5].push({type:0,data:Bn(C)}),B[6].push({type:0,data:Bn(C)});w[_].messages[0].data=Bi(B)}v.content=cf(lf(w)),v.size=v.content.length,delete y[46];var E=si(y[4][0].data);{E[7][0].data=Bn(s.e.r+1);var S=si(E[1][0].data),k=ru(S[2][0].data);v=Rn.find(d,c[k].location),w=Mo(Qo(v.content));{if(w[0].id!=k)throw"Bad HeaderStorageBucket";var P=si(w[0].messages[0].data);for(C=0;C<o.length;++C){var M=si(P[2][0].data);M[1][0].data=Bn(C),M[4][0].data=Bn(o[C].length),P[2][C]={type:P[2][0].type,data:Bi(M)}}w[0].messages[0].data=Bi(P)}v.content=cf(lf(w)),v.size=v.content.length;var H=ru(E[2][0].data);v=Rn.find(d,c[H].location),w=Mo(Qo(v.content));{if(w[0].id!=H)throw"Bad HeaderStorageBucket";for(P=si(w[0].messages[0].data),N=0;N<=s.e.c;++N)M=si(P[2][0].data),M[1][0].data=Bn(N),M[4][0].data=Bn(s.e.r+1),P[2][N]={type:P[2][0].type,data:Bi(M)};w[0].messages[0].data=Bi(P)}v.content=cf(lf(w)),v.size=v.content.length;var F=ru(E[4][0].data);(function(){for(var R=Rn.find(d,c[F].location),U=Mo(Qo(R.content)),T,z=0;z<U.length;++z){var G=U[z];G.id==F&&(T=G)}var J=si(T.messages[0].data);{J[3]=[];var ee=[];l.forEach(function(ae,xe){ee[1]=[{type:0,data:Bn(xe)}],ee[2]=[{type:0,data:Bn(1)}],ee[3]=[{type:2,data:khe(ae)}],J[3].push({type:2,data:Bi(ee)})})}T.messages[0].data=Bi(J);var fe=lf(U),de=cf(fe);R.content=de,R.size=R.content.length})();var Q=si(E[3][0].data);{var K=Q[1][0];delete Q[2];var Y=si(K.data);{var V=ru(Y[2][0].data);(function(){for(var R=Rn.find(d,c[V].location),U=Mo(Qo(R.content)),T,z=0;z<U.length;++z){var G=U[z];G.id==V&&(T=G)}var J=si(T.messages[0].data);{delete J[6],delete Q[7];var ee=new Uint8Array(J[5][0].data);J[5]=[];for(var fe=0,de=0;de<=s.e.r;++de){var ae=si(ee);fe+=Ihe(ae,o[de],l),ae[1][0].data=Bn(de),J[5].push({data:Bi(ae),type:2})}J[1]=[{type:0,data:Bn(s.e.c+1)}],J[2]=[{type:0,data:Bn(s.e.r+1)}],J[3]=[{type:0,data:Bn(fe)}],J[4]=[{type:0,data:Bn(s.e.r+1)}]}T.messages[0].data=Bi(J);var xe=lf(U),X=cf(xe);R.content=X,R.size=R.content.length})()}K.data=Bi(Y)}E[3][0].data=Bi(Q)}y[4][0].data=Bi(E)}p.messages[0].data=Bi(y);var I=lf(h),O=cf(I);return f.content=O,f.size=f.content.length,d}function Lhe(t){return function(n){for(var s=0;s!=t.length;++s){var i=t[s];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function TS(t){Lhe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function Dhe(t,r){return r.bookType=="ods"?zU(t,r):r.bookType=="numbers"?Phe(t,r):r.bookType=="xlsb"?Uhe(t,r):Rhe(t,r)}function Uhe(t,r){Pf=1024,t&&!t.SSF&&(t.SSF=Pa(ks)),t&&t.SSF&&($1(),Q1(t.SSF),r.revssf=H1(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,p0?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var n=r.bookType=="xlsb"?"bin":"xml",s=CU.indexOf(r.bookType)>-1,i=rU();TS(r=r||{});var o=pS(),l="",c=0;if(r.cellXfs=[],Ad(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",Gr(o,l,aU(t.Props,r)),i.coreprops.push(l),Cn(r.rels,2,l,mn.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],d=0;d<t.SheetNames.length;++d)(t.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(t.SheetNames[d]);t.Props.SheetNames=u}for(t.Props.Worksheets=t.Props.SheetNames.length,Gr(o,l,lU(t.Props)),i.extprops.push(l),Cn(r.rels,3,l,mn.EXT_PROPS),t.Custprops!==t.Props&&Ri(t.Custprops||{}).length>0&&(l="docProps/custom.xml",Gr(o,l,cU(t.Custprops)),i.custprops.push(l),Cn(r.rels,4,l,mn.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var A={"!id":{}},f=t.Sheets[t.SheetNames[c-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:l="xl/worksheets/sheet"+c+"."+n,Gr(o,l,Qfe(c-1,l,r,t,A)),i.sheets.push(l),Cn(r.wbrels,-1,"worksheets/sheet"+c+"."+n,mn.WS[0])}if(f){var p=f["!comments"],m=!1,g="";p&&p.length>0&&(g="xl/comments"+c+"."+n,Gr(o,g,Vfe(p,g)),i.comments.push(g),Cn(A,-1,"../comments"+c+"."+n,mn.CMNT),m=!0),f["!legacy"]&&m&&Gr(o,"xl/drawings/vmlDrawing"+c+".vml",SU(c,f["!comments"])),delete f["!comments"],delete f["!legacy"]}A["!id"].rId1&&Gr(o,sU(l),sh(A))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+n,Gr(o,l,Hfe(r.Strings,l,r)),i.strs.push(l),Cn(r.wbrels,-1,"sharedStrings."+n,mn.SST)),l="xl/workbook."+n,Gr(o,l,Mfe(t,l)),i.workbooks.push(l),Cn(r.rels,1,l,mn.WB),l="xl/theme/theme1.xml",Gr(o,l,jU(t.Themes,r)),i.themes.push(l),Cn(r.wbrels,-1,"theme/theme1.xml",mn.THEME),l="xl/styles."+n,Gr(o,l,$fe(t,l,r)),i.styles.push(l),Cn(r.wbrels,-1,"styles."+n,mn.STY),t.vbaraw&&s&&(l="xl/vbaProject.bin",Gr(o,l,t.vbaraw),i.vba.push(l),Cn(r.wbrels,-1,"vbaProject.bin",mn.VBA)),l="xl/metadata."+n,Gr(o,l,zfe(l)),i.metadata.push(l),Cn(r.wbrels,-1,"metadata."+n,mn.XLMETA),Gr(o,"[Content_Types].xml",nU(i,r)),Gr(o,"_rels/.rels",sh(r.rels)),Gr(o,"xl/_rels/workbook."+n+".rels",sh(r.wbrels)),delete r.revssf,delete r.ssf,o}function Rhe(t,r){Pf=1024,t&&!t.SSF&&(t.SSF=Pa(ks)),t&&t.SSF&&($1(),Q1(t.SSF),r.revssf=H1(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,p0?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var n="xml",s=CU.indexOf(r.bookType)>-1,i=rU();TS(r=r||{});var o=pS(),l="",c=0;if(r.cellXfs=[],Ad(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",Gr(o,l,aU(t.Props,r)),i.coreprops.push(l),Cn(r.rels,2,l,mn.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],d=0;d<t.SheetNames.length;++d)(t.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(t.SheetNames[d]);t.Props.SheetNames=u}t.Props.Worksheets=t.Props.SheetNames.length,Gr(o,l,lU(t.Props)),i.extprops.push(l),Cn(r.rels,3,l,mn.EXT_PROPS),t.Custprops!==t.Props&&Ri(t.Custprops||{}).length>0&&(l="docProps/custom.xml",Gr(o,l,cU(t.Custprops)),i.custprops.push(l),Cn(r.rels,4,l,mn.CUST_PROPS));var A=["SheetJ5"];for(r.tcid=0,c=1;c<=t.SheetNames.length;++c){var f={"!id":{}},h=t.Sheets[t.SheetNames[c-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:l="xl/worksheets/sheet"+c+"."+n,Gr(o,l,LU(c-1,r,t,f)),i.sheets.push(l),Cn(r.wbrels,-1,"worksheets/sheet"+c+"."+n,mn.WS[0])}if(h){var m=h["!comments"],g=!1,b="";if(m&&m.length>0){var y=!1;m.forEach(function(x){x[1].forEach(function(v){v.T==!0&&(y=!0)})}),y&&(b="xl/threadedComments/threadedComment"+c+"."+n,Gr(o,b,mue(m,A,r)),i.threadedcomments.push(b),Cn(f,-1,"../threadedComments/threadedComment"+c+"."+n,mn.TCMNT)),b="xl/comments"+c+"."+n,Gr(o,b,BU(m)),i.comments.push(b),Cn(f,-1,"../comments"+c+"."+n,mn.CMNT),g=!0}h["!legacy"]&&g&&Gr(o,"xl/drawings/vmlDrawing"+c+".vml",SU(c,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Gr(o,sU(l),sh(f))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+n,Gr(o,l,gU(r.Strings,r)),i.strs.push(l),Cn(r.wbrels,-1,"sharedStrings."+n,mn.SST)),l="xl/workbook."+n,Gr(o,l,RU(t)),i.workbooks.push(l),Cn(r.rels,1,l,mn.WB),l="xl/theme/theme1.xml",Gr(o,l,jU(t.Themes,r)),i.themes.push(l),Cn(r.wbrels,-1,"theme/theme1.xml",mn.THEME),l="xl/styles."+n,Gr(o,l,bU(t,r)),i.styles.push(l),Cn(r.wbrels,-1,"styles."+n,mn.STY),t.vbaraw&&s&&(l="xl/vbaProject.bin",Gr(o,l,t.vbaraw),i.vba.push(l),Cn(r.wbrels,-1,"vbaProject.bin",mn.VBA)),l="xl/metadata."+n,Gr(o,l,NU()),i.metadata.push(l),Cn(r.wbrels,-1,"metadata."+n,mn.XLMETA),A.length>1&&(l="xl/persons/person.xml",Gr(o,l,gue(A)),i.people.push(l),Cn(r.wbrels,-1,"persons/person.xml",mn.PEOPLE)),Gr(o,"[Content_Types].xml",nU(i,r)),Gr(o,"_rels/.rels",sh(r.rels)),Gr(o,"xl/_rels/workbook."+n+".rels",sh(r.wbrels)),delete r.revssf,delete r.ssf,o}function Mhe(t,r){var n="";switch((r||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=kc(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function KU(t,r){switch(r.type){case"base64":case"binary":break;case"buffer":case"array":r.type="";break;case"file":return Mm(r.file,Rn.write(t,{type:yn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");default:throw new Error("Unrecognized type "+r.type)}return Rn.write(t,r)}function Qhe(t,r){var n=Pa(r||{}),s=Dhe(t,n);return $he(s,n)}function $he(t,r){var n={},s=yn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(r.compression&&(n.compression="DEFLATE"),r.password)n.type=s;else switch(r.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");case"buffer":case"file":n.type=s;break;default:throw new Error("Unrecognized type "+r.type)}var i=t.FullPaths?Rn.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!r.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(r.type=="binary"||r.type=="base64")return i;i=new Uint8Array(M1(i))}return r.password&&typeof encrypt_agile<"u"?KU(encrypt_agile(i,r.password),r):r.type==="file"?Mm(r.file,i):r.type=="string"?d0(i):i}function Hhe(t,r){var n=r||{},s=ihe(t,n);return KU(s,n)}function xl(t,r,n){n||(n="");var s=n+t;switch(r.type){case"base64":return im(om(s));case"binary":return om(s);case"string":return t;case"file":return Mm(r.file,s,"utf8");case"buffer":return yn?Rc(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):xl(s,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function Vhe(t,r){switch(r.type){case"base64":return im(t);case"binary":return t;case"string":return t;case"file":return Mm(r.file,t,"binary");case"buffer":return yn?Rc(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function By(t,r){switch(r.type){case"string":case"base64":case"binary":for(var n="",s=0;s<t.length;++s)n+=String.fromCharCode(t[s]);return r.type=="base64"?im(n):r.type=="string"?d0(n):n;case"file":return Mm(r.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+r.type)}}function GU(t,r){yoe(),Efe(t);var n=Pa(r||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var s=GU(t,n);return n.type="array",M1(s)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return xl(nhe(t,n),n);case"slk":case"sylk":return xl(Bce.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return xl($U(t.Sheets[t.SheetNames[i]],n),n);case"txt":return Vhe(WU(t.Sheets[t.SheetNames[i]],n),n);case"csv":return xl(OS(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return xl(Cce.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return By(Sce.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return xl(_ce.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return xl(Pce.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return xl(mU.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return xl(zU(t,n),n);case"wk1":return By(Ok.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return By(Ok.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),By(QU(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),Hhe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Qhe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function zhe(t,r,n,s,i,o,l,c){var u=Di(n),d=c.defval,A=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!l||t[n])for(var p=r.s.c;p<=r.e.c;++p){var m=l?t[n][p]:t[s[p]+u];if(m===void 0||m.t===void 0){if(d===void 0)continue;o[p]!=null&&(h[o[p]]=d);continue}var g=m.v;switch(m.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(o[p]!=null){if(g==null)if(m.t=="e"&&g===null)h[o[p]]=null;else if(d!==void 0)h[o[p]]=d;else if(A&&g===null)h[o[p]]=null;else continue;else h[o[p]]=A&&(m.t!=="n"||m.t==="n"&&c.rawNumbers!==!1)?g:Tc(m,g,c);g!=null&&(f=!1)}}return{row:h,isempty:f}}function Uv(t,r){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},s=0,i=1,o=[],l=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},d=r||{},A=d.range!=null?d.range:t["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)?s=3:d.header==null&&(s=0),typeof A){case"string":u=is(A);break;case"number":u=is(t["!ref"]),u.s.r=A;break;default:u=A}s>0&&(i=0);var f=Di(u.s.r),h=[],p=[],m=0,g=0,b=Array.isArray(t),y=u.s.r,x=0,v={};b&&!t[y]&&(t[y]=[]);var w=d.skipHidden&&t["!cols"]||[],_=d.skipHidden&&t["!rows"]||[];for(x=u.s.c;x<=u.e.c;++x)if(!(w[x]||{}).hidden)switch(h[x]=ea(x),n=b?t[y][x]:t[h[x]+f],s){case 1:o[x]=x-u.s.c;break;case 2:o[x]=h[x];break;case 3:o[x]=d.header[x-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=Tc(n,null,d),g=v[l]||0,!g)v[l]=1;else{do c=l+"_"+g++;while(v[c]);v[l]=g,v[c]=1}o[x]=c}for(y=u.s.r+i;y<=u.e.r;++y)if(!(_[y]||{}).hidden){var B=zhe(t,u,y,h,s,o,b,d);(B.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows))&&(p[m++]=B.row)}return p.length=m,p}var Mk=/"/g;function Khe(t,r,n,s,i,o,l,c){for(var u=!0,d=[],A="",f=Di(n),h=r.s.c;h<=r.e.c;++h)if(s[h]){var p=c.dense?(t[n]||[])[h]:t[s[h]+f];if(p==null)A="";else if(p.v!=null){u=!1,A=""+(c.rawNumbers&&p.t=="n"?p.v:Tc(p,null,c));for(var m=0,g=0;m!==A.length;++m)if((g=A.charCodeAt(m))===i||g===o||g===34||c.forceQuotes){A='"'+A.replace(Mk,'""')+'"';break}A=="ID"&&(A='"ID"')}else p.f!=null&&!p.F?(u=!1,A="="+p.f,A.indexOf(",")>=0&&(A='"'+A.replace(Mk,'""')+'"')):A="";d.push(A)}return c.blankrows===!1&&u?null:d.join(l)}function OS(t,r){var n=[],s=r??{};if(t==null||t["!ref"]==null)return"";var i=is(t["!ref"]),o=s.FS!==void 0?s.FS:",",l=o.charCodeAt(0),c=s.RS!==void 0?s.RS:`
`,u=c.charCodeAt(0),d=new RegExp((o=="|"?"\\|":o)+"+$"),A="",f=[];s.dense=Array.isArray(t);for(var h=s.skipHidden&&t["!cols"]||[],p=s.skipHidden&&t["!rows"]||[],m=i.s.c;m<=i.e.c;++m)(h[m]||{}).hidden||(f[m]=ea(m));for(var g=0,b=i.s.r;b<=i.e.r;++b)(p[b]||{}).hidden||(A=Khe(t,i,b,f,l,u,o,s),A!=null&&(s.strip&&(A=A.replace(d,"")),(A||s.blankrows!==!1)&&n.push((g++?c:"")+A)));return delete s.dense,n.join("")}function WU(t,r){r||(r={}),r.FS="	",r.RS=`
`;var n=OS(t,r);return n}function Ghe(t){var r="",n,s="";if(t==null||t["!ref"]==null)return[];var i=is(t["!ref"]),o="",l=[],c,u=[],d=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)l[c]=ea(c);for(var A=i.s.r;A<=i.e.r;++A)for(o=Di(A),c=i.s.c;c<=i.e.c;++c)if(r=l[c]+o,n=d?(t[A]||[])[c]:t[r],s="",n!==void 0){if(n.F!=null){if(r=n.F,!n.f)continue;s=n.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(n.f!=null)s=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)s=""+n.v;else if(n.t=="b")s=n.v?"TRUE":"FALSE";else if(n.w!==void 0)s="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?s="'"+n.v:s=""+n.v}}u[u.length]=r+"="+s}return u}function qU(t,r,n){var s=n||{},i=+!s.skipHeader,o=t||{},l=0,c=0;if(o&&s.origin!=null)if(typeof s.origin=="number")l=s.origin;else{var u=typeof s.origin=="string"?vi(s.origin):s.origin;l=u.r,c=u.c}var d,A={s:{c:0,r:0},e:{c,r:l+r.length-1+i}};if(o["!ref"]){var f=is(o["!ref"]);A.e.c=Math.max(A.e.c,f.e.c),A.e.r=Math.max(A.e.r,f.e.r),l==-1&&(l=f.e.r+1,A.e.r=l+r.length-1+i)}else l==-1&&(l=0,A.e.r=r.length-1+i);var h=s.header||[],p=0;r.forEach(function(g,b){Ri(g).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var x=g[y],v="z",w="",_=Tn({c:c+p,r:l+b+i});d=um(o,_),x&&typeof x=="object"&&!(x instanceof Date)?o[_]=x:(typeof x=="number"?v="n":typeof x=="boolean"?v="b":typeof x=="string"?v="s":x instanceof Date?(v="d",s.cellDates||(v="n",x=Ia(x)),w=s.dateNF||ks[14]):x===null&&s.nullError&&(v="e",x=0),d?(d.t=v,d.v=x,delete d.w,delete d.R,w&&(d.z=w)):o[_]=d={t:v,v:x},w&&(d.z=w))})}),A.e.c=Math.max(A.e.c,c+h.length-1);var m=Di(l);if(i)for(p=0;p<h.length;++p)o[ea(p+c)+m]={t:"s",v:h[p]};return o["!ref"]=ei(A),o}function Whe(t,r){return qU(null,t,r)}function um(t,r,n){if(typeof r=="string"){if(Array.isArray(t)){var s=vi(r);return t[s.r]||(t[s.r]=[]),t[s.r][s.c]||(t[s.r][s.c]={t:"z"})}return t[r]||(t[r]={t:"z"})}return typeof r!="number"?um(t,Tn(r)):um(t,Tn({r,c:n||0}))}function qhe(t,r){if(typeof r=="number"){if(r>=0&&t.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var n=t.SheetNames.indexOf(r);if(n>-1)return n;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function Yhe(){return{SheetNames:[],Sheets:{}}}function Xhe(t,r,n,s){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&t.SheetNames.indexOf(n)>=0){var o=n.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var l=o&&o[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=l+i)!=-1;++i);}if(UU(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=r,n}function Jhe(t,r,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var s=qhe(t,r);switch(t.Workbook.Sheets[s]||(t.Workbook.Sheets[s]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[s].Hidden=n}function Zhe(t,r){return t.z=r,t}function YU(t,r,n){return r?(t.l={Target:r},n&&(t.l.Tooltip=n)):delete t.l,t}function epe(t,r,n){return YU(t,"#"+r,n)}function tpe(t,r,n){t.c||(t.c=[]),t.c.push({t:r,a:n||"SheetJS"})}function rpe(t,r,n,s){for(var i=typeof r!="string"?r:is(r),o=typeof r=="string"?r:ei(r),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var u=um(t,l,c);u.t="n",u.F=o,delete u.v,l==i.s.r&&c==i.s.c&&(u.f=n,s&&(u.D=!0))}return t}var $o={encode_col:ea,encode_row:Di,encode_cell:Tn,encode_range:ei,decode_col:bS,decode_row:vS,split_cell:yle,decode_cell:vi,decode_range:Za,format_cell:Tc,sheet_add_aoa:YD,sheet_add_json:qU,sheet_add_dom:HU,aoa_to_sheet:Rh,json_to_sheet:Whe,table_to_sheet:VU,table_to_book:Che,sheet_to_csv:OS,sheet_to_txt:WU,sheet_to_json:Uv,sheet_to_html:$U,sheet_to_formulae:Ghe,sheet_to_row_object_array:Uv,sheet_get_cell:um,book_new:Yhe,book_append_sheet:Xhe,book_set_sheet_visibility:Jhe,cell_set_number_format:Zhe,cell_set_hyperlink:YU,cell_set_internal_link:epe,cell_add_comment:tpe,sheet_set_array_formula:rpe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},XU={exports:{}};(function(t,r){(function(n,s){s()})(wl,function(){function n(d,A){return typeof A>"u"?A={autoBom:!1}:typeof A!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),A={autoBom:!A}),A.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function s(d,A,f){var h=new XMLHttpRequest;h.open("GET",d),h.responseType="blob",h.onload=function(){u(h.response,A,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(d){var A=new XMLHttpRequest;A.open("HEAD",d,!1);try{A.send()}catch{}return 200<=A.status&&299>=A.status}function o(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var A=document.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(A)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof wl=="object"&&wl.global===wl?wl:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(d,A,f){var h=l.URL||l.webkitURL,p=document.createElement("a");A=A||d.name||"download",p.download=A,p.rel="noopener",typeof d=="string"?(p.href=d,p.origin===location.origin?o(p):i(p.href)?s(d,A,f):o(p,p.target="_blank")):(p.href=h.createObjectURL(d),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){o(p)},0))}:"msSaveOrOpenBlob"in navigator?function(d,A,f){if(A=A||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,f),A);else if(i(d))s(d,A,f);else{var h=document.createElement("a");h.href=d,h.target="_blank",setTimeout(function(){o(h)})}}:function(d,A,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof d=="string")return s(d,A,f);var p=d.type==="application/octet-stream",m=/constructor/i.test(l.HTMLElement)||l.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||p&&m||c)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var v=b.result;v=g?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=v:location=v,h=null},b.readAsDataURL(d)}else{var y=l.URL||l.webkitURL,x=y.createObjectURL(d);h?h.location=x:location.href=x,h=null,setTimeout(function(){y.revokeObjectURL(x)},4e4)}});l.saveAs=u.saveAs=u,t.exports=u})})(XU);var npe=XU.exports;const spe=()=>{const{user:t}=On(),[r,n]=te.useState({totalRevenue:0,totalCount:0,avgValue:0,topProducts:[],topServices:[],topItems:[],revenueByMonth:[],revenueByMonthAllTime:[],ordersByStatus:{},bookingsByStatus:{},totalUniqueCustomers:0,returningCustomers:0,retentionRate:0,revenueChangePct:0,countChangePct:0,avgValueChangePct:0,currency:"LKR"}),[s,i]=te.useState(!0);te.useState("30");const[o,l]=te.useState("0"),[c,u]=te.useState("overview");te.useEffect(()=>{(t==null?void 0:t.role)==="store_owner"&&(t!=null&&t.storeId)&&d()},[t,o]);const d=async()=>{try{i(!0);const h=t.storeId,p=await fetch(`http://localhost:10000/api/analytics/${h}?months=${o}`,{credentials:"include"});if(p.ok){const m=await p.json();n(m)}}catch(h){console.error("Error fetching analytics:",h)}finally{i(!1)}},A=({value:h,label:p="from last period"})=>{const m=h>0?`+${h}%`:`${h}%`,g=h>0?"text-green-600":h<0?"text-red-600":"text-gray-600";return a.jsxs("p",{className:`text-sm mt-1 ${g}`,children:[m," ",p]})},f=(h,p,m)=>{var g,b;try{const y=$o.book_new(),x=p===0?"All Time":typeof p=="number"?`Last ${p} month${p>1?"s":""}`:String(p),v=[["Store ID",m||"unknown"],["Export Date",new Date().toISOString()],["Month Range",x],["Currency",h.currency||"LKR"],[],["Total Revenue",h.totalRevenue],["Total Orders/Bookings",h.totalCount],["Average Value",h.avgValue],["Total Unique Customers",h.totalUniqueCustomers],["Returning Customers",h.returningCustomers],["Retention Rate (%)",h.retentionRate||"0"]],w=$o.aoa_to_sheet(v);if($o.book_append_sheet(y,w,"Summary"),((g=h.revenueByMonth)==null?void 0:g.length)>0){const N=[["Year","Month","Revenue"],...h.revenueByMonth.map(({year:C,month:E,revenue:S})=>[C,E,S])],j=$o.aoa_to_sheet(N);$o.book_append_sheet(y,j,"RevenueByMonth")}if(((b=h.topItems)==null?void 0:b.length)>0){const N=Object.keys(h.topItems[0]),j=[N,...h.topItems.map(E=>N.map(S=>E[S]))],C=$o.aoa_to_sheet(j);$o.book_append_sheet(y,C,"TopItems")}if(h.ordersByStatus){const N=[["Status","Count"]];for(const[C,E]of Object.entries(h.ordersByStatus))N.push([C,E]);const j=$o.aoa_to_sheet(N);$o.book_append_sheet(y,j,"OrdersByStatus")}if(h.bookingsByStatus){const N=[["Status","Count"]];for(const[C,E]of Object.entries(h.bookingsByStatus))N.push([C,E]);const j=$o.aoa_to_sheet(N);$o.book_append_sheet(y,j,"BookingsByStatus")}const _=GU(y,{bookType:"xlsx",type:"array"}),B=new Blob([_],{type:"application/octet-stream"});npe.saveAs(B,`sales-analytics-${new Date().toISOString().split("T")[0]}.xlsx`)}catch(y){console.error("Failed to export Excel:",y)}};return!t||t.role!=="store_owner"?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"Only store owners can access sales analytics"})]})}):s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(_s,{size:"xl"})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales Analytics"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track your store's performance and growth"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("select",{value:o,onChange:h=>l(h.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[a.jsx("option",{value:"1",children:"Last month"}),a.jsx("option",{value:"3",children:"Last 3 months"}),a.jsx("option",{value:"6",children:"Last 6 months"}),a.jsx("option",{value:"12",children:"Last year"}),a.jsx("option",{value:"0",children:"All Time"})]}),a.jsxs("button",{onClick:f,className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors flex items-center space-x-2",children:[a.jsx(Tm,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]})}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",name:"Overview",icon:c8},{id:"customers",name:"Customers",icon:zl}].map(h=>{const p=h.icon;return a.jsxs("button",{onClick:()=>u(h.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${c===h.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(p,{className:"w-5 h-5"}),a.jsx("span",{children:h.name})]},h.id)})})})}),c==="overview"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:nw(r.totalRevenue)}),a.jsx(A,{value:r.revenueChangePct})]}),a.jsx(hA,{className:"w-8 h-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Orders"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.totalCount}),a.jsx(A,{value:r.countChangePct})]}),a.jsx(Fi,{className:"w-8 h-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Bookings"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.totalCount}),a.jsx(A,{value:r.countChangePct})]}),a.jsx(Es,{className:"w-8 h-8 text-purple-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Avg. Order Value"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:nw(r.avgValue)}),a.jsx(A,{value:r.avgValueChangePct})]}),a.jsx(Hl,{className:"w-8 h-8 text-orange-500"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),a.jsx("div",{className:"h-64 flex items-end space-x-2",children:r.revenueByMonthAllTime.map((h,p)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[a.jsx("div",{className:"bg-black rounded-t w-full",style:{height:`${Math.max(h.revenue/Math.max(...r.revenueByMonthAllTime.map(m=>m.revenue))*200,10)}px`}}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:h.month}),a.jsx("p",{className:"text-xs font-medium",children:nw(h.revenue)})]},p))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Status Distribution"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(r.ordersByStatus).map(([h,p])=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p}),a.jsx("div",{className:"text-sm text-gray-500 capitalize",children:h})]},h))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Status Distribution"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(r.bookingsByStatus).map(([h,p])=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p}),a.jsx("div",{className:"text-sm text-gray-500 capitalize",children:h})]},h))})]})]}),c==="customers"&&a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Analytics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-blue-600",children:"Total Customers"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:r.totalUniqueCustomers||0})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-green-600",children:"Returning Customers"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:r.returningCustomers||0})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-purple-600",children:"Retention Rate"}),a.jsx("p",{className:"text-2xl font-bold text-purple-900",children:a.jsxs("span",{className:`${r.retentionRate>=50?"text-green-600":r.retentionRate>0?"text-yellow-600":"text-red-600"}`,children:[r.retentionRate||0,"%"]})})]})]})]})})]})})},ipe=()=>{const{user:t}=On(),[r,n]=te.useState(null),[s,i]=te.useState(!0),[o,l]=te.useState(!1),[c,u]=te.useState("commission"),[d,A]=te.useState(""),[f,h]=te.useState(""),[p,m]=te.useState(!1),[g,b]=te.useState({});te.useEffect(()=>{(t==null?void 0:t.email)==="admin@aio.com"&&y()},[t]);const y=async()=>{try{i(!0);const N=await fetch("http://localhost:10000/api/platform-settings",{credentials:"include"});if(N.ok){const j=await N.json();n(j),b(j)}else A("Failed to fetch platform settings")}catch(N){console.error("Error fetching settings:",N),A("Network error occurred")}finally{i(!1)}},x=async()=>{l(!0),A(""),h("");try{const N=await fetch("http://localhost:10000/api/platform-settings",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(N.ok){const j=await N.json();n(j),b(j),h("Platform settings updated successfully!")}else{const j=await N.json();A(j.error||"Failed to update settings")}}catch(N){console.error("Error updating settings:",N),A("Network error occurred")}finally{l(!1)}},v=async()=>{try{const N=await fetch("http://localhost:10000/api/platform-settings/reset",{method:"POST",credentials:"include"});if(N.ok){const j=await N.json();n(j),b(j),h("Platform settings reset to defaults!"),m(!1)}else A("Failed to reset settings")}catch(N){console.error("Error resetting settings:",N),A("Network error occurred")}},w=(N,j)=>{const C=N.split("."),E={...g};let S=E;for(let k=0;k<C.length-1;k++)S[C[k]]||(S[C[k]]={}),S=S[C[k]];S[C[C.length-1]]=j,b(E)},_=(N,j)=>j.split(".").reduce((C,E)=>C==null?void 0:C[E],N);if(!t||t.email!=="admin@aio.com")return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md",children:[a.jsx(yu,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"Only platform administrators can access these settings."})]})});if(s)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(_s,{size:"xl"})});const B=[{id:"commission",name:"Commission Rates",icon:GC},{id:"subscription",name:"Subscriptions",icon:Es},{id:"payment",name:"Payment Settings",icon:Vu},{id:"platform",name:"Platform Config",icon:WC},{id:"features",name:"Feature Flags",icon:Ed}];return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-3",children:[a.jsx(p1,{className:"w-8 h-8"}),a.jsx("span",{children:"Platform Settings"})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure platform-wide settings and policies"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>m(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[a.jsx(v8,{className:"w-4 h-4"}),a.jsx("span",{children:"Reset to Defaults"})]}),a.jsxs("button",{onClick:x,disabled:o,className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[o?a.jsx(_s,{size:"sm"}):a.jsx(yq,{className:"w-4 h-4"}),a.jsx("span",{children:o?"Saving...":"Save Changes"})]})]})]})}),d&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 flex items-center space-x-2",children:[a.jsx(yu,{className:"w-5 h-5"}),a.jsx("span",{children:d})]}),f&&a.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6 flex items-center space-x-2",children:[a.jsx(Kn,{className:"w-5 h-5"}),a.jsx("span",{children:f})]}),r&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(iq,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"font-medium text-blue-900",children:"Settings Information"})]}),a.jsxs("div",{className:"text-sm text-blue-800",children:[a.jsxs("p",{children:["Version: ",r.version," | Last updated: ",new Date(r.updatedAt).toLocaleString()]}),r.lastUpdatedBy&&a.jsxs("p",{children:["Updated by: ",r.lastUpdatedBy.name," (",r.lastUpdatedBy.email,")"]})]})]}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:B.map(N=>{const j=N.icon;return a.jsxs("button",{onClick:()=>u(N.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${c===N.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(j,{className:"w-5 h-5"}),a.jsx("span",{children:N.name})]},N.id)})})})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c==="commission"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(GC,{className:"w-6 h-6 text-gray-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Commission Rate Settings"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Sales Commission (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:(_(g,"commissionRates.productSales")||0)*100,onChange:N=>w("commissionRates.productSales",parseFloat(N.target.value)/100),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current: ",((_(g,"commissionRates.productSales")||0)*100).toFixed(2),"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Bookings Commission (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:(_(g,"commissionRates.serviceBookings")||0)*100,onChange:N=>w("commissionRates.serviceBookings",parseFloat(N.target.value)/100),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current: ",((_(g,"commissionRates.serviceBookings")||0)*100).toFixed(2),"%"]})]})]}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(yu,{className:"w-5 h-5 text-yellow-600"}),a.jsx("span",{className:"font-medium text-yellow-800",children:"Important Note"})]}),a.jsx("p",{className:"text-yellow-700 mt-2",children:"Commission rate changes will apply to all new transactions. Existing pending transactions will use the previous rates."})]})]}),c==="subscription"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Es,{className:"w-6 h-6 text-gray-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Subscription Settings"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Monthly Price (",_(g,"subscriptionSettings.currency")||"LKR",")"]}),a.jsx("input",{type:"number",min:"0",value:_(g,"subscriptionSettings.monthlyPrice")||0,onChange:N=>w("subscriptionSettings.monthlyPrice",parseFloat(N.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subscription Duration (days)"}),a.jsx("input",{type:"number",min:"1",value:_(g,"subscriptionSettings.duration")||30,onChange:N=>w("subscriptionSettings.duration",parseInt(N.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),a.jsxs("select",{value:_(g,"subscriptionSettings.currency")||"LKR",onChange:N=>w("subscriptionSettings.currency",N.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[a.jsx("option",{value:"LKR",children:"Sri Lankan Rupee (LKR)"}),a.jsx("option",{value:"USD",children:"US Dollar (USD)"}),a.jsx("option",{value:"EUR",children:"Euro (EUR)"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trial Period (days)"}),a.jsx("input",{type:"number",min:"0",value:_(g,"subscriptionSettings.trialPeriod")||0,onChange:N=>w("subscriptionSettings.trialPeriod",parseInt(N.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]})]}),c==="payment"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Vu,{className:"w-6 h-6 text-gray-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Processing Settings"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Processing Fee (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:(_(g,"paymentSettings.processingFee")||0)*100,onChange:N=>w("paymentSettings.processingFee",parseFloat(N.target.value)/100),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Amount (LKR)"}),a.jsx("input",{type:"number",min:"0",value:_(g,"paymentSettings.minimumAmount")||0,onChange:N=>w("paymentSettings.minimumAmount",parseFloat(N.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Amount (LKR)"}),a.jsx("input",{type:"number",min:"0",value:_(g,"paymentSettings.maximumAmount")||0,onChange:N=>w("paymentSettings.maximumAmount",parseFloat(N.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Supported Payment Methods"}),a.jsx("div",{className:"space-y-4",children:(_(g,"paymentSettings.supportedMethods")||[]).map((N,j)=>a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center",children:[a.jsx("div",{children:a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:N.enabled,onChange:C=>{const E=[..._(g,"paymentSettings.supportedMethods")||[]];E[j].enabled=C.target.checked,w("paymentSettings.supportedMethods",E)},className:"rounded border-gray-300 text-black focus:ring-black"}),a.jsx("span",{className:"font-medium",children:N.name})]})}),a.jsx("div",{children:a.jsx("input",{type:"text",value:N.description,onChange:C=>{const E=[..._(g,"paymentSettings.supportedMethods")||[]];E[j].description=C.target.value,w("paymentSettings.supportedMethods",E)},className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",placeholder:"Description"})}),a.jsx("div",{children:a.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:(N.processingFee||0)*100,onChange:C=>{const E=[..._(g,"paymentSettings.supportedMethods")||[]];E[j].processingFee=parseFloat(C.target.value)/100,w("paymentSettings.supportedMethods",E)},className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",placeholder:"Fee %"})}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Fee: ",((N.processingFee||0)*100).toFixed(2),"%"]})]})},N.id))})]})]}),c==="platform"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(WC,{className:"w-6 h-6 text-gray-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Platform Configuration"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Products per Store"}),a.jsx("input",{type:"number",min:"1",value:_(g,"platformConfig.maxProductsPerStore")||1e3,onChange:N=>w("platformConfig.maxProductsPerStore",parseInt(N.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Services per Store"}),a.jsx("input",{type:"number",min:"1",value:_(g,"platformConfig.maxServicesPerStore")||100,onChange:N=>w("platformConfig.maxServicesPerStore",parseInt(N.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Images per Product"}),a.jsx("input",{type:"number",min:"1",value:_(g,"platformConfig.maxImagesPerProduct")||10,onChange:N=>w("platformConfig.maxImagesPerProduct",parseInt(N.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Images per Service"}),a.jsx("input",{type:"number",min:"1",value:_(g,"platformConfig.maxImagesPerService")||5,onChange:N=>w("platformConfig.maxImagesPerService",parseInt(N.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max File Size (MB)"}),a.jsx("input",{type:"number",min:"1",value:(_(g,"platformConfig.maxFileSize")||10485760)/1048576,onChange:N=>w("platformConfig.maxFileSize",parseFloat(N.target.value)*1048576),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(z0,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"font-medium text-red-900",children:"Maintenance Mode"})]}),a.jsxs("label",{className:"flex items-center space-x-2 mb-3",children:[a.jsx("input",{type:"checkbox",checked:_(g,"platformConfig.maintenanceMode")||!1,onChange:N=>w("platformConfig.maintenanceMode",N.target.checked),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),a.jsx("span",{className:"text-red-800",children:"Enable maintenance mode"})]}),a.jsx("textarea",{value:_(g,"platformConfig.maintenanceMessage")||"",onChange:N=>w("platformConfig.maintenanceMessage",N.target.value),rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Maintenance message to display to users"})]})]}),c==="features"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Ed,{className:"w-6 h-6 text-gray-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Feature Flags"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"enableReviews",label:"Enable Reviews",icon:Wr,description:"Allow customers to review products and services"},{key:"enableSubscriptions",label:"Enable Subscriptions",icon:Es,description:"Enable store owner subscriptions"},{key:"enableCommissions",label:"Enable Commissions",icon:hA,description:"Collect platform commissions on transactions"},{key:"enableAnalytics",label:"Enable Analytics",icon:ZW,description:"Provide analytics and reporting features"},{key:"enableNotifications",label:"Enable Notifications",icon:kN,description:"Send email and push notifications"}].map(N=>{const j=N.icon;return a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(j,{className:"w-6 h-6 text-gray-600 mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("input",{type:"checkbox",checked:_(g,`features.${N.key}`)||!1,onChange:C=>w(`features.${N.key}`,C.target.checked),className:"rounded border-gray-300 text-black focus:ring-black"}),a.jsx("span",{className:"font-medium text-gray-900",children:N.label})]}),a.jsx("p",{className:"text-sm text-gray-600",children:N.description})]})]})},N.key)})})]})]}),a.jsx(mD,{isOpen:p,onClose:()=>m(!1),title:"Reset Platform Settings",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-red-600",children:[a.jsx(yu,{className:"w-8 h-8"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Are you sure?"}),a.jsx("p",{className:"text-sm text-gray-600",children:"This action will reset all platform settings to their default values and cannot be undone."})]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"This will reset:"}),a.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[a.jsx("li",{children:"• Commission rates"}),a.jsx("li",{children:"• Subscription pricing and settings"}),a.jsx("li",{children:"• Payment processing configuration"}),a.jsx("li",{children:"• Platform limits and configuration"}),a.jsx("li",{children:"• Feature flags"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:v,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reset Settings"})]})]})})]})})};function ape(){return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"Help Center"}),a.jsx("p",{className:"mt-2 text-gray-400",children:"AIO Platform Support"})]}),a.jsxs("div",{className:"bg-zinc-900 p-8 rounded-lg shadow-md space-y-6 text-white",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Getting Started"}),a.jsx("p",{className:"mt-2 font-medium text-gray-200",children:"Setting Up Your Store"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Creating your store on AIO is simple. After signing up, you'll be guided through our setup wizard..."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mt-6",children:"Selling on AIO"}),a.jsx("p",{className:"mt-2 font-medium text-gray-200",children:"Payment Processing"}),a.jsx("p",{className:"text-sm text-gray-300",children:"AIO supports major payment methods including credit cards, PayPal..."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mt-6",children:"Customer Support"}),a.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300",children:[a.jsx("li",{children:"24/7 technical support"}),a.jsx("li",{children:"Knowledge base & tutorials"}),a.jsx("li",{children:"Community forums & webinars"})]})]})]})]})})}function ope(){return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"Contact Us"}),a.jsx("p",{className:"mt-2 text-gray-400",children:"AIO Platform Support"})]}),a.jsxs("div",{className:"bg-zinc-900 p-8 rounded-lg shadow-md space-y-6 text-white",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Email Support"}),a.jsx("ul",{className:"text-sm space-y-1 text-gray-300",children:a.jsxs("li",{children:[a.jsx("strong",{children:"General:"})," support@aio.com"]})})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6",children:"Chat"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Available 24/7 via Whatsapp."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6",children:"Phone Support"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Sri Lanka: +94 74 114 5704"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Hours: Mon–Fri 9AM–8PM "})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6",children:"Business Address"}),a.jsxs("address",{className:"text-sm not-italic text-gray-300",children:["No.50/A",a.jsx("br",{}),"3rd Mile Post",a.jsx("br",{}),"Batawala, Padukka",a.jsx("br",{}),"Western, Sri Lanka"]})]})]})]})})}const FS=te.createContext({});function IS(t){const r=te.useRef(null);return r.current===null&&(r.current=t()),r.current}const PS=typeof window<"u",JU=PS?te.useLayoutEffect:te.useEffect,W1=te.createContext(null);function LS(t,r){t.indexOf(r)===-1&&t.push(r)}function DS(t,r){const n=t.indexOf(r);n>-1&&t.splice(n,1)}const Oc=(t,r,n)=>n>r?r:n<t?t:n;let Rv=()=>{};const Fc={},ZU=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function eR(t){return typeof t=="object"&&t!==null}const tR=t=>/^0[^.\s]+$/u.test(t);function US(t){let r;return()=>(r===void 0&&(r=t()),r)}const Bo=t=>t,lpe=(t,r)=>n=>r(t(n)),zm=(...t)=>t.reduce(lpe),dm=(t,r,n)=>{const s=r-t;return s===0?1:(n-t)/s};class RS{constructor(){this.subscriptions=[]}add(r){return LS(this.subscriptions,r),()=>DS(this.subscriptions,r)}notify(r,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](r,n,s);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(r,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rl=t=>t*1e3,Ml=t=>t/1e3;function rR(t,r){return r?t*(1e3/r):0}const nR=(t,r,n)=>(((1-3*n+3*r)*t+(3*n-6*r))*t+3*r)*t,cpe=1e-7,upe=12;function dpe(t,r,n,s,i){let o,l,c=0;do l=r+(n-r)/2,o=nR(l,s,i)-t,o>0?n=l:r=l;while(Math.abs(o)>cpe&&++c<upe);return l}function Km(t,r,n,s){if(t===r&&n===s)return Bo;const i=o=>dpe(o,0,1,t,n);return o=>o===0||o===1?o:nR(i(o),r,s)}const sR=t=>r=>r<=.5?t(2*r)/2:(2-t(2*(1-r)))/2,iR=t=>r=>1-t(1-r),aR=Km(.33,1.53,.69,.99),MS=iR(aR),oR=sR(MS),lR=t=>(t*=2)<1?.5*MS(t):.5*(2-Math.pow(2,-10*(t-1))),QS=t=>1-Math.sin(Math.acos(t)),cR=iR(QS),uR=sR(QS),Ape=Km(.42,0,1,1),fpe=Km(0,0,.58,1),dR=Km(.42,0,.58,1),hpe=t=>Array.isArray(t)&&typeof t[0]!="number",AR=t=>Array.isArray(t)&&typeof t[0]=="number",Qk={linear:Bo,easeIn:Ape,easeInOut:dR,easeOut:fpe,circIn:QS,circInOut:uR,circOut:cR,backIn:MS,backInOut:oR,backOut:aR,anticipate:lR},ppe=t=>typeof t=="string",$k=t=>{if(AR(t)){Rv(t.length===4);const[r,n,s,i]=t;return Km(r,n,s,i)}else if(ppe(t))return Rv(Qk[t]!==void 0),Qk[t];return t},Cy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Hk={value:null,addProjectionMetrics:null};function mpe(t,r){let n=new Set,s=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},u=0;function d(f){l.has(f)&&(A.schedule(f),t()),u++,f(c)}const A={schedule:(f,h=!1,p=!1)=>{const g=p&&i?n:s;return h&&l.add(f),g.has(f)||g.add(f),f},cancel:f=>{s.delete(f),l.delete(f)},process:f=>{if(c=f,i){o=!0;return}i=!0,[n,s]=[s,n],n.forEach(d),r&&Hk.value&&Hk.value.frameloop[r].push(u),u=0,n.clear(),i=!1,o&&(o=!1,A.process(f))}};return A}const gpe=40;function fR(t,r){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Cy.reduce((v,w)=>(v[w]=mpe(o,r?w:void 0),v),{}),{setup:c,read:u,resolveKeyframes:d,preUpdate:A,update:f,preRender:h,render:p,postRender:m}=l,g=()=>{const v=Fc.useManualTiming?i.timestamp:performance.now();n=!1,Fc.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(v-i.timestamp,gpe),1)),i.timestamp=v,i.isProcessing=!0,c.process(i),u.process(i),d.process(i),A.process(i),f.process(i),h.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&r&&(s=!1,t(g))},b=()=>{n=!0,s=!0,i.isProcessing||t(g)};return{schedule:Cy.reduce((v,w)=>{const _=l[w];return v[w]=(B,N=!1,j=!1)=>(n||b(),_.schedule(B,N,j)),v},{}),cancel:v=>{for(let w=0;w<Cy.length;w++)l[Cy[w]].cancel(v)},state:i,steps:l}}const{schedule:ls,cancel:ed,state:_i,steps:a2}=fR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bo,!0);let lx;function ype(){lx=void 0}const Ea={now:()=>(lx===void 0&&Ea.set(_i.isProcessing||Fc.useManualTiming?_i.timestamp:performance.now()),lx),set:t=>{lx=t,queueMicrotask(ype)}},hR=t=>r=>typeof r=="string"&&r.startsWith(t),$S=hR("--"),xpe=hR("var(--"),HS=t=>xpe(t)?vpe.test(t.split("/*")[0].trim()):!1,vpe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$h={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Am={...$h,transform:t=>Oc(0,1,t)},_y={...$h,default:1},m0=t=>Math.round(t*1e5)/1e5,VS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bpe(t){return t==null}const wpe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zS=(t,r)=>n=>!!(typeof n=="string"&&wpe.test(n)&&n.startsWith(t)||r&&!bpe(n)&&Object.prototype.hasOwnProperty.call(n,r)),pR=(t,r,n)=>s=>{if(typeof s!="string")return s;const[i,o,l,c]=s.match(VS);return{[t]:parseFloat(i),[r]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},jpe=t=>Oc(0,255,t),o2={...$h,transform:t=>Math.round(jpe(t))},Rd={test:zS("rgb","red"),parse:pR("red","green","blue"),transform:({red:t,green:r,blue:n,alpha:s=1})=>"rgba("+o2.transform(t)+", "+o2.transform(r)+", "+o2.transform(n)+", "+m0(Am.transform(s))+")"};function Npe(t){let r="",n="",s="",i="";return t.length>5?(r=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(r=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),r+=r,n+=n,s+=s,i+=i),{red:parseInt(r,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const $4={test:zS("#"),parse:Npe,transform:Rd.transform},Gm=t=>({test:r=>typeof r=="string"&&r.endsWith(t)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${t}`}),iu=Gm("deg"),Ql=Gm("%"),kr=Gm("px"),Spe=Gm("vh"),Bpe=Gm("vw"),Vk={...Ql,parse:t=>Ql.parse(t)/100,transform:t=>Ql.transform(t*100)},Lf={test:zS("hsl","hue"),parse:pR("hue","saturation","lightness"),transform:({hue:t,saturation:r,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ql.transform(m0(r))+", "+Ql.transform(m0(n))+", "+m0(Am.transform(s))+")"},Ys={test:t=>Rd.test(t)||$4.test(t)||Lf.test(t),parse:t=>Rd.test(t)?Rd.parse(t):Lf.test(t)?Lf.parse(t):$4.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Rd.transform(t):Lf.transform(t),getAnimatableNone:t=>{const r=Ys.parse(t);return r.alpha=0,Ys.transform(r)}},Cpe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _pe(t){var r,n;return isNaN(t)&&typeof t=="string"&&(((r=t.match(VS))==null?void 0:r.length)||0)+(((n=t.match(Cpe))==null?void 0:n.length)||0)>0}const mR="number",gR="color",Epe="var",kpe="var(",zk="${}",Tpe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fm(t){const r=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const c=r.replace(Tpe,u=>(Ys.test(u)?(s.color.push(o),i.push(gR),n.push(Ys.parse(u))):u.startsWith(kpe)?(s.var.push(o),i.push(Epe),n.push(u)):(s.number.push(o),i.push(mR),n.push(parseFloat(u))),++o,zk)).split(zk);return{values:n,split:c,indexes:s,types:i}}function yR(t){return fm(t).values}function xR(t){const{split:r,types:n}=fm(t),s=r.length;return i=>{let o="";for(let l=0;l<s;l++)if(o+=r[l],i[l]!==void 0){const c=n[l];c===mR?o+=m0(i[l]):c===gR?o+=Ys.transform(i[l]):o+=i[l]}return o}}const Ope=t=>typeof t=="number"?0:Ys.test(t)?Ys.getAnimatableNone(t):t;function Fpe(t){const r=yR(t);return xR(t)(r.map(Ope))}const td={test:_pe,parse:yR,createTransformer:xR,getAnimatableNone:Fpe};function l2(t,r,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(r-t)*6*n:n<1/2?r:n<2/3?t+(r-t)*(2/3-n)*6:t}function Ipe({hue:t,saturation:r,lightness:n,alpha:s}){t/=360,r/=100,n/=100;let i=0,o=0,l=0;if(!r)i=o=l=n;else{const c=n<.5?n*(1+r):n+r-n*r,u=2*n-c;i=l2(u,c,t+1/3),o=l2(u,c,t),l=l2(u,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:s}}function Mv(t,r){return n=>n>0?r:t}const As=(t,r,n)=>t+(r-t)*n,c2=(t,r,n)=>{const s=t*t,i=n*(r*r-s)+s;return i<0?0:Math.sqrt(i)},Ppe=[$4,Rd,Lf],Lpe=t=>Ppe.find(r=>r.test(t));function Kk(t){const r=Lpe(t);if(!r)return!1;let n=r.parse(t);return r===Lf&&(n=Ipe(n)),n}const Gk=(t,r)=>{const n=Kk(t),s=Kk(r);if(!n||!s)return Mv(t,r);const i={...n};return o=>(i.red=c2(n.red,s.red,o),i.green=c2(n.green,s.green,o),i.blue=c2(n.blue,s.blue,o),i.alpha=As(n.alpha,s.alpha,o),Rd.transform(i))},H4=new Set(["none","hidden"]);function Dpe(t,r){return H4.has(t)?n=>n<=0?t:r:n=>n>=1?r:t}function Upe(t,r){return n=>As(t,r,n)}function KS(t){return typeof t=="number"?Upe:typeof t=="string"?HS(t)?Mv:Ys.test(t)?Gk:Qpe:Array.isArray(t)?vR:typeof t=="object"?Ys.test(t)?Gk:Rpe:Mv}function vR(t,r){const n=[...t],s=n.length,i=t.map((o,l)=>KS(o)(o,r[l]));return o=>{for(let l=0;l<s;l++)n[l]=i[l](o);return n}}function Rpe(t,r){const n={...t,...r},s={};for(const i in n)t[i]!==void 0&&r[i]!==void 0&&(s[i]=KS(t[i])(t[i],r[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}}function Mpe(t,r){const n=[],s={color:0,var:0,number:0};for(let i=0;i<r.values.length;i++){const o=r.types[i],l=t.indexes[o][s[o]],c=t.values[l]??0;n[i]=c,s[o]++}return n}const Qpe=(t,r)=>{const n=td.createTransformer(r),s=fm(t),i=fm(r);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?H4.has(t)&&!i.values.length||H4.has(r)&&!s.values.length?Dpe(t,r):zm(vR(Mpe(s,i),i.values),n):Mv(t,r)};function bR(t,r,n){return typeof t=="number"&&typeof r=="number"&&typeof n=="number"?As(t,r,n):KS(t)(t,r)}const $pe=t=>{const r=({timestamp:n})=>t(n);return{start:(n=!0)=>ls.update(r,n),stop:()=>ed(r),now:()=>_i.isProcessing?_i.timestamp:Ea.now()}},wR=(t,r,n=10)=>{let s="";const i=Math.max(Math.round(r/n),2);for(let o=0;o<i;o++)s+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Qv=2e4;function GS(t){let r=0;const n=50;let s=t.next(r);for(;!s.done&&r<Qv;)r+=n,s=t.next(r);return r>=Qv?1/0:r}function Hpe(t,r=100,n){const s=n({...t,keyframes:[0,r]}),i=Math.min(GS(s),Qv);return{type:"keyframes",ease:o=>s.next(i*o).value/r,duration:Ml(i)}}const Vpe=5;function jR(t,r,n){const s=Math.max(r-Vpe,0);return rR(n-t(s),r-s)}const Ss={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},u2=.001;function zpe({duration:t=Ss.duration,bounce:r=Ss.bounce,velocity:n=Ss.velocity,mass:s=Ss.mass}){let i,o,l=1-r;l=Oc(Ss.minDamping,Ss.maxDamping,l),t=Oc(Ss.minDuration,Ss.maxDuration,Ml(t)),l<1?(i=d=>{const A=d*l,f=A*t,h=A-n,p=V4(d,l),m=Math.exp(-f);return u2-h/p*m},o=d=>{const f=d*l*t,h=f*n+n,p=Math.pow(l,2)*Math.pow(d,2)*t,m=Math.exp(-f),g=V4(Math.pow(d,2),l);return(-i(d)+u2>0?-1:1)*((h-p)*m)/g}):(i=d=>{const A=Math.exp(-d*t),f=(d-n)*t+1;return-u2+A*f},o=d=>{const A=Math.exp(-d*t),f=(n-d)*(t*t);return A*f});const c=5/t,u=Gpe(i,o,c);if(t=Rl(t),isNaN(u))return{stiffness:Ss.stiffness,damping:Ss.damping,duration:t};{const d=Math.pow(u,2)*s;return{stiffness:d,damping:l*2*Math.sqrt(s*d),duration:t}}}const Kpe=12;function Gpe(t,r,n){let s=n;for(let i=1;i<Kpe;i++)s=s-t(s)/r(s);return s}function V4(t,r){return t*Math.sqrt(1-r*r)}const Wpe=["duration","bounce"],qpe=["stiffness","damping","mass"];function Wk(t,r){return r.some(n=>t[n]!==void 0)}function Ype(t){let r={velocity:Ss.velocity,stiffness:Ss.stiffness,damping:Ss.damping,mass:Ss.mass,isResolvedFromDuration:!1,...t};if(!Wk(t,qpe)&&Wk(t,Wpe))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,o=2*Oc(.05,1,1-(t.bounce||0))*Math.sqrt(i);r={...r,mass:Ss.mass,stiffness:i,damping:o}}else{const n=zpe(t);r={...r,...n,mass:Ss.mass},r.isResolvedFromDuration=!0}return r}function $v(t=Ss.visualDuration,r=Ss.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:r}:t;let{restSpeed:s,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:u,damping:d,mass:A,duration:f,velocity:h,isResolvedFromDuration:p}=Ype({...n,velocity:-Ml(n.velocity||0)}),m=h||0,g=d/(2*Math.sqrt(u*A)),b=l-o,y=Ml(Math.sqrt(u/A)),x=Math.abs(b)<5;s||(s=x?Ss.restSpeed.granular:Ss.restSpeed.default),i||(i=x?Ss.restDelta.granular:Ss.restDelta.default);let v;if(g<1){const _=V4(y,g);v=B=>{const N=Math.exp(-g*y*B);return l-N*((m+g*y*b)/_*Math.sin(_*B)+b*Math.cos(_*B))}}else if(g===1)v=_=>l-Math.exp(-y*_)*(b+(m+y*b)*_);else{const _=y*Math.sqrt(g*g-1);v=B=>{const N=Math.exp(-g*y*B),j=Math.min(_*B,300);return l-N*((m+g*y*b)*Math.sinh(j)+_*b*Math.cosh(j))/_}}const w={calculatedDuration:p&&f||null,next:_=>{const B=v(_);if(p)c.done=_>=f;else{let N=_===0?m:0;g<1&&(N=_===0?Rl(m):jR(v,_,B));const j=Math.abs(N)<=s,C=Math.abs(l-B)<=i;c.done=j&&C}return c.value=c.done?l:B,c},toString:()=>{const _=Math.min(GS(w),Qv),B=wR(N=>w.next(_*N).value,_,30);return _+"ms "+B},toTransition:()=>{}};return w}$v.applyToOptions=t=>{const r=Hpe(t,100,$v);return t.ease=r.ease,t.duration=Rl(r.duration),t.type="keyframes",t};function z4({keyframes:t,velocity:r=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:u,restDelta:d=.5,restSpeed:A}){const f=t[0],h={done:!1,value:f},p=j=>c!==void 0&&j<c||u!==void 0&&j>u,m=j=>c===void 0?u:u===void 0||Math.abs(c-j)<Math.abs(u-j)?c:u;let g=n*r;const b=f+g,y=l===void 0?b:l(b);y!==b&&(g=y-f);const x=j=>-g*Math.exp(-j/s),v=j=>y+x(j),w=j=>{const C=x(j),E=v(j);h.done=Math.abs(C)<=d,h.value=h.done?y:E};let _,B;const N=j=>{p(h.value)&&(_=j,B=$v({keyframes:[h.value,m(h.value)],velocity:jR(v,j,h.value),damping:i,stiffness:o,restDelta:d,restSpeed:A}))};return N(0),{calculatedDuration:null,next:j=>{let C=!1;return!B&&_===void 0&&(C=!0,w(j),N(j)),_!==void 0&&j>=_?B.next(j-_):(!C&&w(j),h)}}}function Xpe(t,r,n){const s=[],i=n||Fc.mix||bR,o=t.length-1;for(let l=0;l<o;l++){let c=i(t[l],t[l+1]);if(r){const u=Array.isArray(r)?r[l]||Bo:r;c=zm(u,c)}s.push(c)}return s}function Jpe(t,r,{clamp:n=!0,ease:s,mixer:i}={}){const o=t.length;if(Rv(o===r.length),o===1)return()=>r[0];if(o===2&&r[0]===r[1])return()=>r[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),r=[...r].reverse());const c=Xpe(r,s,i),u=c.length,d=A=>{if(l&&A<t[0])return r[0];let f=0;if(u>1)for(;f<t.length-2&&!(A<t[f+1]);f++);const h=dm(t[f],t[f+1],A);return c[f](h)};return n?A=>d(Oc(t[0],t[o-1],A)):d}function Zpe(t,r){const n=t[t.length-1];for(let s=1;s<=r;s++){const i=dm(0,r,s);t.push(As(n,1,i))}}function e0e(t){const r=[0];return Zpe(r,t.length-1),r}function t0e(t,r){return t.map(n=>n*r)}function r0e(t,r){return t.map(()=>r||dR).splice(0,t.length-1)}function g0({duration:t=300,keyframes:r,times:n,ease:s="easeInOut"}){const i=hpe(s)?s.map($k):$k(s),o={done:!1,value:r[0]},l=t0e(n&&n.length===r.length?n:e0e(r),t),c=Jpe(l,r,{ease:Array.isArray(i)?i:r0e(r,i)});return{calculatedDuration:t,next:u=>(o.value=c(u),o.done=u>=t,o)}}const n0e=t=>t!==null;function WS(t,{repeat:r,repeatType:n="loop"},s,i=1){const o=t.filter(n0e),c=i<0||r&&n!=="loop"&&r%2===1?0:o.length-1;return!c||s===void 0?o[c]:s}const s0e={decay:z4,inertia:z4,tween:g0,keyframes:g0,spring:$v};function NR(t){typeof t.type=="string"&&(t.type=s0e[t.type])}class qS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(r=>{this.resolve=r})}notifyFinished(){this.resolve()}then(r,n){return this.finished.then(r,n)}}const i0e=t=>t/100;class YS extends qS{constructor(r){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Ea.now()&&this.tick(Ea.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=r,this.initAnimation(),this.play(),r.autoplay===!1&&this.pause()}initAnimation(){const{options:r}=this;NR(r);const{type:n=g0,repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=r;let{keyframes:c}=r;const u=n||g0;u!==g0&&typeof c[0]!="number"&&(this.mixKeyframes=zm(i0e,bR(c[0],c[1])),c=[0,100]);const d=u({...r,keyframes:c});o==="mirror"&&(this.mirroredGenerator=u({...r,keyframes:[...c].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=GS(d));const{calculatedDuration:A}=d;this.calculatedDuration=A,this.resolvedDuration=A+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=d}updateTime(r){const n=Math.round(r-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(r,n=!1){const{generator:s,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:A,repeat:f,repeatType:h,repeatDelay:p,type:m,onUpdate:g,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-i/this.speed,this.startTime)),n?this.currentTime=r:this.updateTime(r);const y=this.currentTime-d*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let v=this.currentTime,w=s;if(f){const j=Math.min(this.currentTime,i)/c;let C=Math.floor(j),E=j%1;!E&&j>=1&&(E=1),E===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(h==="reverse"?(E=1-E,p&&(E-=p/c)):h==="mirror"&&(w=l)),v=Oc(0,1,E)*c}const _=x?{done:!1,value:A[0]}:w.next(v);o&&(_.value=o(_.value));let{done:B}=_;!x&&u!==null&&(B=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return N&&m!==z4&&(_.value=WS(A,this.options,b,this.speed)),g&&g(_.value),N&&this.finish(),_}then(r,n){return this.finished.then(r,n)}get duration(){return Ml(this.calculatedDuration)}get time(){return Ml(this.currentTime)}set time(r){var n;r=Rl(r),this.currentTime=r,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(r){this.updateTime(Ea.now());const n=this.playbackSpeed!==r;this.playbackSpeed=r,n&&(this.time=Ml(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:r=$pe,startTime:n}=this.options;this.driver||(this.driver=r(l=>this.tick(l))),(o=(i=this.options).onPlay)==null||o.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ea.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var r,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(r=this.options).onComplete)==null||n.call(r)}cancel(){var r,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(r=this.options).onCancel)==null||n.call(r)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}attachTimeline(r){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),r.observe(this)}}function a0e(t){for(let r=1;r<t.length;r++)t[r]??(t[r]=t[r-1])}const Md=t=>t*180/Math.PI,K4=t=>{const r=Md(Math.atan2(t[1],t[0]));return G4(r)},o0e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:K4,rotateZ:K4,skewX:t=>Md(Math.atan(t[1])),skewY:t=>Md(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},G4=t=>(t=t%360,t<0&&(t+=360),t),qk=K4,Yk=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Xk=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),l0e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Yk,scaleY:Xk,scale:t=>(Yk(t)+Xk(t))/2,rotateX:t=>G4(Md(Math.atan2(t[6],t[5]))),rotateY:t=>G4(Md(Math.atan2(-t[2],t[0]))),rotateZ:qk,rotate:qk,skewX:t=>Md(Math.atan(t[4])),skewY:t=>Md(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function W4(t){return t.includes("scale")?1:0}function q4(t,r){if(!t||t==="none")return W4(r);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=l0e,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=o0e,i=c}if(!i)return W4(r);const o=s[r],l=i[1].split(",").map(u0e);return typeof o=="function"?o(l):l[o]}const c0e=(t,r)=>{const{transform:n="none"}=getComputedStyle(t);return q4(n,r)};function u0e(t){return parseFloat(t.trim())}const Hh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vh=new Set(Hh),Jk=t=>t===$h||t===kr,d0e=new Set(["x","y","z"]),A0e=Hh.filter(t=>!d0e.has(t));function f0e(t){const r=[];return A0e.forEach(n=>{const s=t.getValue(n);s!==void 0&&(r.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),r}const rA={width:({x:t},{paddingLeft:r="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(r)-parseFloat(n),height:({y:t},{paddingTop:r="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(r)-parseFloat(n),top:(t,{top:r})=>parseFloat(r),left:(t,{left:r})=>parseFloat(r),bottom:({y:t},{top:r})=>parseFloat(r)+(t.max-t.min),right:({x:t},{left:r})=>parseFloat(r)+(t.max-t.min),x:(t,{transform:r})=>q4(r,"x"),y:(t,{transform:r})=>q4(r,"y")};rA.translateX=rA.x;rA.translateY=rA.y;const nA=new Set;let Y4=!1,X4=!1,J4=!1;function SR(){if(X4){const t=Array.from(nA).filter(s=>s.needsMeasurement),r=new Set(t.map(s=>s.element)),n=new Map;r.forEach(s=>{const i=f0e(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),r.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([o,l])=>{var c;(c=s.getValue(o))==null||c.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}X4=!1,Y4=!1,nA.forEach(t=>t.complete(J4)),nA.clear()}function BR(){nA.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(X4=!0)})}function h0e(){J4=!0,BR(),SR(),J4=!1}class XS{constructor(r,n,s,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...r],this.onComplete=n,this.name=s,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(nA.add(this),Y4||(Y4=!0,ls.read(BR),ls.resolveKeyframes(SR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:n,element:s,motionValue:i}=this;if(r[0]===null){const o=i==null?void 0:i.get(),l=r[r.length-1];if(o!==void 0)r[0]=o;else if(s&&n){const c=s.readValue(n,l);c!=null&&(r[0]=c)}r[0]===void 0&&(r[0]=l),i&&o===void 0&&i.set(r[0])}a0e(r)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(r=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,r),nA.delete(this)}cancel(){this.state==="scheduled"&&(nA.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const p0e=t=>t.startsWith("--");function m0e(t,r,n){p0e(r)?t.style.setProperty(r,n):t.style[r]=n}const g0e=US(()=>window.ScrollTimeline!==void 0),y0e={};function x0e(t,r){const n=US(t);return()=>y0e[r]??n()}const CR=x0e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vp=([t,r,n,s])=>`cubic-bezier(${t}, ${r}, ${n}, ${s})`,Zk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vp([0,.65,.55,1]),circOut:Vp([.55,0,1,.45]),backIn:Vp([.31,.01,.66,-.59]),backOut:Vp([.33,1.53,.69,.99])};function _R(t,r){if(t)return typeof t=="function"?CR()?wR(t,r):"ease-out":AR(t)?Vp(t):Array.isArray(t)?t.map(n=>_R(n,r)||Zk.easeOut):Zk[t]}function v0e(t,r,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:u}={},d=void 0){const A={[r]:n};u&&(A.offset=u);const f=_R(c,i);Array.isArray(f)&&(A.easing=f);const h={delay:s,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),t.animate(A,h)}function ER(t){return typeof t=="function"&&"applyToOptions"in t}function b0e({type:t,...r}){return ER(t)&&CR()?t.applyToOptions(r):(r.duration??(r.duration=300),r.ease??(r.ease="easeOut"),r)}class w0e extends qS{constructor(r){if(super(),this.finishedTime=null,this.isStopped=!1,!r)return;const{element:n,name:s,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:u}=r;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=r,Rv(typeof r.type!="string");const d=b0e(r);this.animation=v0e(n,s,i,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const A=WS(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(A):m0e(n,s,A),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var r,n;(n=(r=this.animation).finish)==null||n.call(r)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:r}=this;r==="idle"||r==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var r,n;this.isPseudoElement||(n=(r=this.animation).commitStyles)==null||n.call(r)}get duration(){var n,s;const r=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ml(Number(r))}get time(){return Ml(Number(this.animation.currentTime)||0)}set time(r){this.finishedTime=null,this.animation.currentTime=Rl(r)}get speed(){return this.animation.playbackRate}set speed(r){r<0&&(this.finishedTime=null),this.animation.playbackRate=r}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(r){this.animation.startTime=r}attachTimeline({timeline:r,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,r&&g0e()?(this.animation.timeline=r,Bo):n(this)}}const kR={anticipate:lR,backInOut:oR,circInOut:uR};function j0e(t){return t in kR}function N0e(t){typeof t.ease=="string"&&j0e(t.ease)&&(t.ease=kR[t.ease])}const e6=10;class S0e extends w0e{constructor(r){N0e(r),NR(r),super(r),r.startTime&&(this.startTime=r.startTime),this.options=r}updateMotionValue(r){const{motionValue:n,onUpdate:s,onComplete:i,element:o,...l}=this.options;if(!n)return;if(r!==void 0){n.set(r);return}const c=new YS({...l,autoplay:!1}),u=Rl(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-e6).value,c.sample(u).value,e6),c.stop()}}const t6=(t,r)=>r==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(td.test(t)||t==="0")&&!t.startsWith("url("));function B0e(t){const r=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}function C0e(t,r,n,s){const i=t[0];if(i===null)return!1;if(r==="display"||r==="visibility")return!0;const o=t[t.length-1],l=t6(i,r),c=t6(o,r);return!l||!c?!1:B0e(t)||(n==="spring"||ER(n))&&s}function Z4(t){t.duration=0,t.type}const _0e=new Set(["opacity","clipPath","filter","transform"]),E0e=US(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function k0e(t){var A;const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!(((A=r==null?void 0:r.owner)==null?void 0:A.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=r.owner.getProps();return E0e()&&n&&_0e.has(n)&&(n!=="transform"||!d)&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}const T0e=40;class O0e extends qS{constructor({autoplay:r=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:u,motionValue:d,element:A,...f}){var m;super(),this.stop=()=>{var g,b;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Ea.now();const h={autoplay:r,delay:n,type:s,repeat:i,repeatDelay:o,repeatType:l,name:u,motionValue:d,element:A,...f},p=(A==null?void 0:A.KeyframeResolver)||XS;this.keyframeResolver=new p(c,(g,b,y)=>this.onKeyframesResolved(g,b,h,!y),u,d,A),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(r,n,s,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:u,isHandoff:d,onUpdate:A}=s;this.resolvedAt=Ea.now(),C0e(r,o,l,c)||((Fc.instantAnimations||!u)&&(A==null||A(WS(r,s,n))),r[0]=r[r.length-1],Z4(s),s.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>T0e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:r},p=!d&&k0e(h)?new S0e({...h,element:h.motionValue.owner.current}):new YS(h);p.finished.then(()=>this.notifyFinished()).catch(Bo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(r,n){return this.finished.finally(r).then(()=>{})}get animation(){var r;return this._animation||((r=this.keyframeResolver)==null||r.resume(),h0e()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(r){this.animation.time=r}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(r){this.animation.speed=r}get startTime(){return this.animation.startTime}attachTimeline(r){return this._animation?this.stopTimeline=this.animation.attachTimeline(r):this.pendingTimeline=r,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var r;this._animation&&this.animation.cancel(),(r=this.keyframeResolver)==null||r.cancel()}}const F0e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I0e(t){const r=F0e.exec(t);if(!r)return[,];const[,n,s,i]=r;return[`--${n??s}`,i]}function TR(t,r,n=1){const[s,i]=I0e(t);if(!s)return;const o=window.getComputedStyle(r).getPropertyValue(s);if(o){const l=o.trim();return ZU(l)?parseFloat(l):l}return HS(i)?TR(i,r,n+1):i}function JS(t,r){return(t==null?void 0:t[r])??(t==null?void 0:t.default)??t}const OR=new Set(["width","height","top","left","right","bottom",...Hh]),P0e={test:t=>t==="auto",parse:t=>t},FR=t=>r=>r.test(t),IR=[$h,kr,Ql,iu,Bpe,Spe,P0e],r6=t=>IR.find(FR(t));function L0e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||tR(t):!0}const D0e=new Set(["brightness","contrast","saturate","opacity"]);function U0e(t){const[r,n]=t.slice(0,-1).split("(");if(r==="drop-shadow")return t;const[s]=n.match(VS)||[];if(!s)return t;const i=n.replace(s,"");let o=D0e.has(r)?1:0;return s!==n&&(o*=100),r+"("+o+i+")"}const R0e=/\b([a-z-]*)\(.*?\)/gu,ej={...td,getAnimatableNone:t=>{const r=t.match(R0e);return r?r.map(U0e).join(" "):t}},n6={...$h,transform:Math.round},M0e={rotate:iu,rotateX:iu,rotateY:iu,rotateZ:iu,scale:_y,scaleX:_y,scaleY:_y,scaleZ:_y,skew:iu,skewX:iu,skewY:iu,distance:kr,translateX:kr,translateY:kr,translateZ:kr,x:kr,y:kr,z:kr,perspective:kr,transformPerspective:kr,opacity:Am,originX:Vk,originY:Vk,originZ:kr},ZS={borderWidth:kr,borderTopWidth:kr,borderRightWidth:kr,borderBottomWidth:kr,borderLeftWidth:kr,borderRadius:kr,radius:kr,borderTopLeftRadius:kr,borderTopRightRadius:kr,borderBottomRightRadius:kr,borderBottomLeftRadius:kr,width:kr,maxWidth:kr,height:kr,maxHeight:kr,top:kr,right:kr,bottom:kr,left:kr,padding:kr,paddingTop:kr,paddingRight:kr,paddingBottom:kr,paddingLeft:kr,margin:kr,marginTop:kr,marginRight:kr,marginBottom:kr,marginLeft:kr,backgroundPositionX:kr,backgroundPositionY:kr,...M0e,zIndex:n6,fillOpacity:Am,strokeOpacity:Am,numOctaves:n6},Q0e={...ZS,color:Ys,backgroundColor:Ys,outlineColor:Ys,fill:Ys,stroke:Ys,borderColor:Ys,borderTopColor:Ys,borderRightColor:Ys,borderBottomColor:Ys,borderLeftColor:Ys,filter:ej,WebkitFilter:ej},PR=t=>Q0e[t];function LR(t,r){let n=PR(t);return n!==ej&&(n=td),n.getAnimatableNone?n.getAnimatableNone(r):void 0}const $0e=new Set(["auto","none","0"]);function H0e(t,r,n){let s=0,i;for(;s<t.length&&!i;){const o=t[s];typeof o=="string"&&!$0e.has(o)&&fm(o).values.length&&(i=t[s]),s++}if(i&&n)for(const o of r)t[o]=LR(n,i)}class V0e extends XS{constructor(r,n,s,i,o){super(r,n,s,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<r.length;u++){let d=r[u];if(typeof d=="string"&&(d=d.trim(),HS(d))){const A=TR(d,n.current);A!==void 0&&(r[u]=A),u===r.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!OR.has(s)||r.length!==2)return;const[i,o]=r,l=r6(i),c=r6(o);if(l!==c)if(Jk(l)&&Jk(c))for(let u=0;u<r.length;u++){const d=r[u];typeof d=="string"&&(r[u]=parseFloat(d))}else rA[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:n}=this,s=[];for(let i=0;i<r.length;i++)(r[i]===null||L0e(r[i]))&&s.push(i);s.length&&H0e(r,s,n)}measureInitialState(){const{element:r,unresolvedKeyframes:n,name:s}=this;if(!r||!r.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rA[s](r.measureViewportBox(),window.getComputedStyle(r.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&r.getValue(s,i).jump(i,!1)}measureEndState(){var c;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=rA[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([u,d])=>{r.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function z0e(t,r,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const DR=(t,r)=>r&&typeof t=="number"?r.transform(t):t;function UR(t){return eR(t)&&"offsetHeight"in t}const s6=30,K0e=t=>!isNaN(parseFloat(t));class G0e{constructor(r,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var o;const i=Ea.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(r),this.owner=n.owner}setCurrent(r){this.current=r,this.updatedAt=Ea.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=K0e(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,n){this.events[r]||(this.events[r]=new RS);const s=this.events[r].add(n);return r==="change"?()=>{s(),ls.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,n){this.passiveEffect=r,this.stopPassiveEffect=n}set(r){this.passiveEffect?this.passiveEffect(r,this.updateAndNotify):this.updateAndNotify(r)}setWithVelocity(r,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-s}jump(r,n=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var r;(r=this.events.change)==null||r.notify(this.current)}addDependent(r){this.dependents||(this.dependents=new Set),this.dependents.add(r)}removeDependent(r){this.dependents&&this.dependents.delete(r)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=Ea.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>s6)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,s6);return rR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(r){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=r(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var r,n;(r=this.dependents)==null||r.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nh(t,r){return new G0e(t,r)}const{schedule:e3,cancel:Txe}=fR(queueMicrotask,!1),zo={x:!1,y:!1};function RR(){return zo.x||zo.y}function W0e(t){return t==="x"||t==="y"?zo[t]?null:(zo[t]=!0,()=>{zo[t]=!1}):zo.x||zo.y?null:(zo.x=zo.y=!0,()=>{zo.x=zo.y=!1})}function MR(t,r){const n=z0e(t),s=new AbortController,i={passive:!0,...r,signal:s.signal};return[n,i,()=>s.abort()]}function i6(t){return!(t.pointerType==="touch"||RR())}function q0e(t,r,n={}){const[s,i,o]=MR(t,n),l=c=>{if(!i6(c))return;const{target:u}=c,d=r(u,c);if(typeof d!="function"||!u)return;const A=f=>{i6(f)&&(d(f),u.removeEventListener("pointerleave",A))};u.addEventListener("pointerleave",A,i)};return s.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const QR=(t,r)=>r?t===r?!0:QR(t,r.parentElement):!1,t3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Y0e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function X0e(t){return Y0e.has(t.tagName)||t.tabIndex!==-1}const cx=new WeakSet;function a6(t){return r=>{r.key==="Enter"&&t(r)}}function d2(t,r){t.dispatchEvent(new PointerEvent("pointer"+r,{isPrimary:!0,bubbles:!0}))}const J0e=(t,r)=>{const n=t.currentTarget;if(!n)return;const s=a6(()=>{if(cx.has(n))return;d2(n,"down");const i=a6(()=>{d2(n,"up")}),o=()=>d2(n,"cancel");n.addEventListener("keyup",i,r),n.addEventListener("blur",o,r)});n.addEventListener("keydown",s,r),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),r)};function o6(t){return t3(t)&&!RR()}function Z0e(t,r,n={}){const[s,i,o]=MR(t,n),l=c=>{const u=c.currentTarget;if(!o6(c))return;cx.add(u);const d=r(u,c),A=(p,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),cx.has(u)&&cx.delete(u),o6(p)&&typeof d=="function"&&d(p,{success:m})},f=p=>{A(p,u===window||u===document||n.useGlobalTarget||QR(u,p.target))},h=p=>{A(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),UR(c)&&(c.addEventListener("focus",d=>J0e(d,i)),!X0e(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function $R(t){return eR(t)&&"ownerSVGElement"in t}function eme(t){return $R(t)&&t.tagName==="svg"}const Zi=t=>!!(t&&t.getVelocity),tme=[...IR,Ys,td],rme=t=>tme.find(FR(t)),r3=te.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class nme extends te.Component{getSnapshotBeforeUpdate(r){const n=this.props.childRef.current;if(n&&r.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=UR(s)&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sme({children:t,isPresent:r,anchorX:n,root:s}){const i=te.useId(),o=te.useRef(null),l=te.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=te.useContext(r3);return te.useInsertionEffect(()=>{const{width:u,height:d,top:A,left:f,right:h}=l.current;if(r||!o.current||!u||!d)return;const p=n==="left"?`left: ${f}`:`right: ${h}`;o.current.dataset.motionPopId=i;const m=document.createElement("style");c&&(m.nonce=c);const g=s??document.head;return g.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${A}px !important;
          }
        `),()=>{g.contains(m)&&g.removeChild(m)}},[r]),a.jsx(nme,{isPresent:r,childRef:o,sizeRef:l,children:te.cloneElement(t,{ref:o})})}const ime=({children:t,initial:r,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c,root:u})=>{const d=IS(ame),A=te.useId();let f=!0,h=te.useMemo(()=>(f=!1,{id:A,initial:r,isPresent:n,custom:i,onExitComplete:p=>{d.set(p,!0);for(const m of d.values())if(!m)return;s&&s()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[n,d,s]);return o&&f&&(h={...h}),te.useMemo(()=>{d.forEach((p,m)=>d.set(m,!1))},[n]),te.useEffect(()=>{!n&&!d.size&&s&&s()},[n]),l==="popLayout"&&(t=a.jsx(sme,{isPresent:n,anchorX:c,root:u,children:t})),a.jsx(W1.Provider,{value:h,children:t})};function ame(){return new Map}function HR(t=!0){const r=te.useContext(W1);if(r===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=r,o=te.useId();te.useEffect(()=>{if(t)return i(o)},[t]);const l=te.useCallback(()=>t&&s&&s(o),[o,s,t]);return!n&&s?[!1,l]:[!0]}const Ey=t=>t.key||"";function l6(t){const r=[];return te.Children.forEach(t,n=>{te.isValidElement(n)&&r.push(n)}),r}const ome=({children:t,custom:r,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:u})=>{const[d,A]=HR(l),f=te.useMemo(()=>l6(t),[t]),h=l&&!d?[]:f.map(Ey),p=te.useRef(!0),m=te.useRef(f),g=IS(()=>new Map),[b,y]=te.useState(f),[x,v]=te.useState(f);JU(()=>{p.current=!1,m.current=f;for(let B=0;B<x.length;B++){const N=Ey(x[B]);h.includes(N)?g.delete(N):g.get(N)!==!0&&g.set(N,!1)}},[x,h.length,h.join("-")]);const w=[];if(f!==b){let B=[...f];for(let N=0;N<x.length;N++){const j=x[N],C=Ey(j);h.includes(C)||(B.splice(N,0,j),w.push(j))}return o==="wait"&&w.length&&(B=w),v(l6(B)),y(f),null}const{forceRender:_}=te.useContext(FS);return a.jsx(a.Fragment,{children:x.map(B=>{const N=Ey(B),j=l&&!d?!1:f===x||h.includes(N),C=()=>{if(g.has(N))g.set(N,!0);else return;let E=!0;g.forEach(S=>{S||(E=!1)}),E&&(_==null||_(),v(m.current),l&&(A==null||A()),s&&s())};return a.jsx(ime,{isPresent:j,initial:!p.current||n?void 0:!1,custom:r,presenceAffectsLayout:i,mode:o,root:u,onExitComplete:j?void 0:C,anchorX:c,children:B},N)})})},VR=te.createContext({strict:!1}),c6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sh={};for(const t in c6)Sh[t]={isEnabled:r=>c6[t].some(n=>!!r[n])};function lme(t){for(const r in t)Sh[r]={...Sh[r],...t[r]}}const cme=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cme.has(t)}let zR=t=>!Hv(t);function ume(t){typeof t=="function"&&(zR=r=>r.startsWith("on")?!Hv(r):t(r))}try{ume(require("@emotion/is-prop-valid").default)}catch{}function dme(t,r,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(zR(i)||n===!0&&Hv(i)||!r&&!Hv(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const q1=te.createContext({});function Y1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function hm(t){return typeof t=="string"||Array.isArray(t)}const n3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],s3=["initial",...n3];function X1(t){return Y1(t.animate)||s3.some(r=>hm(t[r]))}function KR(t){return!!(X1(t)||t.variants)}function Ame(t,r){if(X1(t)){const{initial:n,animate:s}=t;return{initial:n===!1||hm(n)?n:void 0,animate:hm(s)?s:void 0}}return t.inherit!==!1?r:{}}function fme(t){const{initial:r,animate:n}=Ame(t,te.useContext(q1));return te.useMemo(()=>({initial:r,animate:n}),[u6(r),u6(n)])}function u6(t){return Array.isArray(t)?t.join(" "):t}const pm={};function hme(t){for(const r in t)pm[r]=t[r],$S(r)&&(pm[r].isCSSVariable=!0)}function GR(t,{layout:r,layoutId:n}){return Vh.has(t)||t.startsWith("origin")||(r||n!==void 0)&&(!!pm[t]||t==="opacity")}const pme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mme=Hh.length;function gme(t,r,n){let s="",i=!0;for(let o=0;o<mme;o++){const l=Hh[o],c=t[l];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(l.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const d=DR(c,ZS[l]);if(!u){i=!1;const A=pme[l]||l;s+=`${A}(${d}) `}n&&(r[l]=d)}}return s=s.trim(),n?s=n(r,i?"":s):i&&(s="none"),s}function i3(t,r,n){const{style:s,vars:i,transformOrigin:o}=t;let l=!1,c=!1;for(const u in r){const d=r[u];if(Vh.has(u)){l=!0;continue}else if($S(u)){i[u]=d;continue}else{const A=DR(d,ZS[u]);u.startsWith("origin")?(c=!0,o[u]=A):s[u]=A}}if(r.transform||(l||n?s.transform=gme(r,t.transform,n):s.transform&&(s.transform="none")),c){const{originX:u="50%",originY:d="50%",originZ:A=0}=o;s.transformOrigin=`${u} ${d} ${A}`}}const a3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WR(t,r,n){for(const s in r)!Zi(r[s])&&!GR(s,n)&&(t[s]=r[s])}function yme({transformTemplate:t},r){return te.useMemo(()=>{const n=a3();return i3(n,r,t),Object.assign({},n.vars,n.style)},[r])}function xme(t,r){const n=t.style||{},s={};return WR(s,n,t),Object.assign(s,yme(t,r)),s}function vme(t,r){const n={},s=xme(t,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const bme={offset:"stroke-dashoffset",array:"stroke-dasharray"},wme={offset:"strokeDashoffset",array:"strokeDasharray"};function jme(t,r,n=1,s=0,i=!0){t.pathLength=1;const o=i?bme:wme;t[o.offset]=kr.transform(-s);const l=kr.transform(r),c=kr.transform(n);t[o.array]=`${l} ${c}`}function qR(t,{attrX:r,attrY:n,attrScale:s,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...c},u,d,A){if(i3(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h}=t;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(A==null?void 0:A.transformBox)??"fill-box",delete f.transformBox),r!==void 0&&(f.x=r),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),i!==void 0&&jme(f,i,o,l,!1)}const YR=()=>({...a3(),attrs:{}}),XR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Nme(t,r,n,s){const i=te.useMemo(()=>{const o=YR();return qR(o,r,XR(s),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[r]);if(t.style){const o={};WR(o,t.style,t),i.style={...o,...i.style}}return i}const Sme=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o3(t){return typeof t!="string"||t.includes("-")?!1:!!(Sme.indexOf(t)>-1||/[A-Z]/u.test(t))}function Bme(t,r,n,{latestValues:s},i,o=!1){const c=(o3(t)?Nme:vme)(r,s,i,t),u=dme(r,typeof t=="string",o),d=t!==te.Fragment?{...u,...c,ref:n}:{},{children:A}=r,f=te.useMemo(()=>Zi(A)?A.get():A,[A]);return te.createElement(t,{...d,children:f})}function d6(t){const r=[{},{}];return t==null||t.values.forEach((n,s)=>{r[0][s]=n.get(),r[1][s]=n.getVelocity()}),r}function l3(t,r,n,s){if(typeof r=="function"){const[i,o]=d6(s);r=r(n!==void 0?n:t.custom,i,o)}if(typeof r=="string"&&(r=t.variants&&t.variants[r]),typeof r=="function"){const[i,o]=d6(s);r=r(n!==void 0?n:t.custom,i,o)}return r}function ux(t){return Zi(t)?t.get():t}function Cme({scrapeMotionValuesFromProps:t,createRenderState:r},n,s,i){return{latestValues:_me(n,s,i,t),renderState:r()}}function _me(t,r,n,s){const i={},o=s(t,{});for(const h in o)i[h]=ux(o[h]);let{initial:l,animate:c}=t;const u=X1(t),d=KR(t);r&&d&&!u&&t.inherit!==!1&&(l===void 0&&(l=r.initial),c===void 0&&(c=r.animate));let A=n?n.initial===!1:!1;A=A||l===!1;const f=A?c:l;if(f&&typeof f!="boolean"&&!Y1(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const m=l3(t,h[p]);if(m){const{transitionEnd:g,transition:b,...y}=m;for(const x in y){let v=y[x];if(Array.isArray(v)){const w=A?v.length-1:0;v=v[w]}v!==null&&(i[x]=v)}for(const x in g)i[x]=g[x]}}}return i}const JR=t=>(r,n)=>{const s=te.useContext(q1),i=te.useContext(W1),o=()=>Cme(t,r,s,i);return n?o():IS(o)};function c3(t,r,n){var o;const{style:s}=t,i={};for(const l in s)(Zi(s[l])||r.style&&Zi(r.style[l])||GR(l,t)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(i[l]=s[l]);return i}const Eme=JR({scrapeMotionValuesFromProps:c3,createRenderState:a3});function ZR(t,r,n){const s=c3(t,r,n);for(const i in t)if(Zi(t[i])||Zi(r[i])){const o=Hh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=t[i]}return s}const kme=JR({scrapeMotionValuesFromProps:ZR,createRenderState:YR}),Tme=Symbol.for("motionComponentSymbol");function Df(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ome(t,r,n){return te.useCallback(s=>{s&&t.onMount&&t.onMount(s),r&&(s?r.mount(s):r.unmount()),n&&(typeof n=="function"?n(s):Df(n)&&(n.current=s))},[r])}const u3=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Fme="framerAppearId",e7="data-"+u3(Fme),t7=te.createContext({});function Ime(t,r,n,s,i){var g,b;const{visualElement:o}=te.useContext(q1),l=te.useContext(VR),c=te.useContext(W1),u=te.useContext(r3).reducedMotion,d=te.useRef(null);s=s||l.renderer,!d.current&&s&&(d.current=s(t,{visualState:r,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const A=d.current,f=te.useContext(t7);A&&!A.projection&&i&&(A.type==="html"||A.type==="svg")&&Pme(d.current,n,i,f);const h=te.useRef(!1);te.useInsertionEffect(()=>{A&&h.current&&A.update(n,c)});const p=n[e7],m=te.useRef(!!p&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return JU(()=>{A&&(h.current=!0,window.MotionIsMounted=!0,A.updateFeatures(),A.scheduleRenderMicrotask(),m.current&&A.animationState&&A.animationState.animateChanges())}),te.useEffect(()=>{A&&(!m.current&&A.animationState&&A.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),m.current=!1),A.enteringChildren=void 0)}),A}function Pme(t,r,n,s){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:u,layoutRoot:d,layoutCrossfade:A}=r;t.projection=new n(t.latestValues,r["data-framer-portal-id"]?void 0:r7(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&Df(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:A,layoutScroll:u,layoutRoot:d})}function r7(t){if(t)return t.options.allowProjection!==!1?t.projection:r7(t.parent)}function A2(t,{forwardMotionProps:r=!1}={},n,s){n&&lme(n);const i=o3(t)?kme:Eme;function o(c,u){let d;const A={...te.useContext(r3),...c,layoutId:Lme(c)},{isStatic:f}=A,h=fme(c),p=i(c,f);if(!f&&PS){Dme();const m=Ume(A);d=m.MeasureLayout,h.visualElement=Ime(t,p,A,s,m.ProjectionNode)}return a.jsxs(q1.Provider,{value:h,children:[d&&h.visualElement?a.jsx(d,{visualElement:h.visualElement,...A}):null,Bme(t,c,Ome(p,h.visualElement,u),p,f,r)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=te.forwardRef(o);return l[Tme]=t,l}function Lme({layoutId:t}){const r=te.useContext(FS).id;return r&&t!==void 0?r+"-"+t:t}function Dme(t,r){te.useContext(VR).strict}function Ume(t){const{drag:r,layout:n}=Sh;if(!r&&!n)return{};const s={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Rme(t,r){if(typeof Proxy>"u")return A2;const n=new Map,s=(o,l)=>A2(o,l,t,r),i=(o,l)=>s(o,l);return new Proxy(i,{get:(o,l)=>l==="create"?s:(n.has(l)||n.set(l,A2(l,void 0,t,r)),n.get(l))})}function n7({top:t,left:r,right:n,bottom:s}){return{x:{min:r,max:n},y:{min:t,max:s}}}function Mme({x:t,y:r}){return{top:r.min,right:t.max,bottom:r.max,left:t.min}}function Qme(t,r){if(!r)return t;const n=r({x:t.left,y:t.top}),s=r({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function f2(t){return t===void 0||t===1}function tj({scale:t,scaleX:r,scaleY:n}){return!f2(t)||!f2(r)||!f2(n)}function _d(t){return tj(t)||s7(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function s7(t){return A6(t.x)||A6(t.y)}function A6(t){return t&&t!=="0%"}function Vv(t,r,n){const s=t-n,i=r*s;return n+i}function f6(t,r,n,s,i){return i!==void 0&&(t=Vv(t,i,s)),Vv(t,n,s)+r}function rj(t,r=0,n=1,s,i){t.min=f6(t.min,r,n,s,i),t.max=f6(t.max,r,n,s,i)}function i7(t,{x:r,y:n}){rj(t.x,r.translate,r.scale,r.originPoint),rj(t.y,n.translate,n.scale,n.originPoint)}const h6=.999999999999,p6=1.0000000000001;function $me(t,r,n,s=!1){const i=n.length;if(!i)return;r.x=r.y=1;let o,l;for(let c=0;c<i;c++){o=n[c],l=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Rf(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(r.x*=l.x.scale,r.y*=l.y.scale,i7(t,l)),s&&_d(o.latestValues)&&Rf(t,o.latestValues))}r.x<p6&&r.x>h6&&(r.x=1),r.y<p6&&r.y>h6&&(r.y=1)}function Uf(t,r){t.min=t.min+r,t.max=t.max+r}function m6(t,r,n,s,i=.5){const o=As(t.min,t.max,i);rj(t,r,n,o,s)}function Rf(t,r){m6(t.x,r.x,r.scaleX,r.scale,r.originX),m6(t.y,r.y,r.scaleY,r.scale,r.originY)}function a7(t,r){return n7(Qme(t.getBoundingClientRect(),r))}function Hme(t,r,n){const s=a7(t,n),{scroll:i}=r;return i&&(Uf(s.x,i.offset.x),Uf(s.y,i.offset.y)),s}const g6=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mf=()=>({x:g6(),y:g6()}),y6=()=>({min:0,max:0}),Ps=()=>({x:y6(),y:y6()}),nj={current:null},o7={current:!1};function Vme(){if(o7.current=!0,!!PS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),r=()=>nj.current=t.matches;t.addEventListener("change",r),r()}else nj.current=!1}const zme=new WeakMap;function Kme(t,r,n){for(const s in r){const i=r[s],o=n[s];if(Zi(i))t.addValue(s,i);else if(Zi(o))t.addValue(s,Nh(i,{owner:t}));else if(o!==i)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(s);t.addValue(s,Nh(l!==void 0?l:i,{owner:t}))}}for(const s in n)r[s]===void 0&&t.removeValue(s);return r}const x6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Gme{scrapeMotionValuesFromProps(r,n,s){return{}}constructor({parent:r,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=XS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ea.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ls.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=r,this.props=n,this.presenceContext=s,this.depth=r?r.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=X1(n),this.isVariantNode=KR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:A,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const p=f[h];u[h]!==void 0&&Zi(p)&&p.set(u[h])}}mount(r){var n;this.current=r,zme.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),o7.current||Vme(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nj.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var r;this.projection&&this.projection.unmount(),ed(this.notifyUpdate),ed(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(r=this.parent)==null||r.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(r){this.children.add(r),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(r)}removeChild(r){this.children.delete(r),this.enteringChildren&&this.enteringChildren.delete(r)}bindToMotionValue(r,n){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const s=Vh.has(r);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[r]=l,this.props.onUpdate&&ls.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,r,n)),this.valueSubscriptions.set(r,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in Sh){const n=Sh[r];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[r]&&i&&s(this.props)&&(this.features[r]=new i(this)),this.features[r]){const o=this.features[r];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ps()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,n){this.latestValues[r]=n}update(r,n){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<x6.length;s++){const i=x6[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=r[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=Kme(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(r),()=>n.variantChildren.delete(r)}addValue(r,n){const s=this.values.get(r);n!==s&&(s&&this.removeValue(r),this.bindToMotionValue(r,n),this.values.set(r,n),this.latestValues[r]=n.get())}removeValue(r){this.values.delete(r);const n=this.valueSubscriptions.get(r);n&&(n(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,n){if(this.props.values&&this.props.values[r])return this.props.values[r];let s=this.values.get(r);return s===void 0&&n!==void 0&&(s=Nh(n===null?void 0:n,{owner:this}),this.addValue(r,s)),s}readValue(r,n){let s=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:this.getBaseTargetFromProps(this.props,r)??this.readValueFromInstance(this.current,r,this.options);return s!=null&&(typeof s=="string"&&(ZU(s)||tR(s))?s=parseFloat(s):!rme(s)&&td.test(n)&&(s=LR(r,n)),this.setBaseTarget(r,Zi(s)?s.get():s)),Zi(s)?s.get():s}setBaseTarget(r,n){this.baseTarget[r]=n}getBaseTarget(r){var o;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=l3(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(s=l[r])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,r);return i!==void 0&&!Zi(i)?i:this.initialValues[r]!==void 0&&s===void 0?void 0:this.baseTarget[r]}on(r,n){return this.events[r]||(this.events[r]=new RS),this.events[r].add(n)}notify(r,...n){this.events[r]&&this.events[r].notify(...n)}scheduleRenderMicrotask(){e3.render(this.render)}}class l7 extends Gme{constructor(){super(...arguments),this.KeyframeResolver=V0e}sortInstanceNodePosition(r,n){return r.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(r,n){return r.style?r.style[n]:void 0}removeValueFromRenderState(r,{vars:n,style:s}){delete n[r],delete s[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;Zi(r)&&(this.childSubscription=r.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function c7(t,{style:r,vars:n},s,i){const o=t.style;let l;for(l in r)o[l]=r[l];i==null||i.applyProjectionStyles(o,s);for(l in n)o.setProperty(l,n[l])}function Wme(t){return window.getComputedStyle(t)}class qme extends l7{constructor(){super(...arguments),this.type="html",this.renderInstance=c7}readValueFromInstance(r,n){var s;if(Vh.has(n))return(s=this.projection)!=null&&s.isProjecting?W4(n):c0e(r,n);{const i=Wme(r),o=($S(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(r,{transformPagePoint:n}){return a7(r,n)}build(r,n,s){i3(r,n,s.transformTemplate)}scrapeMotionValuesFromProps(r,n,s){return c3(r,n,s)}}const u7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Yme(t,r,n,s){c7(t,r,void 0,s);for(const i in r.attrs)t.setAttribute(u7.has(i)?i:u3(i),r.attrs[i])}class Xme extends l7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ps}getBaseTargetFromProps(r,n){return r[n]}readValueFromInstance(r,n){if(Vh.has(n)){const s=PR(n);return s&&s.default||0}return n=u7.has(n)?n:u3(n),r.getAttribute(n)}scrapeMotionValuesFromProps(r,n,s){return ZR(r,n,s)}build(r,n,s){qR(r,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(r,n,s,i){Yme(r,n,s,i)}mount(r){this.isSVGTag=XR(r.tagName),super.mount(r)}}const Jme=(t,r)=>o3(t)?new Xme(r):new qme(r,{allowProjection:t!==te.Fragment});function oh(t,r,n){const s=t.getProps();return l3(s,r,n!==void 0?n:s.custom,t)}const sj=t=>Array.isArray(t);function Zme(t,r,n){t.hasValue(r)?t.getValue(r).set(n):t.addValue(r,Nh(n))}function ege(t){return sj(t)?t[t.length-1]||0:t}function tge(t,r){const n=oh(t,r);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const l in o){const c=ege(o[l]);Zme(t,l,c)}}function rge(t){return!!(Zi(t)&&t.add)}function ij(t,r){const n=t.getValue("willChange");if(rge(n))return n.add(r);if(!n&&Fc.WillChange){const s=new Fc.WillChange("auto");t.addValue("willChange",s),s.add(r)}}function d7(t){return t.props[e7]}const nge=t=>t!==null;function sge(t,{repeat:r,repeatType:n="loop"},s){const i=t.filter(nge),o=r&&n!=="loop"&&r%2===1?0:i.length-1;return!o||s===void 0?i[o]:s}const ige={type:"spring",stiffness:500,damping:25,restSpeed:10},age=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),oge={type:"keyframes",duration:.8},lge={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cge=(t,{keyframes:r})=>r.length>2?oge:Vh.has(t)?t.startsWith("scale")?age(r[1]):ige:lge;function uge({when:t,delay:r,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:u,elapsed:d,...A}){return!!Object.keys(A).length}const d3=(t,r,n,s={},i,o)=>l=>{const c=JS(s,t)||{},u=c.delay||s.delay||0;let{elapsed:d=0}=s;d=d-Rl(u);const A={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:r.getVelocity(),...c,delay:-d,onUpdate:h=>{r.set(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:r,element:o?void 0:i};uge(c)||Object.assign(A,cge(t,A)),A.duration&&(A.duration=Rl(A.duration)),A.repeatDelay&&(A.repeatDelay=Rl(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let f=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(Z4(A),A.delay===0&&(f=!0)),(Fc.instantAnimations||Fc.skipAnimations)&&(f=!0,Z4(A),A.delay=0),A.allowFlatten=!c.type&&!c.ease,f&&!o&&r.get()!==void 0){const h=sge(A.keyframes,c);if(h!==void 0){ls.update(()=>{A.onUpdate(h),A.onComplete()});return}}return c.isSync?new YS(A):new O0e(A)};function dge({protectedKeys:t,needsAnimating:r},n){const s=t.hasOwnProperty(n)&&r[n]!==!0;return r[n]=!1,s}function A7(t,r,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=r;s&&(o=s);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const A in c){const f=t.getValue(A,t.latestValues[A]??null),h=c[A];if(h===void 0||d&&dge(d,A))continue;const p={delay:n,...JS(o||{},A)},m=f.get();if(m!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===m&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=d7(t);if(y){const x=window.MotionHandoffAnimation(y,A,ls);x!==null&&(p.startTime=x,g=!0)}}ij(t,A),f.start(d3(A,f,h,t.shouldReduceMotion&&OR.has(A)?{type:!1}:p,t,g));const b=f.animation;b&&u.push(b)}return l&&Promise.all(u).then(()=>{ls.update(()=>{l&&tge(t,l)})}),u}function f7(t,r,n,s=0,i=1){const o=Array.from(t).sort((d,A)=>d.sortNodePosition(A)).indexOf(r),l=t.size,c=(l-1)*s;return typeof n=="function"?n(o,l):i===1?o*s:c-o*s}function aj(t,r,n={}){var u;const s=oh(t,r,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(A7(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:A=0,staggerChildren:f,staggerDirection:h}=i;return Age(t,r,d,A,f,h,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,A]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>A())}else return Promise.all([o(),l(n.delay)])}function Age(t,r,n=0,s=0,i=0,o=1,l){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",r),c.push(aj(u,r,{...l,delay:n+(typeof s=="function"?0:s)+f7(t.variantChildren,u,s,i,o)}).then(()=>u.notify("AnimationComplete",r)));return Promise.all(c)}function fge(t,r,n={}){t.notify("AnimationStart",r);let s;if(Array.isArray(r)){const i=r.map(o=>aj(t,o,n));s=Promise.all(i)}else if(typeof r=="string")s=aj(t,r,n);else{const i=typeof r=="function"?oh(t,r,n.custom):r;s=Promise.all(A7(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",r)})}function h7(t,r){if(!Array.isArray(r))return!1;const n=r.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(r[s]!==t[s])return!1;return!0}const hge=s3.length;function p7(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?p7(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const r={};for(let n=0;n<hge;n++){const s=s3[n],i=t.props[s];(hm(i)||i===!1)&&(r[s]=i)}return r}const pge=[...n3].reverse(),mge=n3.length;function gge(t){return r=>Promise.all(r.map(({animation:n,options:s})=>fge(t,n,s)))}function yge(t){let r=gge(t),n=v6(),s=!0;const i=u=>(d,A)=>{var h;const f=oh(t,A,u==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...g}=f;d={...d,...g,...m}}return d};function o(u){r=u(t)}function l(u){const{props:d}=t,A=p7(t.parent)||{},f=[],h=new Set;let p={},m=1/0;for(let b=0;b<mge;b++){const y=pge[b],x=n[y],v=d[y]!==void 0?d[y]:A[y],w=hm(v),_=y===u?x.isActive:null;_===!1&&(m=b);let B=v===A[y]&&v!==d[y]&&w;if(B&&s&&t.manuallyAnimateOnMount&&(B=!1),x.protectedKeys={...p},!x.isActive&&_===null||!v&&!x.prevProp||Y1(v)||typeof v=="boolean")continue;const N=xge(x.prevProp,v);let j=N||y===u&&x.isActive&&!B&&w||b>m&&w,C=!1;const E=Array.isArray(v)?v:[v];let S=E.reduce(i(y),{});_===!1&&(S={});const{prevResolvedValues:k={}}=x,P={...k,...S},M=Q=>{j=!0,h.has(Q)&&(C=!0,h.delete(Q)),x.needsAnimating[Q]=!0;const K=t.getValue(Q);K&&(K.liveStyle=!1)};for(const Q in P){const K=S[Q],Y=k[Q];if(p.hasOwnProperty(Q))continue;let V=!1;sj(K)&&sj(Y)?V=!h7(K,Y):V=K!==Y,V?K!=null?M(Q):h.add(Q):K!==void 0&&h.has(Q)?M(Q):x.protectedKeys[Q]=!0}x.prevProp=v,x.prevResolvedValues=S,x.isActive&&(p={...p,...S}),s&&t.blockInitialAnimation&&(j=!1);const H=B&&N;j&&(!H||C)&&f.push(...E.map(Q=>{const K={type:y};if(typeof Q=="string"&&s&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:Y}=t,V=oh(Y,Q);if(Y.enteringChildren&&V){const{delayChildren:I}=V.transition||{};K.delay=f7(Y.enteringChildren,t,I)}}return{animation:Q,options:K}}))}if(h.size){const b={};if(typeof d.initial!="boolean"){const y=oh(t,Array.isArray(d.initial)?d.initial[0]:d.initial);y&&y.transition&&(b.transition=y.transition)}h.forEach(y=>{const x=t.getBaseTarget(y),v=t.getValue(y);v&&(v.liveStyle=!0),b[y]=x??null}),f.push({animation:b})}let g=!!f.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(g=!1),s=!1,g?r(f):Promise.resolve()}function c(u,d){var f;if(n[u].isActive===d)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(u,d)}),n[u].isActive=d;const A=l(u);for(const h in n)n[h].protectedKeys={};return A}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=v6(),s=!0}}}function xge(t,r){return typeof r=="string"?r!==t:Array.isArray(r)?!h7(r,t):!1}function bd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function v6(){return{animate:bd(!0),whileInView:bd(),whileHover:bd(),whileTap:bd(),whileDrag:bd(),whileFocus:bd(),exit:bd()}}class fd{constructor(r){this.isMounted=!1,this.node=r}update(){}}class vge extends fd{constructor(r){super(r),r.animationState||(r.animationState=yge(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();Y1(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:n}=this.node.prevProps||{};r!==n&&this.updateAnimationControlsSubscription()}unmount(){var r;this.node.animationState.reset(),(r=this.unmountControls)==null||r.call(this)}}let bge=0;class wge extends fd{constructor(){super(...arguments),this.id=bge++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===s)return;const i=this.node.animationState.setActive("exit",!r);n&&!r&&i.then(()=>{n(this.id)})}mount(){const{register:r,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),r&&(this.unmount=r(this.id))}unmount(){}}const jge={animation:{Feature:vge},exit:{Feature:wge}};function mm(t,r,n,s={passive:!0}){return t.addEventListener(r,n,s),()=>t.removeEventListener(r,n)}function Wm(t){return{point:{x:t.pageX,y:t.pageY}}}const Nge=t=>r=>t3(r)&&t(r,Wm(r));function y0(t,r,n,s){return mm(t,r,Nge(n),s)}const m7=1e-4,Sge=1-m7,Bge=1+m7,g7=.01,Cge=0-g7,_ge=0+g7;function Aa(t){return t.max-t.min}function Ege(t,r,n){return Math.abs(t-r)<=n}function b6(t,r,n,s=.5){t.origin=s,t.originPoint=As(r.min,r.max,t.origin),t.scale=Aa(n)/Aa(r),t.translate=As(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Sge&&t.scale<=Bge||isNaN(t.scale))&&(t.scale=1),(t.translate>=Cge&&t.translate<=_ge||isNaN(t.translate))&&(t.translate=0)}function x0(t,r,n,s){b6(t.x,r.x,n.x,s?s.originX:void 0),b6(t.y,r.y,n.y,s?s.originY:void 0)}function w6(t,r,n){t.min=n.min+r.min,t.max=t.min+Aa(r)}function kge(t,r,n){w6(t.x,r.x,n.x),w6(t.y,r.y,n.y)}function j6(t,r,n){t.min=r.min-n.min,t.max=t.min+Aa(r)}function v0(t,r,n){j6(t.x,r.x,n.x),j6(t.y,r.y,n.y)}function fo(t){return[t("x"),t("y")]}const y7=({current:t})=>t?t.ownerDocument.defaultView:null,N6=(t,r)=>Math.abs(t-r);function Tge(t,r){const n=N6(t.x,r.x),s=N6(t.y,r.y);return Math.sqrt(n**2+s**2)}class x7{constructor(r,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=p2(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Tge(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!m)return;const{point:g}=h,{timestamp:b}=_i;this.history.push({...g,timestamp:b});const{onStart:y,onMove:x}=this.handlers;p||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=h2(p,this.transformPagePoint),ls.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=p2(h.type==="pointercancel"?this.lastMoveEventInfo:h2(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,y),g&&g(h,y)},!t3(r))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=i||window;const c=Wm(r),u=h2(c,this.transformPagePoint),{point:d}=u,{timestamp:A}=_i;this.history=[{...d,timestamp:A}];const{onSessionStart:f}=n;f&&f(r,p2(u,this.history)),this.removeListeners=zm(y0(this.contextWindow,"pointermove",this.handlePointerMove),y0(this.contextWindow,"pointerup",this.handlePointerUp),y0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),ed(this.updatePoint)}}function h2(t,r){return r?{point:r(t.point)}:t}function S6(t,r){return{x:t.x-r.x,y:t.y-r.y}}function p2({point:t},r){return{point:t,delta:S6(t,v7(r)),offset:S6(t,Oge(r)),velocity:Fge(r,.1)}}function Oge(t){return t[0]}function v7(t){return t[t.length-1]}function Fge(t,r){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=v7(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>Rl(r)));)n--;if(!s)return{x:0,y:0};const o=Ml(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Ige(t,{min:r,max:n},s){return r!==void 0&&t<r?t=s?As(r,t,s.min):Math.max(t,r):n!==void 0&&t>n&&(t=s?As(n,t,s.max):Math.min(t,n)),t}function B6(t,r,n){return{min:r!==void 0?t.min+r:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Pge(t,{top:r,left:n,bottom:s,right:i}){return{x:B6(t.x,n,i),y:B6(t.y,r,s)}}function C6(t,r){let n=r.min-t.min,s=r.max-t.max;return r.max-r.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Lge(t,r){return{x:C6(t.x,r.x),y:C6(t.y,r.y)}}function Dge(t,r){let n=.5;const s=Aa(t),i=Aa(r);return i>s?n=dm(r.min,r.max-s,t.min):s>i&&(n=dm(t.min,t.max-i,r.min)),Oc(0,1,n)}function Uge(t,r){const n={};return r.min!==void 0&&(n.min=r.min-t.min),r.max!==void 0&&(n.max=r.max-t.min),n}const oj=.35;function Rge(t=oj){return t===!1?t=0:t===!0&&(t=oj),{x:_6(t,"left","right"),y:_6(t,"top","bottom")}}function _6(t,r,n){return{min:E6(t,r),max:E6(t,n)}}function E6(t,r){return typeof t=="number"?t:t[r]||0}const Mge=new WeakMap;class Qge{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ps(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=r}start(r,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wm(f).point)},l=(f,h)=>{const{drag:p,dragPropagation:m,onDragStart:g}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W0e(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fo(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Ql.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[y];w&&(x=Aa(w)*(parseFloat(x)/100))}}this.originPoint[y]=x}),g&&ls.postRender(()=>g(f,h)),ij(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:g,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=h;if(m&&this.currentDirection===null){this.currentDirection=$ge(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),b&&b(f,h)},u=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>fo(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:A}=this.getProps();this.panSession=new x7(r,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:A,distanceThreshold:s,contextWindow:y7(this.visualElement)})}stop(r,n){const s=r||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!s)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&ls.postRender(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:r,animationState:n}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(r,n,s){const{drag:i}=this.getProps();if(!s||!ky(r,i,this.currentDirection))return;const o=this.getAxisMotionValue(r);let l=this.originPoint[r]+s[r];this.constraints&&this.constraints[r]&&(l=Ige(l,this.constraints[r],this.elastic[r])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;r&&Df(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=Pge(s.layoutBox,r):this.constraints=!1,this.elastic=Rge(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&fo(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Uge(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:n}=this.getProps();if(!r||!Df(r))return!1;const s=r.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Hme(s,i.root,this.visualElement.getTransformPagePoint());let l=Lge(i.layout.layoutBox,o);if(n){const c=n(Mme(l));this.hasMutatedConstraints=!!c,c&&(l=n7(c))}return l}startAnimation(r){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},d=fo(A=>{if(!ky(A,n,this.currentDirection))return;let f=u&&u[A]||{};l&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:s?r[A]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(A,m)});return Promise.all(d).then(c)}startAxisValueAnimation(r,n){const s=this.getAxisMotionValue(r);return ij(this.visualElement,r),s.start(d3(r,s,0,n,this.visualElement,!1))}stopAnimation(){fo(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){fo(r=>{var n;return(n=this.getAxisMotionValue(r).animation)==null?void 0:n.pause()})}getAnimationState(r){var n;return(n=this.getAxisMotionValue(r).animation)==null?void 0:n.state}getAxisMotionValue(r){const n=`_drag${r.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(r,(s.initial?s.initial[r]:void 0)||0)}snapToCursor(r){fo(n=>{const{drag:s}=this.getProps();if(!ky(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];o.set(r[n]-As(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Df(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};fo(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const u=c.get();i[l]=Dge({min:u,max:u},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),fo(l=>{if(!ky(l,r,null))return;const c=this.getAxisMotionValue(l),{min:u,max:d}=this.constraints[l];c.set(As(u,d,i[l]))})}addListeners(){if(!this.visualElement.current)return;Mge.set(this.visualElement,this);const r=this.visualElement.current,n=y0(r,"pointerdown",u=>{const{drag:d,dragListener:A=!0}=this.getProps();d&&A&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();Df(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ls.read(s);const l=mm(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(fo(A=>{const f=this.getAxisMotionValue(A);f&&(this.originPoint[A]+=u[A].translate,f.set(f.get()+u[A].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const r=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=oj,dragMomentum:c=!0}=r;return{...r,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function ky(t,r,n){return(r===!0||r===t)&&(n===null||n===t)}function $ge(t,r=10){let n=null;return Math.abs(t.y)>r?n="y":Math.abs(t.x)>r&&(n="x"),n}class Hge extends fd{constructor(r){super(r),this.removeGroupControls=Bo,this.removeListeners=Bo,this.controls=new Qge(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bo}unmount(){this.removeGroupControls(),this.removeListeners()}}const k6=t=>(r,n)=>{t&&ls.postRender(()=>t(r,n))};class Vge extends fd{constructor(){super(...arguments),this.removePointerDownListener=Bo}onPointerDown(r){this.session=new x7(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:y7(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:k6(r),onStart:k6(n),onMove:s,onEnd:(o,l)=>{delete this.session,i&&ls.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=y0(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function T6(t,r){return r.max===r.min?0:t/(r.max-r.min)*100}const Bp={correct:(t,r)=>{if(!r.target)return t;if(typeof t=="string")if(kr.test(t))t=parseFloat(t);else return t;const n=T6(t,r.target.x),s=T6(t,r.target.y);return`${n}% ${s}%`}},zge={correct:(t,{treeScale:r,projectionDelta:n})=>{const s=t,i=td.parse(t);if(i.length>5)return s;const o=td.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*r.x,u=n.y.scale*r.y;i[0+l]/=c,i[1+l]/=u;const d=As(c,u,.5);return typeof i[2+l]=="number"&&(i[2+l]/=d),typeof i[3+l]=="number"&&(i[3+l]/=d),o(i)}};let m2=!1;class Kge extends te.Component{componentDidMount(){const{visualElement:r,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=r;hme(Gge),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),m2&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),dx.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,{projection:l}=s;return l&&(l.isPresent=o,m2=!0,i||r.layoutDependency!==n||n===void 0||r.isPresent!==o?l.willUpdate():this.safeToRemove(),r.isPresent!==o&&(o?l.promote():l.relegate()||ls.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),e3.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=r;m2=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function b7(t){const[r,n]=HR(),s=te.useContext(FS);return a.jsx(Kge,{...t,layoutGroup:s,switchLayoutGroup:te.useContext(t7),isPresent:r,safeToRemove:n})}const Gge={borderRadius:{...Bp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bp,borderTopRightRadius:Bp,borderBottomLeftRadius:Bp,borderBottomRightRadius:Bp,boxShadow:zge};function Wge(t,r,n){const s=Zi(t)?t:Nh(t);return s.start(d3("",s,r,n)),s.animation}const qge=(t,r)=>t.depth-r.depth;class Yge{constructor(){this.children=[],this.isDirty=!1}add(r){LS(this.children,r),this.isDirty=!0}remove(r){DS(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(qge),this.isDirty=!1,this.children.forEach(r)}}function Xge(t,r){const n=Ea.now(),s=({timestamp:i})=>{const o=i-n;o>=r&&(ed(s),t(o-r))};return ls.setup(s,!0),()=>ed(s)}const w7=["TopLeft","TopRight","BottomLeft","BottomRight"],Jge=w7.length,O6=t=>typeof t=="string"?parseFloat(t):t,F6=t=>typeof t=="number"||kr.test(t);function Zge(t,r,n,s,i,o){i?(t.opacity=As(0,n.opacity??1,eye(s)),t.opacityExit=As(r.opacity??1,0,tye(s))):o&&(t.opacity=As(r.opacity??1,n.opacity??1,s));for(let l=0;l<Jge;l++){const c=`border${w7[l]}Radius`;let u=I6(r,c),d=I6(n,c);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||F6(u)===F6(d)?(t[c]=Math.max(As(O6(u),O6(d),s),0),(Ql.test(d)||Ql.test(u))&&(t[c]+="%")):t[c]=d}(r.rotate||n.rotate)&&(t.rotate=As(r.rotate||0,n.rotate||0,s))}function I6(t,r){return t[r]!==void 0?t[r]:t.borderRadius}const eye=j7(0,.5,cR),tye=j7(.5,.95,Bo);function j7(t,r,n){return s=>s<t?0:s>r?1:n(dm(t,r,s))}function P6(t,r){t.min=r.min,t.max=r.max}function uo(t,r){P6(t.x,r.x),P6(t.y,r.y)}function L6(t,r){t.translate=r.translate,t.scale=r.scale,t.originPoint=r.originPoint,t.origin=r.origin}function D6(t,r,n,s,i){return t-=r,t=Vv(t,1/n,s),i!==void 0&&(t=Vv(t,1/i,s)),t}function rye(t,r=0,n=1,s=.5,i,o=t,l=t){if(Ql.test(r)&&(r=parseFloat(r),r=As(l.min,l.max,r/100)-l.min),typeof r!="number")return;let c=As(o.min,o.max,s);t===o&&(c-=r),t.min=D6(t.min,r,n,c,i),t.max=D6(t.max,r,n,c,i)}function U6(t,r,[n,s,i],o,l){rye(t,r[n],r[s],r[i],r.scale,o,l)}const nye=["x","scaleX","originX"],sye=["y","scaleY","originY"];function R6(t,r,n,s){U6(t.x,r,nye,n?n.x:void 0,s?s.x:void 0),U6(t.y,r,sye,n?n.y:void 0,s?s.y:void 0)}function M6(t){return t.translate===0&&t.scale===1}function N7(t){return M6(t.x)&&M6(t.y)}function Q6(t,r){return t.min===r.min&&t.max===r.max}function iye(t,r){return Q6(t.x,r.x)&&Q6(t.y,r.y)}function $6(t,r){return Math.round(t.min)===Math.round(r.min)&&Math.round(t.max)===Math.round(r.max)}function S7(t,r){return $6(t.x,r.x)&&$6(t.y,r.y)}function H6(t){return Aa(t.x)/Aa(t.y)}function V6(t,r){return t.translate===r.translate&&t.scale===r.scale&&t.originPoint===r.originPoint}class aye{constructor(){this.members=[]}add(r){LS(this.members,r),r.scheduleRender()}remove(r){if(DS(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(r){const n=this.members.findIndex(i=>r===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(r,n){const s=this.lead;if(r!==s&&(this.prevLead=s,this.lead=r,r.show(),s)){s.instance&&s.scheduleRender(),r.scheduleRender(),r.resumeFrom=s,n&&(r.resumeFrom.preserveOpacity=!0),s.snapshot&&(r.snapshot=s.snapshot,r.snapshot.latestValues=s.animationValues||s.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:i}=r.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:n,resumingFrom:s}=r;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oye(t,r,n){let s="";const i=t.x.translate/r.x,o=t.y.translate/r.y,l=(n==null?void 0:n.z)||0;if((i||o||l)&&(s=`translate3d(${i}px, ${o}px, ${l}px) `),(r.x!==1||r.y!==1)&&(s+=`scale(${1/r.x}, ${1/r.y}) `),n){const{transformPerspective:d,rotate:A,rotateX:f,rotateY:h,skewX:p,skewY:m}=n;d&&(s=`perspective(${d}px) ${s}`),A&&(s+=`rotate(${A}deg) `),f&&(s+=`rotateX(${f}deg) `),h&&(s+=`rotateY(${h}deg) `),p&&(s+=`skewX(${p}deg) `),m&&(s+=`skewY(${m}deg) `)}const c=t.x.scale*r.x,u=t.y.scale*r.y;return(c!==1||u!==1)&&(s+=`scale(${c}, ${u})`),s||"none"}const g2=["","X","Y","Z"],lye=1e3;let cye=0;function y2(t,r,n,s){const{latestValues:i}=r;i[t]&&(n[t]=i[t],r.setStaticValue(t,0),s&&(s[t]=0))}function B7(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:r}=t.options;if(!r)return;const n=d7(r);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ls,!(i||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&B7(s)}function C7({attachResizeListener:t,defaultParent:r,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(l={},c=r==null?void 0:r()){this.id=cye++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Aye),this.nodes.forEach(mye),this.nodes.forEach(gye),this.nodes.forEach(fye)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Yge)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new RS),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=$R(l)&&!eme(l),this.instance=l;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let A,f=0;const h=()=>this.root.updateBlockedByResize=!1;ls.read(()=>{f=window.innerWidth}),t(l,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,A&&A(),A=Xge(h,250),dx.hasAnimatedSinceResize&&(dx.hasAnimatedSinceResize=!1,this.nodes.forEach(G6)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||wye,{onLayoutAnimationStart:g,onLayoutAnimationComplete:b}=d.getProps(),y=!this.targetLayout||!S7(this.targetLayout,p),x=!f&&h;if(this.options.layoutRoot||this.resumeFrom||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...JS(m,"layout"),onPlay:g,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(A,x)}else f||G6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ed(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yye),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&B7(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const f=this.path[A];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(K6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pye),this.nodes.forEach(uye),this.nodes.forEach(dye)):this.nodes.forEach(K6),this.clearAllSnapshots();const c=Ea.now();_i.delta=Oc(0,1e3/60,c-_i.timestamp),_i.timestamp=c,_i.isProcessing=!0,a2.update.process(_i),a2.preRender.process(_i),a2.render.process(_i),_i.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,e3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hye),this.sharedNodes.forEach(xye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ls.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ls.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Aa(this.snapshot.measuredBox.x)&&!Aa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ps(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!N7(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,A=d!==this.prevTransformTemplateValue;l&&this.instance&&(c||_d(this.latestValues)||A)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),jye(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:l}=this.options;if(!l)return Ps();const c=l.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Nye))){const{scroll:A}=this.root;A&&(Uf(c.x,A.offset.x),Uf(c.y,A.offset.y))}return c}removeElementScroll(l){var u;const c=Ps();if(uo(c,l),(u=this.scroll)!=null&&u.wasRoot)return c;for(let d=0;d<this.path.length;d++){const A=this.path[d],{scroll:f,options:h}=A;A!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&uo(c,l),Uf(c.x,f.offset.x),Uf(c.y,f.offset.y))}return c}applyTransform(l,c=!1){const u=Ps();uo(u,l);for(let d=0;d<this.path.length;d++){const A=this.path[d];!c&&A.options.layoutScroll&&A.scroll&&A!==A.root&&Rf(u,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),_d(A.latestValues)&&Rf(u,A.latestValues)}return _d(this.latestValues)&&Rf(u,this.latestValues),u}removeTransform(l){const c=Ps();uo(c,l);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!_d(d.latestValues))continue;tj(d.latestValues)&&d.updateSnapshot();const A=Ps(),f=d.measurePageBox();uo(A,f),R6(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,A)}return _d(this.latestValues)&&R6(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_i.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var h;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:f}=this.options;if(!(!this.layout||!(A||f))){if(this.resolvedRelativeTargetAt=_i.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ps(),this.relativeTargetOrigin=Ps(),v0(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),uo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ps(),this.targetWithTransforms=Ps()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):uo(this.target,this.layout.layoutBox),i7(this.target,this.targetDelta)):uo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ps(),this.relativeTargetOrigin=Ps(),v0(this.relativeTargetOrigin,this.target,p.target),uo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||tj(this.parent.latestValues)||s7(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===_i.timestamp&&(u=!1),u)return;const{layout:d,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||A))return;uo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;$me(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ps());const{target:p}=l;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(L6(this.prevProjectionDelta.x,this.projectionDelta.x),L6(this.prevProjectionDelta.y,this.projectionDelta.y)),x0(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!V6(this.projectionDelta.x,this.prevProjectionDelta.x)||!V6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mf(),this.projectionDelta=Mf(),this.projectionDeltaWithTransform=Mf()}setAnimationOrigin(l,c=!1){const u=this.snapshot,d=u?u.latestValues:{},A={...this.latestValues},f=Mf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const h=Ps(),p=u?u.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,b=this.getStack(),y=!b||b.members.length<=1,x=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(bye));this.animationProgress=0;let v;this.mixTargetDelta=w=>{const _=w/1e3;W6(f.x,l.x,_),W6(f.y,l.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(v0(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vye(this.relativeTarget,this.relativeTargetOrigin,h,_),v&&iye(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Ps()),uo(v,this.relativeTarget)),g&&(this.animationValues=A,Zge(A,d,this.latestValues,_,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,u,d;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ed(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ls.update(()=>{dx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nh(0)),this.currentAnimation=Wge(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:A=>{this.mixTargetDelta(A),l.onUpdate&&l.onUpdate(A)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lye),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:d,latestValues:A}=l;if(!(!c||!u||!d)){if(this!==l&&this.layout&&d&&_7(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Ps();const f=Aa(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+f;const h=Aa(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+h}uo(c,u),Rf(c,A),x0(this.projectionDeltaWithTransform,this.layoutCorrected,c,A)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new aye),this.sharedNodes.get(l).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const d={};u.z&&y2("z",l,d,this.animationValues);for(let A=0;A<g2.length;A++)y2(`rotate${g2[A]}`,l,d,this.animationValues),y2(`skew${g2[A]}`,l,d,this.animationValues);l.render();for(const A in d)l.setStaticValue(A,d[A]),this.animationValues&&(this.animationValues[A]=d[A]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=ux(c==null?void 0:c.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=ux(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!_d(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1);return}l.visibility="";const A=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=oye(this.projectionDeltaWithTransform,this.treeScale,A);u&&(f=u(A,f)),l.transform=f;const{x:h,y:p}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?l.opacity=d===this?A.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:l.opacity=d===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const m in pm){if(A[m]===void 0)continue;const{correct:g,applyTo:b,isCSSVariable:y}=pm[m],x=f==="none"?A[m]:g(A[m],d);if(b){const v=b.length;for(let w=0;w<v;w++)l[b[w]]=x}else y?this.options.visualElement.renderState.vars[m]=x:l[m]=x}this.options.layoutId&&(l.pointerEvents=d===this?ux(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(z6),this.root.sharedNodes.clear()}}}function uye(t){t.updateLayout()}function dye(t){var n;const r=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:o}=t.options,l=r.source!==t.layout.source;o==="size"?fo(f=>{const h=l?r.measuredBox[f]:r.layoutBox[f],p=Aa(h);h.min=s[f].min,h.max=h.min+p}):_7(o,r.layoutBox,s)&&fo(f=>{const h=l?r.measuredBox[f]:r.layoutBox[f],p=Aa(s[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const c=Mf();x0(c,s,r.layoutBox);const u=Mf();l?x0(u,t.applyTransform(i,!0),r.measuredBox):x0(u,s,r.layoutBox);const d=!N7(c);let A=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=Ps();v0(m,r.layoutBox,h.layoutBox);const g=Ps();v0(g,s,p.layoutBox),S7(m,g)||(A=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:u,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:A})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Aye(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fye(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hye(t){t.clearSnapshot()}function z6(t){t.clearMeasurements()}function K6(t){t.isLayoutDirty=!1}function pye(t){const{visualElement:r}=t.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),t.resetTransform()}function G6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mye(t){t.resolveTargetDelta()}function gye(t){t.calcProjection()}function yye(t){t.resetSkewAndRotation()}function xye(t){t.removeLeadSnapshot()}function W6(t,r,n){t.translate=As(r.translate,0,n),t.scale=As(r.scale,1,n),t.origin=r.origin,t.originPoint=r.originPoint}function q6(t,r,n,s){t.min=As(r.min,n.min,s),t.max=As(r.max,n.max,s)}function vye(t,r,n,s){q6(t.x,r.x,n.x,s),q6(t.y,r.y,n.y,s)}function bye(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wye={duration:.45,ease:[.4,0,.1,1]},Y6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),X6=Y6("applewebkit/")&&!Y6("chrome/")?Math.round:Bo;function J6(t){t.min=X6(t.min),t.max=X6(t.max)}function jye(t){J6(t.x),J6(t.y)}function _7(t,r,n){return t==="position"||t==="preserve-aspect"&&!Ege(H6(r),H6(n),.2)}function Nye(t){var r;return t!==t.root&&((r=t.scroll)==null?void 0:r.wasRoot)}const Sye=C7({attachResizeListener:(t,r)=>mm(t,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),x2={current:void 0},E7=C7({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!x2.current){const t=new Sye({});t.mount(window),t.setOptions({layoutScroll:!0}),x2.current=t}return x2.current},resetTransform:(t,r)=>{t.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Bye={pan:{Feature:Vge},drag:{Feature:Hge,ProjectionNode:E7,MeasureLayout:b7}};function Z6(t,r,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=s[i];o&&ls.postRender(()=>o(r,Wm(r)))}class Cye extends fd{mount(){const{current:r}=this.node;r&&(this.unmount=q0e(r,(n,s)=>(Z6(this.node,s,"Start"),i=>Z6(this.node,i,"End"))))}unmount(){}}class _ye extends fd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zm(mm(this.node.current,"focus",()=>this.onFocus()),mm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function eT(t,r,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=s[i];o&&ls.postRender(()=>o(r,Wm(r)))}class Eye extends fd{mount(){const{current:r}=this.node;r&&(this.unmount=Z0e(r,(n,s)=>(eT(this.node,s,"Start"),(i,{success:o})=>eT(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lj=new WeakMap,v2=new WeakMap,kye=t=>{const r=lj.get(t.target);r&&r(t)},Tye=t=>{t.forEach(kye)};function Oye({root:t,...r}){const n=t||document;v2.has(n)||v2.set(n,{});const s=v2.get(n),i=JSON.stringify(r);return s[i]||(s[i]=new IntersectionObserver(Tye,{root:t,...r})),s[i]}function Fye(t,r,n){const s=Oye(r);return lj.set(t,n),s.observe(t),()=>{lj.delete(t),s.unobserve(t)}}const Iye={some:0,all:1};class Pye extends fd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=r,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Iye[i]},c=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:A,onViewportLeave:f}=this.node.getProps(),h=d?A:f;h&&h(u)};return Fye(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:n}=this.node;["amount","margin","root"].some(Lye(r,n))&&this.startObserver()}unmount(){}}function Lye({viewport:t={}},{viewport:r={}}={}){return n=>t[n]!==r[n]}const Dye={inView:{Feature:Pye},tap:{Feature:Eye},focus:{Feature:_ye},hover:{Feature:Cye}},Uye={layout:{ProjectionNode:E7,MeasureLayout:b7}},Rye={...jge,...Dye,...Bye,...Uye},Mye=Rme(Rye,Jme),wd={white:"#FFFFFF",purple3:"#7B2CBF",purple4:"#9D4EDD",purple5:"#C77DFF",purple6:"#E0AAFF",gray100:"#f3f4f6",gray200:"#e5e7eb",gray300:"#d1d5db",gray500:"#6b7280",gray700:"#374151"},Qye={order_update:wd.purple3,booking_update:wd.purple3,review_update:wd.purple5,promotion:wd.purple5,warning:wd.purple4,announcement:wd.purple6,withdrawal_update:wd.purple6};function $ye(){const t=Hs(),{notifications:r,loading:n,isLoaded:s,markAsRead:i,softDelete:o,markAllRead:l,setPage:c,total:u=0}=N8(),d=()=>{c&&c(f=>f+1)},A=f=>{f.isRead||i(f._id),f.link&&t(f.link)};return a.jsx("div",{className:"min-h-screen bg-gray-100 text-gray-800 p-4 sm:p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("header",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:l,disabled:r.every(f=>f.isRead),className:`px-4 py-2 rounded-lg font-medium transition duration-300 ${r.every(f=>f.isRead)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 text-white shadow"}`,children:"Mark all as read"})]}),!n&&s&&r.length===0&&a.jsx("p",{className:"text-center mt-10 text-gray-500",children:"No notifications to show."}),n&&a.jsx("p",{className:"text-center mt-10 text-gray-500",children:"Loading notifications..."}),a.jsx("ul",{className:"space-y-4",children:a.jsx(ome,{children:r.filter(f=>!f.isDeleted).map(f=>{const h=w8[f.type];return a.jsxs(Mye.li,{onClick:()=>A(f),initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,height:0,padding:0,margin:0},transition:{duration:.3},className:`cursor-pointer bg-white rounded-2xl p-5 flex items-start gap-4 shadow transition duration-300 hover:shadow-lg border ${f.isRead?"border-gray-200":"border-purple-300"}`,"aria-label":`Notification: ${f.title}`,children:[a.jsx("div",{className:"flex-shrink-0 mt-1",style:{color:Qye[f.type]},children:typeof h=="function"&&a.jsx(h,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:`font-semibold text-lg truncate mb-1 ${f.isRead?"text-gray-700":"text-purple-700"}`,children:f.title}),a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:f.body}),a.jsx("time",{className:"block text-xs text-gray-500 mt-2",dateTime:f.createdAt,children:new Date(f.createdAt).toLocaleString()})]}),a.jsx("button",{onClick:p=>{p.stopPropagation(),o(f._id)},title:"Delete notification",className:"text-gray-400 hover:text-red-500 transition","aria-label":"Delete notification",children:a.jsx(Gu,{className:"w-6 h-6"})})]},f._id)})})}),r.length<u&&a.jsx("div",{className:"flex justify-center mt-10",children:a.jsx("button",{onClick:d,disabled:n,className:`px-6 py-3 rounded-xl font-semibold transition duration-300 shadow-md ${n?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:n?"Loading...":"Load More"})})]})})}function Hye(){return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"Privacy & Return Policies"}),a.jsx("p",{className:"mt-2 text-gray-400",children:"Last Updated: January 2025"})]}),a.jsxs("div",{className:"bg-zinc-900 p-8 rounded-lg shadow-md space-y-6 text-white text-sm",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Privacy Policy"}),a.jsx("p",{className:"mt-2 text-gray-300",children:"We collect personal data such as your name, email, payment info to operate the platform and provide services. We use cookies to improve your experience and track platform usage. We never sell your personal information and only share it with trusted third-party providers under strict confidentiality. You have rights to access, correct, delete, or export your data and opt out of marketing communications."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6",children:"Return Policy"}),a.jsx("p",{className:"mt-2 text-gray-300",children:"Our platform enables sellers to define their own return policies for products and services. Generally:"}),a.jsxs("ul",{className:"list-disc list-inside mt-2 text-gray-300",children:[a.jsx("li",{children:"Returns must be requested within 14 days of delivery."}),a.jsx("li",{children:"Products must be unused and in original packaging."}),a.jsx("li",{children:"Services like bookings may be non-refundable once delivered."}),a.jsx("li",{children:"Refunds or exchanges are processed after seller approval and item inspection."})]}),a.jsx("p",{className:"mt-2 text-gray-300",children:"For specific return instructions and eligibility, please check the seller’s return policy on their store page."})]})]})]})})}function Vye(){return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"Terms of Service"}),a.jsx("p",{className:"mt-2 text-gray-400",children:"Last Updated: July 2025"})]}),a.jsxs("div",{className:"bg-zinc-900 p-8 rounded-lg shadow-md space-y-6 text-white text-sm",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Acceptance of Terms"}),a.jsx("p",{className:"text-gray-300",children:"By using AIO, you agree to our Terms and Privacy Policy."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6",children:"User Accounts"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-300",children:[a.jsx("li",{children:"You must be 18+ years old"}),a.jsx("li",{children:"You're responsible for your account activity"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6",children:"Seller Obligations"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-300",children:[a.jsx("li",{children:"Provide accurate listings & fulfill orders"}),a.jsx("li",{children:"Comply with laws and respect IP rights"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6",children:"Dispute Resolution"}),a.jsx("p",{className:"text-gray-300",children:"Disputes may be resolved via AIO mediation or binding arbitration."})]})]})]})})}const b2=t=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR"}).format(t),Cp=t=>t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",tT=t=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200",processing:"bg-blue-100 text-blue-800 border-blue-200",completed:"bg-gray-100 text-gray-800 border-gray-200"})[t]||"bg-gray-100 text-gray-800 border-gray-200",rT=t=>({pending:a.jsx($s,{className:"w-4 h-4"}),approved:a.jsx(Kn,{className:"w-4 h-4"}),rejected:a.jsx(Gu,{className:"w-4 h-4"}),processing:a.jsx(Li,{className:"w-4 h-4"}),completed:a.jsx(gh,{className:"w-4 h-4"})})[t]||a.jsx($s,{className:"w-4 h-4"}),zye=()=>{var Q,K,Y,V,I,O,R,U,T,z,G,J,ee,fe,de;const[t,r]=te.useState([]),[n,s]=te.useState(!0),[i,o]=te.useState(null),[l,c]=te.useState(!1),[u,d]=te.useState(!1),[A,f]=te.useState(""),[h,p]=te.useState([]),[m,g]=te.useState(!1),[b,y]=te.useState(null),[x,v]=te.useState({status:"",search:"",sortBy:"createdAt",sortOrder:"desc",page:1,limit:10}),[w,_]=te.useState(null);te.useEffect(()=>{B()},[x]);const B=async()=>{try{s(!0),y(null);const ae=await vw.getAllWithdrawals(x);ae.success&&(r(ae.data.withdrawals),_(ae.data.pagination))}catch(ae){console.error("Failed to fetch withdrawals:",ae),y("Failed to fetch withdrawals. Please try again.")}finally{s(!1)}},N=async(ae,xe)=>{try{d(!0),y(null);const X=t.find(re=>re._id===ae);if(!X||!j(X.status,xe)){y("Invalid status transition");return}(await vw.processWithdrawal(ae,{action:xe,adminNotes:A})).success&&(c(!1),o(null),f(""),await B())}catch(X){console.error("Failed to process withdrawal:",X),y("Failed to process withdrawal. Please try again.")}finally{d(!1)}},j=(ae,xe)=>{var ie;return((ie={pending:["processing","approved","rejected"],processing:["approved","rejected"],approved:["completed"],rejected:[],completed:[]}[ae])==null?void 0:ie.includes(xe))||!1},C=ae=>({pending:[{action:"processing",label:"Process",color:"blue"},{action:"approved",label:"Approve",color:"green"},{action:"rejected",label:"Reject",color:"red"}],processing:[{action:"approved",label:"Approve",color:"green"},{action:"rejected",label:"Reject",color:"red"}],approved:[{action:"completed",label:"Complete",color:"gray"}],rejected:[],completed:[]})[ae]||[],E=async ae=>{try{d(!0),y(null);const xe=h.filter(ie=>{const re=t.find(ve=>ve._id===ie);return re&&j(re.status,ae)});if(xe.length===0){y("No valid items for this transition");return}(await vw.bulkProcess(xe,ae)).success&&(p([]),g(!1),await B())}catch(xe){console.error("Failed to process bulk action:",xe),y("Failed to process bulk action. Please try again.")}finally{d(!1)}},S=ae=>{p(ae?t.map(xe=>xe._id):[])},k=(ae,xe)=>{p(xe?[...h,ae]:h.filter(X=>X!==ae))},P=ae=>{var xe;o(ae),f(((xe=ae.withdrawalDetails)==null?void 0:xe.adminNotes)||""),c(!0)},M=ae=>{const xe=x.sortBy===ae&&x.sortOrder==="asc"?"desc":"asc";v({...x,sortBy:ae,sortOrder:xe,page:1})},H=()=>{try{const ae=[["Store Name","Email","Amount","Status","Requested Date","Bank","Account"],...t.map(re=>{var ve,ke,Ce,we,oe,pe;return[((ve=re.userId)==null?void 0:ve.name)||"Unknown",((ke=re.userId)==null?void 0:ke.email)||"No email",re.amount||0,re.status||"Unknown",Cp(re.createdAt),((we=(Ce=re.withdrawalDetails)==null?void 0:Ce.bankAccountId)==null?void 0:we.bankName)||"Unknown Bank",((pe=(oe=re.withdrawalDetails)==null?void 0:oe.bankAccountId)==null?void 0:pe.accountNumber)||"Unknown Account"]})].map(re=>re.join(",")).join(`
`),xe=new Blob([ae],{type:"text/csv"}),X=URL.createObjectURL(xe),ie=document.createElement("a");ie.href=X,ie.download="withdrawals_export.csv",ie.click(),URL.revokeObjectURL(X)}catch(ae){console.error("Export failed:",ae),y("Failed to export data. Please try again.")}},F=te.useMemo(()=>({pending:t.filter(ae=>ae.status==="pending").length,approved:t.filter(ae=>ae.status==="approved").length,rejected:t.filter(ae=>ae.status==="rejected").length,processing:t.filter(ae=>ae.status==="processing").length,completed:t.filter(ae=>ae.status==="completed").length,totalAmount:t.reduce((ae,xe)=>ae+(xe.amount||0),0)}),[t]);return n?a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-8",children:a.jsxs("div",{className:"animate-pulse space-y-6",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-64"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[1,2,3,4,5].map(ae=>a.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},ae))}),a.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(ae=>a.jsx("div",{className:"h-16 bg-gray-200 rounded"},ae))})]})})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[b&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Li,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-red-800 font-medium",children:b}),a.jsx("button",{onClick:()=>y(null),className:"ml-auto p-1 text-red-600 hover:text-red-800",children:a.jsx(hs,{className:"w-4 h-4"})})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Withdrawal Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage and process store withdrawal requests"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search stores...",value:x.search,onChange:ae=>v({...x,search:ae.target.value,page:1}),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent w-full sm:w-64"})]}),a.jsxs("select",{value:x.status,onChange:ae=>v({...x,status:ae.target.value,page:1}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"rejected",children:"Rejected"})]}),a.jsxs("button",{onClick:H,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors flex items-center gap-2",children:[a.jsx(Tm,{className:"w-4 h-4"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mt-8",children:[a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-800",children:F.pending})]}),a.jsx($s,{className:"h-8 w-8 text-yellow-600"})]})}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Processing"}),a.jsx("p",{className:"text-2xl font-bold text-blue-800",children:F.processing})]}),a.jsx(Li,{className:"h-8 w-8 text-blue-600"})]})}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Approved"}),a.jsx("p",{className:"text-2xl font-bold text-green-800",children:F.approved})]}),a.jsx(Kn,{className:"h-8 w-8 text-green-600"})]})}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:F.completed})]}),a.jsx(gh,{className:"h-8 w-8 text-gray-600"})]})}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold text-red-800",children:F.rejected})]}),a.jsx(Gu,{className:"h-8 w-8 text-red-600"})]})}),a.jsx("div",{className:"bg-black text-white rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-300 font-medium",children:"Total Amount"}),a.jsx("p",{className:"text-2xl font-bold",children:b2(F.totalAmount)})]}),a.jsx(hA,{className:"h-8 w-8 text-gray-300"})]})})]})]}),h.length>0&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[h.length," item",h.length>1?"s":""," selected"]}),a.jsx("button",{onClick:()=>p([]),className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear selection"})]}),a.jsxs("div",{className:"flex gap-2",children:[h.some(ae=>{const xe=t.find(X=>X._id===ae);return xe&&j(xe.status,"processing")})&&a.jsx("button",{onClick:()=>E("processing"),disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm font-medium",children:"Process Selected"}),h.some(ae=>{const xe=t.find(X=>X._id===ae);return xe&&j(xe.status,"approved")})&&a.jsx("button",{onClick:()=>E("approved"),disabled:u,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 text-sm font-medium",children:"Approve Selected"}),a.jsx("button",{onClick:()=>E("rejected"),disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 text-sm font-medium",children:"Reject Selected"})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-semibold text-black",children:"Withdrawal Requests"})}),t.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx(fA,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-500 text-lg",children:"No withdrawal requests found"}),a.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Try adjusting your filters"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left",children:a.jsx("input",{type:"checkbox",checked:h.length===t.length,onChange:ae=>S(ae.target.checked),className:"rounded border-gray-300 text-black focus:ring-black"})}),a.jsx("th",{className:"px-6 py-4 text-left font-semibold text-black cursor-pointer hover:bg-gray-100",onClick:()=>M("storeName"),children:a.jsxs("div",{className:"flex items-center gap-2",children:["Store",a.jsx(rw,{className:"w-4 h-4"})]})}),a.jsx("th",{className:"px-6 py-4 text-left font-semibold text-black cursor-pointer hover:bg-gray-100",onClick:()=>M("amount"),children:a.jsxs("div",{className:"flex items-center gap-2",children:["Amount",a.jsx(rw,{className:"w-4 h-4"})]})}),a.jsx("th",{className:"px-6 py-4 text-left font-semibold text-black",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left font-semibold text-black",children:"Bank Details"}),a.jsx("th",{className:"px-6 py-4 text-left font-semibold text-black cursor-pointer hover:bg-gray-100",onClick:()=>M("createdAt"),children:a.jsxs("div",{className:"flex items-center gap-2",children:["Requested",a.jsx(rw,{className:"w-4 h-4"})]})}),a.jsx("th",{className:"px-6 py-4 text-left font-semibold text-black",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(ae=>{var xe,X,ie,re,ve,ke,Ce,we,oe,pe,je;return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("input",{type:"checkbox",checked:h.includes(ae._id),onChange:Te=>k(ae._id,Te.target.checked),className:"rounded border-gray-300 text-black focus:ring-black"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-black text-white rounded-full flex items-center justify-center font-semibold",children:((X=(xe=ae.userId)==null?void 0:xe.name)==null?void 0:X.charAt(0))||"U"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-black",children:((ie=ae.userId)==null?void 0:ie.name)||"Unknown Store"}),a.jsx("p",{className:"text-sm text-gray-600",children:((re=ae.userId)==null?void 0:re.email)||"No email"})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-lg font-semibold text-black",children:b2(ae.amount)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 text-sm font-medium rounded-full border ${tT(ae.status)}`,children:[rT(ae.status),ae.status.charAt(0).toUpperCase()+ae.status.slice(1)]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-black text-sm",children:((ke=(ve=ae.withdrawalDetails)==null?void 0:ve.bankAccountId)==null?void 0:ke.bankName)||"Bank not specified"}),a.jsx("p",{className:"text-sm text-gray-600",children:((we=(Ce=ae.withdrawalDetails)==null?void 0:Ce.bankAccountId)==null?void 0:we.accountNumber)||"Account not specified"}),a.jsx("p",{className:"text-xs text-gray-500",children:((pe=(oe=ae.withdrawalDetails)==null?void 0:oe.bankAccountId)==null?void 0:pe.accountHolder)||"Holder not specified"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(Es,{className:"w-4 h-4"}),Cp(((je=ae.withdrawalDetails)==null?void 0:je.requestedAt)||ae.createdAt)]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>P(ae),className:"p-2 text-gray-600 hover:text-black transition-colors rounded-lg hover:bg-gray-100",title:"View Details",children:a.jsx(Zn,{className:"h-4 w-4"})}),C(ae.status).map(Te=>{const be={blue:"text-blue-700 bg-blue-100 hover:bg-blue-200",green:"text-green-700 bg-green-100 hover:bg-green-200",red:"text-red-700 bg-red-100 hover:bg-red-200",gray:"text-gray-700 bg-gray-100 hover:bg-gray-200"};return a.jsx("button",{onClick:()=>N(ae._id,Te.action),disabled:u,className:`px-3 py-1 text-sm font-medium rounded-lg transition-colors disabled:opacity-50 ${be[Te.color]}`,children:Te.label},Te.action)}),C(ae.status).length===0&&a.jsx("span",{className:"px-3 py-1 text-sm font-medium text-gray-500 bg-gray-50 rounded-lg",children:"Final Status"})]})})]},ae._id)})})]})}),w&&w.pages>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(w.current-1)*w.limit+1," to"," ",Math.min(w.current*w.limit,w.total)," of"," ",w.total," results"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>v({...x,page:x.page-1}),disabled:x.page<=1,className:"p-2 text-gray-600 hover:text-black disabled:opacity-50 disabled:cursor-not-allowed rounded-lg hover:bg-gray-100",children:a.jsx(km,{className:"w-4 h-4"})}),a.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,w.pages)},(ae,xe)=>{const X=xe+1;return a.jsx("button",{onClick:()=>v({...x,page:X}),className:`px-3 py-1 text-sm rounded-lg ${X===x.page?"bg-black text-white":"text-gray-600 hover:text-black hover:bg-gray-100"}`,children:X},X)})}),a.jsx("button",{onClick:()=>v({...x,page:x.page+1}),disabled:x.page>=w.pages,className:"p-2 text-gray-600 hover:text-black disabled:opacity-50 disabled:cursor-not-allowed rounded-lg hover:bg-gray-100",children:a.jsx(Ru,{className:"w-4 h-4"})})]})]})]}),l&&i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-black",children:"Withdrawal Request Details"}),a.jsx("button",{onClick:()=>c(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(hs,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Store Information"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-black text-white rounded-full flex items-center justify-center font-semibold text-lg",children:((K=(Q=i.userId)==null?void 0:Q.name)==null?void 0:K.charAt(0))||"U"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-black",children:((Y=i.userId)==null?void 0:Y.name)||"Unknown Store"}),a.jsx("p",{className:"text-sm text-gray-600",children:((V=i.userId)==null?void 0:V.email)||"No email"})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Withdrawal Amount"}),a.jsx("p",{className:"text-3xl font-bold text-black",children:b2(i.amount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Current Status"}),a.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-full border ${tT(i.status)}`,children:[rT(i.status),i.status.charAt(0).toUpperCase()+i.status.slice(1)]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Bank Details"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fA,{className:"w-4 h-4 text-gray-600"}),a.jsx("span",{className:"font-medium text-black",children:((O=(I=i.withdrawalDetails)==null?void 0:I.bankAccountId)==null?void 0:O.bankName)||"Bank not specified"})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Account: ",((U=(R=i.withdrawalDetails)==null?void 0:R.bankAccountId)==null?void 0:U.accountNumber)||"Not specified"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Holder: ",((z=(T=i.withdrawalDetails)==null?void 0:T.bankAccountId)==null?void 0:z.accountHolder)||"Not specified"]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Request Timeline"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Es,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:"Requested:"}),a.jsx("span",{className:"font-medium text-black",children:Cp(((G=i.withdrawalDetails)==null?void 0:G.requestedAt)||i.createdAt)})]}),((J=i.withdrawalDetails)==null?void 0:J.processedAt)&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx($s,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:"Processed:"}),a.jsx("span",{className:"font-medium text-black",children:Cp(i.withdrawalDetails.processedAt)})]}),((ee=i.withdrawalDetails)==null?void 0:ee.completedAt)&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(gh,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:"Completed:"}),a.jsx("span",{className:"font-medium text-black",children:Cp(i.withdrawalDetails.completedAt)})]})]})]})]})]}),((fe=i.withdrawalDetails)==null?void 0:fe.adminNotes)&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Previous Admin Notes"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsx("p",{className:"text-sm text-gray-700",children:i.withdrawalDetails.adminNotes})})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(h8,{className:"w-4 h-4 inline mr-1"}),"Admin Notes ",i.status==="pending"?"(Optional)":"(Update)"]}),a.jsx("textarea",{value:A,onChange:ae=>f(ae.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent resize-none",placeholder:"Add notes for the store owner or internal reference..."})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[a.jsx("button",{onClick:()=>c(!1),disabled:u,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 font-medium",children:"Cancel"}),C(i.status).map(ae=>{const xe={blue:"text-white bg-blue-600 hover:bg-blue-700",green:"text-white bg-green-600 hover:bg-green-700",red:"text-white bg-red-600 hover:bg-red-700",gray:"text-white bg-black hover:bg-gray-800"};return a.jsx("button",{onClick:()=>N(i._id,ae.action),disabled:u,className:`px-6 py-2 rounded-lg disabled:opacity-50 font-medium ${xe[ae.color]}`,children:u?"Processing...":ae.label},ae.action)}),C(i.status).length===0&&A!==(((de=i.withdrawalDetails)==null?void 0:de.adminNotes)||"")&&a.jsx("button",{onClick:()=>N(i._id,i.status),disabled:u,className:"px-6 py-2 text-white bg-black rounded-lg hover:bg-gray-800 disabled:opacity-50 font-medium",children:u?"Updating...":"Update Notes"})]})]})})]})})},Kye=(t="http://localhost:10000")=>{const r=te.useRef(null);return te.useEffect(()=>(r.current=Vd(t,{withCredentials:!0}),()=>{r.current&&r.current.disconnect()}),[t]),r.current},Cl=t=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:2}).format(t),Gye=t=>new Date(t).toLocaleDateString("en-LK",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Wye=t=>({sale:"text-green-600 bg-green-50",withdrawal:"text-red-600 bg-red-50",refund:"text-orange-600 bg-orange-50",adjustment:"text-blue-600 bg-blue-50"})[t]||"text-gray-600 bg-gray-50",qye=t=>({completed:"text-green-600 bg-green-50",pending:"text-yellow-600 bg-yellow-50",approved:"text-blue-600 bg-blue-50",rejected:"text-red-600 bg-red-50",processing:"text-purple-600 bg-purple-50"})[t]||"text-gray-600 bg-gray-50",nT=({summary:t,loading:r})=>{var s,i,o,l;if(r)return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-8",children:[1,2,3,4,5,6].map(c=>a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-3"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded w-32 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]},c))});if(!t)return null;const n=[{title:"Available Balance",value:Cl(t.availableBalance),icon:xA,color:"text-green-600",bgColor:"bg-green-50",subtitle:t.canWithdraw?"Ready to withdraw":"Below minimum threshold"},{title:"Total Earnings",value:Cl(t.totalEarnings),icon:hA,color:"text-blue-600",bgColor:"bg-blue-50",subtitle:t.monthlyGrowth!==void 0?`${t.monthlyGrowth>=0?"+":""}${t.monthlyGrowth.toFixed(1)}% this month`:"All time total"},{title:"Pending Withdrawals",value:Cl(t.pendingWithdrawals),icon:$s,color:"text-yellow-600",bgColor:"bg-yellow-50",subtitle:t.pendingWithdrawals>0?"Processing":"No pending requests"},{title:"Monthly Withdrawals",value:`${t.monthlyWithdrawals}/${t.monthlyLimit}`,icon:Li,color:t.monthlyWithdrawals>=t.monthlyLimit?"text-red-600":"text-gray-600",bgColor:t.monthlyWithdrawals>=t.monthlyLimit?"bg-red-50":"bg-gray-50",subtitle:t.monthlyWithdrawals>=t.monthlyLimit?"Monthly limit reached":`${t.monthlyLimit-t.monthlyWithdrawals} withdrawals left`},{title:"Credits Balance",value:`${((s=t.credits)==null?void 0:s.balance)||0} Credits`,icon:KW,color:"text-purple-600",bgColor:"bg-purple-50",subtitle:`Total purchased: ${((i=t.credits)==null?void 0:i.totalPurchased)||0}`},{title:"Transaction Count",value:((o=t.statistics)==null?void 0:o.totalTransactions)||0,icon:Hl,color:"text-indigo-600",bgColor:"bg-indigo-50",subtitle:`Avg: ${Cl(((l=t.statistics)==null?void 0:l.averageTransactionAmount)||0)}`}];return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-8",children:n.map((c,u)=>{const d=c.icon;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600",children:c.title}),a.jsx("div",{className:`p-2 rounded-lg ${c.bgColor}`,children:a.jsx(d,{className:`h-5 w-5 ${c.color}`})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-2xl font-bold text-black",children:c.value}),c.subtitle&&a.jsx("p",{className:"text-xs text-gray-500",children:c.subtitle})]})]},u)})})},Yye=({transactions:t,loading:r,onFilterChange:n,pagination:s})=>{const[i,o]=te.useState(!1),[l,c]=te.useState({type:"",status:"",startDate:"",endDate:""}),u=(A,f)=>{const h={...l,[A]:f};c(h),n(h)},d=()=>{const A={type:"",status:"",startDate:"",endDate:""};c(A),n(A)};return r?a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 animate-pulse"})}),a.jsx("div",{className:"p-6",children:[1,2,3,4,5].map(A=>a.jsxs("div",{className:"flex items-center justify-between py-4 border-b animate-pulse",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-64 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-32"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]},A))})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-black",children:"Transaction History"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:()=>o(!i),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(Om,{className:"h-4 w-4 mr-2"}),"Filters"]}),a.jsxs("button",{className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-black rounded-lg hover:bg-gray-800 transition-colors",children:[a.jsx(Tm,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),i&&a.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:l.type,onChange:A=>u("type",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"sale",children:"Sales"}),a.jsx("option",{value:"withdrawal",children:"Withdrawals"}),a.jsx("option",{value:"refund",children:"Refunds"}),a.jsx("option",{value:"adjustment",children:"Adjustments"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:l.status,onChange:A=>u("status",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx("input",{type:"date",value:l.startDate,onChange:A=>u("startDate",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx("input",{type:"date",value:l.endDate,onChange:A=>u("endDate",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Reset Filters"})})]})]}),a.jsxs("div",{className:"p-6",children:[t.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"No transactions found"})}):a.jsx("div",{className:"space-y-4",children:t.map(A=>{var f,h;return a.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Wye(A.type)}`,children:A.type.charAt(0).toUpperCase()+A.type.slice(1)}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${qye(A.status)}`,children:A.status.charAt(0).toUpperCase()+A.status.slice(1)})]}),a.jsx("p",{className:"font-medium text-black",children:A.description}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Gye(A.createdAt)," • ID: ",A.transactionId]}),((f=A.withdrawalDetails)==null?void 0:f.adminNotes)&&a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[a.jsx("span",{className:"font-medium",children:"Admin Note:"})," ",A.withdrawalDetails.adminNotes]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-lg font-semibold ${A.type==="sale"?"text-green-600":"text-red-600"}`,children:[A.type==="sale"?"+":"-",Cl(A.amount)]}),((h=A.metadata)==null?void 0:h.netAmount)&&a.jsxs("p",{className:"text-sm text-gray-500",children:["Net: ",Cl(A.metadata.netAmount)]})]})]},A._id)})}),s&&s.pages>1&&a.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",(s.page-1)*s.limit+1," to ",Math.min(s.page*s.limit,s.total)," of ",s.total," results"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{disabled:s.page===1,className:"p-2 text-gray-400 hover:text-black disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(km,{className:"h-5 w-5"})}),[...Array(s.pages)].map((A,f)=>a.jsx("button",{className:`px-3 py-1 text-sm rounded-lg ${s.page===f+1?"bg-black text-white":"text-gray-700 hover:bg-gray-100"}`,children:f+1},f+1)),a.jsx("button",{disabled:s.page===s.pages,className:"p-2 text-gray-400 hover:text-black disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Ru,{className:"h-5 w-5"})})]})]})]})]})},Xye=({summary:t,onWithdrawalSuccess:r})=>{var g;const[n,s]=te.useState(""),[i,o]=te.useState(null),[l,c]=te.useState(!1),[u,d]=te.useState(""),[A,f]=te.useState("");te.useEffect(()=>{h()},[]);const h=async()=>{try{const b=await ca.getBankDetails();o(b.data)}catch(b){console.error("Failed to fetch bank details:",b)}},p=async b=>{if(b.preventDefault(),d(""),f(""),!i){d("Please add bank details before requesting withdrawal");return}if(!n||isNaN(n)||parseFloat(n)<100){d("Please enter a valid amount (minimum Rs. 100)");return}if(parseFloat(n)>(t==null?void 0:t.availableBalance)){d("Insufficient balance");return}if((t==null?void 0:t.monthlyWithdrawals)>=(t==null?void 0:t.monthlyLimit)){d("Monthly withdrawal limit exceeded");return}c(!0);try{await ca.requestWithdrawal({amount:parseFloat(n),bankAccountId:i._id}),f("Withdrawal request submitted successfully"),s(""),r()}catch(y){d(y.message)}finally{c(!1)}},m=t&&t.monthlyWithdrawals<t.monthlyLimit;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(Vu,{className:"h-6 w-6 text-black mr-3"}),a.jsx("h2",{className:"text-xl font-semibold text-black",children:"Request Withdrawal"})]}),!m&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Li,{className:"h-5 w-5 text-red-600 mr-2"}),a.jsx("p",{className:"text-red-700 font-medium",children:"Monthly withdrawal limit reached"})]}),a.jsxs("p",{className:"text-red-600 text-sm mt-1",children:["You can make ",t==null?void 0:t.monthlyLimit," withdrawals per month. Limit resets on the 1st of each month."]})]}),!i&&a.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Li,{className:"h-5 w-5 text-yellow-600 mr-2"}),a.jsx("p",{className:"text-yellow-700 font-medium",children:"Bank details required"})]}),a.jsx("p",{className:"text-yellow-600 text-sm mt-1",children:"Please add your bank details in the Bank Details section below before requesting a withdrawal."})]}),u&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Li,{className:"h-5 w-5 text-red-600 mr-2"}),a.jsx("p",{className:"text-red-700",children:u})]})}),A&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kn,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("p",{className:"text-green-700",children:A})]})}),a.jsxs("form",{onSubmit:p,children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Withdrawal Amount"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"Rs."}),a.jsx("input",{type:"number",id:"amount",value:n,onChange:b=>s(b.target.value),disabled:!m||!i,min:"100",max:(t==null?void 0:t.availableBalance)||0,step:"0.01",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter amount"})]}),a.jsxs("div",{className:"mt-2 flex justify-between text-sm text-gray-600",children:[a.jsx("span",{children:"Minimum: Rs. 100"}),a.jsxs("span",{children:["Available: ",Cl((t==null?void 0:t.availableBalance)||0)]})]})]}),i&&a.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Withdrawal to:"}),a.jsxs("p",{className:"text-sm text-gray-700",children:[i.bankName," - ",((g=i.getMaskedAccountNumber)==null?void 0:g.call(i))||i.accountNumber]}),a.jsx("p",{className:"text-sm text-gray-700",children:i.accountHolderName})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("p",{children:"Processing time: 1-3 business days"}),a.jsxs("p",{children:["Monthly limit: ",(t==null?void 0:t.monthlyWithdrawals)||0,"/",(t==null?void 0:t.monthlyLimit)||2]})]}),a.jsx("button",{type:"submit",disabled:l||!m||!i||!n,className:"px-6 py-3 bg-black text-white font-medium rounded-lg hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:l?"Processing...":"Request Withdrawal"})]})]})]})},Jye=()=>{const[t,r]=te.useState({accountHolderName:"",bankName:"",accountNumber:"",routingNumber:"",branchName:"",branchCode:"",accountType:"savings"}),[n,s]=te.useState(!1),[i,o]=te.useState(""),[l,c]=te.useState(""),[u,d]=te.useState(null),[A,f]=te.useState(null),[h,p]=te.useState(null),[m,g]=te.useState(!1),[b,y]=te.useState(""),[x,v]=te.useState(!1);te.useEffect(()=>{w()},[]);const w=async()=>{try{const C=await ca.getBankDetails();C.data?(d(C.data),f(C.lockInfo),p(C.pendingChangeRequest),r({accountHolderName:C.data.accountHolderName||"",bankName:C.data.bankName||"",accountNumber:C.data.accountNumber||"",routingNumber:C.data.routingNumber||"",branchName:C.data.branchName||"",branchCode:C.data.branchCode||"",accountType:C.data.accountType||"savings"})):(f(C.lockInfo),p(C.pendingChangeRequest))}catch(C){console.error("Failed to fetch bank details:",C)}},_=C=>{r({...t,[C.target.name]:C.target.value})},B=async C=>{var E,S;C.preventDefault(),o(""),c(""),s(!0);try{const k=await ca.updateBankDetails(t);c(k.message||"Bank details updated successfully"),await w()}catch(k){k.message.includes("locked")||(S=(E=k.response)==null?void 0:E.data)!=null&&S.requiresChangeRequest?(o("Bank details are locked. Please submit a change request to modify them."),g(!0)):o(k.message)}finally{s(!1)}},N=async C=>{if(C.preventDefault(),b.trim().length<10){o("Please provide a detailed reason (minimum 10 characters)");return}o(""),c(""),v(!0);try{const E=await ca.submitBankChangeRequest({requestedDetails:t,reason:b.trim()});c(E.message),g(!1),y(""),await w()}catch(E){o(E.message)}finally{v(!1)}},j=async C=>{try{o("");const E=await ca.cancelBankChangeRequest(C);c(E.message),await w()}catch(E){o(E.message)}};return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(u8,{className:"h-6 w-6 text-black mr-3"}),a.jsx("h2",{className:"text-xl font-semibold text-black",children:"Bank Details"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[(u==null?void 0:u.isVerified)&&a.jsx("span",{className:"px-3 py-1 text-sm font-medium text-green-700 bg-green-100 rounded-full",children:"Verified"}),(A==null?void 0:A.isLocked)&&a.jsxs("span",{className:"px-3 py-1 text-sm font-medium text-red-700 bg-red-100 rounded-full flex items-center",children:[a.jsx(zu,{className:"w-3 h-3 mr-1"}),"Locked"]})]})]}),i&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Li,{className:"h-5 w-5 text-red-600 mr-2"}),a.jsx("p",{className:"text-red-700",children:i})]})}),l&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kn,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("p",{className:"text-green-700",children:l})]})}),(A==null?void 0:A.isLocked)&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(zu,{className:"h-5 w-5 text-yellow-600 mr-2 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-yellow-700",children:[a.jsx("p",{className:"font-medium mb-1",children:"Bank Details Locked for Security"}),a.jsxs("p",{className:"text-sm",children:["Your bank details have been locked ",A.lockReason==="auto_lock_after_first_save"?"automatically after first save":A.lockReason,".",A.lockedAt&&` Locked on ${new Date(A.lockedAt).toLocaleDateString()}.`]}),a.jsx("p",{className:"text-sm mt-1",children:"To modify your bank details, please submit a change request below."})]})]})}),h&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx($s,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-blue-700",children:[a.jsx("p",{className:"font-medium mb-1",children:"Change Request Pending"}),a.jsxs("p",{className:"text-sm",children:["Your change request submitted on ",new Date(h.requestedAt).toLocaleDateString()," is pending admin review."]}),a.jsxs("p",{className:"text-xs mt-1 text-blue-600",children:["Request Age: ",h.requestAge," days"]})]})]}),a.jsx("button",{type:"button",onClick:()=>j(h._id),className:"text-blue-600 hover:text-blue-800 p-1",title:"Cancel Request",children:a.jsx(hs,{className:"h-4 w-4"})})]})}),a.jsxs("form",{onSubmit:A!=null&&A.isLocked&&!m?N:B,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"accountHolderName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Holder Name *"}),a.jsx("input",{type:"text",id:"accountHolderName",name:"accountHolderName",value:t.accountHolderName,onChange:_,required:!0,disabled:(A==null?void 0:A.isLocked)&&!m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter full name as per bank records"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"bankName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name *"}),a.jsx("input",{type:"text",id:"bankName",name:"bankName",value:t.bankName,onChange:_,required:!0,disabled:(A==null?void 0:A.isLocked)&&!m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"e.g., Commercial Bank of Ceylon"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"accountNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Number *"}),a.jsx("input",{type:"text",id:"accountNumber",name:"accountNumber",value:t.accountNumber,onChange:_,required:!0,disabled:(A==null?void 0:A.isLocked)&&!m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter account number"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"routingNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Routing Number *"}),a.jsx("input",{type:"text",id:"routingNumber",name:"routingNumber",value:t.routingNumber,onChange:_,required:!0,disabled:(A==null?void 0:A.isLocked)&&!m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter routing number"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"branchName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch Name *"}),a.jsx("input",{type:"text",id:"branchName",name:"branchName",value:t.branchName,onChange:_,required:!0,disabled:(A==null?void 0:A.isLocked)&&!m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"e.g., Colombo Main Branch"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"branchCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch Code"}),a.jsx("input",{type:"text",id:"branchCode",name:"branchCode",value:t.branchCode,onChange:_,disabled:(A==null?void 0:A.isLocked)&&!m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter branch code (if applicable)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"accountType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type *"}),a.jsxs("select",{id:"accountType",name:"accountType",value:t.accountType,onChange:_,required:!0,disabled:(A==null?void 0:A.isLocked)&&!m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[a.jsx("option",{value:"savings",children:"Savings Account"}),a.jsx("option",{value:"checking",children:"Checking Account"}),a.jsx("option",{value:"business",children:"Business Account"})]})]}),(A==null?void 0:A.isLocked)&&m&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"changeRequestReason",className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Change Request *"}),a.jsx("textarea",{id:"changeRequestReason",value:b,onChange:C=>y(C.target.value),required:!0,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Please provide a detailed reason why you need to change your bank details (minimum 10 characters)"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[b.length,"/500 characters (minimum 10 required)"]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Li,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-blue-700 text-sm",children:[a.jsx("p",{className:"font-medium mb-1",children:"Important Notes:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsx("li",{children:"Bank details will be verified before processing withdrawals"}),a.jsx("li",{children:"Ensure all information matches your bank records exactly"}),a.jsx("li",{children:"Changes to bank details may require re-verification"}),a.jsx("li",{children:"Only local Sri Lankan bank accounts are supported"})]})]})]})}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[(A==null?void 0:A.isLocked)&&!m&&!h&&a.jsxs("button",{type:"button",onClick:()=>g(!0),className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[a.jsx(vh,{className:"w-4 h-4 mr-2"}),"Request Change"]}),m&&a.jsx("button",{type:"button",onClick:()=>{g(!1),y(""),o("")},className:"px-6 py-3 bg-gray-500 text-white font-medium rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),(!(A!=null&&A.isLocked)||m)&&!h&&a.jsx("button",{type:"submit",disabled:n||x||m&&b.trim().length<10,className:"px-6 py-3 bg-black text-white font-medium rounded-lg hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:n||x?"Saving...":m?"Submit Change Request":u?"Update Bank Details":"Save Bank Details"})]})]})]})},Zye=({socket:t})=>{const[r,n]=te.useState([]),[s,i]=te.useState(!1);te.useEffect(()=>{if(!t)return;const A=f=>{const h={id:Date.now(),type:f.type,message:o(f),timestamp:new Date,read:!1};n(p=>[h,...p.slice(0,9)]),f.type==="withdrawal_processed"&&i(!0)};return t.on("wallet-update",A),()=>{t.off("wallet-update",A)}},[t]);const o=A=>{switch(A.type){case"withdrawal_requested":return`Withdrawal request of ${Cl(A.transaction.amount)} has been submitted`;case"withdrawal_processed":return`Withdrawal request ${A.action}ed${A.adminNotes?` - ${A.adminNotes}`:""}`;case"sale_completed":return`New sale of ${Cl(A.amount)} added to your wallet`;case"refund_processed":return`Refund of ${Cl(A.amount)} has been processed`;default:return"Wallet updated"}},l=A=>{switch(A){case"withdrawal_processed":return a.jsx(Kn,{className:"h-5 w-5 text-green-600"});case"withdrawal_requested":return a.jsx($s,{className:"h-5 w-5 text-yellow-600"});case"sale_completed":return a.jsx(Kn,{className:"h-5 w-5 text-green-600"});default:return a.jsx(Li,{className:"h-5 w-5 text-blue-600"})}},c=A=>{n(f=>f.map(h=>h.id===A?{...h,read:!0}:h))},u=()=>{n([])},d=r.filter(A=>!A.read).length;return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>i(!s),className:"relative p-2 text-gray-600 hover:text-black transition-colors",children:[a.jsx(kN,{className:"h-6 w-6"}),d>0&&a.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:d>9?"9+":d})]}),s&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border z-50",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-black",children:"Notifications"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[r.length>0&&a.jsx("button",{onClick:u,className:"text-sm text-gray-600 hover:text-black",children:"Clear all"}),a.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-black",children:a.jsx(hs,{className:"h-5 w-5"})})]})]})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"}):a.jsx("div",{className:"divide-y",children:r.map(A=>a.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer ${A.read?"":"bg-blue-50"}`,onClick:()=>c(A.id),children:a.jsxs("div",{className:"flex items-start space-x-3",children:[l(A.type),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-black font-medium",children:A.message}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:A.timestamp.toLocaleTimeString()})]}),!A.read&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})},A.id))})})]})]})},exe=({className:t=""})=>{var p,m;const{creditPackages:r,purchaseCredits:n,summary:s,loading:i}=tS(),[o,l]=te.useState(!1),[c,u]=te.useState(null),[d,A]=te.useState(null),f=async g=>{l(!0),u(null),A(null);try{const b=await n(g),y=r.find(x=>x.id===g);A(`Successfully purchased ${y==null?void 0:y.credits} credits!`),setTimeout(()=>A(null),3e3)}catch(b){u(b.message)}finally{l(!1)}},h=g=>g>0?`${g}% OFF`:null;return i?a.jsx("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${t}`,children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Gd,{className:"w-8 h-8 animate-spin text-gray-400"})})}):a.jsxs("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${t}`,children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gray-200 rounded-lg",children:a.jsx(gA,{className:"w-5 h-5 text-black"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Purchase Credits"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Buy credits with your wallet balance to reveal store contacts"})]})]})}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(xA,{className:"w-5 h-5 text-black"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Available Wallet Balance"}),a.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["LKR ",((p=s==null?void 0:s.availableBalance)==null?void 0:p.toFixed(2))||"0.00"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Current Credits"}),a.jsxs("div",{className:"text-lg font-semibold text-black",children:[((m=s==null?void 0:s.credits)==null?void 0:m.balance)||0," Credits"]})]})]})}),d&&a.jsx("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4 mb-4",children:a.jsxs("div",{className:"flex items-center space-x-2 text-black",children:[a.jsx(Kn,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:d})]})}),c&&a.jsx("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4 mb-4",children:a.jsxs("div",{className:"flex items-center space-x-2 text-black",children:[a.jsx(Li,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:c})]})}),a.jsx("div",{className:"space-y-4",children:r.map(g=>a.jsx("div",{className:`border rounded-xl p-4 transition-all duration-200 ${g.canAffordWithWallet?"border-gray-300 bg-gray-50 hover:shadow-md":"border-gray-200 bg-gray-50 opacity-75"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${g.canAffordWithWallet,"bg-gray-200"}`,children:a.jsx(Fi,{className:`w-6 h-6 ${g.canAffordWithWallet?"text-black":"text-gray-400"}`})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[g.credits.toLocaleString()," Credits"]}),h(g.discount)&&a.jsx("span",{className:"bg-gray-200 text-black text-xs px-2 py-1 rounded-full font-medium",children:h(g.discount)})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["LKR ",g.price.toLocaleString(),g.discount>0&&a.jsxs("span",{className:"text-gray-400 line-through ml-2",children:["LKR ",Math.round(g.price/(1-g.discount/100)).toLocaleString()]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["LKR ",(g.price/g.credits).toFixed(2)," per credit"]})]})]}),a.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[a.jsx("button",{onClick:()=>f(g.id),disabled:!g.canAffordWithWallet||o,className:`px-6 py-2 rounded-lg font-medium text-sm transition-all duration-200 min-w-[120px] ${g.canAffordWithWallet&&!o?"bg-black text-white hover:bg-gray-800 hover:shadow-lg transform hover:-translate-y-0.5":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:o?a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Gd,{className:"w-4 h-4 animate-spin"})}):g.canAffordWithWallet?"Purchase":"Insufficient Balance"}),g.canAffordWithWallet&&a.jsxs("div",{className:"text-xs text-black font-medium",children:["✓ ",Math.round(g.walletCoverage),"% covered by wallet"]})]})]})},g.id))}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:a.jsxs("div",{className:"text-sm text-blue-800",children:[a.jsx("div",{className:"font-medium mb-1",children:"💡 How credits work:"}),a.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"1 credit = 1 store contact reveal"}),a.jsx("li",{children:"Valid for 24 hours per store (prevents duplicate reveals)"}),a.jsx("li",{children:"Credits are purchased using your wallet balance from earnings"}),a.jsx("li",{children:"Unused credits never expire"})]})]})})]})},txe=()=>{const{user:t}=On(),{summary:r,transactions:n,loading:s,error:i,fetchSummary:o,fetchTransactions:l,getMyReveals:c}=tS(),u=Kye(),[d,A]=te.useState("overview"),[f,h]=te.useState([]),[p,m]=te.useState(!1);te.useEffect(()=>{if(u&&(t!=null&&t._id)){const v=t._id;return u.emit("join-wallet-room",v),u.on("wallet-update",w=>{console.log("Wallet update received:",w),o(),w.type!=="withdrawal_requested"&&l()}),()=>{u.emit("leave-wallet-room",v),u.off("wallet-update")}}},[u,o,l]);const g=v=>{l(v)},b=()=>{o(),l()};if(i)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[a.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading wallet data: ",i]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Retry"})]})});const y=async()=>{if((t==null?void 0:t.role)==="customer"){m(!0);try{const v=await c();h(v.reveals||[])}catch(v){console.error("Failed to load reveal history:",v)}finally{m(!1)}}};te.useEffect(()=>{d==="reveals"&&y()},[d]);const x=[{id:"overview",label:"Overview",icon:Hl},{id:"purchase",label:"Buy Credits",icon:gA},{id:"transactions",label:"Transactions",icon:KC},{id:"reveals",label:"Contact Reveals",icon:Zn},{id:"withdraw",label:"Withdraw",icon:Vu},{id:"bank-details",label:"Bank Details",icon:xA}];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center justify-between py-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs($t,{to:"/dashboard",className:"flex items-center text-gray-600 hover:text-black transition-colors",children:[a.jsx(Gl,{className:"w-4 h-4 mr-1"}),"Back to Dashboard"]}),a.jsxs("div",{className:"border-l pl-4",children:[a.jsxs("h1",{className:"text-3xl font-bold text-black flex items-center",children:[a.jsx(xA,{className:"w-8 h-8 mr-3 text-green-600"}),"Wallet & Credits"]}),a.jsx("p",{className:"text-gray-600",children:"Manage your earnings, withdrawals, and credits"})]})]}),a.jsx(Zye,{socket:u})]}),a.jsx("div",{className:"flex space-x-8",children:x.map(v=>{const w=v.icon,_=d===v.id;return v.id==="reveals"&&(t==null?void 0:t.role)!=="customer"?null:a.jsxs("button",{onClick:()=>A(v.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${_?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(w,{className:"w-4 h-4"}),a.jsx("span",{children:v.label})]},v.id)})})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d==="overview"&&a.jsxs("div",{className:"space-y-8",children:[a.jsx(nT,{summary:r,loading:s}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{onClick:()=>A("purchase"),className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(Vu,{className:"w-5 h-5 text-blue-600"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Buy Credits"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Purchase with wallet balance"})]})]}),a.jsxs("button",{onClick:()=>A("transactions"),className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(KC,{className:"w-5 h-5 text-gray-600"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"View Transactions"}),a.jsx("div",{className:"text-sm text-gray-500",children:"See all wallet activity"})]})]}),(t==null?void 0:t.role)==="customer"&&a.jsxs("button",{onClick:()=>A("reveals"),className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(Zn,{className:"w-5 h-5 text-purple-600"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Contact Reveals"}),a.jsx("div",{className:"text-sm text-gray-500",children:"View reveal history"})]})]})]})]})]}),d==="withdraw"&&a.jsxs("div",{className:"space-y-8",children:[a.jsx(nT,{summary:r,loading:s}),a.jsx(Xye,{summary:r,onWithdrawalSuccess:b})]}),d==="purchase"&&a.jsx("div",{className:"max-w-4xl",children:a.jsx(exe,{})}),d==="transactions"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[a.jsxs("div",{className:"px-6 py-4 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transaction History"}),a.jsx("p",{className:"text-sm text-gray-600",children:"All wallet and credit transactions"})]}),a.jsx("div",{className:"p-6",children:a.jsx(Yye,{transactions:n,loading:s,onFilterChange:g})})]}),d==="reveals"&&(t==null?void 0:t.role)==="customer"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[a.jsxs("div",{className:"px-6 py-4 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contact Reveals"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Stores whose contacts you've revealed"})]}),a.jsx("div",{className:"p-6",children:p?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(_s,{})}):f.length>0?a.jsx("div",{className:"space-y-4",children:f.map(v=>{var w,_,B;return a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(w=v.storeId)!=null&&w.profileImage?a.jsx("img",{src:v.storeId.profileImage,alt:v.storeId.name,className:"w-12 h-12 rounded-lg object-cover"}):a.jsx(Zn,{className:"w-6 h-6 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:((_=v.storeId)==null?void 0:_.name)||"Unknown Store"}),a.jsxs("div",{className:"text-sm text-gray-500",children:[new Date(v.revealedAt).toLocaleDateString()," •",((B=v.storeId)==null?void 0:B.type)||"Store"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-medium text-purple-600",children:[v.unitCredits," credit used"]}),a.jsx("div",{className:"text-xs text-gray-500",children:v.status})]})]},v._id)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Zn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reveals yet"}),a.jsx("p",{className:"text-gray-600",children:"Contact reveals will appear here after you reveal store contacts"})]})})]}),d==="bank-details"&&a.jsx(Jye,{})]})]})},sT=(t,r)=>{var s,i,o,l,c,u;const n={};return((s=t.products)==null?void 0:s.count)>r.items&&(n.violatedProducts=t.products.count-r.items),((i=t.services)==null?void 0:i.count)>r.items&&(n.violatedServices=t.services.count-r.items),((o=t.products)==null?void 0:o.images)>r.itemImages&&(n.violatedProductImages=t.products.images-r.itemImages),((l=t.services)==null?void 0:l.images)>r.itemImages&&(n.violatedServiceImages=t.services.images-r.itemImages),((c=t.headerImages)==null?void 0:c.count)>r.headerImages&&(n.violatedHeaderImages=t.headerImages.count-r.headerImages),(u=t.variants)!=null&&u.used&&!r.itemVariants&&(n.violatedVariants=!0),n},rxe=({violations:t})=>a.jsx("div",{className:"flex justify-center px-4",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full border border-red-300 mt-4 shadow-lg",children:[a.jsx("h2",{className:"text-red-700 font-semibold text-2xl mb-4 flex items-center gap-2",children:"Plan Limit Violations"}),a.jsxs("ul",{className:"list-disc list-inside text-sm text-red-700 space-y-1",children:[(t==null?void 0:t.violatedProducts)!=null&&a.jsxs("li",{children:[t.violatedProducts," extra products above limit"]}),(t==null?void 0:t.violatedServices)!=null&&a.jsxs("li",{children:[t.violatedServices," extra services above limit"]}),(t==null?void 0:t.violatedProductImages)!=null&&a.jsxs("li",{children:[t.violatedProductImages," extra product images above limit"]}),(t==null?void 0:t.violatedServiceImages)!=null&&a.jsxs("li",{children:[t.violatedServiceImages," extra service images above limit"]}),(t==null?void 0:t.violatedHeaderImages)!=null&&a.jsxs("li",{children:[t.violatedHeaderImages," extra header images above limit"]}),(t==null?void 0:t.violatedVariants)&&a.jsx("li",{children:"Variant usage is not allowed on the selected plan"})]})]})}),nxe=()=>{var H,F,Q;const[t,r]=te.useState(null),[n,s]=te.useState(null),[i,o]=te.useState(!0),[l,c]=te.useState(""),[u,d]=te.useState("overview"),[A,f]=te.useState(!1),[h,p]=te.useState(null),[m,g]=te.useState(null),[b,y]=te.useState(null),x=K=>{const Y={items:K.items,itemImages:K.itemImages,headerImages:K.headerImages,itemVariants:K.itemVariants},V={products:n.usageInfo.productsInfo,services:n.usageInfo.servicesInfo,headerImages:n.usageInfo.headerImagesInfo,variants:n.usageInfo.variantsInfo};return sT(V,Y)},v=async()=>{try{const K=await fetch("http://localhost:10000/api/subscriptions/my-subscription",{credentials:"include"});if(K.ok){const Y=await K.json();r(Y.subscription),c(Y.package.name||"")}else r(null)}catch(K){console.error("Error fetching subscription:",K),r(null)}finally{}},w=async()=>{try{const K=await fetch("http://localhost:10000/api/packages/",{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch packages");const Y=await K.json();p(Y)}catch(K){console.error("Error:",K)}finally{}},_=async()=>{try{const K=await fetch("http://localhost:10000/api/packages/user-package",{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch packages");const Y=await K.json();g(Y)}catch(K){console.error("Error:",K)}finally{}};te.useEffect(()=>{(async()=>{try{const[Y,V,I,O]=await Promise.all([v(),_(),w(),j()])}catch(Y){console.error("Error loading subscription data:",Y)}finally{o(!1)}})()},[]);const B=K=>{if(!h||!Array.isArray(h)){console.warn("⚠️ Packages not yet loaded.");return}const Y=h.find(I=>I.name===K);if(!Y){console.warn("⚠️ Selected package not found.");return}if(!m){y(null),c(K);return}if(Y.amount<m.amount){const I=x(Y);if(Object.keys(I).length>0){y(I);return}y(null)}else y(null);c(K)};te.useEffect(()=>{!h||!Array.isArray(h)||l&&B(l)},[l,h]);const N=()=>{const K={items:0,itemImages:0,headerImages:0,itemVariants:!1},Y={products:n.usageInfo.productsInfo,services:n.usageInfo.servicesInfo,headerImages:n.usageInfo.headerImagesInfo,variants:n.usageInfo.variantsInfo},V=sT(Y,K);if(Object.keys(V).length>0){y(V);return}y(null)},j=async()=>{try{const K=await fetch("http://localhost:10000/api/users/usage-summary",{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch usage summary");const Y=await K.json();s(Y)}catch{console.error("Error loading usage data:",e)}finally{}},C=()=>new Promise((K,Y)=>{if(window.payhere){K();return}const V=document.createElement("script");V.src="https://www.payhere.lk/lib/payhere.js",V.onload=K,V.onerror=Y,document.head.appendChild(V)}),E=K=>new Promise((Y,V)=>{if(!window.payhere)return alert("Payment gateway not loaded. Please refresh and try again."),V(new Error("PayHere SDK not loaded"));window.payhere.onCompleted=function(I){console.log("✅ Payment completed. Order ID:",I),setTimeout(()=>{v(),_()},2e3),Y(I)},window.payhere.onDismissed=function(){alert("Payment was cancelled."),V(new Error("Payment cancelled"))},window.payhere.onError=function(I){console.error("❌ PayHere error:",I),alert("Payment failed. Please try again."),V(new Error("Payment error: "+I))},console.log("▶️ Starting PayHere payment with:",K),window.payhere.startPayment(K)}),S=async()=>{if(!l){alert("Please select a package first.");return}try{const K=await fetch("http://localhost:10000/api/subscriptions/create-subscription",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageName:l})});if(K.ok){const{paymentParams:Y}=await K.json();await C(),await E(Y),alert("Payment initiated. Please wait for confirmation."),d("overview")}else{const Y=await K.json();alert("Subscription setup failed: "+((Y==null?void 0:Y.error)||"Unknown error"))}}catch(K){console.error("Subscription error:",K),alert("Error starting subscription. Please try again.")}},k=async()=>{if(!l||l===(t==null?void 0:t.package)){alert("Please select a different package.");return}if((t==null?void 0:t.status)==="pending_upgrade")if(confirm("You have an upgrade in progress. Do you want to cancel it and start a new upgrade?"))try{await fetch("http://localhost:10000/api/subscriptions/rollback-upgrade",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({upgradeAttemptId:t.upgradeAttemptId})}),await v()}catch{alert("Failed to cancel previous upgrade. Please try again.");return}else return;try{const K=await fetch("http://localhost:10000/api/subscriptions/upgrade",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageName:l})}),Y=await K.json();if(K.status===409){alert(Y.message);return}if(K.status===403&&Y.nextAvailableDowngradeDate){const I=new Date(Y.nextAvailableDowngradeDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});alert(`⛔ You can downgrade only after: ${I}`);return}if(!K.ok)throw new Error(Y.message||"Failed to upgrade package");const V=Y.upgradeAttemptId;if(Y.paymentRequired&&Y.paymentParams)try{await C(),window.payhere.onCompleted=function(I){console.log("✅ Safe upgrade payment completed:",I),setTimeout(()=>{v(),_(),alert("✅ Upgrade completed successfully! Your new subscription is now active.")},2e3)},window.payhere.onDismissed=function(){console.log("❌ Payment dismissed, offering rollback..."),confirm("Payment was cancelled. Do you want to cancel the upgrade and keep your current subscription?")&&P(V)},window.payhere.onError=function(I){console.error("❌ Payment error:",I),alert("Payment failed. Your current subscription remains active."),P(V)},await E(Y.paymentParams),alert("Safe upgrade initiated! Your current subscription remains active until payment is confirmed. If you cancel the payment, your original subscription will be restored.")}catch(I){console.error("❌ Payment setup failed:",I),alert("Payment setup failed. Your original subscription is safe."),P(V);return}d("overview")}catch(K){console.error("❌ Safe Upgrade Error:",K),alert(K.message||"Something went wrong during the upgrade. Your original subscription is safe.")}},P=async K=>{try{const Y=await fetch("http://localhost:10000/api/subscriptions/rollback-upgrade",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({upgradeAttemptId:K})});Y.ok?(await v(),alert("✅ Upgrade cancelled. Your original subscription has been restored.")):console.error("Rollback failed:",await Y.text())}catch(Y){console.error("Rollback error:",Y)}},M=async()=>{try{const K=await fetch("http://localhost:10000/api/subscriptions/cancel",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscriptionId:t==null?void 0:t._id})});if(K.ok)await v(),alert("Subscription cancelled successfully."),f(!1);else{const Y=await K.json();alert("Failed to cancel subscription: "+((Y==null?void 0:Y.error)||"Unknown error"))}}catch(K){console.error("Cancel error:",K),alert("Error cancelling subscription. Please try again.")}};return i?a.jsx("div",{className:"min-h-screen bg-white flex justify-center items-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-t-transparent border-black rounded-full animate-spin"})}):a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"bg-black text-white py-12",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-light mb-4",children:"Subscription Management"}),a.jsx("p",{className:"text-xl font-light text-gray-300",children:"Manage your subscription with elegant simplicity"})]})}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4",children:a.jsx("nav",{className:"flex space-x-8",children:["overview","packages","billing"].map(K=>a.jsx("button",{onClick:()=>d(K),className:`py-4 px-2 border-b-2 font-medium text-sm capitalize transition-colors ${u===K?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700"}`,children:K},K))})})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[u==="overview"&&a.jsx("div",{className:"space-y-8",children:t?a.jsx(a.Fragment,{children:a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8",children:[a.jsx("h2",{className:"text-2xl font-light text-black mb-6",children:"Current Subscription"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium text-black mb-2",children:[(H=t.package)==null?void 0:H.toUpperCase()," Plan"]}),a.jsxs("p",{className:"text-2xl font-light text-black mb-4",children:["LKR ",(F=t.amount)==null?void 0:F.toLocaleString(),"/month"]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"})," ",a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.status==="active"?"bg-green-100 text-green-800":t.status==="pending_upgrade"?"bg-yellow-100 text-yellow-800":t.status==="pending"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.status==="pending_upgrade"?"Upgrade in Progress":t.status})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Started:"})," ",new Date(t.startDate).toLocaleDateString()]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Next Billing:"})," ",new Date(t.endDate).toLocaleDateString()]})]})]}),a.jsx("div",{className:"flex flex-col space-y-3",children:t.status==="pending_upgrade"?a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Upgrade in Progress"}),a.jsx("p",{className:"text-xs text-yellow-600",children:"Waiting for payment confirmation..."})]})]}),a.jsx("button",{onClick:()=>P(t.upgradeAttemptId),className:"mt-3 text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-800 px-3 py-1 rounded transition-colors",children:"Cancel Upgrade"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>d("packages"),className:"bg-black text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-800 transition-colors",children:"Upgrade / Change Plan"}),a.jsx("button",{onClick:()=>{f(!0),N()},className:"border border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel Subscription"})]})})]})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"text-3xl font-light text-black mb-4",children:"No Active Subscription"}),a.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Choose a plan to get started with your subscription"}),a.jsx("button",{onClick:()=>d("packages"),className:"bg-black text-white px-8 py-4 rounded-lg font-medium text-lg hover:bg-gray-800 transition-colors",children:"View Plans"})]})}),u==="packages"&&a.jsxs("div",{children:[a.jsx(VP,{selectedPackage:l,setSelectedPackage:c,isUpgrade:!!t}),a.jsxs("div",{className:"text-center mt-8",children:[a.jsx("button",{onClick:t?k:S,disabled:!l||(t==null?void 0:t.status)==="pending_upgrade",className:"bg-black text-white px-12 py-4 rounded-lg font-medium text-lg hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:(t==null?void 0:t.status)==="pending_upgrade"?"Upgrade in Progress...":t?"Update Subscription":"Start Subscription"}),(t==null?void 0:t.status)==="pending_upgrade"&&a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please complete your current upgrade or wait for timeout before starting a new one."})]})]}),u==="billing"&&a.jsxs("div",{className:"space-y-8",children:[a.jsx("h2",{className:"text-3xl font-light text-black",children:"Billing History"}),((Q=t==null?void 0:t.paymentHistory)==null?void 0:Q.length)>0?a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.paymentHistory.map((K,Y)=>{var V;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(K.date).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["LKR ",(V=K.amount)==null?void 0:V.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${K.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:K.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:K.method||"PayHere"})]},Y)})})]})}):a.jsx("div",{className:"text-center py-12 text-gray-500",children:a.jsx("p",{children:"No billing history available."})})]})]}),A&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full",children:[a.jsx("h3",{className:"text-2xl font-light text-black mb-4",children:"Cancel Subscription"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to cancel your subscription? This action cannot be undone."}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>{M(),N()},className:"flex-1 bg-red-600 text-white px-4 py-3 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Yes, Cancel"}),a.jsx("button",{onClick:()=>{f(!1)},className:"flex-1 border border-gray-300 text-gray-700 px-4 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Keep Subscription"})]})]})}),b&&a.jsx("div",{className:"flex justify-center px-4",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsx(rxe,{violations:b})})})]})},sxe=()=>{const t={name:"Priya Wickramasinghe",email:"priya@aiocart.lk",isPremium:!0,memberSince:"2023",totalOrders:847,rating:4.9},[r,n]=te.useState({storeName:"Elegance Boutique",ownerName:"Priya Wickramasinghe",preferredName:"Priya",phone:"+94 77 123 4567",email:"hello@eleganceboutique.lk",storeUrl:"eleganceboutique.aiocart.lk",address:"123 Galle Road, Colombo 03",description:"Premium fashion boutique offering elegant clothing and accessories for the modern Sri Lankan woman.",category:"Fashion & Apparel",businessHours:"Mon-Sat: 9:00 AM - 8:00 PM",establishedYear:"2019",website:"https://eleganceboutique.lk",instagram:"@eleganceboutique_lk",facebook:"https://facebook.com/eleganceboutique",whatsapp:"+94 77 123 4567"}),[s,i]=te.useState("elegant-classic");te.useState("elegant-classic");const[o,l]=te.useState(null),[c,u]=te.useState("top-left"),[d,A]=te.useState("medium"),[f,h]=te.useState("bottom-right"),[p,m]=te.useState("elegant-serif"),[g,b]=te.useState("normal"),[y,x]=te.useState("medium"),[v,w]=te.useState("matte"),[_,B]=te.useState("#1a1a1a"),[N,j]=te.useState("#d4af37"),[C,E]=te.useState("rounded"),[S,k]=te.useState("none"),[P,M]=te.useState("subtle"),[H,F]=te.useState("normal"),[Q,K]=te.useState({storeName:"center",ownerName:"center"}),[Y,V]=te.useState(!1),[I,O]=te.useState("3d"),[R,U]=te.useState("2d"),[T,z]=te.useState("desk"),[G,J]=te.useState([]),[ee,fe]=te.useState(-1),[de,ae]=te.useState("information"),[xe,X]=te.useState(!1),[ie,re]=te.useState(""),[ve,ke]=te.useState(!1),[Ce,we]=te.useState([]),[oe,pe]=te.useState([]),[je,Te]=te.useState(null),[be,De]=te.useState("gradient"),[qe,Qe]=te.useState("#ffffff"),[Re,We]=te.useState({storeName:"#1a1a1a",ownerName:"#6b7280",category:"#9ca3af",contactText:"#374151"}),Me=te.useRef(null),ot={business:{name:"Business Professional",icon:qW,templates:["elegant-classic","executive-elite","royal-elegance"]},creative:{name:"Creative & Modern",icon:hq,templates:["modern-minimal","gradient-pro","vibrant-elegance"]},luxury:{name:"Luxury Premium",icon:Nl,templates:["luxury-gold","tech-innovation","jewel-tones"]},colorful:{name:"Colorful Elegant",icon:D5,templates:["sunset-elegance","ocean-breeze","aurora-premium"]},neon:{name:"Neon & Electric",icon:Ed,templates:["electric-blue","neon-pink","cyber-green","plasma-purple","laser-red","toxic-lime","hypernova-orange"]}},xt={"elegant-classic":{name:"Elegant Classic",price:0,gradient:"from-gray-50 to-white",icon:Wr,description:"Timeless elegance with clean lines",category:"business",preview:"/api/placeholder/200/120"},"luxury-gold":{name:"Luxury Gold",price:1500,gradient:"from-yellow-50 via-yellow-100 to-yellow-200",icon:Nl,description:"Premium gold accents and luxury feel",category:"luxury",preview:"/api/placeholder/200/120"},"modern-minimal":{name:"Modern Minimal",price:900,gradient:"from-blue-50 to-indigo-50",icon:Ed,description:"Clean, contemporary design",category:"creative",preview:"/api/placeholder/200/120"},"gradient-pro":{name:"Gradient Pro",price:1200,gradient:"from-purple-50 via-pink-50 to-purple-100",icon:yA,description:"Dynamic gradients and modern appeal",category:"creative",preview:"/api/placeholder/200/120"},"tech-innovation":{name:"Tech Innovation",price:1800,gradient:"from-green-50 via-emerald-50 to-green-100",icon:Kd,description:"Cutting-edge tech-inspired design",category:"luxury",preview:"/api/placeholder/200/120"},"executive-elite":{name:"Executive Elite",price:2400,gradient:"from-slate-50 via-gray-100 to-slate-100",icon:eq,description:"Ultimate premium executive styling",category:"business",preview:"/api/placeholder/200/120"},"sunset-elegance":{name:"Sunset Elegance",price:1600,gradient:"from-orange-100 via-pink-100 to-red-100",icon:qC,description:"Warm sunset hues with sophisticated styling",category:"colorful",preview:"/api/placeholder/200/120",colors:{primary:"#ff6b35",secondary:"#f7931e",accent:"#ff8a80",text:"#2d1b14"}},"ocean-breeze":{name:"Ocean Breeze",price:1400,gradient:"from-cyan-100 via-teal-100 to-blue-200",icon:Sq,description:"Refreshing ocean tones with elegant touches",category:"colorful",preview:"/api/placeholder/200/120",colors:{primary:"#0891b2",secondary:"#14b8a6",accent:"#67e8f9",text:"#0f172a"}},"aurora-premium":{name:"Aurora Premium",price:2e3,gradient:"from-violet-200 via-purple-100 to-fuchsia-200",icon:Wr,description:"Mystical aurora colors with luxury appeal",category:"colorful",preview:"/api/placeholder/200/120",colors:{primary:"#8b5cf6",secondary:"#a855f7",accent:"#c084fc",text:"#1e1b4b"}},"royal-elegance":{name:"Royal Elegance",price:1800,gradient:"from-indigo-200 via-purple-200 to-blue-300",icon:Nl,description:"Regal blues and purples with sophisticated charm",category:"business",preview:"/api/placeholder/200/120",colors:{primary:"#4338ca",secondary:"#6366f1",accent:"#8b5cf6",text:"#1e1b4b"}},"vibrant-elegance":{name:"Vibrant Elegance",price:1300,gradient:"from-rose-200 via-pink-200 to-purple-300",icon:pA,description:"Vibrant pinks with elegant sophistication",category:"creative",preview:"/api/placeholder/200/120",colors:{primary:"#e11d48",secondary:"#ec4899",accent:"#f472b6",text:"#4c1d95"}},"jewel-tones":{name:"Jewel Tones",price:2200,gradient:"from-emerald-200 via-teal-200 to-cyan-300",icon:rq,description:"Rich emerald and sapphire luxury tones",category:"luxury",preview:"/api/placeholder/200/120",colors:{primary:"#059669",secondary:"#0d9488",accent:"#10b981",text:"#064e3b"}},"electric-blue":{name:"Electric Blue",price:1800,gradient:"from-blue-400 via-blue-500 to-cyan-400",icon:Ed,description:"High-voltage electric blue energy",category:"neon",preview:"/api/placeholder/200/120",colors:{primary:"#3b82f6",secondary:"#06b6d4",accent:"#0ea5e9",text:"#1e3a8a"}},"neon-pink":{name:"Neon Pink",price:1900,gradient:"from-pink-400 via-fuchsia-500 to-purple-500",icon:pA,description:"Blazing hot pink neon vibes",category:"neon",preview:"/api/placeholder/200/120",colors:{primary:"#ec4899",secondary:"#d946ef",accent:"#f472b6",text:"#831843"}},"cyber-green":{name:"Cyber Green",price:2100,gradient:"from-green-400 via-emerald-500 to-teal-400",icon:JW,description:"Matrix-inspired cyber green glow",category:"neon",preview:"/api/placeholder/200/120",colors:{primary:"#22c55e",secondary:"#10b981",accent:"#4ade80",text:"#14532d"}},"plasma-purple":{name:"Plasma Purple",price:2e3,gradient:"from-violet-500 via-purple-600 to-indigo-600",icon:Wr,description:"Intense plasma purple energy field",category:"neon",preview:"/api/placeholder/200/120",colors:{primary:"#8b5cf6",secondary:"#7c3aed",accent:"#a855f7",text:"#312e81"}},"laser-red":{name:"Laser Red",price:2500,gradient:"from-red-500 via-orange-500 to-yellow-400",icon:tq,description:"Blazing laser red with fire intensity",category:"neon",preview:"/api/placeholder/200/120",colors:{primary:"#ef4444",secondary:"#f97316",accent:"#fbbf24",text:"#7f1d1d"}},"toxic-lime":{name:"Toxic Lime",price:2300,gradient:"from-lime-400 via-green-500 to-emerald-400",icon:Ed,description:"Radioactive lime green intensity",category:"neon",preview:"/api/placeholder/200/120",colors:{primary:"#84cc16",secondary:"#22c55e",accent:"#65a30d",text:"#365314"}},"hypernova-orange":{name:"Hypernova Orange",price:2400,gradient:"from-orange-400 via-red-500 to-pink-500",icon:qC,description:"Explosive hypernova orange blast",category:"neon",preview:"/api/placeholder/200/120",colors:{primary:"#fb923c",secondary:"#ef4444",accent:"#f97316",text:"#9a3412"}}},Ft={"corporate-blue":{primary:"#1e40af",accent:"#3b82f6",name:"Corporate Blue"},"luxury-gold":{primary:"#1a1a1a",accent:"#d4af37",name:"Luxury Gold"},"modern-mono":{primary:"#374151",accent:"#6b7280",name:"Modern Monochrome"},"vibrant-sunset":{primary:"#dc2626",accent:"#f59e0b",name:"Vibrant Sunset"},"forest-green":{primary:"#065f46",accent:"#10b981",name:"Forest Green"},"royal-purple":{primary:"#581c87",accent:"#a855f7",name:"Royal Purple"}},nt={none:{name:"None",pattern:""},dots:{name:"Dots",pattern:"radial-gradient(circle, #00000008 1px, transparent 1px)"},lines:{name:"Lines",pattern:"linear-gradient(45deg, #00000005 25%, transparent 25%)"},grid:{name:"Grid",pattern:"linear-gradient(#00000008 1px, transparent 1px), linear-gradient(90deg, #00000008 1px, transparent 1px)"},geometric:{name:"Geometric",pattern:"repeating-linear-gradient(45deg, #00000003, #00000003 10px, transparent 10px, transparent 20px)"}},At=[{quantity:25,price:12990,popular:!1},{quantity:50,price:9990,popular:!0},{quantity:100,price:7990,popular:!1},{quantity:250,price:5990,popular:!1}],Rt=()=>{const Z={storeInfo:{...r},currentTemplate:s,logoFile:o,logoPosition:c,logoSize:d,typography:p,fontWeight:g,fontSize:y,primaryColor:_,accentColor:N,backgroundPattern:S,cardShadow:P,elementSpacing:H,textPositioning:{...Q},backgroundType:be,backgroundColor:qe,textColors:{...Re}},ue=G.slice(0,ee+1);ue.push(Z),J(ue),fe(ue.length-1)},Pt=()=>{const Z=[];((me,ye)=>{const Be=parseInt(me.replace("#",""),16),Oe=parseInt(ye.replace("#",""),16);return Math.abs(Be-Oe)>8421504})(_,"#ffffff")||Z.push("Primary color may not have enough contrast with white background"),y==="small"&&r.storeName.length>20&&Z.push("Store name may be too long for small font size"),o||Z.push("Consider adding a logo for better brand recognition"),pe(Z)},ur=()=>({"luxury-gold":[Ft["luxury-gold"],Ft["royal-purple"]],"modern-minimal":[Ft["corporate-blue"],Ft["modern-mono"]],"tech-innovation":[Ft["forest-green"],Ft["corporate-blue"]],"elegant-classic":[Ft["modern-mono"],Ft["luxury-gold"]],"gradient-pro":[Ft["vibrant-sunset"],Ft["royal-purple"]],"executive-elite":[Ft["modern-mono"],Ft["corporate-blue"]]})[s]||[Ft["modern-mono"]];te.useEffect(()=>{Pt()},[_,N,y,r.storeName,o]);const Ht=(Z,ue="success")=>{const me=Date.now();we(ye=>[...ye,{id:me,message:Z,type:ue}]),setTimeout(()=>{we(ye=>ye.filter(Be=>Be.id!==me))},3e3)},lr=(Z,ue)=>{n(me=>({...me,[Z]:ue})),Rt()},sr=Z=>{const ue=Z.target.files[0];if(ue){if(ue.size>2*1024*1024){Ht("File size should be less than 2MB","error");return}const me=new FileReader;me.onload=ye=>{l(ye.target.result),Ht("Logo uploaded successfully!"),Rt()},me.readAsDataURL(ue)}},Kt=Z=>{B(Z.primary),j(Z.accent),Ht(`Applied ${Z.name} theme`),Rt()},Xe=(Z,ue)=>{navigator.clipboard.writeText(Z),re(ue),Ht("Copied to clipboard!"),setTimeout(()=>re(""),2e3)},ar=()=>Object.entries(r).filter(([Z,ue])=>ue&&ue.trim()!==""),rr=Z=>`data:image/svg+xml,${encodeURIComponent(`
      <svg width="100" height="100" xmlns="http://www.w3.org/2000/svg">
        <rect width="100" height="100" fill="white"/>
        <rect x="10" y="10" width="80" height="80" fill="none" stroke="black" stroke-width="2"/>
        <text x="50" y="55" font-family="Arial" font-size="8" text-anchor="middle">QR</text>
      </svg>
    `)}`,Ke=()=>{switch(d){case"small":return"w-6 h-6";case"medium":return"w-8 h-8";case"large":return"w-12 h-12";default:return"w-8 h-8"}},Tr=()=>{switch(y){case"small":return"text-lg";case"medium":return"text-xl";case"large":return"text-2xl";default:return"text-xl"}},Fn=()=>{switch(g){case"light":return"font-light";case"normal":return"font-normal";case"bold":return"font-bold";default:return"font-normal"}},Wt=()=>{switch(H){case"tight":return"space-y-1";case"normal":return"space-y-2";case"relaxed":return"space-y-4";default:return"space-y-2"}},Or=()=>{switch(P){case"none":return"shadow-none";case"subtle":return"shadow-lg";case"medium":return"shadow-xl";case"strong":return"shadow-2xl";default:return"shadow-lg"}},Yr=(Z=!1,ue=null)=>{const me=xt[ue||s],ye=()=>{switch(be){case"solid":return qe;case"gradient":return`linear-gradient(135deg, ${_}80, ${N}80)`;case"gradient_low":return`linear-gradient(135deg, ${_}40, ${N}40)`;case"gradient_high":return`linear-gradient(135deg, ${_}CC, ${N}CC)`;case"template":default:return null}},Be=()=>be==="template"&&me?`bg-gradient-to-br ${me.gradient}`:"",Oe=()=>{const Ie={borderColor:_+"20"};if(be!=="template"){const Ue=ye();Ue&&(Ie.background=Ue)}return S!=="none"&&nt[S]&&(Ie.backgroundImage=nt[S].pattern,Ie.backgroundSize=S==="grid"||S==="dots"?"20px 20px":"40px 40px"),Ie},Le=a.jsxs("div",{className:`
        relative w-80 h-48 border border-gray-200 
        ${C==="rounded"?"rounded-xl":"rounded-none"} 
        ${Or()} 
        overflow-hidden transition-all duration-500 cursor-pointer 
        hover:shadow-xl transform hover:scale-105 
        ${Be()}
      `.replace(/\s+/g," ").trim(),style:Oe(),onClick:()=>V(!Y),children:[!Z&&a.jsxs("div",{className:`p-6 h-full flex flex-col justify-between ${Wt()}`,children:[o&&a.jsx("div",{className:`absolute ${c==="top-left"?"top-4 left-4":c==="center"?"top-4 left-1/2 transform -translate-x-1/2":"top-4 right-4"}`,children:a.jsx("img",{src:o,alt:"Logo",className:`${Ke()} object-cover rounded`})}),a.jsxs("div",{className:`${H==="tight"?"mt-8":H==="relaxed"?"mt-12":"mt-10"} ${Q.storeName==="center"?"text-center":Q.storeName==="left"?"text-left":"text-right"}`,children:[a.jsx("h2",{className:`${Tr()} ${Fn()} ${p==="elegant-serif"?"font-serif":p==="modern-sans"?"font-sans":p==="classic-times"?"font-serif":"font-script"}`,style:{color:Re.storeName},children:r.storeName}),a.jsx("p",{className:`text-sm mt-1 ${Q.ownerName==="center"?"text-center":Q.ownerName==="left"?"text-left":"text-right"}`,style:{color:Re.ownerName},children:r.preferredName||r.ownerName}),a.jsx("p",{className:"text-xs mt-1",style:{color:Re.category},children:r.category})]}),a.jsx("div",{className:`absolute ${f==="bottom-left"?"bottom-4 left-4":"bottom-4 right-4"}`,children:a.jsx("img",{src:rr(r.storeUrl),alt:"QR Code",className:"w-12 h-12 border border-gray-300 rounded"})})]}),Z&&a.jsxs("div",{className:"p-4 h-full flex flex-col justify-between text-xs",children:[a.jsxs("div",{className:"space-y-2",children:[ar().map(([Ie,Ue])=>{if(["storeName","ownerName","preferredName","category"].includes(Ie))return null;const Ve=tt=>{switch(tt){case"phone":return a.jsx(cd,{size:12});case"email":return a.jsx(Wl,{size:12});case"address":return a.jsx(ql,{size:12});case"website":return a.jsx(P5,{size:12});case"instagram":return a.jsx(m8,{size:12});case"facebook":return a.jsx(f8,{size:12});case"whatsapp":return a.jsx(yh,{size:12});case"businessHours":return a.jsx($s,{size:12});case"establishedYear":return a.jsx(Es,{size:12});default:return a.jsx(P5,{size:12})}};return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{color:N},children:Ve(Ie)}),a.jsx("span",{className:"truncate",style:{color:Re.contactText},children:Ue})]},Ie)}),r.description&&a.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded text-xs",style:{color:Re.contactText},children:r.description})]}),a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsx("div",{className:"text-xs text-gray-400",children:"aiocart.lk"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Powered by NFC"})]})]})]});return R==="3d"?a.jsx("div",{className:"transform-gpu perspective-1000",children:a.jsx("div",{className:"transform rotate-x-12 rotate-y-12",children:Le})}):R==="mockup"?a.jsxs("div",{className:"relative",children:[T==="desk"&&a.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-8 rounded-2xl",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-200/20 to-amber-300/20 rounded-2xl"}),a.jsx("div",{className:"relative",children:Le}),a.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-amber-600",children:"On Desk"})]}),T==="hand"&&a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl",children:[a.jsx("div",{className:"relative transform rotate-3",children:Le}),a.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-blue-600",children:"In Hand"})]}),T==="holder"&&a.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-6 rounded-2xl",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"bg-gray-300 h-2 w-full mb-2 rounded"}),Le]}),a.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-gray-600",children:"Card Holder"})]})]}):Le},hn=()=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Order Your NFC Cards"}),a.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:At.map(Z=>a.jsxs("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all relative ${Z.popular?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[Z.popular&&a.jsx("div",{className:"absolute -top-2 left-4 bg-blue-500 text-white px-2 py-1 rounded text-xs font-semibold",children:"Most Popular"}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:[Z.quantity," Cards"]}),a.jsxs("div",{className:"text-xl font-semibold text-green-600 mt-1",children:["LKR ",Z.price.toLocaleString()]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["LKR ",Math.round(Z.price/Z.quantity)," per card"]})]})]},Z.quantity))}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Your Design Summary:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:["Template: ",xt[s].name]}),a.jsxs("div",{children:["Finish: ",v.charAt(0).toUpperCase()+v.slice(1)]}),a.jsxs("div",{children:["Typography:"," ",p.replace("-"," ").replace(/\b\w/g,Z=>Z.toUpperCase())]}),a.jsxs("div",{children:["Corner:"," ",C.charAt(0).toUpperCase()+C.slice(1)]})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>X(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Continue Designing"}),a.jsx("button",{onClick:()=>{ke(!0),setTimeout(()=>{ke(!1),X(!1),Ht("Order placed successfully! We'll contact you soon.","success")},2e3)},className:"flex-1 px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",disabled:ve,children:ve?a.jsxs(a.Fragment,{children:[a.jsx(M5,{size:16,className:"animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gA,{size:16}),"Place Order"]})})]})]})}),Mr=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Name *"}),a.jsx("input",{type:"text",value:r.storeName,onChange:Z=>lr("storeName",Z.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Enter store name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Name *"}),a.jsx("input",{type:"text",value:r.ownerName,onChange:Z=>lr("ownerName",Z.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Enter owner name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Name"}),a.jsx("input",{type:"text",value:r.preferredName,onChange:Z=>lr("preferredName",Z.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Display name (optional)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Category"}),a.jsxs("select",{value:r.category,onChange:Z=>lr("category",Z.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",children:[a.jsx("option",{value:"Fashion & Apparel",children:"Fashion & Apparel"}),a.jsx("option",{value:"Electronics",children:"Electronics"}),a.jsx("option",{value:"Food & Beverage",children:"Food & Beverage"}),a.jsx("option",{value:"Health & Beauty",children:"Health & Beauty"}),a.jsx("option",{value:"Home & Garden",children:"Home & Garden"}),a.jsx("option",{value:"Services",children:"Services"}),a.jsx("option",{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:r.phone,onChange:Z=>lr("phone",Z.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"+94 77 123 4567"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:r.email,onChange:Z=>lr("email",Z.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"hello@yourstore.lk"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store URL"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"text",value:r.storeUrl,onChange:Z=>lr("storeUrl",Z.target.value),className:"flex-1 p-3 border border-gray-200 rounded-l-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"yourstore.aiocart.lk"}),a.jsx("button",{onClick:()=>Xe(`https://${r.storeUrl}`,"storeUrl"),className:"px-3 border border-l-0 border-gray-200 rounded-r-lg hover:bg-gray-50 transition-colors",children:ie==="storeUrl"?a.jsx(gh,{size:16,className:"text-green-500"}):a.jsx(XW,{size:16})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Established Year"}),a.jsx("input",{type:"number",value:r.establishedYear,onChange:Z=>lr("establishedYear",Z.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"2019",min:"1900",max:"2024"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),a.jsx("textarea",{value:r.address,onChange:Z=>lr("address",Z.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",rows:"2",placeholder:"123 Galle Road, Colombo 03"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Hours"}),a.jsx("input",{type:"text",value:r.businessHours,onChange:Z=>lr("businessHours",Z.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Mon-Sat: 9:00 AM - 8:00 PM"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:r.description,onChange:Z=>lr("description",Z.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",rows:"3",placeholder:"Brief description of your business..."})]})]}),Jr=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website URL"}),a.jsx("input",{type:"url",value:r.website,onChange:Z=>lr("website",Z.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"https://yourwebsite.lk"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram Handle"}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"inline-flex items-center px-3 text-gray-500 bg-gray-50 border border-r-0 border-gray-200 rounded-l-lg",children:"@"}),a.jsx("input",{type:"text",value:r.instagram.replace("@",""),onChange:Z=>lr("instagram","@"+Z.target.value.replace("@","")),className:"flex-1 p-3 border border-gray-200 rounded-r-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"yourbusiness_lk"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook Page"}),a.jsx("input",{type:"url",value:r.facebook,onChange:Z=>lr("facebook",Z.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"https://facebook.com/yourbusiness"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Number"}),a.jsx("input",{type:"tel",value:r.whatsapp,onChange:Z=>lr("whatsapp",Z.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"+94 77 123 4567"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"NFC Features"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"• Instant contact saving to phone"}),a.jsx("li",{children:"• One-tap social media follows"}),a.jsx("li",{children:"• Direct website visits"}),a.jsx("li",{children:"• WhatsApp message initiation"}),a.jsx("li",{children:"• Analytics tracking for all interactions"}),a.jsx("li",{children:"• Universal smartphone compatibility"})]})]})]}),q=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Choose Template by Category"}),Object.entries(ot).map(([Z,ue])=>{const me=ue.icon;return a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(me,{size:20,className:"text-gray-600"}),a.jsx("h4",{className:"font-medium text-gray-800",children:ue.name})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ue.templates.map(ye=>{const Be=xt[ye],Oe=Be.icon;return a.jsxs("div",{className:`relative p-4 border-2 rounded-lg cursor-pointer transition-all hover:shadow-md ${s===ye?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{i(ye),Rt()},onMouseEnter:()=>Te(ye),onMouseLeave:()=>Te(null),children:[je===ye&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 rounded-lg flex items-center justify-center z-10",children:a.jsxs("div",{className:"text-white text-center",children:[a.jsx(Zn,{size:24,className:"mx-auto mb-2"}),a.jsx("div",{className:"text-sm",children:"Preview"})]})}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Oe,{size:20,className:"text-gray-600"}),Be.price>0?a.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["LKR ",Be.price.toLocaleString()]}):a.jsx("span",{className:"text-sm font-semibold text-blue-600",children:"Free"})]}),a.jsx("h4",{className:"font-semibold text-gray-800",children:Be.name}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Be.description}),a.jsx("div",{className:"mt-3 transform scale-50 origin-left",children:Yr(!1,ye)})]},ye)})})]},Z)})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Color Themes"}),a.jsxs("button",{onClick:()=>{const Z=ur();Z.length>0&&Kt(Z[0])},className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(YC,{size:16}),"Smart Suggestion"]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(Ft).map(([Z,ue])=>a.jsxs("div",{className:"p-3 border rounded-lg cursor-pointer hover:border-gray-300 transition-all",onClick:()=>Kt(ue),children:[a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:ue.primary}}),a.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:ue.accent}})]}),a.jsx("div",{className:"text-sm font-medium",children:ue.name})]},Z))}),a.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Custom Colors"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:_,onChange:Z=>{B(Z.target.value),Rt()},className:"w-12 h-12 rounded border border-gray-300"}),a.jsx("input",{type:"text",value:_,onChange:Z=>{B(Z.target.value),Rt()},className:"flex-1 p-2 border border-gray-200 rounded focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accent Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N,onChange:Z=>{j(Z.target.value),Rt()},className:"w-12 h-12 rounded border border-gray-300"}),a.jsx("input",{type:"text",value:N,onChange:Z=>{j(Z.target.value),Rt()},className:"flex-1 p-2 border border-gray-200 rounded focus:ring-2 focus:ring-black focus:border-transparent"})]})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Logo Upload"}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{onClick:()=>{var Z;return(Z=Me.current)==null?void 0:Z.click()},className:"w-24 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400 transition-colors",children:o?a.jsx("img",{src:o,alt:"Logo",className:"w-20 h-20 object-cover rounded"}):a.jsx(K0,{size:32,className:"text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("button",{onClick:()=>{var Z;return(Z=Me.current)==null?void 0:Z.click()},className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors mb-2",children:"Upload Logo"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"PNG, JPG up to 2MB"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo Size"}),a.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(Z=>a.jsx("button",{onClick:()=>{A(Z),Rt()},className:`px-3 py-1 text-sm rounded ${d===Z?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} transition-colors`,children:Z.charAt(0).toUpperCase()+Z.slice(1)},Z))})]})]}),a.jsx("input",{ref:Me,type:"file",accept:"image/*",onChange:sr,className:"hidden"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Typography"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Style"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{key:"elegant-serif",name:"Elegant Serif",preview:"Elegance"},{key:"modern-sans",name:"Modern Sans",preview:"Modern"},{key:"classic-times",name:"Classic Times",preview:"Classic"},{key:"luxury-script",name:"Luxury Script",preview:"Luxury"}].map(Z=>a.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer text-center transition-all ${p===Z.key?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{m(Z.key),Rt()},children:[a.jsx("div",{className:`text-lg ${Z.key==="elegant-serif"?"font-serif":Z.key==="modern-sans"?"font-sans":Z.key==="classic-times"?"font-serif":"font-script"}`,children:Z.preview}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Z.name})]},Z.key))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Weight"}),a.jsx("div",{className:"flex gap-2",children:["light","normal","bold"].map(Z=>a.jsx("button",{onClick:()=>{b(Z),Rt()},className:`px-3 py-1 text-sm rounded ${g===Z?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} transition-colors`,children:Z.charAt(0).toUpperCase()+Z.slice(1)},Z))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),a.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(Z=>a.jsx("button",{onClick:()=>{x(Z),Rt()},className:`px-3 py-1 text-sm rounded ${y===Z?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} transition-colors`,children:Z.charAt(0).toUpperCase()+Z.slice(1)},Z))})]})]})]})]}),a.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Background Control"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Type"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{key:"gradient",name:"Gradient"},{key:"solid",name:"Solid Color"},{key:"template",name:"Template Default"}].map(Z=>a.jsx("button",{onClick:()=>{De(Z.key),Rt()},className:`px-3 py-2 text-sm rounded transition-all ${be===Z.key?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Z.name},Z.key))})]}),be==="solid"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:qe,onChange:Z=>{Qe(Z.target.value),Rt()},className:"w-12 h-12 rounded border border-gray-300"}),a.jsx("input",{type:"text",value:qe,onChange:Z=>{Qe(Z.target.value),Rt()},className:"flex-1 p-2 border border-gray-200 rounded focus:ring-2 focus:ring-black focus:border-transparent"})]})]})]}),a.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Text Colors"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Name Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:Re.storeName,onChange:Z=>{We(ue=>({...ue,storeName:Z.target.value})),Rt()},className:"w-10 h-10 rounded border border-gray-300"}),a.jsx("input",{type:"text",value:Re.storeName,onChange:Z=>{We(ue=>({...ue,storeName:Z.target.value})),Rt()},className:"flex-1 p-2 border border-gray-200 rounded focus:ring-2 focus:ring-black focus:border-transparent text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Name Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:Re.ownerName,onChange:Z=>{We(ue=>({...ue,ownerName:Z.target.value})),Rt()},className:"w-10 h-10 rounded border border-gray-300"}),a.jsx("input",{type:"text",value:Re.ownerName,onChange:Z=>{We(ue=>({...ue,ownerName:Z.target.value})),Rt()},className:"flex-1 p-2 border border-gray-200 rounded focus:ring-2 focus:ring-black focus:border-transparent text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:Re.category,onChange:Z=>{We(ue=>({...ue,category:Z.target.value})),Rt()},className:"w-10 h-10 rounded border border-gray-300"}),a.jsx("input",{type:"text",value:Re.category,onChange:Z=>{We(ue=>({...ue,category:Z.target.value})),Rt()},className:"flex-1 p-2 border border-gray-200 rounded focus:ring-2 focus:ring-black focus:border-transparent text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Text Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:Re.contactText,onChange:Z=>{We(ue=>({...ue,contactText:Z.target.value})),Rt()},className:"w-10 h-10 rounded border border-gray-300"}),a.jsx("input",{type:"text",value:Re.contactText,onChange:Z=>{We(ue=>({...ue,contactText:Z.target.value})),Rt()},className:"flex-1 p-2 border border-gray-200 rounded focus:ring-2 focus:ring-black focus:border-transparent text-sm"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Presets"}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:[{name:"Dark",colors:{storeName:"#1a1a1a",ownerName:"#374151",category:"#6b7280",contactText:"#374151"}},{name:"Light",colors:{storeName:"#ffffff",ownerName:"#e5e7eb",category:"#d1d5db",contactText:"#f3f4f6"}},{name:"Blue",colors:{storeName:"#1e40af",ownerName:"#3b82f6",category:"#60a5fa",contactText:"#1e40af"}},{name:"Gold",colors:{storeName:"#d4af37",ownerName:"#b8860b",category:"#daa520",contactText:"#b8860b"}}].map(Z=>a.jsx("button",{onClick:()=>{We(Z.colors),Rt()},className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:Z.name},Z.name))})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Background Pattern"}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-3",children:Object.entries(nt).map(([Z,ue])=>a.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer text-center transition-all ${S===Z?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{k(Z),Rt()},children:[a.jsx("div",{className:"w-8 h-8 mx-auto mb-2 border border-gray-300 rounded",style:{backgroundImage:ue.pattern,backgroundSize:Z==="grid"||Z==="dots"?"8px 8px":"16px 16px"}}),a.jsx("div",{className:"text-xs",children:ue.name})]},Z))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Card Effects"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shadow Style"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{key:"none",name:"No Shadow"},{key:"subtle",name:"Subtle"},{key:"medium",name:"Medium"},{key:"strong",name:"Strong"}].map(Z=>a.jsx("button",{onClick:()=>{M(Z.key),Rt()},className:`px-3 py-2 text-sm rounded transition-all ${P===Z.key?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Z.name},Z.key))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Corner Style"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{key:"rounded",name:"Rounded"},{key:"sharp",name:"Sharp"}].map(Z=>a.jsx("button",{onClick:()=>{E(Z.key),Rt()},className:`px-3 py-2 text-sm rounded transition-all ${C===Z.key?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Z.name},Z.key))})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Card Finish"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{key:"matte",name:"Matte",price:0,description:"Smooth, non-reflective finish"},{key:"glossy",name:"Glossy",price:600,description:"Shiny, reflective surface"},{key:"metallic",name:"Metallic",price:1500,description:"Premium metallic coating"},{key:"textured",name:"Textured",price:900,description:"Tactile textured surface"}].map(Z=>a.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer transition-all ${v===Z.key?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{w(Z.key),Rt()},children:[a.jsx("div",{className:"font-medium",children:Z.name}),a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:Z.description}),Z.price>0?a.jsxs("div",{className:"text-xs text-green-600",children:["+LKR ",Z.price.toLocaleString()]}):a.jsx("div",{className:"text-xs text-blue-600",children:"Included"})]},Z.key))})]})]}),ce=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Element Positioning"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo Position"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{key:"top-left",name:"Top Left",icon:"↖"},{key:"center",name:"Center",icon:"↑"},{key:"top-right",name:"Top Right",icon:"↗"}].map(Z=>a.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer text-center transition-all ${c===Z.key?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{u(Z.key),Rt()},children:[a.jsx("div",{className:"text-2xl mb-1",children:Z.icon}),a.jsx("div",{className:"text-sm",children:Z.name})]},Z.key))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"QR Code Position"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{key:"bottom-left",name:"Bottom Left",icon:"↙"},{key:"bottom-right",name:"Bottom Right",icon:"↘"}].map(Z=>a.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer text-center transition-all ${f===Z.key?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{h(Z.key),Rt()},children:[a.jsx("div",{className:"text-2xl mb-1",children:Z.icon}),a.jsx("div",{className:"text-sm",children:Z.name})]},Z.key))})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Text Alignment"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name Position"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{key:"left",name:"Left",icon:"←"},{key:"center",name:"Center",icon:"↔"},{key:"right",name:"Right",icon:"→"}].map(Z=>a.jsxs("button",{onClick:()=>{K(ue=>({...ue,storeName:Z.key})),Rt()},className:`p-3 border rounded-lg transition-all flex items-center justify-center gap-2 ${Q.storeName===Z.key?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("span",{className:"text-lg",children:Z.icon}),a.jsx("span",{className:"text-sm",children:Z.name})]},Z.key))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Name Position"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{key:"left",name:"Left",icon:"←"},{key:"center",name:"Center",icon:"↔"},{key:"right",name:"Right",icon:"→"}].map(Z=>a.jsxs("button",{onClick:()=>{K(ue=>({...ue,ownerName:Z.key})),Rt()},className:`p-3 border rounded-lg transition-all flex items-center justify-center gap-2 ${Q.ownerName===Z.key?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("span",{className:"text-lg",children:Z.icon}),a.jsx("span",{className:"text-sm",children:Z.name})]},Z.key))})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Element Spacing"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{key:"tight",name:"Tight",description:"Compact layout"},{key:"normal",name:"Normal",description:"Balanced spacing"},{key:"relaxed",name:"Relaxed",description:"Spacious layout"}].map(Z=>a.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer text-center transition-all ${H===Z.key?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{F(Z.key),Rt()},children:[a.jsx("div",{className:"font-medium",children:Z.name}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Z.description})]},Z.key))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Preview Options"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"View Mode"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{key:"2d",name:"2D View",icon:uq},{key:"3d",name:"3D View",icon:aq},{key:"mockup",name:"Mockup",icon:TN}].map(Z=>{const ue=Z.icon;return a.jsxs("button",{onClick:()=>U(Z.key),className:`p-3 border rounded-lg transition-all flex items-center justify-center gap-2 ${R===Z.key?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx(ue,{size:16}),a.jsx("span",{className:"text-sm",children:Z.name})]},Z.key)})})]}),R==="mockup"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mockup Context"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{key:"desk",name:"On Desk"},{key:"hand",name:"In Hand"},{key:"holder",name:"Card Holder"}].map(Z=>a.jsx("button",{onClick:()=>z(Z.key),className:`p-3 border rounded-lg transition-all ${T===Z.key?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300"}`,children:Z.name},Z.key))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Flip Animation"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{key:"3d",name:"3D Flip"},{key:"fade",name:"Fade Effect"}].map(Z=>a.jsx("button",{onClick:()=>O(Z.key),className:`p-3 border rounded-lg transition-all ${I===Z.key?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300"}`,children:Z.name},Z.key))})]})]})]})]});return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Advanced NFC Card Designer"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Create premium NFC-enabled business cards with advanced customization"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900",children:t.name}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-yellow-600",children:[a.jsx(Nl,{size:14}),"Premium Member"]})]})})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("div",{className:"flex",children:[{key:"information",label:"Information",icon:Vl},{key:"design",label:"Design",icon:D5},{key:"layout",label:"Layout",icon:pq},{key:"social",label:"Social",icon:xh}].map(Z=>{const ue=Z.icon;return a.jsxs("button",{onClick:()=>ae(Z.key),className:`flex-1 flex items-center justify-center gap-2 px-4 py-4 font-medium transition-colors ${de===Z.key?"text-black border-b-2 border-black bg-gray-50":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(ue,{size:16}),Z.label]},Z.key)})})}),a.jsxs("div",{className:"p-6",children:[de==="information"&&Mr(),de==="design"&&q(),de==="layout"&&ce(),de==="social"&&Jr()]})]})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx("div",{className:"sticky top-8",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Live Preview"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>V(!Y),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Flip Card",children:a.jsx(M5,{size:16})}),a.jsx("div",{className:"text-xs text-gray-500",children:R.toUpperCase()})]})]}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:I==="fade"?"transition-opacity duration-500":"transition-transform duration-700 transform-style-preserve-3d",children:Yr(Y)})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[Y?"Back Side":"Front Side"," • Click to flip"]}),a.jsxs("div",{className:"flex justify-center gap-2",children:[a.jsx("button",{onClick:()=>V(!1),className:`px-3 py-1 text-xs rounded transition-colors ${Y?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-black text-white"}`,children:"Front"}),a.jsx("button",{onClick:()=>V(!0),className:`px-3 py-1 text-xs rounded transition-colors ${Y?"bg-black text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Back"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>X(!0),className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:[a.jsx(gA,{size:16}),"Order Cards"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:()=>Ht("PNG download feature coming soon!"),className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[a.jsx(Tm,{size:14}),"Download"]}),a.jsxs("button",{onClick:()=>Xe(window.location.href,"design"),className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[a.jsx(xh,{size:14}),"Share"]})]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(YC,{size:16,className:"text-blue-600"}),a.jsx("h4",{className:"font-medium text-blue-900",children:"Smart Suggestions"})]}),a.jsx("div",{className:"space-y-2",children:ur().map((Z,ue)=>a.jsx("button",{onClick:()=>Kt(Z),className:"w-full text-left p-2 bg-white rounded border hover:border-blue-300 transition-colors",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Z.primary}}),a.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Z.accent}})]}),a.jsx("span",{className:"text-sm text-gray-700",children:Z.name})]})},ue))})]}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Pricing Summary"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Template:"}),a.jsx("span",{className:"font-medium",children:xt[s].price===0?"Free":`LKR ${xt[s].price.toLocaleString()}`})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Finish:"}),a.jsx("span",{className:"font-medium",children:v==="matte"?"Included":`+LKR ${v==="glossy"?"600":v==="metallic"?"1,500":"900"}`})]}),S!=="none"&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Pattern:"}),a.jsx("span",{className:"font-medium",children:"+LKR 200"})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2 flex justify-between font-semibold text-base",children:[a.jsx("span",{children:"Per Card:"}),a.jsxs("span",{className:"text-green-600",children:["LKR"," ",(xt[s].price+(v==="glossy"?600:v==="metallic"?1500:v==="textured"?900:0)+(S!=="none"?200:0)).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-br from-purple-50 to-blue-50 rounded-lg border border-purple-100",children:[a.jsxs("h4",{className:"font-semibold text-purple-900 mb-3 flex items-center gap-2",children:[a.jsx(Ed,{size:16}),"Premium NFC Technology"]}),a.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[a.jsx("li",{children:"• Instant contact sharing"}),a.jsx("li",{children:"• Real-time analytics tracking"}),a.jsx("li",{children:"• Eco-friendly paperless solution"}),a.jsx("li",{children:"• Universal smartphone compatibility"}),a.jsx("li",{children:"• Professional impression guaranteed"})]})]})]})})})]})}),xe&&hn(),a.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-40",children:Ce.map(Z=>a.jsxs("div",{className:`p-4 rounded-lg shadow-lg flex items-center gap-2 animate-slide-up ${Z.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[Z.type==="success"?a.jsx(gh,{size:16}):a.jsx(yu,{size:16}),Z.message]},Z.id))}),a.jsx("style",{jsx:!0,children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }

        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }

        .transform-style-preserve-3d {
          transform-style: preserve-3d;
        }

        .perspective-1000 {
          perspective: 1000px;
        }

        .rotate-x-12 {
          transform: rotateX(12deg);
        }

        .rotate-y-12 {
          transform: rotateY(12deg);
        }
      `})]})},iT=50,Kr=(...t)=>{console.log("[Chat Hook]",...t)},A3=t=>{const{socket:r,isConnected:n,globalUnreadCount:s,updateUnreadCount:i}=m1(),[o,l]=te.useState([]),[c,u]=te.useState(null),[d,A]=te.useState([]),[f,h]=te.useState(0),[p,m]=te.useState(!1),[g,b]=te.useState(null),[y,x]=te.useState(new Map),v=te.useRef(new Map),w=te.useRef(new Set),_=te.useRef(new Set),B=te.useRef(new Set),N="http://localhost:10000",j=te.useCallback(async()=>{if(!(r!=null&&r.connected)||!(t!=null&&t.id)){Kr("❌ Cannot join rooms: socket disconnected or no user");return}try{Kr("🏠 Joining all chat rooms for user:",t.id),o.forEach(K=>{_.current.has(K._id)||(Kr(`🚪 Joining room for conversation: ${K._id}`),r.emit("join-chat",{chatId:K._id}),_.current.add(K._id))})}catch(K){Kr("❌ Error joining chat rooms:",K)}},[o,t==null?void 0:t.id,r]);te.useEffect(()=>{if(!r||!(t!=null&&t.id))return;Kr("🔗 Setting up socket event listeners for useChat");const K=I=>{var R;if(Kr("📥 NEW MESSAGE RECEIVED:",{messageId:I._id,chatId:I.chat._id,senderId:I.sender._id,senderName:I.sender.name,currentUserId:t.id,content:(R=I.content)==null?void 0:R.slice(0,50),timestamp:new Date().toISOString()}),w.current.has(I._id)){Kr("🔄 Duplicate message ignored:",I._id);return}w.current.add(I._id);const O=I.sender._id!==t.id;Kr("📊 Message analysis:",{isFromOtherUser:O,willUpdateUnread:O}),l(U=>U.map(z=>{if(z._id===I.chat._id){const G=z.unreadCount||0,J=O?G+1:G;return Kr(`📈 Conversation ${z._id} unread: ${G} → ${J}`),{...z,lastMessage:{content:I.content||"📎 File attachment",senderId:I.sender._id,messageType:I.messageType,timestamp:I.createdAt},unreadCount:J}}return z})),u(U=>(U&&I.chat._id===U._id&&(Kr("💬 Adding message to active chat"),A(T=>T.some(G=>G._id===I._id)?T:[...T,I])),U))},Y=I=>{Kr("✅ Successfully joined chat room:",I.chatId),_.current.add(I.chatId)},V=I=>{I.userId!==t.id&&x(O=>{const R=new Map(O),U=`${I.chatId}_${I.userId}`;if(v.current.has(U)&&(clearTimeout(v.current.get(U)),v.current.delete(U)),I.isTyping){R.set(I.userId,{userName:I.userName||"Someone",chatId:I.chatId});const T=setTimeout(()=>{x(z=>{const G=new Map(z);return G.delete(I.userId),G}),v.current.delete(U)},3e3);v.current.set(U,T)}else R.delete(I.userId);return R})};return r.on("new-message",K),r.on("chat-joined",Y),r.on("user-typing",V),r.connected&&j(),()=>{r.off("new-message",K),r.off("chat-joined",Y),r.off("user-typing",V)}},[r,t==null?void 0:t.id,j]),te.useEffect(()=>{o.length>0&&n&&(Kr("📋 Conversations updated, joining rooms..."),j())},[o,n,j]),te.useEffect(()=>{if(!(t!=null&&t.id))return;(async()=>{var Y;try{m(!0),b(null),Kr("📊 Fetching initial chat data...");const[V,I]=await Promise.all([fetch(`${N}/api/chat/conversations?limit=50`,{credentials:"include"}),fetch(`${N}/api/chat/unread-count`,{credentials:"include"})]);if(V.ok){const O=await V.json();Kr("📋 Loaded conversations:",((Y=O.conversations)==null?void 0:Y.length)||0),l(O.conversations||[])}if(I.ok){const O=await I.json();Kr("🔔 Initial unread count:",O.unreadCount),h(O.unreadCount||0)}}catch(V){Kr("❌ Failed to fetch initial data:",V),b({type:"api",message:V.message,timestamp:Date.now()})}finally{m(!1)}})()},[t==null?void 0:t.id,N]);const C=te.useCallback(async(K,Y,V="text",I=null,O=null)=>{if(!(Y!=null&&Y.trim())&&!I&&!O)return!1;if(!(r!=null&&r.connected))return Kr("❌ Cannot send message: socket not connected"),!1;try{Kr("📤 Sending message:",{chatId:K,content:Y==null?void 0:Y.slice(0,50),messageType:V});const R={chatId:K,content:Y==null?void 0:Y.trim(),messageType:V,file:I,receipt:O,tempId:`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`};return r.emit("send-message",R),!0}catch(R){return Kr("❌ Send message error:",R),!1}},[r]),E=te.useCallback(async(K,Y=1,V=iT)=>{var I;try{m(!0),Kr("📖 Loading messages for chat:",K,"page:",Y);const O=`${N}/api/chat/${K}?page=${Y}&limit=${V}`,R=await fetch(O,{credentials:"include"}),U=await R.json();if(!R.ok)throw new Error(U.error||"Failed to load messages");return u(U.chat),Y===1?(A(U.chat.messages||[]),w.current.clear()):A(T=>{const z=U.chat.messages||[],G=new Set(T.map(ee=>ee._id));return[...z.filter(ee=>!G.has(ee._id)),...T]}),r!=null&&r.connected&&!_.current.has(K)&&(Kr("🚪 Joining specific chat room:",K),r.emit("join-chat",{chatId:K}),_.current.add(K)),(I=U.chat.messages)==null||I.forEach(T=>{T._id&&w.current.add(T._id)}),{chat:U.chat,pagination:U.pagination}}catch(O){throw Kr("❌ Load messages error:",O),b({type:"api",message:O.message,timestamp:Date.now()}),O}finally{m(!1)}},[N,r]),S=te.useCallback(async K=>{try{if(Kr(`📖 Marking chat ${K} as read`),B.current.has(K)){Kr(`🔄 Mark as read already in progress for chat: ${K}`);return}if(B.current.add(K),!(await fetch(`${N}/api/chat/${K}/read`,{method:"PUT",credentials:"include"})).ok)throw new Error("Failed to mark messages as read");r!=null&&r.connected&&(r.emit("mark-messages-read",{chatId:K}),r.emit("messages-marked-read",{chatId:K,userId:t.id})),l(V=>{const I=V.find(R=>R._id===K),O=(I==null?void 0:I.unreadCount)||0;return Kr(`Found conversation with unread count: ${O}`),O>0&&h(R=>{const U=Math.max(0,R-O);return Kr(`🌍 Global unread count updated: ${R} → ${U}`),U}),V.map(R=>R._id===K?{...R,unreadCount:0}:R)})}catch(Y){Kr("❌ Failed to mark as read:",Y),b({type:"api",message:Y.message||"Failed to mark messages as read",timestamp:Date.now()})}finally{B.current.delete(K)}},[N,r,t==null?void 0:t.id]),k=te.useCallback(K=>{r!=null&&r.connected&&r.emit("typing-start",{chatId:K})},[r]),P=te.useCallback(K=>{r!=null&&r.connected&&r.emit("typing-stop",{chatId:K})},[r]),M=te.useCallback(K=>K?Array.from(y.values()).filter(Y=>Y.chatId===K):[],[y]),H=te.useCallback(()=>{Kr("=== CHAT STATE DEBUG ==="),Kr("User ID:",t==null?void 0:t.id),Kr("Socket connected:",r==null?void 0:r.connected),Kr("Socket ID:",r==null?void 0:r.id),Kr("Joined rooms:",Array.from(_.current)),Kr("Conversations:",o.length),Kr("Total unread:",f),Kr("Global unread:",s),Kr("Active chat:",c==null?void 0:c._id),r!=null&&r.connected&&(r.emit("ping",{timestamp:Date.now()}),Kr("🏓 Sent ping test"))},[t==null?void 0:t.id,o.length,f,s,c==null?void 0:c._id,r]),F=te.useCallback(()=>{Kr("🔄 Note: Using global socket, cannot force reconnect from useChat")},[]),Q=te.useCallback(async(K,Y)=>{var V;try{Kr("📖 Loading older messages for chat:",K,"before:",Y);const I=`${N}/api/chat/${K}?before=${Y}&limit=${iT}`,O=await fetch(I,{credentials:"include"}),R=await O.json();if(!O.ok)throw new Error(R.error||"Failed to load older messages");const U=R.chat.messages||[];return U.length>0&&(A(T=>{const z=new Set(T.map(J=>J._id));return[...U.filter(J=>!z.has(J._id)),...T]}),U.forEach(T=>{T._id&&w.current.add(T._id)})),{messages:U,hasMore:((V=R.pagination)==null?void 0:V.hasMore)||!1}}catch(I){throw Kr("❌ Load older messages error:",I),I}},[N]);return{conversations:o,activeChat:c,messages:d,unreadCount:f,isConnected:n,isLoading:p,error:g,typingUsers:y,sendMessage:C,loadMessages:E,loadOlderMessages:Q,markAsRead:S,startTyping:k,stopTyping:P,getTypingUsers:M,debugChatState:H,forceReconnect:F,connectionHealth:{isConnected:n,joinedRooms:Array.from(_.current)},socket:r}},ixe={_id:"1",name:"John Doe",email:"john@example.com",role:"customer",profileImage:null},k7=({chat:t,user:r,onSendMessage:n,onTyping:s,messages:i,typingUsers:o})=>{var y,x,v,w,_;const[l,c]=te.useState(""),[u,d]=te.useState(!1),A=te.useRef(null),f=te.useRef(null),h=()=>{var B;(B=A.current)==null||B.scrollIntoView({behavior:"smooth"})};te.useEffect(()=>{h()},[i]);const p=async B=>{if(B.preventDefault(),!(!l.trim()||!t))try{await n(t._id,l.trim()),c(""),d(!1)}catch(N){console.error("Failed to send message:",N)}},m=B=>{c(B),!u&&B.trim()&&(d(!0),s==null||s(t._id,!0)),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{d(!1),s==null||s(t._id,!1)},1e3)},g=B=>new Date(B).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),b=(o==null?void 0:o.filter(B=>B.chatId===(t==null?void 0:t._id)))||[];return t?a.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[a.jsxs("div",{className:"border-b border-gray-200 p-4 bg-gradient-to-r from-gray-900 to-black text-white",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:((y=t.otherParticipant)==null?void 0:y.profileImage)||"/api/placeholder/40/40",alt:(x=t.otherParticipant)==null?void 0:x.name,className:"w-10 h-10 rounded-full object-cover"}),((v=t.otherParticipant)==null?void 0:v.isOnline)&&a.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:(w=t.otherParticipant)==null?void 0:w.name}),a.jsx("p",{className:"text-sm text-gray-300",children:(_=t.otherParticipant)!=null&&_.isOnline?"Online":"Offline"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(cd,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(y8,{className:"w-5 h-5"})})]})]}),t.taggedProduct&&a.jsx("div",{className:"mt-3 p-2 bg-white/10 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ol,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:["Product: ",t.taggedProduct.productName]})]})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(B=>{const N=B.sender._id===r._id;return a.jsx("div",{className:`flex ${N?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${N?"bg-gradient-to-r from-gray-900 to-black text-white":"bg-gradient-to-r from-white to-gray-50 border border-gray-200"}`,children:[B.messageType==="image"&&B.file&&a.jsx("img",{src:B.file.url,alt:"Uploaded",className:"max-w-full h-auto rounded mb-2"}),B.messageType==="receipt"&&B.receipt&&a.jsxs("div",{className:"p-3 border rounded-lg mb-2 bg-green-50",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(V0,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"font-medium text-green-800",children:"Order Receipt"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("p",{children:["Order: ",B.receipt.orderId]}),a.jsxs("p",{children:["Amount: $",B.receipt.amount]}),a.jsxs("p",{children:["Status: ",B.receipt.status]})]})]}),a.jsx("p",{className:"text-sm",children:B.content}),a.jsx("p",{className:`text-xs mt-1 ${N?"text-gray-300":"text-gray-500"}`,children:g(B.createdAt)})]})},B._id)}),b.length>0&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-gray-100 px-4 py-2 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),a.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:[b[0].userName," is typing..."]})]})})}),a.jsx("div",{ref:A})]}),a.jsx("div",{className:"border-t border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(ON,{className:"w-5 h-5"})}),a.jsx("input",{type:"text",value:l,onChange:B=>m(B.target.value),onKeyPress:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),p(B))},placeholder:"Type your message...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsx("button",{onClick:p,disabled:!l.trim(),className:"p-2 bg-gradient-to-r from-gray-900 to-black text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:a.jsx(h1,{className:"w-5 h-5"})})]})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(mA,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Chat Selected"}),a.jsx("p",{className:"text-gray-500",children:"Choose a conversation to start messaging"})]})})},T7=({chats:t,selectedChat:r,onSelectChat:n,userRole:s,onSearch:i})=>{const[o,l]=te.useState(""),c=t.filter(A=>{var f,h,p,m;return((h=(f=A.otherParticipant)==null?void 0:f.name)==null?void 0:h.toLowerCase().includes(o.toLowerCase()))||((m=(p=A.lastMessage)==null?void 0:p.content)==null?void 0:m.toLowerCase().includes(o.toLowerCase()))}),u=A=>{var f;if(!A)return"No messages yet";switch(A.messageType){case"image":return"📷 Photo";case"receipt":return"🧾 Receipt";case"system":return"⚙️ System message";default:return((f=A.content)==null?void 0:f.length)>50?A.content.substring(0,50)+"...":A.content}},d=A=>{const f=new Date,h=new Date(A);return(f-h)/(1e3*60*60)<24?h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):h.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return a.jsxs("div",{className:"w-80 border-r border-gray-200 bg-white flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:s==="customer"?"Your Chats":"Customer Messages"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search conversations...",value:o,onChange:A=>l(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[c.map(A=>{var f,h,p,m,g;return a.jsx("div",{onClick:()=>n(A),className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${(r==null?void 0:r._id)===A._id?"bg-blue-50 border-blue-200":""}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:((f=A.otherParticipant)==null?void 0:f.profileImage)||"/api/placeholder/48/48",alt:(h=A.otherParticipant)==null?void 0:h.name,className:"w-12 h-12 rounded-full object-cover"}),((p=A.otherParticipant)==null?void 0:p.isOnline)&&a.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:(m=A.otherParticipant)==null?void 0:m.name}),a.jsx("span",{className:"text-xs text-gray-500",children:d(((g=A.lastMessage)==null?void 0:g.timestamp)||A.updatedAt)})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-sm text-gray-600 truncate",children:u(A.lastMessage)}),A.unreadCount>0&&a.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full px-2 py-0.5 min-w-[20px] text-center",children:A.unreadCount})]}),s==="store_owner"&&A.taggedProduct&&a.jsxs("div",{className:"flex items-center mt-1 text-xs text-blue-600",children:[a.jsx(ol,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"truncate",children:A.taggedProduct.productName})]})]})]})},A._id)}),c.length===0&&a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(mA,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),a.jsx("p",{children:"No conversations found"})]})]})]})},axe=({onInsertText:t})=>{const r=[{text:"Thanks for your inquiry!",icon:"👋"},{text:"Let me check that for you",icon:"🔍"},{text:"Product is available",icon:"✅"},{text:"Here's the pricing information",icon:"💰"},{text:"Would you like to place an order?",icon:"🛒"},{text:"I'll get back to you shortly",icon:"⏱️"}];return a.jsxs("div",{className:"w-64 border-l border-gray-200 bg-gray-50 p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsx("div",{className:"space-y-2",children:r.map((n,s)=>a.jsx("button",{onClick:()=>t(n.text),className:"w-full text-left p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:n.icon}),a.jsx("span",{className:"text-sm text-gray-700",children:n.text})]})},s))}),a.jsxs("div",{className:"mt-6 p-4 bg-white rounded-lg border border-gray-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Customer Info"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vl,{className:"w-4 h-4"}),a.jsx("span",{children:"Previous orders: 5"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ol,{className:"w-4 h-4"}),a.jsx("span",{children:"Total spent: $299"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($s,{className:"w-4 h-4"}),a.jsx("span",{children:"Customer since: Jan 2024"})]})]})]})]})},oxe=({customer:t,chat:r})=>{var n;return t?a.jsxs("div",{className:"p-4 bg-gradient-to-r from-white to-gray-50 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:t.profileImage||"/api/placeholder/60/60",alt:t.name,className:"w-15 h-15 rounded-full object-cover"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Wl,{className:"w-4 h-4"}),a.jsx("span",{children:t.email})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(A8,{className:`w-2 h-2 rounded-full ${t.isOnline?"bg-green-500":"bg-gray-400"}`}),a.jsx("span",{children:t.isOnline?"Online":"Offline"})]})]})]}),((n=r==null?void 0:r.analytics)==null?void 0:n.customerSatisfaction)&&a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Wr,{className:"w-4 h-4 text-yellow-400 fill-current"}),a.jsx("span",{className:"text-sm font-medium",children:r.analytics.customerSatisfaction})]}),a.jsx("span",{className:"text-xs text-gray-500",children:"Rating"})]})]}),(r==null?void 0:r.taggedProduct)&&a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ol,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Inquiring about: ",r.taggedProduct.productName]})]}),r.taggedProduct.productId&&a.jsx("button",{className:"mt-2 text-xs text-blue-600 hover:text-blue-800",children:"View Product Details →"})]})]}):null},lxe=({user:t})=>{const{conversations:r,activeChat:n,messages:s,loadMessages:i,sendMessage:o,markAsRead:l,joinChatRoom:c,startTyping:u,stopTyping:d,typingUsers:A,isLoading:f}=A3(t),[h,p]=te.useState(null),m=async g=>{try{p(g),await i(g._id),await l(g._id),c(g._id)}catch(b){console.error("Failed to load chat:",b)}};return f?a.jsx("div",{className:"h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading chats..."})]})}):a.jsxs("div",{className:"h-screen flex bg-gray-100",children:[a.jsx(T7,{chats:r,selectedChat:h,onSelectChat:m,userRole:"customer"}),a.jsx(k7,{chat:n,user:t,onSendMessage:o,onTyping:u,messages:s,typingUsers:A})]})},cxe=({user:t,storeId:r})=>{const{conversations:n,activeChat:s,messages:i,loadMessages:o,sendMessage:l,markAsRead:c,joinChatRoom:u,startTyping:d,stopTyping:A,typingUsers:f,isLoading:h}=A3(t),[p,m]=te.useState(null),g=async y=>{try{m(y),await o(y._id),await c(y._id),u(y._id)}catch(x){console.error("Failed to load chat:",x)}},b=y=>{s&&l(s._id,y)};return h?a.jsx("div",{className:"h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading customer chats..."})]})}):a.jsxs("div",{className:"h-screen flex bg-gray-100",children:[a.jsx(T7,{chats:n,selectedChat:p,onSelectChat:g,userRole:"store_owner"}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[s&&a.jsx(oxe,{customer:s.otherParticipant,chat:s}),a.jsxs("div",{className:"flex-1 flex",children:[a.jsx(k7,{chat:s,user:t,onSendMessage:l,onTyping:d,messages:i,typingUsers:f}),a.jsx(axe,{onInsertText:b})]})]})]})},uxe=()=>{const[t,r]=te.useState("customer"),n={...ixe,role:t};return a.jsxs("div",{className:"h-screen",children:[a.jsxs("div",{className:"bg-gray-800 text-white p-2 flex items-center justify-between",children:[a.jsxs("h1",{className:"font-bold",children:["Chat Dashboard - ",t==="customer"?"Customer View":"Store Owner View"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>r("customer"),className:`px-3 py-1 rounded text-sm ${t==="customer"?"bg-blue-600":"bg-gray-600"}`,children:"Customer View"}),a.jsx("button",{onClick:()=>r("store_owner"),className:`px-3 py-1 rounded text-sm ${t==="store_owner"?"bg-blue-600":"bg-gray-600"}`,children:"Store Owner View"})]})]}),t==="customer"?a.jsx(lxe,{user:n}):a.jsx(cxe,{user:n,storeId:"store123"})]})},dxe=()=>{const[t,r]=te.useState({title:"",description:"",hashtags:"",taggedProducts:[],mediaType:null,files:[]}),[n,s]=te.useState(!1),[i,o]=te.useState(""),[l,c]=te.useState([]),[u,d]=te.useState(!1),[A,f]=te.useState(0),h=te.useRef(null),p=[{id:1,name:"Premium Black Hoodie",price:"$59.99",image:"/api/placeholder/60/60"},{id:2,name:"Classic White Sneakers",price:"$89.99",image:"/api/placeholder/60/60"},{id:3,name:"Minimalist Watch",price:"$199.99",image:"/api/placeholder/60/60"},{id:4,name:"Designer Sunglasses",price:"$149.99",image:"/api/placeholder/60/60"}],m=B=>{const N=Array.from(B.target.files);if(!N.length)return;const j=N[0],C=j.type.startsWith("video/"),E=j.type.startsWith("image/");if(C){if(j.size>100*1024*1024){alert("Video file too large. Please keep under 100MB.");return}r(S=>({...S,mediaType:"video",files:[j]}))}else if(E){const S=[...t.files,...N].slice(0,5);r(k=>({...k,mediaType:"images",files:S}))}},g=B=>{r(N=>({...N,files:N.files.filter((j,C)=>C!==B),mediaType:N.files.length===1?null:N.mediaType}))},b=async(B,N)=>{const j=B.map(async(C,E)=>{try{const S=Date.now(),k=`posts/${N}/${S}_${C.name}`,P=Il(Pl,k),M=await Ol(P,C),H=await Fl(M.ref),F=Math.round((E+1)/B.length*70)+20;return f(F),H}catch(S){throw console.error(`Failed to upload file ${C.name}:`,S),new Error(`Failed to upload ${C.name}`)}});return Promise.all(j)},y=async B=>{const N=await fetch("/api/posts",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(!N.ok){const j=await N.json();throw new Error(j.error||"Failed to create post")}return N.json()},x=async B=>{if(o(B),B.length>2)try{const N=await fetch(`/api/posts/products/search?q=${encodeURIComponent(B)}`,{credentials:"include"});if(N.ok){const j=await N.json();c(j.products||[])}else{const j=p.filter(C=>C.name.toLowerCase().includes(B.toLowerCase()));c(j)}}catch(N){console.error("Product search failed:",N);const j=p.filter(C=>C.name.toLowerCase().includes(B.toLowerCase()));c(j)}else c([])},v=B=>{t.taggedProducts.find(N=>N.id===B.id)||r(N=>({...N,taggedProducts:[...N.taggedProducts,B]})),s(!1),o(""),c([])},w=B=>{r(N=>({...N,taggedProducts:N.taggedProducts.filter(j=>j.id!==B)}))},_=async()=>{if(!t.title.trim()&&!t.files.length){alert("Please add a title or media to your post");return}d(!0),f(10);try{let B=[];if(t.files.length>0){const C=localStorage.getItem("userId")||"user123";f(20),B=await b(t.files,C),f(85)}const N={title:t.title.trim(),description:t.description.trim(),hashtags:t.hashtags,taggedProducts:t.taggedProducts.map(C=>C.id),mediaUrls:B},j=await y(N);f(100),setTimeout(()=>{alert("Post created successfully!"),r({title:"",description:"",hashtags:"",taggedProducts:[],mediaType:null,files:[]}),d(!1),f(0)},500)}catch(B){console.error("Upload failed:",B),d(!1),f(0),alert(`Failed to create post: ${B.message}`)}};return a.jsxs("div",{className:"max-w-lg mx-auto bg-white border border-gray-200 rounded-xl shadow-sm",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-black",children:"Create Post"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Share your thoughts, products, or experiences"})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),a.jsx("input",{type:"text",placeholder:"Give your post a catchy title...",value:t.title,onChange:B=>r(N=>({...N,title:B.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent text-gray-900 placeholder-gray-500",maxLength:100}),a.jsxs("div",{className:"text-xs text-gray-400 text-right mt-1",children:[t.title.length,"/100"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{placeholder:"Tell your story, share details, add context...",value:t.description,onChange:B=>r(N=>({...N,description:B.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-black focus:border-transparent text-gray-900 placeholder-gray-500",rows:4,maxLength:1e3}),a.jsxs("div",{className:"text-xs text-gray-400 text-right mt-1",children:[t.description.length,"/1000"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hashtags"}),a.jsx("input",{type:"text",placeholder:"#fashion #lifestyle #trending #sale #newdrop",value:t.hashtags,onChange:B=>r(N=>({...N,hashtags:B.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent text-gray-900 placeholder-gray-500"})]}),a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:t.files.length===0?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(K0,{className:"h-8 w-8 text-gray-400"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Upload images or video to make your post stand out"}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsxs("label",{className:"bg-black text-white px-4 py-2 rounded-lg cursor-pointer hover:bg-gray-800 transition-colors text-sm flex items-center gap-2",children:[a.jsx(p8,{className:"h-4 w-4"}),"Images (Max 5)",a.jsx("input",{ref:h,type:"file",multiple:!0,accept:"image/*",onChange:m,className:"hidden"})]}),a.jsxs("label",{className:"border border-black text-black px-4 py-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors text-sm flex items-center gap-2",children:[a.jsx(wq,{className:"h-4 w-4"}),"Video (30s)",a.jsx("input",{type:"file",accept:"video/*",onChange:m,className:"hidden"})]})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Choose either multiple images OR one video per post"})]}):a.jsx("div",{children:t.mediaType==="video"?a.jsxs("div",{className:"relative",children:[a.jsx("video",{src:URL.createObjectURL(t.files[0]),className:"w-full h-48 object-cover rounded-lg",controls:!0}),a.jsx("button",{onClick:()=>g(0),className:"absolute top-2 right-2 bg-black text-white rounded-full p-1 hover:bg-gray-800",children:a.jsx(hs,{className:"h-4 w-4"})}),a.jsxs("div",{className:"absolute bottom-2 left-2 bg-black text-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[a.jsx($s,{className:"h-3 w-3"}),"Video"]})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.files.map((B,N)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:URL.createObjectURL(B),alt:`Upload ${N+1}`,className:"w-full h-32 object-cover rounded-lg"}),a.jsx("button",{onClick:()=>g(N),className:"absolute top-1 right-1 bg-black text-white rounded-full p-1 hover:bg-gray-800",children:a.jsx(hs,{className:"h-3 w-3"})})]},N)),t.files.length<5&&a.jsxs("label",{className:"h-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400 transition-colors",children:[a.jsx(Eo,{className:"h-6 w-6 text-gray-400"}),a.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:m,className:"hidden"})]})]})})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tag Products"}),a.jsx("button",{onClick:()=>s(!n),className:"text-black hover:bg-gray-100 p-1 rounded transition-colors",children:a.jsx(Ku,{className:"h-4 w-4"})})]}),t.taggedProducts.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:t.taggedProducts.map(B=>a.jsxs("div",{className:"bg-gray-100 border border-gray-200 rounded-lg p-2 flex items-center gap-2 text-sm",children:[a.jsx("img",{src:B.image,alt:B.name,className:"w-6 h-6 rounded"}),a.jsx("span",{className:"text-gray-700",children:B.name}),a.jsx("button",{onClick:()=>w(B.id),className:"text-gray-500 hover:text-red-500 ml-1",children:a.jsx(hs,{className:"h-3 w-3"})})]},B.id))}),n&&a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ja,{className:"absolute left-3 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search products to tag...",value:i,onChange:B=>x(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent text-gray-900"})]}),l.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg mt-1 shadow-lg z-10 max-h-48 overflow-y-auto",children:l.map(B=>a.jsxs("button",{onClick:()=>v(B),className:"w-full p-3 flex items-center gap-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-0",children:[a.jsx("img",{src:B.image,alt:B.name,className:"w-10 h-10 rounded-lg object-cover"}),a.jsxs("div",{className:"text-left flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900 text-sm",children:B.name}),a.jsx("p",{className:"text-xs text-gray-600",children:B.price})]})]},B.id))})]})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50 rounded-b-xl",children:u?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Uploading post..."}),a.jsxs("span",{className:"text-black font-medium",children:[A,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-black h-2 rounded-full transition-all duration-300",style:{width:`${A}%`}})})]}):a.jsx("button",{onClick:_,disabled:!t.title.trim()&&!t.files.length,className:"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed font-medium",children:"Share Post"})})]})},Axe=({isOpen:t,onClose:r,postId:n,commentCount:s,onCommentAdded:i})=>{var I,O;const[o,l]=te.useState([]),[c,u]=te.useState(!1),[d,A]=te.useState(null),[f,h]=te.useState(1),[p,m]=te.useState(!0),[g,b]=te.useState(""),[y,x]=te.useState(null),[v,w]=te.useState({}),[_,B]=te.useState(!1),[N,j]=te.useState(null),[C,E]=te.useState(!1),S=te.useRef(null),k=te.useRef(null),P="http://localhost:10000";te.useEffect(()=>{n!==N&&n&&(console.log("Post changed from",N,"to",n),l([]),h(1),m(!0),A(null),b(""),x(null),w({}),E(!1),j(n),t&&H(1,n))},[n,N,t]),te.useEffect(()=>{t&&n&&n===N&&!C&&!c&&H(1,n)},[t,n,N,C,c]);const M=()=>(localStorage.getItem("token"),{"Content-Type":"application/json"}),H=async(R=1,U=n)=>{var T;if(U)try{u(!0),A(null),console.log("Loading comments for post:",U,"page:",R);const z=await fetch(`${P}/api/posts/${U}/comments?page=${R}&limit=20`,{credentials:"include",headers:M()});if(console.log("Comments response status:",z.status),!z.ok){const ee=await z.text();throw console.error("Comments API error:",z.status,ee),new Error(`Failed to load comments (${z.status})`)}const G=await z.json();console.log("Comments data:",G);const J=(G.comments||[]).map(ee=>({...ee,replyCount:ee.replyCount||0,replies:[],repliesLoaded:!1}));(U===N||U===n)&&(R===1?(l(J),E(!0)):l(ee=>[...ee,...J]),m(((T=G.pagination)==null?void 0:T.hasMore)||!1),h(R)),u(!1)}catch(z){console.error("Failed to load comments:",z),(U===N||U===n)&&A(z.message),u(!1)}},F=async R=>{try{console.log("=== LOADING REPLIES DEBUG ==="),console.log("Comment ID:",R),console.log("Current Post ID:",N),l(G=>G.map(J=>J._id===R?{...J,repliesLoading:!0,repliesError:!1}:J));const U=await fetch(`${P}/api/posts/comments/${R}/replies?page=1&limit=10`,{headers:M()});if(console.log(`Response status: ${U.status}`),!U.ok){const G=await U.text();throw console.log(`❌ Failed to load replies. Status: ${U.status}, Error: ${G}`),new Error(`Failed to load replies (${U.status}): ${G}`)}const T=await U.json();console.log("Raw API Response:",T);const z=T.replies||[];console.log("Processed replies:",z),console.log("Number of replies found:",z.length),l(G=>G.map(J=>J._id===R?{...J,replies:z,repliesLoaded:!0,repliesLoading:!1,repliesError:!1,replyCount:z.length>0?z.length:J.replyCount}:J)),w(G=>({...G,[R]:!0})),console.log("=== REPLIES LOADED SUCCESSFULLY ===")}catch(U){console.error("=== FAILED TO LOAD REPLIES ==="),console.error("Error details:",U),l(T=>T.map(z=>z._id===R?{...z,repliesError:!0,repliesLoaded:!0,repliesLoading:!1,errorMessage:U.message}:z)),w(T=>({...T,[R]:!0}))}},Q=async()=>{if(!(!g.trim()||_||!N))try{B(!0),console.log("Submitting comment:",{postId:N,text:g,parentComment:y});const R=await fetch(`${P}/api/posts/${N}/comment`,{method:"POST",headers:M(),body:JSON.stringify({text:g.trim(),parentComment:y})});if(console.log("Comment submit response status:",R.status),!R.ok){const T=await R.text();throw console.error("Comment submit error:",R.status,T),new Error("Failed to add comment")}const U=await R.json();if(console.log("Comment submit success:",U),y){l(z=>z.map(G=>G._id===y?{...G,replyCount:(G.replyCount||0)+1,replies:G.repliesLoaded?[U.comment,...G.replies||[]]:[],repliesLoaded:G.repliesLoaded||!1}:G));const T=o.find(z=>z._id===y);T&&T.repliesLoaded&&w(z=>({...z,[y]:!0}))}else l(T=>[U.comment,...T]);b(""),x(null),B(!1),i&&i(),!y&&k.current&&k.current.scrollIntoView({behavior:"smooth"})}catch(R){console.error("Failed to submit comment:",R),B(!1)}},K=async(R,U=!1,T=null)=>{try{const z=await fetch(`${P}/api/posts/comments/${R}/like`,{method:"POST",headers:M()});if(!z.ok)throw new Error("Failed to like comment");const G=await z.json();l(U&&T?J=>J.map(ee=>{var fe;return ee._id===T?{...ee,replies:(fe=ee.replies)==null?void 0:fe.map(de=>de._id===R?{...de,isLiked:G.liked,likes:G.liked?(de.likes||0)+1:Math.max(0,(de.likes||0)-1)}:de)}:ee}):J=>J.map(ee=>ee._id===R?{...ee,isLiked:G.liked,likes:G.liked?(ee.likes||0)+1:Math.max(0,(ee.likes||0)-1)}:ee))}catch(z){console.error("Failed to like comment:",z)}},Y=R=>{const T=Math.floor((new Date-new Date(R))/1e3);return T<60?`${T}s`:T<3600?`${Math.floor(T/60)}m`:T<86400?`${Math.floor(T/3600)}h`:T<604800?`${Math.floor(T/86400)}d`:`${Math.floor(T/604800)}w`},V=({comment:R,isReply:U=!1,parentId:T=null})=>{var z,G,J;return a.jsxs("div",{className:`flex gap-3 ${U?"ml-8 mt-3":"mb-4"}`,children:[a.jsx("img",{src:((z=R.userId)==null?void 0:z.profilePicture)||"",alt:(G=R.userId)==null?void 0:G.username,className:"w-8 h-8 rounded-full object-cover"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-xl rounded-2xl px-4 py-3 border border-gray-800/50",children:[a.jsx("div",{className:"font-semibold text-sm text-white",children:(J=R.userId)==null?void 0:J.username}),a.jsx("div",{className:"text-sm text-gray-200 mt-1 break-words",children:R.text})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 px-2",children:[a.jsx("span",{className:"text-xs text-gray-400",children:Y(R.createdAt)}),a.jsxs("button",{onClick:()=>K(R._id,U,T),className:`flex items-center gap-1 text-xs font-medium transition-colors ${R.isLiked?"text-red-400":"text-gray-400 hover:text-white"}`,children:[a.jsx(pA,{className:`w-3 h-3 ${R.isLiked?"fill-current":""}`}),(R.likes||0)>0&&R.likes]}),!U&&a.jsx("button",{onClick:()=>{var ee;x(R._id),(ee=S.current)==null||ee.focus()},className:"text-xs font-medium text-gray-400 hover:text-white transition-colors",children:"Reply"})]}),!U&&(R.replyCount||0)>0&&a.jsx("div",{className:"mt-3 pl-2",children:v[R._id]?a.jsx("div",{children:R.repliesError?a.jsxs("div",{className:"text-center py-2",children:[a.jsxs("p",{className:"text-red-400 text-xs mb-2",children:["Failed to load replies",R.errorMessage&&a.jsxs("span",{className:"block text-gray-500",children:["(",R.errorMessage,")"]})]}),a.jsx("button",{onClick:()=>{l(ee=>ee.map(fe=>fe._id===R._id?{...fe,repliesError:!1,repliesLoaded:!1,repliesLoading:!1,errorMessage:null}:fe)),w(ee=>({...ee,[R._id]:!1})),F(R._id)},className:"text-gray-300 hover:text-gray-100 text-xs font-semibold",children:"Retry"})]}):R.replies&&R.replies.length>0?a.jsxs("div",{children:[R.replies.map(ee=>a.jsx(V,{comment:ee,isReply:!0,parentId:R._id},ee._id)),a.jsx("button",{onClick:()=>w(ee=>({...ee,[R._id]:!1})),className:"text-xs font-medium text-gray-400 hover:text-white transition-colors mt-2",children:"Hide replies"})]}):R.repliesLoaded?a.jsx("div",{className:"text-gray-500 text-xs py-2",children:"No replies found"}):a.jsx("div",{className:"flex justify-center py-2",children:a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400"})})}):a.jsx("button",{onClick:()=>F(R._id),disabled:R.repliesLoading,className:"text-xs font-medium text-gray-400 hover:text-white transition-colors disabled:opacity-50",children:R.repliesLoading?"Loading...":`View ${R.replyCount} ${R.replyCount===1?"reply":"replies"}`})})]})]})};return t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-40",onClick:r}),a.jsxs("div",{className:"fixed top-0 right-0 h-full w-[30%] min-w-[400px] bg-black/95 backdrop-blur-xl border-l border-gray-800/50 z-50 flex flex-col shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-800/50",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Comments (",s,")"]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(hs,{className:"w-5 h-5 text-gray-300"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[c&&o.length===0?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):d?a.jsxs("div",{className:"text-center py-8",children:[a.jsxs("p",{className:"text-red-400 mb-4",children:["Failed to load comments: ",d]}),a.jsx("button",{onClick:()=>H(1),className:"text-gray-300 hover:text-gray-100 font-semibold",children:"Retry"})]}):o.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:"💬"}),a.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"No comments yet"}),a.jsx("p",{className:"text-gray-400",children:"Be the first to comment!"})]}):a.jsxs(a.Fragment,{children:[o.map(R=>a.jsx(V,{comment:R},R._id)),p&&a.jsx("div",{className:"text-center py-4",children:a.jsx("button",{onClick:()=>H(f+1),disabled:c,className:"text-gray-300 hover:text-gray-100 font-semibold disabled:opacity-50",children:c?"Loading...":"Load more comments"})})]}),a.jsx("div",{ref:k})]}),a.jsxs("div",{className:"border-t border-gray-800/50 p-4",children:[y&&a.jsxs("div",{className:"mb-3 p-3 bg-gray-900/50 rounded-xl flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-gray-300",children:["Replying to"," ",(O=(I=o.find(R=>R._id===y))==null?void 0:I.userId)==null?void 0:O.username]}),a.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-200",children:a.jsx(hs,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex gap-3 items-end",children:[a.jsx("img",{src:"",alt:"Your profile",className:"w-8 h-8 rounded-full object-cover"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{ref:S,value:g,onChange:R=>b(R.target.value),placeholder:y?"Write a reply...":"Add a comment...",className:"w-full px-4 py-3 bg-gray-900/50 backdrop-blur-xl border border-gray-700 rounded-2xl resize-none focus:ring-2 focus:ring-white/20 focus:border-transparent text-sm text-white placeholder-gray-400",rows:2,maxLength:2200,onKeyDown:R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),Q())}}),a.jsxs("div",{className:"flex items-center justify-between mt-2 px-1",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:[g.length,"/2200"]}),a.jsxs("button",{onClick:Q,disabled:!g.trim()||_,className:"flex items-center gap-2 bg-white text-black px-4 py-2 rounded-full hover:bg-gray-200 transition-colors disabled:bg-gray-700 disabled:text-gray-400 disabled:cursor-not-allowed text-sm font-medium",children:[_?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black"}):a.jsx(h1,{className:"w-4 h-4"}),y?"Reply":"Post"]})]})]})]})]})]})]}):null},fxe=()=>{var G;const[t,r]=te.useState([]),[n,s]=te.useState(!0),[i,o]=te.useState(null),[l,c]=te.useState(1),[u,d]=te.useState(!0),[A,f]=te.useState(!1),[h,p]=te.useState(null),[m,g]=te.useState({}),[b,y]=te.useState({}),[x,v]=te.useState({}),[w,_]=te.useState({}),[B,N]=te.useState({}),j=te.useRef({}),C="http://localhost:10000";te.useEffect(()=>{S()},[]);const E=()=>(localStorage.getItem("token"),{"Content-Type":"application/json"}),S=async()=>{var J;try{s(!0),o(null);const ee=await fetch(`${C}/api/posts/feed?page=${l}&limit=10`,{credentials:"include",headers:E()});if(!ee.ok)throw new Error("Failed to fetch posts");const fe=await ee.json();r(l===1?fe.posts||[]:de=>[...de,...fe.posts||[]]),d(((J=fe.pagination)==null?void 0:J.hasMore)||!1),s(!1)}catch(ee){console.error("Failed to load posts:",ee),o(ee.message),s(!1)}},k=async J=>{try{r(de=>de.map(ae=>ae._id===J?{...ae,isLiked:!ae.isLiked,likes:ae.isLiked?ae.likes-1:ae.likes+1}:ae));const ee=await fetch(`${C}/api/posts/${J}/like`,{method:"POST",headers:E()});if(!ee.ok)throw new Error("Failed to like post");const fe=await ee.json();r(de=>de.map(ae=>ae._id===J?{...ae,isLiked:fe.liked}:ae))}catch(ee){console.error("Failed to like post:",ee),r(fe=>fe.map(de=>de._id===J?{...de,isLiked:!de.isLiked,likes:de.isLiked?de.likes+1:de.likes-1}:de))}},P=async J=>{try{r(ee=>ee.map(fe=>fe._id===J._id?{...fe,shares:fe.shares+1}:fe)),navigator.share?await navigator.share({title:J.title,text:J.description,url:`${window.location.origin}/post/${J._id}`}):await navigator.clipboard.writeText(`${window.location.origin}/post/${J._id}`)}catch(ee){console.error("Failed to share post:",ee),r(fe=>fe.map(de=>de._id===J._id?{...de,shares:de.shares-1}:de))}},M=J=>{const ee=j.current[J];ee&&(ee.muted=!ee.muted)},H=J=>{const ee=j.current[J];ee&&(ee.paused?(ee.play(),_(fe=>({...fe,[J]:!0}))):(ee.pause(),_(fe=>({...fe,[J]:!1}))))},F=J=>{p(J),f(!0)},Q=()=>{r(J=>J.map(ee=>ee._id===h?{...ee,comments:ee.comments+1}:ee))},K=(J,ee)=>{const fe=t.find(de=>de._id===J);!fe||fe.mediaUrls.length<=1||N(de=>{const ae=de[J]||0,xe=fe.mediaUrls.length-1;return ee==="next"&&ae<xe?{...de,[J]:ae+1}:ee==="prev"&&ae>0?{...de,[J]:ae-1}:de})},Y=J=>J>=1e6?`${(J/1e6).toFixed(1)}M`:J>=1e3?`${(J/1e3).toFixed(1)}K`:J.toString(),V=J=>{const fe=Math.floor((new Date-new Date(J))/1e3);return fe<60?`${fe}s`:fe<3600?`${Math.floor(fe/60)}m`:fe<86400?`${Math.floor(fe/3600)}h`:`${Math.floor(fe/86400)}d`},I=J=>{window.open(`/product/${J._id}`,"_blank")},O=J=>{g(ee=>({...ee,[J]:!1})),y(ee=>{const fe={...ee};return delete fe[J],fe})},R=J=>{g(ee=>({...ee,[J]:!1})),y(ee=>({...ee,[J]:!0}))},U=J=>{g(ee=>({...ee,[J]:!0}))},T=J=>{y(fe=>{const de={...fe};return delete de[J],de}),g(fe=>({...fe,[J]:!0}));const ee=j.current[J];ee&&ee.load()},z=async()=>{var J;if(!(n||!u))try{const ee=l+1,fe=await fetch(`${C}/api/posts/feed?page=${ee}&limit=10`,{headers:E()});if(fe.ok){const de=await fe.json();r(ae=>[...ae,...de.posts||[]]),d(((J=de.pagination)==null?void 0:J.hasMore)||!1),c(ee)}}catch(ee){console.error("Failed to load more posts:",ee)}};return n&&t.length===0?a.jsx("div",{className:"h-screen bg-black flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-gray-400 mx-auto"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-white font-bold text-lg tracking-wider",children:"AIO"})})]}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Loading your feed..."})]})}):i?a.jsxs("div",{className:"h-screen bg-black flex flex-col items-center justify-center text-white",children:[a.jsx("div",{className:"text-6xl mb-6 text-gray-600",children:"⚠️"}),a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-400 mb-8 text-center max-w-md",children:i}),a.jsx("button",{onClick:()=>{c(1),S()},className:"bg-white text-black px-8 py-3 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Try Again"})]}):t.length===0?a.jsxs("div",{className:"h-screen bg-black flex flex-col items-center justify-center text-white",children:[a.jsx("div",{className:"text-8xl mb-8 text-gray-600",children:"📱"}),a.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"No posts yet"}),a.jsx("p",{className:"text-gray-400 mb-8 text-center max-w-md",children:"Be the first to share something amazing on AIO!"}),a.jsx("button",{onClick:()=>window.location.href="/create-post",className:"bg-white text-black px-8 py-3 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Create Post"})]}):a.jsxs("div",{className:"min-h-screen bg-black",children:[a.jsx("nav",{className:"sticky top-0 z-30 bg-black/90 backdrop-blur-xl border-b border-gray-800/50",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-3 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-white tracking-wider",children:"AIO"}),a.jsxs("div",{className:"hidden md:flex space-x-6",children:[a.jsx("button",{className:"text-sm font-medium text-white",children:"Following"}),a.jsx("button",{className:"text-sm font-medium text-gray-400 hover:text-white transition-colors",children:"For You"})]})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("button",{className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(Vl,{className:"w-5 h-5 text-white"})})})]})}),a.jsxs("div",{className:"max-w-lg mx-auto pb-20",children:[t.map(J=>{var ee,fe,de,ae,xe,X,ie;return a.jsxs("div",{className:"bg-black border-b border-gray-800/30 mb-6",children:[a.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:((ee=J.user)==null?void 0:ee.profilePicture)||"",alt:(fe=J.user)==null?void 0:fe.username,className:"w-8 h-8 rounded-full object-cover ring-1 ring-gray-700"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"font-semibold text-white text-sm",children:(de=J.user)==null?void 0:de.username}),a.jsx("span",{className:"text-gray-500 text-xs",children:"•"}),a.jsx("span",{className:"text-gray-500 text-xs",children:V(J.createdAt)})]}),J.views&&a.jsxs("p",{className:"text-xs text-gray-400 flex items-center mt-0.5",children:[a.jsx(Zn,{className:"w-2.5 h-2.5 mr-1"}),Y(J.views)," views"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{className:"p-2 hover:bg-white/5 rounded-full transition-colors",children:a.jsx(b8,{className:"w-4 h-4 text-white"})}),a.jsx("button",{className:"p-2 hover:bg-white/5 rounded-full transition-colors",children:a.jsx(dq,{className:"w-4 h-4 text-white"})})]})]}),(J.title||J.description||J.hashtags&&J.hashtags.length>0)&&a.jsxs("div",{className:"px-4 pb-3",children:[J.title&&a.jsx("h2",{className:"text-sm font-medium text-white mb-1",children:J.title}),J.description&&a.jsx("p",{className:"text-sm text-white mb-2",children:J.description}),J.hashtags&&J.hashtags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:J.hashtags.map((re,ve)=>a.jsxs("span",{className:"text-blue-400 text-sm",children:["#",re]},ve))})]}),a.jsxs("div",{className:"relative bg-black",children:[(m[J._id]||b[J._id])&&a.jsx("div",{className:"absolute inset-0 bg-gray-900 flex items-center justify-center z-20",children:b[J._id]?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"⚠️"}),a.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Failed to load media"}),a.jsxs("button",{onClick:()=>T(J._id),className:"flex items-center gap-2 bg-white text-black px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors mx-auto",children:[a.jsx(v8,{className:"w-4 h-4"}),"Retry"]})]}):a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Loading..."})]})}),J.mediaType==="video"?a.jsxs("div",{className:"relative w-full aspect-square",children:[a.jsx("video",{ref:re=>{re&&(j.current[J._id]=re)},src:J.mediaUrls[0],className:"w-full h-full object-cover",loop:!0,muted:!0,playsInline:!0,onLoadStart:()=>U(J._id),onLoadedData:()=>O(J._id),onError:()=>R(J._id),onCanPlay:()=>O(J._id)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:a.jsx("button",{onClick:()=>H(J._id),className:"bg-black/50 backdrop-blur-sm rounded-full p-4 hover:bg-black/70 transition-colors",children:w[J._id]?a.jsx(U5,{className:"w-8 h-8 text-white"}):a.jsx(R5,{className:"w-8 h-8 text-white ml-1"})})}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("button",{onClick:()=>M(J._id),className:"bg-black/50 backdrop-blur-sm rounded-full p-2 hover:bg-black/70 transition-colors",children:((ae=j.current[J._id])==null?void 0:ae.muted)!==!1?a.jsx(Nq,{className:"w-5 h-5 text-white"}):a.jsx(jq,{className:"w-5 h-5 text-white"})})})]}):((xe=J.mediaUrls)==null?void 0:xe.length)===1?a.jsx("div",{className:"relative w-full aspect-square",children:a.jsx("img",{src:J.mediaUrls[0],alt:J.title,className:"w-full h-full object-cover",onLoad:()=>O(J._id),onError:()=>R(J._id)})}):a.jsxs("div",{className:"relative w-full aspect-square",children:[a.jsx("div",{className:"w-full h-full overflow-hidden",children:a.jsx("div",{className:"flex h-full transition-transform duration-300",style:{transform:`translateX(-${(B[J._id]||0)*100}%)`},children:(X=J.mediaUrls)==null?void 0:X.map((re,ve)=>a.jsx("div",{className:"w-full h-full flex-shrink-0",children:a.jsx("img",{src:re,alt:`${J.title} - ${ve+1}`,className:"w-full h-full object-cover",onLoad:()=>O(J._id),onError:()=>R(J._id)})},ve))})}),((ie=J.mediaUrls)==null?void 0:ie.length)>1&&a.jsxs(a.Fragment,{children:[(B[J._id]||0)>0&&a.jsx("button",{onClick:()=>K(J._id,"prev"),className:"absolute left-3 top-1/2 transform -translate-y-1/2 bg-black/60 backdrop-blur-sm rounded-full p-2 hover:bg-black/80 transition-colors z-10",children:a.jsx(km,{className:"w-5 h-5 text-white"})}),(B[J._id]||0)<J.mediaUrls.length-1&&a.jsx("button",{onClick:()=>K(J._id,"next"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 bg-black/60 backdrop-blur-sm rounded-full p-2 hover:bg-black/80 transition-colors z-10",children:a.jsx(Ru,{className:"w-5 h-5 text-white"})}),a.jsx("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex space-x-1.5 z-10",children:J.mediaUrls.map((re,ve)=>a.jsx("button",{onClick:()=>N(ke=>({...ke,[J._id]:ve})),className:`w-1.5 h-1.5 rounded-full transition-all ${ve===(B[J._id]||0)?"bg-white":"bg-white/50"}`},ve))}),a.jsx("div",{className:"absolute top-3 right-3 bg-black/60 backdrop-blur-sm rounded-full px-2 py-1 z-10",children:a.jsxs("span",{className:"text-white text-xs font-medium",children:[(B[J._id]||0)+1,"/",J.mediaUrls.length]})})]})]})]}),a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>k(J._id),className:"group",children:a.jsx(pA,{className:`w-6 h-6 transition-all group-hover:scale-110 group-active:scale-95 ${J.isLiked?"text-red-500 fill-red-500":"text-white group-hover:text-red-400"}`})}),a.jsx("button",{onClick:()=>F(J._id),className:"group",children:a.jsx(yh,{className:"w-6 h-6 text-white group-hover:scale-110 group-active:scale-95 transition-transform"})}),a.jsx("button",{onClick:()=>P(J),className:"group",children:a.jsx(xh,{className:"w-6 h-6 text-white group-hover:scale-110 group-active:scale-95 transition-transform"})})]}),a.jsx("button",{className:"group",children:a.jsx(WW,{className:"w-6 h-6 text-white group-hover:scale-110 group-active:scale-95 transition-transform"})})]}),a.jsxs("div",{className:"space-y-1",children:[J.likes&&J.likes>0&&a.jsxs("p",{className:"text-white font-semibold text-sm",children:[Y(J.likes)," ",J.likes===1?"like":"likes"]}),J.comments&&J.comments>0&&a.jsxs("button",{onClick:()=>F(J._id),className:"text-gray-400 text-sm hover:text-white transition-colors block",children:["View all ",Y(J.comments)," comments"]})]}),J.taggedProducts&&J.taggedProducts.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("button",{onClick:()=>v(re=>({...re,[J._id]:!re[J._id]})),className:"flex items-center space-x-2 bg-gray-900/30 backdrop-blur-sm rounded-lg px-3 py-2 hover:bg-gray-800/30 transition-colors border border-gray-700/30",children:[a.jsx(ol,{className:"w-4 h-4 text-white"}),a.jsxs("span",{className:"text-white text-sm font-medium",children:[J.taggedProducts.length," Product",J.taggedProducts.length>1?"s":""]})]}),x[J._id]&&a.jsx("div",{className:"mt-3 space-y-2",children:J.taggedProducts.map(re=>a.jsx("button",{onClick:()=>I(re),className:"w-full bg-gray-900/30 backdrop-blur-sm rounded-lg p-3 border border-gray-700/30 hover:bg-gray-800/30 transition-colors text-left",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:re.image,alt:re.name,className:"w-10 h-10 rounded-lg object-cover"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white font-medium text-sm",children:re.name}),a.jsx("p",{className:"text-gray-300 font-semibold text-sm",children:re.price})]})]})},re._id))})]})]})]},J._id)}),u&&a.jsx("div",{className:"p-4 text-center",children:a.jsx("button",{onClick:z,disabled:n,className:"bg-gray-900/50 backdrop-blur-xl text-white px-6 py-3 rounded-xl hover:bg-gray-800/50 transition-colors border border-gray-700/50 disabled:opacity-50",children:n?"Loading...":"Load more posts"})})]}),a.jsx(Axe,{isOpen:A,onClose:()=>f(!1),postId:h,commentCount:((G=t.find(J=>J._id===h))==null?void 0:G.comments)||0,onCommentAdded:Q})]})},hxe=(t,r)=>{const[n,s]=te.useState(t);return te.useEffect(()=>{const i=setTimeout(()=>{s(t)},r);return()=>{clearTimeout(i)}},[t,r]),n},pxe=(t,r={})=>{const n=te.useRef(null);return te.useEffect(()=>{const s=new IntersectionObserver(t,{threshold:.1,rootMargin:"100px",...r}),i=n.current;return i&&s.observe(i),()=>{i&&s.unobserve(i)}},[t,r]),n},mxe=()=>{var U;const[t]=oN(),r=al(),[n,s]=te.useState([]),[i,o]=te.useState(!0),[l,c]=te.useState(!1),[u,d]=te.useState(""),[A,f]=te.useState([]),[h,p]=te.useState(1),[m,g]=te.useState(0),[b,y]=te.useState(!0),x=20,[v,w]=te.useState({search:"",category:"",subcategory:"",childCategory:"",priceRange:{min:"",max:""},stock:"",rating:"",shipping:"",condition:"",warrantyMonths:""});te.useState(!1);const[_,B]=te.useState(!1),N=te.useRef(!1),[j,C]=te.useState(null),[E,S]=te.useState(!1),k=hxe(v,_?300:0),P=A.find(T=>T.name===v.category);(U=((P==null?void 0:P.subcategories)||[]).find(T=>T.name===v.subcategory))!=null&&U.childCategories,te.useEffect(()=>{if(N.current)return;const T=t.get("search"),z=t.get("category");console.log("=== INITIALIZING FROM URL ==="),console.log("Current URL:",r.pathname+r.search),console.log("Search from URL:",T),console.log("Category from URL:",z),console.log("All URL params:",Object.fromEntries(t.entries()));const G={search:T||"",category:z||"",subcategory:"",childCategory:"",priceRange:{min:"",max:""},stock:"",rating:"",shipping:"",condition:"",warrantyMonths:""};console.log("Setting initial filters:",G),w(G),N.current=!0,H(G,1,!1).then(()=>{B(!0)})},[]);const H=async(T={},z=1,G=!1)=>{var J,ee;try{G?c(!0):(o(!0),s([])),d(""),console.log("Fetching products with filters:",T,"Page:",z);const fe={search:T.search||"",category:T.category||"",subcategory:T.subcategory||"",childCategory:T.childCategory||"",minPrice:((J=T.priceRange)==null?void 0:J.min)||"",maxPrice:((ee=T.priceRange)==null?void 0:ee.max)||"",stock:T.stock||"",rating:T.rating||"",shipping:T.shipping||"",condition:T.condition||"",warrantyMonths:T.warrantyMonths||"",page:z,limit:x},de=await fetch("http://localhost:10000/api/products/sale-listing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(fe)});if(de.ok){const ae=await de.json();console.log("Products fetched:",ae.products.length,"items","Total:",ae.total),s(G?xe=>[...xe,...ae.products]:ae.products),g(ae.total),y(ae.products.length===x&&ae.hasMore),p(z)}else d("Failed to fetch products"),console.error("API Error:",de.status,de.statusText)}catch(fe){console.error("Error fetching products:",fe),d("Network error. Please try again.")}finally{o(!1),c(!1)}},F=te.useCallback(()=>{if(!l&&b&&!i){const T=h+1;H(k,T,!0)}},[l,b,i,h,k]),Q=pxe(te.useCallback(T=>{const[z]=T;z.isIntersecting&&F()},[F]));te.useEffect(()=>{_&&N.current&&(console.log("Filter changed after initialization:",k),p(1),H(k,1,!1))},[k,_]);const K=async()=>{try{const T=await fetch("http://localhost:10000/api/categories");if(!T.ok)throw new Error("Failed to fetch categories");const z=await T.json();f(z)}catch(T){console.error("Error loading categories:",T)}};te.useEffect(()=>{K(),Y()},[]);const Y=async()=>{try{const T=await fetch("http://localhost:10000/api/flash-deals/current");if(T.ok){const z=await T.json();z.success&&(C(z.data),S(!0))}else S(!1)}catch(T){console.error("Error fetching flash deal:",T),S(!1)}};te.useCallback((T,z)=>{w(G=>{const J={...G,[T]:z};return T==="category"?(J.subcategory="",J.childCategory=""):T==="subcategory"&&(J.childCategory=""),J})},[]),te.useCallback(T=>{w(z=>({...z,...T}))},[]);const V=te.useCallback(()=>{w({search:"",category:"",subcategory:"",childCategory:"",priceRange:{min:"",max:""},stock:"",rating:"",shipping:"",condition:"",warrantyMonths:""})},[]),I=!!(v.search||v.category||v.subcategory||v.childCategory||v.priceRange.min||v.priceRange.max||v.stock||v.rating||v.shipping||v.condition||v.warrantyMonths);[v.search,v.category,v.subcategory,v.childCategory,v.priceRange.min,v.priceRange.max,v.stock,v.rating,v.shipping,v.condition,v.warrantyMonths].filter(Boolean).length;const R=(()=>{if(!j)return null;const{timeRemaining:T,saleStatus:z}=j;return z==="upcoming"?{saleStartsInHours:T.hours,saleStartsInMinutes:T.minutes,saleStartsInSeconds:T.seconds,saleEndsInHours:0,saleEndsInMinutes:0,saleEndsInSeconds:0,timerLabel:j.timerLabel}:{saleStartsInHours:0,saleStartsInMinutes:0,saleStartsInSeconds:0,saleEndsInHours:T.hours,saleEndsInMinutes:T.minutes,saleEndsInSeconds:T.seconds,timerLabel:"Sale Ends In:"}})();return n.length>0,n.length,a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E&&j&&R&&a.jsx("section",{className:"py-0 bg-white",children:a.jsx(C8,{...R,saleName:j.saleName,saleSubtitle:j.saleSubtitle,discountText:j.discountText,buttonText:j.buttonText,backgroundColor:j.backgroundColor,backgroundImage:j.backgroundImage,textColor:j.textColor,accentColor:j.accentColor,heroImage:j.heroImage,showHeroImage:j.showHeroImage,onPage:!0})}),n&&a.jsx(LN,{items:n,loading:i,error:u,type:"product"}),!i&&n.length>0&&a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:b?a.jsx("div",{ref:Q,className:"flex flex-col items-center justify-center py-12 space-y-6",children:l?a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-black rounded-full animate-spin"}),a.jsx("div",{className:"absolute inset-0 w-12 h-12 border-4 border-transparent border-r-gray-400 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 font-medium",children:"Loading more products..."}),a.jsx("p",{className:"text-sm text-gray-400",children:"Finding the perfect items for you"})]})]}):a.jsxs("button",{onClick:F,className:"group relative overflow-hidden bg-gradient-to-r from-gray-900 to-black text-white px-8 py-4 rounded-full font-semibold text-lg shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-out",children:[a.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[a.jsx("span",{children:"Load More Products"}),a.jsx(Em,{className:"w-5 h-5 group-hover:animate-bounce"})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black to-gray-800 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-black rounded-full flex items-center justify-center shadow-lg",children:a.jsx(yA,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"You've seen it all! ✨"}),a.jsx("p",{className:"text-gray-600 max-w-md",children:"That's every product we have matching your criteria. Try adjusting your filters to discover more amazing items."})]})]})}),!i&&n.length===0&&!u&&a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center mx-auto shadow-lg",children:a.jsx(Ja,{className:"w-12 h-12 text-gray-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No products found"}),a.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-6",children:"We couldn't find any products matching your search criteria. Try adjusting your filters or search terms."}),I&&a.jsxs("button",{onClick:V,className:"inline-flex items-center space-x-2 bg-black text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-800 transition-colors",children:[a.jsx(hs,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear All Filters"})]})]})]})})]})},jd={mobile:768,tablet:1024,desktop:1024},J1=()=>{const[t,r]=te.useState({width:typeof window<"u"?window.innerWidth:0,height:typeof window<"u"?window.innerHeight:0}),[n,s]=te.useState("desktop"),[i,o]=te.useState(!1),[l,c]=te.useState(!1),[u,d]=te.useState(!0),A=te.useCallback(()=>{const y=window.innerWidth,x=window.innerHeight;r({width:y,height:x}),y<jd.mobile?(s("mobile"),o(!0),c(!1),d(!1)):y<jd.tablet?(s("tablet"),o(!1),c(!0),d(!1)):(s("desktop"),o(!1),c(!1),d(!0))},[]);te.useEffect(()=>{A();let y;const x=()=>{clearTimeout(y),y=setTimeout(A,150)};return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x),clearTimeout(y)}},[A]);const f=te.useCallback(y=>{switch(y){case"mobile":return t.width<jd.mobile;case"tablet":return t.width>=jd.mobile&&t.width<jd.tablet;case"desktop":return t.width>=jd.desktop;default:return!1}},[t.width]),h=te.useCallback((y,x,v)=>i?y:l?x:v,[i,l]),p=te.useCallback(()=>"ontouchstart"in window||navigator.maxTouchPoints>0,[]),m=te.useCallback(()=>i?"100%":l?"320px":"360px",[i,l]),g=te.useCallback(()=>"chat-responsive-container",[]),b=te.useCallback(()=>i?"chat-list-mobile":l?"chat-list-tablet":"chat-list-desktop",[i,l]);return{windowSize:t,deviceType:n,isMobile:i,isTablet:l,isDesktop:u,isScreenSize:f,getResponsiveValue:h,isTouchDevice:p,getChatListWidth:m,getChatLayoutClasses:g,getChatListClasses:b,breakpoints:jd}},gxe=()=>{const[t,r]=te.useState(!1),{isMobile:n}=J1(),s=te.useCallback(()=>{n&&(r(!0),document.body.style.overflow="hidden")},[n]),i=te.useCallback(()=>{r(!1),document.body.style.overflow="unset"},[]),o=te.useCallback(()=>{t?i():s()},[t,s,i]);return te.useEffect(()=>{!n&&t&&i()},[n,t,i]),te.useEffect(()=>()=>{document.body.style.overflow="unset"},[]),{isOpen:t,openChatList:s,closeChatList:i,toggleChatList:o,isMobile:n}},aT=({chats:t,selectedChat:r,onSelectChat:n,userRole:s,onSearch:i,isOpen:o=!1,onClose:l=()=>{},onToggle:c=()=>{}})=>{const[u,d]=te.useState(""),{isMobile:A,isTablet:f,getChatListClasses:h,isTouchDevice:p}=J1(),m=te.useRef(null),g=t.filter(B=>{var N,j,C,E;return((j=(N=B.otherParticipant)==null?void 0:N.name)==null?void 0:j.toLowerCase().includes(u.toLowerCase()))||((E=(C=B.lastMessage)==null?void 0:C.content)==null?void 0:E.toLowerCase().includes(u.toLowerCase()))}),b=B=>{var N;if(!B)return"No messages yet";switch(B.messageType){case"image":return"📷 Photo";case"receipt":return"🧾 Receipt";case"system":return"⚙️ System message";default:return((N=B.content)==null?void 0:N.length)>50?B.content.substring(0,50)+"...":B.content}},y=B=>{const N=new Date,j=new Date(B);return(N-j)/(1e3*60*60)<24?j.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):j.toLocaleDateString("en-US",{month:"short",day:"numeric"})},x=B=>{B.target===B.currentTarget&&l()},v=B=>{n(B),A&&l()},w=h(),_=p();return a.jsxs(a.Fragment,{children:[A&&a.jsx("div",{className:`chat-list-backdrop ${o?"active":""}`,onClick:x}),a.jsxs("div",{ref:m,className:`${w} ${A&&o?"open":""} ${_?"mobile-scroll prevent-bounce":""}`,children:[A&&a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200/60 bg-white",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:s==="customer"?"Your Chats":"Customer Messages"}),a.jsx("button",{onClick:l,className:"touch-target mobile-menu-button","aria-label":"Close chat list",children:a.jsx(hs,{className:"w-6 h-6 text-gray-600"})})]}),a.jsxs("div",{className:`p-4 border-b border-gray-200/60 bg-gradient-to-r from-white via-gray-50/50 to-white ${A?"pt-2":""}`,children:[!A&&a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight",children:s==="customer"?"Your Chats":"Customer Messages"}),a.jsxs("div",{className:"relative group",children:[a.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 transition-colors duration-200 group-focus-within:text-gray-600"}),a.jsx("input",{type:"text",placeholder:"Search conversations...",value:u,onChange:B=>d(B.target.value),className:`w-full pl-10 pr-4 ${A?"py-3 text-base":"py-3"} border border-gray-300/60 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-300 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white hover:border-gray-400/80 placeholder:text-gray-500`,style:A?{fontSize:"16px"}:{},"aria-label":"Search conversations"})]})]}),a.jsxs("div",{className:"chat-list-scroll-container chat-list-scrollbar",children:[g.map(B=>{var E,S,k,P,M,H;const N=_?"chat-item-touch":"p-4",j=_?"":"hover:scale-105",C=(r==null?void 0:r._id)===B._id?"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200/60 shadow-sm":"";return a.jsx("div",{onClick:()=>v(B),className:`${N} border-b border-gray-100/60 cursor-pointer hover:bg-gray-50/70 transition-all duration-300 ${j} group ${C}`,role:"button",tabIndex:0,"aria-label":`Chat with ${(E=B.otherParticipant)==null?void 0:E.name}`,onKeyDown:F=>{(F.key==="Enter"||F.key===" ")&&(F.preventDefault(),v(B))},children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:((S=B.otherParticipant)==null?void 0:S.profileImage)||W0,alt:(k=B.otherParticipant)==null?void 0:k.name,className:`${A?"w-14 h-14":"w-12 h-12"} rounded-full object-cover border-2 border-gray-200/50 shadow-sm group-hover:shadow-md transition-all duration-300 group-hover:border-gray-300`,loading:"lazy"}),((P=B.otherParticipant)==null?void 0:P.isOnline)&&a.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 ${A?"w-4 h-4":"w-3.5 h-3.5"} bg-emerald-400 rounded-full border-2 border-white shadow-lg animate-pulse`})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:`${A?"text-base":"text-sm"} font-semibold text-gray-900 truncate group-hover:text-gray-800 transition-colors duration-200`,children:(M=B.otherParticipant)==null?void 0:M.name}),a.jsx("span",{className:`${A?"text-sm":"text-xs"} text-gray-500 font-medium`,children:y(((H=B.lastMessage)==null?void 0:H.timestamp)||B.updatedAt)})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-sm text-gray-600 truncate leading-relaxed",children:b(B.lastMessage)}),B.unreadCount>0&&a.jsx("span",{className:`ml-2 bg-gradient-to-r from-red-500 to-red-600 text-white ${A?"text-sm px-3 py-1.5":"text-xs px-2.5 py-1"} font-bold rounded-full text-center shadow-lg animate-pulse border border-red-400 min-w-6`,children:B.unreadCount>99?"99+":B.unreadCount})]}),s==="store_owner"&&B.taggedProduct&&a.jsxs("div",{className:`flex items-center mt-2 ${A?"text-sm":"text-xs"} text-blue-600 bg-blue-50 rounded-lg px-2 py-1 border border-blue-200/50`,children:[a.jsx(ol,{className:`${A?"w-4 h-4":"w-3 h-3"} mr-1.5 flex-shrink-0`}),a.jsx("span",{className:"truncate font-medium",children:B.taggedProduct.productName})]}),s==="service_provider"&&B.taggedService&&a.jsxs("div",{className:`flex items-center mt-2 ${A?"text-sm":"text-xs"} text-purple-600 bg-purple-50 rounded-lg px-2 py-1 border border-purple-200/50`,children:[a.jsx($s,{className:`${A?"w-4 h-4":"w-3 h-3"} mr-1.5 flex-shrink-0`}),a.jsx("span",{className:"truncate font-medium",children:B.taggedService.serviceName})]})]})]})},B._id)}),g.length===0&&a.jsxs("div",{className:`${A?"p-6":"p-8"} text-center text-gray-500 animate-in fade-in duration-500`,children:[a.jsx("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 p-4 rounded-2xl inline-block mb-4 shadow-sm",children:a.jsx(mA,{className:`${A?"h-16 w-16":"h-12 w-12"} text-gray-400`})}),a.jsx("p",{className:`${A?"text-base":"text-sm"} font-medium text-gray-600`,children:"No conversations found"}),a.jsx("p",{className:`${A?"text-sm":"text-xs"} text-gray-500 mt-1`,children:"Start a new conversation to see it here"})]})]})]})]})},yxe=({customer:t,chat:r,onCallCustomer:n,onEmailCustomer:s})=>{const i=Hs();if(!t)return null;const o=(l,c)=>{console.log(l,c),l==="product"?c._id?i(`/product/${c._id}`):c.productUrl&&window.open(c.productUrl,"_blank"):l==="service"&&(c._id?i(`/services/${c._id}`):c.serviceUrl&&window.open(c.serviceUrl,"_blank"))};return a.jsxs("div",{className:"p-4 bg-gradient-to-r from-white to-gray-50 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:t.profileImage||W0,alt:t.name,className:"w-15 h-15 rounded-full object-cover cursor-pointer hover:opacity-80 transition-opacity"}),t.isOnline&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 cursor-pointer hover:text-blue-600 transition-colors",children:t.name}),t.isVIP&&a.jsx(Wr,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Wl,{className:"w-4 h-4"}),a.jsx("span",{className:"cursor-pointer hover:text-blue-600 transition-colors",children:t.email})]}),t.phone&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(cd,{className:"w-4 h-4"}),a.jsx("span",{className:"cursor-pointer hover:text-blue-600 transition-colors",children:t.phone})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(A8,{className:`w-2 h-2 rounded-full ${t.isOnline?"bg-green-500":"bg-gray-400"}`}),a.jsx("span",{children:t.isOnline?"Online":"Offline"})]})]})]})]}),(r==null?void 0:r.taggedProduct)&&a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ol,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Inquiring about: ",r.taggedProduct.productName]})]}),r.taggedProduct.productId&&a.jsxs("button",{onClick:()=>o("product",r.taggedProduct.productId),className:"flex items-center space-x-1 text-xs text-blue-600 hover:text-blue-800 transition-colors",children:[a.jsx("span",{children:"View Product Details"}),a.jsx(I5,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"mt-2 space-y-1",children:[r.taggedProduct.price&&a.jsxs("div",{className:"text-sm text-gray-600",children:["Price:"," ",a.jsx("span",{className:"font-medium text-blue-700",children:r.taggedProduct.price})]}),r.taggedProduct.category&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Category: ",r.taggedProduct.category]})]})]}),(r==null?void 0:r.taggedService)&&a.jsxs("div",{className:"mt-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Bq,{className:"w-4 h-4 text-purple-600"}),a.jsxs("span",{className:"text-sm font-medium text-purple-800",children:["Inquiring about:"," ",r.taggedService.serviceName||r.taggedService.productName]})]}),r.taggedService.serviceId&&a.jsxs("button",{onClick:()=>o("service",r.taggedService.serviceId),className:"flex items-center space-x-1 text-xs text-purple-600 hover:text-purple-800 transition-colors",children:[a.jsx("span",{children:"View Service Details"}),a.jsx(I5,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"mt-2 space-y-1",children:[r.taggedService.price&&a.jsxs("div",{className:"text-sm text-gray-600",children:["Price:"," ",a.jsx("span",{className:"font-medium text-purple-700",children:r.taggedService.price})]}),r.taggedService.category&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Category: ",r.taggedService.category]}),r.taggedService.duration&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Duration: ",r.taggedService.duration]})]})]}),t.tags&&t.tags.length>0&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:t.tags.map((l,c)=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:l},c))})]})},Ty=20,xxe=100,vxe=(t,r)=>{const[n,s]=te.useState([]),[i,o]=te.useState(!1),[l,c]=te.useState(!1),[u,d]=te.useState(!0),[A,f]=te.useState(null),[h,p]=te.useState(0),[m,g]=te.useState(1),[b,y]=te.useState(null),x=te.useRef(new Set),v=te.useRef(new Set),w=te.useRef(null);te.useEffect(()=>{t!==w.current&&(s([]),g(1),d(!0),y(null),p(0),x.current.clear(),v.current.clear(),w.current=t,f(null))},[t]);const _=te.useCallback(async()=>{var k;if(!t||i)return null;try{o(!0),f(null);const P=await fetch(`${r}/api/chat/${t}?page=1&limit=${Ty}`,{credentials:"include"});if(!P.ok)throw new Error("Failed to load messages");const M=await P.json(),H=M.chat,F=H.messages||[];return x.current.clear(),F.forEach(Q=>{Q._id&&x.current.add(Q._id)}),s(F),p(((k=M.pagination)==null?void 0:k.total)||F.length),d(F.length===Ty),F.length>0&&y(F[0]._id),v.current.add(1),H}catch(P){throw f(P.message),P}finally{o(!1)}},[t,r,i]),B=te.useCallback(async()=>{var k;if(!(!t||!u||l||!b))try{c(!0);const P=m+1;if(v.current.has(P)){c(!1);return}const M=await fetch(`${r}/api/chat/${t}?page=${P}&limit=${Ty}&before=${b}`,{credentials:"include"});if(!M.ok)throw new Error("Failed to load more messages");const Q=(((k=(await M.json()).chat)==null?void 0:k.messages)||[]).filter(K=>K._id&&!x.current.has(K._id));Q.length>0&&(Q.forEach(K=>{x.current.add(K._id)}),s(K=>[...Q,...K]),y(Q[0]._id),g(P),v.current.add(P)),d(Q.length===Ty)}catch(P){f(P.message)}finally{c(!1)}},[t,r,u,l,b,m]),N=te.useCallback(k=>{!(k!=null&&k._id)||x.current.has(k._id)||(x.current.add(k._id),s(P=>[...P,k]),p(P=>P+1))},[]),j=te.useCallback(k=>{x.current.delete(k),s(P=>P.filter(M=>M._id!==k)),p(P=>Math.max(0,P-1))},[]),C=te.useCallback((k,P)=>{s(M=>M.map(H=>H._id===k?{...H,...P}:H))},[]),E=te.useCallback(k=>()=>{if(!k.current||l||!u)return;const{scrollTop:P}=k.current;P<=xxe&&B()},[B,l,u]),S=te.useCallback(()=>{s([]),g(1),d(!0),y(null),p(0),x.current.clear(),v.current.clear(),f(null)},[]);return{messages:n,isLoading:i,isLoadingMore:l,hasMore:u,error:A,totalMessages:h,currentPage:m,loadInitialMessages:_,loadMoreMessages:B,addMessage:N,removeMessage:j,updateMessage:C,clearMessages:S,getScrollHandler:E,messageCount:n.length,loadedPages:Array.from(v.current)}},oT=({chat:t,user:r,onSendMessage:n,onTyping:s,onMarkAsRead:i,messages:o=[],typingUsers:l=[]})=>{var V,I,O,R,U,T,z;const[c,u]=te.useState(""),[d,A]=te.useState(!1),[f,h]=te.useState(!1),[p,m]=te.useState(!0),g=te.useRef(null),b=te.useRef(null),y=te.useRef(null),x="http://localhost:10000";m1();const{isMobile:v,isTablet:w,isTouchDevice:_}=J1(),{messages:B,isLoading:N,isLoadingMore:j,hasMore:C,error:E,loadInitialMessages:S,loadMoreMessages:k,addMessage:P}=vxe(t==null?void 0:t._id,x),M=te.useCallback(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[]),H=te.useCallback(()=>{if(!b.current)return;const G=b.current,{scrollTop:J,scrollHeight:ee,clientHeight:fe}=G,ae=ee-J-fe<100;m(ae),h(!ae),J<=100&&C&&!j&&k()},[C,j,k]);te.useEffect(()=>{t!=null&&t._id&&S()},[t==null?void 0:t._id,S]),te.useEffect(()=>{o.length>B.length&&o.slice(B.length).forEach(J=>{P(J)})},[o,B.length,P]),te.useEffect(()=>{p&&B.length>0&&setTimeout(M,100)},[B.length,p,M]),te.useEffect(()=>{t&&i&&r&&(console.log("🔔 Chat opened, marking as read:",t._id),i(t._id))},[t==null?void 0:t._id,i,r]);const F=async G=>{if(G.preventDefault(),!(!c.trim()||!t))try{await n(t._id,c.trim()),u(""),A(!1)}catch(J){console.error("Failed to send message:",J)}},Q=G=>{u(G),!d&&G.trim()&&(A(!0),s==null||s(t._id,!0)),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{A(!1),s==null||s(t._id,!1)},1e3)},K=G=>new Date(G).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),Y=Array.isArray(l)?l.filter(G=>(G==null?void 0:G.chatId)===(t==null?void 0:t._id)):[];return t?r?a.jsxs("div",{className:"chat-interface-layout bg-white",children:[a.jsxs("div",{className:`border-b border-gray-200/60 ${v?"p-3":"p-4"} bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white relative overflow-hidden`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/5 to-transparent opacity-50"}),a.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:((V=t.otherParticipant)==null?void 0:V.profileImage)||W0,alt:((I=t.otherParticipant)==null?void 0:I.name)||"User",className:`${v?"w-12 h-12":"w-11 h-11"} rounded-full object-cover border-2 border-white/20 shadow-lg ring-2 ring-white/10`,loading:"lazy"}),((O=t.otherParticipant)==null?void 0:O.isOnline)&&a.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 ${v?"w-4 h-4":"w-3.5 h-3.5"} bg-emerald-400 rounded-full border-2 border-white shadow-lg animate-pulse`})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`${v?"text-base":"text-sm"} font-semibold leading-tight`,children:((R=t.otherParticipant)==null?void 0:R.name)||"Unknown User"}),a.jsxs("p",{className:`${v?"text-sm":"text-xs"} text-gray-300 font-medium mt-0.5 flex items-center`,children:[a.jsx("div",{className:`w-2 h-2 rounded-full mr-2 transition-all duration-300 ${(U=t.otherParticipant)!=null&&U.isOnline?"bg-emerald-400 shadow-sm shadow-emerald-400/50":"bg-gray-500"}`}),(T=t.otherParticipant)!=null&&T.isOnline?"Online":"Offline"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{className:`${v?"touch-target":"p-2.5"} hover:bg-white/20 rounded-xl transition-all duration-300 ${v?"":"hover:scale-105 active:scale-95"}`,"aria-label":"Start call",children:a.jsx(cd,{className:`${v?"w-6 h-6":"w-5 h-5"}`})}),a.jsx("button",{className:`${v?"touch-target":"p-2.5"} hover:bg-white/20 rounded-xl transition-all duration-300 ${v?"":"hover:scale-105 active:scale-95"}`,"aria-label":"More options",children:a.jsx(y8,{className:`${v?"w-6 h-6":"w-5 h-5"}`})})]})]}),t.taggedProduct&&a.jsx("div",{className:`${v?"mt-2 p-2":"mt-3 p-3"} bg-white/10 rounded-xl backdrop-blur-sm border border-white/20`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ol,{className:`${v?"w-5 h-5":"w-4 h-4"} text-white/80`}),a.jsxs("span",{className:`${v?"text-sm":"text-xs"} font-medium`,children:["Product: ",t.taggedProduct.productName]})]})}),t.taggedService&&a.jsx("div",{className:`${v?"mt-2 p-2":"mt-3 p-3"} bg-white/10 rounded-xl backdrop-blur-sm border border-white/20`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx($s,{className:`${v?"w-5 h-5":"w-4 h-4"} text-white/80`}),a.jsxs("span",{className:`${v?"text-sm":"text-xs"} font-medium`,children:["Service: ",t.taggedService.serviceName]})]})})]}),a.jsx("div",{className:"chat-messages-container bg-gradient-to-b from-gray-50/30 to-white/50",children:N&&B.length===0?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-500"}),a.jsx("span",{children:"Loading messages..."})]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{ref:b,className:`chat-message-list chat-scrollbar ${_()?"mobile-scroll prevent-bounce":""}`,onScroll:H,style:{height:v?"calc(100vh - 200px)":w?"calc(100vh - 240px)":"calc(100vh - 280px)",padding:v?"12px":"16px",gap:v?"12px":"16px"},children:[j&&a.jsx("div",{className:`flex justify-center ${v?"py-3":"py-2"}`,children:a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx("div",{className:`animate-spin rounded-full ${v?"h-5 w-5":"h-4 w-4"} border-b-2 border-gray-500`}),a.jsx("span",{className:`${v?"text-base":"text-sm"}`,children:"Loading older messages..."})]})}),B.map(G=>{var de;if(!G||!G._id)return console.warn("Invalid message object:",G),null;const J=((de=G.sender)==null?void 0:de._id)||G.senderId||"unknown",ee=(r==null?void 0:r._id)||(r==null?void 0:r.id),fe=J===ee;return a.jsx("div",{className:`flex ${fe?"justify-end":"justify-start"} group ${v?"mb-3":"mb-4"}`,children:a.jsxs("div",{className:`${v?"max-w-[85%]":"max-w-xs lg:max-w-md"} px-4 py-3 rounded-2xl shadow-sm transition-all duration-300 ${v?"":"hover:shadow-md hover:scale-[1.02]"} ${fe?"bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white shadow-gray-900/20":"bg-gradient-to-br from-white via-gray-50/50 to-white border border-gray-200/50 shadow-gray-200/40"}`,children:[G.messageType==="image"&&G.file&&a.jsxs("div",{className:"relative group/image mb-2",children:[a.jsx("img",{src:G.file.url,alt:"Uploaded",className:"max-w-full h-auto rounded-xl cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-lg",onClick:()=>window.open(G.file.url,"_blank"),loading:"lazy"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover/image:bg-black/20 rounded-xl transition-all duration-300 flex items-center justify-center backdrop-blur-0 group-hover/image:backdrop-blur-sm"})]}),G.messageType==="receipt"&&G.receipt&&a.jsxs("div",{className:"p-4 border rounded-xl mb-2 bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(V0,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"font-semibold text-green-800",children:"Order Receipt"})]}),a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Order:"})," ",G.receipt.orderId]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Amount:"})," $",G.receipt.amount]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"})," ",a.jsx("span",{className:"capitalize",children:G.receipt.status})]})]})]}),a.jsx("p",{className:`${v?"text-base":"text-sm"} leading-relaxed break-words`,children:G.content||"No content"}),a.jsxs("p",{className:`${v?"text-sm":"text-xs"} mt-2 flex items-center justify-between ${fe?"text-gray-300":"text-gray-500"}`,children:[a.jsx("span",{children:G.createdAt?K(G.createdAt):"No timestamp"}),fe&&a.jsx("div",{className:`flex items-center space-x-1 ${v?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-opacity duration-200`,children:a.jsx(V0,{className:`${v?"w-4 h-4":"w-3 h-3"} text-green-400`})})]})]})},G._id)}).filter(Boolean)," ",Y.length>0&&a.jsx("div",{className:"flex justify-start animate-in slide-in-from-left-2 duration-300",children:a.jsx("div",{className:"bg-gradient-to-br from-gray-100 via-gray-50 to-gray-100 px-5 py-3 rounded-2xl border border-gray-200/60 shadow-lg backdrop-blur-sm",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce shadow-sm"}),a.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce shadow-sm",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce shadow-sm",style:{animationDelay:"0.2s"}})]}),a.jsxs("span",{className:"text-xs text-gray-600 font-medium",children:[((z=Y[0])==null?void 0:z.userName)||"Someone"," is typing..."]})]})})}),a.jsx("div",{ref:g})]}),f&&a.jsx("button",{onClick:M,className:`absolute ${v?"bottom-24 right-4 p-4":"bottom-20 right-6 p-3"} bg-gray-900 text-white rounded-full shadow-lg hover:bg-gray-800 transition-all duration-300 z-10 ${v?"":"hover:scale-105"} touch-target`,"aria-label":"Scroll to bottom",children:a.jsx("svg",{className:`${v?"w-6 h-6":"w-5 h-5"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]})}),a.jsx("div",{className:`chat-input-area ${v?"p-4 pb-6":"p-4"} bg-gradient-to-r from-white via-gray-50/30 to-white ${v?"border-t-2":"border-t"} border-gray-200/60`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{type:"button",className:`${v?"touch-target":"p-2.5"} text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300 ${v?"":"hover:scale-105 active:scale-95"}`,"aria-label":"Attach file",children:a.jsx(ON,{className:`${v?"w-6 h-6":"w-5 h-5"} transition-transform duration-200 hover:rotate-12`})}),a.jsx("input",{type:"text",value:c,onChange:G=>Q(G.target.value),onKeyPress:G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),F(G))},placeholder:"Type your message...",className:`flex-1 ${v?"px-4 py-4 text-base":"px-4 py-3"} border border-gray-300/60 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-300 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white hover:border-gray-400/80 placeholder:text-gray-500`,style:v?{fontSize:"16px"}:{},"aria-label":"Type your message"}),a.jsx("button",{onClick:F,disabled:!c.trim(),className:`${v?"p-4 touch-target":"p-3"} bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white rounded-xl hover:from-black hover:via-gray-900 hover:to-gray-800 transition-all duration-300 disabled:opacity-50 shadow-lg hover:shadow-xl ${v?"":"hover:scale-105 active:scale-95"} disabled:hover:scale-100`,"aria-label":"Send message",children:a.jsx(h1,{className:`${v?"w-6 h-6":"w-5 h-5"} transition-transform duration-200 hover:translate-x-0.5`})})]})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(mA,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading..."}),a.jsx("p",{className:"text-gray-500",children:"Please wait while we load your chat"})]})}):a.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(mA,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Chat Selected"}),a.jsx("p",{className:"text-gray-500",children:"Choose a conversation to start messaging"})]})})},bxe=({onInsertText:t})=>{const r=[{text:"Thanks for your inquiry!",icon:"👋"},{text:"Let me check that for you",icon:"🔍"},{text:"This is available",icon:"✅"},{text:"Here's the pricing information",icon:"💰"},{text:"Would you like to place an order?",icon:"🛒"},{text:"I'll get back to you shortly",icon:"⏱️"}];return a.jsxs("div",{className:"w-64 border-l border-gray-200 bg-gray-50 p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsx("div",{className:"space-y-2",children:r.map((n,s)=>a.jsx("button",{onClick:()=>t(n.text),className:"w-full text-left p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:n.icon}),a.jsx("span",{className:"text-sm text-gray-700",children:n.text})]})},s))})]})},wxe=50,jxe=.3,Nxe=500,Sxe=({onSwipeLeft:t=()=>{},onSwipeRight:r=()=>{},onSwipeUp:n=()=>{},onSwipeDown:s=()=>{},onTap:i=()=>{},onLongPress:o=()=>{},onPinch:l=()=>{},disabled:c=!1}={})=>{const[u,d]=te.useState(null),[A,f]=te.useState(null),[h,p]=te.useState(!1),[m,g]=te.useState(!1),b=te.useRef(null),y=te.useRef(null),x=te.useRef(null),v=te.useCallback((j,C)=>{const E=j.clientX-C.clientX,S=j.clientY-C.clientY;return Math.sqrt(E*E+S*S)},[]),w=te.useCallback(j=>{if(c)return;const C=j.touches[0],E=j.touches;y.current=Date.now(),f(null),p(!1),E.length===1?(d({x:C.clientX,y:C.clientY,time:y.current}),b.current=setTimeout(()=>{p(!0),o(j)},Nxe)):E.length===2&&(g(!0),x.current=v(E[0],E[1]),b.current&&(clearTimeout(b.current),b.current=null))},[c,o,v]),_=te.useCallback(j=>{if(c)return;const C=j.touches;if(C.length===1)b.current&&(clearTimeout(b.current),b.current=null);else if(C.length===2&&m){const E=v(C[0],C[1]);if(x.current){const S=E/x.current;l({scale:S,distance:E})}}},[c,m,v,l]),B=te.useCallback(j=>{if(!c&&(b.current&&(clearTimeout(b.current),b.current=null),j.touches.length===0)){g(!1),x.current=null;const C=j.changedTouches[0],E=Date.now();if(f({x:C.clientX,y:C.clientY,time:E}),u&&!h){const S=C.clientX-u.x,k=C.clientY-u.y,P=E-u.time,M=Math.sqrt(S*S+k*k),H=M/P;M>wxe&&H>jxe?Math.abs(S)>Math.abs(k)?S>0?r(j):t(j):k>0?s(j):n(j):M<10&&P<300&&i(j)}d(null),f(null),p(!1)}},[c,u,h,t,r,n,s,i]),N={onTouchStart:w,onTouchMove:_,onTouchEnd:B};return te.useEffect(()=>()=>{b.current&&clearTimeout(b.current)},[]),{touchHandlers:N,touchStart:u,touchEnd:A,isLongPress:h,isPinching:m}},Bxe=(t,r,n)=>{const{touchHandlers:s}=Sxe({onSwipeRight:()=>{n||t()},onSwipeLeft:()=>{n&&r()}});return s},Cxe=()=>{var _,B;const{user:t,loading:r}=On(),n=Hs(),{isMobile:s,isTablet:i,getChatLayoutClasses:o}=J1(),{isOpen:l,openChatList:c,closeChatList:u,toggleChatList:d}=gxe(),A=Bxe(c,u,l),f=te.useMemo(()=>t?{...t,role:t.role==="store_owner"&&t.storeId?"store_owner":"customer"}:null,[t==null?void 0:t.id,t==null?void 0:t.role,t==null?void 0:t.storeId]),h=A3(f),[p,m]=te.useState(null),g=t==null?void 0:t.storeId,b=(t==null?void 0:t.role)==="store_owner"&&g,y=(t==null?void 0:t.role)==="customer";te.useEffect(()=>{},[t==null?void 0:t.id,t==null?void 0:t.role,g,n,r]);const x=async N=>{try{m(N),await h.loadMessages(N._id),await h.markAsRead(N._id)}catch(j){console.error("Failed to load chat:",j)}},v=N=>{h.activeChat&&h.sendMessage(h.activeChat._id,N)},w=te.useCallback((N,j)=>{j?h.startTyping(N):h.stopTyping(N)},[h.startTyping,h.stopTyping]);return r?a.jsx("div",{className:"h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading authentication..."})]})}):t?h.isLoading?a.jsx("div",{className:"h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:b?"Loading customer chats...":"Loading chats..."})]})}):!y&&!b?a.jsx("div",{className:"h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to view this page."}),a.jsx("button",{onClick:()=>n("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Home"})]})}):b?a.jsxs("div",{className:o(),children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 bg-white border-b border-gray-200 p-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[s&&a.jsx("button",{onClick:d,className:"touch-target mobile-menu-button mr-2","aria-label":"Toggle chat list",children:a.jsx(L5,{className:"w-6 h-6 text-gray-600"})}),a.jsx("button",{onClick:()=>n(`/store/${g}`),className:`${s?"touch-target":"p-2"} hover:bg-gray-100 rounded-lg transition-colors`,children:a.jsx(Gl,{className:`${s?"w-6 h-6":"w-5 h-5"}`})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h1",{className:`${s?"text-lg":"text-xl"} font-bold text-gray-900`,children:"Customer Messages"}),!s&&a.jsxs("span",{className:"text-sm text-gray-500",children:["Store ID: ",g]})]})]})})}),a.jsxs("div",{className:"chat-main-content",...s?A:{},children:[a.jsx(aT,{chats:h.conversations,selectedChat:p,onSelectChat:x,userRole:"store_owner",isOpen:l,onClose:u,onToggle:d}),a.jsxs("div",{className:`flex-1 flex flex-col min-h-0 ${s?"w-full":""}`,children:[h.activeChat&&(!s||!l)&&a.jsx(yxe,{customer:h.activeChat.otherParticipant,chat:h.activeChat}),a.jsxs("div",{className:`flex-1 flex min-h-0 overflow-hidden ${s?"flex-col":""}`,children:[(!s||!l)&&a.jsx(oT,{chat:h.activeChat,user:f,onSendMessage:h.sendMessage,onTyping:w,onMarkAsRead:h.markAsRead,messages:h.messages,typingUsers:h.getTypingUsers?h.getTypingUsers((_=h.activeChat)==null?void 0:_._id):[]}),!s&&!l&&a.jsx(bxe,{onInsertText:v})]})]})]})]}):a.jsxs("div",{className:o(),children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 bg-white border-b border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[s&&a.jsx("button",{onClick:d,className:"touch-target mobile-menu-button","aria-label":"Toggle chat list",children:a.jsx(L5,{className:"w-6 h-6 text-gray-600"})}),a.jsx("h1",{className:`${s?"text-lg":"text-xl"} font-bold text-gray-900`,children:"Your Messages"})]}),a.jsx("button",{onClick:()=>n("/"),className:`${s?"text-sm touch-target":"text-sm"} text-gray-600 hover:text-gray-900 transition-colors`,children:s?"Home":"Back to Home"})]})}),a.jsxs("div",{className:"chat-main-content",...s?A:{},children:[a.jsx(aT,{chats:h.conversations,selectedChat:p,onSelectChat:x,userRole:"customer",isOpen:l,onClose:u,onToggle:d}),(!s||!l)&&a.jsx(oT,{chat:h.activeChat,user:f,onSendMessage:h.sendMessage,onTyping:w,onMarkAsRead:h.markAsRead,messages:h.messages,typingUsers:h.getTypingUsers?h.getTypingUsers((B=h.activeChat)==null?void 0:B._id):[]})]})]}):a.jsx("div",{className:"h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to access your messages."}),a.jsx("button",{onClick:()=>n("/login"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go to Login"})]})})};function _xe(){return a.jsx(kq,{children:a.jsx(qG,{children:a.jsx(Eq,{children:a.jsx(_q,{children:a.jsx(YG,{children:a.jsx(R$,{children:a.jsxs(tC,{children:[a.jsx(Rr,{path:"/feed",element:a.jsx(fxe,{})}),a.jsx(Rr,{path:"*",element:a.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[a.jsx(Iq,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Lq,{}),a.jsxs(tC,{children:[a.jsx(Rr,{path:"/",element:a.jsx(Hq,{})}),a.jsx(Rr,{path:"/stores",element:a.jsx(zq,{})}),a.jsx(Rr,{path:"/products",element:a.jsx(qq,{})}),a.jsx(Rr,{path:"/services",element:a.jsx(Zq,{})}),a.jsx(Rr,{path:"/product/:id",element:a.jsx(ZX,{})}),a.jsx(Rr,{path:"/service/:id",element:a.jsx(WZ,{})}),a.jsx(Rr,{path:"/store/:id",element:a.jsx(hee,{})}),a.jsx(Rr,{path:"/cart",element:a.jsx(pee,{})}),a.jsx(Rr,{path:"/booking-summary",element:a.jsx(mee,{})}),a.jsx(Rr,{path:"/checkout",element:a.jsx(gee,{})}),a.jsx(Rr,{path:"/login",element:a.jsx(yee,{})}),a.jsx(Rr,{path:"/register",element:a.jsx(xee,{})}),a.jsx(Rr,{path:"/profile",element:a.jsx(wee,{})}),a.jsx(Rr,{path:"/dashboard",element:a.jsx(Nee,{})}),a.jsx(Rr,{path:"/create-store",element:a.jsx(See,{})}),a.jsx(Rr,{path:"/create-product",element:a.jsx(Dee,{})}),a.jsx(Rr,{path:"/create-service",element:a.jsx(Uee,{})}),a.jsx(Rr,{path:"/manage-products",element:a.jsx(Ree,{})}),a.jsx(Rr,{path:"/manage-services",element:a.jsx(Mee,{})}),a.jsx(Rr,{path:"/orders",element:a.jsx(Qee,{})}),a.jsx(Rr,{path:"/bookings",element:a.jsx($ee,{})}),a.jsx(Rr,{path:"/receipt/:id",element:a.jsx(doe,{})}),a.jsx(Rr,{path:"/store-management",element:a.jsx(foe,{})}),a.jsx(Rr,{path:"/sales-analytics",element:a.jsx(spe,{})}),a.jsx(Rr,{path:"/admin",element:a.jsx(poe,{})}),a.jsx(Rr,{path:"/platform-settings",element:a.jsx(ipe,{})}),a.jsx(Rr,{path:"/help-center",element:a.jsx(ape,{})}),a.jsx(Rr,{path:"/contact-us",element:a.jsx(ope,{})}),a.jsx(Rr,{path:"/privacy-policy",element:a.jsx(Hye,{})}),a.jsx(Rr,{path:"/terms-of-service",element:a.jsx(Vye,{})}),a.jsx(Rr,{path:"/notifications",element:a.jsx($ye,{})}),a.jsx(Rr,{path:"/admin-withdrawals",element:a.jsx(zye,{})}),a.jsx(Rr,{path:"/wallet-dashboard",element:a.jsx(txe,{})}),a.jsx(Rr,{path:"/sub-management",element:a.jsx(nxe,{})}),a.jsx(Rr,{path:"/chats",element:a.jsx(Cxe,{})}),a.jsx(Rr,{path:"/sale",element:a.jsx(mxe,{})}),a.jsx(Rr,{path:"/test",element:a.jsx(uxe,{})}),a.jsx(Rr,{path:"/new-post",element:a.jsx(dxe,{})}),a.jsx(Rr,{path:"/NfcCard",element:a.jsx(sxe,{})}),a.jsx(Rr,{path:"*",element:a.jsx(hoe,{})})]})]}),a.jsx(Pq,{}),a.jsx(Dq,{})]})})]})})})})})})})}bF(document.getElementById("root")).render(a.jsx(te.StrictMode,{children:a.jsx(_xe,{})}));export{_n as _,wl as c,gm as g};
