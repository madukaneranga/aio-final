function $b(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ul(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ug={exports:{}},hl={},hg={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zi=Symbol.for("react.element"),Bb=Symbol.for("react.portal"),Fb=Symbol.for("react.fragment"),Ub=Symbol.for("react.strict_mode"),zb=Symbol.for("react.profiler"),Vb=Symbol.for("react.provider"),Wb=Symbol.for("react.context"),Hb=Symbol.for("react.forward_ref"),qb=Symbol.for("react.suspense"),Gb=Symbol.for("react.memo"),Yb=Symbol.for("react.lazy"),If=Symbol.iterator;function Kb(t){return t===null||typeof t!="object"?null:(t=If&&t[If]||t["@@iterator"],typeof t=="function"?t:null)}var fg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pg=Object.assign,mg={};function Os(t,e,r){this.props=t,this.context=e,this.refs=mg,this.updater=r||fg}Os.prototype.isReactComponent={};Os.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Os.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gg(){}gg.prototype=Os.prototype;function Cu(t,e,r){this.props=t,this.context=e,this.refs=mg,this.updater=r||fg}var Tu=Cu.prototype=new gg;Tu.constructor=Cu;pg(Tu,Os.prototype);Tu.isPureReactComponent=!0;var Pf=Array.isArray,xg=Object.prototype.hasOwnProperty,Iu={current:null},yg={key:!0,ref:!0,__self:!0,__source:!0};function vg(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)xg.call(e,n)&&!yg.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Zi,type:t,key:a,ref:o,props:i,_owner:Iu.current}}function Qb(t,e){return{$$typeof:Zi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zi}function Xb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Of=/\/+/g;function nc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xb(""+t.key):e.toString(36)}function qa(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zi:case Bb:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+nc(o,0):n,Pf(i)?(r="",t!=null&&(r=t.replace(Of,"$&/")+"/"),qa(i,e,r,"",function(d){return d})):i!=null&&(Pu(i)&&(i=Qb(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Of,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Pf(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+nc(a,l);o+=qa(a,e,r,c,i)}else if(c=Kb(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+nc(a,l++),o+=qa(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function va(t,e,r){if(t==null)return t;var n=[],i=0;return qa(t,n,"","",function(a){return e.call(r,a,i++)}),n}function Jb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xe={current:null},Ga={transition:null},Zb={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Ga,ReactCurrentOwner:Iu};function bg(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:va,forEach:function(t,e,r){va(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return va(t,function(){e++}),e},toArray:function(t){return va(t,function(e){return e})||[]},only:function(t){if(!Pu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=Os;ee.Fragment=Fb;ee.Profiler=zb;ee.PureComponent=Cu;ee.StrictMode=Ub;ee.Suspense=qb;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zb;ee.act=bg;ee.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=pg({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Iu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)xg.call(e,c)&&!yg.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Zi,type:t.type,key:i,ref:a,props:n,_owner:o}};ee.createContext=function(t){return t={$$typeof:Wb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Vb,_context:t},t.Consumer=t};ee.createElement=vg;ee.createFactory=function(t){var e=vg.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:Hb,render:t}};ee.isValidElement=Pu;ee.lazy=function(t){return{$$typeof:Yb,_payload:{_status:-1,_result:t},_init:Jb}};ee.memo=function(t,e){return{$$typeof:Gb,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=Ga.transition;Ga.transition={};try{t()}finally{Ga.transition=e}};ee.unstable_act=bg;ee.useCallback=function(t,e){return Xe.current.useCallback(t,e)};ee.useContext=function(t){return Xe.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return Xe.current.useDeferredValue(t)};ee.useEffect=function(t,e){return Xe.current.useEffect(t,e)};ee.useId=function(){return Xe.current.useId()};ee.useImperativeHandle=function(t,e,r){return Xe.current.useImperativeHandle(t,e,r)};ee.useInsertionEffect=function(t,e){return Xe.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return Xe.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return Xe.current.useMemo(t,e)};ee.useReducer=function(t,e,r){return Xe.current.useReducer(t,e,r)};ee.useRef=function(t){return Xe.current.useRef(t)};ee.useState=function(t){return Xe.current.useState(t)};ee.useSyncExternalStore=function(t,e,r){return Xe.current.useSyncExternalStore(t,e,r)};ee.useTransition=function(){return Xe.current.useTransition()};ee.version="18.3.1";hg.exports=ee;var j=hg.exports;const W=ul(j),ew=$b({__proto__:null,default:W},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw=j,rw=Symbol.for("react.element"),nw=Symbol.for("react.fragment"),sw=Object.prototype.hasOwnProperty,iw=tw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aw={key:!0,ref:!0,__self:!0,__source:!0};function wg(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)sw.call(e,n)&&!aw.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:rw,type:t,key:a,ref:o,props:i,_owner:iw.current}}hl.Fragment=nw;hl.jsx=wg;hl.jsxs=wg;ug.exports=hl;var s=ug.exports,jg={exports:{}},gt={},Ng={exports:{}},Sg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,D){var L=A.length;A.push(D);e:for(;0<L;){var K=L-1>>>1,X=A[K];if(0<i(X,D))A[K]=D,A[L]=X,L=K;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var D=A[0],L=A.pop();if(L!==D){A[0]=L;e:for(var K=0,X=A.length,M=X>>>1;K<M;){var O=2*(K+1)-1,z=A[O],H=O+1,Z=A[H];if(0>i(z,L))H<X&&0>i(Z,z)?(A[K]=Z,A[H]=L,K=H):(A[K]=z,A[O]=L,K=O);else if(H<X&&0>i(Z,L))A[K]=Z,A[H]=L,K=H;else break e}}return D}function i(A,D){var L=A.sortIndex-D.sortIndex;return L!==0?L:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,g=!1,x=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(A){for(var D=r(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=A)n(d),D.sortIndex=D.expirationTime,e(c,D);else break;D=r(d)}}function w(A){if(b=!1,y(A),!x)if(r(c)!==null)x=!0,$(N);else{var D=r(d);D!==null&&Y(w,D.startTime-A)}}function N(A,D){x=!1,b&&(b=!1,m(E),E=-1),g=!0;var L=f;try{for(y(D),h=r(c);h!==null&&(!(h.expirationTime>D)||A&&!P());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var X=K(h.expirationTime<=D);D=t.unstable_now(),typeof X=="function"?h.callback=X:h===r(c)&&n(c),y(D)}else n(c);h=r(c)}if(h!==null)var M=!0;else{var O=r(d);O!==null&&Y(w,O.startTime-D),M=!1}return M}finally{h=null,f=L,g=!1}}var _=!1,S=null,E=-1,k=5,T=-1;function P(){return!(t.unstable_now()-T<k)}function I(){if(S!==null){var A=t.unstable_now();T=A;var D=!0;try{D=S(!0,A)}finally{D?C():(_=!1,S=null)}}else _=!1}var C;if(typeof p=="function")C=function(){p(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=I,C=function(){V.postMessage(null)}}else C=function(){v(I,0)};function $(A){S=A,_||(_=!0,C())}function Y(A,D){E=v(function(){A(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,$(N))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var L=f;f=D;try{return A()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var L=f;f=A;try{return D()}finally{f=L}},t.unstable_scheduleCallback=function(A,D,L){var K=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?K+L:K):L=K,A){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=L+X,A={id:u++,callback:D,priorityLevel:A,startTime:L,expirationTime:X,sortIndex:-1},L>K?(A.sortIndex=L,e(d,A),r(c)===null&&A===r(d)&&(b?(m(E),E=-1):b=!0,Y(w,L-K))):(A.sortIndex=X,e(c,A),x||g||(x=!0,$(N))),A},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(A){var D=f;return function(){var L=f;f=D;try{return A.apply(this,arguments)}finally{f=L}}}})(Sg);Ng.exports=Sg;var ow=Ng.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw=j,mt=ow;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kg=new Set,Ni={};function In(t,e){xs(t,e),xs(t+"Capture",e)}function xs(t,e){for(Ni[t]=e,t=0;t<e.length;t++)kg.add(e[t])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rd=Object.prototype.hasOwnProperty,cw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Af={},Rf={};function dw(t){return rd.call(Rf,t)?!0:rd.call(Af,t)?!1:cw.test(t)?Rf[t]=!0:(Af[t]=!0,!1)}function uw(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hw(t,e,r,n){if(e===null||typeof e>"u"||uw(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Je(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Be[t]=new Je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Be[e]=new Je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Be[t]=new Je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Be[t]=new Je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Be[t]=new Je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Be[t]=new Je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Be[t]=new Je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Be[t]=new Je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Be[t]=new Je(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ou=/[\-:]([a-z])/g;function Au(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ou,Au);Be[e]=new Je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ou,Au);Be[e]=new Je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ou,Au);Be[e]=new Je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Be[t]=new Je(t,1,!1,t.toLowerCase(),null,!1,!1)});Be.xlinkHref=new Je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Be[t]=new Je(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ru(t,e,r,n){var i=Be.hasOwnProperty(e)?Be[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hw(e,r,i,n)&&(r=null),n||i===null?dw(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var vr=lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ba=Symbol.for("react.element"),Vn=Symbol.for("react.portal"),Wn=Symbol.for("react.fragment"),Du=Symbol.for("react.strict_mode"),nd=Symbol.for("react.profiler"),_g=Symbol.for("react.provider"),Eg=Symbol.for("react.context"),Lu=Symbol.for("react.forward_ref"),sd=Symbol.for("react.suspense"),id=Symbol.for("react.suspense_list"),Mu=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),Cg=Symbol.for("react.offscreen"),Df=Symbol.iterator;function Vs(t){return t===null||typeof t!="object"?null:(t=Df&&t[Df]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,sc;function ri(t){if(sc===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);sc=e&&e[1]||""}return`
`+sc+t}var ic=!1;function ac(t,e){if(!t||ic)return"";ic=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{ic=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ri(t):""}function fw(t){switch(t.tag){case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 2:case 15:return t=ac(t.type,!1),t;case 11:return t=ac(t.type.render,!1),t;case 1:return t=ac(t.type,!0),t;default:return""}}function ad(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wn:return"Fragment";case Vn:return"Portal";case nd:return"Profiler";case Du:return"StrictMode";case sd:return"Suspense";case id:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Eg:return(t.displayName||"Context")+".Consumer";case _g:return(t._context.displayName||"Context")+".Provider";case Lu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mu:return e=t.displayName||null,e!==null?e:ad(t.type)||"Memo";case Sr:e=t._payload,t=t._init;try{return ad(t(e))}catch{}}return null}function pw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ad(e);case 8:return e===Du?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mw(t){var e=Tg(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wa(t){t._valueTracker||(t._valueTracker=mw(t))}function Ig(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Tg(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function po(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function od(t,e){var r=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Lf(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Qr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pg(t,e){e=e.checked,e!=null&&Ru(t,"checked",e,!1)}function ld(t,e){Pg(t,e);var r=Qr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cd(t,e.type,r):e.hasOwnProperty("defaultValue")&&cd(t,e.type,Qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mf(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function cd(t,e,r){(e!=="number"||po(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ni=Array.isArray;function as(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Qr(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $f(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(B(92));if(ni(r)){if(1<r.length)throw Error(B(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qr(r)}}function Og(t,e){var r=Qr(e.value),n=Qr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Bf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ag(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ud(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ag(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ja,Rg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ja=ja||document.createElement("div"),ja.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ja.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Si(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gw=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(t){gw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),di[e]=di[t]})});function Dg(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||di.hasOwnProperty(t)&&di[t]?(""+e).trim():e+"px"}function Lg(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Dg(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var xw=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hd(t,e){if(e){if(xw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function fd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pd=null;function $u(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var md=null,os=null,ls=null;function Ff(t){if(t=ra(t)){if(typeof md!="function")throw Error(B(280));var e=t.stateNode;e&&(e=xl(e),md(t.stateNode,t.type,e))}}function Mg(t){os?ls?ls.push(t):ls=[t]:os=t}function $g(){if(os){var t=os,e=ls;if(ls=os=null,Ff(t),e)for(t=0;t<e.length;t++)Ff(e[t])}}function Bg(t,e){return t(e)}function Fg(){}var oc=!1;function Ug(t,e,r){if(oc)return t(e,r);oc=!0;try{return Bg(t,e,r)}finally{oc=!1,(os!==null||ls!==null)&&(Fg(),$g())}}function ki(t,e){var r=t.stateNode;if(r===null)return null;var n=xl(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(B(231,e,typeof r));return r}var gd=!1;if(hr)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){gd=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{gd=!1}function yw(t,e,r,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var ui=!1,mo=null,go=!1,xd=null,vw={onError:function(t){ui=!0,mo=t}};function bw(t,e,r,n,i,a,o,l,c){ui=!1,mo=null,yw.apply(vw,arguments)}function ww(t,e,r,n,i,a,o,l,c){if(bw.apply(this,arguments),ui){if(ui){var d=mo;ui=!1,mo=null}else throw Error(B(198));go||(go=!0,xd=d)}}function Pn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function zg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uf(t){if(Pn(t)!==t)throw Error(B(188))}function jw(t){var e=t.alternate;if(!e){if(e=Pn(t),e===null)throw Error(B(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Uf(i),t;if(a===n)return Uf(i),e;a=a.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?t:e}function Vg(t){return t=jw(t),t!==null?Wg(t):null}function Wg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wg(t);if(e!==null)return e;t=t.sibling}return null}var Hg=mt.unstable_scheduleCallback,zf=mt.unstable_cancelCallback,Nw=mt.unstable_shouldYield,Sw=mt.unstable_requestPaint,je=mt.unstable_now,kw=mt.unstable_getCurrentPriorityLevel,Bu=mt.unstable_ImmediatePriority,qg=mt.unstable_UserBlockingPriority,xo=mt.unstable_NormalPriority,_w=mt.unstable_LowPriority,Gg=mt.unstable_IdlePriority,fl=null,Yt=null;function Ew(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(fl,t,void 0,(t.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Iw,Cw=Math.log,Tw=Math.LN2;function Iw(t){return t>>>=0,t===0?32:31-(Cw(t)/Tw|0)|0}var Na=64,Sa=4194304;function si(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yo(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=si(l):(a&=o,a!==0&&(n=si(a)))}else o=r&~i,o!==0?n=si(o):a!==0&&(n=si(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Dt(e),i=1<<r,n|=t[r],e&=~i;return n}function Pw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ow(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Dt(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=Pw(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function yd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yg(){var t=Na;return Na<<=1,!(Na&4194240)&&(Na=64),t}function lc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ea(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dt(e),t[e]=r}function Aw(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Dt(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Fu(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Dt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ie=0;function Kg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qg,Uu,Xg,Jg,Zg,vd=!1,ka=[],Mr=null,$r=null,Br=null,_i=new Map,Ei=new Map,_r=[],Rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vf(t,e){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":_i.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(e.pointerId)}}function Hs(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ra(e),e!==null&&Uu(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Dw(t,e,r,n,i){switch(e){case"focusin":return Mr=Hs(Mr,t,e,r,n,i),!0;case"dragenter":return $r=Hs($r,t,e,r,n,i),!0;case"mouseover":return Br=Hs(Br,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return _i.set(a,Hs(_i.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ei.set(a,Hs(Ei.get(a)||null,t,e,r,n,i)),!0}return!1}function ex(t){var e=fn(t.target);if(e!==null){var r=Pn(e);if(r!==null){if(e=r.tag,e===13){if(e=zg(r),e!==null){t.blockedOn=e,Zg(t.priority,function(){Xg(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ya(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=bd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);pd=n,r.target.dispatchEvent(n),pd=null}else return e=ra(r),e!==null&&Uu(e),t.blockedOn=r,!1;e.shift()}return!0}function Wf(t,e,r){Ya(t)&&r.delete(e)}function Lw(){vd=!1,Mr!==null&&Ya(Mr)&&(Mr=null),$r!==null&&Ya($r)&&($r=null),Br!==null&&Ya(Br)&&(Br=null),_i.forEach(Wf),Ei.forEach(Wf)}function qs(t,e){t.blockedOn===e&&(t.blockedOn=null,vd||(vd=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,Lw)))}function Ci(t){function e(i){return qs(i,t)}if(0<ka.length){qs(ka[0],t);for(var r=1;r<ka.length;r++){var n=ka[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Mr!==null&&qs(Mr,t),$r!==null&&qs($r,t),Br!==null&&qs(Br,t),_i.forEach(e),Ei.forEach(e),r=0;r<_r.length;r++)n=_r[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<_r.length&&(r=_r[0],r.blockedOn===null);)ex(r),r.blockedOn===null&&_r.shift()}var cs=vr.ReactCurrentBatchConfig,vo=!0;function Mw(t,e,r,n){var i=ie,a=cs.transition;cs.transition=null;try{ie=1,zu(t,e,r,n)}finally{ie=i,cs.transition=a}}function $w(t,e,r,n){var i=ie,a=cs.transition;cs.transition=null;try{ie=4,zu(t,e,r,n)}finally{ie=i,cs.transition=a}}function zu(t,e,r,n){if(vo){var i=bd(t,e,r,n);if(i===null)yc(t,e,n,bo,r),Vf(t,n);else if(Dw(i,t,e,r,n))n.stopPropagation();else if(Vf(t,n),e&4&&-1<Rw.indexOf(t)){for(;i!==null;){var a=ra(i);if(a!==null&&Qg(a),a=bd(t,e,r,n),a===null&&yc(t,e,n,bo,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else yc(t,e,n,null,r)}}var bo=null;function bd(t,e,r,n){if(bo=null,t=$u(n),t=fn(t),t!==null)if(e=Pn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=zg(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bo=t,null}function tx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kw()){case Bu:return 1;case qg:return 4;case xo:case _w:return 16;case Gg:return 536870912;default:return 16}default:return 16}}var Ar=null,Vu=null,Ka=null;function rx(){if(Ka)return Ka;var t,e=Vu,r=e.length,n,i="value"in Ar?Ar.value:Ar.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Ka=i.slice(t,1<n?1-n:void 0)}function Qa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _a(){return!0}function Hf(){return!1}function xt(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?_a:Hf,this.isPropagationStopped=Hf,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),e}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=xt(As),ta=xe({},As,{view:0,detail:0}),Bw=xt(ta),cc,dc,Gs,pl=xe({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gs&&(Gs&&t.type==="mousemove"?(cc=t.screenX-Gs.screenX,dc=t.screenY-Gs.screenY):dc=cc=0,Gs=t),cc)},movementY:function(t){return"movementY"in t?t.movementY:dc}}),qf=xt(pl),Fw=xe({},pl,{dataTransfer:0}),Uw=xt(Fw),zw=xe({},ta,{relatedTarget:0}),uc=xt(zw),Vw=xe({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),Ww=xt(Vw),Hw=xe({},As,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qw=xt(Hw),Gw=xe({},As,{data:0}),Gf=xt(Gw),Yw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qw[t])?!!e[t]:!1}function Hu(){return Xw}var Jw=xe({},ta,{key:function(t){if(t.key){var e=Yw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(t){return t.type==="keypress"?Qa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zw=xt(Jw),e1=xe({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yf=xt(e1),t1=xe({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),r1=xt(t1),n1=xe({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),s1=xt(n1),i1=xe({},pl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),a1=xt(i1),o1=[9,13,27,32],qu=hr&&"CompositionEvent"in window,hi=null;hr&&"documentMode"in document&&(hi=document.documentMode);var l1=hr&&"TextEvent"in window&&!hi,nx=hr&&(!qu||hi&&8<hi&&11>=hi),Kf=" ",Qf=!1;function sx(t,e){switch(t){case"keyup":return o1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ix(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hn=!1;function c1(t,e){switch(t){case"compositionend":return ix(e);case"keypress":return e.which!==32?null:(Qf=!0,Kf);case"textInput":return t=e.data,t===Kf&&Qf?null:t;default:return null}}function d1(t,e){if(Hn)return t==="compositionend"||!qu&&sx(t,e)?(t=rx(),Ka=Vu=Ar=null,Hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nx&&e.locale!=="ko"?null:e.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!u1[t.type]:e==="textarea"}function ax(t,e,r,n){Mg(n),e=wo(e,"onChange"),0<e.length&&(r=new Wu("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var fi=null,Ti=null;function h1(t){xx(t,0)}function ml(t){var e=Yn(t);if(Ig(e))return t}function f1(t,e){if(t==="change")return e}var ox=!1;if(hr){var hc;if(hr){var fc="oninput"in document;if(!fc){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),fc=typeof Jf.oninput=="function"}hc=fc}else hc=!1;ox=hc&&(!document.documentMode||9<document.documentMode)}function Zf(){fi&&(fi.detachEvent("onpropertychange",lx),Ti=fi=null)}function lx(t){if(t.propertyName==="value"&&ml(Ti)){var e=[];ax(e,Ti,t,$u(t)),Ug(h1,e)}}function p1(t,e,r){t==="focusin"?(Zf(),fi=e,Ti=r,fi.attachEvent("onpropertychange",lx)):t==="focusout"&&Zf()}function m1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ml(Ti)}function g1(t,e){if(t==="click")return ml(e)}function x1(t,e){if(t==="input"||t==="change")return ml(e)}function y1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mt=typeof Object.is=="function"?Object.is:y1;function Ii(t,e){if(Mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!rd.call(e,i)||!Mt(t[i],e[i]))return!1}return!0}function ep(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tp(t,e){var r=ep(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ep(r)}}function cx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dx(){for(var t=window,e=po();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=po(t.document)}return e}function Gu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function v1(t){var e=dx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&cx(r.ownerDocument.documentElement,r)){if(n!==null&&Gu(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=tp(r,a);var o=tp(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var b1=hr&&"documentMode"in document&&11>=document.documentMode,qn=null,wd=null,pi=null,jd=!1;function rp(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jd||qn==null||qn!==po(n)||(n=qn,"selectionStart"in n&&Gu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pi&&Ii(pi,n)||(pi=n,n=wo(wd,"onSelect"),0<n.length&&(e=new Wu("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=qn)))}function Ea(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Gn={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},pc={},ux={};hr&&(ux=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function gl(t){if(pc[t])return pc[t];if(!Gn[t])return t;var e=Gn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ux)return pc[t]=e[r];return t}var hx=gl("animationend"),fx=gl("animationiteration"),px=gl("animationstart"),mx=gl("transitionend"),gx=new Map,np="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(t,e){gx.set(t,e),In(e,[t])}for(var mc=0;mc<np.length;mc++){var gc=np[mc],w1=gc.toLowerCase(),j1=gc[0].toUpperCase()+gc.slice(1);Zr(w1,"on"+j1)}Zr(hx,"onAnimationEnd");Zr(fx,"onAnimationIteration");Zr(px,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(mx,"onTransitionEnd");xs("onMouseEnter",["mouseout","mouseover"]);xs("onMouseLeave",["mouseout","mouseover"]);xs("onPointerEnter",["pointerout","pointerover"]);xs("onPointerLeave",["pointerout","pointerover"]);In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));In("onBeforeInput",["compositionend","keypress","textInput","paste"]);In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ii));function sp(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ww(n,e,void 0,t),t.currentTarget=null}function xx(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;sp(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;sp(i,l,d),a=c}}}if(go)throw t=xd,go=!1,xd=null,t}function ce(t,e){var r=e[Ed];r===void 0&&(r=e[Ed]=new Set);var n=t+"__bubble";r.has(n)||(yx(e,t,2,!1),r.add(n))}function xc(t,e,r){var n=0;e&&(n|=4),yx(r,t,n,e)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function Pi(t){if(!t[Ca]){t[Ca]=!0,kg.forEach(function(r){r!=="selectionchange"&&(N1.has(r)||xc(r,!1,t),xc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ca]||(e[Ca]=!0,xc("selectionchange",!1,e))}}function yx(t,e,r,n){switch(tx(e)){case 1:var i=Mw;break;case 4:i=$w;break;default:i=zu}r=i.bind(null,e,r,t),i=void 0,!gd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function yc(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=fn(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Ug(function(){var d=a,u=$u(r),h=[];e:{var f=gx.get(t);if(f!==void 0){var g=Wu,x=t;switch(t){case"keypress":if(Qa(r)===0)break e;case"keydown":case"keyup":g=Zw;break;case"focusin":x="focus",g=uc;break;case"focusout":x="blur",g=uc;break;case"beforeblur":case"afterblur":g=uc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Uw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=r1;break;case hx:case fx:case px:g=Ww;break;case mx:g=s1;break;case"scroll":g=Bw;break;case"wheel":g=a1;break;case"copy":case"cut":case"paste":g=qw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Yf}var b=(e&4)!==0,v=!b&&t==="scroll",m=b?f!==null?f+"Capture":null:f;b=[];for(var p=d,y;p!==null;){y=p;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=ki(p,m),w!=null&&b.push(Oi(p,w,y)))),v)break;p=p.return}0<b.length&&(f=new g(f,x,null,r,u),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==pd&&(x=r.relatedTarget||r.fromElement)&&(fn(x)||x[fr]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=r.relatedTarget||r.toElement,g=d,x=x?fn(x):null,x!==null&&(v=Pn(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=d),g!==x)){if(b=qf,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(b=Yf,w="onPointerLeave",m="onPointerEnter",p="pointer"),v=g==null?f:Yn(g),y=x==null?f:Yn(x),f=new b(w,p+"leave",g,r,u),f.target=v,f.relatedTarget=y,w=null,fn(u)===d&&(b=new b(m,p+"enter",x,r,u),b.target=y,b.relatedTarget=v,w=b),v=w,g&&x)t:{for(b=g,m=x,p=0,y=b;y;y=Un(y))p++;for(y=0,w=m;w;w=Un(w))y++;for(;0<p-y;)b=Un(b),p--;for(;0<y-p;)m=Un(m),y--;for(;p--;){if(b===m||m!==null&&b===m.alternate)break t;b=Un(b),m=Un(m)}b=null}else b=null;g!==null&&ip(h,f,g,b,!1),x!==null&&v!==null&&ip(h,v,x,b,!0)}}e:{if(f=d?Yn(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var N=f1;else if(Xf(f))if(ox)N=x1;else{N=m1;var _=p1}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=g1);if(N&&(N=N(t,d))){ax(h,N,r,u);break e}_&&_(t,f,d),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&cd(f,"number",f.value)}switch(_=d?Yn(d):window,t){case"focusin":(Xf(_)||_.contentEditable==="true")&&(qn=_,wd=d,pi=null);break;case"focusout":pi=wd=qn=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,rp(h,r,u);break;case"selectionchange":if(b1)break;case"keydown":case"keyup":rp(h,r,u)}var S;if(qu)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Hn?sx(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(nx&&r.locale!=="ko"&&(Hn||E!=="onCompositionStart"?E==="onCompositionEnd"&&Hn&&(S=rx()):(Ar=u,Vu="value"in Ar?Ar.value:Ar.textContent,Hn=!0)),_=wo(d,E),0<_.length&&(E=new Gf(E,t,null,r,u),h.push({event:E,listeners:_}),S?E.data=S:(S=ix(r),S!==null&&(E.data=S)))),(S=l1?c1(t,r):d1(t,r))&&(d=wo(d,"onBeforeInput"),0<d.length&&(u=new Gf("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=S))}xx(h,e)})}function Oi(t,e,r){return{instance:t,listener:e,currentTarget:r}}function wo(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ki(t,r),a!=null&&n.unshift(Oi(t,a,i)),a=ki(t,e),a!=null&&n.push(Oi(t,a,i))),t=t.return}return n}function Un(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ip(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=ki(r,a),c!=null&&o.unshift(Oi(r,c,l))):i||(c=ki(r,a),c!=null&&o.push(Oi(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var S1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function ap(t){return(typeof t=="string"?t:""+t).replace(S1,`
`).replace(k1,"")}function Ta(t,e,r){if(e=ap(e),ap(t)!==e&&r)throw Error(B(425))}function jo(){}var Nd=null,Sd=null;function kd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _d=typeof setTimeout=="function"?setTimeout:void 0,_1=typeof clearTimeout=="function"?clearTimeout:void 0,op=typeof Promise=="function"?Promise:void 0,E1=typeof queueMicrotask=="function"?queueMicrotask:typeof op<"u"?function(t){return op.resolve(null).then(t).catch(C1)}:_d;function C1(t){setTimeout(function(){throw t})}function vc(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ci(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ci(e)}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Rs,Ai="__reactProps$"+Rs,fr="__reactContainer$"+Rs,Ed="__reactEvents$"+Rs,T1="__reactListeners$"+Rs,I1="__reactHandles$"+Rs;function fn(t){var e=t[Ht];if(e)return e;for(var r=t.parentNode;r;){if(e=r[fr]||r[Ht]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=lp(t);t!==null;){if(r=t[Ht])return r;t=lp(t)}return e}t=r,r=t.parentNode}return null}function ra(t){return t=t[Ht]||t[fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function xl(t){return t[Ai]||null}var Cd=[],Kn=-1;function en(t){return{current:t}}function ue(t){0>Kn||(t.current=Cd[Kn],Cd[Kn]=null,Kn--)}function le(t,e){Kn++,Cd[Kn]=t.current,t.current=e}var Xr={},He=en(Xr),it=en(!1),bn=Xr;function ys(t,e){var r=t.type.contextTypes;if(!r)return Xr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function at(t){return t=t.childContextTypes,t!=null}function No(){ue(it),ue(He)}function cp(t,e,r){if(He.current!==Xr)throw Error(B(168));le(He,e),le(it,r)}function vx(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(B(108,pw(t)||"Unknown",i));return xe({},r,n)}function So(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,bn=He.current,le(He,t),le(it,it.current),!0}function dp(t,e,r){var n=t.stateNode;if(!n)throw Error(B(169));r?(t=vx(t,e,bn),n.__reactInternalMemoizedMergedChildContext=t,ue(it),ue(He),le(He,t)):ue(it),le(it,r)}var ir=null,yl=!1,bc=!1;function bx(t){ir===null?ir=[t]:ir.push(t)}function P1(t){yl=!0,bx(t)}function tn(){if(!bc&&ir!==null){bc=!0;var t=0,e=ie;try{var r=ir;for(ie=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ir=null,yl=!1}catch(i){throw ir!==null&&(ir=ir.slice(t+1)),Hg(Bu,tn),i}finally{ie=e,bc=!1}}return null}var Qn=[],Xn=0,ko=null,_o=0,yt=[],vt=0,wn=null,ar=1,or="";function dn(t,e){Qn[Xn++]=_o,Qn[Xn++]=ko,ko=t,_o=e}function wx(t,e,r){yt[vt++]=ar,yt[vt++]=or,yt[vt++]=wn,wn=t;var n=ar;t=or;var i=32-Dt(n)-1;n&=~(1<<i),r+=1;var a=32-Dt(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ar=1<<32-Dt(e)+i|r<<i|n,or=a+t}else ar=1<<a|r<<i|n,or=t}function Yu(t){t.return!==null&&(dn(t,1),wx(t,1,0))}function Ku(t){for(;t===ko;)ko=Qn[--Xn],Qn[Xn]=null,_o=Qn[--Xn],Qn[Xn]=null;for(;t===wn;)wn=yt[--vt],yt[vt]=null,or=yt[--vt],yt[vt]=null,ar=yt[--vt],yt[vt]=null}var ft=null,ut=null,he=!1,At=null;function jx(t,e){var r=jt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function up(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ft=t,ut=Fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ft=t,ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=wn!==null?{id:ar,overflow:or}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=jt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ft=t,ut=null,!0):!1;default:return!1}}function Td(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Id(t){if(he){var e=ut;if(e){var r=e;if(!up(t,e)){if(Td(t))throw Error(B(418));e=Fr(r.nextSibling);var n=ft;e&&up(t,e)?jx(n,r):(t.flags=t.flags&-4097|2,he=!1,ft=t)}}else{if(Td(t))throw Error(B(418));t.flags=t.flags&-4097|2,he=!1,ft=t}}}function hp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function Ia(t){if(t!==ft)return!1;if(!he)return hp(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kd(t.type,t.memoizedProps)),e&&(e=ut)){if(Td(t))throw Nx(),Error(B(418));for(;e;)jx(t,e),e=Fr(e.nextSibling)}if(hp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ut=Fr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ut=null}}else ut=ft?Fr(t.stateNode.nextSibling):null;return!0}function Nx(){for(var t=ut;t;)t=Fr(t.nextSibling)}function vs(){ut=ft=null,he=!1}function Qu(t){At===null?At=[t]:At.push(t)}var O1=vr.ReactCurrentBatchConfig;function Ys(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,t))}return t}function Pa(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fp(t){var e=t._init;return e(t._payload)}function Sx(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Wr(m,p),m.index=0,m.sibling=null,m}function a(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,y,w){return p===null||p.tag!==6?(p=Ec(y,m.mode,w),p.return=m,p):(p=i(p,y),p.return=m,p)}function c(m,p,y,w){var N=y.type;return N===Wn?u(m,p,y.props.children,w,y.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Sr&&fp(N)===p.type)?(w=i(p,y.props),w.ref=Ys(m,p,y),w.return=m,w):(w=no(y.type,y.key,y.props,null,m.mode,w),w.ref=Ys(m,p,y),w.return=m,w)}function d(m,p,y,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Cc(y,m.mode,w),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function u(m,p,y,w,N){return p===null||p.tag!==7?(p=xn(y,m.mode,w,N),p.return=m,p):(p=i(p,y),p.return=m,p)}function h(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ec(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ba:return y=no(p.type,p.key,p.props,null,m.mode,y),y.ref=Ys(m,null,p),y.return=m,y;case Vn:return p=Cc(p,m.mode,y),p.return=m,p;case Sr:var w=p._init;return h(m,w(p._payload),y)}if(ni(p)||Vs(p))return p=xn(p,m.mode,y,null),p.return=m,p;Pa(m,p)}return null}function f(m,p,y,w){var N=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:l(m,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ba:return y.key===N?c(m,p,y,w):null;case Vn:return y.key===N?d(m,p,y,w):null;case Sr:return N=y._init,f(m,p,N(y._payload),w)}if(ni(y)||Vs(y))return N!==null?null:u(m,p,y,w,null);Pa(m,y)}return null}function g(m,p,y,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,l(p,m,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ba:return m=m.get(w.key===null?y:w.key)||null,c(p,m,w,N);case Vn:return m=m.get(w.key===null?y:w.key)||null,d(p,m,w,N);case Sr:var _=w._init;return g(m,p,y,_(w._payload),N)}if(ni(w)||Vs(w))return m=m.get(y)||null,u(p,m,w,N,null);Pa(p,w)}return null}function x(m,p,y,w){for(var N=null,_=null,S=p,E=p=0,k=null;S!==null&&E<y.length;E++){S.index>E?(k=S,S=null):k=S.sibling;var T=f(m,S,y[E],w);if(T===null){S===null&&(S=k);break}t&&S&&T.alternate===null&&e(m,S),p=a(T,p,E),_===null?N=T:_.sibling=T,_=T,S=k}if(E===y.length)return r(m,S),he&&dn(m,E),N;if(S===null){for(;E<y.length;E++)S=h(m,y[E],w),S!==null&&(p=a(S,p,E),_===null?N=S:_.sibling=S,_=S);return he&&dn(m,E),N}for(S=n(m,S);E<y.length;E++)k=g(S,m,E,y[E],w),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?E:k.key),p=a(k,p,E),_===null?N=k:_.sibling=k,_=k);return t&&S.forEach(function(P){return e(m,P)}),he&&dn(m,E),N}function b(m,p,y,w){var N=Vs(y);if(typeof N!="function")throw Error(B(150));if(y=N.call(y),y==null)throw Error(B(151));for(var _=N=null,S=p,E=p=0,k=null,T=y.next();S!==null&&!T.done;E++,T=y.next()){S.index>E?(k=S,S=null):k=S.sibling;var P=f(m,S,T.value,w);if(P===null){S===null&&(S=k);break}t&&S&&P.alternate===null&&e(m,S),p=a(P,p,E),_===null?N=P:_.sibling=P,_=P,S=k}if(T.done)return r(m,S),he&&dn(m,E),N;if(S===null){for(;!T.done;E++,T=y.next())T=h(m,T.value,w),T!==null&&(p=a(T,p,E),_===null?N=T:_.sibling=T,_=T);return he&&dn(m,E),N}for(S=n(m,S);!T.done;E++,T=y.next())T=g(S,m,E,T.value,w),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?E:T.key),p=a(T,p,E),_===null?N=T:_.sibling=T,_=T);return t&&S.forEach(function(I){return e(m,I)}),he&&dn(m,E),N}function v(m,p,y,w){if(typeof y=="object"&&y!==null&&y.type===Wn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ba:e:{for(var N=y.key,_=p;_!==null;){if(_.key===N){if(N=y.type,N===Wn){if(_.tag===7){r(m,_.sibling),p=i(_,y.props.children),p.return=m,m=p;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Sr&&fp(N)===_.type){r(m,_.sibling),p=i(_,y.props),p.ref=Ys(m,_,y),p.return=m,m=p;break e}r(m,_);break}else e(m,_);_=_.sibling}y.type===Wn?(p=xn(y.props.children,m.mode,w,y.key),p.return=m,m=p):(w=no(y.type,y.key,y.props,null,m.mode,w),w.ref=Ys(m,p,y),w.return=m,m=w)}return o(m);case Vn:e:{for(_=y.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=Cc(y,m.mode,w),p.return=m,m=p}return o(m);case Sr:return _=y._init,v(m,p,_(y._payload),w)}if(ni(y))return x(m,p,y,w);if(Vs(y))return b(m,p,y,w);Pa(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(m,p.sibling),p=i(p,y),p.return=m,m=p):(r(m,p),p=Ec(y,m.mode,w),p.return=m,m=p),o(m)):r(m,p)}return v}var bs=Sx(!0),kx=Sx(!1),Eo=en(null),Co=null,Jn=null,Xu=null;function Ju(){Xu=Jn=Co=null}function Zu(t){var e=Eo.current;ue(Eo),t._currentValue=e}function Pd(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ds(t,e){Co=t,Xu=Jn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function St(t){var e=t._currentValue;if(Xu!==t)if(t={context:t,memoizedValue:e,next:null},Jn===null){if(Co===null)throw Error(B(308));Jn=t,Co.dependencies={lanes:0,firstContext:t}}else Jn=Jn.next=t;return e}var pn=null;function eh(t){pn===null?pn=[t]:pn.push(t)}function _x(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,eh(e)):(r.next=i.next,i.next=r),e.interleaved=r,pr(t,n)}function pr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var kr=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ex(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ne&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,pr(t,r)}return i=n.interleaved,i===null?(e.next=e,eh(n)):(e.next=i.next,i.next=e),n.interleaved=e,pr(t,r)}function Xa(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fu(t,r)}}function pp(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function To(t,e,r,n){var i=t.updateQueue;kr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var f=l.lane,g=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,b=l;switch(f=e,g=r,b.tag){case 1:if(x=b.payload,typeof x=="function"){h=x.call(g,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,f=typeof x=="function"?x.call(g,h,f):x,f==null)break e;h=xe({},h,f);break e;case 2:kr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=g,c=h):u=u.next=g,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Nn|=o,t.lanes=o,t.memoizedState=h}}function mp(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var na={},Kt=en(na),Ri=en(na),Di=en(na);function mn(t){if(t===na)throw Error(B(174));return t}function rh(t,e){switch(le(Di,e),le(Ri,t),le(Kt,na),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ud(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ud(e,t)}ue(Kt),le(Kt,e)}function ws(){ue(Kt),ue(Ri),ue(Di)}function Cx(t){mn(Di.current);var e=mn(Kt.current),r=ud(e,t.type);e!==r&&(le(Ri,t),le(Kt,r))}function nh(t){Ri.current===t&&(ue(Kt),ue(Ri))}var me=en(0);function Io(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wc=[];function sh(){for(var t=0;t<wc.length;t++)wc[t]._workInProgressVersionPrimary=null;wc.length=0}var Ja=vr.ReactCurrentDispatcher,jc=vr.ReactCurrentBatchConfig,jn=0,ge=null,Ce=null,Re=null,Po=!1,mi=!1,Li=0,A1=0;function Ue(){throw Error(B(321))}function ih(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Mt(t[r],e[r]))return!1;return!0}function ah(t,e,r,n,i,a){if(jn=a,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ja.current=t===null||t.memoizedState===null?M1:$1,t=r(n,i),mi){a=0;do{if(mi=!1,Li=0,25<=a)throw Error(B(301));a+=1,Re=Ce=null,e.updateQueue=null,Ja.current=B1,t=r(n,i)}while(mi)}if(Ja.current=Oo,e=Ce!==null&&Ce.next!==null,jn=0,Re=Ce=ge=null,Po=!1,e)throw Error(B(300));return t}function oh(){var t=Li!==0;return Li=0,t}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ge.memoizedState=Re=t:Re=Re.next=t,Re}function kt(){if(Ce===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var e=Re===null?ge.memoizedState:Re.next;if(e!==null)Re=e,Ce=t;else{if(t===null)throw Error(B(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Re===null?ge.memoizedState=Re=t:Re=Re.next=t}return Re}function Mi(t,e){return typeof e=="function"?e(t):e}function Nc(t){var e=kt(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=Ce,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((jn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,ge.lanes|=u,Nn|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,Mt(n,e.memoizedState)||(st=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,ge.lanes|=a,Nn|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Sc(t){var e=kt(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Mt(a,e.memoizedState)||(st=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Tx(){}function Ix(t,e){var r=ge,n=kt(),i=e(),a=!Mt(n.memoizedState,i);if(a&&(n.memoizedState=i,st=!0),n=n.queue,lh(Ax.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Re!==null&&Re.memoizedState.tag&1){if(r.flags|=2048,$i(9,Ox.bind(null,r,n,i,e),void 0,null),De===null)throw Error(B(349));jn&30||Px(r,e,i)}return i}function Px(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Ox(t,e,r,n){e.value=r,e.getSnapshot=n,Rx(e)&&Dx(t)}function Ax(t,e,r){return r(function(){Rx(e)&&Dx(t)})}function Rx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Mt(t,r)}catch{return!0}}function Dx(t){var e=pr(t,1);e!==null&&Lt(e,t,1,-1)}function gp(t){var e=Wt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},e.queue=t,t=t.dispatch=L1.bind(null,ge,t),[e.memoizedState,t]}function $i(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Lx(){return kt().memoizedState}function Za(t,e,r,n){var i=Wt();ge.flags|=t,i.memoizedState=$i(1|e,r,void 0,n===void 0?null:n)}function vl(t,e,r,n){var i=kt();n=n===void 0?null:n;var a=void 0;if(Ce!==null){var o=Ce.memoizedState;if(a=o.destroy,n!==null&&ih(n,o.deps)){i.memoizedState=$i(e,r,a,n);return}}ge.flags|=t,i.memoizedState=$i(1|e,r,a,n)}function xp(t,e){return Za(8390656,8,t,e)}function lh(t,e){return vl(2048,8,t,e)}function Mx(t,e){return vl(4,2,t,e)}function $x(t,e){return vl(4,4,t,e)}function Bx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fx(t,e,r){return r=r!=null?r.concat([t]):null,vl(4,4,Bx.bind(null,e,t),r)}function ch(){}function Ux(t,e){var r=kt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ih(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function zx(t,e){var r=kt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ih(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Vx(t,e,r){return jn&21?(Mt(r,e)||(r=Yg(),ge.lanes|=r,Nn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=r)}function R1(t,e){var r=ie;ie=r!==0&&4>r?r:4,t(!0);var n=jc.transition;jc.transition={};try{t(!1),e()}finally{ie=r,jc.transition=n}}function Wx(){return kt().memoizedState}function D1(t,e,r){var n=Vr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Hx(t))qx(e,r);else if(r=_x(t,e,r,n),r!==null){var i=Ke();Lt(r,t,n,i),Gx(r,e,n)}}function L1(t,e,r){var n=Vr(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hx(t))qx(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Mt(l,o)){var c=e.interleaved;c===null?(i.next=i,eh(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=_x(t,e,i,n),r!==null&&(i=Ke(),Lt(r,t,n,i),Gx(r,e,n))}}function Hx(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function qx(t,e){mi=Po=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Gx(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fu(t,r)}}var Oo={readContext:St,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},M1={readContext:St,useCallback:function(t,e){return Wt().memoizedState=[t,e===void 0?null:e],t},useContext:St,useEffect:xp,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Za(4194308,4,Bx.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Za(4194308,4,t,e)},useInsertionEffect:function(t,e){return Za(4,2,t,e)},useMemo:function(t,e){var r=Wt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Wt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=D1.bind(null,ge,t),[n.memoizedState,t]},useRef:function(t){var e=Wt();return t={current:t},e.memoizedState=t},useState:gp,useDebugValue:ch,useDeferredValue:function(t){return Wt().memoizedState=t},useTransition:function(){var t=gp(!1),e=t[0];return t=R1.bind(null,t[1]),Wt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ge,i=Wt();if(he){if(r===void 0)throw Error(B(407));r=r()}else{if(r=e(),De===null)throw Error(B(349));jn&30||Px(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,xp(Ax.bind(null,n,a,t),[t]),n.flags|=2048,$i(9,Ox.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Wt(),e=De.identifierPrefix;if(he){var r=or,n=ar;r=(n&~(1<<32-Dt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Li++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=A1++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$1={readContext:St,useCallback:Ux,useContext:St,useEffect:lh,useImperativeHandle:Fx,useInsertionEffect:Mx,useLayoutEffect:$x,useMemo:zx,useReducer:Nc,useRef:Lx,useState:function(){return Nc(Mi)},useDebugValue:ch,useDeferredValue:function(t){var e=kt();return Vx(e,Ce.memoizedState,t)},useTransition:function(){var t=Nc(Mi)[0],e=kt().memoizedState;return[t,e]},useMutableSource:Tx,useSyncExternalStore:Ix,useId:Wx,unstable_isNewReconciler:!1},B1={readContext:St,useCallback:Ux,useContext:St,useEffect:lh,useImperativeHandle:Fx,useInsertionEffect:Mx,useLayoutEffect:$x,useMemo:zx,useReducer:Sc,useRef:Lx,useState:function(){return Sc(Mi)},useDebugValue:ch,useDeferredValue:function(t){var e=kt();return Ce===null?e.memoizedState=t:Vx(e,Ce.memoizedState,t)},useTransition:function(){var t=Sc(Mi)[0],e=kt().memoizedState;return[t,e]},useMutableSource:Tx,useSyncExternalStore:Ix,useId:Wx,unstable_isNewReconciler:!1};function It(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Od(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:xe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var bl={isMounted:function(t){return(t=t._reactInternals)?Pn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ke(),i=Vr(t),a=dr(n,i);a.payload=e,r!=null&&(a.callback=r),e=Ur(t,a,i),e!==null&&(Lt(e,t,i,n),Xa(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ke(),i=Vr(t),a=dr(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Ur(t,a,i),e!==null&&(Lt(e,t,i,n),Xa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ke(),n=Vr(t),i=dr(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ur(t,i,n),e!==null&&(Lt(e,t,n,r),Xa(e,t,n))}};function yp(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Ii(r,n)||!Ii(i,a):!0}function Yx(t,e,r){var n=!1,i=Xr,a=e.contextType;return typeof a=="object"&&a!==null?a=St(a):(i=at(e)?bn:He.current,n=e.contextTypes,a=(n=n!=null)?ys(t,i):Xr),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function vp(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&bl.enqueueReplaceState(e,e.state,null)}function Ad(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},th(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=St(a):(a=at(e)?bn:He.current,i.context=ys(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Od(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bl.enqueueReplaceState(i,i.state,null),To(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function js(t,e){try{var r="",n=e;do r+=fw(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function kc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Rd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var F1=typeof WeakMap=="function"?WeakMap:Map;function Kx(t,e,r){r=dr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ro||(Ro=!0,Wd=n),Rd(t,e)},r}function Qx(t,e,r){r=dr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Rd(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Rd(t,e),typeof n!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function bp(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new F1;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=ej.bind(null,t,e,r),e.then(t,t))}function wp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jp(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=dr(-1,1),e.tag=2,Ur(r,e,1))),r.lanes|=1),t)}var U1=vr.ReactCurrentOwner,st=!1;function Ge(t,e,r,n){e.child=t===null?kx(e,null,r,n):bs(e,t.child,r,n)}function Np(t,e,r,n,i){r=r.render;var a=e.ref;return ds(e,i),n=ah(t,e,r,n,a,i),r=oh(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mr(t,e,i)):(he&&r&&Yu(e),e.flags|=1,Ge(t,e,n,i),e.child)}function Sp(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!xh(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,Xx(t,e,a,n,i)):(t=no(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ii,r(o,n)&&t.ref===e.ref)return mr(t,e,i)}return e.flags|=1,t=Wr(a,n),t.ref=e.ref,t.return=e,e.child=t}function Xx(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Ii(a,n)&&t.ref===e.ref)if(st=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,mr(t,e,i)}return Dd(t,e,r,n,i)}function Jx(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(es,ct),ct|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(es,ct),ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,le(es,ct),ct|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,le(es,ct),ct|=n;return Ge(t,e,i,r),e.child}function Zx(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Dd(t,e,r,n,i){var a=at(r)?bn:He.current;return a=ys(e,a),ds(e,i),r=ah(t,e,r,n,a,i),n=oh(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mr(t,e,i)):(he&&n&&Yu(e),e.flags|=1,Ge(t,e,r,i),e.child)}function kp(t,e,r,n,i){if(at(r)){var a=!0;So(e)}else a=!1;if(ds(e,i),e.stateNode===null)eo(t,e),Yx(e,r,n),Ad(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=St(d):(d=at(r)?bn:He.current,d=ys(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&vp(e,o,n,d),kr=!1;var f=e.memoizedState;o.state=f,To(e,n,o,i),c=e.memoizedState,l!==n||f!==c||it.current||kr?(typeof u=="function"&&(Od(e,r,u,n),c=e.memoizedState),(l=kr||yp(e,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Ex(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:It(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=St(c):(c=at(r)?bn:He.current,c=ys(e,c));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&vp(e,o,n,c),kr=!1,f=e.memoizedState,o.state=f,To(e,n,o,i);var x=e.memoizedState;l!==h||f!==x||it.current||kr?(typeof g=="function"&&(Od(e,r,g,n),x=e.memoizedState),(d=kr||yp(e,r,d,n,f,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Ld(t,e,r,n,a,i)}function Ld(t,e,r,n,i,a){Zx(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&dp(e,r,!1),mr(t,e,a);n=e.stateNode,U1.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=bs(e,t.child,null,a),e.child=bs(e,null,l,a)):Ge(t,e,l,a),e.memoizedState=n.state,i&&dp(e,r,!0),e.child}function e0(t){var e=t.stateNode;e.pendingContext?cp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cp(t,e.context,!1),rh(t,e.containerInfo)}function _p(t,e,r,n,i){return vs(),Qu(i),e.flags|=256,Ge(t,e,r,n),e.child}var Md={dehydrated:null,treeContext:null,retryLane:0};function $d(t){return{baseLanes:t,cachePool:null,transitions:null}}function t0(t,e,r){var n=e.pendingProps,i=me.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),le(me,i&1),t===null)return Id(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Nl(o,n,0,null),t=xn(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=$d(r),e.memoizedState=Md,t):dh(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return z1(t,e,o,n,l,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Wr(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Wr(l,a):(a=xn(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?$d(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Md,n}return a=t.child,t=a.sibling,n=Wr(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function dh(t,e){return e=Nl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oa(t,e,r,n){return n!==null&&Qu(n),bs(e,t.child,null,r),t=dh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function z1(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=kc(Error(B(422))),Oa(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Nl({mode:"visible",children:n.children},i,0,null),a=xn(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&bs(e,t.child,null,o),e.child.memoizedState=$d(o),e.memoizedState=Md,a);if(!(e.mode&1))return Oa(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(B(419)),n=kc(a,n,void 0),Oa(t,e,o,n)}if(l=(o&t.childLanes)!==0,st||l){if(n=De,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,pr(t,i),Lt(n,t,i,-1))}return gh(),n=kc(Error(B(421))),Oa(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tj.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ut=Fr(i.nextSibling),ft=e,he=!0,At=null,t!==null&&(yt[vt++]=ar,yt[vt++]=or,yt[vt++]=wn,ar=t.id,or=t.overflow,wn=e),e=dh(e,n.children),e.flags|=4096,e)}function Ep(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Pd(t.return,e,r)}function _c(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function r0(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Ge(t,e,n.children,r),n=me.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ep(t,r,e);else if(t.tag===19)Ep(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(le(me,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Io(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),_c(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Io(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}_c(e,!0,r,null,a);break;case"together":_c(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Nn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,r=Wr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Wr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function V1(t,e,r){switch(e.tag){case 3:e0(e),vs();break;case 5:Cx(e);break;case 1:at(e.type)&&So(e);break;case 4:rh(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;le(Eo,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(le(me,me.current&1),e.flags|=128,null):r&e.child.childLanes?t0(t,e,r):(le(me,me.current&1),t=mr(t,e,r),t!==null?t.sibling:null);le(me,me.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return r0(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(me,me.current),n)break;return null;case 22:case 23:return e.lanes=0,Jx(t,e,r)}return mr(t,e,r)}var n0,Bd,s0,i0;n0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bd=function(){};s0=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,mn(Kt.current);var a=null;switch(r){case"input":i=od(t,i),n=od(t,n),a=[];break;case"select":i=xe({},i,{value:void 0}),n=xe({},n,{value:void 0}),a=[];break;case"textarea":i=dd(t,i),n=dd(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=jo)}hd(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ni.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ni.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ce("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};i0=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ks(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function W1(t,e,r){var n=e.pendingProps;switch(Ku(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(e),null;case 1:return at(e.type)&&No(),ze(e),null;case 3:return n=e.stateNode,ws(),ue(it),ue(He),sh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ia(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,At!==null&&(Gd(At),At=null))),Bd(t,e),ze(e),null;case 5:nh(e);var i=mn(Di.current);if(r=e.type,t!==null&&e.stateNode!=null)s0(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(B(166));return ze(e),null}if(t=mn(Kt.current),Ia(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Ht]=e,n[Ai]=a,t=(e.mode&1)!==0,r){case"dialog":ce("cancel",n),ce("close",n);break;case"iframe":case"object":case"embed":ce("load",n);break;case"video":case"audio":for(i=0;i<ii.length;i++)ce(ii[i],n);break;case"source":ce("error",n);break;case"img":case"image":case"link":ce("error",n),ce("load",n);break;case"details":ce("toggle",n);break;case"input":Lf(n,a),ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ce("invalid",n);break;case"textarea":$f(n,a),ce("invalid",n)}hd(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ta(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ta(n.textContent,l,t),i=["children",""+l]):Ni.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ce("scroll",n)}switch(r){case"input":wa(n),Mf(n,a,!0);break;case"textarea":wa(n),Bf(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=jo)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ag(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ht]=e,t[Ai]=n,n0(t,e,!1,!1),e.stateNode=t;e:{switch(o=fd(r,n),r){case"dialog":ce("cancel",t),ce("close",t),i=n;break;case"iframe":case"object":case"embed":ce("load",t),i=n;break;case"video":case"audio":for(i=0;i<ii.length;i++)ce(ii[i],t);i=n;break;case"source":ce("error",t),i=n;break;case"img":case"image":case"link":ce("error",t),ce("load",t),i=n;break;case"details":ce("toggle",t),i=n;break;case"input":Lf(t,n),i=od(t,n),ce("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=xe({},n,{value:void 0}),ce("invalid",t);break;case"textarea":$f(t,n),i=dd(t,n),ce("invalid",t);break;default:i=n}hd(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Lg(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Rg(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Si(t,c):typeof c=="number"&&Si(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ni.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ce("scroll",t):c!=null&&Ru(t,a,c,o))}switch(r){case"input":wa(t),Mf(t,n,!1);break;case"textarea":wa(t),Bf(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Qr(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?as(t,!!n.multiple,a,!1):n.defaultValue!=null&&as(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ze(e),null;case 6:if(t&&e.stateNode!=null)i0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(B(166));if(r=mn(Di.current),mn(Kt.current),Ia(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ht]=e,(a=n.nodeValue!==r)&&(t=ft,t!==null))switch(t.tag){case 3:Ta(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ta(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ht]=e,e.stateNode=n}return ze(e),null;case 13:if(ue(me),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&ut!==null&&e.mode&1&&!(e.flags&128))Nx(),vs(),e.flags|=98560,a=!1;else if(a=Ia(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(B(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[Ht]=e}else vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ze(e),a=!1}else At!==null&&(Gd(At),At=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||me.current&1?Te===0&&(Te=3):gh())),e.updateQueue!==null&&(e.flags|=4),ze(e),null);case 4:return ws(),Bd(t,e),t===null&&Pi(e.stateNode.containerInfo),ze(e),null;case 10:return Zu(e.type._context),ze(e),null;case 17:return at(e.type)&&No(),ze(e),null;case 19:if(ue(me),a=e.memoizedState,a===null)return ze(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Ks(a,!1);else{if(Te!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Io(t),o!==null){for(e.flags|=128,Ks(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return le(me,me.current&1|2),e.child}t=t.sibling}a.tail!==null&&je()>Ns&&(e.flags|=128,n=!0,Ks(a,!1),e.lanes=4194304)}else{if(!n)if(t=Io(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ks(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!he)return ze(e),null}else 2*je()-a.renderingStartTime>Ns&&r!==1073741824&&(e.flags|=128,n=!0,Ks(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=je(),e.sibling=null,r=me.current,le(me,n?r&1|2:r&1),e):(ze(e),null);case 22:case 23:return mh(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ct&1073741824&&(ze(e),e.subtreeFlags&6&&(e.flags|=8192)):ze(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function H1(t,e){switch(Ku(e),e.tag){case 1:return at(e.type)&&No(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ws(),ue(it),ue(He),sh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nh(e),null;case 13:if(ue(me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ue(me),null;case 4:return ws(),null;case 10:return Zu(e.type._context),null;case 22:case 23:return mh(),null;case 24:return null;default:return null}}var Aa=!1,Ve=!1,q1=typeof WeakSet=="function"?WeakSet:Set,q=null;function Zn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ve(t,e,n)}else r.current=null}function Fd(t,e,r){try{r()}catch(n){ve(t,e,n)}}var Cp=!1;function G1(t,e){if(Nd=vo,t=dx(),Gu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var g;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===r&&++d===i&&(l=o),f===a&&++u===n&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sd={focusedElem:t,selectionRange:r},vo=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,v=x.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?b:It(e.type,b),v);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(w){ve(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return x=Cp,Cp=!1,x}function gi(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Fd(e,r,a)}i=i.next}while(i!==n)}}function wl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ud(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function a0(t){var e=t.alternate;e!==null&&(t.alternate=null,a0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ht],delete e[Ai],delete e[Ed],delete e[T1],delete e[I1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function o0(t){return t.tag===5||t.tag===3||t.tag===4}function Tp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||o0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=jo));else if(n!==4&&(t=t.child,t!==null))for(zd(t,e,r),t=t.sibling;t!==null;)zd(t,e,r),t=t.sibling}function Vd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Vd(t,e,r),t=t.sibling;t!==null;)Vd(t,e,r),t=t.sibling}var Le=null,Pt=!1;function jr(t,e,r){for(r=r.child;r!==null;)l0(t,e,r),r=r.sibling}function l0(t,e,r){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(fl,r)}catch{}switch(r.tag){case 5:Ve||Zn(r,e);case 6:var n=Le,i=Pt;Le=null,jr(t,e,r),Le=n,Pt=i,Le!==null&&(Pt?(t=Le,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Le.removeChild(r.stateNode));break;case 18:Le!==null&&(Pt?(t=Le,r=r.stateNode,t.nodeType===8?vc(t.parentNode,r):t.nodeType===1&&vc(t,r),Ci(t)):vc(Le,r.stateNode));break;case 4:n=Le,i=Pt,Le=r.stateNode.containerInfo,Pt=!0,jr(t,e,r),Le=n,Pt=i;break;case 0:case 11:case 14:case 15:if(!Ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Fd(r,e,o),i=i.next}while(i!==n)}jr(t,e,r);break;case 1:if(!Ve&&(Zn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ve(r,e,l)}jr(t,e,r);break;case 21:jr(t,e,r);break;case 22:r.mode&1?(Ve=(n=Ve)||r.memoizedState!==null,jr(t,e,r),Ve=n):jr(t,e,r);break;default:jr(t,e,r)}}function Ip(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new q1),e.forEach(function(n){var i=rj.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Tt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Le=l.stateNode,Pt=!1;break e;case 3:Le=l.stateNode.containerInfo,Pt=!0;break e;case 4:Le=l.stateNode.containerInfo,Pt=!0;break e}l=l.return}if(Le===null)throw Error(B(160));l0(a,o,i),Le=null,Pt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ve(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)c0(e,t),e=e.sibling}function c0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tt(e,t),zt(t),n&4){try{gi(3,t,t.return),wl(3,t)}catch(b){ve(t,t.return,b)}try{gi(5,t,t.return)}catch(b){ve(t,t.return,b)}}break;case 1:Tt(e,t),zt(t),n&512&&r!==null&&Zn(r,r.return);break;case 5:if(Tt(e,t),zt(t),n&512&&r!==null&&Zn(r,r.return),t.flags&32){var i=t.stateNode;try{Si(i,"")}catch(b){ve(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Pg(i,a),fd(l,o);var d=fd(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Lg(i,h):u==="dangerouslySetInnerHTML"?Rg(i,h):u==="children"?Si(i,h):Ru(i,u,h,d)}switch(l){case"input":ld(i,a);break;case"textarea":Og(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?as(i,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?as(i,!!a.multiple,a.defaultValue,!0):as(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ai]=a}catch(b){ve(t,t.return,b)}}break;case 6:if(Tt(e,t),zt(t),n&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(b){ve(t,t.return,b)}}break;case 3:if(Tt(e,t),zt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ci(e.containerInfo)}catch(b){ve(t,t.return,b)}break;case 4:Tt(e,t),zt(t);break;case 13:Tt(e,t),zt(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(fh=je())),n&4&&Ip(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Ve=(d=Ve)||u,Tt(e,t),Ve=d):Tt(e,t),zt(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(q=t,u=t.child;u!==null;){for(h=q=u;q!==null;){switch(f=q,g=f.child,f.tag){case 0:case 11:case 14:case 15:gi(4,f,f.return);break;case 1:Zn(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(b){ve(n,r,b)}}break;case 5:Zn(f,f.return);break;case 22:if(f.memoizedState!==null){Op(h);continue}}g!==null?(g.return=f,q=g):Op(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Dg("display",o))}catch(b){ve(t,t.return,b)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(b){ve(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tt(e,t),zt(t),n&4&&Ip(t);break;case 21:break;default:Tt(e,t),zt(t)}}function zt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(o0(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Si(i,""),n.flags&=-33);var a=Tp(t);Vd(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Tp(t);zd(t,l,o);break;default:throw Error(B(161))}}catch(c){ve(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Y1(t,e,r){q=t,d0(t)}function d0(t,e,r){for(var n=(t.mode&1)!==0;q!==null;){var i=q,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Aa;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ve;l=Aa;var d=Ve;if(Aa=o,(Ve=c)&&!d)for(q=i;q!==null;)o=q,c=o.child,o.tag===22&&o.memoizedState!==null?Ap(i):c!==null?(c.return=o,q=c):Ap(i);for(;a!==null;)q=a,d0(a),a=a.sibling;q=i,Aa=l,Ve=d}Pp(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,q=a):Pp(t)}}function Pp(t){for(;q!==null;){var e=q;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ve||wl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ve)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:It(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&mp(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}mp(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ci(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ve||e.flags&512&&Ud(e)}catch(f){ve(e,e.return,f)}}if(e===t){q=null;break}if(r=e.sibling,r!==null){r.return=e.return,q=r;break}q=e.return}}function Op(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var r=e.sibling;if(r!==null){r.return=e.return,q=r;break}q=e.return}}function Ap(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{wl(4,e)}catch(c){ve(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){ve(e,i,c)}}var a=e.return;try{Ud(e)}catch(c){ve(e,a,c)}break;case 5:var o=e.return;try{Ud(e)}catch(c){ve(e,o,c)}}}catch(c){ve(e,e.return,c)}if(e===t){q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,q=l;break}q=e.return}}var K1=Math.ceil,Ao=vr.ReactCurrentDispatcher,uh=vr.ReactCurrentOwner,Nt=vr.ReactCurrentBatchConfig,ne=0,De=null,Se=null,$e=0,ct=0,es=en(0),Te=0,Bi=null,Nn=0,jl=0,hh=0,xi=null,nt=null,fh=0,Ns=1/0,sr=null,Ro=!1,Wd=null,zr=null,Ra=!1,Rr=null,Do=0,yi=0,Hd=null,to=-1,ro=0;function Ke(){return ne&6?je():to!==-1?to:to=je()}function Vr(t){return t.mode&1?ne&2&&$e!==0?$e&-$e:O1.transition!==null?(ro===0&&(ro=Yg()),ro):(t=ie,t!==0||(t=window.event,t=t===void 0?16:tx(t.type)),t):1}function Lt(t,e,r,n){if(50<yi)throw yi=0,Hd=null,Error(B(185));ea(t,r,n),(!(ne&2)||t!==De)&&(t===De&&(!(ne&2)&&(jl|=r),Te===4&&Er(t,$e)),ot(t,n),r===1&&ne===0&&!(e.mode&1)&&(Ns=je()+500,yl&&tn()))}function ot(t,e){var r=t.callbackNode;Ow(t,e);var n=yo(t,t===De?$e:0);if(n===0)r!==null&&zf(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&zf(r),e===1)t.tag===0?P1(Rp.bind(null,t)):bx(Rp.bind(null,t)),E1(function(){!(ne&6)&&tn()}),r=null;else{switch(Kg(n)){case 1:r=Bu;break;case 4:r=qg;break;case 16:r=xo;break;case 536870912:r=Gg;break;default:r=xo}r=y0(r,u0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function u0(t,e){if(to=-1,ro=0,ne&6)throw Error(B(327));var r=t.callbackNode;if(us()&&t.callbackNode!==r)return null;var n=yo(t,t===De?$e:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Lo(t,n);else{e=n;var i=ne;ne|=2;var a=f0();(De!==t||$e!==e)&&(sr=null,Ns=je()+500,gn(t,e));do try{J1();break}catch(l){h0(t,l)}while(!0);Ju(),Ao.current=a,ne=i,Se!==null?e=0:(De=null,$e=0,e=Te)}if(e!==0){if(e===2&&(i=yd(t),i!==0&&(n=i,e=qd(t,i))),e===1)throw r=Bi,gn(t,0),Er(t,n),ot(t,je()),r;if(e===6)Er(t,n);else{if(i=t.current.alternate,!(n&30)&&!Q1(i)&&(e=Lo(t,n),e===2&&(a=yd(t),a!==0&&(n=a,e=qd(t,a))),e===1))throw r=Bi,gn(t,0),Er(t,n),ot(t,je()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(B(345));case 2:un(t,nt,sr);break;case 3:if(Er(t,n),(n&130023424)===n&&(e=fh+500-je(),10<e)){if(yo(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_d(un.bind(null,t,nt,sr),e);break}un(t,nt,sr);break;case 4:if(Er(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Dt(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*K1(n/1960))-n,10<n){t.timeoutHandle=_d(un.bind(null,t,nt,sr),n);break}un(t,nt,sr);break;case 5:un(t,nt,sr);break;default:throw Error(B(329))}}}return ot(t,je()),t.callbackNode===r?u0.bind(null,t):null}function qd(t,e){var r=xi;return t.current.memoizedState.isDehydrated&&(gn(t,e).flags|=256),t=Lo(t,e),t!==2&&(e=nt,nt=r,e!==null&&Gd(e)),t}function Gd(t){nt===null?nt=t:nt.push.apply(nt,t)}function Q1(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Mt(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Er(t,e){for(e&=~hh,e&=~jl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Dt(e),n=1<<r;t[r]=-1,e&=~n}}function Rp(t){if(ne&6)throw Error(B(327));us();var e=yo(t,0);if(!(e&1))return ot(t,je()),null;var r=Lo(t,e);if(t.tag!==0&&r===2){var n=yd(t);n!==0&&(e=n,r=qd(t,n))}if(r===1)throw r=Bi,gn(t,0),Er(t,e),ot(t,je()),r;if(r===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,un(t,nt,sr),ot(t,je()),null}function ph(t,e){var r=ne;ne|=1;try{return t(e)}finally{ne=r,ne===0&&(Ns=je()+500,yl&&tn())}}function Sn(t){Rr!==null&&Rr.tag===0&&!(ne&6)&&us();var e=ne;ne|=1;var r=Nt.transition,n=ie;try{if(Nt.transition=null,ie=1,t)return t()}finally{ie=n,Nt.transition=r,ne=e,!(ne&6)&&tn()}}function mh(){ct=es.current,ue(es)}function gn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,_1(r)),Se!==null)for(r=Se.return;r!==null;){var n=r;switch(Ku(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&No();break;case 3:ws(),ue(it),ue(He),sh();break;case 5:nh(n);break;case 4:ws();break;case 13:ue(me);break;case 19:ue(me);break;case 10:Zu(n.type._context);break;case 22:case 23:mh()}r=r.return}if(De=t,Se=t=Wr(t.current,null),$e=ct=e,Te=0,Bi=null,hh=jl=Nn=0,nt=xi=null,pn!==null){for(e=0;e<pn.length;e++)if(r=pn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}pn=null}return t}function h0(t,e){do{var r=Se;try{if(Ju(),Ja.current=Oo,Po){for(var n=ge.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Po=!1}if(jn=0,Re=Ce=ge=null,mi=!1,Li=0,uh.current=null,r===null||r.return===null){Te=1,Bi=e,Se=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=$e,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=wp(o);if(g!==null){g.flags&=-257,jp(g,o,l,a,e),g.mode&1&&bp(a,d,e),e=g,c=d;var x=e.updateQueue;if(x===null){var b=new Set;b.add(c),e.updateQueue=b}else x.add(c);break e}else{if(!(e&1)){bp(a,d,e),gh();break e}c=Error(B(426))}}else if(he&&l.mode&1){var v=wp(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),jp(v,o,l,a,e),Qu(js(c,l));break e}}a=c=js(c,l),Te!==4&&(Te=2),xi===null?xi=[a]:xi.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var m=Kx(a,c,e);pp(a,m);break e;case 1:l=c;var p=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(zr===null||!zr.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=Qx(a,l,e);pp(a,w);break e}}a=a.return}while(a!==null)}m0(r)}catch(N){e=N,Se===r&&r!==null&&(Se=r=r.return);continue}break}while(!0)}function f0(){var t=Ao.current;return Ao.current=Oo,t===null?Oo:t}function gh(){(Te===0||Te===3||Te===2)&&(Te=4),De===null||!(Nn&268435455)&&!(jl&268435455)||Er(De,$e)}function Lo(t,e){var r=ne;ne|=2;var n=f0();(De!==t||$e!==e)&&(sr=null,gn(t,e));do try{X1();break}catch(i){h0(t,i)}while(!0);if(Ju(),ne=r,Ao.current=n,Se!==null)throw Error(B(261));return De=null,$e=0,Te}function X1(){for(;Se!==null;)p0(Se)}function J1(){for(;Se!==null&&!Nw();)p0(Se)}function p0(t){var e=x0(t.alternate,t,ct);t.memoizedProps=t.pendingProps,e===null?m0(t):Se=e,uh.current=null}function m0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=H1(r,e),r!==null){r.flags&=32767,Se=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Te=6,Se=null;return}}else if(r=W1(r,e,ct),r!==null){Se=r;return}if(e=e.sibling,e!==null){Se=e;return}Se=e=t}while(e!==null);Te===0&&(Te=5)}function un(t,e,r){var n=ie,i=Nt.transition;try{Nt.transition=null,ie=1,Z1(t,e,r,n)}finally{Nt.transition=i,ie=n}return null}function Z1(t,e,r,n){do us();while(Rr!==null);if(ne&6)throw Error(B(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Aw(t,a),t===De&&(Se=De=null,$e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ra||(Ra=!0,y0(xo,function(){return us(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Nt.transition,Nt.transition=null;var o=ie;ie=1;var l=ne;ne|=4,uh.current=null,G1(t,r),c0(r,t),v1(Sd),vo=!!Nd,Sd=Nd=null,t.current=r,Y1(r),Sw(),ne=l,ie=o,Nt.transition=a}else t.current=r;if(Ra&&(Ra=!1,Rr=t,Do=i),a=t.pendingLanes,a===0&&(zr=null),Ew(r.stateNode),ot(t,je()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ro)throw Ro=!1,t=Wd,Wd=null,t;return Do&1&&t.tag!==0&&us(),a=t.pendingLanes,a&1?t===Hd?yi++:(yi=0,Hd=t):yi=0,tn(),null}function us(){if(Rr!==null){var t=Kg(Do),e=Nt.transition,r=ie;try{if(Nt.transition=null,ie=16>t?16:t,Rr===null)var n=!1;else{if(t=Rr,Rr=null,Do=0,ne&6)throw Error(B(331));var i=ne;for(ne|=4,q=t.current;q!==null;){var a=q,o=a.child;if(q.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(q=d;q!==null;){var u=q;switch(u.tag){case 0:case 11:case 15:gi(8,u,a)}var h=u.child;if(h!==null)h.return=u,q=h;else for(;q!==null;){u=q;var f=u.sibling,g=u.return;if(a0(u),u===d){q=null;break}if(f!==null){f.return=g,q=f;break}q=g}}}var x=a.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var v=b.sibling;b.sibling=null,b=v}while(b!==null)}}q=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,q=o;else e:for(;q!==null;){if(a=q,a.flags&2048)switch(a.tag){case 0:case 11:case 15:gi(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,q=m;break e}q=a.return}}var p=t.current;for(q=p;q!==null;){o=q;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,q=y;else e:for(o=p;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wl(9,l)}}catch(N){ve(l,l.return,N)}if(l===o){q=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,q=w;break e}q=l.return}}if(ne=i,tn(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(fl,t)}catch{}n=!0}return n}finally{ie=r,Nt.transition=e}}return!1}function Dp(t,e,r){e=js(r,e),e=Kx(t,e,1),t=Ur(t,e,1),e=Ke(),t!==null&&(ea(t,1,e),ot(t,e))}function ve(t,e,r){if(t.tag===3)Dp(t,t,r);else for(;e!==null;){if(e.tag===3){Dp(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zr===null||!zr.has(n))){t=js(r,t),t=Qx(e,t,1),e=Ur(e,t,1),t=Ke(),e!==null&&(ea(e,1,t),ot(e,t));break}}e=e.return}}function ej(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ke(),t.pingedLanes|=t.suspendedLanes&r,De===t&&($e&r)===r&&(Te===4||Te===3&&($e&130023424)===$e&&500>je()-fh?gn(t,0):hh|=r),ot(t,e)}function g0(t,e){e===0&&(t.mode&1?(e=Sa,Sa<<=1,!(Sa&130023424)&&(Sa=4194304)):e=1);var r=Ke();t=pr(t,e),t!==null&&(ea(t,e,r),ot(t,r))}function tj(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),g0(t,r)}function rj(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(e),g0(t,r)}var x0;x0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)st=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return st=!1,V1(t,e,r);st=!!(t.flags&131072)}else st=!1,he&&e.flags&1048576&&wx(e,_o,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;eo(t,e),t=e.pendingProps;var i=ys(e,He.current);ds(e,r),i=ah(null,e,n,t,i,r);var a=oh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,at(n)?(a=!0,So(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,th(e),i.updater=bl,e.stateNode=i,i._reactInternals=e,Ad(e,n,t,r),e=Ld(null,e,n,!0,a,r)):(e.tag=0,he&&a&&Yu(e),Ge(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(eo(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=sj(n),t=It(n,t),i){case 0:e=Dd(null,e,n,t,r);break e;case 1:e=kp(null,e,n,t,r);break e;case 11:e=Np(null,e,n,t,r);break e;case 14:e=Sp(null,e,n,It(n.type,t),r);break e}throw Error(B(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:It(n,i),Dd(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:It(n,i),kp(t,e,n,i,r);case 3:e:{if(e0(e),t===null)throw Error(B(387));n=e.pendingProps,a=e.memoizedState,i=a.element,Ex(t,e),To(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=js(Error(B(423)),e),e=_p(t,e,n,r,i);break e}else if(n!==i){i=js(Error(B(424)),e),e=_p(t,e,n,r,i);break e}else for(ut=Fr(e.stateNode.containerInfo.firstChild),ft=e,he=!0,At=null,r=kx(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vs(),n===i){e=mr(t,e,r);break e}Ge(t,e,n,r)}e=e.child}return e;case 5:return Cx(e),t===null&&Id(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,kd(n,i)?o=null:a!==null&&kd(n,a)&&(e.flags|=32),Zx(t,e),Ge(t,e,o,r),e.child;case 6:return t===null&&Id(e),null;case 13:return t0(t,e,r);case 4:return rh(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=bs(e,null,n,r):Ge(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:It(n,i),Np(t,e,n,i,r);case 7:return Ge(t,e,e.pendingProps,r),e.child;case 8:return Ge(t,e,e.pendingProps.children,r),e.child;case 12:return Ge(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,le(Eo,n._currentValue),n._currentValue=o,a!==null)if(Mt(a.value,o)){if(a.children===i.children&&!it.current){e=mr(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=dr(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Pd(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(B(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Pd(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ge(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ds(e,r),i=St(i),n=n(i),e.flags|=1,Ge(t,e,n,r),e.child;case 14:return n=e.type,i=It(n,e.pendingProps),i=It(n.type,i),Sp(t,e,n,i,r);case 15:return Xx(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:It(n,i),eo(t,e),e.tag=1,at(n)?(t=!0,So(e)):t=!1,ds(e,r),Yx(e,n,i),Ad(e,n,i,r),Ld(null,e,n,!0,t,r);case 19:return r0(t,e,r);case 22:return Jx(t,e,r)}throw Error(B(156,e.tag))};function y0(t,e){return Hg(t,e)}function nj(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,r,n){return new nj(t,e,r,n)}function xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sj(t){if(typeof t=="function")return xh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lu)return 11;if(t===Mu)return 14}return 2}function Wr(t,e){var r=t.alternate;return r===null?(r=jt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function no(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")xh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wn:return xn(r.children,i,a,e);case Du:o=8,i|=8;break;case nd:return t=jt(12,r,e,i|2),t.elementType=nd,t.lanes=a,t;case sd:return t=jt(13,r,e,i),t.elementType=sd,t.lanes=a,t;case id:return t=jt(19,r,e,i),t.elementType=id,t.lanes=a,t;case Cg:return Nl(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _g:o=10;break e;case Eg:o=9;break e;case Lu:o=11;break e;case Mu:o=14;break e;case Sr:o=16,n=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=jt(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function xn(t,e,r,n){return t=jt(7,t,n,e),t.lanes=r,t}function Nl(t,e,r,n){return t=jt(22,t,n,e),t.elementType=Cg,t.lanes=r,t.stateNode={isHidden:!1},t}function Ec(t,e,r){return t=jt(6,t,null,e),t.lanes=r,t}function Cc(t,e,r){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ij(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lc(0),this.expirationTimes=lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yh(t,e,r,n,i,a,o,l,c){return t=new ij(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=jt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},th(a),t}function aj(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function v0(t){if(!t)return Xr;t=t._reactInternals;e:{if(Pn(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(at(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var r=t.type;if(at(r))return vx(t,r,e)}return e}function b0(t,e,r,n,i,a,o,l,c){return t=yh(r,n,!0,t,i,a,o,l,c),t.context=v0(null),r=t.current,n=Ke(),i=Vr(r),a=dr(n,i),a.callback=e??null,Ur(r,a,i),t.current.lanes=i,ea(t,i,n),ot(t,n),t}function Sl(t,e,r,n){var i=e.current,a=Ke(),o=Vr(i);return r=v0(r),e.context===null?e.context=r:e.pendingContext=r,e=dr(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ur(i,e,o),t!==null&&(Lt(t,i,o,a),Xa(t,i,o)),o}function Mo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function vh(t,e){Lp(t,e),(t=t.alternate)&&Lp(t,e)}function oj(){return null}var w0=typeof reportError=="function"?reportError:function(t){console.error(t)};function bh(t){this._internalRoot=t}kl.prototype.render=bh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Sl(t,e,null,null)};kl.prototype.unmount=bh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sn(function(){Sl(null,t,null,null)}),e[fr]=null}};function kl(t){this._internalRoot=t}kl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jg();t={blockedOn:null,target:t,priority:e};for(var r=0;r<_r.length&&e!==0&&e<_r[r].priority;r++);_r.splice(r,0,t),r===0&&ex(t)}};function wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mp(){}function lj(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=Mo(o);a.call(d)}}var o=b0(e,n,t,0,null,!1,!1,"",Mp);return t._reactRootContainer=o,t[fr]=o.current,Pi(t.nodeType===8?t.parentNode:t),Sn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=Mo(c);l.call(d)}}var c=yh(t,0,!1,null,null,!1,!1,"",Mp);return t._reactRootContainer=c,t[fr]=c.current,Pi(t.nodeType===8?t.parentNode:t),Sn(function(){Sl(e,c,r,n)}),c}function El(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Mo(o);l.call(c)}}Sl(e,o,t,i)}else o=lj(r,e,t,i,n);return Mo(o)}Qg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=si(e.pendingLanes);r!==0&&(Fu(e,r|1),ot(e,je()),!(ne&6)&&(Ns=je()+500,tn()))}break;case 13:Sn(function(){var n=pr(t,1);if(n!==null){var i=Ke();Lt(n,t,1,i)}}),vh(t,1)}};Uu=function(t){if(t.tag===13){var e=pr(t,134217728);if(e!==null){var r=Ke();Lt(e,t,134217728,r)}vh(t,134217728)}};Xg=function(t){if(t.tag===13){var e=Vr(t),r=pr(t,e);if(r!==null){var n=Ke();Lt(r,t,e,n)}vh(t,e)}};Jg=function(){return ie};Zg=function(t,e){var r=ie;try{return ie=t,e()}finally{ie=r}};md=function(t,e,r){switch(e){case"input":if(ld(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=xl(n);if(!i)throw Error(B(90));Ig(n),ld(n,i)}}}break;case"textarea":Og(t,r);break;case"select":e=r.value,e!=null&&as(t,!!r.multiple,e,!1)}};Bg=ph;Fg=Sn;var cj={usingClientEntryPoint:!1,Events:[ra,Yn,xl,Mg,$g,ph]},Qs={findFiberByHostInstance:fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dj={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vg(t),t===null?null:t.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||oj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{fl=Da.inject(dj),Yt=Da}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cj;gt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wh(e))throw Error(B(200));return aj(t,e,null,r)};gt.createRoot=function(t,e){if(!wh(t))throw Error(B(299));var r=!1,n="",i=w0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yh(t,1,!1,null,null,r,!1,n,i),t[fr]=e.current,Pi(t.nodeType===8?t.parentNode:t),new bh(e)};gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Vg(e),t=t===null?null:t.stateNode,t};gt.flushSync=function(t){return Sn(t)};gt.hydrate=function(t,e,r){if(!_l(e))throw Error(B(200));return El(null,t,e,!0,r)};gt.hydrateRoot=function(t,e,r){if(!wh(t))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=w0;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=b0(e,null,t,1,r??null,i,!1,a,o),t[fr]=e.current,Pi(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new kl(e)};gt.render=function(t,e,r){if(!_l(e))throw Error(B(200));return El(null,t,e,!1,r)};gt.unmountComponentAtNode=function(t){if(!_l(t))throw Error(B(40));return t._reactRootContainer?(Sn(function(){El(null,null,t,!1,function(){t._reactRootContainer=null,t[fr]=null})}),!0):!1};gt.unstable_batchedUpdates=ph;gt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!_l(r))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return El(t,e,r,!1,n)};gt.version="18.3.1-next-f1338f8080-20240426";function j0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j0)}catch(t){console.error(t)}}j0(),jg.exports=gt;var uj=jg.exports,N0,$p=uj;N0=$p.createRoot,$p.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fi(){return Fi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fi.apply(this,arguments)}var Dr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Dr||(Dr={}));const Bp="popstate";function hj(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return Yd("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:$o(i)}return pj(e,r,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function S0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fj(){return Math.random().toString(36).substr(2,8)}function Fp(t,e){return{usr:t.state,key:t.key,idx:e}}function Yd(t,e,r,n){return r===void 0&&(r=null),Fi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ds(e):e,{state:r,key:e&&e.key||n||fj()})}function $o(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ds(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function pj(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Dr.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Fi({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Dr.Pop;let v=u(),m=v==null?null:v-d;d=v,c&&c({action:l,location:b.location,delta:m})}function f(v,m){l=Dr.Push;let p=Yd(b.location,v,m);d=u()+1;let y=Fp(p,d),w=b.createHref(p);try{o.pushState(y,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(w)}a&&c&&c({action:l,location:b.location,delta:1})}function g(v,m){l=Dr.Replace;let p=Yd(b.location,v,m);d=u();let y=Fp(p,d),w=b.createHref(p);o.replaceState(y,"",w),a&&c&&c({action:l,location:b.location,delta:0})}function x(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof v=="string"?v:$o(v);return p=p.replace(/ $/,"%20"),_e(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let b={get action(){return l},get location(){return t(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Bp,h),c=v,()=>{i.removeEventListener(Bp,h),c=null}},createHref(v){return e(i,v)},createURL:x,encodeLocation(v){let m=x(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(v){return o.go(v)}};return b}var Up;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Up||(Up={}));function mj(t,e,r){return r===void 0&&(r="/"),gj(t,e,r,!1)}function gj(t,e,r,n){let i=typeof e=="string"?Ds(e):e,a=jh(i.pathname||"/",r);if(a==null)return null;let o=k0(t);xj(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Cj(a);l=_j(o[c],d,n)}return l}function k0(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(_e(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Hr([n,c.relativePath]),u=r.concat(c);a.children&&a.children.length>0&&(_e(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),k0(a.children,e,u,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:Sj(d,a.index),routesMeta:u})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of _0(a.path))i(a,o,c)}),e}function _0(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=_0(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function xj(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:kj(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const yj=/^:[\w-]+$/,vj=3,bj=2,wj=1,jj=10,Nj=-2,zp=t=>t==="*";function Sj(t,e){let r=t.split("/"),n=r.length;return r.some(zp)&&(n+=Nj),e&&(n+=bj),r.filter(i=>!zp(i)).reduce((i,a)=>i+(yj.test(a)?vj:a===""?wj:jj),n)}function kj(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function _j(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",h=Vp({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=Vp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Hr([a,h.pathname]),pathnameBase:Oj(Hr([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Hr([a,h.pathnameBase]))}return o}function Vp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Ej(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let b=l[h]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[h];return g&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function Ej(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),S0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Cj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return S0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Tj(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ds(t):t;return{pathname:r?r.startsWith("/")?r:Ij(r,e):e,search:Aj(n),hash:Rj(i)}}function Ij(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Tc(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pj(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function E0(t,e){let r=Pj(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function C0(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ds(t):(i=Fi({},t),_e(!i.pathname||!i.pathname.includes("?"),Tc("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),Tc("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),Tc("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=Tj(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Hr=t=>t.join("/").replace(/\/\/+/g,"/"),Oj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Aj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Rj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Dj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const T0=["post","put","patch","delete"];new Set(T0);const Lj=["get",...T0];new Set(Lj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ui(){return Ui=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ui.apply(this,arguments)}const Nh=j.createContext(null),Mj=j.createContext(null),On=j.createContext(null),Cl=j.createContext(null),rn=j.createContext({outlet:null,matches:[],isDataRoute:!1}),I0=j.createContext(null);function $j(t,e){let{relative:r}=e===void 0?{}:e;sa()||_e(!1);let{basename:n,navigator:i}=j.useContext(On),{hash:a,pathname:o,search:l}=O0(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Hr([n,o])),i.createHref({pathname:c,search:l,hash:a})}function sa(){return j.useContext(Cl)!=null}function An(){return sa()||_e(!1),j.useContext(Cl).location}function P0(t){j.useContext(On).static||j.useLayoutEffect(t)}function lt(){let{isDataRoute:t}=j.useContext(rn);return t?Xj():Bj()}function Bj(){sa()||_e(!1);let t=j.useContext(Nh),{basename:e,future:r,navigator:n}=j.useContext(On),{matches:i}=j.useContext(rn),{pathname:a}=An(),o=JSON.stringify(E0(i,r.v7_relativeSplatPath)),l=j.useRef(!1);return P0(()=>{l.current=!0}),j.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=C0(d,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Hr([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,o,a,t])}function Sh(){let{matches:t}=j.useContext(rn),e=t[t.length-1];return e?e.params:{}}function O0(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=j.useContext(On),{matches:i}=j.useContext(rn),{pathname:a}=An(),o=JSON.stringify(E0(i,n.v7_relativeSplatPath));return j.useMemo(()=>C0(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function Fj(t,e){return Uj(t,e)}function Uj(t,e,r,n){sa()||_e(!1);let{navigator:i}=j.useContext(On),{matches:a}=j.useContext(rn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=An(),u;if(e){var h;let v=typeof e=="string"?Ds(e):e;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||_e(!1),u=v}else u=d;let f=u.pathname||"/",g=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=mj(t,{pathname:g}),b=qj(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Hr([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Hr([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&b?j.createElement(Cl.Provider,{value:{location:Ui({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Dr.Pop}},b):b}function zj(){let t=Qj(),e=Dj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:i},r):null,null)}const Vj=j.createElement(zj,null);class Wj extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(rn.Provider,{value:this.props.routeContext},j.createElement(I0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hj(t){let{routeContext:e,match:r,children:n}=t,i=j.useContext(Nh);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(rn.Provider,{value:e},n)}function qj(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||_e(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:g}=r,x=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let g,x=!1,b=null,v=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||Vj,c&&(d<0&&f===0?(x=!0,v=null):d===f&&(x=!0,v=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),p=()=>{let y;return g?y=b:x?y=v:h.route.Component?y=j.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,j.createElement(Hj,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(Wj,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var A0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(A0||{}),Bo=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bo||{});function Gj(t){let e=j.useContext(Nh);return e||_e(!1),e}function Yj(t){let e=j.useContext(Mj);return e||_e(!1),e}function Kj(t){let e=j.useContext(rn);return e||_e(!1),e}function R0(t){let e=Kj(),r=e.matches[e.matches.length-1];return r.route.id||_e(!1),r.route.id}function Qj(){var t;let e=j.useContext(I0),r=Yj(Bo.UseRouteError),n=R0(Bo.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Xj(){let{router:t}=Gj(A0.UseNavigateStable),e=R0(Bo.UseNavigateStable),r=j.useRef(!1);return P0(()=>{r.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ui({fromRouteId:e},a)))},[t,e])}function Jj(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function se(t){_e(!1)}function Zj(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Dr.Pop,navigator:a,static:o=!1,future:l}=t;sa()&&_e(!1);let c=e.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:a,static:o,future:Ui({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Ds(n));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:x="default"}=n,b=j.useMemo(()=>{let v=jh(u,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:g,key:x},navigationType:i}},[c,u,h,f,g,x,i]);return b==null?null:j.createElement(On.Provider,{value:d},j.createElement(Cl.Provider,{children:r,value:b}))}function eN(t){let{children:e,location:r}=t;return Fj(Kd(e),r)}new Promise(()=>{});function Kd(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,i)=>{if(!j.isValidElement(n))return;let a=[...e,i];if(n.type===j.Fragment){r.push.apply(r,Kd(n.props.children,a));return}n.type!==se&&_e(!1),!n.props.index||!n.props.children||_e(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Kd(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qd(){return Qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qd.apply(this,arguments)}function tN(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function rN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nN(t,e){return t.button===0&&(!e||e==="_self")&&!rN(t)}const sN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iN="6";try{window.__reactRouterVersion=iN}catch{}const aN="startTransition",Wp=ew[aN];function oN(t){let{basename:e,children:r,future:n,window:i}=t,a=j.useRef();a.current==null&&(a.current=hj({window:i,v5Compat:!0}));let o=a.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=j.useCallback(h=>{d&&Wp?Wp(()=>c(h)):c(h)},[c,d]);return j.useLayoutEffect(()=>o.listen(u),[o,u]),j.useEffect(()=>Jj(n),[n]),j.createElement(Zj,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const lN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U=j.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,f=tN(e,sN),{basename:g}=j.useContext(On),x,b=!1;if(typeof d=="string"&&cN.test(d)&&(x=d,lN))try{let y=new URL(window.location.href),w=d.startsWith("//")?new URL(y.protocol+d):new URL(d),N=jh(w.pathname,g);w.origin===y.origin&&N!=null?d=N+w.search+w.hash:b=!0}catch{}let v=$j(d,{relative:i}),m=dN(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function p(y){n&&n(y),y.defaultPrevented||m(y)}return j.createElement("a",Qd({},f,{href:x||v,onClick:b||a?n:p,ref:r,target:c}))});var Hp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hp||(Hp={}));var qp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qp||(qp={}));function dN(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=lt(),d=An(),u=O0(t,{relative:o});return j.useCallback(h=>{if(nN(h,r)){h.preventDefault();let f=n!==void 0?n:$o(d)===$o(u);c(t,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,n,i,r,t,a,o,l])}const uN=()=>{};var Gp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},hN=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},L0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,u=a>>2,h=(a&3)<<4|l>>4;let f=(l&15)<<2|d>>6,g=d&63;c||(g=64,o||(f=64)),n.push(r[u],r[h],r[f],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(D0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||h==null)throw new fN;const f=a<<2|l>>4;if(n.push(f),d!==64){const g=l<<4&240|d>>2;if(n.push(g),h!==64){const x=d<<6&192|h;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pN=function(t){const e=D0(t);return L0.encodeByteArray(e,!0)},Fo=function(t){return pN(t).replace(/\./g,"")},M0=function(t){try{return L0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=()=>mN().__FIREBASE_DEFAULTS__,xN=()=>{if(typeof process>"u"||typeof Gp>"u")return;const t=Gp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M0(t[1]);return e&&JSON.parse(e)},kh=()=>{try{return uN()||gN()||xN()||yN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$0=t=>{var e,r;return(r=(e=kh())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},vN=t=>{const e=$0(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},B0=()=>{var t;return(t=kh())===null||t===void 0?void 0:t.config},F0=t=>{var e;return(e=kh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fo(JSON.stringify(r)),Fo(JSON.stringify(o)),""].join(".")}const vi={};function jN(){const t={prod:[],emulator:[]};for(const e of Object.keys(vi))vi[e]?t.emulator.push(e):t.prod.push(e);return t}function NN(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let Yp=!1;function z0(t,e){if(typeof window>"u"||typeof document>"u"||!Ls(window.location.host)||vi[t]===e||vi[t]||Yp)return;vi[t]=e;function r(f){return`__firebase__banner__${f}`}const n="__firebase__banner",a=jN().prod.length>0;function o(){const f=document.getElementById(n);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Yp=!0,o()},f}function u(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=NN(n),g=r("text"),x=document.getElementById(g)||document.createElement("span"),b=r("learnmore"),v=document.getElementById(b)||document.createElement("a"),m=r("preprendIcon"),p=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const y=f.element;l(y),u(v,b);const w=d();c(p,m),y.append(p,x,v,w),document.body.appendChild(y)}a?(x.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function kN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _N(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CN(){const t=Qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TN(){try{return typeof indexedDB=="object"}catch{return!1}}function IN(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="FirebaseError";class br extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=PN,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ia.prototype.create)}}class ia{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?ON(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new br(i,l,n)}}function ON(t,e){return t.replace(AN,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const AN=/\{\$([^}]+)}/g;function RN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ss(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(Kp(a)&&Kp(o)){if(!Ss(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Kp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ai(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function oi(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function DN(t,e){const r=new LN(t,e);return r.subscribe.bind(r)}class LN{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");MN(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Ic),i.error===void 0&&(i.error=Ic),i.complete===void 0&&(i.complete=Ic);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MN(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Ic(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class kn{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new bN;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FN(e))try{this.getOrInitializeService({instanceIdentifier:hn})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=hn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hn){return this.instances.has(e)}getOptions(e=hn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:BN(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=hn){return this.component?this.component.multipleInstances?e:hn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BN(t){return t===hn?void 0:t}function FN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new $N(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const zN={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},VN=ae.INFO,WN={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},HN=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=WN[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V0{constructor(e){this.name=e,this._logLevel=VN,this._logHandler=HN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const qN=(t,e)=>e.some(r=>t instanceof r);let Qp,Xp;function GN(){return Qp||(Qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YN(){return Xp||(Xp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W0=new WeakMap,Xd=new WeakMap,H0=new WeakMap,Pc=new WeakMap,_h=new WeakMap;function KN(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(qr(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&W0.set(r,t)}).catch(()=>{}),_h.set(e,t),e}function QN(t){if(Xd.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Xd.set(t,e)}let Jd={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Xd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||H0.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return qr(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XN(t){Jd=t(Jd)}function JN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Oc(this),e,...r);return H0.set(n,e.sort?e.sort():[e]),qr(n)}:YN().includes(t)?function(...e){return t.apply(Oc(this),e),qr(W0.get(this))}:function(...e){return qr(t.apply(Oc(this),e))}}function ZN(t){return typeof t=="function"?JN(t):(t instanceof IDBTransaction&&QN(t),qN(t,GN())?new Proxy(t,Jd):t)}function qr(t){if(t instanceof IDBRequest)return KN(t);if(Pc.has(t))return Pc.get(t);const e=ZN(t);return e!==t&&(Pc.set(t,e),_h.set(e,t)),e}const Oc=t=>_h.get(t);function eS(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=qr(o);return n&&o.addEventListener("upgradeneeded",c=>{n(qr(o.result),c.oldVersion,c.newVersion,qr(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const tS=["get","getKey","getAll","getAllKeys","count"],rS=["put","add","delete","clear"],Ac=new Map;function Jp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ac.get(e))return Ac.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=rS.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||tS.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),i&&c.done]))[0]};return Ac.set(e,a),a}XN(t=>({...t,get:(e,r,n)=>Jp(e,r)||t.get(e,r,n),has:(e,r)=>!!Jp(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(sS(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function sS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zd="@firebase/app",Zp="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new V0("@firebase/app"),iS="@firebase/app-compat",aS="@firebase/analytics-compat",oS="@firebase/analytics",lS="@firebase/app-check-compat",cS="@firebase/app-check",dS="@firebase/auth",uS="@firebase/auth-compat",hS="@firebase/database",fS="@firebase/data-connect",pS="@firebase/database-compat",mS="@firebase/functions",gS="@firebase/functions-compat",xS="@firebase/installations",yS="@firebase/installations-compat",vS="@firebase/messaging",bS="@firebase/messaging-compat",wS="@firebase/performance",jS="@firebase/performance-compat",NS="@firebase/remote-config",SS="@firebase/remote-config-compat",kS="@firebase/storage",_S="@firebase/storage-compat",ES="@firebase/firestore",CS="@firebase/ai",TS="@firebase/firestore-compat",IS="firebase",PS="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="[DEFAULT]",OS={[Zd]:"fire-core",[iS]:"fire-core-compat",[oS]:"fire-analytics",[aS]:"fire-analytics-compat",[cS]:"fire-app-check",[lS]:"fire-app-check-compat",[dS]:"fire-auth",[uS]:"fire-auth-compat",[hS]:"fire-rtdb",[fS]:"fire-data-connect",[pS]:"fire-rtdb-compat",[mS]:"fire-fn",[gS]:"fire-fn-compat",[xS]:"fire-iid",[yS]:"fire-iid-compat",[vS]:"fire-fcm",[bS]:"fire-fcm-compat",[wS]:"fire-perf",[jS]:"fire-perf-compat",[NS]:"fire-rc",[SS]:"fire-rc-compat",[kS]:"fire-gcs",[_S]:"fire-gcs-compat",[ES]:"fire-fst",[TS]:"fire-fst-compat",[CS]:"fire-vertex","fire-js":"fire-js",[IS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Map,AS=new Map,tu=new Map;function em(t,e){try{t.container.addComponent(e)}catch(r){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ks(t){const e=t.name;if(tu.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;tu.set(e,t);for(const r of Uo.values())em(r,t);for(const r of AS.values())em(r,t);return!0}function Eh(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function wt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new ia("app","Firebase",RS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=PS;function q0(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:eu,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(r||(r=B0()),!r)throw Gr.create("no-options");const a=Uo.get(i);if(a){if(Ss(r,a.options)&&Ss(n,a.config))return a;throw Gr.create("duplicate-app",{appName:i})}const o=new UN(i);for(const c of tu.values())o.addComponent(c);const l=new DS(r,n,o);return Uo.set(i,l),l}function G0(t=eu){const e=Uo.get(t);if(!e&&t===eu&&B0())return q0();if(!e)throw Gr.create("no-app",{appName:t});return e}function Yr(t,e,r){var n;let i=(n=OS[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(l.join(" "));return}ks(new kn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firebase-heartbeat-database",MS=1,zi="firebase-heartbeat-store";let Rc=null;function Y0(){return Rc||(Rc=eS(LS,MS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zi)}catch(r){console.warn(r)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),Rc}async function $S(t){try{const r=(await Y0()).transaction(zi),n=await r.objectStore(zi).get(K0(t));return await r.done,n}catch(e){if(e instanceof br)gr.warn(e.message);else{const r=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(r.message)}}}async function tm(t,e){try{const n=(await Y0()).transaction(zi,"readwrite");await n.objectStore(zi).put(e,K0(t)),await n.done}catch(r){if(r instanceof br)gr.warn(r.message);else{const n=Gr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});gr.warn(n.message)}}}function K0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=1024,FS=30;class US{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new VS(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=rm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>FS){const o=WS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){gr.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=rm(),{heartbeatsToSend:n,unsentEntries:i}=zS(this._heartbeatsCache.heartbeats),a=Fo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return gr.warn(r),""}}}function rm(){return new Date().toISOString().substring(0,10)}function zS(t,e=BS){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),nm(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),nm(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class VS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TN()?IN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await $S(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return tm(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return tm(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nm(t){return Fo(JSON.stringify({version:2,heartbeats:t})).length}function WS(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){ks(new kn("platform-logger",e=>new nS(e),"PRIVATE")),ks(new kn("heartbeat",e=>new US(e),"PRIVATE")),Yr(Zd,Zp,t),Yr(Zd,Zp,"esm2017"),Yr("fire-js","")}HS("");function Ch(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qS=Q0,X0=new ia("auth","Firebase",Q0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new V0("@firebase/auth");function GS(t,...e){zo.logLevel<=ae.WARN&&zo.warn(`Auth (${Ms}): ${t}`,...e)}function so(t,...e){zo.logLevel<=ae.ERROR&&zo.error(`Auth (${Ms}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,...e){throw Th(t,...e)}function Qt(t,...e){return Th(t,...e)}function J0(t,e,r){const n=Object.assign(Object.assign({},qS()),{[e]:r});return new ia("auth","Firebase",n).create(e,{appName:t.name})}function ur(t){return J0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Th(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return X0.create(t,...e)}function Q(t,e,...r){if(!t)throw Th(e,...r)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw so(e),new Error(e)}function xr(t,e){t||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YS(){return sm()==="http:"||sm()==="https:"}function sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YS()||_N()||"connection"in navigator)?navigator.onLine:!0}function QS(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,r){this.shortDelay=e,this.longDelay=r,xr(r>e,"Short delay should be less than long delay!"),this.isMobile=SN()||EN()}get(){return KS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t,e){xr(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZS=new oa(3e4,6e4);function nn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sn(t,e,r,n,i={}){return ey(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=aa(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},a);return kN()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ls(t.emulatorConfig.host)&&(d.credentials="include"),Z0.fetch()(await ty(t,t.config.apiHost,r,l),d)})}async function ey(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},XS),e);try{const i=new tk(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw La(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw La(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw La(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw La(t,"user-disabled",o);const u=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw J0(t,u,d);$t(t,u)}}catch(i){if(i instanceof br)throw i;$t(t,"network-request-failed",{message:String(i)})}}async function la(t,e,r,n,i={}){const a=await sn(t,e,r,n,i);return"mfaPendingCredential"in a&&$t(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function ty(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?Ih(t.config,i):`${t.config.apiScheme}://${i}`;return JS.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function ek(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Qt(this.auth,"network-request-failed")),ZS.get())})}}function La(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Qt(t,e,n);return i.customData._tokenResponse=r,i}function im(t){return t!==void 0&&t.enterprise!==void 0}class rk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return ek(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nk(t,e){return sn(t,"GET","/v2/recaptchaConfig",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(t,e){return sn(t,"POST","/v1/accounts:delete",e)}async function Vo(t,e){return sn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ik(t,e=!1){const r=_t(t),n=await r.getIdToken(e),i=Ph(n);Q(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:bi(Dc(i.auth_time)),issuedAtTime:bi(Dc(i.iat)),expirationTime:bi(Dc(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Dc(t){return Number(t)*1e3}function Ph(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return so("JWT malformed, contained fewer than 3 sections"),null;try{const i=M0(r);return i?JSON.parse(i):(so("Failed to decode base64 JWT payload"),null)}catch(i){return so("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function am(t){const e=Ph(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vi(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof br&&ak(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function ak({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=bi(this.lastLoginAt),this.creationTime=bi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Vi(t,Vo(r,{idToken:n}));Q(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?ry(a.providerUserInfo):[],l=ck(t.providerData,o),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),u=c?d:!1,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new nu(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function lk(t){const e=_t(t);await Wo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ck(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function ry(t){return t.map(e=>{var{providerId:r}=e,n=Ch(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t,e){const r=await ey(t,{},async()=>{const n=aa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await ty(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&Ls(t.emulatorConfig.host)&&(c.credentials="include"),Z0.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function uk(t,e){return sn(t,"POST","/v2/accounts:revokeToken",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):am(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const r=am(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await dk(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new hs;return n&&(Q(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Q(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hs,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rt{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=Ch(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ok(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new nu(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Vi(this,this.stsTokenManager.getToken(this.auth,e));return Q(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return ik(this,e)}reload(){return lk(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Rt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Wo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wt(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await Vi(this,sk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,l,c,d,u;const h=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(i=r.email)!==null&&i!==void 0?i:void 0,g=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,x=(o=r.photoURL)!==null&&o!==void 0?o:void 0,b=(l=r.tenantId)!==null&&l!==void 0?l:void 0,v=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,m=(d=r.createdAt)!==null&&d!==void 0?d:void 0,p=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:y,emailVerified:w,isAnonymous:N,providerData:_,stsTokenManager:S}=r;Q(y&&S,e,"internal-error");const E=hs.fromJSON(this.name,S);Q(typeof y=="string",e,"internal-error"),Nr(h,e.name),Nr(f,e.name),Q(typeof w=="boolean",e,"internal-error"),Q(typeof N=="boolean",e,"internal-error"),Nr(g,e.name),Nr(x,e.name),Nr(b,e.name),Nr(v,e.name),Nr(m,e.name),Nr(p,e.name);const k=new Rt({uid:y,auth:e,email:f,emailVerified:w,displayName:h,isAnonymous:N,photoURL:x,phoneNumber:g,tenantId:b,stsTokenManager:E,createdAt:m,lastLoginAt:p});return _&&Array.isArray(_)&&(k.providerData=_.map(T=>Object.assign({},T))),v&&(k._redirectEventId=v),k}static async _fromIdTokenResponse(e,r,n=!1){const i=new hs;i.updateFromServerResponse(r);const a=new Rt({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Wo(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Q(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?ry(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new hs;l.updateFromIdToken(n);const c=new Rt({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new nu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=new Map;function cr(t){xr(t instanceof Function,"Expected a class definition");let e=om.get(t);return e?(xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,om.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}ny.type="NONE";const lm=ny;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t,e,r){return`firebase:${t}:${e}:${r}`}class fs{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=io(this.userKey,i.apiKey,a),this.fullPersistenceKey=io("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Vo(this.auth,{idToken:e}).catch(()=>{});return r?Rt._fromGetAccountInfoResponse(this.auth,r,e):null}return Rt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new fs(cr(lm),e,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||cr(lm);const o=io(n,e.config.apiKey,e.name);let l=null;for(const d of r)try{const u=await d._get(o);if(u){let h;if(typeof u=="string"){const f=await Vo(e,{idToken:u}).catch(()=>{});if(!f)break;h=await Rt._fromGetAccountInfoResponse(e,f,u)}else h=Rt._fromJSON(e,u);d!==a&&(l=h),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new fs(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new fs(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cy(e))return"Blackberry";if(dy(e))return"Webos";if(iy(e))return"Safari";if((e.includes("chrome/")||ay(e))&&!e.includes("edge/"))return"Chrome";if(ly(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function sy(t=Qe()){return/firefox\//i.test(t)}function iy(t=Qe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ay(t=Qe()){return/crios\//i.test(t)}function oy(t=Qe()){return/iemobile/i.test(t)}function ly(t=Qe()){return/android/i.test(t)}function cy(t=Qe()){return/blackberry/i.test(t)}function dy(t=Qe()){return/webos/i.test(t)}function Oh(t=Qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hk(t=Qe()){var e;return Oh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fk(){return CN()&&document.documentMode===10}function uy(t=Qe()){return Oh(t)||ly(t)||dy(t)||cy(t)||/windows phone/i.test(t)||oy(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e=[]){let r;switch(t){case"Browser":r=cm(Qe());break;case"Worker":r=`${cm(Qe())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ms}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(t,e={}){return sn(t,"GET","/v2/passwordPolicy",nn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=6;class xk{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:gk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dm(this),this.idTokenSubscription=new dm(this),this.beforeStateQueue=new pk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=cr(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await fs.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Vo(this,{idToken:e}),n=await Rt._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(wt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Wo(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wt(this.app))return Promise.reject(ur(this));const r=e?_t(e):null;return r&&Q(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wt(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wt(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mk(this),r=new xk(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ia("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await uk(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&cr(e)||this._popupRedirectResolver;Q(r,this,"argument-error"),this.redirectPersistenceManager=await fs.create(this,[cr(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&GS(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Rn(t){return _t(t)}class dm{constructor(e){this.auth=e,this.observer=null,this.addObserver=DN(r=>this.observer=r)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vk(t){Tl=t}function fy(t){return Tl.loadJS(t)}function bk(){return Tl.recaptchaEnterpriseScript}function wk(){return Tl.gapiScript}function jk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Nk{constructor(){this.enterprise=new Sk}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Sk{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const kk="recaptcha-enterprise",py="NO_RECAPTCHA";class _k{constructor(e){this.type=kk,this.auth=Rn(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{nk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new rk(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;im(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(py)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Nk().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&im(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=bk();c.length!==0&&(c+=l),fy(c).then(()=>{i(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function um(t,e,r,n=!1,i=!1){const a=new _k(t);let o;if(i)o=py;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function su(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await um(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await um(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t,e){const r=Eh(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Ss(a,e??{}))return i;$t(i,"already-initialized")}return r.initialize({options:e})}function Ck(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Tk(t,e,r){const n=Rn(t);Q(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=my(e),{host:o,port:l}=Ik(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Q(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Q(Ss(d,n.config.emulator)&&Ss(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,Ls(o)?(U0(`${a}//${o}${c}`),z0("Auth",!0)):Pk()}function my(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ik(t){const e=my(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:hm(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:hm(o)}}}function hm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Pk(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,r){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function Ok(t,e){return sn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t,e){return la(t,"POST","/v1/accounts:signInWithPassword",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(t,e){return la(t,"POST","/v1/accounts:signInWithEmailLink",nn(t,e))}async function Dk(t,e){return la(t,"POST","/v1/accounts:signInWithEmailLink",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Ah{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Wi(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Wi(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return su(e,r,"signInWithPassword",Ak);case"emailLink":return Rk(e,{email:this._email,oobCode:this._password});default:$t(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return su(e,n,"signUpPassword",Ok);case"emailLink":return Dk(e,{idToken:r,email:this._email,oobCode:this._password});default:$t(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(t,e){return la(t,"POST","/v1/accounts:signInWithIdp",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="http://localhost";class _n extends Ah{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new _n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):$t("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=Ch(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new _n(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return ps(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,ps(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,ps(e,r)}buildRequest(){const e={requestUri:Lk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=aa(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $k(t){const e=ai(oi(t)).link,r=e?ai(oi(e)).deep_link_id:null,n=ai(oi(t)).deep_link_id;return(n?ai(oi(n)).link:null)||n||r||e||t}class Rh{constructor(e){var r,n,i,a,o,l;const c=ai(oi(e)),d=(r=c.apiKey)!==null&&r!==void 0?r:null,u=(n=c.oobCode)!==null&&n!==void 0?n:null,h=Mk((i=c.mode)!==null&&i!==void 0?i:null);Q(d&&u&&h,"argument-error"),this.apiKey=d,this.operation=h,this.code=u,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=$k(e);try{return new Rh(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.providerId=$s.PROVIDER_ID}static credential(e,r){return Wi._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Rh.parseLink(r);return Q(n,"argument-error"),Wi._fromEmailAndCode(e,n.code,n.tenantId)}}$s.PROVIDER_ID="password";$s.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$s.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends gy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends ca{constructor(){super("facebook.com")}static credential(e){return _n._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends ca{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return _n._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Tr.credential(r,n)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends ca{constructor(){super("github.com")}static credential(e){return _n._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends ca{constructor(){super("twitter.com")}static credential(e,r){return _n._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Pr.credential(r,n)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(t,e){return la(t,"POST","/v1/accounts:signUp",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Rt._fromIdTokenResponse(e,n,i),o=fm(n);return new En({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=fm(n);return new En({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function fm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends br{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Ho.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Ho(e,r,n,i)}}function xy(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ho._fromErrorAndOperation(t,a,e,n):a})}async function Fk(t,e,r=!1){const n=await Vi(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return En._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(t,e,r=!1){const{auth:n}=t;if(wt(n.app))return Promise.reject(ur(n));const i="reauthenticate";try{const a=await Vi(t,xy(n,i,e,t),r);Q(a.idToken,n,"internal-error");const o=Ph(a.idToken);Q(o,n,"internal-error");const{sub:l}=o;return Q(t.uid===l,n,"user-mismatch"),En._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&$t(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yy(t,e,r=!1){if(wt(t.app))return Promise.reject(ur(t));const n="signIn",i=await xy(t,n,e),a=await En._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function zk(t,e){return yy(Rn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vy(t){const e=Rn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Vk(t,e,r){if(wt(t.app))return Promise.reject(ur(t));const n=Rn(t),o=await su(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bk).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&vy(t),c}),l=await En._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function pm(t,e,r){return wt(t.app)?Promise.reject(ur(t)):zk(_t(t),$s.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&vy(t),n})}function Wk(t,e,r,n){return _t(t).onIdTokenChanged(e,r,n)}function Hk(t,e,r){return _t(t).beforeAuthStateChanged(e,r)}function qk(t){return _t(t).signOut()}const qo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(qo,"1"),this.storage.removeItem(qo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=1e3,Yk=10;class wy extends by{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);fk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Yk):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Gk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}wy.type="LOCAL";const Kk=wy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy extends by{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}jy.type="SESSION";const Ny=jy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Il(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async d=>d(r.origin,a)),c=await Qk(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Il.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=Dh("",20);i.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(u),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return window}function Jk(t){Xt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(){return typeof Xt().WorkerGlobalScope<"u"&&typeof Xt().importScripts=="function"}async function Zk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function t2(){return Sy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="firebaseLocalStorageDb",r2=1,Go="firebaseLocalStorage",_y="fbase_key";class da{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Pl(t,e){return t.transaction([Go],e?"readwrite":"readonly").objectStore(Go)}function n2(){const t=indexedDB.deleteDatabase(ky);return new da(t).toPromise()}function iu(){const t=indexedDB.open(ky,r2);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Go,{keyPath:_y})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Go)?e(n):(n.close(),await n2(),e(await iu()))})})}async function mm(t,e,r){const n=Pl(t,!0).put({[_y]:e,value:r});return new da(n).toPromise()}async function s2(t,e){const r=Pl(t,!1).get(e),n=await new da(r).toPromise();return n===void 0?null:n.value}function gm(t,e){const r=Pl(t,!0).delete(e);return new da(r).toPromise()}const i2=800,a2=3;class Ey{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iu(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>a2)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Il._getInstance(t2()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Zk(),!this.activeServiceWorker)return;this.sender=new Xk(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iu();return await mm(e,qo,"1"),await gm(e,qo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>mm(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>s2(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>gm(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Pl(i,!1).getAll();return new da(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ey.type="LOCAL";const o2=Ey;new oa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e){return e?cr(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends Ah{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ps(e,this._buildIdpRequest())}_linkToIdToken(e,r){return ps(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return ps(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function c2(t){return yy(t.auth,new Lh(t),t.bypassAuthState)}function d2(t){const{auth:e,user:r}=t;return Q(r,e,"internal-error"),Uk(r,new Lh(t),t.bypassAuthState)}async function u2(t){const{auth:e,user:r}=t;return Q(r,e,"internal-error"),Fk(r,new Lh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c2;case"linkViaPopup":case"linkViaRedirect":return u2;case"reauthViaPopup":case"reauthViaRedirect":return d2;default:$t(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new oa(2e3,1e4);class ts extends Cy{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,ts.currentPopupAction&&ts.currentPopupAction.cancel(),ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=Dh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Qt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h2.get())};e()}}ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="pendingRedirect",ao=new Map;class p2 extends Cy{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=ao.get(this.auth._key());if(!e){try{const n=await m2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}ao.set(this.auth._key(),e)}return this.bypassAuthState||ao.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m2(t,e){const r=y2(e),n=x2(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function g2(t,e){ao.set(t._key(),e)}function x2(t){return cr(t._redirectPersistence)}function y2(t){return io(f2,t.config.apiKey,t.name)}async function v2(t,e,r=!1){if(wt(t.app))return Promise.reject(ur(t));const n=Rn(t),i=l2(n,e),o=await new p2(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=10*60*1e3;class w2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j2(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!Ty(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Qt(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b2&&this.cachedEventUids.clear(),this.cachedEventUids.has(xm(e))}saveEventToCache(e){this.cachedEventUids.add(xm(e)),this.lastProcessedEventTime=Date.now()}}function xm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ty({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ty(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(t,e={}){return sn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k2=/^https?/;async function _2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await N2(t);for(const r of e)try{if(E2(r))return}catch{}$t(t,"unauthorized-domain")}function E2(t){const e=ru(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!k2.test(r))return!1;if(S2.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new oa(3e4,6e4);function ym(){const t=Xt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function T2(t){return new Promise((e,r)=>{var n,i,a;function o(){ym(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ym(),r(Qt(t,"network-request-failed"))},timeout:C2.get()})}if(!((i=(n=Xt().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Xt().gapi)===null||a===void 0)&&a.load)o();else{const l=jk("iframefcb");return Xt()[l]=()=>{gapi.load?o():r(Qt(t,"network-request-failed"))},fy(`${wk()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw oo=null,e})}let oo=null;function I2(t){return oo=oo||T2(t),oo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new oa(5e3,15e3),O2="__/auth/iframe",A2="emulator/auth/iframe",R2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L2(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Ih(e,A2):`https://${t.config.authDomain}/${O2}`,n={apiKey:e.apiKey,appName:t.name,v:Ms},i=D2.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${aa(n).slice(1)}`}async function M2(t){const e=await I2(t),r=Xt().gapi;return Q(r,t,"internal-error"),e.open({where:document.body,url:L2(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R2,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Qt(t,"network-request-failed"),l=Xt().setTimeout(()=>{a(o)},P2.get());function c(){Xt().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B2=500,F2=600,U2="_blank",z2="http://localhost";class vm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V2(t,e,r,n=B2,i=F2){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},$2),{width:n.toString(),height:i.toString(),top:a,left:o}),d=Qe().toLowerCase();r&&(l=ay(d)?U2:r),sy(d)&&(e=e||z2,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[g,x])=>`${f}${g}=${x},`,"");if(hk(d)&&l!=="_self")return W2(e||"",l),new vm(null);const h=window.open(e||"",l,u);Q(h,t,"popup-blocked");try{h.focus()}catch{}return new vm(h)}function W2(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="__/auth/handler",q2="emulator/auth/handler",G2=encodeURIComponent("fac");async function bm(t,e,r,n,i,a){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Ms,eventId:i};if(e instanceof gy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",RN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof ca){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await t._getAppCheckToken(),d=c?`#${G2}=${encodeURIComponent(c)}`:"";return`${Y2(t)}?${aa(l).slice(1)}${d}`}function Y2({config:t}){return t.emulator?Ih(t,q2):`https://${t.authDomain}/${H2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="webStorageSupport";class K2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ny,this._completeRedirectFn=v2,this._overrideRedirectResult=g2}async _openPopup(e,r,n,i){var a;xr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await bm(e,r,n,ru(),i);return V2(e,o,Dh())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await bm(e,r,n,ru(),i);return Jk(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(xr(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await M2(e),n=new w2(e);return r.register("authEvent",i=>(Q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Lc,{type:Lc},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Lc];o!==void 0&&r(!!o),$t(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=_2(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return uy()||iy()||Oh()}}const Q2=K2;var wm="@firebase/auth",jm="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z2(t){ks(new kn("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hy(t)},d=new yk(n,i,a,c);return Ck(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ks(new kn("auth-internal",e=>{const r=Rn(e.getProvider("auth").getImmediate());return(n=>new X2(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(wm,jm,J2(t)),Yr(wm,jm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=5*60,t_=F0("authIdTokenMaxAge")||e_;let Nm=null;const r_=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>t_)return;const i=r==null?void 0:r.token;Nm!==i&&(Nm=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function n_(t=G0()){const e=Eh(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Ek(t,{popupRedirectResolver:Q2,persistence:[o2,Kk,Ny]}),n=F0("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=r_(a.toString());Hk(r,o,()=>o(r.currentUser)),Wk(r,l=>o(l))}}const i=$0("auth");return i&&Tk(r,`http://${i}`),r}function s_(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vk({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Qt("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",s_().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z2("Browser");var i_="firebase",a_="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(i_,a_,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="firebasestorage.googleapis.com",Py="storageBucket",o_=2*60*1e3,l_=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we extends br{constructor(e,r,n=0){super(Mc(e),`Firebase Storage: ${r} (${Mc(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,we.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var be;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(be||(be={}));function Mc(t){return"storage/"+t}function Mh(){const t="An unknown error occurred, please check the error payload for server response.";return new we(be.UNKNOWN,t)}function c_(t){return new we(be.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function d_(t){return new we(be.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function u_(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new we(be.UNAUTHENTICATED,t)}function h_(){return new we(be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function f_(t){return new we(be.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function p_(){return new we(be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function m_(){return new we(be.CANCELED,"User canceled the upload/download.")}function g_(t){return new we(be.INVALID_URL,"Invalid URL '"+t+"'.")}function x_(t){return new we(be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function y_(){return new we(be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Py+"' property when initializing the app?")}function v_(){return new we(be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function b_(){return new we(be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function w_(t){return new we(be.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function au(t){return new we(be.INVALID_ARGUMENT,t)}function Oy(){return new we(be.APP_DELETED,"The Firebase app was deleted.")}function j_(t){return new we(be.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wi(t,e){return new we(be.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Xs(t){throw new we(be.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=ht.makeFromUrl(e,r)}catch{return new ht(e,"")}if(n.path==="")return n;throw x_(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(w){w.path_=decodeURIComponent(w.path)}const u="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${u}/b/${i}/o${f}`,"i"),x={bucket:1,path:3},b=r===Iy?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",m=new RegExp(`^https?://${b}/${i}/${v}`,"i"),y=[{regex:l,indices:c,postModify:a},{regex:g,indices:x,postModify:d},{regex:m,indices:{bucket:1,path:2},postModify:d}];for(let w=0;w<y.length;w++){const N=y[w],_=N.regex.exec(e);if(_){const S=_[N.indices.bucket];let E=_[N.indices.path];E||(E=""),n=new ht(S,E),N.postModify(n);break}}if(n==null)throw g_(e);return n}}class N_{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t,e,r){let n=1,i=null,a=null,o=!1,l=0;function c(){return l===2}let d=!1;function u(...v){d||(d=!0,e.apply(null,v))}function h(v){i=setTimeout(()=>{i=null,t(g,c())},v)}function f(){a&&clearTimeout(a)}function g(v,...m){if(d){f();return}if(v){f(),u.call(null,v,...m);return}if(c()||o){f(),u.call(null,v,...m);return}n<64&&(n*=2);let y;l===1?(l=2,y=0):y=(n+Math.random())*1e3,h(y)}let x=!1;function b(v){x||(x=!0,f(),!d&&(i!==null?(v||(l=2),clearTimeout(i),h(0)):v||(l=1)))}return h(0),a=setTimeout(()=>{o=!0,b(!0)},r),b}function k_(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){return t!==void 0}function E_(t){return typeof t=="object"&&!Array.isArray(t)}function $h(t){return typeof t=="string"||t instanceof String}function Sm(t){return Bh()&&t instanceof Blob}function Bh(){return typeof Blob<"u"}function km(t,e,r,n){if(n<e)throw au(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw au(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function Ay(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var yn;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(yn||(yn={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,r,n,i,a,o,l,c,d,u,h,f=!0,g=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Ma(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===yn.NO_ERROR,c=a.getStatus();if(!l||C_(c,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===yn.ABORT;n(!1,new Ma(!1,null,u));return}const d=this.successCodes_.indexOf(c)!==-1;n(!0,new Ma(d,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());__(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=Mh();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?Oy():m_();o(c)}else{const c=p_();o(c)}};this.canceled_?r(!1,new Ma(!1,null,!0)):this.backoffId_=S_(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&k_(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ma{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function I_(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function P_(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function O_(t,e){e&&(t["X-Firebase-GMPID"]=e)}function A_(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function R_(t,e,r,n,i,a,o=!0,l=!1){const c=Ay(t.urlParams),d=t.url+c,u=Object.assign({},t.headers);return O_(u,e),I_(u,r),P_(u,a),A_(u,n),new T_(d,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function L_(...t){const e=D_();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(Bh())return new Blob(t);throw new we(be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function M_(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){if(typeof atob>"u")throw w_("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $c{constructor(e,r){this.data=e,this.contentType=r||null}}function B_(t,e){switch(t){case qt.RAW:return new $c(Ry(e));case qt.BASE64:case qt.BASE64URL:return new $c(Dy(t,e));case qt.DATA_URL:return new $c(U_(e),z_(e))}throw Mh()}function Ry(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,o=t.charCodeAt(++r);n=65536|(a&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function F_(t){let e;try{e=decodeURIComponent(t)}catch{throw wi(qt.DATA_URL,"Malformed data URL.")}return Ry(e)}function Dy(t,e){switch(t){case qt.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw wi(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qt.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw wi(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=$_(e)}catch(i){throw i.message.includes("polyfill")?i:wi(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class Ly{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw wi(qt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=V_(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function U_(t){const e=new Ly(t);return e.base64?Dy(qt.BASE64,e.rest):F_(e.rest)}function z_(t){return new Ly(t).contentType}function V_(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,r){let n=0,i="";Sm(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(Sm(this.data_)){const n=this.data_,i=M_(n,e,r);return i===null?null:new Or(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Or(n,!0)}}static getBlob(...e){if(Bh()){const r=e.map(n=>n instanceof Or?n.data_:n);return new Or(L_.apply(null,r))}else{const r=e.map(o=>$h(o)?B_(qt.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(o=>{for(let l=0;l<o.length;l++)i[a++]=o[l]}),new Or(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){let e;try{e=JSON.parse(t)}catch{return null}return E_(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function H_(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function $y(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t,e){return e}class qe{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||q_}}let $a=null;function G_(t){return!$h(t)||t.length<2?t:$y(t)}function By(){if($a)return $a;const t=[];t.push(new qe("bucket")),t.push(new qe("generation")),t.push(new qe("metageneration")),t.push(new qe("name","fullPath",!0));function e(a,o){return G_(o)}const r=new qe("name");r.xform=e,t.push(r);function n(a,o){return o!==void 0?Number(o):o}const i=new qe("size");return i.xform=n,t.push(i),t.push(new qe("timeCreated")),t.push(new qe("updated")),t.push(new qe("md5Hash",null,!0)),t.push(new qe("cacheControl",null,!0)),t.push(new qe("contentDisposition",null,!0)),t.push(new qe("contentEncoding",null,!0)),t.push(new qe("contentLanguage",null,!0)),t.push(new qe("contentType",null,!0)),t.push(new qe("metadata","customMetadata",!0)),$a=t,$a}function Y_(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new ht(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function K_(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const o=r[a];n[o.local]=o.xform(n,e[o.server])}return Y_(n,t),n}function Fy(t,e,r){const n=My(e);return n===null?null:K_(t,n,r)}function Q_(t,e,r,n){const i=My(e);if(i===null||!$h(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(d=>{const u=t.bucket,h=t.fullPath,f="/b/"+o(u)+"/o/"+o(h),g=Fh(f,r,n),x=Ay({alt:"media",token:d});return g+x})[0]}function X_(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class Uy{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t){if(!t)throw Mh()}function J_(t,e){function r(n,i){const a=Fy(t,i,e);return zy(a!==null),a}return r}function Z_(t,e){function r(n,i){const a=Fy(t,i,e);return zy(a!==null),Q_(a,i,t.host,t._protocol)}return r}function Vy(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=h_():i=u_():r.getStatus()===402?i=d_(t.bucket):r.getStatus()===403?i=f_(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function eE(t){const e=Vy(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=c_(t.path)),a.serverResponse=i.serverResponse,a}return r}function tE(t,e,r){const n=e.fullServerUrl(),i=Fh(n,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new Uy(i,a,Z_(t,r),o);return l.errorHandler=eE(e),l}function rE(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function nE(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=rE(null,e)),n}function sE(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let y="";for(let w=0;w<2;w++)y=y+Math.random().toString().slice(2);return y}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const d=nE(e,n,i),u=X_(d,r),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,f=`\r
--`+c+"--",g=Or.getBlob(h,n,f);if(g===null)throw v_();const x={name:d.fullPath},b=Fh(a,t.host,t._protocol),v="POST",m=t.maxUploadRetryTime,p=new Uy(b,v,J_(t,r),m);return p.urlParams=x,p.headers=o,p.body=g.uploadData(),p.errorHandler=Vy(e),p}class iE{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yn.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yn.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yn.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,a){if(this.sent_)throw Xs("cannot .send() more than once");if(Ls(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class aE extends iE{initXhr(){this.xhr_.responseType="text"}}function Wy(){return new aE}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,r){this._service=e,r instanceof ht?this._location=r:this._location=ht.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Cn(e,r)}get root(){const e=new ht(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $y(this._location.path)}get storage(){return this._service}get parent(){const e=W_(this._location.path);if(e===null)return null;const r=new ht(this._location.bucket,e);return new Cn(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw j_(e)}}function oE(t,e,r){t._throwIfRoot("uploadBytes");const n=sE(t.storage,t._location,By(),new Or(e,!0),r);return t.storage.makeRequestWithTokens(n,Wy).then(i=>({metadata:i,ref:t}))}function lE(t){t._throwIfRoot("getDownloadURL");const e=tE(t.storage,t._location,By());return t.storage.makeRequestWithTokens(e,Wy).then(r=>{if(r===null)throw b_();return r})}function cE(t,e){const r=H_(t._location.path,e),n=new ht(t._location.bucket,r);return new Cn(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){return/^[A-Za-z]+:\/\//.test(t)}function uE(t,e){return new Cn(t,e)}function Hy(t,e){if(t instanceof Uh){const r=t;if(r._bucket==null)throw y_();const n=new Cn(r,r._bucket);return e!=null?Hy(n,e):n}else return e!==void 0?cE(t,e):t}function hE(t,e){if(e&&dE(e)){if(t instanceof Uh)return uE(t,e);throw au("To use ref(service, url), the first argument must be a Storage instance.")}else return Hy(t,e)}function _m(t,e){const r=e==null?void 0:e[Py];return r==null?null:ht.makeFromBucketSpec(r,t)}function fE(t,e,r,n={}){t.host=`${e}:${r}`;const i=Ls(e);i&&(U0(`https://${t.host}/b`),z0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:wN(a,t.app.options.projectId))}class Uh{constructor(e,r,n,i,a,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=Iy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o_,this._maxUploadRetryTime=l_,this._requests=new Set,i!=null?this._bucket=ht.makeFromBucketSpec(i,this._host):this._bucket=_m(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ht.makeFromBucketSpec(this._url,e):this._bucket=_m(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){km("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){km("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cn(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new N_(Oy());{const o=R_(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const Em="@firebase/storage",Cm="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="storage";function _s(t,e,r){return t=_t(t),oE(t,e,r)}function Es(t){return t=_t(t),lE(t)}function Cs(t,e){return t=_t(t),hE(t,e)}function pE(t=G0(),e){t=_t(t);const n=Eh(t,qy).getImmediate({identifier:e}),i=vN("storage");return i&&mE(n,...i),n}function mE(t,e,r,n={}){fE(t,e,r,n)}function gE(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Uh(r,n,i,e,Ms)}function xE(){ks(new kn(qy,gE,"PUBLIC").setMultipleInstances(!0)),Yr(Em,Cm,""),Yr(Em,Cm,"esm2017")}xE();const yE={apiKey:"AIzaSyCg8I0ffnAWnoXOf_2nECrwY2CS6RQItUs",authDomain:"all-in-one-98568.firebaseapp.com",projectId:"all-in-one-98568",storageBucket:"all-in-one-98568.firebasestorage.app",messagingSenderId:"86801808333",appId:"1:86801808333:web:7bd536c9fa784b32ed2284"},Gy=q0(yE),Ts=pE(Gy),Js=n_(Gy),Yy=j.createContext(),Ee=()=>{const t=j.useContext(Yy);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},vE=({children:t})=>{const[e,r]=j.useState(null),[n,i]=j.useState(!0);j.useEffect(()=>{const h=localStorage.getItem("token");h?a(h):i(!1)},[]);const a=async h=>{try{const f=await fetch("https://aio-backend-x770.onrender.com/api/auth/me",{headers:{Authorization:`Bearer ${h}`}});if(f.ok){const g=await f.json();r(g.user)}else localStorage.removeItem("token")}catch(f){console.error("Error fetching user:",f),localStorage.removeItem("token")}finally{i(!1)}},u={user:e,login:async(h,f)=>{try{const g=await fetch("https://aio-backend-x770.onrender.com/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,password:f})}),x=await g.json();if(!g.ok)return{success:!1,error:x.error};try{await pm(Js,h,f)}catch{return{success:!1,error:"Firebase login failed"}}return localStorage.setItem("token",x.token),r(x.user),{success:!0}}catch{return{success:!1,error:"Network error"}}},register:async h=>{try{await Vk(Js,h.email,h.password),await pm(Js,h.email,h.password);const f=await fetch("https://aio-backend-x770.onrender.com/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}),g=await f.json();if(f.ok)return localStorage.setItem("token",g.token),r(g.user),{success:!0};{const x=Js.currentUser;return x&&await x.delete(),{success:!1,error:g.error}}}catch(f){return{success:!1,error:"Registration failed: "+f.message}}},logout:()=>{localStorage.removeItem("token"),r(null),qk(Js)},refreshUser:async()=>{const h=localStorage.getItem("token");if(h)try{const f=await fetch("https://aio-backend-x770.onrender.com/api/auth/me",{headers:{Authorization:`Bearer ${h}`}});if(f.ok){const g=await f.json();r(g.user)}else localStorage.removeItem("token"),r(null)}catch(f){console.error("Error refreshing user:",f),localStorage.removeItem("token"),r(null)}},loading:n};return s.jsx(Yy.Provider,{value:u,children:t})},Ky=j.createContext(),Dn=()=>{const t=j.useContext(Ky);if(!t)throw new Error("useCart must be used within a CartProvider");return t},bE=({children:t,showToast:e})=>{const[r,n]=j.useState([]),[i,a]=j.useState([]);j.useEffect(()=>{const v=localStorage.getItem("order"),m=localStorage.getItem("bookings");v&&n(JSON.parse(v)),m&&a(JSON.parse(m))},[]),j.useEffect(()=>{localStorage.setItem("order",JSON.stringify(r))},[r]),j.useEffect(()=>{localStorage.setItem("bookings",JSON.stringify(i))},[i]);const o=(v,m=1)=>{if(i.length>0){if(!window.confirm("You have existing bookings in your cart. Adding an order will clear your bookings. Continue?"))return;a([]),e&&e("Bookings cleared to add order items.")}n(p=>{var w;return p.find(N=>N.id===v._id)?p.map(N=>N.id===v._id?{...N,quantity:N.quantity+m}:N):[...p,{id:v._id,title:v.title,price:v.price,image:(w=v.images)==null?void 0:w[0],quantity:m,storeId:typeof v.storeId=="object"?v.storeId._id:v.storeId||v.storeId}]})},l=(v,m)=>{if(r.length>0){if(!window.confirm("You have existing orders in your cart. Adding a booking will clear your orders. Continue?"))return;n([]),e&&e("Orders cleared to add booking items.")}a(p=>{var y;return[...p,{id:v._id,title:v.title,price:v.price,image:(y=v.images)==null?void 0:y[0],storeId:typeof v.storeId=="object"?v.storeId._id:v.storeId||v.storeId,...m}]})},c=v=>{n(m=>m.filter(p=>p.id!==v))},d=(v,m)=>{if(m<=0){c(v);return}n(p=>p.map(y=>y.id===v?{...y,quantity:m}:y))},u=v=>{a(m=>m.filter(p=>p.id!==v))},h=()=>n([]),f=()=>a([]),g=r.reduce((v,m)=>v+m.price*m.quantity,0),x=i.reduce((v,m)=>v+m.price,0),b={orderItems:r,bookingItems:i,addToOrder:o,removeFromOrder:c,updateQuantity:d,addToBooking:l,removeFromBooking:u,clearOrder:h,clearBookings:f,orderTotal:g,bookingTotal:x};return s.jsx(Ky.Provider,{value:b,children:t})},er=Object.create(null);er.open="0";er.close="1";er.ping="2";er.pong="3";er.message="4";er.upgrade="5";er.noop="6";const lo=Object.create(null);Object.keys(er).forEach(t=>{lo[er[t]]=t});const ou={type:"error",data:"parser error"},Qy=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Xy=typeof ArrayBuffer=="function",Jy=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,zh=({type:t,data:e},r,n)=>Qy&&e instanceof Blob?r?n(e):Tm(e,n):Xy&&(e instanceof ArrayBuffer||Jy(e))?r?n(e):Tm(new Blob([e]),n):n(er[t]+(e||"")),Tm=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function Im(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Bc;function wE(t,e){if(Qy&&t.data instanceof Blob)return t.data.arrayBuffer().then(Im).then(e);if(Xy&&(t.data instanceof ArrayBuffer||Jy(t.data)))return e(Im(t.data));zh(t,!1,r=>{Bc||(Bc=new TextEncoder),e(Bc.encode(r))})}const Pm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",li=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Pm.length;t++)li[Pm.charCodeAt(t)]=t;const jE=t=>{let e=t.length*.75,r=t.length,n,i=0,a,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),u=new Uint8Array(d);for(n=0;n<r;n+=4)a=li[t.charCodeAt(n)],o=li[t.charCodeAt(n+1)],l=li[t.charCodeAt(n+2)],c=li[t.charCodeAt(n+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},NE=typeof ArrayBuffer=="function",Vh=(t,e)=>{if(typeof t!="string")return{type:"message",data:Zy(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:SE(t.substring(1),e)}:lo[r]?t.length>1?{type:lo[r],data:t.substring(1)}:{type:lo[r]}:ou},SE=(t,e)=>{if(NE){const r=jE(t);return Zy(r,e)}else return{base64:!0,data:t}},Zy=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},ev="",kE=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((a,o)=>{zh(a,!1,l=>{n[o]=l,++i===r&&e(n.join(ev))})})},_E=(t,e)=>{const r=t.split(ev),n=[];for(let i=0;i<r.length;i++){const a=Vh(r[i],e);if(n.push(a),a.type==="error")break}return n};function EE(){return new TransformStream({transform(t,e){wE(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let Fc;function Ba(t){return t.reduce((e,r)=>e+r.length,0)}function Fa(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function CE(t,e){Fc||(Fc=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(Ba(r)<1)break;const c=Fa(r,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Ba(r)<2)break;const c=Fa(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(Ba(r)<8)break;const c=Fa(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(ou);break}i=u*Math.pow(2,32)+d.getUint32(4),n=3}else{if(Ba(r)<i)break;const c=Fa(r,i);l.enqueue(Vh(a?c:Fc.decode(c),e)),n=0}if(i===0||i>t){l.enqueue(ou);break}}}})}const tv=4;function ke(t){if(t)return TE(t)}function TE(t){for(var e in ke.prototype)t[e]=ke.prototype[e];return t}ke.prototype.on=ke.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ke.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};ke.prototype.off=ke.prototype.removeListener=ke.prototype.removeAllListeners=ke.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};ke.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};ke.prototype.emitReserved=ke.prototype.emit;ke.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ke.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ol=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),bt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),IE="arraybuffer";function rv(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const PE=bt.setTimeout,OE=bt.clearTimeout;function Al(t,e){e.useNativeTimers?(t.setTimeoutFn=PE.bind(bt),t.clearTimeoutFn=OE.bind(bt)):(t.setTimeoutFn=bt.setTimeout.bind(bt),t.clearTimeoutFn=bt.clearTimeout.bind(bt))}const AE=1.33;function RE(t){return typeof t=="string"?DE(t):Math.ceil((t.byteLength||t.size)*AE)}function DE(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function nv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function LE(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function ME(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class $E extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class Wh extends ke{constructor(e){super(),this.writable=!1,Al(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new $E(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=Vh(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=LE(e);return r.length?"?"+r:""}}class BE extends Wh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};_E(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,kE(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=nv()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let sv=!1;try{sv=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const FE=sv;function UE(){}class zE extends BE{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class Jt extends ke{constructor(e,r,n){super(),this.createRequest=e,Al(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=rv(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Jt.requestsCount++,Jt.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=UE,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Jt.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Jt.requestsCount=0;Jt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Om);else if(typeof addEventListener=="function"){const t="onpagehide"in bt?"pagehide":"unload";addEventListener(t,Om,!1)}}function Om(){for(let t in Jt.requests)Jt.requests.hasOwnProperty(t)&&Jt.requests[t].abort()}const VE=function(){const t=iv({xdomain:!1});return t&&t.responseType!==null}();class WE extends zE{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=VE&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Jt(iv,this.uri(),e)}}function iv(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||FE))return new XMLHttpRequest}catch{}if(!e)try{return new bt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const av=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class HE extends Wh{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=av?{}:rv(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;zh(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&Ol(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=nv()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const Uc=bt.WebSocket||bt.MozWebSocket;class qE extends HE{createSocket(e,r,n){return av?new Uc(e,r,n):r?new Uc(e,r):new Uc(e)}doWrite(e,r){this.ws.send(r)}}class GE extends Wh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=CE(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=EE();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&Ol(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const YE={websocket:qE,webtransport:GE,polling:WE},KE=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,QE=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lu(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=KE.exec(t||""),a={},o=14;for(;o--;)a[QE[o]]=i[o]||"";return r!=-1&&n!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=XE(a,a.path),a.queryKey=JE(a,a.query),a}function XE(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function JE(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const cu=typeof addEventListener=="function"&&typeof removeEventListener=="function",co=[];cu&&addEventListener("offline",()=>{co.forEach(t=>t())},!1);class Kr extends ke{constructor(e,r){if(super(),this.binaryType=IE,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=lu(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=lu(r.host).host);Al(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ME(this.opts.query)),cu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},co.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=tv,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Kr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Kr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=RE(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Ol(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:e,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Kr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),cu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=co.indexOf(this._offlineEventListener);n!==-1&&co.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}Kr.protocol=tv;class ZE extends Kr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;Kr.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Kr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function a(){n||(n=!0,u(),r.close(),r=null)}const o=h=>{const f=new Error("probe error: "+h);f.transport=r.name,a(),this.emitReserved("upgradeError",f)};function l(){o("transport closed")}function c(){o("socket closed")}function d(h){r&&h.name!==r.name&&a()}const u=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let eC=class extends ZE{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>YE[i]).filter(i=>!!i)),super(e,n)}};function tC(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=lu(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const rC=typeof ArrayBuffer=="function",nC=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ov=Object.prototype.toString,sC=typeof Blob=="function"||typeof Blob<"u"&&ov.call(Blob)==="[object BlobConstructor]",iC=typeof File=="function"||typeof File<"u"&&ov.call(File)==="[object FileConstructor]";function Hh(t){return rC&&(t instanceof ArrayBuffer||nC(t))||sC&&t instanceof Blob||iC&&t instanceof File}function uo(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(uo(t[r]))return!0;return!1}if(Hh(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return uo(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&uo(t[r]))return!0;return!1}function aC(t){const e=[],r=t.data,n=t;return n.data=du(r,e),n.attachments=e.length,{packet:n,buffers:e}}function du(t,e){if(!t)return t;if(Hh(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=du(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=du(t[n],e));return r}return t}function oC(t,e){return t.data=uu(t.data,e),delete t.attachments,t}function uu(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=uu(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=uu(t[r],e));return t}const lC=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],cC=5;var re;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(re||(re={}));class dC{constructor(e){this.replacer=e}encode(e){return(e.type===re.EVENT||e.type===re.ACK)&&uo(e)?this.encodeAsBinary({type:e.type===re.EVENT?re.BINARY_EVENT:re.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===re.BINARY_EVENT||e.type===re.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=aC(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function Am(t){return Object.prototype.toString.call(t)==="[object Object]"}class qh extends ke{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===re.BINARY_EVENT;n||r.type===re.BINARY_ACK?(r.type=n?re.EVENT:re.ACK,this.reconstructor=new uC(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Hh(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(re[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===re.BINARY_EVENT||n.type===re.BINARY_ACK){const a=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(a,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(a,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(a,r+1))}if(e.charAt(++r)){const a=this.tryParse(e.substr(r));if(qh.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case re.CONNECT:return Am(r);case re.DISCONNECT:return r===void 0;case re.CONNECT_ERROR:return typeof r=="string"||Am(r);case re.EVENT:case re.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&lC.indexOf(r[0])===-1);case re.ACK:case re.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class uC{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=oC(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const hC=Object.freeze(Object.defineProperty({__proto__:null,Decoder:qh,Encoder:dC,get PacketType(){return re},protocol:cC},Symbol.toStringTag,{value:"Module"}));function Ot(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const fC=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class lv extends ke{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ot(e,"open",this.onopen.bind(this)),Ot(e,"packet",this.onpacket.bind(this)),Ot(e,"error",this.onerror.bind(this)),Ot(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,a;if(fC.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:re.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,h=r.pop();this._registerAckCallback(u,h),o.id=u}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,i)=>{const a=(o,l)=>o?i(o):n(l);a.withError=!0,r.push(a),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:re.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case re.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case re.EVENT:case re.BINARY_EVENT:this.onevent(e);break;case re.ACK:case re.BINARY_ACK:this.onack(e);break;case re.DISCONNECT:this.ondisconnect();break;case re.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:re.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:re.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function Bs(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Bs.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};Bs.prototype.reset=function(){this.attempts=0};Bs.prototype.setMin=function(t){this.ms=t};Bs.prototype.setMax=function(t){this.max=t};Bs.prototype.setJitter=function(t){this.jitter=t};class hu extends ke{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Al(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Bs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||hC;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new eC(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Ot(r,"open",function(){n.onopen(),e&&e()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=Ot(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ot(e,"ping",this.onping.bind(this)),Ot(e,"data",this.ondata.bind(this)),Ot(e,"error",this.onerror.bind(this)),Ot(e,"close",this.onclose.bind(this)),Ot(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Ol(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new lv(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Zs={};function ho(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=tC(t,e.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=Zs[i]&&a in Zs[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new hu(n,e):(Zs[i]||(Zs[i]=new hu(n,e)),c=Zs[i]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(ho,{Manager:hu,Socket:lv,io:ho,connect:ho});const cv=j.createContext(),pC=()=>j.useContext(cv),mC=({userId:t,children:e})=>{const[r,n]=j.useState([]),[i,a]=j.useState(!0),[o,l]=j.useState(null);j.useEffect(()=>{if(!t)return;const g=ho("https://aio-backend-x770.onrender.com");return l(g),g.emit("join",t),g.on("new-notification",x=>{n(b=>[x,...b])}),()=>{g.disconnect()}},[t]),j.useEffect(()=>{if(!t){n([]),a(!1);return}async function g(){try{const x=localStorage.getItem("token"),b=await fetch("https://aio-backend-x770.onrender.com/api/notifications",{headers:{Authorization:`Bearer ${x}`}}),v=await b.json();n(b.ok?v.notifications:[])}catch(x){console.error("Fetch error",x),n([])}finally{a(!1)}}g()},[t]);const c=async g=>{try{const x=localStorage.getItem("token");(await fetch(`https://aio-backend-x770.onrender.com/api/notifications/${g}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${x}`}})).ok&&n(v=>v.map(m=>m._id===g?{...m,isRead:!0}:m))}catch(x){console.error("Mark read failed",x)}},d=async g=>{try{const x=localStorage.getItem("token");(await fetch(`https://aio-backend-x770.onrender.com/api/notifications/${g}/delete`,{method:"PATCH",headers:{Authorization:`Bearer ${x}`}})).ok&&n(v=>v.map(m=>m._id===g?{...m,isDeleted:!0}:m))}catch(x){console.error("Soft delete failed",x)}},u=async()=>{try{const g=localStorage.getItem("token");(await fetch("https://aio-backend-x770.onrender.com/api/notifications/mark-all-read",{method:"PATCH",headers:{Authorization:`Bearer ${g}`}})).ok&&n(b=>b.map(v=>({...v,isRead:!0})))}catch(g){console.error("Mark all read failed",g)}},h=r.filter(g=>!g.isRead&&!g.isDeleted).length,f=r.filter(g=>!g.isDeleted);return s.jsx(cv.Provider,{value:{notifications:f,unreadCount:h,loading:i,markAsRead:c,softDelete:d,markAllRead:u},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(t,e)=>{const r=j.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>j.createElement("svg",{ref:u,...gC,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${xC(t)}`,l].join(" "),...d},[...e.map(([h,f])=>j.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=G("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=G("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=G("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=G("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=G("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=G("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=G("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=G("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=G("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=G("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=G("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=G("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=G("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=G("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=G("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=G("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=G("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=G("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=G("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=G("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=G("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=G("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=G("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=G("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=G("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=G("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=G("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=G("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=G("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=G("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=G("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=G("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=G("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=G("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=G("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=G("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=G("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=G("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=G("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=G("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=G("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=G("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=G("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=G("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=G("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);class BC extends W.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Error caught by boundary:",e,r)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md",children:[s.jsx(rs,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),s.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center space-x-2 bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:[s.jsx(PC,{className:"w-5 h-5"}),s.jsx("span",{children:"Refresh Page"})]})]})}):this.props.children}}const FC=()=>{const{user:t,logout:e}=Ee(),{orderItems:r,bookingItems:n}=Dn(),{unreadCount:i}=pC(),[a,o]=j.useState(!1),[l,c]=j.useState(!1),[d,u]=j.useState(!1),[h,f]=j.useState(""),g=lt();j.useEffect(()=>{const m=()=>{u(window.scrollY>50)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const x=m=>{m.preventDefault(),h.trim()&&(g(`/products?search=${h}`),f(""))},b=()=>{e(),c(!1),g("/")},v=r.reduce((m,p)=>m+p.quantity,0)+n.length;return s.jsx("header",{className:`sticky top-0 z-50 transition-all duration-300 ${d?"bg-white/95 backdrop-blur-md shadow-lg":"bg-white"}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx(U,{to:"/",className:"text-2xl font-bold text-black hover:text-gray-700 transition-colors",children:"AIO"}),s.jsxs("nav",{className:"hidden md:flex space-x-8",children:[s.jsx(U,{to:"/stores",className:"text-gray-700 hover:text-black transition-colors font-medium",children:"Stores"}),s.jsx(U,{to:"/products",className:"text-gray-700 hover:text-black transition-colors font-medium",children:"Products"}),s.jsx(U,{to:"/services",className:"text-gray-700 hover:text-black transition-colors font-medium",children:"Services"}),(t==null?void 0:t.role)==="store_owner"&&s.jsx(U,{to:"/dashboard",className:"text-gray-700 hover:text-black transition-colors font-medium",children:"Dashboard"})]}),s.jsx("form",{onSubmit:x,className:"hidden lg:flex items-center space-x-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",value:h,onChange:m=>f(m.target.value),placeholder:"Search products & services...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent w-64"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[(t==null?void 0:t.role)==="customer"&&s.jsxs(U,{to:"/cart",className:"relative p-2 text-gray-700 hover:text-black transition-colors",children:[s.jsx(Kh,{className:"w-6 h-6"}),v>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-black text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:v})]}),t&&s.jsxs(U,{to:"/notifications",className:"relative p-2 text-gray-700 hover:text-black transition-colors","aria-label":`You have ${i} unread notifications`,children:[s.jsx(uv,{className:"w-6 h-6"}),i>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:i})]}),t?s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>c(!l),className:"flex items-center space-x-2 p-2 text-gray-700 hover:text-black transition-colors",children:[s.jsx(Gi,{className:"w-6 h-6"}),s.jsx("span",{className:"hidden sm:block font-medium",children:t.name})]}),l&&s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-200",children:[s.jsx("p",{className:"font-medium text-gray-900",children:t.name}),s.jsx("p",{className:"text-sm text-gray-500 capitalize",children:t.role.replace("_"," ")})]}),s.jsx(U,{to:"/profile",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>c(!1),children:"Profile Settings"}),t.role==="customer"&&s.jsxs(s.Fragment,{children:[s.jsx(U,{to:"/orders",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>c(!1),children:"My Orders"}),s.jsx(U,{to:"/bookings",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>c(!1),children:"My Bookings"})]}),t.role==="store_owner"&&s.jsxs(s.Fragment,{children:[s.jsx(U,{to:"/dashboard",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>c(!1),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pt,{className:"w-4 h-4"}),s.jsx("span",{children:"Dashboard"})]})}),s.jsx(U,{to:"/sales-analytics",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>c(!1),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qi,{className:"w-4 h-4"}),s.jsx("span",{children:"Analytics"})]})}),s.jsx(U,{to:"/orders",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>c(!1),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(We,{className:"w-4 h-4"}),s.jsx("span",{children:"Orders"})]})}),s.jsx(U,{to:"/bookings",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>c(!1),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ie,{className:"w-4 h-4"}),s.jsx("span",{children:"Bookings"})]})})]}),s.jsx("hr",{className:"my-2"}),s.jsx("button",{onClick:b,className:"block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",children:"Sign Out"})]})]}):s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(U,{to:"/login",className:"text-gray-700 hover:text-black transition-colors font-medium",children:"Sign In"}),s.jsx(U,{to:"/register",className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors font-medium",children:"Get Started"})]}),s.jsx("button",{onClick:()=>o(!a),className:"md:hidden p-2 text-gray-700 hover:text-black transition-colors",children:a?s.jsx(Dl,{className:"w-6 h-6"}):s.jsx(CC,{className:"w-6 h-6"})})]})]}),a&&s.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("form",{onSubmit:x,className:"flex items-center space-x-2",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",value:h,onChange:m=>f(m.target.value),placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})}),s.jsxs("nav",{className:"space-y-2",children:[s.jsx(U,{to:"/stores",className:"block text-gray-700 hover:text-black transition-colors font-medium",onClick:()=>o(!1),children:"Stores"}),s.jsx(U,{to:"/products",className:"block text-gray-700 hover:text-black transition-colors font-medium",onClick:()=>o(!1),children:"Products"}),s.jsx(U,{to:"/services",className:"block text-gray-700 hover:text-black transition-colors font-medium",onClick:()=>o(!1),children:"Services"}),(t==null?void 0:t.role)==="store_owner"&&s.jsx(U,{to:"/dashboard",className:"block text-gray-700 hover:text-black transition-colors font-medium",onClick:()=>o(!1),children:"Dashboard"})]})]})})]})})},UC=()=>s.jsx("footer",{className:"bg-black text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"AIO"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"All In One - Your complete e-commerce platform for products and services."}),s.jsx("div",{className:"flex space-x-4",children:s.jsxs("div",{className:"flex items-center text-gray-400",children:[s.jsx(Fs,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"support@aio.com"})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(U,{to:"/stores",className:"text-gray-400 hover:text-white transition-colors",children:"Stores"})}),s.jsx("li",{children:s.jsx(U,{to:"/products",className:"text-gray-400 hover:text-white transition-colors",children:"Products"})}),s.jsx("li",{children:s.jsx(U,{to:"/services",className:"text-gray-400 hover:text-white transition-colors",children:"Services"})}),s.jsx("li",{children:s.jsx(U,{to:"/create-store",className:"text-gray-400 hover:text-white transition-colors",children:"Start Selling"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Support"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(U,{to:"/help-center",className:"text-gray-400 hover:text-white transition-colors",children:"Help Center"})}),s.jsx("li",{children:s.jsx(U,{to:"/contact-us",className:"text-gray-400 hover:text-white transition-colors",children:"Contact Us"})}),s.jsx("li",{children:s.jsx(U,{to:"/privacy-policy",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(U,{to:"/terms-of-service",className:"text-gray-400 hover:text-white transition-colors",children:"Terms of Service"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Stay Updated"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Subscribe to get updates on new features and stores."}),s.jsxs("form",{className:"flex",children:[s.jsx("input",{type:"email",placeholder:"Your email",className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-l-lg focus:outline-none focus:ring-2 focus:ring-white"}),s.jsx("button",{type:"submit",className:"bg-white text-black px-6 py-2 rounded-r-lg hover:bg-gray-200 transition-colors",children:"Subscribe"})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:s.jsx("p",{children:" 2024 All In One (AIO). All rights reserved."})})]})});function Bm(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Qh(t,e){t===void 0&&(t={}),e===void 0&&(e={});const r=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:Bm(e[n])&&Bm(t[n])&&Object.keys(e[n]).length>0&&Qh(t[n],e[n])})}const gv={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Zt(){const t=typeof document<"u"?document:{};return Qh(t,gv),t}const zC={document:gv,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ze(){const t=typeof window<"u"?window:{};return Qh(t,zC),t}function VC(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function WC(t){const e=t;Object.keys(e).forEach(r=>{try{e[r]=null}catch{}try{delete e[r]}catch{}})}function xv(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function el(){return Date.now()}function HC(t){const e=Ze();let r;return e.getComputedStyle&&(r=e.getComputedStyle(t,null)),!r&&t.currentStyle&&(r=t.currentStyle),r||(r=t.style),r}function qC(t,e){e===void 0&&(e="x");const r=Ze();let n,i,a;const o=HC(t);return r.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),a=new r.WebKitCSSMatrix(i==="none"?"":i)):(a=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=a.toString().split(",")),e==="x"&&(r.WebKitCSSMatrix?i=a.m41:n.length===16?i=parseFloat(n[12]):i=parseFloat(n[4])),e==="y"&&(r.WebKitCSSMatrix?i=a.m42:n.length===16?i=parseFloat(n[13]):i=parseFloat(n[5])),i||0}function Ua(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function GC(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function dt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const n=r<0||arguments.length<=r?void 0:arguments[r];if(n!=null&&!GC(n)){const i=Object.keys(Object(n)).filter(a=>e.indexOf(a)<0);for(let a=0,o=i.length;a<o;a+=1){const l=i[a],c=Object.getOwnPropertyDescriptor(n,l);c!==void 0&&c.enumerable&&(Ua(t[l])&&Ua(n[l])?n[l].__swiper__?t[l]=n[l]:dt(t[l],n[l]):!Ua(t[l])&&Ua(n[l])?(t[l]={},n[l].__swiper__?t[l]=n[l]:dt(t[l],n[l])):t[l]=n[l])}}}return t}function za(t,e,r){t.style.setProperty(e,r)}function yv(t){let{swiper:e,targetPosition:r,side:n}=t;const i=Ze(),a=-e.translate;let o=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const d=r>a?"next":"prev",u=(f,g)=>d==="next"&&f>=g||d==="prev"&&f<=g,h=()=>{l=new Date().getTime(),o===null&&(o=l);const f=Math.max(Math.min((l-o)/c,1),0),g=.5-Math.cos(f*Math.PI)/2;let x=a+g*(r-a);if(u(x,r)&&(x=r),e.wrapperEl.scrollTo({[n]:x}),u(x,r)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:x})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(h)};h()}function Gt(t,e){e===void 0&&(e="");const r=Ze(),n=[...t.children];return r.HTMLSlotElement&&t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(i=>i.matches(e)):n}function YC(t,e){const r=[e];for(;r.length>0;){const n=r.shift();if(t===n)return!0;r.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}function KC(t,e){const r=Ze();let n=e.contains(t);return!n&&r.HTMLSlotElement&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=YC(t,e))),n}function tl(t){try{console.warn(t);return}catch{}}function rl(t,e){e===void 0&&(e=[]);const r=document.createElement(t);return r.classList.add(...Array.isArray(e)?e:VC(e)),r}function QC(t,e){const r=[];for(;t.previousElementSibling;){const n=t.previousElementSibling;e?n.matches(e)&&r.push(n):r.push(n),t=n}return r}function XC(t,e){const r=[];for(;t.nextElementSibling;){const n=t.nextElementSibling;e?n.matches(e)&&r.push(n):r.push(n),t=n}return r}function Lr(t,e){return Ze().getComputedStyle(t,null).getPropertyValue(e)}function nl(t){let e=t,r;if(e){for(r=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(r+=1);return r}}function vv(t,e){const r=[];let n=t.parentElement;for(;n;)e?n.matches(e)&&r.push(n):r.push(n),n=n.parentElement;return r}function fu(t,e,r){const n=Ze();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Ae(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function sl(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:r=>r}).createHTML(e):t.innerHTML=e}let Vc;function JC(){const t=Ze(),e=Zt();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function bv(){return Vc||(Vc=JC()),Vc}let Wc;function ZC(t){let{userAgent:e}=t===void 0?{}:t;const r=bv(),n=Ze(),i=n.navigator.platform,a=e||n.navigator.userAgent,o={ios:!1,android:!1},l=n.screen.width,c=n.screen.height,d=a.match(/(Android);?[\s\/]+([\d.]+)?/);let u=a.match(/(iPad).*OS\s([\d_]+)/);const h=a.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=i==="Win32";let x=i==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&x&&r.touch&&b.indexOf(`${l}x${c}`)>=0&&(u=a.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),x=!1),d&&!g&&(o.os="android",o.android=!0),(u||f||h)&&(o.os="ios",o.ios=!0),o}function wv(t){return t===void 0&&(t={}),Wc||(Wc=ZC(t)),Wc}let Hc;function eT(){const t=Ze(),e=wv();let r=!1;function n(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(n()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,d]=l.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));r=c<16||c===16&&d<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),a=n(),o=a||i&&e.ios;return{isSafari:r||a,needPerspectiveFix:r,need3dFix:o,isWebView:i}}function jv(){return Hc||(Hc=eT()),Hc}function tT(t){let{swiper:e,on:r,emit:n}=t;const i=Ze();let a=null,o=null;const l=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(h=>{o=i.requestAnimationFrame(()=>{const{width:f,height:g}=e;let x=f,b=g;h.forEach(v=>{let{contentBoxSize:m,contentRect:p,target:y}=v;y&&y!==e.el||(x=p?p.width:(m[0]||m).inlineSize,b=p?p.height:(m[0]||m).blockSize)}),(x!==f||b!==g)&&l()})}),a.observe(e.el))},d=()=>{o&&i.cancelAnimationFrame(o),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},u=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};r("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",u)}),r("destroy",()=>{d(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",u)})}function rT(t){let{swiper:e,extendParams:r,on:n,emit:i}=t;const a=[],o=Ze(),l=function(u,h){h===void 0&&(h={});const f=o.MutationObserver||o.WebkitMutationObserver,g=new f(x=>{if(e.__preventObserver__)return;if(x.length===1){i("observerUpdate",x[0]);return}const b=function(){i("observerUpdate",x[0])};o.requestAnimationFrame?o.requestAnimationFrame(b):o.setTimeout(b,0)});g.observe(u,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),a.push(g)},c=()=>{if(e.params.observer){if(e.params.observeParents){const u=vv(e.hostEl);for(let h=0;h<u.length;h+=1)l(u[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},d=()=>{a.forEach(u=>{u.disconnect()}),a.splice(0,a.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",c),n("destroy",d)}var nT={on(t,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const i=r?"unshift":"push";return t.split(" ").forEach(a=>{n.eventsListeners[a]||(n.eventsListeners[a]=[]),n.eventsListeners[a][i](e)}),n},once(t,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function i(){n.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];e.apply(n,o)}return i.__emitterProxy=e,n.on(t,i,r)},onAny(t,e){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const n=e?"unshift":"push";return r.eventsAnyListeners.indexOf(t)<0&&r.eventsAnyListeners[n](t),r},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const r=e.eventsAnyListeners.indexOf(t);return r>=0&&e.eventsAnyListeners.splice(r,1),e},off(t,e){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||t.split(" ").forEach(n=>{typeof e>"u"?r.eventsListeners[n]=[]:r.eventsListeners[n]&&r.eventsListeners[n].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&r.eventsListeners[n].splice(a,1)})}),r},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,r,n;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],r=a.slice(1,a.length),n=t):(e=a[0].events,r=a[0].data,n=a[0].context||t),r.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(n,[c,...r])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(d=>{d.apply(n,r)})}),t}};function sT(){const t=this;let e,r;const n=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=n.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?r=t.params.height:r=n.clientHeight,!(e===0&&t.isHorizontal()||r===0&&t.isVertical())&&(e=e-parseInt(Lr(n,"padding-left")||0,10)-parseInt(Lr(n,"padding-right")||0,10),r=r-parseInt(Lr(n,"padding-top")||0,10)-parseInt(Lr(n,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(r)&&(r=0),Object.assign(t,{width:e,height:r,size:t.isHorizontal()?e:r}))}function iT(){const t=this;function e(T,P){return parseFloat(T.getPropertyValue(t.getDirectionLabel(P))||0)}const r=t.params,{wrapperEl:n,slidesEl:i,size:a,rtlTranslate:o,wrongRTL:l}=t,c=t.virtual&&r.virtual.enabled,d=c?t.virtual.slides.length:t.slides.length,u=Gt(i,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:u.length;let f=[];const g=[],x=[];let b=r.slidesOffsetBefore;typeof b=="function"&&(b=r.slidesOffsetBefore.call(t));let v=r.slidesOffsetAfter;typeof v=="function"&&(v=r.slidesOffsetAfter.call(t));const m=t.snapGrid.length,p=t.slidesGrid.length;let y=r.spaceBetween,w=-b,N=0,_=0;if(typeof a>"u")return;typeof y=="string"&&y.indexOf("%")>=0?y=parseFloat(y.replace("%",""))/100*a:typeof y=="string"&&(y=parseFloat(y)),t.virtualSize=-y,u.forEach(T=>{o?T.style.marginLeft="":T.style.marginRight="",T.style.marginBottom="",T.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(za(n,"--swiper-centered-offset-before",""),za(n,"--swiper-centered-offset-after",""));const S=r.grid&&r.grid.rows>1&&t.grid;S?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let E;const k=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(T=>typeof r.breakpoints[T].slidesPerView<"u").length>0;for(let T=0;T<h;T+=1){E=0;let P;if(u[T]&&(P=u[T]),S&&t.grid.updateSlide(T,P,u),!(u[T]&&Lr(P,"display")==="none")){if(r.slidesPerView==="auto"){k&&(u[T].style[t.getDirectionLabel("width")]="");const I=getComputedStyle(P),C=P.style.transform,F=P.style.webkitTransform;if(C&&(P.style.transform="none"),F&&(P.style.webkitTransform="none"),r.roundLengths)E=t.isHorizontal()?fu(P,"width"):fu(P,"height");else{const V=e(I,"width"),$=e(I,"padding-left"),Y=e(I,"padding-right"),A=e(I,"margin-left"),D=e(I,"margin-right"),L=I.getPropertyValue("box-sizing");if(L&&L==="border-box")E=V+A+D;else{const{clientWidth:K,offsetWidth:X}=P;E=V+$+Y+A+D+(X-K)}}C&&(P.style.transform=C),F&&(P.style.webkitTransform=F),r.roundLengths&&(E=Math.floor(E))}else E=(a-(r.slidesPerView-1)*y)/r.slidesPerView,r.roundLengths&&(E=Math.floor(E)),u[T]&&(u[T].style[t.getDirectionLabel("width")]=`${E}px`);u[T]&&(u[T].swiperSlideSize=E),x.push(E),r.centeredSlides?(w=w+E/2+N/2+y,N===0&&T!==0&&(w=w-a/2-y),T===0&&(w=w-a/2-y),Math.abs(w)<1/1e3&&(w=0),r.roundLengths&&(w=Math.floor(w)),_%r.slidesPerGroup===0&&f.push(w),g.push(w)):(r.roundLengths&&(w=Math.floor(w)),(_-Math.min(t.params.slidesPerGroupSkip,_))%t.params.slidesPerGroup===0&&f.push(w),g.push(w),w=w+E+y),t.virtualSize+=E+y,N=E,_+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+v,o&&l&&(r.effect==="slide"||r.effect==="coverflow")&&(n.style.width=`${t.virtualSize+y}px`),r.setWrapperSize&&(n.style[t.getDirectionLabel("width")]=`${t.virtualSize+y}px`),S&&t.grid.updateWrapperSize(E,f),!r.centeredSlides){const T=[];for(let P=0;P<f.length;P+=1){let I=f[P];r.roundLengths&&(I=Math.floor(I)),f[P]<=t.virtualSize-a&&T.push(I)}f=T,Math.floor(t.virtualSize-a)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-a)}if(c&&r.loop){const T=x[0]+y;if(r.slidesPerGroup>1){const P=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/r.slidesPerGroup),I=T*r.slidesPerGroup;for(let C=0;C<P;C+=1)f.push(f[f.length-1]+I)}for(let P=0;P<t.virtual.slidesBefore+t.virtual.slidesAfter;P+=1)r.slidesPerGroup===1&&f.push(f[f.length-1]+T),g.push(g[g.length-1]+T),t.virtualSize+=T}if(f.length===0&&(f=[0]),y!==0){const T=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((P,I)=>!r.cssMode||r.loop?!0:I!==u.length-1).forEach(P=>{P.style[T]=`${y}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let T=0;x.forEach(I=>{T+=I+(y||0)}),T-=y;const P=T>a?T-a:0;f=f.map(I=>I<=0?-b:I>P?P+v:I)}if(r.centerInsufficientSlides){let T=0;x.forEach(I=>{T+=I+(y||0)}),T-=y;const P=(r.slidesOffsetBefore||0)+(r.slidesOffsetAfter||0);if(T+P<a){const I=(a-T-P)/2;f.forEach((C,F)=>{f[F]=C-I}),g.forEach((C,F)=>{g[F]=C+I})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:g,slidesSizesGrid:x}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){za(n,"--swiper-centered-offset-before",`${-f[0]}px`),za(n,"--swiper-centered-offset-after",`${t.size/2-x[x.length-1]/2}px`);const T=-t.snapGrid[0],P=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(I=>I+T),t.slidesGrid=t.slidesGrid.map(I=>I+P)}if(h!==d&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==p&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const T=`${r.containerModifierClass}backface-hidden`,P=t.el.classList.contains(T);h<=r.maxBackfaceHiddenSlides?P||t.el.classList.add(T):P&&t.el.classList.remove(T)}}function aT(t){const e=this,r=[],n=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=l=>n?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{r.push(l)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const l=e.activeIndex+a;if(l>e.slides.length&&!n)break;r.push(o(l))}else r.push(o(e.activeIndex));for(a=0;a<r.length;a+=1)if(typeof r[a]<"u"){const l=r[a].offsetHeight;i=l>i?l:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function oT(){const t=this,e=t.slides,r=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=(t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop)-r-t.cssOverflowAdjustment()}const Fm=(t,e,r)=>{e&&!t.classList.contains(r)?t.classList.add(r):!e&&t.classList.contains(r)&&t.classList.remove(r)};function lT(t){t===void 0&&(t=this&&this.translate||0);const e=this,r=e.params,{slides:n,rtlTranslate:i,snapGrid:a}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=r.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<n.length;c+=1){const d=n[c];let u=d.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(u-=n[0].swiperSlideOffset);const h=(o+(r.centeredSlides?e.minTranslate():0)-u)/(d.swiperSlideSize+l),f=(o-a[0]+(r.centeredSlides?e.minTranslate():0)-u)/(d.swiperSlideSize+l),g=-(o-u),x=g+e.slidesSizesGrid[c],b=g>=0&&g<=e.size-e.slidesSizesGrid[c],v=g>=0&&g<e.size-1||x>1&&x<=e.size||g<=0&&x>=e.size;v&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(c)),Fm(d,v,r.slideVisibleClass),Fm(d,b,r.slideFullyVisibleClass),d.progress=i?-h:h,d.originalProgress=i?-f:f}}function cT(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const r=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:o,progressLoop:l}=e;const c=a,d=o;if(n===0)i=0,a=!0,o=!0;else{i=(t-e.minTranslate())/n;const u=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;a=u||i<=0,o=h||i>=1,u&&(i=0),h&&(i=1)}if(r.loop){const u=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],g=e.slidesGrid[h],x=e.slidesGrid[e.slidesGrid.length-1],b=Math.abs(t);b>=f?l=(b-f)/x:l=(b+x-g)/x,l>1&&(l-=1)}Object.assign(e,{progress:i,progressLoop:l,isBeginning:a,isEnd:o}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&e.updateSlidesProgress(t),a&&!c&&e.emit("reachBeginning toEdge"),o&&!d&&e.emit("reachEnd toEdge"),(c&&!a||d&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const qc=(t,e,r)=>{e&&!t.classList.contains(r)?t.classList.add(r):!e&&t.classList.contains(r)&&t.classList.remove(r)};function dT(){const t=this,{slides:e,params:r,slidesEl:n,activeIndex:i}=t,a=t.virtual&&r.virtual.enabled,o=t.grid&&r.grid&&r.grid.rows>1,l=h=>Gt(n,`.${r.slideClass}${h}, swiper-slide${h}`)[0];let c,d,u;if(a)if(r.loop){let h=i-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${i}"]`);else o?(c=e.find(h=>h.column===i),u=e.find(h=>h.column===i+1),d=e.find(h=>h.column===i-1)):c=e[i];c&&(o||(u=XC(c,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!u&&(u=e[0]),d=QC(c,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!d===0&&(d=e[e.length-1]))),e.forEach(h=>{qc(h,h===c,r.slideActiveClass),qc(h,h===u,r.slideNextClass),qc(h,h===d,r.slidePrevClass)}),t.emitSlidesClasses()}const fo=(t,e)=>{if(!t||t.destroyed||!t.params)return;const r=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,n=e.closest(r());if(n){let i=n.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(n.shadowRoot?i=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(i=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Gc=(t,e)=>{if(!t.slides[e])return;const r=t.slides[e].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},pu=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const r=t.slides.length;if(!r||!e||e<0)return;e=Math.min(e,r);const n=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,l=[o-e];l.push(...Array.from({length:e}).map((c,d)=>o+n+d)),t.slides.forEach((c,d)=>{l.includes(c.column)&&Gc(t,d)});return}const a=i+n-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=a+e;o+=1){const l=(o%r+r)%r;(l<i||l>a)&&Gc(t,l)}else for(let o=Math.max(i-e,0);o<=Math.min(a+e,r-1);o+=1)o!==i&&(o>a||o<i)&&Gc(t,o)};function uT(t){const{slidesGrid:e,params:r}=t,n=t.rtlTranslate?t.translate:-t.translate;let i;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?n>=e[a]&&n<e[a+1]-(e[a+1]-e[a])/2?i=a:n>=e[a]&&n<e[a+1]&&(i=a+1):n>=e[a]&&(i=a);return r.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function hT(t){const e=this,r=e.rtlTranslate?e.translate:-e.translate,{snapGrid:n,params:i,activeIndex:a,realIndex:o,snapIndex:l}=e;let c=t,d;const u=g=>{let x=g-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof c>"u"&&(c=uT(e)),n.indexOf(r)>=0)d=n.indexOf(r);else{const g=Math.min(i.slidesPerGroupSkip,c);d=g+Math.floor((c-g)/i.slidesPerGroup)}if(d>=n.length&&(d=n.length-1),c===a&&!e.params.loop){d!==l&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(c===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(c);return}const h=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=u(c);else if(h){const g=e.slides.find(b=>b.column===c);let x=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(g),0)),f=Math.floor(x/i.grid.rows)}else if(e.slides[c]){const g=e.slides[c].getAttribute("data-swiper-slide-index");g?f=parseInt(g,10):f=c}else f=c;Object.assign(e,{previousSnapIndex:l,snapIndex:d,previousRealIndex:o,realIndex:f,previousIndex:a,activeIndex:c}),e.initialized&&pu(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function fT(t,e){const r=this,n=r.params;let i=t.closest(`.${n.slideClass}, swiper-slide`);!i&&r.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!i&&l.matches&&l.matches(`.${n.slideClass}, swiper-slide`)&&(i=l)});let a=!1,o;if(i){for(let l=0;l<r.slides.length;l+=1)if(r.slides[l]===i){a=!0,o=l;break}}if(i&&a)r.clickedSlide=i,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=o;else{r.clickedSlide=void 0,r.clickedIndex=void 0;return}n.slideToClickedSlide&&r.clickedIndex!==void 0&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}var pT={updateSize:sT,updateSlides:iT,updateAutoHeight:aT,updateSlidesOffset:oT,updateSlidesProgress:lT,updateProgress:cT,updateSlidesClasses:dT,updateActiveIndex:hT,updateClickedSlide:fT};function mT(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:r,rtlTranslate:n,translate:i,wrapperEl:a}=e;if(r.virtualTranslate)return n?-i:i;if(r.cssMode)return i;let o=qC(a,t);return o+=e.cssOverflowAdjustment(),n&&(o=-o),o||0}function gT(t,e){const r=this,{rtlTranslate:n,params:i,wrapperEl:a,progress:o}=r;let l=0,c=0;const d=0;r.isHorizontal()?l=n?-t:t:c=t,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?l:c,i.cssMode?a[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-l:-c:i.virtualTranslate||(r.isHorizontal()?l-=r.cssOverflowAdjustment():c-=r.cssOverflowAdjustment(),a.style.transform=`translate3d(${l}px, ${c}px, ${d}px)`);let u;const h=r.maxTranslate()-r.minTranslate();h===0?u=0:u=(t-r.minTranslate())/h,u!==o&&r.updateProgress(t),r.emit("setTranslate",r.translate,e)}function xT(){return-this.snapGrid[0]}function yT(){return-this.snapGrid[this.snapGrid.length-1]}function vT(t,e,r,n,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0),n===void 0&&(n=!0);const a=this,{params:o,wrapperEl:l}=a;if(a.animating&&o.preventInteractionOnTransition)return!1;const c=a.minTranslate(),d=a.maxTranslate();let u;if(n&&t>c?u=c:n&&t<d?u=d:u=t,a.updateProgress(u),o.cssMode){const h=a.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-u;else{if(!a.support.smoothScroll)return yv({swiper:a,targetPosition:-u,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(u),r&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(u),r&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(f){!a||a.destroyed||f.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,r&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var bT={getTranslate:mT,setTranslate:gT,minTranslate:xT,maxTranslate:yT,translateTo:vT};function wT(t,e){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${t}ms`,r.wrapperEl.style.transitionDelay=t===0?"0ms":""),r.emit("setTransition",t,e)}function Nv(t){let{swiper:e,runCallbacks:r,direction:n,step:i}=t;const{activeIndex:a,previousIndex:o}=e;let l=n;l||(a>o?l="next":a<o?l="prev":l="reset"),e.emit(`transition${i}`),r&&l==="reset"?e.emit(`slideResetTransition${i}`):r&&a!==o&&(e.emit(`slideChangeTransition${i}`),l==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function jT(t,e){t===void 0&&(t=!0);const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),Nv({swiper:r,runCallbacks:t,direction:e,step:"Start"}))}function NT(t,e){t===void 0&&(t=!0);const r=this,{params:n}=r;r.animating=!1,!n.cssMode&&(r.setTransition(0),Nv({swiper:r,runCallbacks:t,direction:e,step:"End"}))}var ST={setTransition:wT,transitionStart:jT,transitionEnd:NT};function kT(t,e,r,n,i){t===void 0&&(t=0),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const a=this;let o=t;o<0&&(o=0);const{params:l,snapGrid:c,slidesGrid:d,previousIndex:u,activeIndex:h,rtlTranslate:f,wrapperEl:g,enabled:x}=a;if(!x&&!n&&!i||a.destroyed||a.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const b=Math.min(a.params.slidesPerGroupSkip,o);let v=b+Math.floor((o-b)/a.params.slidesPerGroup);v>=c.length&&(v=c.length-1);const m=-c[v];if(l.normalizeSlideIndex)for(let S=0;S<d.length;S+=1){const E=-Math.floor(m*100),k=Math.floor(d[S]*100),T=Math.floor(d[S+1]*100);typeof d[S+1]<"u"?E>=k&&E<T-(T-k)/2?o=S:E>=k&&E<T&&(o=S+1):E>=k&&(o=S)}if(a.initialized&&o!==h&&(!a.allowSlideNext&&(f?m>a.translate&&m>a.minTranslate():m<a.translate&&m<a.minTranslate())||!a.allowSlidePrev&&m>a.translate&&m>a.maxTranslate()&&(h||0)!==o))return!1;o!==(u||0)&&r&&a.emit("beforeSlideChangeStart"),a.updateProgress(m);let p;o>h?p="next":o<h?p="prev":p="reset";const y=a.virtual&&a.params.virtual.enabled;if(!(y&&i)&&(f&&-m===a.translate||!f&&m===a.translate))return a.updateActiveIndex(o),l.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),l.effect!=="slide"&&a.setTranslate(m),p!=="reset"&&(a.transitionStart(r,p),a.transitionEnd(r,p)),!1;if(l.cssMode){const S=a.isHorizontal(),E=f?m:-m;if(e===0)y&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),y&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[S?"scrollLeft":"scrollTop"]=E})):g[S?"scrollLeft":"scrollTop"]=E,y&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return yv({swiper:a,targetPosition:E,side:S?"left":"top"}),!0;g.scrollTo({[S?"left":"top"]:E,behavior:"smooth"})}return!0}const _=jv().isSafari;return y&&!i&&_&&a.isElement&&a.virtual.update(!1,!1,o),a.setTransition(e),a.setTranslate(m),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,n),a.transitionStart(r,p),e===0?a.transitionEnd(r,p):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(E){!a||a.destroyed||E.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(r,p))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function _T(t,e,r,n){t===void 0&&(t=0),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const a=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let l;if(a){const f=o*i.params.grid.rows;l=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===f).column}else l=i.getSlideIndexByData(o);const c=a?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),d&&u%2===0&&(u=u+1));let h=c-l<u;if(d&&(h=h||l<Math.ceil(u/2)),n&&d&&i.params.slidesPerView!=="auto"&&!a&&(h=!1),h){const f=d?l<i.activeIndex?"prev":"next":l-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?l+1:l-c+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(a){const f=o*i.params.grid.rows;o=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===f).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,r,n)}),i}function ET(t,e,r){e===void 0&&(e=!0);const n=this,{enabled:i,params:a,animating:o}=n;if(!i||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);let l=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(l=Math.max(n.slidesPerViewDynamic("current",!0),1));const c=n.activeIndex<a.slidesPerGroupSkip?1:l,d=n.virtual&&a.virtual.enabled;if(a.loop){if(o&&!d&&a.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+c,t,e,r)}),!0}return a.rewind&&n.isEnd?n.slideTo(0,t,e,r):n.slideTo(n.activeIndex+c,t,e,r)}function CT(t,e,r){e===void 0&&(e=!0);const n=this,{params:i,snapGrid:a,slidesGrid:o,rtlTranslate:l,enabled:c,animating:d}=n;if(!c||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);const u=n.virtual&&i.virtual.enabled;if(i.loop){if(d&&!u&&i.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const h=l?n.translate:-n.translate;function f(p){return p<0?-Math.floor(Math.abs(p)):Math.floor(p)}const g=f(h),x=a.map(p=>f(p)),b=i.freeMode&&i.freeMode.enabled;let v=a[x.indexOf(g)-1];if(typeof v>"u"&&(i.cssMode||b)){let p;a.forEach((y,w)=>{g>=y&&(p=w)}),typeof p<"u"&&(v=b?a[p]:a[p>0?p-1:p])}let m=0;if(typeof v<"u"&&(m=o.indexOf(v),m<0&&(m=n.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(m=m-n.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),i.rewind&&n.isBeginning){const p=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(p,t,e,r)}else if(i.loop&&n.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{n.slideTo(m,t,e,r)}),!0;return n.slideTo(m,t,e,r)}function TT(t,e,r){e===void 0&&(e=!0);const n=this;if(!n.destroyed)return typeof t>"u"&&(t=n.params.speed),n.slideTo(n.activeIndex,t,e,r)}function IT(t,e,r,n){e===void 0&&(e=!0),n===void 0&&(n=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let a=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,a),l=o+Math.floor((a-o)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[l]){const d=i.snapGrid[l],u=i.snapGrid[l+1];c-d>(u-d)*n&&(a+=i.params.slidesPerGroup)}else{const d=i.snapGrid[l-1],u=i.snapGrid[l];c-d<=(u-d)*n&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,t,e,r)}function PT(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:r}=t,n=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.getSlideIndexWhenGrid(t.clickedIndex),a;const o=t.isElement?"swiper-slide":`.${e.slideClass}`,l=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;a=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(a):i>(l?(t.slides.length-n)/2-(t.params.grid.rows-1):t.slides.length-n)?(t.loopFix(),i=t.getSlideIndex(Gt(r,`${o}[data-swiper-slide-index="${a}"]`)[0]),xv(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var OT={slideTo:kT,slideToLoop:_T,slideNext:ET,slidePrev:CT,slideReset:TT,slideToClosest:IT,slideToClickedSlide:PT};function AT(t,e){const r=this,{params:n,slidesEl:i}=r;if(!n.loop||r.virtual&&r.params.virtual.enabled)return;const a=()=>{Gt(i,`.${n.slideClass}, swiper-slide`).forEach((g,x)=>{g.setAttribute("data-swiper-slide-index",x)})},o=()=>{const f=Gt(i,`.${n.slideBlankClass}`);f.forEach(g=>{g.remove()}),f.length>0&&(r.recalcSlides(),r.updateSlides())},l=r.grid&&n.grid&&n.grid.rows>1;n.loopAddBlankSlides&&(n.slidesPerGroup>1||l)&&o();const c=n.slidesPerGroup*(l?n.grid.rows:1),d=r.slides.length%c!==0,u=l&&r.slides.length%n.grid.rows!==0,h=f=>{for(let g=0;g<f;g+=1){const x=r.isElement?rl("swiper-slide",[n.slideBlankClass]):rl("div",[n.slideClass,n.slideBlankClass]);r.slidesEl.append(x)}};if(d){if(n.loopAddBlankSlides){const f=c-r.slides.length%c;h(f),r.recalcSlides(),r.updateSlides()}else tl("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(u){if(n.loopAddBlankSlides){const f=n.grid.rows-r.slides.length%n.grid.rows;h(f),r.recalcSlides(),r.updateSlides()}else tl("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();r.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next",initial:e})}function RT(t){let{slideRealIndex:e,slideTo:r=!0,direction:n,setTranslate:i,activeSlideIndex:a,initial:o,byController:l,byMousewheel:c}=t===void 0?{}:t;const d=this;if(!d.params.loop)return;d.emit("beforeLoopFix");const{slides:u,allowSlidePrev:h,allowSlideNext:f,slidesEl:g,params:x}=d,{centeredSlides:b,initialSlide:v}=x;if(d.allowSlidePrev=!0,d.allowSlideNext=!0,d.virtual&&x.virtual.enabled){r&&(!x.centeredSlides&&d.snapIndex===0?d.slideTo(d.virtual.slides.length,0,!1,!0):x.centeredSlides&&d.snapIndex<x.slidesPerView?d.slideTo(d.virtual.slides.length+d.snapIndex,0,!1,!0):d.snapIndex===d.snapGrid.length-1&&d.slideTo(d.virtual.slidesBefore,0,!1,!0)),d.allowSlidePrev=h,d.allowSlideNext=f,d.emit("loopFix");return}let m=x.slidesPerView;m==="auto"?m=d.slidesPerViewDynamic():(m=Math.ceil(parseFloat(x.slidesPerView,10)),b&&m%2===0&&(m=m+1));const p=x.slidesPerGroupAuto?m:x.slidesPerGroup;let y=b?Math.max(p,Math.ceil(m/2)):p;y%p!==0&&(y+=p-y%p),y+=x.loopAdditionalSlides,d.loopedSlides=y;const w=d.grid&&x.grid&&x.grid.rows>1;u.length<m+y||d.params.effect==="cards"&&u.length<m+y*2?tl("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&x.grid.fill==="row"&&tl("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const N=[],_=[],S=w?Math.ceil(u.length/x.grid.rows):u.length,E=o&&S-v<m&&!b;let k=E?v:d.activeIndex;typeof a>"u"?a=d.getSlideIndex(u.find($=>$.classList.contains(x.slideActiveClass))):k=a;const T=n==="next"||!n,P=n==="prev"||!n;let I=0,C=0;const V=(w?u[a].column:a)+(b&&typeof i>"u"?-m/2+.5:0);if(V<y){I=Math.max(y-V,p);for(let $=0;$<y-V;$+=1){const Y=$-Math.floor($/S)*S;if(w){const A=S-Y-1;for(let D=u.length-1;D>=0;D-=1)u[D].column===A&&N.push(D)}else N.push(S-Y-1)}}else if(V+m>S-y){C=Math.max(V-(S-y*2),p),E&&(C=Math.max(C,m-S+v+1));for(let $=0;$<C;$+=1){const Y=$-Math.floor($/S)*S;w?u.forEach((A,D)=>{A.column===Y&&_.push(D)}):_.push(Y)}}if(d.__preventObserver__=!0,requestAnimationFrame(()=>{d.__preventObserver__=!1}),d.params.effect==="cards"&&u.length<m+y*2&&(_.includes(a)&&_.splice(_.indexOf(a),1),N.includes(a)&&N.splice(N.indexOf(a),1)),P&&N.forEach($=>{u[$].swiperLoopMoveDOM=!0,g.prepend(u[$]),u[$].swiperLoopMoveDOM=!1}),T&&_.forEach($=>{u[$].swiperLoopMoveDOM=!0,g.append(u[$]),u[$].swiperLoopMoveDOM=!1}),d.recalcSlides(),x.slidesPerView==="auto"?d.updateSlides():w&&(N.length>0&&P||_.length>0&&T)&&d.slides.forEach(($,Y)=>{d.grid.updateSlide(Y,$,d.slides)}),x.watchSlidesProgress&&d.updateSlidesOffset(),r){if(N.length>0&&P){if(typeof e>"u"){const $=d.slidesGrid[k],A=d.slidesGrid[k+I]-$;c?d.setTranslate(d.translate-A):(d.slideTo(k+Math.ceil(I),0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-A,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-A))}else if(i){const $=w?N.length/x.grid.rows:N.length;d.slideTo(d.activeIndex+$,0,!1,!0),d.touchEventsData.currentTranslate=d.translate}}else if(_.length>0&&T)if(typeof e>"u"){const $=d.slidesGrid[k],A=d.slidesGrid[k-C]-$;c?d.setTranslate(d.translate-A):(d.slideTo(k-C,0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-A,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-A))}else{const $=w?_.length/x.grid.rows:_.length;d.slideTo(d.activeIndex-$,0,!1,!0)}}if(d.allowSlidePrev=h,d.allowSlideNext=f,d.controller&&d.controller.control&&!l){const $={slideRealIndex:e,direction:n,setTranslate:i,activeSlideIndex:a,byController:!0};Array.isArray(d.controller.control)?d.controller.control.forEach(Y=>{!Y.destroyed&&Y.params.loop&&Y.loopFix({...$,slideTo:Y.params.slidesPerView===x.slidesPerView?r:!1})}):d.controller.control instanceof d.constructor&&d.controller.control.params.loop&&d.controller.control.loopFix({...$,slideTo:d.controller.control.params.slidesPerView===x.slidesPerView?r:!1})}d.emit("loopFix")}function DT(){const t=this,{params:e,slidesEl:r}=t;if(!e.loop||!r||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const n=[];t.slides.forEach(i=>{const a=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;n[a]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),n.forEach(i=>{r.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var LT={loopCreate:AT,loopFix:RT,loopDestroy:DT};function MT(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const r=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function $T(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var BT={setGrabCursor:MT,unsetGrabCursor:$T};function FT(t,e){e===void 0&&(e=this);function r(n){if(!n||n===Zt()||n===Ze())return null;n.assignedSlot&&(n=n.assignedSlot);const i=n.closest(t);return!i&&!n.getRootNode?null:i||r(n.getRootNode().host)}return r(e)}function Um(t,e,r){const n=Ze(),{params:i}=t,a=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return a&&(r<=o||r>=n.innerWidth-o)?a==="prevent"?(e.preventDefault(),!0):!1:!0}function UT(t){const e=this,r=Zt();let n=t;n.originalEvent&&(n=n.originalEvent);const i=e.touchEventsData;if(n.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==n.pointerId)return;i.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(i.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){Um(e,n,n.targetTouches[0].pageX);return}const{params:a,touches:o,enabled:l}=e;if(!l||!a.simulateTouch&&n.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let c=n.target;if(a.touchEventsTarget==="wrapper"&&!KC(c,e.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||i.isTouched&&i.isMoved)return;const d=!!a.noSwipingClass&&a.noSwipingClass!=="",u=n.composedPath?n.composedPath():n.path;d&&n.target&&n.target.shadowRoot&&u&&(c=u[0]);const h=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,f=!!(n.target&&n.target.shadowRoot);if(a.noSwiping&&(f?FT(h,c):c.closest(h))){e.allowClick=!0;return}if(a.swipeHandler&&!c.closest(a.swipeHandler))return;o.currentX=n.pageX,o.currentY=n.pageY;const g=o.currentX,x=o.currentY;if(!Um(e,n,g))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=x,i.touchStartTime=el(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1);let b=!0;c.matches(i.focusableElements)&&(b=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),r.activeElement&&r.activeElement.matches(i.focusableElements)&&r.activeElement!==c&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!c.matches(i.focusableElements))&&r.activeElement.blur();const v=b&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||v)&&!c.isContentEditable&&n.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",n)}function zT(t){const e=Zt(),r=this,n=r.touchEventsData,{params:i,touches:a,rtlTranslate:o,enabled:l}=r;if(!l||!i.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(n.touchId!==null||c.pointerId!==n.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].find(_=>_.identifier===n.touchId),!d||d.identifier!==n.touchId)return}else d=c;if(!n.isTouched){n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",c);return}const u=d.pageX,h=d.pageY;if(c.preventedByNestedSwiper){a.startX=u,a.startY=h;return}if(!r.allowTouchMove){c.target.matches(n.focusableElements)||(r.allowClick=!1),n.isTouched&&(Object.assign(a,{startX:u,startY:h,currentX:u,currentY:h}),n.touchStartTime=el());return}if(i.touchReleaseOnEdges&&!i.loop)if(r.isVertical()){if(h<a.startY&&r.translate<=r.maxTranslate()||h>a.startY&&r.translate>=r.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else{if(o&&(u>a.startX&&-r.translate<=r.maxTranslate()||u<a.startX&&-r.translate>=r.minTranslate()))return;if(!o&&(u<a.startX&&r.translate<=r.maxTranslate()||u>a.startX&&r.translate>=r.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(n.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(n.focusableElements)){n.isMoved=!0,r.allowClick=!1;return}n.allowTouchCallbacks&&r.emit("touchMove",c),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=u,a.currentY=h;const f=a.currentX-a.startX,g=a.currentY-a.startY;if(r.params.threshold&&Math.sqrt(f**2+g**2)<r.params.threshold)return;if(typeof n.isScrolling>"u"){let _;r.isHorizontal()&&a.currentY===a.startY||r.isVertical()&&a.currentX===a.startX?n.isScrolling=!1:f*f+g*g>=25&&(_=Math.atan2(Math.abs(g),Math.abs(f))*180/Math.PI,n.isScrolling=r.isHorizontal()?_>i.touchAngle:90-_>i.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",c),typeof n.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(n.startMoving=!0),n.isScrolling||c.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;r.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let x=r.isHorizontal()?f:g,b=r.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;i.oneWayMovement&&(x=Math.abs(x)*(o?1:-1),b=Math.abs(b)*(o?1:-1)),a.diff=x,x*=i.touchRatio,o&&(x=-x,b=-b);const v=r.touchesDirection;r.swipeDirection=x>0?"prev":"next",r.touchesDirection=b>0?"prev":"next";const m=r.params.loop&&!i.cssMode,p=r.touchesDirection==="next"&&r.allowSlideNext||r.touchesDirection==="prev"&&r.allowSlidePrev;if(!n.isMoved){if(m&&p&&r.loopFix({direction:r.swipeDirection}),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const _=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(_)}n.allowMomentumBounce=!1,i.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",c)}let y;if(new Date().getTime(),i._loopSwapReset!==!1&&n.isMoved&&n.allowThresholdMove&&v!==r.touchesDirection&&m&&p&&Math.abs(x)>=1){Object.assign(a,{startX:u,startY:h,currentX:u,currentY:h,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}r.emit("sliderMove",c),n.isMoved=!0,n.currentTranslate=x+n.startTranslate;let w=!0,N=i.resistanceRatio;if(i.touchReleaseOnEdges&&(N=0),x>0?(m&&p&&!y&&n.allowThresholdMove&&n.currentTranslate>(i.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-(i.slidesPerView!=="auto"&&r.slides.length-i.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>r.minTranslate()&&(w=!1,i.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+x)**N))):x<0&&(m&&p&&!y&&n.allowThresholdMove&&n.currentTranslate<(i.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+(i.slidesPerView!=="auto"&&r.slides.length-i.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(i.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),n.currentTranslate<r.maxTranslate()&&(w=!1,i.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-x)**N))),w&&(c.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(n.currentTranslate=n.startTranslate),i.threshold>0)if(Math.abs(x)>i.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,n.currentTranslate=n.startTranslate,a.diff=r.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{n.currentTranslate=n.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&r.freeMode||i.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function VT(t){const e=this,r=e.touchEventsData;let n=t;n.originalEvent&&(n=n.originalEvent);let i;if(n.type==="touchend"||n.type==="touchcancel"){if(i=[...n.changedTouches].find(N=>N.identifier===r.touchId),!i||i.identifier!==r.touchId)return}else{if(r.touchId!==null||n.pointerId!==r.pointerId)return;i=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;r.pointerId=null,r.touchId=null;const{params:o,touches:l,rtlTranslate:c,slidesGrid:d,enabled:u}=e;if(!u||!o.simulateTouch&&n.pointerType==="mouse")return;if(r.allowTouchCallbacks&&e.emit("touchEnd",n),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&o.grabCursor&&e.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}o.grabCursor&&r.isMoved&&r.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=el(),f=h-r.touchStartTime;if(e.allowClick){const N=n.path||n.composedPath&&n.composedPath();e.updateClickedSlide(N&&N[0]||n.target,N),e.emit("tap click",n),f<300&&h-r.lastClickTime<300&&e.emit("doubleTap doubleClick",n)}if(r.lastClickTime=el(),xv(()=>{e.destroyed||(e.allowClick=!0)}),!r.isTouched||!r.isMoved||!e.swipeDirection||l.diff===0&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let g;if(o.followFinger?g=c?e.translate:-e.translate:g=-r.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const x=g>=-e.maxTranslate()&&!e.params.loop;let b=0,v=e.slidesSizesGrid[0];for(let N=0;N<d.length;N+=N<o.slidesPerGroupSkip?1:o.slidesPerGroup){const _=N<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof d[N+_]<"u"?(x||g>=d[N]&&g<d[N+_])&&(b=N,v=d[N+_]-d[N]):(x||g>=d[N])&&(b=N,v=d[d.length-1]-d[d.length-2])}let m=null,p=null;o.rewind&&(e.isBeginning?p=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const y=(g-d[b])/v,w=b<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(y>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?m:b+w):e.slideTo(b)),e.swipeDirection==="prev"&&(y>1-o.longSwipesRatio?e.slideTo(b+w):p!==null&&y<0&&Math.abs(y)>o.longSwipesRatio?e.slideTo(p):e.slideTo(b))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(n.target===e.navigation.nextEl||n.target===e.navigation.prevEl)?n.target===e.navigation.nextEl?e.slideTo(b+w):e.slideTo(b):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:b+w),e.swipeDirection==="prev"&&e.slideTo(p!==null?p:b))}}function zm(){const t=this,{params:e,el:r}=t;if(r&&r.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:i,snapGrid:a}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=n,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function WT(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function HT(){const t=this,{wrapperEl:e,rtlTranslate:r,enabled:n}=t;if(!n)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const a=t.maxTranslate()-t.minTranslate();a===0?i=0:i=(t.translate-t.minTranslate())/a,i!==t.progress&&t.updateProgress(r?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function qT(t){const e=this;fo(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function GT(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Sv=(t,e)=>{const r=Zt(),{params:n,el:i,wrapperEl:a,device:o}=t,l=!!n.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;!i||typeof i=="string"||(r[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),i[c]("touchstart",t.onTouchStart,{passive:!1}),i[c]("pointerdown",t.onTouchStart,{passive:!1}),r[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),r[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),r[c]("touchend",t.onTouchEnd,{passive:!0}),r[c]("pointerup",t.onTouchEnd,{passive:!0}),r[c]("pointercancel",t.onTouchEnd,{passive:!0}),r[c]("touchcancel",t.onTouchEnd,{passive:!0}),r[c]("pointerout",t.onTouchEnd,{passive:!0}),r[c]("pointerleave",t.onTouchEnd,{passive:!0}),r[c]("contextmenu",t.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&i[c]("click",t.onClick,!0),n.cssMode&&a[c]("scroll",t.onScroll),n.updateOnWindowResize?t[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",zm,!0):t[d]("observerUpdate",zm,!0),i[c]("load",t.onLoad,{capture:!0}))};function YT(){const t=this,{params:e}=t;t.onTouchStart=UT.bind(t),t.onTouchMove=zT.bind(t),t.onTouchEnd=VT.bind(t),t.onDocumentTouchStart=GT.bind(t),e.cssMode&&(t.onScroll=HT.bind(t)),t.onClick=WT.bind(t),t.onLoad=qT.bind(t),Sv(t,"on")}function KT(){Sv(this,"off")}var QT={attachEvents:YT,detachEvents:KT};const Vm=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function XT(){const t=this,{realIndex:e,initialized:r,params:n,el:i}=t,a=n.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const o=Zt(),l=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",c=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?t.el:o.querySelector(n.breakpointsBase),d=t.getBreakpoint(a,l,c);if(!d||t.currentBreakpoint===d)return;const h=(d in a?a[d]:void 0)||t.originalParams,f=Vm(t,n),g=Vm(t,h),x=t.params.grabCursor,b=h.grabCursor,v=n.enabled;f&&!g?(i.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&g&&(i.classList.add(`${n.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&n.grid.fill==="column")&&i.classList.add(`${n.containerModifierClass}grid-column`),t.emitContainerClasses()),x&&!b?t.unsetGrabCursor():!x&&b&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(_=>{if(typeof h[_]>"u")return;const S=n[_]&&n[_].enabled,E=h[_]&&h[_].enabled;S&&!E&&t[_].disable(),!S&&E&&t[_].enable()});const m=h.direction&&h.direction!==n.direction,p=n.loop&&(h.slidesPerView!==n.slidesPerView||m),y=n.loop;m&&r&&t.changeDirection(),dt(t.params,h);const w=t.params.enabled,N=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),v&&!w?t.disable():!v&&w&&t.enable(),t.currentBreakpoint=d,t.emit("_beforeBreakpoint",h),r&&(p?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!y&&N?(t.loopCreate(e),t.updateSlides()):y&&!N&&t.loopDestroy()),t.emit("breakpoint",h)}function JT(t,e,r){if(e===void 0&&(e="window"),!t||e==="container"&&!r)return;let n=!1;const i=Ze(),a=e==="window"?i.innerHeight:r.clientHeight,o=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:a*c,point:l}}return{value:l,point:l}});o.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<o.length;l+=1){const{point:c,value:d}=o[l];e==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(n=c):d<=r.clientWidth&&(n=c)}return n||"max"}var ZT={setBreakpoint:XT,getBreakpoint:JT};function e4(t,e){const r=[];return t.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(i=>{n[i]&&r.push(e+i)}):typeof n=="string"&&r.push(e+n)}),r}function t4(){const t=this,{classNames:e,params:r,rtl:n,el:i,device:a}=t,o=e4(["initialized",r.direction,{"free-mode":t.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function r4(){const t=this,{el:e,classNames:r}=t;!e||typeof e=="string"||(e.classList.remove(...r),t.emitContainerClasses())}var n4={addClasses:t4,removeClasses:r4};function s4(){const t=this,{isLocked:e,params:r}=t,{slidesOffsetBefore:n}=r;if(n){const i=t.slides.length-1,a=t.slidesGrid[i]+t.slidesSizesGrid[i]+n*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;r.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),r.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var i4={checkOverflow:s4},mu={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function a4(t,e){return function(n){n===void 0&&(n={});const i=Object.keys(n)[0],a=n[i];if(typeof a!="object"||a===null){dt(e,n);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in a)){dt(e,n);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),dt(e,n)}}const Yc={eventsEmitter:nT,update:pT,translate:bT,transition:ST,slide:OT,loop:LT,grabCursor:BT,events:QT,breakpoints:ZT,checkOverflow:i4,classes:n4},Kc={};let Xh=class nr{constructor(){let e,r;for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?r=i[0]:[e,r]=i,r||(r={}),r=dt({},r),e&&!r.el&&(r.el=e);const o=Zt();if(r.el&&typeof r.el=="string"&&o.querySelectorAll(r.el).length>1){const u=[];return o.querySelectorAll(r.el).forEach(h=>{const f=dt({},r,{el:h});u.push(new nr(f))}),u}const l=this;l.__swiper__=!0,l.support=bv(),l.device=wv({userAgent:r.userAgent}),l.browser=jv(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],r.modules&&Array.isArray(r.modules)&&l.modules.push(...r.modules);const c={};l.modules.forEach(u=>{u({params:r,swiper:l,extendParams:a4(r,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const d=dt({},mu,c);return l.params=dt({},d,Kc,r),l.originalParams=dt({},l.params),l.passedParams=dt({},r),l.params&&l.params.on&&Object.keys(l.params.on).forEach(u=>{l.on(u,l.params.on[u])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:r,params:n}=this,i=Gt(r,`.${n.slideClass}, swiper-slide`),a=nl(i[0]);return nl(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(r=>r.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:r,params:n}=e;e.slides=Gt(r,`.${n.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,r){const n=this;e=Math.min(Math.max(e,0),1);const i=n.minTranslate(),o=(n.maxTranslate()-i)*e+i;n.translateTo(o,typeof r>"u"?0:r),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",r.join(" "))}getSlideClasses(e){const r=this;return r.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=[];e.slides.forEach(n=>{const i=e.getSlideClasses(n);r.push({slideEl:n,classNames:i}),e.emit("_slideClass",n,i)}),e.emit("_slideClasses",r)}slidesPerViewDynamic(e,r){e===void 0&&(e="current"),r===void 0&&(r=!1);const n=this,{params:i,slides:a,slidesGrid:o,slidesSizesGrid:l,size:c,activeIndex:d}=n;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let h=a[d]?Math.ceil(a[d].swiperSlideSize):0,f;for(let g=d+1;g<a.length;g+=1)a[g]&&!f&&(h+=Math.ceil(a[g].swiperSlideSize),u+=1,h>c&&(f=!0));for(let g=d-1;g>=0;g-=1)a[g]&&!f&&(h+=a[g].swiperSlideSize,u+=1,h>c&&(f=!0))}else if(e==="current")for(let h=d+1;h<a.length;h+=1)(r?o[h]+l[h]-o[d]<c:o[h]-o[d]<c)&&(u+=1);else for(let h=d-1;h>=0;h-=1)o[d]-o[h]<c&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:r,params:n}=e;n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&fo(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)i(),n.autoHeight&&e.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const o=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(o.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||i()}n.watchOverflow&&r!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,r){r===void 0&&(r=!0);const n=this,i=n.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${i}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),n.emit("changeDirection"),r&&n.update()),n}changeLanguageDirection(e){const r=this;r.rtl&&e==="rtl"||!r.rtl&&e==="ltr"||(r.rtl=e==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(e){const r=this;if(r.mounted)return!0;let n=e||r.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=r,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===r.params.swiperElementNodeName.toUpperCase()&&(r.isElement=!0);const i=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(i()):Gt(n,i())[0];return!o&&r.params.createElements&&(o=rl("div",r.params.wrapperClass),n.append(o),Gt(n,`.${r.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(r,{el:n,wrapperEl:o,slidesEl:r.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:o,hostEl:r.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||Lr(n,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||Lr(n,"direction")==="rtl"),wrongRTL:Lr(o,"display")==="-webkit-box"}),!0}init(e){const r=this;if(r.initialized||r.mount(e)===!1)return r;r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(void 0,!0),r.attachEvents();const i=[...r.el.querySelectorAll('[loading="lazy"]')];return r.isElement&&i.push(...r.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(a=>{a.complete?fo(r,a):a.addEventListener("load",o=>{fo(r,o.target)})}),pu(r),r.initialized=!0,pu(r),r.emit("init"),r.emit("afterInit"),r}destroy(e,r){e===void 0&&(e=!0),r===void 0&&(r=!0);const n=this,{params:i,el:a,wrapperEl:o,slides:l}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),r&&(n.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),o&&o.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(c=>{n.off(c)}),e!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),WC(n)),n.destroyed=!0),null}static extendDefaults(e){dt(Kc,e)}static get extendedDefaults(){return Kc}static get defaults(){return mu}static installModule(e){nr.prototype.__modules__||(nr.prototype.__modules__=[]);const r=nr.prototype.__modules__;typeof e=="function"&&r.indexOf(e)<0&&r.push(e)}static use(e){return Array.isArray(e)?(e.forEach(r=>nr.installModule(r)),nr):(nr.installModule(e),nr)}};Object.keys(Yc).forEach(t=>{Object.keys(Yc[t]).forEach(e=>{Xh.prototype[e]=Yc[t][e]})});Xh.use([tT,rT]);const kv=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Tn(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function ms(t,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:Tn(e[n])&&Tn(t[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?t[n]=e[n]:ms(t[n],e[n]):t[n]=e[n]})}function _v(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Ev(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Cv(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Tv(t){t===void 0&&(t="");const e=t.split(" ").map(n=>n.trim()).filter(n=>!!n),r=[];return e.forEach(n=>{r.indexOf(n)<0&&r.push(n)}),r.join(" ")}function o4(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function l4(t){let{swiper:e,slides:r,passedParams:n,changedParams:i,nextEl:a,prevEl:o,scrollbarEl:l,paginationEl:c}=t;const d=i.filter(k=>k!=="children"&&k!=="direction"&&k!=="wrapperClass"),{params:u,pagination:h,navigation:f,scrollbar:g,virtual:x,thumbs:b}=e;let v,m,p,y,w,N,_,S;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(v=!0),i.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(m=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||c)&&(u.pagination||u.pagination===!1)&&h&&!h.el&&(p=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(u.scrollbar||u.scrollbar===!1)&&g&&!g.el&&(y=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||o)&&(n.navigation.nextEl||a)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(w=!0);const E=k=>{e[k]&&(e[k].destroy(),k==="navigation"?(e.isElement&&(e[k].prevEl.remove(),e[k].nextEl.remove()),u[k].prevEl=void 0,u[k].nextEl=void 0,e[k].prevEl=void 0,e[k].nextEl=void 0):(e.isElement&&e[k].el.remove(),u[k].el=void 0,e[k].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!n.loop?N=!0:!u.loop&&n.loop?_=!0:S=!0),d.forEach(k=>{if(Tn(u[k])&&Tn(n[k]))Object.assign(u[k],n[k]),(k==="navigation"||k==="pagination"||k==="scrollbar")&&"enabled"in n[k]&&!n[k].enabled&&E(k);else{const T=n[k];(T===!0||T===!1)&&(k==="navigation"||k==="pagination"||k==="scrollbar")?T===!1&&E(k):u[k]=n[k]}}),d.includes("controller")&&!m&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&r&&x&&u.virtual.enabled?(x.slides=r,x.update(!0)):i.includes("virtual")&&x&&u.virtual.enabled&&(r&&(x.slides=r),x.update(!0)),i.includes("children")&&r&&u.loop&&(S=!0),v&&b.init()&&b.update(!0),m&&(e.controller.control=u.controller.control),p&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(u.pagination.el=c),h.init(),h.render(),h.update()),y&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(u.scrollbar.el=l),g.init(),g.updateSize(),g.setTranslate()),w&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),sl(a,e.hostEl.constructor.nextButtonSvg),a.part.add("button-next"),e.el.appendChild(a)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),sl(o,e.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),e.el.appendChild(o))),a&&(u.navigation.nextEl=a),o&&(u.navigation.prevEl=o),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&e.changeDirection(n.direction,!1),(N||S)&&e.loopDestroy(),(_||S)&&e.loopCreate(),e.update()}function c4(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const r={on:{}},n={},i={};ms(r,mu),r._emitClasses=!0,r.init=!1;const a={},o=kv.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(o.indexOf(c)>=0?Tn(t[c])?(r[c]={},i[c]={},ms(r[c],t[c]),ms(i[c],t[c])):(r[c]=t[c],i[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?n[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:r.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:a[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{r[c]===!0&&(r[c]={}),r[c]===!1&&delete r[c]}),{params:r,passedParams:i,rest:a,events:n}}function d4(t,e){let{el:r,nextEl:n,prevEl:i,paginationEl:a,scrollbarEl:o,swiper:l}=t;_v(e)&&n&&i&&(l.params.navigation.nextEl=n,l.originalParams.navigation.nextEl=n,l.params.navigation.prevEl=i,l.originalParams.navigation.prevEl=i),Ev(e)&&a&&(l.params.pagination.el=a,l.originalParams.pagination.el=a),Cv(e)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(r)}function u4(t,e,r,n,i){const a=[];if(!e)return a;const o=c=>{a.indexOf(c)<0&&a.push(c)};if(r&&n){const c=n.map(i),d=r.map(i);c.join("")!==d.join("")&&o("children"),n.length!==r.length&&o("children")}return kv.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Tn(t[c])&&Tn(e[c])){const d=Object.keys(t[c]),u=Object.keys(e[c]);d.length!==u.length?o(c):(d.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}),u.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}))}else t[c]!==e[c]&&o(c)}),a}const h4=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},il.apply(this,arguments)}function Iv(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function Pv(t){const e=[];return W.Children.toArray(t).forEach(r=>{Iv(r)?e.push(r):r.props&&r.props.children&&Pv(r.props.children).forEach(n=>e.push(n))}),e}function f4(t){const e=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return W.Children.toArray(t).forEach(n=>{if(Iv(n))e.push(n);else if(n.props&&n.props.slot&&r[n.props.slot])r[n.props.slot].push(n);else if(n.props&&n.props.children){const i=Pv(n.props.children);i.length>0?i.forEach(a=>e.push(a)):r["container-end"].push(n)}else r["container-end"].push(n)}),{slides:e,slots:r}}function p4(t,e,r){if(!r)return null;const n=u=>{let h=u;return u<0?h=e.length+u:h>=e.length&&(h=h-e.length),h},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:a,to:o}=r,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,d=[];for(let u=l;u<c;u+=1)u>=a&&u<=o&&d.push(e[n(u)]);return d.map((u,h)=>W.cloneElement(u,{swiper:t,style:i,key:u.props.virtualIndex||u.key||`slide-${h}`}))}function ji(t,e){return typeof window>"u"?j.useEffect(t,e):j.useLayoutEffect(t,e)}const Wm=j.createContext(null),m4=j.createContext(null),Ll=j.forwardRef(function(t,e){let{className:r,tag:n="div",wrapperTag:i="div",children:a,onSwiper:o,...l}=t===void 0?{}:t,c=!1;const[d,u]=j.useState("swiper"),[h,f]=j.useState(null),[g,x]=j.useState(!1),b=j.useRef(!1),v=j.useRef(null),m=j.useRef(null),p=j.useRef(null),y=j.useRef(null),w=j.useRef(null),N=j.useRef(null),_=j.useRef(null),S=j.useRef(null),{params:E,passedParams:k,rest:T,events:P}=c4(l),{slides:I,slots:C}=f4(a),F=()=>{x(!g)};Object.assign(E.on,{_containerClasses(D,L){u(L)}});const V=()=>{Object.assign(E.on,P),c=!0;const D={...E};if(delete D.wrapperClass,m.current=new Xh(D),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=I;const L={cache:!1,slides:I,renderExternal:f,renderExternalUpdate:!1};ms(m.current.params.virtual,L),ms(m.current.originalParams.virtual,L)}};v.current||V(),m.current&&m.current.on("_beforeBreakpoint",F);const $=()=>{c||!P||!m.current||Object.keys(P).forEach(D=>{m.current.on(D,P[D])})},Y=()=>{!P||!m.current||Object.keys(P).forEach(D=>{m.current.off(D,P[D])})};j.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",F)}),j.useEffect(()=>{!b.current&&m.current&&(m.current.emitSlidesClasses(),b.current=!0)}),ji(()=>{if(e&&(e.current=v.current),!!v.current)return m.current.destroyed&&V(),d4({el:v.current,nextEl:w.current,prevEl:N.current,paginationEl:_.current,scrollbarEl:S.current,swiper:m.current},E),o&&!m.current.destroyed&&o(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),ji(()=>{$();const D=u4(k,p.current,I,y.current,L=>L.key);return p.current=k,y.current=I,D.length&&m.current&&!m.current.destroyed&&l4({swiper:m.current,slides:I,passedParams:k,changedParams:D,nextEl:w.current,prevEl:N.current,scrollbarEl:S.current,paginationEl:_.current}),()=>{Y()}}),ji(()=>{h4(m.current)},[h]);function A(){return E.virtual?p4(m.current,I,h):I.map((D,L)=>W.cloneElement(D,{swiper:m.current,swiperSlideIndex:L}))}return W.createElement(n,il({ref:v,className:Tv(`${d}${r?` ${r}`:""}`)},T),W.createElement(m4.Provider,{value:m.current},C["container-start"],W.createElement(i,{className:o4(E.wrapperClass)},C["wrapper-start"],A(),C["wrapper-end"]),_v(E)&&W.createElement(W.Fragment,null,W.createElement("div",{ref:N,className:"swiper-button-prev"}),W.createElement("div",{ref:w,className:"swiper-button-next"})),Cv(E)&&W.createElement("div",{ref:S,className:"swiper-scrollbar"}),Ev(E)&&W.createElement("div",{ref:_,className:"swiper-pagination"}),C["container-end"]))});Ll.displayName="Swiper";const Ml=j.forwardRef(function(t,e){let{tag:r="div",children:n,className:i="",swiper:a,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:d,...u}=t===void 0?{}:t;const h=j.useRef(null),[f,g]=j.useState("swiper-slide"),[x,b]=j.useState(!1);function v(w,N,_){N===h.current&&g(_)}ji(()=>{if(typeof d<"u"&&(h.current.swiperSlideIndex=d),e&&(e.current=h.current),!(!h.current||!a)){if(a.destroyed){f!=="swiper-slide"&&g("swiper-slide");return}return a.on("_slideClass",v),()=>{a&&a.off("_slideClass",v)}}}),ji(()=>{a&&h.current&&!a.destroyed&&g(a.getSlideClasses(h.current))},[a]);const m={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},p=()=>typeof n=="function"?n(m):n,y=()=>{b(!0)};return W.createElement(r,il({ref:h,className:Tv(`${f}${i?` ${i}`:""}`),"data-swiper-slide-index":c,onLoad:y},u),o&&W.createElement(Wm.Provider,{value:m},W.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},p(),l&&!x&&W.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&W.createElement(Wm.Provider,{value:m},p(),l&&!x&&W.createElement("div",{className:"swiper-lazy-preloader"})))});Ml.displayName="SwiperSlide";function Ov(t,e,r,n){return t.params.createElements&&Object.keys(n).forEach(i=>{if(!r[i]&&r.auto===!0){let a=Gt(t.el,`.${n[i]}`)[0];a||(a=rl("div",n[i]),a.className=n[i],t.el.append(a)),r[i]=a,e[i]=a}}),r}function Jh(t){let{swiper:e,extendParams:r,on:n,emit:i}=t;r({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function a(x){let b;return x&&typeof x=="string"&&e.isElement&&(b=e.el.querySelector(x)||e.hostEl.querySelector(x),b)?b:(x&&(typeof x=="string"&&(b=[...document.querySelectorAll(x)]),e.params.uniqueNavElements&&typeof x=="string"&&b&&b.length>1&&e.el.querySelectorAll(x).length===1?b=e.el.querySelector(x):b&&b.length===1&&(b=b[0])),x&&!b?x:b)}function o(x,b){const v=e.params.navigation;x=Ae(x),x.forEach(m=>{m&&(m.classList[b?"add":"remove"](...v.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=b),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](v.lockClass))})}function l(){const{nextEl:x,prevEl:b}=e.navigation;if(e.params.loop){o(b,!1),o(x,!1);return}o(b,e.isBeginning&&!e.params.rewind),o(x,e.isEnd&&!e.params.rewind)}function c(x){x.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function d(x){x.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){const x=e.params.navigation;if(e.params.navigation=Ov(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(x.nextEl||x.prevEl))return;let b=a(x.nextEl),v=a(x.prevEl);Object.assign(e.navigation,{nextEl:b,prevEl:v}),b=Ae(b),v=Ae(v);const m=(p,y)=>{p&&p.addEventListener("click",y==="next"?d:c),!e.enabled&&p&&p.classList.add(...x.lockClass.split(" "))};b.forEach(p=>m(p,"next")),v.forEach(p=>m(p,"prev"))}function h(){let{nextEl:x,prevEl:b}=e.navigation;x=Ae(x),b=Ae(b);const v=(m,p)=>{m.removeEventListener("click",p==="next"?d:c),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};x.forEach(m=>v(m,"next")),b.forEach(m=>v(m,"prev"))}n("init",()=>{e.params.navigation.enabled===!1?g():(u(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{h()}),n("enable disable",()=>{let{nextEl:x,prevEl:b}=e.navigation;if(x=Ae(x),b=Ae(b),e.enabled){l();return}[...x,...b].filter(v=>!!v).forEach(v=>v.classList.add(e.params.navigation.lockClass))}),n("click",(x,b)=>{let{nextEl:v,prevEl:m}=e.navigation;v=Ae(v),m=Ae(m);const p=b.target;let y=m.includes(p)||v.includes(p);if(e.isElement&&!y){const w=b.path||b.composedPath&&b.composedPath();w&&(y=w.find(N=>v.includes(N)||m.includes(N)))}if(e.params.navigation.hideOnClick&&!y){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===p||e.pagination.el.contains(p)))return;let w;v.length?w=v[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(w=m[0].classList.contains(e.params.navigation.hiddenClass)),i(w===!0?"navigationShow":"navigationHide"),[...v,...m].filter(N=>!!N).forEach(N=>N.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),l()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:g,update:l,init:u,destroy:h})}function ei(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function Zh(t){let{swiper:e,extendParams:r,on:n,emit:i}=t;const a="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:p=>p,formatFractionTotal:p=>p,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let o,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(p,y){const{bulletActiveClass:w}=e.params.pagination;p&&(p=p[`${y==="prev"?"previous":"next"}ElementSibling`],p&&(p.classList.add(`${w}-${y}`),p=p[`${y==="prev"?"previous":"next"}ElementSibling`],p&&p.classList.add(`${w}-${y}-${y}`)))}function u(p,y,w){if(p=p%w,y=y%w,y===p+1)return"next";if(y===p-1)return"previous"}function h(p){const y=p.target.closest(ei(e.params.pagination.bulletClass));if(!y)return;p.preventDefault();const w=nl(y)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===w)return;const N=u(e.realIndex,w,e.slides.length);N==="next"?e.slideNext():N==="previous"?e.slidePrev():e.slideToLoop(w)}else e.slideTo(w)}function f(){const p=e.rtl,y=e.params.pagination;if(c())return;let w=e.pagination.el;w=Ae(w);let N,_;const S=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,E=e.params.loop?Math.ceil(S/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(_=e.previousRealIndex||0,N=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(N=e.snapIndex,_=e.previousSnapIndex):(_=e.previousIndex||0,N=e.activeIndex||0),y.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const k=e.pagination.bullets;let T,P,I;if(y.dynamicBullets&&(o=fu(k[0],e.isHorizontal()?"width":"height"),w.forEach(C=>{C.style[e.isHorizontal()?"width":"height"]=`${o*(y.dynamicMainBullets+4)}px`}),y.dynamicMainBullets>1&&_!==void 0&&(l+=N-(_||0),l>y.dynamicMainBullets-1?l=y.dynamicMainBullets-1:l<0&&(l=0)),T=Math.max(N-l,0),P=T+(Math.min(k.length,y.dynamicMainBullets)-1),I=(P+T)/2),k.forEach(C=>{const F=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(V=>`${y.bulletActiveClass}${V}`)].map(V=>typeof V=="string"&&V.includes(" ")?V.split(" "):V).flat();C.classList.remove(...F)}),w.length>1)k.forEach(C=>{const F=nl(C);F===N?C.classList.add(...y.bulletActiveClass.split(" ")):e.isElement&&C.setAttribute("part","bullet"),y.dynamicBullets&&(F>=T&&F<=P&&C.classList.add(...`${y.bulletActiveClass}-main`.split(" ")),F===T&&d(C,"prev"),F===P&&d(C,"next"))});else{const C=k[N];if(C&&C.classList.add(...y.bulletActiveClass.split(" ")),e.isElement&&k.forEach((F,V)=>{F.setAttribute("part",V===N?"bullet-active":"bullet")}),y.dynamicBullets){const F=k[T],V=k[P];for(let $=T;$<=P;$+=1)k[$]&&k[$].classList.add(...`${y.bulletActiveClass}-main`.split(" "));d(F,"prev"),d(V,"next")}}if(y.dynamicBullets){const C=Math.min(k.length,y.dynamicMainBullets+4),F=(o*C-o)/2-I*o,V=p?"right":"left";k.forEach($=>{$.style[e.isHorizontal()?V:"top"]=`${F}px`})}}w.forEach((k,T)=>{if(y.type==="fraction"&&(k.querySelectorAll(ei(y.currentClass)).forEach(P=>{P.textContent=y.formatFractionCurrent(N+1)}),k.querySelectorAll(ei(y.totalClass)).forEach(P=>{P.textContent=y.formatFractionTotal(E)})),y.type==="progressbar"){let P;y.progressbarOpposite?P=e.isHorizontal()?"vertical":"horizontal":P=e.isHorizontal()?"horizontal":"vertical";const I=(N+1)/E;let C=1,F=1;P==="horizontal"?C=I:F=I,k.querySelectorAll(ei(y.progressbarFillClass)).forEach(V=>{V.style.transform=`translate3d(0,0,0) scaleX(${C}) scaleY(${F})`,V.style.transitionDuration=`${e.params.speed}ms`})}y.type==="custom"&&y.renderCustom?(sl(k,y.renderCustom(e,N+1,E)),T===0&&i("paginationRender",k)):(T===0&&i("paginationRender",k),i("paginationUpdate",k)),e.params.watchOverflow&&e.enabled&&k.classList[e.isLocked?"add":"remove"](y.lockClass)})}function g(){const p=e.params.pagination;if(c())return;const y=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let w=e.pagination.el;w=Ae(w);let N="";if(p.type==="bullets"){let _=e.params.loop?Math.ceil(y/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&_>y&&(_=y);for(let S=0;S<_;S+=1)p.renderBullet?N+=p.renderBullet.call(e,S,p.bulletClass):N+=`<${p.bulletElement} ${e.isElement?'part="bullet"':""} class="${p.bulletClass}"></${p.bulletElement}>`}p.type==="fraction"&&(p.renderFraction?N=p.renderFraction.call(e,p.currentClass,p.totalClass):N=`<span class="${p.currentClass}"></span> / <span class="${p.totalClass}"></span>`),p.type==="progressbar"&&(p.renderProgressbar?N=p.renderProgressbar.call(e,p.progressbarFillClass):N=`<span class="${p.progressbarFillClass}"></span>`),e.pagination.bullets=[],w.forEach(_=>{p.type!=="custom"&&sl(_,N||""),p.type==="bullets"&&e.pagination.bullets.push(..._.querySelectorAll(ei(p.bulletClass)))}),p.type!=="custom"&&i("paginationRender",w[0])}function x(){e.params.pagination=Ov(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const p=e.params.pagination;if(!p.el)return;let y;typeof p.el=="string"&&e.isElement&&(y=e.el.querySelector(p.el)),!y&&typeof p.el=="string"&&(y=[...document.querySelectorAll(p.el)]),y||(y=p.el),!(!y||y.length===0)&&(e.params.uniqueNavElements&&typeof p.el=="string"&&Array.isArray(y)&&y.length>1&&(y=[...e.el.querySelectorAll(p.el)],y.length>1&&(y=y.find(w=>vv(w,".swiper")[0]===e.el))),Array.isArray(y)&&y.length===1&&(y=y[0]),Object.assign(e.pagination,{el:y}),y=Ae(y),y.forEach(w=>{p.type==="bullets"&&p.clickable&&w.classList.add(...(p.clickableClass||"").split(" ")),w.classList.add(p.modifierClass+p.type),w.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.type==="bullets"&&p.dynamicBullets&&(w.classList.add(`${p.modifierClass}${p.type}-dynamic`),l=0,p.dynamicMainBullets<1&&(p.dynamicMainBullets=1)),p.type==="progressbar"&&p.progressbarOpposite&&w.classList.add(p.progressbarOppositeClass),p.clickable&&w.addEventListener("click",h),e.enabled||w.classList.add(p.lockClass)}))}function b(){const p=e.params.pagination;if(c())return;let y=e.pagination.el;y&&(y=Ae(y),y.forEach(w=>{w.classList.remove(p.hiddenClass),w.classList.remove(p.modifierClass+p.type),w.classList.remove(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.clickable&&(w.classList.remove(...(p.clickableClass||"").split(" ")),w.removeEventListener("click",h))})),e.pagination.bullets&&e.pagination.bullets.forEach(w=>w.classList.remove(...p.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const p=e.params.pagination;let{el:y}=e.pagination;y=Ae(y),y.forEach(w=>{w.classList.remove(p.horizontalClass,p.verticalClass),w.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass)})}),n("init",()=>{e.params.pagination.enabled===!1?m():(x(),g(),f())}),n("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),n("snapIndexChange",()=>{f()}),n("snapGridLengthChange",()=>{g(),f()}),n("destroy",()=>{b()}),n("enable disable",()=>{let{el:p}=e.pagination;p&&(p=Ae(p),p.forEach(y=>y.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),n("lock unlock",()=>{f()}),n("click",(p,y)=>{const w=y.target,N=Ae(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&N&&N.length>0&&!w.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&w===e.navigation.nextEl||e.navigation.prevEl&&w===e.navigation.prevEl))return;const _=N[0].classList.contains(e.params.pagination.hiddenClass);i(_===!0?"paginationShow":"paginationHide"),N.forEach(S=>S.classList.toggle(e.params.pagination.hiddenClass))}});const v=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=Ae(p),p.forEach(y=>y.classList.remove(e.params.pagination.paginationDisabledClass))),x(),g(),f()},m=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=Ae(p),p.forEach(y=>y.classList.add(e.params.pagination.paginationDisabledClass))),b()};Object.assign(e.pagination,{enable:v,disable:m,render:g,update:f,init:x,destroy:b})}function Av(t){let{swiper:e,extendParams:r,on:n,emit:i,params:a}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,l,c=a&&a.autoplay?a.autoplay.delay:3e3,d=a&&a.autoplay?a.autoplay.delay:3e3,u,h=new Date().getTime(),f,g,x,b,v,m,p;function y(A){!e||e.destroyed||!e.wrapperEl||A.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",y),!(p||A.detail&&A.detail.bySwiperTouchMove)&&T())}const w=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(d=u,f=!1);const A=e.autoplay.paused?u:h+d-new Date().getTime();e.autoplay.timeLeft=A,i("autoplayTimeLeft",A,A/c),l=requestAnimationFrame(()=>{w()})},N=()=>{let A;return e.virtual&&e.params.virtual.enabled?A=e.slides.find(L=>L.classList.contains("swiper-slide-active")):A=e.slides[e.activeIndex],A?parseInt(A.getAttribute("data-swiper-autoplay"),10):void 0},_=A=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),w();let D=typeof A>"u"?e.params.autoplay.delay:A;c=e.params.autoplay.delay,d=e.params.autoplay.delay;const L=N();!Number.isNaN(L)&&L>0&&typeof A>"u"&&(D=L,c=L,d=L),u=D;const K=e.params.speed,X=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(K,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,K,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(K,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,K,!0,!0),i("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{_()})))};return D>0?(clearTimeout(o),o=setTimeout(()=>{X()},D)):requestAnimationFrame(()=>{X()}),D},S=()=>{h=new Date().getTime(),e.autoplay.running=!0,_(),i("autoplayStart")},E=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(l),i("autoplayStop")},k=(A,D)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),A||(m=!0);const L=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",y):T()};if(e.autoplay.paused=!0,D){v&&(u=e.params.autoplay.delay),v=!1,L();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),L())},T=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),m?(m=!1,_(u)):_(),e.autoplay.paused=!1,i("autoplayResume"))},P=()=>{if(e.destroyed||!e.autoplay.running)return;const A=Zt();A.visibilityState==="hidden"&&(m=!0,k(!0)),A.visibilityState==="visible"&&T()},I=A=>{A.pointerType==="mouse"&&(m=!0,p=!0,!(e.animating||e.autoplay.paused)&&k(!0))},C=A=>{A.pointerType==="mouse"&&(p=!1,e.autoplay.paused&&T())},F=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",I),e.el.addEventListener("pointerleave",C))},V=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",I),e.el.removeEventListener("pointerleave",C))},$=()=>{Zt().addEventListener("visibilitychange",P)},Y=()=>{Zt().removeEventListener("visibilitychange",P)};n("init",()=>{e.params.autoplay.enabled&&(F(),$(),S())}),n("destroy",()=>{V(),Y(),e.autoplay.running&&E()}),n("_freeModeStaticRelease",()=>{(x||m)&&T()}),n("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?E():k(!0,!0)}),n("beforeTransitionStart",(A,D,L)=>{e.destroyed||!e.autoplay.running||(L||!e.params.autoplay.disableOnInteraction?k(!0,!0):E())}),n("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){E();return}g=!0,x=!1,m=!1,b=setTimeout(()=>{m=!0,x=!0,k(!0)},200)}}),n("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!g)){if(clearTimeout(b),clearTimeout(o),e.params.autoplay.disableOnInteraction){x=!1,g=!1;return}x&&e.params.cssMode&&T(),x=!1,g=!1}}),n("slideChange",()=>{e.destroyed||!e.autoplay.running||(v=!0)}),Object.assign(e.autoplay,{start:S,stop:E,pause:k,resume:T})}const g4=({images:t,title:e,subtitle:r,themeColor:n="black"})=>{const i=["https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1200&h=400&fit=crop","https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1200&h=400&fit=crop","https://images.unsplash.com/photo-1560472354-b43ff0c44a43?w=1200&h=400&fit=crop"],a=t&&t.length>0?t:i,l=(()=>{switch(n){case"white":return{overlay:"bg-white bg-opacity-80",text:"text-black",primaryBtn:"bg-black text-white hover:bg-gray-800",secondaryBtn:"bg-white border-2 border-black text-black hover:bg-black hover:text-white"};case"gray":return{overlay:"bg-gray-600 bg-opacity-80",text:"text-white",primaryBtn:"bg-white text-black hover:bg-gray-200",secondaryBtn:"bg-transparent border-2 border-white text-white hover:bg-white hover:text-black"};default:return{overlay:"bg-black bg-opacity-60",text:"text-white",primaryBtn:"bg-white text-black hover:bg-gray-200",secondaryBtn:"bg-transparent border-2 border-white text-white hover:bg-white hover:text-black"}}})();return s.jsx("section",{className:"hero-section relative h-[50vh]",children:s.jsx(Ll,{modules:[Jh,Zh,Av],spaceBetween:0,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:5e3},className:"h-full",children:a.map((c,d)=>s.jsx(Ml,{children:s.jsxs("div",{className:"relative h-full",children:[s.jsx("img",{src:c!=null&&c.startsWith("http")?c:`https://aio-backend-x770.onrender.com${c}`,alt:`Slide ${d+1}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:`absolute inset-0 flex items-center justify-center ${l.overlay}`,children:s.jsxs("div",{className:`text-center max-w-4xl px-6 ${l.text}`,children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-4 leading-tight",children:e||"All In One Marketplace"}),s.jsx("p",{className:"text-lg md:text-xl mb-8 opacity-90 max-w-3xl mx-auto leading-relaxed",children:r||"Discover premium products and professional services from verified local businesses"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(U,{to:"/products",className:`px-8 py-3 rounded-lg font-semibold text-lg transition-colors ${l.primaryBtn}`,children:"Shop Products"}),s.jsx(U,{to:"/services",className:`px-8 py-3 rounded-lg font-semibold text-lg transition-colors ${l.secondaryBtn}`,children:"Book Services"})]})]})})]})},d))})})},J=t=>(typeof t!="number"&&(t=parseFloat(t)||0),new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)),Qc=t=>(typeof t!="number"&&(t=parseFloat(t)||0),t>=1e6?`LKR ${(t/1e6).toFixed(1)}M`:t>=1e3?`LKR ${(t/1e3).toFixed(1)}K`:J(t)),ef=({product:t})=>{var i,a,o;const{addToCart:e}=Dn(),{user:r}=Ee(),n=l=>{var d;if(l.preventDefault(),l.stopPropagation(),(r==null?void 0:r.role)!=="customer"){alert("Only customers can add items to cart");return}const c={...t,storeId:((d=t.storeId)==null?void 0:d._id)||t.storeId};e(c)};return s.jsx(U,{to:`/product/${t._id}`,className:"block",children:s.jsxs("div",{className:"product-card bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("div",{className:"relative w-full h-48 overflow-hidden group",children:[s.jsx("img",{src:(i=t.images)!=null&&i[0]?t.images[0].startsWith("http")?t.images[0]:`https://aio-backend-x770.onrender.com${t.images[0]}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:t.title,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-150 ${(a=t.images)!=null&&a[1]?"group-hover:opacity-0":"group-hover:opacity-50"}`}),((o=t.images)==null?void 0:o[1])&&s.jsx("img",{src:t.images[1].startsWith("http")?t.images[1]:`https://aio-backend-x770.onrender.com${t.images[1]}`,alt:`${t.title} hover`,className:"absolute inset-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity duration-150"}),(r==null?void 0:r.role)==="customer"&&s.jsx("button",{onClick:n,className:"absolute top-2 right-2 bg-black text-white p-2 rounded-full hover:bg-gray-800 transition-colors",children:s.jsx(Kh,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:t.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-2xl font-bold",children:J(t.price)}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Me,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:"4.5"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:t.stock>0?`${t.stock} in stock`:"Out of stock"}),s.jsx("span",{className:"text-sm text-gray-500 capitalize",children:t.category})]})]})]})})},tf=({service:t})=>{var e,r,n;return s.jsx(U,{to:`/service/${t._id}`,className:"block",children:s.jsxs("div",{className:"booking-card bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("div",{className:"relative w-full h-48 overflow-hidden group",children:[s.jsx("img",{src:(e=t.images)!=null&&e[0]?t.images[0].startsWith("http")?t.images[0]:`https://aio-backend-x770.onrender.com${t.images[0]}`:"https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop",alt:t.title,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-150 ${(r=t.images)!=null&&r[1]?"group-hover:opacity-0":"group-hover:opacity-50"}`}),((n=t.images)==null?void 0:n[1])&&s.jsx("img",{src:t.images[1].startsWith("http")?t.images[1]:`https://aio-backend-x770.onrender.com${t.images[1]}`,alt:`${t.title} hover`,className:"absolute inset-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity duration-150"}),s.jsx("div",{className:"absolute top-2 left-2 bg-black text-white px-2 py-1 rounded text-sm z-10",children:t.priceType})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:t.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-2xl font-bold",children:[J(t.price),s.jsx("span",{className:"text-sm text-gray-500 ml-1",children:t.priceType==="hourly"?"/hour":""})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Me,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:"4.5"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[s.jsx(yr,{className:"w-4 h-4"}),s.jsxs("span",{children:[t.duration," min"]})]}),s.jsx("span",{className:"text-sm text-gray-500 capitalize",children:t.category})]})]})]})})},Rv=({store:t})=>{var e,r;return s.jsx(U,{to:`/store/${t._id}`,className:"block",children:s.jsxs("div",{className:"store-card bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:(e=t.heroImages)!=null&&e[0]?t.heroImages[0].startsWith("http")?t.heroImages[0]:`https://aio-backend-x770.onrender.com${t.heroImages[0]}`:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",alt:t.name,className:"w-full h-48 object-cover"}),s.jsxs("div",{className:"absolute top-2 left-2 bg-black text-white px-2 py-1 rounded text-sm flex items-center space-x-1",children:[s.jsx(pt,{className:"w-3 h-3"}),s.jsx("span",{className:"capitalize",children:t.type})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:t.name}),s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Me,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:t.rating||4.5})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[t.totalSales," sales"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["By ",((r=t.ownerId)==null?void 0:r.name)||"Store Owner"]}),s.jsx("span",{className:`text-sm px-2 py-1 rounded ${t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.isActive?"Active":"Inactive"})]})]})]})})},x4=()=>{const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,a]=j.useState([]),[o,l]=j.useState(!0);j.useEffect(()=>{c()},[]);const c=async()=>{try{const[d,u,h]=await Promise.all([fetch("https://aio-backend-x770.onrender.com/api/products"),fetch("https://aio-backend-x770.onrender.com/api/services"),fetch("https://aio-backend-x770.onrender.com/api/stores/featured/list")]);if(d.ok)try{const f=await d.json();e(f.slice(0,8))}catch(f){console.error("Error parsing products JSON:",f),e([])}if(u.ok)try{const f=await u.json();n(f.slice(0,8))}catch(f){console.error("Error parsing services JSON:",f),n([])}if(h.ok)try{const f=await h.json();a(f)}catch(f){console.error("Error parsing stores JSON:",f),a([])}}catch(d){console.error("Error fetching featured content:",d),e([]),n([]),a([])}finally{l(!1)}};return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black"})}):s.jsxs("div",{children:[s.jsx(g4,{images:["https://firebasestorage.googleapis.com/v0/b/all-in-one-98568.firebasestorage.app/o/Hero%2Fordinary-life-scene-from-mall-america%20(1).jpg?alt=media&token=fdb88ecc-68c6-49fb-8258-a5a3410393ee","https://firebasestorage.googleapis.com/v0/b/all-in-one-98568.firebasestorage.app/o/Hero%2Ftwo-happy-girls-sweaters-having-fun-with-shopping-trolley-megaphone-white-wall.jpg?alt=media&token=886c6960-8622-4770-9afd-fc8dbcce99e7","https://firebasestorage.googleapis.com/v0/b/all-in-one-98568.firebasestorage.app/o/Hero%2Felderly-woman-shopping-customer-day.jpg?alt=media&token=db76d51e-5d2b-44b3-b52a-21ee1b0533c0"],title:"All In One Marketplace",subtitle:"Discover premium products and professional services from verified local businesses"}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Featured Products"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Handpicked premium products from top-rated stores"})]}),t.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(d=>s.jsx(ef,{product:d},d._id))}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs(U,{to:"/products",className:"inline-flex items-center space-x-2 bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors font-medium",children:[s.jsx("span",{children:"View All Products"}),s.jsx(zc,{className:"w-5 h-5"})]})})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(We,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No products available yet"})]})]})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Featured Services"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Professional services from certified experts and specialists"})]}),r.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map(d=>s.jsx(tf,{service:d},d._id))}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs(U,{to:"/services",className:"inline-flex items-center space-x-2 bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors font-medium",children:[s.jsx("span",{children:"View All Services"}),s.jsx(zc,{className:"w-5 h-5"})]})})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ie,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No services available yet"})]})]})}),s.jsx("section",{className:"py-20 bg-black text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Start Your Business Journey"}),s.jsx("p",{className:"text-xl mb-10 opacity-90 max-w-2xl mx-auto",children:"Join thousands of successful entrepreneurs and start earning today. Create your store in minutes."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(U,{to:"/register",className:"bg-white text-black px-8 py-4 rounded-lg font-semibold hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(We,{className:"w-5 h-5"}),s.jsx("span",{children:"Sell Products"})]}),s.jsxs(U,{to:"/register",className:"bg-transparent border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-black transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Ie,{className:"w-5 h-5"}),s.jsx("span",{children:"Offer Services"})]})]})]})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Premium Stores"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Explore our curated collection of top-performing stores with excellent customer reviews"})]}),i.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map(d=>s.jsx(Rv,{store:d},d._id))}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs(U,{to:"/stores",className:"inline-flex items-center space-x-2 bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors font-medium",children:[s.jsx("span",{children:"View All Stores"}),s.jsx(zc,{className:"w-5 h-5"})]})})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(pt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No stores available yet"})]})]})})]})},rf=({onSearch:t,onFilter:e,categories:r=[],showPriceFilter:n=!0,placeholder:i="Search..."})=>{const[a,o]=j.useState(""),[l,c]=j.useState(""),[d,u]=j.useState({min:"",max:""}),[h,f]=j.useState(!1),g=v=>{v.preventDefault(),t({search:a,category:l,minPrice:d.min,maxPrice:d.max})},x=()=>{o(""),c(""),u({min:"",max:""}),t({})},b=l||d.min||d.max;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",value:a,onChange:v=>o(v.target.value),placeholder:i,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsx("button",{type:"submit",className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Search"}),s.jsxs("button",{type:"button",onClick:()=>f(!h),className:`flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ${b?"bg-black text-white border-black":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,children:[s.jsx(fv,{className:"w-4 h-4"}),s.jsx("span",{children:"Filters"}),b&&s.jsx("span",{className:"bg-white text-black text-xs px-1.5 py-0.5 rounded-full",children:[l,d.min,d.max].filter(Boolean).length})]})]}),h&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"}),b&&s.jsxs("button",{onClick:x,className:"text-sm text-gray-500 hover:text-gray-700 flex items-center space-x-1",children:[s.jsx(Dl,{className:"w-4 h-4"}),s.jsx("span",{children:"Clear all"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsxs("select",{value:l,onChange:v=>c(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Categories"}),r.map(v=>s.jsx("option",{value:v,children:v},v))]})]}),n&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",value:d.min,onChange:v=>u({...d,min:v.target.value}),placeholder:"Min",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"}),s.jsx("input",{type:"number",value:d.max,onChange:v=>u({...d,max:v.target.value}),placeholder:"Max",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]})]}),s.jsx("button",{onClick:g,className:"w-full bg-black text-white py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Apply Filters"})]})]})},Fe=({size:t="md",className:e=""})=>{const r={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"};return s.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-black ${r[t]} ${e}`})},$l=({icon:t,title:e,description:r,action:n})=>s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[t&&s.jsx(t,{className:"w-16 h-16 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e}),s.jsx("p",{className:"text-gray-600 text-center mb-6 max-w-md",children:r}),n]}),y4=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState(""),o=An();j.useEffect(()=>{const d=new URLSearchParams(o.search);l(d.toString())},[o.search]);const l=async(d="")=>{try{n(!0),a("");const u=await fetch(`https://aio-backend-x770.onrender.com/api/stores?${d}`);if(u.ok){const h=await u.json();e(h)}else a("Failed to fetch stores")}catch(u){console.error("Error fetching stores:",u),a("Network error. Please try again.")}finally{n(!1)}},c=d=>{const u=new URLSearchParams;Object.entries(d).forEach(([h,f])=>{f&&u.append(h,f)}),l(u.toString())};return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Fe,{size:"xl"})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"All Stores"}),s.jsx(rf,{onSearch:c,placeholder:"Search stores...",showPriceFilter:!1})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:i}),s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-gray-600",children:[t.length," store",t.length!==1?"s":""," found"]})}),t.length===0?s.jsx($l,{icon:pt,title:"No stores found",description:"Try adjusting your search criteria or check back later for new stores."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(d=>s.jsx(Rv,{store:d},d._id))})]})]})},v4=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState(""),o=An(),l=["Electronics","Clothing","Home & Garden","Sports & Outdoors","Books","Beauty & Health","Toys & Games","Food & Beverages"];j.useEffect(()=>{const u=new URLSearchParams(o.search);c(u.toString())},[o.search]);const c=async(u="")=>{try{n(!0),a("");const h=await fetch(`https://aio-backend-x770.onrender.com/api/products?${u}`);if(h.ok){const f=await h.json();e(f)}else a("Failed to fetch products")}catch(h){console.error("Error fetching products:",h),a("Network error. Please try again.")}finally{n(!1)}},d=u=>{const h=new URLSearchParams;Object.entries(u).forEach(([f,g])=>{g&&h.append(f,g)}),c(h.toString())};return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Fe,{size:"xl"})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Products"}),s.jsx(rf,{onSearch:d,categories:l,placeholder:"Search products..."})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:i}),s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-gray-600",children:[t.length," product",t.length!==1?"s":""," found"]})}),t.length===0?s.jsx($l,{icon:We,title:"No products found",description:"Try adjusting your search criteria or check back later for new products."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(u=>s.jsx(ef,{product:u},u._id))})]})]})},b4=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState(""),o=An(),l=["Tutoring","Home Services","Beauty & Wellness","Consulting","Fitness","Technology","Creative Services","Professional Services"];j.useEffect(()=>{const u=new URLSearchParams(o.search);c(u.toString())},[o.search]);const c=async(u="")=>{try{n(!0),a("");const h=await fetch(`https://aio-backend-x770.onrender.com/api/services?${u}`);if(h.ok){const f=await h.json();e(f)}else a("Failed to fetch services")}catch(h){console.error("Error fetching services:",h),a("Network error. Please try again.")}finally{n(!1)}},d=u=>{const h=new URLSearchParams;Object.entries(u).forEach(([f,g])=>{g&&h.append(f,g)}),c(h.toString())};return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Fe,{size:"xl"})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Services"}),s.jsx(rf,{onSearch:d,categories:l,placeholder:"Search services..."})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:i}),s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-gray-600",children:[t.length," service",t.length!==1?"s":""," found"]})}),t.length===0?s.jsx($l,{icon:Ie,title:"No services found",description:"Try adjusting your search criteria or check back later for new services."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(u=>s.jsx(tf,{service:u},u._id))})]})]})},Dv=({images:t,title:e})=>{const[r,n]=j.useState(0);return!t||t.length===0?s.jsx("div",{className:"w-full h-96 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500",children:"No images available"})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:t[r]?t[r].startsWith("http")?t[r]:`https://aio-backend-x770.onrender.com${t[r]}`:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop",alt:e,className:"hidden sm:block w-full h-96 object-cover rounded-lg"}),s.jsx("div",{className:"md:hidden",children:s.jsx(Ll,{modules:[Jh,Zh],spaceBetween:10,slidesPerView:1,navigation:!0,pagination:{clickable:!0},onSlideChange:i=>n(i.activeIndex),className:"w-full h-96 rounded-lg",children:t.map((i,a)=>s.jsx(Ml,{children:s.jsx("img",{src:i?i.startsWith("http")?i:`https://aio-backend-x770.onrender.com${i}`:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop",alt:`${e} ${a+1}`,className:"w-full h-full object-cover rounded-lg"})},a))})})]}),t.length>1&&s.jsx("div",{className:"hidden md:flex space-x-2 overflow-x-auto",children:t.map((i,a)=>s.jsx("button",{onClick:()=>n(a),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${r===a?"border-black ring-2 ring-black ring-opacity-50":"border-gray-200 hover:border-gray-400"}`,children:s.jsx("img",{src:i?i.startsWith("http")?i:`https://aio-backend-x770.onrender.com${i}`:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop",alt:`${e} ${a+1}`,className:"w-full h-full object-cover"})},a))})]})},w4=()=>{const{id:t}=Sh(),[e,r]=j.useState(null),[n,i]=j.useState(!0),[a,o]=j.useState(1),{addToOrder:l}=Dn(),{user:c}=Ee(),d=lt();j.useEffect(()=>{u()},[t]);const u=async()=>{try{const b=await(await fetch(`https://aio-backend-x770.onrender.com/api/products/${t}`)).json();r(b)}catch(x){console.error("Error fetching product:",x)}finally{i(!1)}},h=()=>{var b;if(!c){d("/login");return}if(c.role!=="customer"){alert("Only customers can add items to cart");return}const x={...e,storeId:((b=e.storeId)==null?void 0:b._id)||e.storeId};l(x,a),d("/cart")},f=()=>{var b;if(!c){d("/login");return}if(c.role!=="customer"){alert("Only customers can add items to cart");return}const x={...e,storeId:((b=e.storeId)==null?void 0:b._id)||e.storeId};l(x,a),alert("Product added to cart!")},g=x=>{const b=a+x;b>=1&&b<=e.stock&&o(b)};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black"})}):e?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(U,{to:"/products",className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors",children:[s.jsx(an,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Products"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsx("div",{children:s.jsx(Dv,{images:e.images,title:e.title})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:e.title}),s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("span",{className:"text-5xl font-bold text-black",children:J(e.price)}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Me,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-gray-600",children:"4.5 (125 reviews)"})]}),s.jsx("span",{className:"text-gray-400",children:"|"}),s.jsx("span",{className:"text-gray-600 capitalize bg-gray-100 px-3 py-1 rounded-full text-sm",children:e.category})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx(pt,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx(U,{to:`/store/${e.storeId._id}`,className:"font-semibold text-black hover:text-gray-700 transition-colors text-lg",children:e.storeId.name}),s.jsx("p",{className:"text-sm text-gray-600",children:"Visit Store"})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Stock Status"}),s.jsx("span",{className:`text-sm font-medium ${e.stock>0?"text-green-600":"text-red-600"}`,children:e.stock>0?`${e.stock} available`:"Out of stock"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-black h-2 rounded-full transition-all",style:{width:`${Math.min(e.stock/100*100,100)}%`}})})]}),e.stock>0&&(c==null?void 0:c.role)==="customer"&&s.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quantity"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>g(-1),disabled:a<=1,className:"w-12 h-12 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(pv,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-2xl font-semibold w-12 text-center",children:a}),s.jsx("button",{onClick:()=>g(1),disabled:a>=e.stock,className:"w-12 h-12 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Bt,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("button",{onClick:f,className:"flex-1 bg-black text-white py-4 px-6 rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center space-x-2 font-medium",children:[s.jsx(Kh,{className:"w-5 h-5"}),s.jsx("span",{children:"Add to Cart"})]}),s.jsxs("button",{onClick:h,className:"bg-white border-2 border-black text-black py-4 px-6 rounded-lg hover:bg-black hover:text-white transition-colors font-medium",children:["Buy Now - ",J(e.price)]})]})]}),e.stock===0&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[s.jsx("p",{className:"text-red-800 font-semibold text-lg",children:"Out of Stock"}),s.jsx("p",{className:"text-red-600",children:"This item is currently unavailable."})]}),(c==null?void 0:c.role)!=="customer"&&c&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:[s.jsx("p",{className:"text-yellow-800 font-semibold",children:"Store Owner Account"}),s.jsx("p",{className:"text-yellow-600",children:"Only customers can purchase products."})]})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product not found"}),s.jsx(U,{to:"/products",className:"text-black hover:text-gray-700",children:"Back to Products"})]})})};var Lv={exports:{}},j4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",N4=j4,S4=N4;function Mv(){}function $v(){}$v.resetWarningCache=Mv;var k4=function(){function t(n,i,a,o,l,c){if(c!==S4){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$v,resetWarningCache:Mv};return r.PropTypes=r,r};Lv.exports=k4();var _4=Lv.exports;const R=ul(_4);function Bv(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Bv(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Bl(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Bv(t))&&(n&&(n+=" "),n+=e);return n}const E4=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(t,r),a=Object.getOwnPropertyDescriptor(e,r);!C4(i,a)&&n||Object.defineProperty(t,r,a)},C4=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},T4=(t,e)=>{const r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},I4=(t,e)=>`/* Wrapped ${t}*/
${e}`,P4=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),O4=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),A4=(t,e,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=I4.bind(null,n,e.toString());Object.defineProperty(i,"name",O4),Object.defineProperty(t,"toString",{...P4,value:i})},R4=(t,e,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=t;for(const i of Reflect.ownKeys(e))E4(t,e,i,r);return T4(t,e),A4(t,e,n),t};var D4=R4,gu={exports:{}},L4=()=>{const t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t};(function(t,e){var r=ya&&ya.__awaiter||function(o,l,c,d){return new(c||(c=Promise))(function(u,h){function f(b){try{x(d.next(b))}catch(v){h(v)}}function g(b){try{x(d.throw(b))}catch(v){h(v)}}function x(b){b.done?u(b.value):new c(function(v){v(b.value)}).then(f,g)}x((d=d.apply(o,l||[])).next())})},n=ya&&ya.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(L4);function a(o,l="maxAge"){let c,d,u;const h=()=>r(this,void 0,void 0,function*(){if(c!==void 0)return;const x=b=>r(this,void 0,void 0,function*(){u=i.default();const v=b[1][l]-Date.now();if(v<=0){o.delete(b[0]),u.resolve();return}return c=b[0],d=setTimeout(()=>{o.delete(b[0]),u&&u.resolve()},v),typeof d.unref=="function"&&d.unref(),u.promise});try{for(const b of o)yield x(b)}catch{}c=void 0}),f=()=>{c=void 0,d!==void 0&&(clearTimeout(d),d=void 0),u!==void 0&&(u.reject(void 0),u=void 0)},g=o.set.bind(o);return o.set=(x,b)=>{o.has(x)&&o.delete(x);const v=g(x,b);return c&&c===x&&f(),h(),v},h(),o}e.default=a,t.exports=a,t.exports.default=a})(gu,gu.exports);var M4=gu.exports;const $4=D4,B4=M4,Xc=new WeakMap,Fv=new WeakMap,al=(t,{cacheKey:e,cache:r=new Map,maxAge:n}={})=>{typeof n=="number"&&B4(r);const i=function(...a){const o=e?e(a):a[0],l=r.get(o);if(l)return l.data;const c=t.apply(this,a);return r.set(o,{data:c,maxAge:n?Date.now()+n:Number.POSITIVE_INFINITY}),c};return $4(i,t,{ignoreNonConfigurable:!0}),Fv.set(i,r),i};al.decorator=(t={})=>(e,r,n)=>{const i=e[r];if(typeof i!="function")throw new TypeError("The decorated value must be a function");delete n.value,delete n.writable,n.get=function(){if(!Xc.has(this)){const a=al(i,t);return Xc.set(this,a),a}return Xc.get(this)}};al.clear=t=>{const e=Fv.get(t);if(!e)throw new TypeError("Can't clear a function that was not memoized!");if(typeof e.clear!="function")throw new TypeError("The cache Map can't be cleared!");e.clear()};var F4=al;const Uv=ul(F4);function U4(t){return typeof t=="string"}function z4(t,e,r){return r.indexOf(t)===e}function V4(t){return t.toLowerCase()===t}function Hm(t){return t.indexOf(",")===-1?t:t.split(",")}function xu(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],r=e===void 0?"":e;return xu(r)}if(t.indexOf("@")!==-1){var n=t.split("@")[0],r=n===void 0?"":n;return xu(r)}if(t.indexOf("-")===-1||!V4(t))return t;var i=t.split("-"),a=i[0],o=i[1],l=o===void 0?"":o;return"".concat(a,"-").concat(l.toUpperCase())}function W4(t){var e=t===void 0?{}:t,r=e.useFallbackLocale,n=r===void 0?!0:r,i=e.fallbackLocale,a=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var l=navigator.languages||[],c=[],d=0,u=l;d<u.length;d++){var h=u[d];c=c.concat(Hm(h))}var f=navigator.language,g=f&&Hm(f);o=o.concat(c,g)}return n&&o.push(a),o.filter(U4).map(xu).filter(z4)}var H4=Uv(W4,{cacheKey:JSON.stringify});function q4(t){return H4(t)[0]||null}var zv=Uv(q4,{cacheKey:JSON.stringify});function wr(t,e,r){return function(i,a){a===void 0&&(a=r);var o=t(i)+a;return e(o)}}function ua(t){return function(r){return new Date(t(r).getTime()-1)}}function ha(t,e){return function(n){return[t(n),e(n)]}}function fe(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var e=parseInt(t,10);if(typeof t=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(t,"."))}function on(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function Fl(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function Us(t){var e=fe(t),r=e+(-e+1)%100,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}var G4=wr(fe,Us,-100),Vv=wr(fe,Us,100),nf=ua(Vv),Y4=wr(fe,nf,-100),Wv=ha(Us,nf);function ln(t){var e=fe(t),r=e+(-e+1)%10,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}var Hv=wr(fe,ln,-10),sf=wr(fe,ln,10),Ul=ua(sf),qv=wr(fe,Ul,-10),Gv=ha(ln,Ul);function zs(t){var e=fe(t),r=new Date;return r.setFullYear(e,0,1),r.setHours(0,0,0,0),r}var Yv=wr(fe,zs,-1),af=wr(fe,zs,1),zl=ua(af),Kv=wr(fe,zl,-1),K4=ha(zs,zl);function of(t,e){return function(n,i){i===void 0&&(i=e);var a=fe(n),o=on(n)+i,l=new Date;return l.setFullYear(a,o,1),l.setHours(0,0,0,0),t(l)}}function Ln(t){var e=fe(t),r=on(t),n=new Date;return n.setFullYear(e,r,1),n.setHours(0,0,0,0),n}var Qv=of(Ln,-1),lf=of(Ln,1),fa=ua(lf),Xv=of(fa,-1),Q4=ha(Ln,fa);function X4(t,e){return function(n,i){i===void 0&&(i=e);var a=fe(n),o=on(n),l=Fl(n)+i,c=new Date;return c.setFullYear(a,o,l),c.setHours(0,0,0,0),t(c)}}function pa(t){var e=fe(t),r=on(t),n=Fl(t),i=new Date;return i.setFullYear(e,r,n),i.setHours(0,0,0,0),i}var J4=X4(pa,1),cf=ua(J4),Z4=ha(pa,cf);function Jv(t){return Fl(fa(t))}var ti,de={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},ns={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},eI=(ti={},ti[de.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],ti[de.HEBREW]=["he","he-IL"],ti[de.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],ti),df=[0,1,2,3,4,5,6],Jc=new Map;function tI(t){return function(r,n){var i=r||zv();Jc.has(i)||Jc.set(i,new Map);var a=Jc.get(i);return a.has(t)||a.set(t,new Intl.DateTimeFormat(i||void 0,t).format),a.get(t)(n)}}function rI(t){var e=new Date(t);return new Date(e.setHours(12))}function Mn(t){return function(e,r){return tI(t)(e,rI(r))}}var nI={day:"numeric"},sI={day:"numeric",month:"long",year:"numeric"},iI={month:"long"},aI={month:"long",year:"numeric"},oI={weekday:"short"},lI={weekday:"long"},cI={year:"numeric"},dI=Mn(nI),uI=Mn(sI),hI=Mn(iI),Zv=Mn(aI),fI=Mn(oI),pI=Mn(lI),Vl=Mn(cI),mI=df[0],gI=df[5],qm=df[6];function Yi(t,e){e===void 0&&(e=de.ISO_8601);var r=t.getDay();switch(e){case de.ISO_8601:return(r+6)%7;case de.ISLAMIC:return(r+1)%7;case de.HEBREW:case de.GREGORY:return r;default:throw new Error("Unsupported calendar type.")}}function xI(t){var e=Us(t);return fe(e)}function yI(t){var e=ln(t);return fe(e)}function yu(t,e){e===void 0&&(e=de.ISO_8601);var r=fe(t),n=on(t),i=t.getDate()-Yi(t,e);return new Date(r,n,i)}function vI(t,e){e===void 0&&(e=de.ISO_8601);var r=e===de.GREGORY?de.GREGORY:de.ISO_8601,n=yu(t,e),i=fe(t)+1,a,o;do a=new Date(i,0,r===de.ISO_8601?4:1),o=yu(a,e),i-=1;while(t<o);return Math.round((n.getTime()-o.getTime())/(864e5*7))+1}function vn(t,e){switch(t){case"century":return Us(e);case"decade":return ln(e);case"year":return zs(e);case"month":return Ln(e);case"day":return pa(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function bI(t,e){switch(t){case"century":return G4(e);case"decade":return Hv(e);case"year":return Yv(e);case"month":return Qv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function eb(t,e){switch(t){case"century":return Vv(e);case"decade":return sf(e);case"year":return af(e);case"month":return lf(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function wI(t,e){switch(t){case"decade":return Hv(e,-100);case"year":return Yv(e,-10);case"month":return Qv(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function jI(t,e){switch(t){case"decade":return sf(e,100);case"year":return af(e,10);case"month":return lf(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function tb(t,e){switch(t){case"century":return nf(e);case"decade":return Ul(e);case"year":return zl(e);case"month":return fa(e);case"day":return cf(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function NI(t,e){switch(t){case"century":return Y4(e);case"decade":return qv(e);case"year":return Kv(e);case"month":return Xv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function SI(t,e){switch(t){case"decade":return qv(e,-100);case"year":return Kv(e,-10);case"month":return Xv(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function Gm(t,e){switch(t){case"century":return Wv(e);case"decade":return Gv(e);case"year":return K4(e);case"month":return Q4(e);case"day":return Z4(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function kI(t,e,r){var n=[e,r].sort(function(i,a){return i.getTime()-a.getTime()});return[vn(t,n[0]),tb(t,n[1])]}function rb(t,e,r){return e===void 0&&(e=Vl),r.map(function(n){return e(t,n)}).join("  ")}function _I(t,e,r){return rb(t,e,Wv(r))}function nb(t,e,r){return rb(t,e,Gv(r))}function EI(t){return t.getDay()===new Date().getDay()}function sb(t,e){e===void 0&&(e=de.ISO_8601);var r=t.getDay();switch(e){case de.ISLAMIC:case de.HEBREW:return r===gI||r===qm;case de.ISO_8601:case de.GREGORY:return r===qm||r===mI;default:throw new Error("Unsupported calendar type.")}}var Vt="react-calendar__navigation";function CI(t){var e=t.activeStartDate,r=t.drillUp,n=t.formatMonthYear,i=n===void 0?Zv:n,a=t.formatYear,o=a===void 0?Vl:a,l=t.locale,c=t.maxDate,d=t.minDate,u=t.navigationAriaLabel,h=u===void 0?"":u,f=t.navigationAriaLive,g=t.navigationLabel,x=t.next2AriaLabel,b=x===void 0?"":x,v=t.next2Label,m=v===void 0?"":v,p=t.nextAriaLabel,y=p===void 0?"":p,w=t.nextLabel,N=w===void 0?"":w,_=t.prev2AriaLabel,S=_===void 0?"":_,E=t.prev2Label,k=E===void 0?"":E,T=t.prevAriaLabel,P=T===void 0?"":T,I=t.prevLabel,C=I===void 0?"":I,F=t.setActiveStartDate,V=t.showDoubleView,$=t.view,Y=t.views,A=Y.indexOf($)>0,D=$!=="century",L=bI($,e),K=D?wI($,e):void 0,X=eb($,e),M=D?jI($,e):void 0,O=function(){if(L.getFullYear()<0)return!0;var oe=NI($,e);return d&&d>=oe}(),z=D&&function(){if(K.getFullYear()<0)return!0;var oe=SI($,e);return d&&d>=oe}(),H=c&&c<X,Z=D&&c&&c<M;function Pe(){F(L,"prev")}function et(){F(K,"prev2")}function tr(){F(X,"next")}function $n(){F(M,"next2")}function cn(oe){var rr=function(){switch($){case"century":return _I(l,o,oe);case"decade":return nb(l,o,oe);case"year":return o(l,oe);case"month":return i(l,oe);default:throw new Error("Invalid view: ".concat($,"."))}}();return g?g({date:oe,label:rr,locale:l||zv()||void 0,view:$}):rr}function Bn(){var oe="".concat(Vt,"__label");return W.createElement("button",{"aria-label":h,"aria-live":f,className:oe,disabled:!A,onClick:r,style:{flexGrow:1},type:"button"},W.createElement("span",{className:"".concat(oe,"__labelText ").concat(oe,"__labelText--from")},cn(e)),V?W.createElement(W.Fragment,null,W.createElement("span",{className:"".concat(oe,"__divider")},"  "),W.createElement("span",{className:"".concat(oe,"__labelText ").concat(oe,"__labelText--to")},cn(X))):null)}return W.createElement("div",{className:Vt},k!==null&&D?W.createElement("button",{"aria-label":S,className:"".concat(Vt,"__arrow ").concat(Vt,"__prev2-button"),disabled:z,onClick:et,type:"button"},k):null,C!==null&&W.createElement("button",{"aria-label":P,className:"".concat(Vt,"__arrow ").concat(Vt,"__prev-button"),disabled:O,onClick:Pe,type:"button"},C),Bn(),N!==null&&W.createElement("button",{"aria-label":y,className:"".concat(Vt,"__arrow ").concat(Vt,"__next-button"),disabled:H,onClick:tr,type:"button"},N),m!==null&&D?W.createElement("button",{"aria-label":b,className:"".concat(Vt,"__arrow ").concat(Vt,"__next2-button"),disabled:Z,onClick:$n,type:"button"},m):null)}var ss=function(){return ss=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ss.apply(this,arguments)},TI=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Ym(t){return"".concat(t,"%")}function uf(t){var e=t.children,r=t.className,n=t.count,i=t.direction,a=t.offset,o=t.style,l=t.wrap,c=TI(t,["children","className","count","direction","offset","style","wrap"]);return W.createElement("div",ss({className:r,style:ss({display:"flex",flexDirection:i,flexWrap:l?"wrap":"nowrap"},o)},c),W.Children.map(e,function(d,u){var h=a&&u===0?Ym(100*a/n):null;return W.cloneElement(d,ss(ss({},d.props),{style:{flexBasis:Ym(100/n),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:h,marginInlineStart:h,marginInlineEnd:0}}))}))}var II=function(){},PI=II;const OI=ul(PI);var zn;function AI(t,e,r){return e&&e>t?e:r&&r<t?r:t}function Ki(t,e){return e[0]<=t&&e[1]>=t}function RI(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function ib(t,e){return Ki(t[0],e)||Ki(t[1],e)}function Km(t,e,r){var n=ib(e,t),i=[];if(n){i.push(r);var a=Ki(t[0],e),o=Ki(t[1],e);a&&i.push("".concat(r,"Start")),o&&i.push("".concat(r,"End")),a&&o&&i.push("".concat(r,"BothEnds"))}return i}function DI(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function LI(t){if(!t)throw new Error("args is required");var e=t.value,r=t.date,n=t.hover,i="react-calendar__tile",a=[i];if(!r)return a;var o=new Date,l=function(){if(Array.isArray(r))return r;var g=t.dateType;if(!g)throw new Error("dateType is required when date is not an array of two dates");return Gm(g,r)}();if(Ki(o,l)&&a.push("".concat(i,"--now")),!e||!DI(e))return a;var c=function(){if(Array.isArray(e))return e;var g=t.valueType;if(!g)throw new Error("valueType is required when value is not an array of two dates");return Gm(g,e)}();RI(c,l)?a.push("".concat(i,"--active")):ib(c,l)&&a.push("".concat(i,"--hasActive"));var d=Km(c,l,"".concat(i,"--range"));a.push.apply(a,d);var u=Array.isArray(e)?e:[e];if(n&&u.length===1){var h=n>c[0]?[c[0],n]:[n,c[0]],f=Km(h,l,"".concat(i,"--hover"));a.push.apply(a,f)}return a}var MI=(zn={},zn[ns.ARABIC]=de.ISLAMIC,zn[ns.HEBREW]=de.HEBREW,zn[ns.ISO_8601]=de.ISO_8601,zn[ns.US]=de.GREGORY,zn);function $I(t){return t!==void 0&&t in ns}var Qm=!1;function Wl(t){if($I(t)){var e=MI[t];return OI(Qm,'Specifying calendarType="'.concat(t,'" is deprecated. Use calendarType="').concat(e,'" instead.')),Qm=!0,e}return t}function Hl(t){for(var e=t.className,r=t.count,n=r===void 0?3:r,i=t.dateTransform,a=t.dateType,o=t.end,l=t.hover,c=t.offset,d=t.renderTile,u=t.start,h=t.step,f=h===void 0?1:h,g=t.value,x=t.valueType,b=[],v=u;v<=o;v+=f){var m=i(v);b.push(d({classes:LI({date:m,dateType:a,hover:l,value:g,valueType:x}),date:m}))}return W.createElement(uf,{className:e,count:n,offset:c,wrap:!0},b)}function ql(t){var e=t.activeStartDate,r=t.children,n=t.classes,i=t.date,a=t.formatAbbr,o=t.locale,l=t.maxDate,c=t.maxDateTransform,d=t.minDate,u=t.minDateTransform,h=t.onClick,f=t.onMouseOver,g=t.style,x=t.tileClassName,b=t.tileContent,v=t.tileDisabled,m=t.view,p=j.useMemo(function(){var w={activeStartDate:e,date:i,view:m};return typeof x=="function"?x(w):x},[e,i,x,m]),y=j.useMemo(function(){var w={activeStartDate:e,date:i,view:m};return typeof b=="function"?b(w):b},[e,i,b,m]);return W.createElement("button",{className:Bl(n,p),disabled:d&&u(d)>i||l&&c(l)<i||v&&v({activeStartDate:e,date:i,view:m}),onClick:h?function(w){return h(i,w)}:void 0,onFocus:f?function(){return f(i)}:void 0,onMouseOver:f?function(){return f(i)}:void 0,style:g,type:"button"},a?W.createElement("abbr",{"aria-label":a(o,i)},r):r,y)}var vu=function(){return vu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vu.apply(this,arguments)},BI=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},Xm="react-calendar__century-view__decades__decade";function FI(t){var e=t.classes,r=e===void 0?[]:e,n=t.currentCentury,i=t.formatYear,a=i===void 0?Vl:i,o=BI(t,["classes","currentCentury","formatYear"]),l=o.date,c=o.locale,d=[];return r&&d.push.apply(d,r),d.push(Xm),Us(l).getFullYear()!==n&&d.push("".concat(Xm,"--neighboringCentury")),W.createElement(ql,vu({},o,{classes:d,maxDateTransform:Ul,minDateTransform:ln,view:"century"}),nb(c,a,l))}var bu=function(){return bu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},bu.apply(this,arguments)},Jm=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function UI(t){var e=t.activeStartDate,r=t.hover,n=t.showNeighboringCentury,i=t.value,a=t.valueType,o=Jm(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=xI(e),c=l+(n?119:99);return W.createElement(Hl,{className:"react-calendar__century-view__decades",dateTransform:ln,dateType:"decade",end:c,hover:r,renderTile:function(d){var u=d.date,h=Jm(d,["date"]);return W.createElement(FI,bu({key:u.getTime()},o,h,{activeStartDate:e,currentCentury:l,date:u}))},start:l,step:10,value:i,valueType:a})}var Zm=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},zI=Object.values(de),VI=Object.values(ns),wu=["century","decade","year","month"],ab=R.oneOf(Zm(Zm([],zI,!0),VI,!0)),ol=R.oneOfType([R.string,R.arrayOf(R.string)]),hf=function(e,r,n){var i=e,a=r,o=i[a];if(!o)return null;if(!(o instanceof Date))return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, expected instance of `Date`."));var l=e.maxDate;return l&&o>l?new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},ff=function(e,r,n){var i=e,a=r,o=i[a];if(!o)return null;if(!(o instanceof Date))return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, expected instance of `Date`."));var l=e.minDate;return l&&o<l?new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},WI=R.oneOfType([R.func,R.exact({current:R.any})]),HI=R.arrayOf(R.oneOfType([R.instanceOf(Date),R.oneOf([null])]).isRequired),qI=R.oneOfType([R.instanceOf(Date),R.oneOf([null]),HI]);R.arrayOf(R.oneOf(wu));var ll=function(e,r,n){var i=e,a=r,o=i[a];return o!==void 0&&(typeof o!="string"||wu.indexOf(o)===-1)?new Error("Invalid prop `".concat(r,"` of value `").concat(o,"` supplied to `").concat(n,"`, expected one of [").concat(wu.map(function(l){return'"'.concat(l,'"')}).join(", "),"].")):null};ll.isRequired=function(e,r,n,i,a){var o=e,l=r,c=o[l];return c?ll(e,r,n):new Error("The prop `".concat(r,"` is marked as required in `").concat(n,"`, but its value is `").concat(c,"`."))};var GI=function(t){return R.arrayOf(t)},Gl={activeStartDate:R.instanceOf(Date).isRequired,hover:R.instanceOf(Date),locale:R.string,maxDate:ff,minDate:hf,onClick:R.func,onMouseOver:R.func,tileClassName:R.oneOfType([R.func,ol]),tileContent:R.oneOfType([R.func,R.node]),value:qI,valueType:R.oneOf(["century","decade","year","month","day"]).isRequired};R.instanceOf(Date).isRequired,R.arrayOf(R.string.isRequired).isRequired,R.instanceOf(Date).isRequired,R.string,R.func,R.func,R.objectOf(R.oneOfType([R.string,R.number])),R.oneOfType([R.func,ol]),R.oneOfType([R.func,R.node]),R.func;var Qi=function(){return Qi=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qi.apply(this,arguments)},ob=function(e){function r(){return W.createElement(UI,Qi({},e))}return W.createElement("div",{className:"react-calendar__century-view"},r())};ob.propTypes=Qi(Qi({},Gl),{showNeighboringCentury:R.bool});var ju=function(){return ju=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ju.apply(this,arguments)},YI=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},eg="react-calendar__decade-view__years__year";function KI(t){var e=t.classes,r=e===void 0?[]:e,n=t.currentDecade,i=t.formatYear,a=i===void 0?Vl:i,o=YI(t,["classes","currentDecade","formatYear"]),l=o.date,c=o.locale,d=[];return r&&d.push.apply(d,r),d.push(eg),ln(l).getFullYear()!==n&&d.push("".concat(eg,"--neighboringDecade")),W.createElement(ql,ju({},o,{classes:d,maxDateTransform:zl,minDateTransform:zs,view:"decade"}),a(c,l))}var Nu=function(){return Nu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Nu.apply(this,arguments)},tg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function QI(t){var e=t.activeStartDate,r=t.hover,n=t.showNeighboringDecade,i=t.value,a=t.valueType,o=tg(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=yI(e),c=l+(n?11:9);return W.createElement(Hl,{className:"react-calendar__decade-view__years",dateTransform:zs,dateType:"year",end:c,hover:r,renderTile:function(d){var u=d.date,h=tg(d,["date"]);return W.createElement(KI,Nu({key:u.getTime()},o,h,{activeStartDate:e,currentDecade:l,date:u}))},start:l,value:i,valueType:a})}var Xi=function(){return Xi=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xi.apply(this,arguments)},lb=function(e){function r(){return W.createElement(QI,Xi({},e))}return W.createElement("div",{className:"react-calendar__decade-view"},r())};lb.propTypes=Xi(Xi({},Gl),{showNeighboringDecade:R.bool});var Su=function(){return Su=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Su.apply(this,arguments)},XI=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},rg=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},JI="react-calendar__year-view__months__month";function ZI(t){var e=t.classes,r=e===void 0?[]:e,n=t.formatMonth,i=n===void 0?hI:n,a=t.formatMonthYear,o=a===void 0?Zv:a,l=XI(t,["classes","formatMonth","formatMonthYear"]),c=l.date,d=l.locale;return W.createElement(ql,Su({},l,{classes:rg(rg([],r,!0),[JI],!1),formatAbbr:o,maxDateTransform:fa,minDateTransform:Ln,view:"year"}),i(d,c))}var ku=function(){return ku=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ku.apply(this,arguments)},ng=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function eP(t){var e=t.activeStartDate,r=t.hover,n=t.value,i=t.valueType,a=ng(t,["activeStartDate","hover","value","valueType"]),o=0,l=11,c=fe(e);return W.createElement(Hl,{className:"react-calendar__year-view__months",dateTransform:function(d){var u=new Date;return u.setFullYear(c,d,1),Ln(u)},dateType:"month",end:l,hover:r,renderTile:function(d){var u=d.date,h=ng(d,["date"]);return W.createElement(ZI,ku({key:u.getTime()},a,h,{activeStartDate:e,date:u}))},start:o,value:n,valueType:i})}var cl=function(){return cl=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},cl.apply(this,arguments)},cb=function(e){function r(){return W.createElement(eP,cl({},e))}return W.createElement("div",{className:"react-calendar__year-view"},r())};cb.propTypes=cl({},Gl);var _u=function(){return _u=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_u.apply(this,arguments)},tP=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},Zc="react-calendar__month-view__days__day";function rP(t){var e=t.calendarType,r=t.classes,n=r===void 0?[]:r,i=t.currentMonthIndex,a=t.formatDay,o=a===void 0?dI:a,l=t.formatLongDate,c=l===void 0?uI:l,d=tP(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),u=Wl(e),h=d.date,f=d.locale,g=[];return n&&g.push.apply(g,n),g.push(Zc),sb(h,u)&&g.push("".concat(Zc,"--weekend")),h.getMonth()!==i&&g.push("".concat(Zc,"--neighboringMonth")),W.createElement(ql,_u({},d,{classes:g,formatAbbr:c,maxDateTransform:cf,minDateTransform:pa,view:"month"}),o(f,h))}var Eu=function(){return Eu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Eu.apply(this,arguments)},sg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function nP(t){var e=t.activeStartDate,r=t.calendarType,n=t.hover,i=t.showFixedNumberOfWeeks,a=t.showNeighboringMonth,o=t.value,l=t.valueType,c=sg(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),d=Wl(r),u=fe(e),h=on(e),f=i||a,g=Yi(e,d),x=f?0:g,b=(f?-g:0)+1,v=function(){if(i)return b+6*7-1;var m=Jv(e);if(a){var p=new Date;p.setFullYear(u,h,m),p.setHours(0,0,0,0);var y=7-Yi(p,d)-1;return m+y}return m}();return W.createElement(Hl,{className:"react-calendar__month-view__days",count:7,dateTransform:function(m){var p=new Date;return p.setFullYear(u,h,m),pa(p)},dateType:"day",hover:n,end:v,renderTile:function(m){var p=m.date,y=sg(m,["date"]);return W.createElement(rP,Eu({key:p.getTime()},c,y,{activeStartDate:e,calendarType:r,currentMonthIndex:h,date:p}))},offset:x,start:b,value:o,valueType:l})}var db="react-calendar__month-view__weekdays",ed="".concat(db,"__weekday");function sP(t){for(var e=t.calendarType,r=t.formatShortWeekday,n=r===void 0?fI:r,i=t.formatWeekday,a=i===void 0?pI:i,o=t.locale,l=t.onMouseLeave,c=Wl(e),d=new Date,u=Ln(d),h=fe(u),f=on(u),g=[],x=1;x<=7;x+=1){var b=new Date(h,f,x-Yi(u,c)),v=a(o,b);g.push(W.createElement("div",{key:x,className:Bl(ed,EI(b)&&"".concat(ed,"--current"),sb(b,c)&&"".concat(ed,"--weekend"))},W.createElement("abbr",{"aria-label":v,title:v},n(o,b).replace(".",""))))}return W.createElement(uf,{className:db,count:7,onFocus:l,onMouseOver:l},g)}var dl=function(){return dl=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},dl.apply(this,arguments)},ig=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},ag="react-calendar__tile";function iP(t){var e=t.onClickWeekNumber,r=t.weekNumber,n=W.createElement("span",null,r);if(e){var i=t.date,a=t.onClickWeekNumber,o=t.weekNumber,l=ig(t,["date","onClickWeekNumber","weekNumber"]);return W.createElement("button",dl({},l,{className:ag,onClick:function(c){return a(o,i,c)},type:"button"}),n)}else{t.date,t.onClickWeekNumber,t.weekNumber;var l=ig(t,["date","onClickWeekNumber","weekNumber"]);return W.createElement("div",dl({},l,{className:ag}),n)}}function aP(t){var e=t.activeStartDate,r=t.calendarType,n=t.onClickWeekNumber,i=t.onMouseLeave,a=t.showFixedNumberOfWeeks,o=Wl(r),l=function(){if(a)return 6;var u=Jv(e),h=Yi(e,o),f=u-(7-h);return 1+Math.ceil(f/7)}(),c=function(){for(var u=fe(e),h=on(e),f=Fl(e),g=[],x=0;x<l;x+=1)g.push(yu(new Date(u,h,f+x*7),o));return g}(),d=c.map(function(u){return vI(u,o)});return W.createElement(uf,{className:"react-calendar__month-view__weekNumbers",count:l,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},d.map(function(u,h){var f=c[h];if(!f)throw new Error("date is not defined");return W.createElement(iP,{key:u,date:f,onClickWeekNumber:n,weekNumber:u})}))}var Ji=function(){return Ji=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ji.apply(this,arguments)},oP=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function lP(t){if(t)for(var e=0,r=Object.entries(eI);e<r.length;e++){var n=r[e],i=n[0],a=n[1];if(a.includes(t))return i}return de.ISO_8601}var ub=function(e){var r=e.activeStartDate,n=e.locale,i=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=e.calendarType,l=o===void 0?lP(n):o,c=e.formatShortWeekday,d=e.formatWeekday,u=e.onClickWeekNumber,h=e.showWeekNumbers,f=oP(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function g(){return W.createElement(sP,{calendarType:l,formatShortWeekday:c,formatWeekday:d,locale:n,onMouseLeave:i})}function x(){return h?W.createElement(aP,{activeStartDate:r,calendarType:l,onClickWeekNumber:u,onMouseLeave:i,showFixedNumberOfWeeks:a}):null}function b(){return W.createElement(nP,Ji({calendarType:l},f))}var v="react-calendar__month-view";return W.createElement("div",{className:Bl(v,h?"".concat(v,"--weekNumbers"):"")},W.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},x(),W.createElement("div",{style:{flexGrow:1,width:"100%"}},g(),b())))};ub.propTypes=Ji(Ji({},Gl),{calendarType:ab,formatDay:R.func,formatLongDate:R.func,formatShortWeekday:R.func,formatWeekday:R.func,onClickWeekNumber:R.func,onMouseLeave:R.func,showFixedNumberOfWeeks:R.bool,showNeighboringMonth:R.bool,showWeekNumbers:R.bool});var is=function(){return is=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},is.apply(this,arguments)},Va="react-calendar",gs=["century","decade","year","month"],cP=["decade","year","month","day"],pf=new Date;pf.setFullYear(1,0,1);pf.setHours(0,0,0,0);var dP=new Date(864e13);function ci(t){return t instanceof Date?t:new Date(t)}function hb(t,e){return gs.slice(gs.indexOf(t),gs.indexOf(e)+1)}function uP(t,e,r){var n=hb(e,r);return n.indexOf(t)!==-1}function mf(t,e,r){return t&&uP(t,e,r)?t:r}function fb(t){var e=gs.indexOf(t);return cP[e]}function hP(t,e){var r=Array.isArray(t)?t[e]:t;if(!r)return null;var n=ci(r);if(isNaN(n.getTime()))throw new Error("Invalid date: ".concat(t));return n}function pb(t,e){var r=t.value,n=t.minDate,i=t.maxDate,a=t.maxDetail,o=hP(r,e);if(!o)return null;var l=fb(a),c=function(){switch(e){case 0:return vn(l,o);case 1:return tb(l,o);default:throw new Error("Invalid index value: ".concat(e))}}();return AI(c,n,i)}var gf=function(t){return pb(t,0)},mb=function(t){return pb(t,1)},fP=function(t){return[gf,mb].map(function(e){return e(t)})};function gb(t){var e=t.maxDate,r=t.maxDetail,n=t.minDate,i=t.minDetail,a=t.value,o=t.view,l=mf(o,i,r),c=gf({value:a,minDate:n,maxDate:e,maxDetail:r})||new Date;return vn(l,c)}function pP(t){var e=t.activeStartDate,r=t.defaultActiveStartDate,n=t.defaultValue,i=t.defaultView,a=t.maxDate,o=t.maxDetail,l=t.minDate,c=t.minDetail,d=t.value,u=t.view,h=mf(u,c,o),f=e||r;return f?vn(h,f):gb({maxDate:a,maxDetail:o,minDate:l,minDetail:c,value:d||n,view:u||i})}function td(t){return t&&(!Array.isArray(t)||t.length===1)}function Wa(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var xb=j.forwardRef(function(e,r){var n=e.activeStartDate,i=e.allowPartialRange,a=e.calendarType,o=e.className,l=e.defaultActiveStartDate,c=e.defaultValue,d=e.defaultView,u=e.formatDay,h=e.formatLongDate,f=e.formatMonth,g=e.formatMonthYear,x=e.formatShortWeekday,b=e.formatWeekday,v=e.formatYear,m=e.goToRangeStartOnSelect,p=m===void 0?!0:m,y=e.inputRef,w=e.locale,N=e.maxDate,_=N===void 0?dP:N,S=e.maxDetail,E=S===void 0?"month":S,k=e.minDate,T=k===void 0?pf:k,P=e.minDetail,I=P===void 0?"century":P,C=e.navigationAriaLabel,F=e.navigationAriaLive,V=e.navigationLabel,$=e.next2AriaLabel,Y=e.next2Label,A=e.nextAriaLabel,D=e.nextLabel,L=e.onActiveStartDateChange,K=e.onChange,X=e.onClickDay,M=e.onClickDecade,O=e.onClickMonth,z=e.onClickWeekNumber,H=e.onClickYear,Z=e.onDrillDown,Pe=e.onDrillUp,et=e.onViewChange,tr=e.prev2AriaLabel,$n=e.prev2Label,cn=e.prevAriaLabel,Bn=e.prevLabel,oe=e.returnValue,rr=oe===void 0?"start":oe,Oe=e.selectRange,Ft=e.showDoubleView,Fn=e.showFixedNumberOfWeeks,yf=e.showNavigation,bb=yf===void 0?!0:yf,wb=e.showNeighboringCentury,jb=e.showNeighboringDecade,vf=e.showNeighboringMonth,Nb=vf===void 0?!0:vf,Sb=e.showWeekNumbers,kb=e.tileClassName,_b=e.tileContent,Eb=e.tileDisabled,Yl=e.value,bf=e.view,wf=j.useState(l),Cb=wf[0],ma=wf[1],jf=j.useState(null),Tb=jf[0],Nf=jf[1],Sf=j.useState(Array.isArray(c)?c.map(function(te){return te!==null?ci(te):null}):c!=null?ci(c):null),Kl=Sf[0],Ib=Sf[1],kf=j.useState(d),Pb=kf[0],_f=kf[1],tt=n||Cb||pP({activeStartDate:n,defaultActiveStartDate:l,defaultValue:c,defaultView:d,maxDate:_,maxDetail:E,minDate:T,minDetail:I,value:Yl,view:bf}),rt=function(){var te=function(){return Oe&&td(Kl)?Kl:Yl!==void 0?Yl:Kl}();return te?Array.isArray(te)?te.map(function(ye){return ye!==null?ci(ye):null}):te!==null?ci(te):null:null}(),ga=fb(E),pe=mf(bf||Pb,I,E),Ut=hb(I,E),Ob=Oe?Tb:null,Ql=Ut.indexOf(pe)<Ut.length-1,Ef=Ut.indexOf(pe)>0,Cf=j.useCallback(function(te){var ye=function(){switch(rr){case"start":return gf;case"end":return mb;case"range":return fP;default:throw new Error("Invalid returnValue.")}}();return ye({maxDate:_,maxDetail:E,minDate:T,value:te})},[_,E,T,rr]),Xl=j.useCallback(function(te,ye){ma(te);var Ne={action:ye,activeStartDate:te,value:rt,view:pe};L&&!Wa(tt,te)&&L(Ne)},[tt,L,rt,pe]),xa=j.useCallback(function(te,ye){var Ne=function(){switch(pe){case"century":return M;case"decade":return H;case"year":return O;case"month":return X;default:throw new Error("Invalid view: ".concat(pe,"."))}}();Ne&&Ne(te,ye)},[X,M,O,H,pe]),Jl=j.useCallback(function(te,ye){if(Ql){xa(te,ye);var Ne=Ut[Ut.indexOf(pe)+1];if(!Ne)throw new Error("Attempted to drill down from the lowest view.");ma(te),_f(Ne);var Et={action:"drillDown",activeStartDate:te,value:rt,view:Ne};L&&!Wa(tt,te)&&L(Et),et&&pe!==Ne&&et(Et),Z&&Z(Et)}},[tt,Ql,L,xa,Z,et,rt,pe,Ut]),Zl=j.useCallback(function(){if(Ef){var te=Ut[Ut.indexOf(pe)-1];if(!te)throw new Error("Attempted to drill up from the highest view.");var ye=vn(te,tt);ma(ye),_f(te);var Ne={action:"drillUp",activeStartDate:ye,value:rt,view:te};L&&!Wa(tt,ye)&&L(Ne),et&&pe!==te&&et(Ne),Pe&&Pe(Ne)}},[tt,Ef,L,Pe,et,rt,pe,Ut]),ec=j.useCallback(function(te,ye){var Ne=rt;xa(te,ye);var Et=Oe&&!td(Ne),Ct;if(Oe)if(Et)Ct=vn(ga,te);else{if(!Ne)throw new Error("previousValue is required");if(Array.isArray(Ne))throw new Error("previousValue must not be an array");Ct=kI(ga,Ne,te)}else Ct=Cf(te);var rc=!Oe||Et||p?gb({maxDate:_,maxDetail:E,minDate:T,minDetail:I,value:Ct,view:pe}):null;ye.persist(),ma(rc),Ib(Ct);var Lb={action:"onChange",activeStartDate:rc,value:Ct,view:pe};if(L&&!Wa(tt,rc)&&L(Lb),K)if(Oe){var Mb=td(Ct);if(!Mb)K(Ct||null,ye);else if(i){if(Array.isArray(Ct))throw new Error("value must not be an array");K([Ct||null,null],ye)}}else K(Ct||null,ye)},[tt,i,Cf,p,_,E,T,I,L,K,xa,Oe,rt,ga,pe]);function Ab(te){Nf(te)}function tc(){Nf(null)}j.useImperativeHandle(r,function(){return{activeStartDate:tt,drillDown:Jl,drillUp:Zl,onChange:ec,setActiveStartDate:Xl,value:rt,view:pe}},[tt,Jl,Zl,ec,Xl,rt,pe]);function Tf(te){var ye=te?eb(pe,tt):vn(pe,tt),Ne=Ql?Jl:ec,Et={activeStartDate:ye,hover:Ob,locale:w,maxDate:_,minDate:T,onClick:Ne,onMouseOver:Oe?Ab:void 0,tileClassName:kb,tileContent:_b,tileDisabled:Eb,value:rt,valueType:ga};switch(pe){case"century":return W.createElement(ob,is({formatYear:v,showNeighboringCentury:wb},Et));case"decade":return W.createElement(lb,is({formatYear:v,showNeighboringDecade:jb},Et));case"year":return W.createElement(cb,is({formatMonth:f,formatMonthYear:g},Et));case"month":return W.createElement(ub,is({calendarType:a,formatDay:u,formatLongDate:h,formatShortWeekday:x,formatWeekday:b,onClickWeekNumber:z,onMouseLeave:Oe?tc:void 0,showFixedNumberOfWeeks:typeof Fn<"u"?Fn:Ft,showNeighboringMonth:Nb,showWeekNumbers:Sb},Et));default:throw new Error("Invalid view: ".concat(pe,"."))}}function Rb(){return bb?W.createElement(CI,{activeStartDate:tt,drillUp:Zl,formatMonthYear:g,formatYear:v,locale:w,maxDate:_,minDate:T,navigationAriaLabel:C,navigationAriaLive:F,navigationLabel:V,next2AriaLabel:$,next2Label:Y,nextAriaLabel:A,nextLabel:D,prev2AriaLabel:tr,prev2Label:$n,prevAriaLabel:cn,prevLabel:Bn,setActiveStartDate:Xl,showDoubleView:Ft,view:pe,views:Ut}):null}var Db=Array.isArray(rt)?rt:[rt];return W.createElement("div",{className:Bl(Va,Oe&&Db.length===1&&"".concat(Va,"--selectRange"),Ft&&"".concat(Va,"--doubleView"),o),ref:y},Rb(),W.createElement("div",{className:"".concat(Va,"__viewContainer"),onBlur:Oe?tc:void 0,onMouseLeave:Oe?tc:void 0},Tf(),Ft?Tf(!0):null))}),og=R.instanceOf(Date),lg=R.oneOfType([R.string,R.instanceOf(Date)]),cg=R.oneOfType([lg,GI(lg)]);xb.propTypes={activeStartDate:og,allowPartialRange:R.bool,calendarType:ab,className:ol,defaultActiveStartDate:og,defaultValue:cg,defaultView:ll,formatDay:R.func,formatLongDate:R.func,formatMonth:R.func,formatMonthYear:R.func,formatShortWeekday:R.func,formatWeekday:R.func,formatYear:R.func,goToRangeStartOnSelect:R.bool,inputRef:WI,locale:R.string,maxDate:ff,maxDetail:R.oneOf(gs),minDate:hf,minDetail:R.oneOf(gs),navigationAriaLabel:R.string,navigationAriaLive:R.oneOf(["off","polite","assertive"]),navigationLabel:R.func,next2AriaLabel:R.string,next2Label:R.node,nextAriaLabel:R.string,nextLabel:R.node,onActiveStartDateChange:R.func,onChange:R.func,onClickDay:R.func,onClickDecade:R.func,onClickMonth:R.func,onClickWeekNumber:R.func,onClickYear:R.func,onDrillDown:R.func,onDrillUp:R.func,onViewChange:R.func,prev2AriaLabel:R.string,prev2Label:R.node,prevAriaLabel:R.string,prevLabel:R.node,returnValue:R.oneOf(["start","end","range"]),selectRange:R.bool,showDoubleView:R.bool,showFixedNumberOfWeeks:R.bool,showNavigation:R.bool,showNeighboringCentury:R.bool,showNeighboringDecade:R.bool,showNeighboringMonth:R.bool,showWeekNumbers:R.bool,tileClassName:R.oneOfType([R.func,ol]),tileContent:R.oneOfType([R.func,R.node]),tileDisabled:R.func,value:cg,view:ll};const mP=()=>{const{id:t}=Sh(),[e,r]=j.useState(null),[n,i]=j.useState(!0),[a,o]=j.useState(new Date),[l,c]=j.useState(""),[d,u]=j.useState(""),{addToBooking:h}=Dn(),{user:f}=Ee(),g=lt();j.useEffect(()=>{x()},[t]);const x=async()=>{try{const y=await(await fetch(`https://aio-backend-x770.onrender.com/api/services/${t}`)).json();r(y)}catch(p){console.error("Error fetching service:",p)}finally{i(!1)}},b=()=>!(e!=null&&e.timeSlots)||e.timeSlots.length===0?["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"]:e.timeSlots.map(p=>p.startTime),v=()=>{var w;if(!f){g("/login");return}if(f.role!=="customer"){alert("Only customers can book services");return}if(!l){alert("Please select a time slot");return}const p={date:a.toISOString().split("T")[0],time:l,notes:d},y={...e,storeId:((w=e.storeId)==null?void 0:w._id)||e.storeId};h(y,p),g("/booking-summary")};if(n)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black"})});if(!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Service not found"}),s.jsx(U,{to:"/services",className:"text-black hover:text-gray-700",children:"Back to Services"})]})});const m=b();return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(U,{to:"/services",className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors",children:[s.jsx(an,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Services"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{children:s.jsx(Dv,{images:e.images,title:e.title})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.title}),s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Me,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-gray-600",children:"4.5 (89 reviews)"})]}),s.jsx("span",{className:"text-gray-400",children:"|"}),s.jsx("span",{className:"text-gray-600 capitalize",children:e.category})]}),s.jsxs("p",{className:"text-4xl font-bold text-black mb-4",children:[J(e.price),s.jsx("span",{className:"text-lg text-gray-500 ml-2",children:e.priceType==="hourly"?"/hour":""})]})]}),s.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(pt,{className:"w-6 h-6 text-gray-400"}),s.jsxs("div",{children:[s.jsx(U,{to:`/store/${e.storeId._id}`,className:"font-semibold text-black hover:text-gray-700 transition-colors",children:e.storeId.name}),s.jsx("p",{className:"text-sm text-gray-600",children:"Visit Store"})]})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(yr,{className:"w-5 h-5"}),s.jsxs("span",{children:["Duration: ",e.duration," minutes"]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center space-x-2",children:[s.jsx(Ie,{className:"w-5 h-5"}),s.jsx("span",{children:"Book This Service"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date"}),s.jsx(xb,{onChange:o,value:a,minDate:new Date,className:"w-full border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Time"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:m.map(p=>s.jsx("button",{onClick:()=>c(p),className:`p-2 text-sm rounded-lg border transition-colors ${l===p?"bg-black text-white border-black":"bg-white text-gray-700 border-gray-300 hover:border-black"}`,children:p},p))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),s.jsx("textarea",{value:d,onChange:p=>u(p.target.value),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Any special requirements or notes..."})]}),s.jsxs("button",{onClick:v,className:"w-full bg-black text-white py-3 px-6 rounded-lg hover:bg-gray-800 transition-colors",children:["Book Now - ",J(e.price)]})]})]})]})]})})},gP=()=>{var w,N,_,S,E;const{id:t}=Sh(),[e,r]=j.useState(null),[n,i]=j.useState([]),[a,o]=j.useState(!0),[l,c]=j.useState("");j.useEffect(()=>{t&&(d(),u())},[t]);const d=async()=>{try{o(!0),c("");const k=await fetch(`https://aio-backend-x770.onrender.com/api/stores/${t}`);if(!k.ok)throw new Error(`Failed to fetch store: ${k.status}`);const T=await k.json();r(T)}catch(k){console.error("Error fetching store data:",k),c("Failed to load store data")}finally{o(!1)}},u=async()=>{try{const k=await fetch(`https://aio-backend-x770.onrender.com/api/reviews/store/${t}`);if(k.ok){const T=await k.json();i(T||[])}}catch(k){console.error("Error fetching reviews:",k),i([])}},h=k=>!k||k.length<=2?k:k.charAt(0)+"*".repeat(k.length-2)+k.charAt(k.length-1),f=k=>{if(!k)return{backgroundColor:"#000000",color:"#ffffff"};if(k.startsWith("#")){const T=g(k);return{backgroundColor:k,color:T?"#000000":"#ffffff"}}return{backgroundColor:"#000000",color:"#ffffff"}},g=k=>{const T=k.replace("#",""),P=parseInt(T.substr(0,2),16),I=parseInt(T.substr(2,2),16),C=parseInt(T.substr(4,2),16);return(P*299+I*587+C*114)/1e3>155};if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black"})});if(l||!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:l||"Store not found"}),s.jsx(U,{to:"/",className:"text-black hover:text-gray-700",children:"Back to Home"})]})});const{store:x,listings:b=[]}=e;if(!x)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Store not found"}),s.jsx(U,{to:"/",className:"text-black hover:text-gray-700",children:"Back to Home"})]})});const v=["https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1200&h=400&fit=crop","https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1200&h=400&fit=crop","https://images.unsplash.com/photo-1560472354-b43ff0c44a43?w=1200&h=400&fit=crop"],m=x.heroImages&&x.heroImages.length>0?x.heroImages:v,p=f(x.themeColor),y=g(x.themeColor||"#000000");return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs(U,{to:"/",className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors",children:[s.jsx(an,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Home"})]})})}),s.jsx("section",{className:"relative h-[40vh]",children:s.jsx(Ll,{modules:[Jh,Zh,Av],spaceBetween:0,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:5e3},className:"h-full",children:m.map((k,T)=>s.jsx(Ml,{children:s.jsxs("div",{className:"relative h-full",children:[s.jsx("img",{src:k!=null&&k.startsWith("http")?k:`https://aio-backend-x770.onrender.com${k}`,alt:`${x.name} ${T+1}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{backgroundColor:`${x.themeColor||"#000000"}80`},children:s.jsxs("div",{className:"text-center max-w-4xl px-6",style:{color:p.color},children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-4 leading-tight",children:x.name}),s.jsx("p",{className:"text-lg md:text-xl mb-8 opacity-90 max-w-3xl mx-auto leading-relaxed",children:x.description})]})})]})},T))})}),s.jsx("div",{className:"py-12",style:p,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"flex items-start space-x-6",children:[x.profileImage&&s.jsx("img",{src:x.profileImage.startsWith("http")?x.profileImage:`https://aio-backend-x770.onrender.com${x.profileImage}`,alt:x.name,className:"w-24 h-24 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:p.color},children:x.name}),s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Me,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),s.jsxs("span",{style:{color:y?"#666":"#ccc"},children:[x.rating||4.5," (",n.length," reviews)"]})]}),s.jsx("span",{style:{color:y?"#999":"#666"},children:"|"}),s.jsxs("span",{className:"capitalize",style:{color:y?"#666":"#ccc"},children:[x.type," Store"]})]}),s.jsx("p",{className:"leading-relaxed mb-6",style:{color:y?"#333":"#ddd"},children:x.description}),s.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:y?"#f9f9f9":"rgba(255,255,255,0.1)"},children:[s.jsx("h3",{className:"font-semibold mb-2",style:{color:p.color},children:"Store Owner"}),s.jsx("p",{style:{color:y?"#333":"#ddd"},children:((w=x.ownerId)==null?void 0:w.name)||"Store Owner"}),s.jsx("p",{className:"text-sm",style:{color:y?"#666":"#ccc"},children:((N=x.ownerId)==null?void 0:N.email)||""})]})]})]})}),s.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:y?"#f9f9f9":"rgba(255,255,255,0.1)"},children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:p.color},children:"Contact Information"}),s.jsxs("div",{className:"space-y-3",children:[((_=x.contactInfo)==null?void 0:_.email)&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Fs,{className:"w-5 h-5",style:{color:y?"#999":"#ccc"}}),s.jsx("span",{style:{color:y?"#333":"#ddd"},children:x.contactInfo.email})]}),((S=x.contactInfo)==null?void 0:S.phone)&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Gh,{className:"w-5 h-5",style:{color:y?"#999":"#ccc"}}),s.jsx("span",{style:{color:y?"#333":"#ddd"},children:x.contactInfo.phone})]}),((E=x.contactInfo)==null?void 0:E.address)&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Rl,{className:"w-5 h-5 mt-0.5",style:{color:y?"#999":"#ccc"}}),s.jsx("span",{style:{color:y?"#333":"#ddd"},children:x.contactInfo.address})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t",style:{borderColor:y?"#e5e5e5":"rgba(255,255,255,0.2)"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",style:{color:p.color},children:J(x.totalSales||0)}),s.jsx("p",{className:"text-sm",style:{color:y?"#666":"#ccc"},children:"Total Sales"})]})})]})]})})}),s.jsx("div",{className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900",children:x.type==="product"?"Our Products":"Our Services"}),s.jsxs("p",{className:"text-gray-600",children:[b.length," ",x.type==="product"?"products":"services"," available"]})]}),b.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsxs("p",{className:"text-lg text-gray-500",children:["No ",x.type==="product"?"products":"services"," available yet"]}),s.jsx("p",{className:"mt-2 text-gray-400",children:"Check back later for new listings"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(k=>x.type==="product"?s.jsx(ef,{product:k},k._id):s.jsx(tf,{service:k},k._id))})]})}),s.jsx("div",{className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Customer Reviews"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((k,T)=>s.jsx(Me,{className:`w-5 h-5 ${T<Math.floor(x.rating||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},T))}),s.jsx("span",{className:"text-lg font-semibold",children:x.rating||0}),s.jsxs("span",{className:"text-gray-600",children:["(",n.length," reviews)"]})]})})]}),n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Me,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Reviews Yet"}),s.jsx("p",{className:"text-gray-600",children:"Be the first to review this store!"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Review Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:x.rating||0}),s.jsx("div",{className:"flex justify-center mb-2",children:[...Array(5)].map((k,T)=>s.jsx(Me,{className:`w-5 h-5 ${T<Math.floor(x.rating||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},T))}),s.jsxs("p",{className:"text-gray-600",children:[n.length," total reviews"]})]})}),s.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(k=>{const T=n.filter(I=>I.rating===k).length,P=n.length>0?T/n.length*100:0;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm w-8",children:[k,""]}),s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${P}%`}})}),s.jsx("span",{className:"text-sm text-gray-600 w-8",children:T})]},k)})})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(k=>{var T;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:h(((T=k.customerId)==null?void 0:T.name)||"Anonymous")}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((P,I)=>s.jsx(Me,{className:`w-4 h-4 ${I<k.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},I))}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(k.createdAt).toLocaleDateString()})]})]}),s.jsxs("div",{className:"text-right",children:[k.orderId&&s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Product Order"}),k.bookingId&&s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Service Booking"})]})]}),s.jsx("p",{className:"text-gray-700 mb-4",children:k.comment}),k.response&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-black",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Store Response"}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(k.response.respondedAt).toLocaleDateString()})]}),s.jsx("p",{className:"text-gray-700",children:k.response.message})]})]},k._id)})})]})]})})]})},xP=()=>{const{orderItems:t,bookingItems:e,updateQuantity:r,removeFromOrder:n,removeFromBooking:i,orderTotal:a,bookingTotal:o}=Dn(),l=t.reduce((d,u)=>d+u.quantity,0)+e.length,c=a+o;return l===0?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(mv,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Add some products or book services to get started"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(U,{to:"/products",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Browse Products"}),s.jsx(U,{to:"/services",className:"bg-white border-2 border-black text-black px-6 py-3 rounded-lg hover:bg-black hover:text-white transition-colors",children:"Browse Services"})]})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shopping Cart"}),s.jsxs("p",{className:"text-gray-600 mt-2",children:[l," item",l!==1?"s":""," in your cart"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Products (",t.length,")"]}),s.jsx("div",{className:"space-y-4",children:t.map(d=>s.jsxs("div",{className:"cart-item-animate flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[s.jsx("img",{src:d.image?d.image.startsWith("http")?d.image:`https://aio-backend-x770.onrender.com${d.image}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:d.title,className:"w-16 h-16 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),s.jsx("p",{className:"text-gray-600",children:J(d.price)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>r(d.id,d.quantity-1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:s.jsx(pv,{className:"w-4 h-4"})}),s.jsx("span",{className:"w-8 text-center",children:d.quantity}),s.jsx("button",{onClick:()=>r(d.id,d.quantity+1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:s.jsx(Bt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold",children:J(d.price*d.quantity)}),s.jsx("button",{onClick:()=>n(d.id),className:"text-red-500 hover:text-red-700 transition-colors mt-1",children:s.jsx(Jr,{className:"w-4 h-4"})})]})]},d.id))})]}),e.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Service Bookings (",e.length,")"]}),s.jsx("div",{className:"space-y-4",children:e.map(d=>s.jsxs("div",{className:"cart-item-animate flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[s.jsx("img",{src:d.image?d.image.startsWith("http")?d.image:`https://aio-backend-x770.onrender.com${d.image}`:"https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop",alt:d.title,className:"w-16 h-16 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),s.jsx("p",{className:"text-gray-600",children:J(d.price)}),s.jsxs("p",{className:"text-sm text-gray-500",children:[d.date," at ",d.time]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold",children:J(d.price)}),s.jsx("button",{onClick:()=>i(d.id),className:"text-red-500 hover:text-red-700 transition-colors mt-1",children:s.jsx(Jr,{className:"w-4 h-4"})})]})]},`${d.id}-${d.date}-${d.time}`))})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 h-fit",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),s.jsxs("div",{className:"space-y-3",children:[t.length>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Products (",t.reduce((d,u)=>d+u.quantity,0),")"]}),s.jsx("span",{children:J(a)})]}),e.length>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Services (",e.length,")"]}),s.jsx("span",{children:J(o)})]}),s.jsx("div",{className:"border-t pt-3",children:s.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:J(c)})]})})]}),s.jsx(U,{to:"/checkout",className:"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors mt-6 block text-center",children:"Proceed to Checkout"})]})]})]})})},yP=()=>{const{bookingItems:t,bookingTotal:e}=Dn();return t.length===0?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ie,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No bookings found"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"You haven't booked any services yet"}),s.jsx(U,{to:"/services",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Browse Services"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(U,{to:"/services",className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors mb-4",children:[s.jsx(an,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Services"})]}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Booking Summary"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Review your service bookings"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:t.map((r,n)=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("img",{src:r.image?r.image.startsWith("http")?r.image:`https://aio-backend-x770.onrender.com${r.image}`:"https://images.unsplash.com/photo-1560472354-b43ff0c44a43?w=400&h=300&fit=crop",alt:r.title,className:"w-20 h-20 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r.title}),s.jsxs("p",{className:"text-2xl font-bold text-black mb-4",children:["$",r.price]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(Ie,{className:"w-4 h-4"}),s.jsx("span",{children:r.date})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(yr,{className:"w-4 h-4"}),s.jsx("span",{children:r.time})]}),r.notes&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Notes:"}),s.jsx("p",{className:"text-sm text-gray-700",children:r.notes})]})]})]})]})},`${r.id}-${n}`))}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 h-fit",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Booking Summary"}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600",children:["Services (",t.length,")"]}),s.jsxs("span",{className:"font-semibold",children:["$",e.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Platform Fee (5%)"}),s.jsxs("span",{className:"font-semibold",children:["$",(e*.05).toFixed(2)]})]}),s.jsx("div",{className:"border-t pt-3",children:s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",(e*1.05).toFixed(2)]})]})})]}),s.jsx(U,{to:"/checkout",className:"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors block text-center",children:"Proceed to Payment"}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(U,{to:"/services",className:"text-gray-600 hover:text-black transition-colors text-sm",children:"Continue Browsing Services"})})]})]})]})})},vP=()=>{const{orderItems:t,bookingItems:e,orderTotal:r,bookingTotal:n,clearOrder:i,clearBookings:a}=Dn(),{user:o}=Ee(),l=lt(),[c,d]=j.useState(!1),[u,h]=j.useState([]),[f,g]=j.useState("payhere"),[x,b]=j.useState({street:"",city:"",state:"",zipCode:"",country:"Sri Lanka"}),[v,m]=j.useState(!1),p=t.reduce((P,I)=>P+I.quantity,0)+e.length,y=r+n,w=y*.07,N=y+w;j.useEffect(()=>{if((t.length||e.length)&&_(),window.payhere)m(!0);else{const P=document.createElement("script");P.src="https://www.payhere.lk/lib/payhere.js",P.async=!0,P.onload=()=>{m(!0),console.log("PayHere script loaded")},P.onerror=()=>{alert("Failed to load PayHere payment gateway script")},document.body.appendChild(P)}},[t,e]);const _=async()=>{try{const P=await fetch("https://aio-backend-x770.onrender.com/api/payments/payment-methods");if(P.ok){const I=await P.json(),C=t.length>0?I.filter(F=>F.id==="payhere"):I;h(C.length>0?C:I)}else console.error("Failed to fetch payment methods:",P.status)}catch(P){console.error("Error fetching payment methods:",P)}},S=P=>{b({...x,[P.target.name]:P.target.value})},E=P=>new Promise((I,C)=>{if(!window.payhere)return alert("Payment gateway not loaded, please try again later."),C(new Error("PayHere script not loaded"));window.payhere.onCompleted=function(F){console.log("Payment completed. OrderID:",F),I(F)},window.payhere.onDismissed=function(){alert("Payment was cancelled."),C(new Error("Payment cancelled"))},window.payhere.onError=function(F){console.error("PayHere payment error:",F),alert("Payment failed. Please try again."),C(new Error("Payment error: "+F))},console.log("Starting PayHere payment with params:",P),window.payhere.startPayment(P)}),k=async()=>{if(!o){alert("Please log in to continue"),l("/login");return}if(o.role!=="customer"){alert("Only customers can place orders");return}if(t.length>0&&(!x.street||!x.city||!x.state||!x.zipCode||isNaN(x.zipCode))){alert("Please fill in all shipping address fields correctly");return}if(!v){alert("Payment gateway is still loading, please wait a moment.");return}d(!0);try{const P=await fetch("https://aio-backend-x770.onrender.com/api/payments/create-combined-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({orderItems:t.map(C=>({productId:C.id,quantity:C.quantity,storeId:typeof C.storeId=="object"?C.storeId._id:C.storeId||"unknown"})),bookingItems:e.map(C=>({serviceId:C.id,bookingDate:C.date,startTime:C.time,endTime:C.endTime||(C.time?C.time.split(":").map((F,V)=>V===0?String(parseInt(F)+1).padStart(2,"0"):F).join(":"):""),notes:C.notes})),shippingAddress:x,paymentMethod:f})});if(!P.ok){const C=await P.json();alert(`Payment intent creation failed: ${C.error||"Unknown error"}`),d(!1);return}const{paymentParams:I}=await P.json();if(!I){alert("Payment parameters missing in response."),d(!1);return}console.log("Received paymentParams:",I),await E(I),i(),a(),alert("Payment successful!"),t.length>0&&e.length>0||t.length>0?l("/orders"):e.length>0?l("/bookings"):l("/")}catch(P){console.error("Checkout error:",P),alert("Checkout failed. Please try again.")}finally{d(!1)}},T=P=>{switch(P){case"building-2":return s.jsx(vC,{className:"w-6 h-6"});case"smartphone":return s.jsx(LC,{className:"w-6 h-6"});case"banknote":return s.jsx(yC,{className:"w-6 h-6"});case"credit-card":return s.jsx(Yo,{className:"w-6 h-6"});default:return s.jsx(Yo,{className:"w-6 h-6"})}};return p===0?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md",children:[s.jsx(mv,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Add some items to proceed with checkout"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Complete your purchase"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[t.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Shipping Address"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),s.jsx("input",{type:"text",name:"street",value:x.street,onChange:S,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"123 Main Street"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",name:"city",value:x.city,onChange:S,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Colombo"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Province *"}),s.jsxs("select",{name:"state",value:x.state,onChange:S,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select Province"}),s.jsx("option",{value:"Western",children:"Western"}),s.jsx("option",{value:"Central",children:"Central"}),s.jsx("option",{value:"Southern",children:"Southern"}),s.jsx("option",{value:"Northern",children:"Northern"}),s.jsx("option",{value:"Eastern",children:"Eastern"}),s.jsx("option",{value:"North Western",children:"North Western"}),s.jsx("option",{value:"North Central",children:"North Central"}),s.jsx("option",{value:"Uva",children:"Uva"}),s.jsx("option",{value:"Sabaragamuwa",children:"Sabaragamuwa"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code *"}),s.jsx("input",{type:"text",name:"zipCode",value:x.zipCode,onChange:S,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"10001"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),s.jsx("input",{type:"text",name:"country",value:x.country,onChange:S,className:"w-full border border-gray-300 rounded-lg px-4 py-3 bg-gray-100 cursor-not-allowed",readOnly:!0})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payment Method"}),s.jsxs("div",{className:"space-y-3",children:[u.map(P=>s.jsxs("label",{className:`flex items-center p-4 rounded-lg border-2 cursor-pointer transition-all ${f===P.id?"border-black bg-black text-white":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:P.id,checked:f===P.id,onChange:I=>g(I.target.value),className:"sr-only"}),s.jsx("div",{className:`mr-3 ${f===P.id?"text-white":"text-gray-400"}`,children:T(P.icon)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:`font-medium ${f===P.id?"text-white":"text-gray-900"}`,children:P.name}),s.jsx("div",{className:`text-sm ${f===P.id?"text-gray-200":"text-gray-500"}`,children:P.description})]})]},P.id)),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qo,{className:"w-5 h-5 text-blue-600"}),s.jsx("p",{className:"text-sm text-blue-800",children:"Your payment information is secure and processed locally in Sri Lanka"})]})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 h-fit",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Order Summary"}),t.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Products"}),s.jsx("div",{className:"space-y-3",children:t.map(P=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:P.image?P.image.startsWith("http")?P.image:`https://aio-backend-x770.onrender.com${P.image}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:P.title,className:"w-12 h-12 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",P.quantity]})]}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:J(P.price*P.quantity)})]},P.id))})]}),e.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Service Bookings"}),s.jsx("div",{className:"space-y-3",children:e.map((P,I)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:P.image?P.image.startsWith("http")?P.image:`https://aio-backend-x770.onrender.com${P.image}`:"https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop",alt:P.title,className:"w-12 h-12 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:[P.date," at ",P.time]})]}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:J(P.price)})]},`${P.id}-${I}`))})]}),s.jsxs("div",{className:"space-y-3 border-t pt-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal"}),s.jsx("span",{className:"font-medium",children:J(y)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Platform Fee (7%)"}),s.jsx("span",{className:"font-medium",children:J(w)})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-3",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:J(N)})]})]}),s.jsx("button",{onClick:k,disabled:c,className:"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors mt-6 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Processing...":`Pay ${J(N)}`})]})]})]})})},bP=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(""),[i,a]=j.useState(!1),[o,l]=j.useState(!1),[c,d]=j.useState(""),{login:u}=Ee(),h=lt(),f=async g=>{g.preventDefault(),l(!0),d("");const x=await u(t,r);x.success?h("/"):d(x.error),l(!1)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Welcome back"}),s.jsx("p",{className:"text-gray-600",children:"Sign in to your AIO account"}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Don't have an account?"," ",s.jsx(U,{to:"/register",className:"font-medium text-black hover:text-gray-700 transition-colors",children:"Create one here"})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:s.jsxs("form",{className:"space-y-6",onSubmit:f,children:[c&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t,onChange:g=>e(g.target.value),className:"pl-10 block w-full border border-gray-300 rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Enter your email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",name:"password",type:i?"text":"password",required:!0,value:r,onChange:g=>n(g.target.value),className:"pl-10 pr-10 block w-full border border-gray-300 rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Enter your password"}),s.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:i?s.jsx(Ko,{className:"w-5 h-5"}):s.jsx(Ye,{className:"w-5 h-5"})})]})]})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-black text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Signing in...":"Sign in"})]})})]})})},wP=()=>{const[t,e]=j.useState({name:"",email:"",password:"",confirmPassword:"",role:"customer"}),[r,n]=j.useState(!1),[i,a]=j.useState(!1),[o,l]=j.useState(!1),[c,d]=j.useState(""),{register:u}=Ee(),h=lt(),f=async x=>{if(x.preventDefault(),l(!0),d(""),t.password!==t.confirmPassword){d("Passwords do not match"),l(!1);return}if(t.password.length<6){d("Password must be at least 6 characters long"),l(!1);return}const b=await u(t);b.success?t.role==="store_owner"?h("/create-store"):h("/"):d(b.error),l(!1)},g=x=>{e({...t,[x.target.name]:x.target.value})};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Join AIO"}),s.jsx("p",{className:"text-gray-600",children:"Create your account and start your journey"}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Already have an account?"," ",s.jsx(U,{to:"/login",className:"font-medium text-black hover:text-gray-700 transition-colors",children:"Sign in here"})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:s.jsxs("form",{className:"space-y-6",onSubmit:f,children:[c&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"I want to"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>e({...t,role:"customer"}),className:`p-4 rounded-lg border-2 transition-all text-center ${t.role==="customer"?"border-black bg-black text-white":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(Gi,{className:"w-6 h-6 mx-auto mb-2"}),s.jsx("div",{className:"font-medium",children:"Shop"}),s.jsx("div",{className:"text-xs opacity-75",children:"Buy products & services"})]}),s.jsxs("button",{type:"button",onClick:()=>e({...t,role:"store_owner"}),className:`p-4 rounded-lg border-2 transition-all text-center ${t.role==="store_owner"?"border-black bg-black text-white":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(pt,{className:"w-6 h-6 mx-auto mb-2"}),s.jsx("div",{className:"font-medium",children:"Sell"}),s.jsx("div",{className:"text-xs opacity-75",children:"Create a store"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:t.name,onChange:g,className:"pl-10 block w-full border border-gray-300 rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Enter your full name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:g,className:"pl-10 block w-full border border-gray-300 rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Enter your email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",name:"password",type:r?"text":"password",required:!0,value:t.password,onChange:g,className:"pl-10 pr-10 block w-full border border-gray-300 rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Create a password"}),s.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:r?s.jsx(Ko,{className:"w-5 h-5"}):s.jsx(Ye,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",required:!0,value:t.confirmPassword,onChange:g,className:"pl-10 pr-10 block w-full border border-gray-300 rounded-lg px-3 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Confirm your password"}),s.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:i?s.jsx(Ko,{className:"w-5 h-5"}):s.jsx(Ye,{className:"w-5 h-5"})})]})]})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-black text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Creating account...":"Create account"}),t.role==="store_owner"&&s.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Next step:"})," After registration, you'll create your store and start selling!"]})})]})})]})})},xf=({images:t=[],onImagesChange:e,maxImages:r=10,multiple:n=!0,className:i=""})=>{const[a,o]=j.useState(!1),l=f=>{const x=Array.from(f).filter(b=>b.type.startsWith("image/"));if(n){const b=[...t,...x].slice(0,r);e(b)}else e(x.slice(0,1))},c=f=>{f.preventDefault(),o(!1),l(f.dataTransfer.files)},d=f=>{f.preventDefault(),o(!0)},u=f=>{f.preventDefault(),o(!1)},h=f=>{const g=t.filter((x,b)=>b!==f);e(g)};return s.jsxs("div",{className:`space-y-4 ${i}`,children:[s.jsxs("div",{onDrop:c,onDragOver:d,onDragLeave:u,className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${a?"border-black bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{type:"file",multiple:n,accept:"image/*",onChange:f=>l(f.target.files),className:"hidden",id:"image-upload"}),s.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[s.jsx($C,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 mb-1",children:"Click to upload or drag and drop"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["PNG, JPG, GIF up to 10MB ",n&&`(max ${r})`]})]})]}),t.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map((f,g)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:typeof f=="string"?f:URL.createObjectURL(f),alt:`Upload ${g+1}`,className:"w-full h-32 object-cover rounded-lg"}),s.jsx("button",{onClick:()=>h(g),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Dl,{className:"w-4 h-4"})})]},g))}),n&&s.jsxs("p",{className:"text-sm text-gray-500",children:[t.length," of ",r," images uploaded"]})]})},jP=()=>{const{user:t}=Ee(),[e,r]=j.useState(null),[n,i]=j.useState(!0),[a,o]=j.useState(!1),[l,c]=j.useState(null),[d,u]=j.useState(""),[h,f]=j.useState(""),[g,x]=j.useState({name:"",email:"",phone:"",address:{street:"",city:"",state:"",zipCode:"",country:""}});j.useEffect(()=>{t&&b()},[t]);const b=async()=>{try{const p=await fetch("https://aio-backend-x770.onrender.com/api/users/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(p.ok){const y=await p.json();r(y),x({name:y.name||"",email:y.email||"",phone:y.phone||"",address:y.address||{street:"",city:"",state:"",zipCode:"",country:""}})}}catch(p){console.error("Error fetching profile:",p)}finally{i(!1)}},v=async p=>{p.preventDefault(),i(!0),u(""),f("");try{let y=null;if(l){const _=Cs(Ts,`users/${Date.now()}_${l.name}`);await _s(_,l),y=await Es(_)}const w={name:g.name,email:g.email,phone:g.phone,address:g.address,...y&&{profileImage:y}},N=await fetch("https://aio-backend-x770.onrender.com/api/users/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(w)});if(N.ok){const _=await N.json();r(_),o(!1),c(null),f("Profile updated successfully!")}else{const _=await N.json();u(_.error||"Failed to update profile")}}catch(y){console.error("Error updating profile:",y),u("Network error. Please try again.")}finally{i(!1)}},m=p=>{const{name:y,value:w}=p.target;if(y.startsWith("address.")){const N=y.split(".")[1];x(_=>({..._,address:{..._.address,[N]:w}}))}else x(N=>({...N,[y]:w}))};return t?n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black"})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"bg-black text-white px-6 py-8",children:s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-600 rounded-full flex items-center justify-center",children:e!=null&&e.profileImage?s.jsx("img",{src:e.profileImage.startsWith("http")?e.profileImage:`https://aio-backend-x770.onrender.com${e.profileImage}`,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):s.jsx(Gi,{className:"w-12 h-12 text-gray-300"})}),a&&s.jsxs("label",{className:"absolute bottom-0 right-0 bg-white text-black p-2 rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:[s.jsx(hv,{className:"w-4 h-4"}),s.jsx("input",{type:"file",accept:"image/*",onChange:p=>c(p.target.files[0]),className:"hidden"})]})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:(e==null?void 0:e.name)||"User"}),s.jsx("p",{className:"text-gray-300 capitalize",children:(e==null?void 0:e.role)||"Customer"}),s.jsx("p",{className:"text-gray-300",children:e==null?void 0:e.email})]})]})}),s.jsxs("div",{className:"p-6",children:[d&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:d}),h&&s.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:h}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile Information"}),s.jsx("button",{onClick:()=>o(!a),className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:a?"Cancel":"Edit Profile"})]}),a?s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[l&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Profile Image"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:URL.createObjectURL(l),alt:"New profile",className:"w-16 h-16 rounded-full object-cover"}),s.jsx("button",{type:"button",onClick:()=>c(null),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",name:"name",value:g.name,onChange:m,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:g.email,onChange:m,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),s.jsx("input",{type:"tel",name:"phone",value:g.phone,onChange:m,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),s.jsx("input",{type:"text",name:"address.street",value:g.address.street,onChange:m,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),s.jsx("input",{type:"text",name:"address.city",value:g.address.city,onChange:m,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),s.jsx("input",{type:"text",name:"address.state",value:g.address.state,onChange:m,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),s.jsx("input",{type:"text",name:"address.zipCode",value:g.address.zipCode,onChange:m,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),s.jsx("input",{type:"text",name:"address.country",value:g.address.country,onChange:m,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",children:n?"Saving...":"Save Changes"})]})]}):s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Gi,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:(e==null?void 0:e.name)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Fs,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium",children:(e==null?void 0:e.email)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Gh,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),s.jsx("p",{className:"font-medium",children:(e==null?void 0:e.phone)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Rl,{className:"w-5 h-5 text-gray-400 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),s.jsx("p",{className:"font-medium",children:e!=null&&e.address?s.jsxs(s.Fragment,{children:[e.address.street&&s.jsxs(s.Fragment,{children:[e.address.street,s.jsx("br",{})]}),e.address.city&&e.address.state&&`${e.address.city}, ${e.address.state} `,e.address.zipCode,e.address.country&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),e.address.country]})]}):"Not provided"})]})]})]})})]})]})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-center",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please log in to view your profile"})})})},yb=({subPackage:t,setSubPackage:e})=>{const[r,n]=j.useState([]),[i,a]=j.useState(!0),o={basic:{label:"Basic",bg:"bg-[#10002B]",priceText:l=>`LKR ${l.toLocaleString()}/month`},standard:{label:"Standard",bg:"bg-[#3C096C]",priceText:l=>`LKR ${l.toLocaleString()}/month`},premium:{label:"Premium",bg:"bg-[#7B2CBF]",priceText:l=>`LKR ${l.toLocaleString()}/month`}};return j.useEffect(()=>{(async()=>{try{const c=await fetch("https://aio-backend-x770.onrender.com/api/packages",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!c.ok)throw new Error("Failed to fetch packages");const d=await c.json();n(d)}catch(c){console.error("Error fetching packages:",c)}finally{a(!1)}})()},[]),i?s.jsx("section",{className:"py-12 px-4 flex justify-center items-center min-h-[200px]",children:s.jsx("div",{className:"w-12 h-12 border-4 border-t-transparent border-white rounded-full animate-spin"})}):s.jsx("section",{className:"py-12 px-4 bg-gradient-to-br from-[#10002B] via-[#5A189A] to-[#E0AAFF] text-white rounded-3xl",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Choose Your Package"}),s.jsx("p",{className:"text-lg mb-12 text-[#E0AAFF]",children:"Flexible plans for every seller stage"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.length===0?s.jsx("p",{children:"No packages available."}):r.map((l,c)=>{const d=o[l.name]||{},u=t===l.name,h=l.name==="standard";return s.jsxs("div",{className:"relative rounded-2xl",children:[h&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-[#7B2CBF] text-[#E0AAFF] text-xs font-bold px-4 py-1 rounded-full shadow-md z-10 select-none",children:" Popular"}),s.jsxs("div",{onClick:()=>e(l.name),className:`cursor-pointer shadow-lg ${d.bg??"bg-[#10002B]"} transition-transform transform hover:scale-105 p-6 flex flex-col justify-between border-4 ${u?"border-white":"border-transparent"} rounded-2xl`,children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-semibold mb-2",children:[d.label??l.name," Package"]}),s.jsx("p",{className:"text-xl font-bold mb-4",children:d.priceText?d.priceText(l.amount):l.amount}),s.jsx("ul",{className:"text-sm space-y-2 text-[#E0AAFF]",children:(l.features||[]).map((f,g)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-white mr-2",children:""}),s.jsx("span",{children:f})]},g))})]}),s.jsx("button",{type:"button",onClick:f=>{f.stopPropagation(),e(l.name)},className:`mt-6 font-semibold py-2 px-4 rounded-xl transition ${u?"bg-white text-[#10002B]":"bg-white text-[#5A189A] hover:bg-[#E0AAFF] hover:text-[#10002B]"}`,children:u?"Selected":"Get Started"})]})]},c)})})]})})},NP=()=>{var M;const{user:t}=Ee(),[e,r]=j.useState(null),[n,i]=j.useState({totalProducts:0,totalServices:0,totalOrders:0,totalBookings:0,totalEarnings:0}),[a,o]=j.useState([]),[l,c]=j.useState([]),[d,u]=j.useState(null),[h,f]=j.useState([]),[g,x]=j.useState([]),[b,v]=j.useState(!0),[m,p]=j.useState(null),[y,w]=j.useState(!1),[N,_]=j.useState(null),[S,E]=j.useState(!1),[k,T]=j.useState([]),[P,I]=j.useState("");h.length>0,j.useEffect(()=>{(t==null?void 0:t.role)==="store_owner"&&(t!=null&&t.storeId)&&V()},[t]),j.useEffect(()=>{k.length>0&&!P&&I(k[0].name)},[k]);const C=()=>new Promise((O,z)=>{if(window.payhere)return O();const H=document.createElement("script");H.src="https://sandbox.payhere.lk/lib/payhere.js",H.type="text/javascript",H.onload=()=>O(),H.onerror=()=>z(new Error("PayHere SDK failed to load")),document.body.appendChild(H)}),F=async()=>{try{const O=await fetch("https://aio-backend-x770.onrender.com/api/subscriptions/upgrade",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({packageName:P})}),z=await O.json();if(O.status===403&&z.nextAvailableDowngradeDate){const H=new Date(z.nextAvailableDowngradeDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});alert(` You can downgrade only after: ${H}`);return}if(!O.ok)throw new Error(z.message||"Failed to upgrade package");if(z.paymentRequired&&z.paymentParams)try{const H=await A(z.paymentParams);console.log(" PayHere Payment successful with Order ID:",H)}catch(H){console.error(" Payment failed:",H),alert("Payment was not successful. Upgrade was not completed.");return}u(z.updatedSubscription||z),E(!1),alert(` Successfully upgraded to: ${P.toUpperCase()}`)}catch(O){console.error(" Upgrade Error:",O),alert(O.message||"Something went wrong during the upgrade.")}},V=async()=>{var O,z;v(!0);try{if(t.storeId){const oe=await fetch(`https://aio-backend-x770.onrender.com/api/stores/${t.storeId}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!oe.ok)throw new Error("Failed to fetch store data");const rr=await oe.json();if(r(rr.store),((O=rr.store)==null?void 0:O.type)==="product"){const Oe=await fetch(`https://aio-backend-x770.onrender.com/api/products?storeId=${t.storeId}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Oe.ok)throw new Error("Failed to fetch products");const Ft=await Oe.json();f(Ft),i(Fn=>({...Fn,totalProducts:Ft.length}))}else if(((z=rr.store)==null?void 0:z.type)==="service"){const Oe=await fetch(`https://aio-backend-x770.onrender.com/api/services?storeId=${t.storeId}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Oe.ok)throw new Error("Failed to fetch services");const Ft=await Oe.json();x(Ft),i(Fn=>({...Fn,totalServices:Ft.length}))}}const H=await fetch("https://aio-backend-x770.onrender.com/api/orders/store",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!H.ok)throw new Error("Failed to fetch orders");const Z=await H.json();o(Z.slice(0,5)),i(oe=>({...oe,totalOrders:Z.length}));const Pe=await fetch("https://aio-backend-x770.onrender.com/api/bookings/store",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Pe.ok)throw new Error("Failed to fetch bookings");const et=await Pe.json();c(et.slice(0,5)),i(oe=>({...oe,totalBookings:et.length}));const tr=await fetch("https://aio-backend-x770.onrender.com/api/subscriptions/my-subscription",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!tr.ok)throw new Error("Failed to fetch subscription");const $n=await tr.json();u($n),I($n.package);const cn=await fetch("https://aio-backend-x770.onrender.com/api/packages",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!cn.ok)throw new Error("Failed to fetch packages");const Bn=await cn.json();console.log(Bn),T(Bn)}catch(H){console.error("Error fetching dashboard data:",H),alert("Failed to load dashboard data. Please try again.")}finally{v(!1)}},$=async()=>{console.log("cancelSubscription called");try{const O=await fetch("/api/subscriptions/cancel",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({subscriptionId:d._id})});if(O.ok)alert("Subscription cancelled successfully"),V();else{const z=await O.json();alert("Cancel failed: "+(z==null?void 0:z.error)||"Unknown error")}}catch(O){console.error("Cancel error:",O),alert("Error cancelling subscription")}},Y=async()=>{try{const O=await fetch("https://aio-backend-x770.onrender.com/api/subscriptions/create-subscription",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(O.ok){const{paymentParams:z}=await O.json();await C(),await A(z),await V();const Z=await(await fetch("https://aio-backend-x770.onrender.com/api/subscriptions/my-subscription",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();u(Z),alert(`Your monthly subscription (LKR ${Z.amount}) is now active.`)}else{const z=await O.json();alert("Subscription setup failed. Please contact support: "+((z==null?void 0:z.error)||"Unknown error"))}}catch(O){console.error("Subscription error:",O),alert("Error starting subscription. Please try again.")}},A=O=>new Promise((z,H)=>{if(!window.payhere)return alert("Payment gateway not loaded. Please refresh and try again."),H(new Error("PayHere SDK not loaded"));window.payhere.onCompleted=function(Z){console.log(" Payment completed. Order ID:",Z),z(Z)},window.payhere.onDismissed=function(){alert("Payment was cancelled."),H(new Error("Payment cancelled"))},window.payhere.onError=function(Z){console.error(" PayHere error:",Z),alert("Payment failed. Please try again."),H(new Error("Payment error: "+Z))},console.log(" Starting PayHere payment with:",O),window.payhere.startPayment(O)}),D=O=>{var z,H;p({...O,price:O.price.toString(),stock:((z=O.stock)==null?void 0:z.toString())||"",duration:((H=O.duration)==null?void 0:H.toString())||""}),w(!0)},L=async O=>{O.preventDefault();try{const z={title:m.title,description:m.description,price:m.price,category:m.category};(e==null?void 0:e.type)==="product"?z.stock=m.stock:(z.duration=m.duration,z.priceType=m.priceType||"fixed");const H=(e==null?void 0:e.type)==="product"?"products":"services";(await fetch(`https://aio-backend-x770.onrender.com/api/${H}/${m._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(z)})).ok?(V(),w(!1),p(null),alert(`${(e==null?void 0:e.type)==="product"?"Product":"Service"} updated successfully!`)):alert(`Failed to update ${(e==null?void 0:e.type)==="product"?"product":"service"}`)}catch(z){console.error("Error updating item:",z),alert(`Error updating ${(e==null?void 0:e.type)==="product"?"product":"service"}`)}},K=async(O,z)=>{if(confirm(`Are you sure you want to delete this ${z}?`)){_(O);try{(await fetch(`https://aio-backend-x770.onrender.com/api/${z==="product"?"products":"services"}/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(z==="product"?f(h.filter(Pe=>Pe._id!==O)):x(g.filter(Pe=>Pe._id!==O)),alert(`${z.charAt(0).toUpperCase()+z.slice(1)} deleted successfully!`)):alert(`Failed to delete ${z}`)}catch(H){console.error(`Error deleting ${z}:`,H),alert(`Error deleting ${z}`)}finally{_(null)}}};if(!t||t.role!=="store_owner")return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You need to be a store owner to access this page"}),s.jsx(U,{to:"/create-store",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Create Store"})]})});if(b)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Fe,{size:"xl"})});const X=(e==null?void 0:e.type)==="product"?["Electronics","Clothing","Home & Garden","Sports & Outdoors","Books","Beauty & Health","Toys & Games","Food & Beverages"]:["Tutoring","Home Services","Beauty & Wellness","Consulting","Fitness","Technology","Creative Services","Professional Services"];return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Store Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-2",children:e?`Welcome back to ${e.name}`:"Manage your store"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[!e&&s.jsxs(U,{to:"/create-store",className:"bg-black text-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[s.jsx(Bt,{className:"w-8 h-8 text-white"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-white",children:"Create Store"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Start your business"})]})]}),(e==null?void 0:e.type)==="product"&&s.jsxs(s.Fragment,{children:[s.jsxs(U,{to:"/create-product",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[s.jsx(Bt,{className:"w-8 h-8 text-black"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:"Add Product"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Create new product"})]})]}),s.jsxs(U,{to:"/orders",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[s.jsx(We,{className:"w-8 h-8 text-black"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:"View Orders"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage orders"})]})]})]}),(e==null?void 0:e.type)==="service"&&s.jsxs(s.Fragment,{children:[s.jsxs(U,{to:"/create-service",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[s.jsx(Ie,{className:"w-8 h-8 text-black"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:"Add Service"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Create new service"})]})]}),s.jsxs(U,{to:"/bookings",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[s.jsx(Jo,{className:"w-8 h-8 text-black"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:"View Bookings"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage bookings"})]})]})]}),s.jsxs(U,{to:"/store-management",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 flex items-center space-x-3",children:[s.jsx(Yh,{className:"w-8 h-8 text-black"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:"Store Settings"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage store"})]})]})]}),d&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Subscription Status"}),s.jsxs("p",{className:"text-gray-600",children:["Status:"," ",s.jsx("span",{className:`font-medium ${d.status==="active"?"text-green-600":"text-red-600"}`,children:d.status.toUpperCase()})]}),s.jsxs("p",{className:"text-gray-600",children:["Expires: ",new Date(d.endDate).toLocaleDateString()]}),s.jsxs("p",{className:"text-gray-600",children:["Monthly Fee: ",J(d.amount)]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4 w-full md:w-auto",children:[d.status==="cancelled"&&s.jsx("button",{onClick:Y,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors w-full sm:w-auto",children:"Re-Subscribe"}),d.status!=="cancelled"&&new Date(d.startdate).getTime()+6*24*60*60*1e3<new Date().getTime()&&s.jsx("button",{onClick:$,className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors w-full sm:w-auto",children:"Cancel Subscription"})]})]})}),!d&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Subscription Status"}),s.jsxs("p",{className:"text-gray-600",children:["Status: ",s.jsx("span",{className:"text-red-600",children:"PENDING"})]}),s.jsx("p",{className:"text-red-600",children:"A subscription is required to sell your products or services on AIO."})]}),s.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4 w-full md:w-auto",children:s.jsx("button",{onClick:Y,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors w-full sm:w-auto",children:"Subscribe"})})]})}),d&&s.jsx("div",{className:`
      relative
      w-full
      rounded-lg
      px-4 py-3 mb-4
      bg-gradient-to-br
      from-[#0A0017]
      via-[#10002B]
      via-[#240046]
      via-[#3C096C]
      via-[#5A189A]
      via-[#7B2CBF]
      via-[#9D4EDD]
      to-[#C77DFF]
      shadow-2xl
      text-white
      overflow-hidden
    `,children:s.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Manage Your Package"}),s.jsxs("p",{className:"text-gray-200",children:["Current:"," ",s.jsx("span",{className:"font-semibold",children:(d==null?void 0:d.package.toUpperCase())||"BASIC"})]}),s.jsx("p",{className:"text-gray-300 sm:block",children:"You can upgrade anytime. Downgrades are allowed only after one month from your last update."})]}),s.jsx("button",{onClick:()=>{k.length>0&&(I((d==null?void 0:d.package)||k[0].name),E(!0))},className:"bg-white text-black px-3 py-1.5 rounded-md hover:bg-gray-300 transition-colors text-sm self-start md:self-center",children:"Manage"})]})}),S&&s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-6 z-50",style:{animation:"fadeIn 0.3s ease forwards"},children:[s.jsx("div",{className:"bg-gray-900 rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto border border-gray-700 shadow-xl",style:{animation:"slideUp 0.3s ease forwards"},children:s.jsx("div",{className:"p-8",children:!k.length||!P?s.jsx("p",{className:"text-center text-gray-400 text-lg font-medium",children:"Loading packages..."}):s.jsxs(s.Fragment,{children:[s.jsx(yb,{subPackage:P,setSubPackage:I}),((M=k.find(O=>O.name===P))==null?void 0:M.amount)<(d==null?void 0:d.amount)&&s.jsxs("div",{className:"mt-6 mb-6 p-5 bg-yellow-900 border border-yellow-500 rounded-lg text-yellow-300 text-sm font-semibold shadow-sm",children:[s.jsx("strong",{children:"Warning:"})," Downgrading may limit your current features or product/service capacity. This could affect your business performance. Proceed with caution."]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[s.jsx("button",{onClick:()=>E(!1),className:"px-6 py-3 border border-gray-600 rounded-lg text-gray-400 hover:text-white hover:border-gray-400 transition-colors duration-300",children:"Cancel"}),s.jsx("button",{onClick:()=>{F(),E(!1)},className:"px-6 py-3 bg-white text-black rounded-lg font-semibold hover:bg-gray-300 transition-colors duration-300",children:"Confirm Change"})]})]})})}),s.jsx("style",{jsx:!0,children:`
              @keyframes fadeIn {
                from {
                  opacity: 0;
                }
                to {
                  opacity: 1;
                }
              }
              @keyframes slideUp {
                from {
                  transform: translateY(20px);
                  opacity: 0;
                }
                to {
                  transform: translateY(0);
                  opacity: 1;
                }
              }
            `})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Orders"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.totalOrders})]}),s.jsx(We,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Bookings"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.totalBookings})]}),s.jsx(Ie,{className:"w-8 h-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Earnings"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:J((e==null?void 0:e.totalSales)||0)})]}),s.jsx(Ps,{className:"w-8 h-8 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Store Rating"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.rating)||4.5})]}),s.jsx(qi,{className:"w-8 h-8 text-purple-500"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(e==null?void 0:e.type)==="product"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Manage Products"}),s.jsx(U,{to:"/create-product",className:"text-black hover:text-gray-700 text-sm",children:"Add New"})]}),h.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(We,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No products yet"}),s.jsx(U,{to:"/create-product",className:"text-black hover:text-gray-700 text-sm",children:"Create your first product"})]}):s.jsxs("div",{className:"space-y-4",children:[h.slice(0,5).map(O=>{var z;return s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:(z=O.images)!=null&&z[0]?O.images[0].startsWith("http")?O.images[0]:`https://aio-backend-x770.onrender.com${O.images[0]}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:O.title,className:"w-12 h-12 object-cover rounded"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:O.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:[J(O.price),"  ",O.stock," in stock"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(U,{to:`/product/${O._id}`,className:"text-blue-600 hover:text-blue-800 p-1",children:s.jsx(Ye,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>D(O),className:"text-green-600 hover:text-green-800 p-1",children:s.jsx(Hi,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>K(O._id,"product"),disabled:N===O._id,className:"text-red-600 hover:text-red-800 p-1 disabled:opacity-50",children:s.jsx(Jr,{className:"w-4 h-4"})})]})]})},O._id)}),h.length>5&&s.jsx("div",{className:"text-center",children:s.jsxs(U,{to:"/manage-products",className:"text-black hover:text-gray-700 text-sm",children:["View all ",h.length," products"]})})]})]}),(e==null?void 0:e.type)==="service"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Manage Services"}),s.jsx(U,{to:"/create-service",className:"text-black hover:text-gray-700 text-sm",children:"Add New"})]}),g.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ie,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No services yet"}),s.jsx(U,{to:"/create-service",className:"text-black hover:text-gray-700 text-sm",children:"Create your first service"})]}):s.jsxs("div",{className:"space-y-4",children:[g.slice(0,5).map(O=>{var z;return s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:(z=O.images)!=null&&z[0]?O.images[0].startsWith("http")?O.images[0]:`https://aio-backend-x770.onrender.com${O.images[0]}`:"https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop",alt:O.title,className:"w-12 h-12 object-cover rounded"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:O.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:[J(O.price),"  ",O.duration," ","min"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(U,{to:`/service/${O._id}`,className:"text-blue-600 hover:text-blue-800 p-1",children:s.jsx(Ye,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>D(O),className:"text-green-600 hover:text-green-800 p-1",children:s.jsx(Hi,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>K(O._id,"service"),disabled:N===O._id,className:"text-red-600 hover:text-red-800 p-1 disabled:opacity-50",children:s.jsx(Jr,{className:"w-4 h-4"})})]})]})},O._id)}),g.length>5&&s.jsx("div",{className:"text-center",children:s.jsxs(U,{to:"/manage-services",className:"text-black hover:text-gray-700 text-sm",children:["View all ",g.length," services"]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"}),s.jsx(U,{to:(e==null?void 0:e.type)==="product"?"/orders":"/bookings",className:"text-black hover:text-gray-700 text-sm",children:"View All"})]}),((e==null?void 0:e.type)==="product"?a:l).length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recent activity"}):s.jsx("div",{className:"space-y-4",children:((e==null?void 0:e.type)==="product"?a:l).map(O=>{var z,H;return s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:(e==null?void 0:e.type)==="product"?`Order #${O._id.slice(-6)}`:((z=O.serviceId)==null?void 0:z.title)||"Service"}),s.jsx("p",{className:"text-sm text-gray-500",children:((H=O.customerId)==null?void 0:H.name)||"Customer"}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(O.createdAt).toLocaleDateString()})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:J(O.totalAmount)}),s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${O.status==="pending"?"bg-yellow-100 text-yellow-800":O.status==="confirmed"||O.status==="processing"?"bg-blue-100 text-blue-800":O.status==="completed"||O.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:O.status})]})]})},O._id)})})]})]}),y&&m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Edit ",(e==null?void 0:e.type)==="product"?"Product":"Service"]}),s.jsx("button",{onClick:()=>w(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),s.jsxs("form",{onSubmit:L,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),s.jsx("input",{type:"text",value:m.title,onChange:O=>p({...m,title:O.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:m.description,onChange:O=>p({...m,description:O.target.value}),rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (LKR)"}),s.jsx("input",{type:"number",value:m.price,onChange:O=>p({...m,price:O.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"0",step:"0.01"})]}),(e==null?void 0:e.type)==="product"?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity"}),s.jsx("input",{type:"number",value:m.stock,onChange:O=>p({...m,stock:O.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"0"})]}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),s.jsx("input",{type:"number",value:m.duration,onChange:O=>p({...m,duration:O.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"15",step:"15"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsxs("select",{value:m.category,onChange:O=>p({...m,category:O.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select a category"}),X.map(O=>s.jsx("option",{value:O,children:O},O))]})]}),(e==null?void 0:e.type)==="service"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Type"}),s.jsxs("select",{value:m.priceType||"fixed",onChange:O=>p({...m,priceType:O.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[s.jsx("option",{value:"fixed",children:"Fixed Price"}),s.jsx("option",{value:"hourly",children:"Hourly Rate"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800",children:["Update ",(e==null?void 0:e.type)==="product"?"Product":"Service"]})]})]})]})})})]})})},SP=({selectedColor:t,onColorChange:e,className:r=""})=>{const n=[{name:"Classic Black",value:"#000000",preview:"bg-black"},{name:"Pure White",value:"#FFFFFF",preview:"bg-white border-2 border-gray-300"},{name:"Slate Gray",value:"#64748b",preview:"bg-slate-500"},{name:"Royal Blue",value:"#2563eb",preview:"bg-blue-600"},{name:"Emerald Green",value:"#059669",preview:"bg-emerald-600"},{name:"Crimson Red",value:"#dc2626",preview:"bg-red-600"},{name:"Amber Orange",value:"#d97706",preview:"bg-amber-600"},{name:"Violet Purple",value:"#7c3aed",preview:"bg-violet-600"},{name:"Rose Pink",value:"#e11d48",preview:"bg-rose-600"},{name:"Teal",value:"#0d9488",preview:"bg-teal-600"},{name:"Indigo",value:"#4f46e5",preview:"bg-indigo-600"},{name:"Lime Green",value:"#65a30d",preview:"bg-lime-600"}];return s.jsxs("div",{className:`space-y-4 ${r}`,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(TC,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Store Theme Color"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Choose from preset colors"}),s.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:n.map(i=>s.jsxs("button",{type:"button",onClick:()=>e(i.value),className:`group relative p-3 rounded-lg border-2 transition-all hover:scale-105 ${t===i.value?"border-black ring-2 ring-black ring-opacity-50":"border-gray-200 hover:border-gray-300"}`,title:i.name,children:[s.jsx("div",{className:`w-full h-8 rounded ${i.preview} mb-2`}),s.jsx("p",{className:"text-xs text-gray-600 text-center truncate",children:i.name}),t===i.value&&s.jsx("div",{className:"absolute top-1 right-1 w-3 h-3 bg-black rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]},i.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or choose a custom color"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"color",value:t,onChange:i=>e(i.target.value),className:"w-16 h-12 border border-gray-300 rounded-lg cursor-pointer"})}),s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",value:t,onChange:i=>e(i.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent font-mono",placeholder:"#000000",pattern:"^#[0-9A-Fa-f]{6}$"})})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Theme Preview"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-4 rounded-lg text-white",style:{backgroundColor:t},children:[s.jsx("h5",{className:"font-semibold",children:"Your Store Name"}),s.jsx("p",{className:"text-sm opacity-90",children:"This is how your store theme will look"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-4 py-2 rounded-lg text-white font-medium",style:{backgroundColor:t},children:"Primary Button"}),s.jsx("button",{className:"px-4 py-2 rounded-lg font-medium border-2",style:{borderColor:t,color:t,backgroundColor:"transparent"},children:"Secondary Button"})]})]})]})]})},kP=({timeSlots:t=[],onTimeSlotsChange:e,className:r=""})=>{const[n,i]=j.useState({day:"monday",startTime:"09:00",endTime:"17:00"}),a=[{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}],l=(()=>{const h=[];for(let f=0;f<24;f++)for(let g=0;g<60;g+=30){const x=`${f.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`;h.push(x)}return h})(),c=()=>{if(n.startTime>=n.endTime){alert("End time must be after start time");return}if(t.some(g=>g.day===n.day&&(n.startTime>=g.startTime&&n.startTime<g.endTime||n.endTime>g.startTime&&n.endTime<=g.endTime||n.startTime<=g.startTime&&n.endTime>=g.endTime))){alert("Time slot overlaps with existing slot for this day");return}const f=[...t,{...n}];e(f),i({day:"monday",startTime:"09:00",endTime:"17:00"})},d=h=>{const f=t.filter((g,x)=>x!==h);e(f)},u=h=>t.filter(f=>f.day===h);return s.jsxs("div",{className:`space-y-6 ${r}`,children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(yr,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Operating Hours"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Add Time Slot"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsx("select",{value:n.day,onChange:h=>i({...n,day:h.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:a.map(h=>s.jsx("option",{value:h.value,children:h.label},h.value))}),s.jsx("select",{value:n.startTime,onChange:h=>i({...n,startTime:h.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:l.map(h=>s.jsx("option",{value:h,children:h},h))}),s.jsx("select",{value:n.endTime,onChange:h=>i({...n,endTime:h.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:l.map(h=>s.jsx("option",{value:h,children:h},h))}),s.jsxs("button",{onClick:c,type:"button",className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Bt,{className:"w-4 h-4"}),s.jsx("span",{children:"Add"})]})]})]}),s.jsx("div",{className:"space-y-4",children:a.map(h=>{const f=u(h.value);return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:h.label}),f.length===0?s.jsx("p",{className:"text-gray-500 text-sm",children:"Closed"}):s.jsx("div",{className:"space-y-2",children:f.map((g,x)=>{const b=t.findIndex(v=>v.day===g.day&&v.startTime===g.startTime&&v.endTime===g.endTime);return s.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[s.jsxs("span",{className:"text-sm",children:[g.startTime," - ",g.endTime]}),s.jsx("button",{type:"button",onClick:()=>d(b),className:"text-red-500 hover:text-red-700 transition-colors",children:s.jsx(Jr,{className:"w-4 h-4"})})]},x)})})]},h.value)})})]})},_P=()=>{const[t,e]=j.useState({name:"",type:"product",description:"",themeColor:"#000000",contactInfo:{email:"",phone:"",address:""}}),[r,n]=j.useState([]),[i,a]=j.useState([]),[o,l]=j.useState(!1),[c,d]=j.useState(""),[u,h]=j.useState(!0),[f,g]=j.useState(!1),[x,b]=j.useState("basic"),{user:v,refreshUser:m}=Ee(),p=lt();j.useEffect(()=>{v&&(v.role==="store_owner"&&v.storeId?p("/dashboard"):h(!1))},[v,p]),j.useEffect(()=>{if(window.payhere)g(!0);else{const _=document.createElement("script");_.src="https://sandbox.payhere.lk/lib/payhere.js",_.async=!0,_.onload=()=>g(!0),_.onerror=()=>{console.error("PayHere SDK failed to load"),g(!1)},document.body.appendChild(_)}},[]);const y=async _=>{_.preventDefault(),l(!0),d("");try{const S=r.map(async C=>{const F=Cs(Ts,`stores/${Date.now()}_${C.name}`);return await _s(F,C),Es(F)}),E=await Promise.all(S),k={name:t.name,type:t.type,description:t.description,themeColor:t.themeColor,contactInfo:t.contactInfo,timeSlots:i,heroImages:E},T=await fetch("https://aio-backend-x770.onrender.com/api/stores",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(k)});if(!T.ok){const C=await T.json();throw new Error(C.error||"Failed to create store")}const P=await fetch("https://aio-backend-x770.onrender.com/api/subscriptions/create-subscription",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({packageName:x})});if(!P.ok)return alert("Store created, but failed to start subscription. Please contact support."),await m(),p("/dashboard");const{paymentParams:I}=await P.json();await w(I),alert("Subscription payment successful!"),await m(),p("/dashboard")}catch(S){console.error("Error:",S),d(S.message||"Something went wrong. Please try again.")}finally{l(!1)}},w=_=>new Promise((S,E)=>{if(!window.payhere)return alert("Payment gateway not loaded. Please refresh and try again."),E(new Error("PayHere SDK not loaded"));window.payhere.onCompleted=function(k){console.log(" Payment completed. Order ID:",k),S(k)},window.payhere.onDismissed=function(){alert("Payment was cancelled."),E(new Error("Payment cancelled"))},window.payhere.onError=function(k){console.error(" PayHere error:",k),alert("Payment failed. Please try again."),E(new Error("Payment error: "+k))},console.log(" Starting PayHere payment with:",_),window.payhere.startPayment(_)}),N=_=>{const{name:S,value:E}=_.target;if(S.startsWith("contactInfo.")){const k=S.split(".")[1];e(T=>({...T,contactInfo:{...T.contactInfo,[k]:E}}))}else e({...t,[S]:E})};return u?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Fe,{size:"xl"})}):v?v.role==="customer"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md",children:[s.jsx(pt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Upgrade to Store Owner"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You need a store owner account to create a store. Please create a new store owner account."}),s.jsx(U,{to:"/register",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Create Store Owner Account"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsxs("div",{className:"text-white px-8 py-8",style:{backgroundColor:t.themeColor},children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create Your Store"}),s.jsx("p",{className:"opacity-90",children:"Start your entrepreneurial journey with AIO"})]}),s.jsx("div",{className:"p-8",children:s.jsxs("form",{onSubmit:y,className:"space-y-8",children:[c&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"What type of store do you want to create?"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>e({...t,type:"product"}),className:`p-6 rounded-xl border-2 text-left transition-all hover:shadow-md ${t.type==="product"?"border-black bg-black text-white":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(We,{className:"w-8 h-8 mb-3"}),s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Product Store"}),s.jsx("p",{className:"text-sm opacity-80",children:"Sell physical products with inventory management and shipping"})]}),s.jsxs("button",{type:"button",onClick:()=>e({...t,type:"service"}),className:`p-6 rounded-xl border-2 text-left transition-all hover:shadow-md ${t.type==="service"?"border-black bg-black text-white":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(Ie,{className:"w-8 h-8 mb-3"}),s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Service Store"}),s.jsx("p",{className:"text-sm opacity-80",children:"Offer services with booking, scheduling, and appointment management"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Name *"}),s.jsx("input",{type:"text",name:"name",value:t.name,onChange:N,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Enter your store name"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Description *"}),s.jsx("textarea",{name:"description",value:t.description,onChange:N,required:!0,rows:4,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"Describe your store and what you offer to customers"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(Rl,{className:"w-5 h-5"}),s.jsx("span",{children:"Contact Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center space-x-2",children:[s.jsx(Fs,{className:"w-4 h-4"}),s.jsx("span",{children:"Email"})]}),s.jsx("input",{type:"email",name:"contactInfo.email",value:t.contactInfo.email,onChange:N,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"store@example.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center space-x-2",children:[s.jsx(Gh,{className:"w-4 h-4"}),s.jsx("span",{children:"Phone"})]}),s.jsx("input",{type:"tel",name:"contactInfo.phone",value:t.contactInfo.phone,onChange:N,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"+94 77 123 4567"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("textarea",{name:"contactInfo.address",value:t.contactInfo.address,onChange:N,required:!0,rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-colors",placeholder:"123 Main Street, Colombo, Sri Lanka"})]})]}),s.jsx(yb,{subPackage:x,setSubPackage:b}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>p("/"),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:o,className:"bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[o&&s.jsx(Fe,{size:"sm"}),s.jsx("span",{children:o?"Creating Store...":"Create Store"})]})]})]})})]})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to create a store"}),s.jsx(U,{to:"/login",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Login"})]})})},EP=()=>{const[t,e]=j.useState({title:"",description:"",price:"",category:"",stock:""}),[r,n]=j.useState([]),[i,a]=j.useState(!1),[o,l]=j.useState(""),{user:c}=Ee(),d=lt(),u=["Electronics","Clothing","Home & Garden","Sports & Outdoors","Books","Beauty & Health","Toys & Games","Food & Beverages"],h=async g=>{g.preventDefault(),a(!0),l("");try{const x=r.map(async p=>{const y=Cs(Ts,`products/${Date.now()}_${p.name}`);return await _s(y,p),Es(y)}),b=await Promise.all(x),v={title:t.title,description:t.description,price:t.price,category:t.category,stock:t.stock,images:b},m=await fetch("https://aio-backend-x770.onrender.com/api/products",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(v)});if(m.ok)d("/dashboard");else{const p=await m.json();l(p.error||"Failed to create product")}}catch{l("Network error. Please try again.")}finally{a(!1)}},f=g=>{e({...t,[g.target.name]:g.target.value})};return!c||c.role!=="store_owner"?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600",children:"You need to be a store owner to create products"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Product"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Add a new product to your store"})]}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Title"}),s.jsx("input",{type:"text",name:"title",value:t.title,onChange:f,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Enter product title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{name:"description",value:t.description,onChange:f,required:!0,rows:4,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Describe your product"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (LKR)"}),s.jsx("input",{type:"number",name:"price",value:t.price,onChange:f,required:!0,min:"0",step:"0.01",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity"}),s.jsx("input",{type:"number",name:"stock",value:t.stock,onChange:f,required:!0,min:"0",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"0"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsxs("select",{name:"category",value:t.category,onChange:f,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a category"}),u.map(g=>s.jsx("option",{value:g,children:g},g))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images (up to 10)"}),s.jsx(xf,{images:r,onImagesChange:n,maxImages:10,multiple:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>d("/dashboard"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[i&&s.jsx(Fe,{size:"sm"}),s.jsx("span",{children:i?"Creating...":"Create Product"})]})})]})]})]})})})},CP=()=>{const[t,e]=j.useState({title:"",description:"",price:"",priceType:"fixed",category:"",duration:"60"}),[r,n]=j.useState([]),[i,a]=j.useState([]),[o,l]=j.useState(!1),[c,d]=j.useState(""),{user:u}=Ee(),h=lt(),f=["Tutoring","Home Services","Beauty & Wellness","Consulting","Fitness","Technology","Creative Services","Professional Services"],x=(()=>{const _=[];for(let S=6;S<22;S++)for(let E=0;E<60;E+=30){const k=`${S.toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}`;_.push(k)}return _})(),b=()=>{a([...i,{startTime:"09:00",endTime:"17:00"}])},v=(_,S,E)=>{const k=i.map((T,P)=>P===_?{...T,[S]:E}:T);a(k)},m=_=>{a(i.filter((S,E)=>E!==_))},p=_=>{const[S,E]=_.split(":").map(Number);return S*60+E},y=()=>{const _=i.map(S=>({start:p(S.startTime),end:p(S.endTime)})).sort((S,E)=>S.start-E.start);for(let S=0;S<_.length-1;S++)if(_[S].end>_[S+1].start)return!0;return!1},w=async _=>{if(_.preventDefault(),l(!0),d(""),y()){d("Overlapping time slots detected. Please fix them."),l(!1);return}try{const S=r.map(async P=>{const I=Cs(Ts,`services/${Date.now()}_${P.name}`);return await _s(I,P),Es(I)}),E=await Promise.all(S),k={title:t.title,description:t.description,price:t.price,priceType:t.priceType,category:t.category,duration:t.duration,timeSlots:i,images:E},T=await fetch("https://aio-backend-x770.onrender.com/api/services",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(k)});if(T.ok)h("/dashboard");else{const P=await T.json();d(P.error||"Failed to create service")}}catch{d("Network error. Please try again.")}finally{l(!1)}},N=_=>{e({...t,[_.target.name]:_.target.value})};return!u||u.role!=="store_owner"?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600",children:"You need to be a store owner to create services"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>h("/dashboard"),className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors mb-4",children:[s.jsx(an,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Dashboard"})]}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Service"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Add a new service to your store"})]}),s.jsxs("form",{onSubmit:w,className:"space-y-8",children:[c&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:c}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Title *"}),s.jsx("input",{type:"text",name:"title",value:t.title,onChange:N,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Enter service title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{name:"description",value:t.description,onChange:N,required:!0,rows:4,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Describe your service"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (LKR) *"}),s.jsx("input",{type:"number",name:"price",value:t.price,onChange:N,required:!0,min:"0",step:"0.01",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Type *"}),s.jsxs("select",{name:"priceType",value:t.priceType,onChange:N,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[s.jsx("option",{value:"fixed",children:"Fixed Price"}),s.jsx("option",{value:"hourly",children:"Hourly Rate"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),s.jsx("input",{type:"number",name:"duration",value:t.duration,onChange:N,required:!0,min:"15",step:"15",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"60"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{name:"category",value:t.category,onChange:N,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a category"}),f.map(_=>s.jsx("option",{value:_,children:_},_))]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[s.jsx(yr,{className:"w-5 h-5"}),s.jsx("span",{children:"Available Time Slots"})]}),s.jsxs("button",{type:"button",onClick:b,className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors flex items-center space-x-2",children:[s.jsx(Bt,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Time Slot"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"})," Customers can book your service on any date, but only during the time slots you specify here. Add multiple time slots to give customers more booking options."]})}),i.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx(yr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No time slots added yet"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Add time slots to specify when your service is available"})]}):s.jsx("div",{className:"space-y-4",children:i.map((_,S)=>s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time"}),s.jsx("select",{value:_.startTime,onChange:E=>v(S,"startTime",E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:x.map(E=>s.jsx("option",{value:E,children:E},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time"}),s.jsx("select",{value:_.endTime,onChange:E=>v(S,"endTime",E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:x.map(E=>s.jsx("option",{value:E,children:E},E))})]}),s.jsxs("button",{type:"button",onClick:()=>m(S),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center space-x-2",children:[s.jsx(Jr,{className:"w-4 h-4"}),s.jsx("span",{children:"Remove Time Slot"})]})]})},S))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Images (up to 5)"}),s.jsx(xf,{images:r,onImagesChange:n,maxImages:5,multiple:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>h("/dashboard"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:o,className:"bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[o&&s.jsx(Fe,{size:"sm"}),s.jsx("span",{children:o?"Creating...":"Create Service"})]})})]})]})]})})})},TP=()=>{const{user:t}=Ee(),e=lt(),[r,n]=j.useState([]),[i,a]=j.useState(!0),[o,l]=j.useState(null),[c,d]=j.useState(null),[u,h]=j.useState(!1);j.useEffect(()=>{(t==null?void 0:t.role)==="store_owner"&&(t!=null&&t.storeId)?f():e("/dashboard")},[t,e]);const f=async()=>{try{a(!0);const v=await fetch(`https://aio-backend-x770.onrender.com/api/products?storeId=${t.storeId}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(v.ok){const m=await v.json();n(m)}else console.error("Failed to fetch products")}catch(v){console.error("Error fetching products:",v)}finally{a(!1)}},g=async v=>{if(confirm("Are you sure you want to delete this product?")){l(v);try{(await fetch(`https://aio-backend-x770.onrender.com/api/products/${v}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(n(r.filter(p=>p._id!==v)),alert("Product deleted successfully!")):alert("Failed to delete product")}catch(m){console.error("Error deleting product:",m),alert("Error deleting product")}finally{l(null)}}},x=v=>{var m,p;d({...v,price:((m=v.price)==null?void 0:m.toString())||"",stock:((p=v.stock)==null?void 0:p.toString())||""}),h(!0)},b=async v=>{v.preventDefault();try{const m={title:c.title,description:c.description,price:parseFloat(c.price),category:c.category,stock:parseInt(c.stock,10)};(await fetch(`https://aio-backend-x770.onrender.com/api/products/${c._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(m)})).ok?(f(),h(!1),d(null),alert("Product updated successfully!")):alert("Failed to update product")}catch(m){console.error("Error updating product:",m),alert("Error updating product")}};return!t||t.role!=="store_owner"?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600",children:"You need to be a store owner to access this page"})]})}):i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Fe,{size:"xl"})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(U,{to:"/dashboard",className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors mb-4",children:[s.jsx(an,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Dashboard"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Products"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Add, edit, and manage your products"})]}),s.jsxs(U,{to:"/create-product",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors flex items-center space-x-2",children:[s.jsx(Bt,{className:"w-5 h-5"}),s.jsx("span",{children:"Add New Product"})]})]})]}),r.length===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[s.jsx(We,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Products Yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Start by creating your first product"}),s.jsxs(U,{to:"/create-product",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors inline-flex items-center space-x-2",children:[s.jsx(Bt,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Product"})]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(v=>{var m;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:(m=v.images)!=null&&m[0]?v.images[0].startsWith("http")?v.images[0]:`https://aio-backend-x770.onrender.com${v.images[0]}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:v.title,className:"w-full h-48 object-cover"}),s.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 rounded text-sm ${v.isActive?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:v.isActive?"Active":"Inactive"})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:v.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:v.description}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-2xl font-bold",children:J(v.price)}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Me,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:"4.5"})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"text-sm text-gray-500",children:v.stock>0?`${v.stock} in stock`:"Out of stock"}),s.jsx("span",{className:"text-sm text-gray-500 capitalize",children:v.category})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(U,{to:`/product/${v._id}`,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded text-sm hover:bg-gray-200 transition-colors flex items-center justify-center space-x-1",children:[s.jsx(Ye,{className:"w-4 h-4"}),s.jsx("span",{children:"View"})]}),s.jsxs("button",{onClick:()=>x(v),className:"flex-1 bg-blue-500 text-white py-2 px-3 rounded text-sm hover:bg-blue-600 transition-colors flex items-center justify-center space-x-1",children:[s.jsx(Hi,{className:"w-4 h-4"}),s.jsx("span",{children:"Edit"})]}),s.jsxs("button",{onClick:()=>g(v._id),disabled:o===v._id,className:"flex-1 bg-red-500 text-white py-2 px-3 rounded text-sm hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center justify-center space-x-1",children:[s.jsx(Jr,{className:"w-4 h-4"}),s.jsx("span",{children:o===v._id?"Deleting...":"Delete"})]})]})]})]},v._id)})}),u&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Product"}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Title"}),s.jsx("input",{type:"text",value:c.title,onChange:v=>d({...c,title:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:c.description,onChange:v=>d({...c,description:v.target.value}),rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (LKR)"}),s.jsx("input",{type:"number",value:c.price,onChange:v=>d({...c,price:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity"}),s.jsx("input",{type:"number",value:c.stock,onChange:v=>d({...c,stock:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"0"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsxs("select",{value:c.category,onChange:v=>d({...c,category:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select a category"}),s.jsx("option",{value:"Electronics",children:"Electronics"}),s.jsx("option",{value:"Clothing",children:"Clothing"}),s.jsx("option",{value:"Home & Garden",children:"Home & Garden"}),s.jsx("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),s.jsx("option",{value:"Books",children:"Books"}),s.jsx("option",{value:"Beauty & Health",children:"Beauty & Health"}),s.jsx("option",{value:"Toys & Games",children:"Toys & Games"}),s.jsx("option",{value:"Food & Beverages",children:"Food & Beverages"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800",children:"Update Product"})]})]})]})})})]})})},IP=()=>{const{user:t}=Ee(),e=lt(),[r,n]=j.useState([]),[i,a]=j.useState(!0),[o,l]=j.useState(null),[c,d]=j.useState(null),[u,h]=j.useState(!1);j.useEffect(()=>{(t==null?void 0:t.role)==="store_owner"&&(t!=null&&t.storeId)?f():e("/dashboard")},[t,e]);const f=async()=>{try{a(!0);const v=await fetch(`https://aio-backend-x770.onrender.com/api/services?storeId=${t.storeId}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(v.ok){const m=await v.json();n(m)}else console.error("Failed to fetch services")}catch(v){console.error("Error fetching services:",v)}finally{a(!1)}},g=async v=>{if(confirm("Are you sure you want to delete this service?")){l(v);try{(await fetch(`https://aio-backend-x770.onrender.com/api/services/${v}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(n(r.filter(p=>p._id!==v)),alert("Service deleted successfully!")):alert("Failed to delete service")}catch(m){console.error("Error deleting service:",m),alert("Error deleting service")}finally{l(null)}}},x=v=>{d({...v,price:v.price.toString(),duration:v.duration.toString()}),h(!0)},b=async v=>{v.preventDefault();try{const m={title:c.title,description:c.description,price:c.price,priceType:c.priceType,category:c.category,duration:c.duration};(await fetch(`https://aio-backend-x770.onrender.com/api/services/${c._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(m)})).ok?(f(),h(!1),d(null),alert("Service updated successfully!")):alert("Failed to update service")}catch(m){console.error("Error updating service:",m),alert("Error updating service")}};return!t||t.role!=="store_owner"?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600",children:"You need to be a store owner to access this page"})]})}):i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Fe,{size:"xl"})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(U,{to:"/dashboard",className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors mb-4",children:[s.jsx(an,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Dashboard"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Services"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Add, edit, and manage your services"})]}),s.jsxs(U,{to:"/create-service",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors flex items-center space-x-2",children:[s.jsx(Bt,{className:"w-5 h-5"}),s.jsx("span",{children:"Add New Service"})]})]})]}),r.length===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[s.jsx(Ie,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Services Yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Start by creating your first service"}),s.jsxs(U,{to:"/create-service",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors inline-flex items-center space-x-2",children:[s.jsx(Bt,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Service"})]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(v=>{var m;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:(m=v.images)!=null&&m[0]?v.images[0].startsWith("http")?v.images[0]:`https://aio-backend-x770.onrender.com${v.images[0]}`:"https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop",alt:v.title,className:"w-full h-48 object-cover"}),s.jsx("div",{className:"absolute top-2 left-2 bg-black text-white px-2 py-1 rounded text-sm",children:v.priceType}),s.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 rounded text-sm ${v.isActive?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:v.isActive?"Active":"Inactive"})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:v.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:v.description}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-2xl font-bold",children:[J(v.price),s.jsx("span",{className:"text-sm text-gray-500 ml-1",children:v.priceType==="hourly"?"/hour":""})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Me,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:"4.5"})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[s.jsx(yr,{className:"w-4 h-4"}),s.jsxs("span",{children:[v.duration," min"]})]}),s.jsx("span",{className:"text-sm text-gray-500 capitalize",children:v.category})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(U,{to:`/service/${v._id}`,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded text-sm hover:bg-gray-200 transition-colors flex items-center justify-center space-x-1",children:[s.jsx(Ye,{className:"w-4 h-4"}),s.jsx("span",{children:"View"})]}),s.jsxs("button",{onClick:()=>x(v),className:"flex-1 bg-blue-500 text-white py-2 px-3 rounded text-sm hover:bg-blue-600 transition-colors flex items-center justify-center space-x-1",children:[s.jsx(Hi,{className:"w-4 h-4"}),s.jsx("span",{children:"Edit"})]}),s.jsxs("button",{onClick:()=>g(v._id),disabled:o===v._id,className:"flex-1 bg-red-500 text-white py-2 px-3 rounded text-sm hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center justify-center space-x-1",children:[s.jsx(Jr,{className:"w-4 h-4"}),s.jsx("span",{children:o===v._id?"Deleting...":"Delete"})]})]})]})]},v._id)})}),u&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Service"}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Title"}),s.jsx("input",{type:"text",value:c.title,onChange:v=>d({...c,title:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:c.description,onChange:v=>d({...c,description:v.target.value}),rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (LKR)"}),s.jsx("input",{type:"number",value:c.price,onChange:v=>d({...c,price:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),s.jsx("input",{type:"number",value:c.duration,onChange:v=>d({...c,duration:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,min:"15",step:"15"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Type"}),s.jsxs("select",{value:c.priceType,onChange:v=>d({...c,priceType:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[s.jsx("option",{value:"fixed",children:"Fixed Price"}),s.jsx("option",{value:"hourly",children:"Hourly Rate"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsxs("select",{value:c.category,onChange:v=>d({...c,category:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select a category"}),s.jsx("option",{value:"Tutoring",children:"Tutoring"}),s.jsx("option",{value:"Home Services",children:"Home Services"}),s.jsx("option",{value:"Beauty & Wellness",children:"Beauty & Wellness"}),s.jsx("option",{value:"Consulting",children:"Consulting"}),s.jsx("option",{value:"Fitness",children:"Fitness"}),s.jsx("option",{value:"Technology",children:"Technology"}),s.jsx("option",{value:"Creative Services",children:"Creative Services"}),s.jsx("option",{value:"Professional Services",children:"Professional Services"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800",children:"Update Service"})]})]})]})})})]})})},dg=({status:t,type:e="order"})=>{const n=(()=>{var a;return((a={order:{pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pending"},accepted:{bg:"bg-blue-100",text:"text-blue-800",label:"Accepted"},processing:{bg:"bg-blue-100",text:"text-blue-800",label:"Processing"},ready:{bg:"bg-indigo-100",text:"text-indigo-800",label:"Ready for Pickup"},shipped:{bg:"bg-purple-100",text:"text-purple-800",label:"Shipped"},delivered:{bg:"bg-green-100",text:"text-green-800",label:"Delivered"},cancelled:{bg:"bg-red-100",text:"text-red-800",label:"Cancelled"}},booking:{pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pending"},confirmed:{bg:"bg-blue-100",text:"text-blue-800",label:"Confirmed"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},cancelled:{bg:"bg-red-100",text:"text-red-800",label:"Cancelled"}},payment:{pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pending"},paid:{bg:"bg-green-100",text:"text-green-800",label:"Paid"},failed:{bg:"bg-red-100",text:"text-red-800",label:"Failed"},refunded:{bg:"bg-gray-100",text:"text-gray-800",label:"Refunded"}}}[e])==null?void 0:a[t])||{bg:"bg-gray-100",text:"text-gray-800",label:t}})();return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n.bg} ${n.text}`,children:n.label})},PP=()=>{var k,T,P;const{user:t}=Ee(),[e,r]=j.useState([]),[n,i]=j.useState(!0),[a,o]=j.useState("all"),[l,c]=j.useState(null);j.useState(null);const[d,u]=j.useState(!1),[h,f]=j.useState(null),[g,x]=j.useState({rating:5,comment:""}),[b,v]=j.useState(!1);j.useEffect(()=>{if(t){m();const I=setInterval(m,3e4);return()=>clearInterval(I)}},[t]);const m=async()=>{try{i(!0);const I=t.role==="store_owner"?"/api/orders/store":"/api/orders/customer",C=await fetch(`https://aio-backend-x770.onrender.com${I}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(C.ok){const F=await C.json();r(F)}}catch(I){console.error("Error fetching orders:",I)}finally{i(!1)}},p=async(I,C,F="")=>{try{(await fetch(`https://aio-backend-x770.onrender.com/api/orders/${I}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:C,notes:F})})).ok&&(m(),c(null))}catch(V){console.error("Error updating order status:",V)}},y=I=>{f(I),x({rating:5,comment:""}),u(!0)},w=async I=>{I.preventDefault(),v(!0);try{const C=await fetch("https://aio-backend-x770.onrender.com/api/reviews",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({storeId:h.storeId._id||h.storeId,orderId:h._id,rating:g.rating,comment:g.comment})});if(C.ok)alert("Review submitted successfully!"),u(!1),f(null),m();else{const F=await C.json();alert(`Error: ${F.error}`)}}catch(C){console.error("Error submitting review:",C),alert("Failed to submit review. Please try again.")}finally{v(!1)}},N=I=>{switch(I){case"pending":return s.jsx(yr,{className:"w-4 h-4"});case"accepted":return s.jsx(Is,{className:"w-4 h-4"});case"processing":return s.jsx(We,{className:"w-4 h-4"});case"ready":return s.jsx(We,{className:"w-4 h-4"});case"shipped":return s.jsx(Mm,{className:"w-4 h-4"});case"delivered":return s.jsx(Is,{className:"w-4 h-4"});case"cancelled":return s.jsx(Zo,{className:"w-4 h-4"});default:return s.jsx(We,{className:"w-4 h-4"})}},_=I=>{const C=new Date(I.createdAt),V=(new Date-C)/(1e3*60);return Math.max(0,5-V)},S=({order:I})=>{const[C,F]=j.useState(_(I));if(j.useEffect(()=>{const Y=setInterval(()=>{const A=_(I);F(A),A<=0&&clearInterval(Y)},1e3);return()=>clearInterval(Y)},[I]),C<=0||I.status!=="pending")return null;const V=Math.floor(C),$=Math.floor((C-V)*60);return s.jsxs("div",{className:"flex items-center space-x-2 text-orange-600 bg-orange-50 px-3 py-1 rounded-full",children:[s.jsx(MC,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm font-medium",children:["Cancel within: ",V,":",$.toString().padStart(2,"0")]})]})},E=e.filter(I=>a==="all"||I.status===a);return t?n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Fe,{size:"xl"})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.role==="store_owner"?"Store Orders":"My Orders"}),s.jsxs("p",{className:"text-gray-600 mt-2",children:[e.length," order",e.length!==1?"s":""," found"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"All Orders"},{key:"pending",label:"Pending"},{key:"accepted",label:"Accepted"},{key:"processing",label:"Processing"},{key:"ready",label:"Ready"},{key:"shipped",label:"Shipped"},{key:"delivered",label:"Delivered"},{key:"cancelled",label:"Cancelled"}].map(({key:I,label:C})=>s.jsx("button",{onClick:()=>o(I),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===I?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:C},I))})}),E.length===0?s.jsx($l,{icon:We,title:"No orders found",description:"You haven't placed any orders yet or no orders match your current filter."}):s.jsx("div",{className:"space-y-6",children:E.map(I=>{var C,F,V;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[N(I.status),s.jsxs("span",{className:"font-semibold text-gray-900",children:["Order #",I._id.slice(-8)]})]}),s.jsx(dg,{status:I.status}),t.role==="customer"&&s.jsx(S,{order:I})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Order Date"}),s.jsx("p",{className:"font-medium text-gray-900",children:new Date(I.createdAt).toLocaleDateString()})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Items:"}),s.jsx("div",{className:"space-y-2",children:I.items.map(($,Y)=>{var A,D,L,K;return s.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 p-3 rounded-lg",children:[s.jsx("img",{src:(D=(A=$.productId)==null?void 0:A.images)!=null&&D[0]?$.productId.images[0].startsWith("http")?$.productId.images[0]:`https://aio-backend-x770.onrender.com${$.productId.images[0]}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:((L=$.productId)==null?void 0:L.title)||"Product",className:"w-12 h-12 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:((K=$.productId)==null?void 0:K.title)||"Product"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",$.quantity]})]}),s.jsxs("p",{className:"font-medium text-gray-900",children:["LKR ",($.price*$.quantity).toFixed(2)]})]},Y)})})]}),I.status==="delivered"&&t.role==="customer"&&s.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Order Completed"}),s.jsx("p",{className:"text-sm text-green-700 mb-3",children:"How was your experience with this order?"}),s.jsx("button",{onClick:()=>y(I),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Write a Review"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:t.role==="store_owner"?"Customer":"Store"}),s.jsx("p",{className:"font-medium text-gray-900",children:t.role==="store_owner"?((C=I.customerId)==null?void 0:C.name)||"Unknown Customer":((F=I.storeId)==null?void 0:F.name)||"Unknown Store"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-gray-900",children:["LKR ",I.totalAmount]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Payment Status"}),s.jsx("p",{className:"font-medium text-green-600",children:((V=I.paymentDetails)==null?void 0:V.paymentStatus)||"Paid"})]})]}),I.shippingAddress&&s.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Rl,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Shipping Address:"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[I.shippingAddress.street,","," ",I.shippingAddress.city,",",I.shippingAddress.state," ",I.shippingAddress.zipCode]})]})]})}),I.trackingNumber&&s.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mm,{className:"w-4 h-4 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Tracking Number:"}),s.jsx("p",{className:"text-sm text-blue-700 font-mono",children:I.trackingNumber})]})]})}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("button",{onClick:()=>c(I),className:"flex items-center space-x-2 text-black hover:text-gray-700 transition-colors",children:[s.jsx(Ye,{className:"w-4 h-4"}),s.jsx("span",{children:"View Details"})]})}),s.jsx("div",{className:"flex items-center space-x-2",children:t.role==="store_owner"&&s.jsxs(s.Fragment,{children:[I.status==="pending"&&s.jsx("button",{onClick:()=>p(I._id,"accepted"),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors text-sm",children:"Accept Order"}),I.status==="accepted"&&s.jsx("button",{onClick:()=>p(I._id,"processing"),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Start Processing"}),I.status==="processing"&&s.jsx("button",{onClick:()=>p(I._id,"ready"),className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors text-sm",children:"Mark Ready"}),I.status==="ready"&&s.jsx("button",{onClick:()=>p(I._id,"shipped"),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm",children:"Ship Order"}),I.status==="shipped"&&s.jsx("button",{onClick:()=>p(I._id,"delivered"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Mark Delivered"}),I.status!=="cancelled"&&I.status!=="delivered"&&s.jsx("button",{onClick:()=>p(I._id,"cancelled"),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors text-sm",children:"Cancel Order"})]})})]})]},I._id)})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Order Details #",l._id.slice(-8)]}),s.jsx("button",{onClick:()=>c(null),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(dg,{status:l.status}),s.jsxs("span",{className:"text-gray-600",children:["Ordered on"," ",new Date(l.createdAt).toLocaleDateString()]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Order Items"}),s.jsx("div",{className:"space-y-3",children:l.items.map((I,C)=>{var F,V,$,Y;return s.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[s.jsx("img",{src:(V=(F=I.productId)==null?void 0:F.images)!=null&&V[0]?I.productId.images[0].startsWith("http")?I.productId.images[0]:`https://aio-backend-x770.onrender.com${I.productId.images[0]}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:(($=I.productId)==null?void 0:$.title)||"Product",className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:((Y=I.productId)==null?void 0:Y.title)||"Product"}),s.jsxs("p",{className:"text-gray-600",children:["Quantity: ",I.quantity]}),s.jsxs("p",{className:"text-gray-600",children:["Price: LKR ",I.price]})]}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["LKR ",(I.price*I.quantity).toFixed(2)]})]},C)})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Order Summary"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsxs("span",{children:["LKR ",l.storeAmount]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Platform Fee:"}),s.jsxs("span",{children:["LKR ",l.platformFee]})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["LKR ",l.totalAmount]})]})]})]}),l.shippingAddress&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Shipping Address"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("p",{children:l.shippingAddress.street}),s.jsxs("p",{children:[l.shippingAddress.city,","," ",l.shippingAddress.state]}),s.jsxs("p",{children:[l.shippingAddress.zipCode,","," ",l.shippingAddress.country]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Payment Details"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",((k=l.paymentDetails)==null?void 0:k.paymentStatus)||"Paid"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Method:"})," ",((T=l.paymentDetails)==null?void 0:T.paymentMethod)||"Local Payment"]}),((P=l.paymentDetails)==null?void 0:P.paidAt)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Paid At:"})," ",new Date(l.paymentDetails.paidAt).toLocaleString()]})]})]})]})]})})})]}),d&&h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Write a Review"}),s.jsx("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),s.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(I=>s.jsx("button",{type:"button",onClick:()=>x({...g,rating:I}),className:`w-8 h-8 ${I<=g.rating?"text-yellow-400 fill-current":"text-gray-300"}`,children:s.jsx(Me,{className:"w-full h-full"})},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),s.jsx("textarea",{value:g.comment,onChange:I=>x({...g,comment:I.target.value}),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Share your experience with this order...",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 disabled:opacity-50",children:b?"Submitting...":"Submit Review"})]})]})]})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-center",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please log in to view orders"})})})},OP=()=>{var w;const{user:t}=Ee(),[e,r]=j.useState([]),[n,i]=j.useState(!0),[a,o]=j.useState(null),[l,c]=j.useState(!1),[d,u]=j.useState(null),[h,f]=j.useState({rating:5,comment:""}),[g,x]=j.useState(!1);j.useEffect(()=>{t&&b()},[t]);const b=async()=>{try{const N=t.role==="store_owner"?"/api/bookings/store":"/api/bookings/customer",_=await fetch(`https://aio-backend-x770.onrender.com${N}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(_.ok){const S=await _.json();r(S)}}catch(N){console.error("Error fetching bookings:",N)}finally{i(!1)}},v=async(N,_)=>{try{(await fetch(`https://aio-backend-x770.onrender.com/api/bookings/${N}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:_})})).ok&&(b(),o(null))}catch(S){console.error("Error updating booking status:",S)}},m=N=>{u(N),f({rating:5,comment:""}),c(!0)},p=async N=>{N.preventDefault(),x(!0);try{const _=await fetch("https://aio-backend-x770.onrender.com/api/reviews",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({storeId:d.storeId._id||d.storeId,bookingId:d._id,rating:h.rating,comment:h.comment})});if(_.ok)alert("Review submitted successfully!"),c(!1),u(null),b();else{const S=await _.json();alert(`Error: ${S.error}`)}}catch(_){console.error("Error submitting review:",_),alert("Failed to submit review. Please try again.")}finally{x(!1)}},y=N=>{switch(N){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return t?n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black"})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.role==="store_owner"?"Store Bookings":"My Bookings"}),s.jsxs("p",{className:"text-gray-600 mt-2",children:[e.length," booking",e.length!==1?"s":""," found"]})]}),e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ie,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No bookings found"}),s.jsx("p",{className:"text-gray-600",children:t.role==="store_owner"?"You haven't received any bookings yet":"You haven't made any bookings yet"})]}):s.jsx("div",{className:"space-y-6",children:e.map(N=>{var _,S,E,k,T,P,I;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((_=N.serviceId)==null?void 0:_.title)||"Service"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Booking #",N._id.slice(-6)]}),t.role==="store_owner"&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Customer: ",((S=N.customerId)==null?void 0:S.name)||"Unknown"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",N.totalAmount]}),s.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full ${y(N.status)}`,children:N.status})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("img",{src:(k=(E=N.serviceId)==null?void 0:E.images)!=null&&k[0]?N.serviceId.images[0].startsWith("http")?N.serviceId.images[0]:`https://aio-backend-x770.onrender.com${N.serviceId.images[0]}`:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop",alt:((T=N.serviceId)==null?void 0:T.title)||"Service",className:"w-16 h-16 object-cover rounded-lg"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:((P=N.serviceId)==null?void 0:P.title)||"Service"}),s.jsx("p",{className:"text-sm text-gray-500",children:((I=N.serviceId)==null?void 0:I.category)||"Service"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ie,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:new Date(N.bookingDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[N.startTime," - ",N.endTime]})]})]}),N.notes&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Notes:"}),s.jsx("p",{className:"text-sm text-gray-600",children:N.notes})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[s.jsxs("button",{onClick:()=>o(N),className:"flex items-center space-x-2 text-black hover:text-gray-700 transition-colors",children:[s.jsx(Ye,{className:"w-4 h-4"}),s.jsx("span",{children:"View Details"})]}),t.role==="store_owner"&&N.status!=="completed"&&N.status!=="cancelled"&&s.jsxs("div",{className:"flex space-x-2",children:[N.status==="pending"&&s.jsx("button",{onClick:()=>v(N._id,"confirmed"),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Confirm"}),N.status==="confirmed"&&s.jsx("button",{onClick:()=>v(N._id,"completed"),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors text-sm",children:"Mark Completed"}),s.jsx("button",{onClick:()=>v(N._id,"cancelled"),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors text-sm",children:"Cancel"})]}),t.role==="store_owner"&&N.status==="pending"&&s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-orange-600 font-medium",children:"New Booking - Action Required"})]})]}),s.jsx("div",{className:"pt-2",children:s.jsxs("p",{className:"text-xs text-gray-400",children:["Created: ",new Date(N.createdAt).toLocaleString()]})}),N.status==="completed"&&t.role==="customer"&&s.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Service Completed"}),s.jsx("p",{className:"text-sm text-green-700 mb-3",children:"How was your experience with this service?"}),s.jsx("button",{onClick:()=>m(N),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Write a Review"})]})]},N._id)})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Booking Details #",a._id.slice(-6)]}),s.jsx("button",{onClick:()=>o(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Service:"})," ",(w=a.serviceId)==null?void 0:w.title]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",a.status]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",new Date(a.bookingDate).toLocaleDateString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Time:"})," ",a.startTime," - ",a.endTime]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total:"})," ",a.totalAmount," LKR"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Platform Fee:"})," ",a.platformFee," LKR"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Store Amount:"})," ",a.storeAmount," LKR"]})]}),a.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Notes:"}),s.jsx("p",{children:a.notes})]}),a.paymentDetails&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Payment Details:"}),s.jsxs("p",{children:["Status: ",a.paymentDetails.paymentStatus]}),a.paymentDetails.paidAt&&s.jsxs("p",{children:["Paid: ",new Date(a.paymentDetails.paidAt).toLocaleString()]})]})]})]})})]}),l&&d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Write a Review"}),s.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),s.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(N=>s.jsx("button",{type:"button",onClick:()=>f({...h,rating:N}),className:`w-8 h-8 ${N<=h.rating?"text-yellow-400 fill-current":"text-gray-300"}`,children:s.jsx(Me,{className:"w-full h-full"})},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),s.jsx("textarea",{value:h.comment,onChange:N=>f({...h,comment:N.target.value}),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Share your experience with this service...",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 disabled:opacity-50",children:g?"Submitting...":"Submit Review"})]})]})]})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-center",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please log in to view bookings"})})})},AP=()=>{const{user:t}=Ee(),e=lt(),[r,n]=j.useState(null),[i,a]=j.useState([]),[o,l]=j.useState(!0),[c,d]=j.useState(!1),[u,h]=j.useState("details"),[f,g]=j.useState(""),[x,b]=j.useState(""),[v,m]=j.useState(""),[p,y]=j.useState("all"),[w,N]=j.useState(null),[_,S]=j.useState([]),[E,k]=j.useState({name:"",description:"",themeColor:"#000000",contactInfo:{email:"",phone:"",address:""}}),[T,P]=j.useState([]),[I,C]=j.useState(null);j.useEffect(()=>{(t==null?void 0:t.role)==="store_owner"&&(t!=null&&t.storeId)?(F(),V()):e("/dashboard")},[t,e]);const F=async()=>{try{const M=await fetch(`https://aio-backend-x770.onrender.com/api/stores/${t.storeId}`);if(M.ok){const H=await M.json();n(H.store),S(H.timeSlots),k({name:H.store.name||"",description:H.store.description||"",themeColor:H.store.themeColor||"#000000",contactInfo:H.store.contactInfo||{email:"",phone:"",address:""}})}const O=await fetch("https://aio-backend-x770.onrender.com/api/subscriptions/my-subscription",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!O.ok)throw new Error("Failed to fetch subscription");const z=await O.json();N(z)}catch(M){console.error("Error fetching store:",M),g("Failed to load store data")}finally{l(!1)}},V=async()=>{try{const M=await fetch("https://aio-backend-x770.onrender.com/api/reviews/manage",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(M.ok){const O=await M.json();a(O)}}catch(M){console.error("Error fetching reviews:",M)}},$=async M=>{M.preventDefault(),d(!0),g(""),m("");try{let O=[];if(T.length>0){const Pe=T.map(async et=>{const tr=Cs(Ts,`stores/${Date.now()}_${et.name}`);return await _s(tr,et),Es(tr)});O=await Promise.all(Pe)}const z=O.length>0?O:r.heroImages,H={name:E.name,description:E.description,themeColor:E.themeColor,contactInfo:E.contactInfo,heroImages:z},Z=await fetch(`https://aio-backend-x770.onrender.com/api/stores/${r._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(H)});if(Z.ok){const Pe=await Z.json();n(Pe),P([]),m("Store updated successfully!")}else{const Pe=await Z.json();g(Pe.error||"Failed to update store")}}catch{g("Network error. Please try again.")}finally{d(!1)}},Y=async()=>{if(I)try{const M=Cs(Ts,`users/${Date.now()}_${I.name}`);await _s(M,I);const z={profileImage:await Es(M)},H=await fetch(`https://aio-backend-x770.onrender.com/api/stores/${r._id}/profile-image`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(z)});if(H.ok){const Z=await H.json();n(Z),C(null),m("Profile image updated successfully!")}else{const Z=await H.json();g(Z.error||"Failed to update profile image")}}catch{g("Network error. Please try again.")}},A=M=>{const{name:O,value:z}=M.target;if(O.startsWith("contactInfo.")){const H=O.split(".")[1];k(Z=>({...Z,contactInfo:{...Z.contactInfo,[H]:z}}))}else k(H=>({...H,[O]:z}))},D=async(M,O)=>{try{w&&w.package==="standard"?(await fetch(`https://aio-backend-x770.onrender.com/api/reviews/${M}/visibility`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({isVisible:O})})).ok&&(V(),m(`Review ${O?"shown":"hidden"} successfully!`)):b("To manage reviews and enhance your brand credibility, simply upgrade your package. Its quick, easy, and unlocks powerful features to grow your business.")}catch{g("Failed to update review visibility")}},L=async(M,O)=>{try{(await fetch(`https://aio-backend-x770.onrender.com/api/reviews/${M}/respond`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({message:O})})).ok&&(V(),m("Response added successfully!"))}catch{g("Failed to respond to review")}},K=i.filter(M=>{switch(p){case"visible":return M.isVisible;case"hidden":return!M.isVisible;case"unanswered":return!M.response;default:return!0}}),X=M=>!M||M.length<=2?M:M.charAt(0)+"*".repeat(M.length-2)+M.charAt(M.length-1);return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Fe,{size:"xl"})}):r?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Store Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your store settings and reviews"})]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"details",name:"Store Details",icon:pt},{id:"reviews",name:"Reviews",icon:Rm}].map(M=>{const O=M.icon;return s.jsxs("button",{onClick:()=>h(M.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${u===M.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(O,{className:"w-5 h-5"}),s.jsxs("span",{children:[M.name,M.id==="reviews"&&i.length>0&&s.jsx("span",{className:"ml-1 bg-black text-white text-xs px-2 py-1 rounded-full",children:i.length})]})]},M.id)})})})}),f&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:f}),x&&s.jsx("div",{className:"bg-amber-100 border border-amber-400 text-amber-700 px-4 py-3 rounded mb-6",children:x}),v&&s.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:v}),u==="details"&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8",children:s.jsxs("form",{onSubmit:$,className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Store Profile Image"}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:r.profileImage?s.jsx("img",{src:r.profileImage.startsWith("http")?r.profileImage:`https://aio-backend-x770.onrender.com${r.profileImage}`,alt:"Store profile",className:"w-full h-full object-cover"}):s.jsx(pt,{className:"w-8 h-8 text-gray-400"})}),s.jsxs("label",{className:"absolute bottom-0 right-0 bg-black text-white p-2 rounded-full hover:bg-gray-800 transition-colors cursor-pointer",children:[s.jsx(hv,{className:"w-4 h-4"}),s.jsx("input",{type:"file",accept:"image/*",onChange:M=>C(M.target.files[0]),className:"hidden"})]})]}),I&&s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:URL.createObjectURL(I),alt:"New profile",className:"w-16 h-16 rounded-full object-cover"}),s.jsx("button",{type:"button",onClick:Y,className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Upload"}),s.jsx("button",{type:"button",onClick:()=>C(null),className:"text-red-500 hover:text-red-700",children:"Cancel"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Name"}),s.jsx("input",{type:"text",name:"name",value:E.name,onChange:A,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme Color"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("input",{type:"color",name:"themeColor",value:E.themeColor,onChange:A,className:"w-16 h-12 border border-gray-300 rounded-lg cursor-pointer"}),s.jsx("input",{type:"text",value:E.themeColor,onChange:M=>k(O=>({...O,themeColor:M.target.value})),className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"#000000"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Description"}),s.jsx("textarea",{name:"description",value:E.description,onChange:A,rows:4,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsx(SP,{selectedColor:E.themeColor,onColorChange:M=>k({...E,themeColor:M})}),E.type==="service"&&s.jsx(kP,{timeSlots:_,onTimeSlotsChange:S}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Images (up to 5)"}),s.jsx(xf,{images:T,onImagesChange:P,maxImages:5,multiple:!0}),r.heroImages&&r.heroImages.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Current Images:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.heroImages.map((M,O)=>s.jsx("img",{src:M.startsWith("http")?M:`https://aio-backend-x770.onrender.com${M}`,alt:`Hero ${O+1}`,className:"w-full h-24 object-cover rounded-lg"},O))})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",name:"contactInfo.email",value:E.contactInfo.email,onChange:A,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),s.jsx("input",{type:"tel",name:"contactInfo.phone",value:E.contactInfo.phone,onChange:A,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("textarea",{name:"contactInfo.address",value:E.contactInfo.address,onChange:A,rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",disabled:c,className:"bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[c&&s.jsx(Fe,{size:"sm"}),s.jsx("span",{children:c?"Saving...":"Save Changes"})]})})]})}),u==="reviews"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Review Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:i.length>0?(i.reduce((M,O)=>M+O.rating,0)/i.length).toFixed(1):"0.0"}),s.jsx("div",{className:"text-sm text-yellow-700",children:"Average Rating"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-900",children:i.length}),s.jsx("div",{className:"text-sm text-blue-700",children:"Total Reviews"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-900",children:i.filter(M=>M.isVisible).length}),s.jsx("div",{className:"text-sm text-green-700",children:"Visible Reviews"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-900",children:i.filter(M=>M.response).length}),s.jsx("div",{className:"text-sm text-purple-700",children:"Responded To"})]})]})]}),i.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(Me,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Reviews Yet"}),s.jsx("p",{className:"text-gray-600",children:"Customer reviews will appear here once you receive them"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:()=>y("all"),className:`px-3 py-1 rounded-full text-sm ${p==="all"?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Reviews (",i.length,")"]}),s.jsxs("button",{onClick:()=>y("visible"),className:`px-3 py-1 rounded-full text-sm ${p==="visible"?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Visible (",i.filter(M=>M.isVisible).length,")"]}),s.jsxs("button",{onClick:()=>y("hidden"),className:`px-3 py-1 rounded-full text-sm ${p==="hidden"?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Hidden (",i.filter(M=>!M.isVisible).length,")"]}),s.jsxs("button",{onClick:()=>y("unanswered"),className:`px-3 py-1 rounded-full text-sm ${p==="unanswered"?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Unanswered (",i.filter(M=>!M.response).length,")"]})]})}),K.map(M=>{var O;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:X(((O=M.customerId)==null?void 0:O.name)||"Anonymous")}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((z,H)=>s.jsx(Me,{className:`w-4 h-4 ${H<M.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},H))}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(M.createdAt).toLocaleDateString()}),M.orderId&&s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Order"}),M.bookingId&&s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Booking"})]})]})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>D(M._id,!M.isVisible),className:`p-2 rounded-lg transition-colors ${M.isVisible?"bg-green-100 text-green-600 hover:bg-green-200":"bg-red-100 text-red-600 hover:bg-red-200"}`,title:M.isVisible?"Hide review":"Show review",children:M.isVisible?s.jsx(Ye,{className:"w-4 h-4"}):s.jsx(Ko,{className:"w-4 h-4"})})})]}),s.jsx("p",{className:"text-gray-700 mb-4",children:M.comment}),M.response?s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Rm,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Your Response"}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(M.response.respondedAt).toLocaleDateString()})]}),s.jsx("p",{className:"text-gray-700",children:M.response.message})]}):s.jsx("div",{className:"border-t pt-4",children:s.jsxs("form",{onSubmit:z=>{z.preventDefault();const H=z.target.message.value;H.trim()&&(L(M._id,H),z.target.reset())},className:"flex space-x-3",children:[s.jsx("input",{type:"text",name:"message",placeholder:"Respond to this review...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"}),s.jsx("button",{type:"submit",className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Respond"})]})})]},M._id)})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(pt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Store Found"}),s.jsx("p",{className:"text-gray-600",children:"Please create a store first"})]})})},RP=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-9xl font-bold text-gray-300",children:"404"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Sorry, we couldn't find the page you're looking for. It might have been moved, deleted, or you entered the wrong URL."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(U,{to:"/",className:"inline-flex items-center space-x-2 bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:[s.jsx(kC,{className:"w-5 h-5"}),s.jsx("span",{children:"Go Home"})]}),s.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center space-x-2 bg-white border-2 border-black text-black px-6 py-3 rounded-lg hover:bg-black hover:text-white transition-colors",children:[s.jsx(an,{className:"w-5 h-5"}),s.jsx("span",{children:"Go Back"})]})]})]})}),vb=({isOpen:t,onClose:e,title:r,children:n,size:i="md"})=>{const a={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"};return j.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:`bg-white rounded-lg w-full ${a[i]} max-h-[90vh] overflow-y-auto`,children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r}),s.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx(Dl,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6",children:n})]})}):null},DP=()=>{var I;const{user:t}=Ee(),[e,r]=j.useState({totalUsers:0,totalStores:0,totalProducts:0,totalServices:0,totalOrders:0,totalBookings:0,totalRevenue:0}),[n,i]=j.useState({users:[],stores:[],products:[],services:[],orders:[],bookings:[],subscriptions:[],commissions:[],categories:[]}),[a,o]=j.useState({}),[l,c]=j.useState("dashboard"),[d,u]=j.useState(!0),[h,f]=j.useState(""),[g,x]=j.useState("all"),[b,v]=j.useState(null),[m,p]=j.useState(!1),[y,w]=j.useState("view"),[N,_]=j.useState([]);j.useEffect(()=>{(t==null?void 0:t.email)==="admin@aio.com"&&S()},[t]);const S=async()=>{var C;try{const[F,V,$,Y]=await Promise.all([fetch("https://aio-backend-x770.onrender.com/api/users"),fetch("https://aio-backend-x770.onrender.com/api/stores"),fetch("https://aio-backend-x770.onrender.com/api/products"),fetch("https://aio-backend-x770.onrender.com/api/services")]),A=F.ok?await F.json():[],D=V.ok?await V.json():[],L=$.ok?await $.json():[],K=Y.ok?await Y.json():[],X=await fetch("https://aio-backend-x770.onrender.com/api/subscriptions/admin/all",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),M=X.ok?await X.json():[],O=await fetch("https://aio-backend-x770.onrender.com/api/commissions/admin/all",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),z=O.ok?await O.json():[],H=await fetch("https://aio-backend-x770.onrender.com/api/commissions/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),Z=H.ok?await H.json():{};i({users:A,stores:D,products:L,services:K,subscriptions:M,commissions:z}),o(Z),r({totalUsers:A.length,totalStores:D.length,totalProducts:L.length,totalServices:K.length,totalOrders:0,totalBookings:0,totalRevenue:((C=Z.overall)==null?void 0:C.totalCommissions)||0})}catch(F){console.error("Error fetching admin data:",F)}finally{u(!1)}},E=async(C,F)=>{const V=`${window.location.origin}/store/${C}`,$=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(V)}`;try{const A=await(await fetch($)).blob(),D=window.URL.createObjectURL(A),L=document.createElement("a");L.href=D,L.download=`${F.replace(/\s+/g,"-").toLowerCase()}-qr-code.png`,document.body.appendChild(L),L.click(),document.body.removeChild(L),window.URL.revokeObjectURL(D)}catch(Y){console.error("Error downloading QR code:",Y),alert("Failed to download QR code")}},k=(C,F=null)=>{w(C),v(F),p(!0)},T=C=>(n[C]||[]).filter(V=>{const $=!h||V.name&&V.name.toLowerCase().includes(h.toLowerCase())||V.title&&V.title.toLowerCase().includes(h.toLowerCase())||V.email&&V.email.toLowerCase().includes(h.toLowerCase()),Y=g==="all"||V.status===g||V.isActive===(g==="active");return $&&Y});if(!t||t.email!=="admin@aio.com")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md",children:[s.jsx(rs,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the admin panel."})]})});if(d)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Fe,{size:"xl"})});const P=[{id:"dashboard",name:"Dashboard",icon:dv},{id:"users",name:"Users",icon:Jo},{id:"stores",name:"Stores",icon:pt},{id:"products",name:"Products",icon:We},{id:"services",name:"Services",icon:Ie},{id:"categories",name:"Categories",icon:Yh},{id:"subscriptions",name:"Subscriptions",icon:Ps},{id:"commissions",name:"Commissions",icon:qi},{id:"audit",name:"Audit Logs",icon:NC}];return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive platform management"})]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:P.map(C=>{const F=C.icon;return s.jsxs("button",{onClick:()=>c(C.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${l===C.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(F,{className:"w-5 h-5"}),s.jsx("span",{children:C.name})]},C.id)})})})}),l!=="dashboard"&&l!=="audit"&&s.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-sm p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search...",value:h,onChange:C=>f(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fv,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:g,onChange:C=>x(C.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]}),s.jsxs("button",{onClick:()=>k("create"),className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors flex items-center space-x-2",children:[s.jsx(Bt,{className:"w-4 h-4"}),s.jsx("span",{children:"Add New"})]})]})}),l==="dashboard"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Users"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.totalUsers})]}),s.jsx(Jo,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Stores"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.totalStores})]}),s.jsx(pt,{className:"w-8 h-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:J(((I=a.overall)==null?void 0:I.totalCommissions)||0)})]}),s.jsx(Ps,{className:"w-8 h-8 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Active Subscriptions"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.subscriptions.filter(C=>C.status==="active").length})]}),s.jsx(qi,{className:"w-8 h-8 text-purple-500"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Store QR Codes"}),s.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Download QR codes for business cards"}),s.jsx("button",{onClick:()=>c("stores"),className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700 transition-colors",children:"Manage QR Codes"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Platform Analytics"}),s.jsx("p",{className:"text-sm text-green-700 mb-3",children:"View detailed platform statistics"}),s.jsx("button",{onClick:()=>c("commissions"),className:"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700 transition-colors",children:"View Analytics"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"System Logs"}),s.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Monitor system activities"}),s.jsx("button",{onClick:()=>c("audit"),className:"bg-purple-600 text-white px-4 py-2 rounded text-sm hover:bg-purple-700 transition-colors",children:"View Logs"})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:"Platform Settings"}),s.jsx("p",{className:"text-sm text-orange-700 mb-3",children:"Configure commission rates, subscriptions, and platform policies"}),s.jsx(U,{to:"/platform-settings",className:"bg-orange-600 text-white px-4 py-2 rounded text-sm hover:bg-orange-700 transition-colors",children:"Manage Settings"})]})]})]})]}),l!=="dashboard"&&l!=="audit"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-semibold capitalize",children:[l," Management"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[l==="users"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Register Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}),l==="stores"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}),l==="products"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}),l==="services"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}),l==="subscriptions"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}),l==="commissions"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T(l).map(C=>{var F,V,$,Y,A,D,L,K,X,M,O;return s.jsxs("tr",{children:[l==="users"&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:((F=C.profileImage)==null?void 0:F[0])||"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",alt:C.name,className:"w-10 h-10 rounded object-cover mr-3"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"capitalize text-sm text-gray-500",children:C.email})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.createdAt}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>k("view",C),className:"text-indigo-600 hover:text-indigo-900",children:s.jsx(Ye,{className:"w-4 h-4"})})})})]}),l==="stores"&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:((V=C.heroImages)==null?void 0:V[0])||"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",alt:C.name,className:"w-10 h-10 rounded object-cover mr-3"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"capitalize text-sm text-gray-500",children:C.type})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(($=C.ownerId)==null?void 0:$.name)||"Unknown"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:J(C.totalSales||0)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>k("view",C),className:"text-indigo-600 hover:text-indigo-900",children:s.jsx(Ye,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>k("edit",C),className:"text-green-600 hover:text-green-900",children:s.jsx(Hi,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>E(C._id,C.name),className:"text-blue-600 hover:text-blue-900",children:s.jsx(IC,{className:"w-4 h-4"})}),s.jsx("a",{href:`/store/${C._id}`,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-900",children:s.jsx(jC,{className:"w-4 h-4"})})]})})]}),l==="products"&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:(Y=C.images)!=null&&Y[0]?C.images[0].startsWith("http")?C.images[0]:`https://aio-backend-x770.onrender.com${C.images[0]}`:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop",alt:C.title,className:"w-10 h-10 rounded object-cover mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.title}),s.jsx("div",{className:"text-sm text-gray-500",children:C.category})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((A=C.storeId)==null?void 0:A.name)||"Unknown"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:J(C.price)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.stock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.isActive?"Active":"Inactive"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 mr-3",children:s.jsx(Ye,{className:"w-4 h-4"})}),s.jsx("button",{className:`mr-3 ${C.isActive?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,children:C.isActive?s.jsx(Zo,{className:"w-4 h-4"}):s.jsx(Is,{className:"w-4 h-4"})})]})]}),l==="services"&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:(D=C.images)!=null&&D[0]?C.images[0].startsWith("http")?C.images[0]:`https://aio-backend-x770.onrender.com${C.images[0]}`:"https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop",alt:C.title,className:"w-10 h-10 rounded object-cover mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.title}),s.jsx("div",{className:"text-sm text-gray-500",children:C.category})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((L=C.storeId)==null?void 0:L.name)||"Unknown"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[J(C.price)," ",C.priceType==="hourly"?"/hour":""]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[C.duration," min"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.isActive?"Active":"Inactive"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 mr-3",children:s.jsx(Ye,{className:"w-4 h-4"})}),s.jsx("button",{className:`mr-3 ${C.isActive?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,children:C.isActive?s.jsx(Zo,{className:"w-4 h-4"}):s.jsx(Is,{className:"w-4 h-4"})})]})]}),l==="subscriptions"&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:(K=C.userId)==null?void 0:K.name}),s.jsx("div",{className:"text-sm text-gray-500",children:(X=C.userId)==null?void 0:X.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(M=C.storeId)==null?void 0:M.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:J(C.amount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.endDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:s.jsx(Ye,{className:"w-4 h-4"})})})]}),l==="commissions"&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(O=C.storeId)==null?void 0:O.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:C.type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:J(C.totalAmount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium",children:J(C.commissionAmount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:J(C.storeAmount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.createdAt).toLocaleDateString()})]})]},C._id)})})]})})]}),l==="audit"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold",children:"System Audit Logs"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item ID"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(C=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(C.timestamp).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.user}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.action==="create"?"bg-green-100 text-green-800":C.action==="update"?"bg-blue-100 text-blue-800":C.action==="delete"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:C.action})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:C.type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:C.itemId})]},C.id))})]})})]}),s.jsx(vb,{isOpen:m,onClose:()=>p(!1),title:`${y.charAt(0).toUpperCase()+y.slice(1)} ${l.slice(0,-1)}`,size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[y==="view"&&b&&s.jsx("div",{className:"space-y-3",children:s.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-auto",children:JSON.stringify(b,null,2)})}),(y==="create"||y==="edit")&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-600 mb-4",children:[y==="create"?"Create new":"Edit"," ",l.slice(0,-1)," form would go here."]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:()=>{p(!1)},className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800",children:"Save"})]})]})]})})]})})},LP=()=>{const{user:t}=Ee(),[e,r]=j.useState({totalRevenue:0,totalOrders:0,totalBookings:0,averageOrderValue:0,topProducts:[],topServices:[],revenueByMonth:[],ordersByStatus:{},customerStats:{}}),[n,i]=j.useState(!0),[a,o]=j.useState("30"),[l,c]=j.useState("overview");j.useEffect(()=>{(t==null?void 0:t.role)==="store_owner"&&d()},[t,a]);const d=async()=>{try{i(!0);const g=await fetch("https://aio-backend-x770.onrender.com/api/orders/store",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),x=await fetch("https://aio-backend-x770.onrender.com/api/bookings/store",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(g.ok&&x.ok){const b=await g.json(),v=await x.json(),m=b.reduce((N,_)=>N+_.storeAmount,0)+v.reduce((N,_)=>N+_.storeAmount,0),p=b.length>0?m/b.length:0,y=b.reduce((N,_)=>(N[_.status]=(N[_.status]||0)+1,N),{}),w=u(b,v);r({totalRevenue:m,totalOrders:b.length,totalBookings:v.length,averageOrderValue:p,ordersByStatus:y,revenueByMonth:w,topProducts:[],topServices:[],customerStats:h(b,v)})}}catch(g){console.error("Error fetching analytics:",g)}finally{i(!1)}},u=(g,x)=>{const b={};return[...g,...x].forEach(v=>{const m=new Date(v.createdAt).toISOString().slice(0,7);b[m]=(b[m]||0)+(v.storeAmount||0)}),Object.entries(b).sort(([v],[m])=>v.localeCompare(m)).map(([v,m])=>({month:v,revenue:m}))},h=(g,x)=>{const b=new Set,v={};[...g,...x].forEach(y=>{var N;const w=((N=y.customerId)==null?void 0:N._id)||y.customerId;w&&(b.add(w),v[w]=(v[w]||0)+1)});const m=b.size,p=Object.values(v).filter(y=>y>1).length;return{totalCustomers:m,returningCustomers:p,retentionRate:m>0?p/m*100:0}},f=()=>{const g={analytics:e,exportDate:new Date().toISOString(),dateRange:`${a} days`},x=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),b=URL.createObjectURL(x),v=document.createElement("a");v.href=b,v.download=`sales-analytics-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(b)};return!t||t.role!=="store_owner"?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600",children:"Only store owners can access sales analytics"})]})}):n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Fe,{size:"xl"})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales Analytics"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Track your store's performance and growth"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:a,onChange:g=>o(g.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[s.jsx("option",{value:"7",children:"Last 7 days"}),s.jsx("option",{value:"30",children:"Last 30 days"}),s.jsx("option",{value:"90",children:"Last 90 days"}),s.jsx("option",{value:"365",children:"Last year"})]}),s.jsxs("button",{onClick:f,className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors flex items-center space-x-2",children:[s.jsx(wC,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]})]})]})}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",name:"Overview",icon:dv},{id:"revenue",name:"Revenue",icon:Ps},{id:"orders",name:"Orders",icon:We},{id:"customers",name:"Customers",icon:Jo}].map(g=>{const x=g.icon;return s.jsxs("button",{onClick:()=>c(g.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${l===g.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(x,{className:"w-5 h-5"}),s.jsx("span",{children:g.name})]},g.id)})})})}),l==="overview"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Qc(e.totalRevenue)}),s.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+12% from last period"})]}),s.jsx(Ps,{className:"w-8 h-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Orders"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.totalOrders}),s.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"+8% from last period"})]}),s.jsx(We,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Bookings"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.totalBookings}),s.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"+15% from last period"})]}),s.jsx(Ie,{className:"w-8 h-8 text-purple-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Avg. Order Value"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Qc(e.averageOrderValue)}),s.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"+5% from last period"})]}),s.jsx(qi,{className:"w-8 h-8 text-orange-500"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),s.jsx("div",{className:"h-64 flex items-end space-x-2",children:e.revenueByMonth.map((g,x)=>s.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[s.jsx("div",{className:"bg-black rounded-t w-full",style:{height:`${Math.max(g.revenue/Math.max(...e.revenueByMonth.map(b=>b.revenue))*200,10)}px`}}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:g.month}),s.jsx("p",{className:"text-xs font-medium",children:Qc(g.revenue)})]},x))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Status Distribution"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(e.ordersByStatus).map(([g,x])=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x}),s.jsx("div",{className:"text-sm text-gray-500 capitalize",children:g})]},g))})]})]}),l==="revenue"&&s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Breakdown"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-600",children:"Product Sales"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:J(e.totalRevenue*.7)})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-600",children:"Service Bookings"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:J(e.totalRevenue*.3)})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-purple-600",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:J(e.totalRevenue)})]})]})]})}),l==="customers"&&s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-600",children:"Total Customers"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:e.customerStats.totalCustomers||0})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-600",children:"Returning Customers"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:e.customerStats.returningCustomers||0})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-purple-600",children:"Retention Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[(e.customerStats.retentionRate||0).toFixed(1),"%"]})]})]})]})})]})})},MP=()=>{const{user:t}=Ee(),[e,r]=j.useState(null),[n,i]=j.useState(!0),[a,o]=j.useState(!1),[l,c]=j.useState("commission"),[d,u]=j.useState(""),[h,f]=j.useState(""),[g,x]=j.useState(!1),[b,v]=j.useState({});j.useEffect(()=>{(t==null?void 0:t.email)==="admin@aio.com"&&m()},[t]);const m=async()=>{try{i(!0);const S=await fetch("https://aio-backend-x770.onrender.com/api/platform-settings",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(S.ok){const E=await S.json();r(E),v(E)}else u("Failed to fetch platform settings")}catch(S){console.error("Error fetching settings:",S),u("Network error occurred")}finally{i(!1)}},p=async()=>{o(!0),u(""),f("");try{const S=await fetch("https://aio-backend-x770.onrender.com/api/platform-settings",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(b)});if(S.ok){const E=await S.json();r(E),v(E),f("Platform settings updated successfully!")}else{const E=await S.json();u(E.error||"Failed to update settings")}}catch(S){console.error("Error updating settings:",S),u("Network error occurred")}finally{o(!1)}},y=async()=>{try{const S=await fetch("https://aio-backend-x770.onrender.com/api/platform-settings/reset",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(S.ok){const E=await S.json();r(E),v(E),f("Platform settings reset to defaults!"),x(!1)}else u("Failed to reset settings")}catch(S){console.error("Error resetting settings:",S),u("Network error occurred")}},w=(S,E)=>{const k=S.split("."),T={...b};let P=T;for(let I=0;I<k.length-1;I++)P[k[I]]||(P[k[I]]={}),P=P[k[I]];P[k[k.length-1]]=E,v(T)},N=(S,E)=>E.split(".").reduce((k,T)=>k==null?void 0:k[T],S);if(!t||t.email!=="admin@aio.com")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md",children:[s.jsx(rs,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600",children:"Only platform administrators can access these settings."})]})});if(n)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Fe,{size:"xl"})});const _=[{id:"commission",name:"Commission Rates",icon:Dm},{id:"subscription",name:"Subscriptions",icon:Ie},{id:"payment",name:"Payment Settings",icon:Yo},{id:"platform",name:"Platform Config",icon:Lm},{id:"features",name:"Feature Flags",icon:$m}];return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-3",children:[s.jsx(Yh,{className:"w-8 h-8"}),s.jsx("span",{children:"Platform Settings"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Configure platform-wide settings and policies"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:()=>x(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[s.jsx(OC,{className:"w-4 h-4"}),s.jsx("span",{children:"Reset to Defaults"})]}),s.jsxs("button",{onClick:p,disabled:a,className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[a?s.jsx(Fe,{size:"sm"}):s.jsx(AC,{className:"w-4 h-4"}),s.jsx("span",{children:a?"Saving...":"Save Changes"})]})]})]})}),d&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 flex items-center space-x-2",children:[s.jsx(rs,{className:"w-5 h-5"}),s.jsx("span",{children:d})]}),h&&s.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6 flex items-center space-x-2",children:[s.jsx(Is,{className:"w-5 h-5"}),s.jsx("span",{children:h})]}),e&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(_C,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-900",children:"Settings Information"})]}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsxs("p",{children:["Version: ",e.version," | Last updated: ",new Date(e.updatedAt).toLocaleString()]}),e.lastUpdatedBy&&s.jsxs("p",{children:["Updated by: ",e.lastUpdatedBy.name," (",e.lastUpdatedBy.email,")"]})]})]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:_.map(S=>{const E=S.icon;return s.jsxs("button",{onClick:()=>c(S.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${l===S.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(E,{className:"w-5 h-5"}),s.jsx("span",{children:S.name})]},S.id)})})})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l==="commission"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Dm,{className:"w-6 h-6 text-gray-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Commission Rate Settings"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Sales Commission (%)"}),s.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:(N(b,"commissionRates.productSales")||0)*100,onChange:S=>w("commissionRates.productSales",parseFloat(S.target.value)/100),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current: ",((N(b,"commissionRates.productSales")||0)*100).toFixed(2),"%"]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Bookings Commission (%)"}),s.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:(N(b,"commissionRates.serviceBookings")||0)*100,onChange:S=>w("commissionRates.serviceBookings",parseFloat(S.target.value)/100),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current: ",((N(b,"commissionRates.serviceBookings")||0)*100).toFixed(2),"%"]})]})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(rs,{className:"w-5 h-5 text-yellow-600"}),s.jsx("span",{className:"font-medium text-yellow-800",children:"Important Note"})]}),s.jsx("p",{className:"text-yellow-700 mt-2",children:"Commission rate changes will apply to all new transactions. Existing pending transactions will use the previous rates."})]})]}),l==="subscription"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Ie,{className:"w-6 h-6 text-gray-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Subscription Settings"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Monthly Price (",N(b,"subscriptionSettings.currency")||"LKR",")"]}),s.jsx("input",{type:"number",min:"0",value:N(b,"subscriptionSettings.monthlyPrice")||0,onChange:S=>w("subscriptionSettings.monthlyPrice",parseFloat(S.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subscription Duration (days)"}),s.jsx("input",{type:"number",min:"1",value:N(b,"subscriptionSettings.duration")||30,onChange:S=>w("subscriptionSettings.duration",parseInt(S.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),s.jsxs("select",{value:N(b,"subscriptionSettings.currency")||"LKR",onChange:S=>w("subscriptionSettings.currency",S.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[s.jsx("option",{value:"LKR",children:"Sri Lankan Rupee (LKR)"}),s.jsx("option",{value:"USD",children:"US Dollar (USD)"}),s.jsx("option",{value:"EUR",children:"Euro (EUR)"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trial Period (days)"}),s.jsx("input",{type:"number",min:"0",value:N(b,"subscriptionSettings.trialPeriod")||0,onChange:S=>w("subscriptionSettings.trialPeriod",parseInt(S.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]})]}),l==="payment"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Yo,{className:"w-6 h-6 text-gray-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Processing Settings"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Processing Fee (%)"}),s.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:(N(b,"paymentSettings.processingFee")||0)*100,onChange:S=>w("paymentSettings.processingFee",parseFloat(S.target.value)/100),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Amount (LKR)"}),s.jsx("input",{type:"number",min:"0",value:N(b,"paymentSettings.minimumAmount")||0,onChange:S=>w("paymentSettings.minimumAmount",parseFloat(S.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Amount (LKR)"}),s.jsx("input",{type:"number",min:"0",value:N(b,"paymentSettings.maximumAmount")||0,onChange:S=>w("paymentSettings.maximumAmount",parseFloat(S.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Supported Payment Methods"}),s.jsx("div",{className:"space-y-4",children:(N(b,"paymentSettings.supportedMethods")||[]).map((S,E)=>s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center",children:[s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:S.enabled,onChange:k=>{const T=[...N(b,"paymentSettings.supportedMethods")||[]];T[E].enabled=k.target.checked,w("paymentSettings.supportedMethods",T)},className:"rounded border-gray-300 text-black focus:ring-black"}),s.jsx("span",{className:"font-medium",children:S.name})]})}),s.jsx("div",{children:s.jsx("input",{type:"text",value:S.description,onChange:k=>{const T=[...N(b,"paymentSettings.supportedMethods")||[]];T[E].description=k.target.value,w("paymentSettings.supportedMethods",T)},className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",placeholder:"Description"})}),s.jsx("div",{children:s.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:(S.processingFee||0)*100,onChange:k=>{const T=[...N(b,"paymentSettings.supportedMethods")||[]];T[E].processingFee=parseFloat(k.target.value)/100,w("paymentSettings.supportedMethods",T)},className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",placeholder:"Fee %"})}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Fee: ",((S.processingFee||0)*100).toFixed(2),"%"]})]})},S.id))})]})]}),l==="platform"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Lm,{className:"w-6 h-6 text-gray-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Platform Configuration"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Products per Store"}),s.jsx("input",{type:"number",min:"1",value:N(b,"platformConfig.maxProductsPerStore")||1e3,onChange:S=>w("platformConfig.maxProductsPerStore",parseInt(S.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Services per Store"}),s.jsx("input",{type:"number",min:"1",value:N(b,"platformConfig.maxServicesPerStore")||100,onChange:S=>w("platformConfig.maxServicesPerStore",parseInt(S.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Images per Product"}),s.jsx("input",{type:"number",min:"1",value:N(b,"platformConfig.maxImagesPerProduct")||10,onChange:S=>w("platformConfig.maxImagesPerProduct",parseInt(S.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Images per Service"}),s.jsx("input",{type:"number",min:"1",value:N(b,"platformConfig.maxImagesPerService")||5,onChange:S=>w("platformConfig.maxImagesPerService",parseInt(S.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max File Size (MB)"}),s.jsx("input",{type:"number",min:"1",value:(N(b,"platformConfig.maxFileSize")||10485760)/1048576,onChange:S=>w("platformConfig.maxFileSize",parseFloat(S.target.value)*1048576),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(DC,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"font-medium text-red-900",children:"Maintenance Mode"})]}),s.jsxs("label",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("input",{type:"checkbox",checked:N(b,"platformConfig.maintenanceMode")||!1,onChange:S=>w("platformConfig.maintenanceMode",S.target.checked),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),s.jsx("span",{className:"text-red-800",children:"Enable maintenance mode"})]}),s.jsx("textarea",{value:N(b,"platformConfig.maintenanceMessage")||"",onChange:S=>w("platformConfig.maintenanceMessage",S.target.value),rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Maintenance message to display to users"})]})]}),l==="features"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx($m,{className:"w-6 h-6 text-gray-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Feature Flags"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"enableReviews",label:"Enable Reviews",icon:Me,description:"Allow customers to review products and services"},{key:"enableSubscriptions",label:"Enable Subscriptions",icon:Ie,description:"Enable store owner subscriptions"},{key:"enableCommissions",label:"Enable Commissions",icon:Ps,description:"Collect platform commissions on transactions"},{key:"enableAnalytics",label:"Enable Analytics",icon:bC,description:"Provide analytics and reporting features"},{key:"enableNotifications",label:"Enable Notifications",icon:uv,description:"Send email and push notifications"}].map(S=>{const E=S.icon;return s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(E,{className:"w-6 h-6 text-gray-600 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("input",{type:"checkbox",checked:N(b,`features.${S.key}`)||!1,onChange:k=>w(`features.${S.key}`,k.target.checked),className:"rounded border-gray-300 text-black focus:ring-black"}),s.jsx("span",{className:"font-medium text-gray-900",children:S.label})]}),s.jsx("p",{className:"text-sm text-gray-600",children:S.description})]})]})},S.key)})})]})]}),s.jsx(vb,{isOpen:g,onClose:()=>x(!1),title:"Reset Platform Settings",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-red-600",children:[s.jsx(rs,{className:"w-8 h-8"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Are you sure?"}),s.jsx("p",{className:"text-sm text-gray-600",children:"This action will reset all platform settings to their default values and cannot be undone."})]})]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"This will reset:"}),s.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[s.jsx("li",{children:" Commission rates"}),s.jsx("li",{children:" Subscription pricing and settings"}),s.jsx("li",{children:" Payment processing configuration"}),s.jsx("li",{children:" Platform limits and configuration"}),s.jsx("li",{children:" Feature flags"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:y,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reset Settings"})]})]})})]})})};function $P(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-4xl w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"Help Center"}),s.jsx("p",{className:"mt-2 text-gray-400",children:"AIO Platform Support"})]}),s.jsxs("div",{className:"bg-zinc-900 p-8 rounded-lg shadow-md space-y-6 text-white",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"Getting Started"}),s.jsx("p",{className:"mt-2 font-medium text-gray-200",children:"Setting Up Your Store"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Creating your store on AIO is simple. After signing up, you'll be guided through our setup wizard..."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mt-6",children:"Selling on AIO"}),s.jsx("p",{className:"mt-2 font-medium text-gray-200",children:"Payment Processing"}),s.jsx("p",{className:"text-sm text-gray-300",children:"AIO supports major payment methods including credit cards, PayPal..."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mt-6",children:"Customer Support"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300",children:[s.jsx("li",{children:"24/7 technical support"}),s.jsx("li",{children:"Knowledge base & tutorials"}),s.jsx("li",{children:"Community forums & webinars"})]})]})]})]})})}function BP(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-4xl w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"Contact Us"}),s.jsx("p",{className:"mt-2 text-gray-400",children:"AIO Platform Support"})]}),s.jsxs("div",{className:"bg-zinc-900 p-8 rounded-lg shadow-md space-y-6 text-white",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Email Support"}),s.jsx("ul",{className:"text-sm space-y-1 text-gray-300",children:s.jsxs("li",{children:[s.jsx("strong",{children:"General:"})," support@aio.com"]})})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mt-6",children:"Chat"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Available 24/7 via Whatsapp."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mt-6",children:"Phone Support"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Sri Lanka: +94 74 114 5704"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Hours: MonFri 9AM8PM "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mt-6",children:"Business Address"}),s.jsxs("address",{className:"text-sm not-italic text-gray-300",children:["No.50/A",s.jsx("br",{}),"3rd Mile Post",s.jsx("br",{}),"Batawala, Padukka",s.jsx("br",{}),"Western, Sri Lanka"]})]})]})]})})}const Ha={white:"#FFFFFF",purple3:"#7B2CBF",purple4:"#9D4EDD",purple5:"#C77DFF",purple6:"#E0AAFF",gray100:"#f3f4f6",gray200:"#e5e7eb",gray300:"#d1d5db",gray500:"#6b7280",gray700:"#374151"},FP={order:Ha.purple3,promotion:Ha.purple5,warning:Ha.purple4,announcement:Ha.purple6},UP={order:s.jsx(Is,{className:"w-5 h-5"}),promotion:s.jsx(SC,{className:"w-5 h-5"}),warning:s.jsx(RC,{className:"w-5 h-5"}),announcement:s.jsx(EC,{className:"w-5 h-5"})};function zP(){const t=lt(),[e,r]=j.useState([]),n=l=>{r(c=>c.map(d=>d._id===l?{...d,isRead:!0}:d))},i=l=>{r(c=>c.filter(d=>d._id!==l))},a=()=>{r(l=>l.map(c=>({...c,isRead:!0})))},o=l=>{l.isRead||n(l._id),l.link&&t(l.link)};return s.jsx("div",{className:"min-h-screen bg-gray-100 text-gray-800 p-4 sm:p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("header",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Notifications"}),s.jsx("button",{onClick:a,disabled:e.every(l=>l.isRead),className:`px-4 py-2 rounded-lg font-medium transition duration-300 ${e.every(l=>l.isRead)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 text-white shadow"}`,children:"Mark all as read"})]}),e.length===0&&s.jsx("p",{className:"text-center mt-10 text-gray-500",children:"No notifications to show."}),s.jsx("ul",{className:"space-y-4",children:e.map(l=>s.jsxs("li",{onClick:()=>o(l),className:`cursor-pointer bg-white rounded-2xl p-5 flex items-start gap-4 shadow transition duration-300 hover:shadow-lg border ${l.isRead?"border-gray-200":"border-purple-300"}`,"aria-label":`Notification: ${l.title}`,children:[s.jsx("div",{className:"flex-shrink-0 mt-1",style:{color:FP[l.type]},children:UP[l.type]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:`font-semibold text-lg truncate mb-1 ${l.isRead?"text-gray-700":"text-purple-700"}`,children:l.title}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:l.body}),s.jsx("time",{className:"block text-xs text-gray-500 mt-2",dateTime:l.createdAt,children:new Date(l.createdAt).toLocaleString()})]}),s.jsx("button",{onClick:c=>{c.stopPropagation(),i(l._id)},title:"Delete notification",className:"text-gray-400 hover:text-red-500 transition","aria-label":"Delete notification",children:s.jsx(Zo,{className:"w-6 h-6"})})]},l._id))})]})})}function VP(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-4xl w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"Privacy & Return Policies"}),s.jsx("p",{className:"mt-2 text-gray-400",children:"Last Updated: January 2025"})]}),s.jsxs("div",{className:"bg-zinc-900 p-8 rounded-lg shadow-md space-y-6 text-white text-sm",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Privacy Policy"}),s.jsx("p",{className:"mt-2 text-gray-300",children:"We collect personal data such as your name, email, payment info to operate the platform and provide services. We use cookies to improve your experience and track platform usage. We never sell your personal information and only share it with trusted third-party providers under strict confidentiality. You have rights to access, correct, delete, or export your data and opt out of marketing communications."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mt-6",children:"Return Policy"}),s.jsx("p",{className:"mt-2 text-gray-300",children:"Our platform enables sellers to define their own return policies for products and services. Generally:"}),s.jsxs("ul",{className:"list-disc list-inside mt-2 text-gray-300",children:[s.jsx("li",{children:"Returns must be requested within 14 days of delivery."}),s.jsx("li",{children:"Products must be unused and in original packaging."}),s.jsx("li",{children:"Services like bookings may be non-refundable once delivered."}),s.jsx("li",{children:"Refunds or exchanges are processed after seller approval and item inspection."})]}),s.jsx("p",{className:"mt-2 text-gray-300",children:"For specific return instructions and eligibility, please check the sellers return policy on their store page."})]})]})]})})}function WP(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-4xl w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"Terms of Service"}),s.jsx("p",{className:"mt-2 text-gray-400",children:"Last Updated: July 2025"})]}),s.jsxs("div",{className:"bg-zinc-900 p-8 rounded-lg shadow-md space-y-6 text-white text-sm",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Acceptance of Terms"}),s.jsx("p",{className:"text-gray-300",children:"By using AIO, you agree to our Terms and Privacy Policy."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mt-6",children:"User Accounts"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-300",children:[s.jsx("li",{children:"You must be 18+ years old"}),s.jsx("li",{children:"You're responsible for your account activity"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mt-6",children:"Seller Obligations"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-300",children:[s.jsx("li",{children:"Provide accurate listings & fulfill orders"}),s.jsx("li",{children:"Comply with laws and respect IP rights"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mt-6",children:"Dispute Resolution"}),s.jsx("p",{className:"text-gray-300",children:"Disputes may be resolved via AIO mediation or binding arbitration."})]})]})]})})}function HP(){return s.jsx(BC,{children:s.jsx(vE,{children:s.jsx(bE,{children:s.jsx(mC,{children:s.jsx(oN,{children:s.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[s.jsx(FC,{}),s.jsx("main",{className:"flex-1",children:s.jsxs(eN,{children:[s.jsx(se,{path:"/",element:s.jsx(x4,{})}),s.jsx(se,{path:"/stores",element:s.jsx(y4,{})}),s.jsx(se,{path:"/products",element:s.jsx(v4,{})}),s.jsx(se,{path:"/services",element:s.jsx(b4,{})}),s.jsx(se,{path:"/product/:id",element:s.jsx(w4,{})}),s.jsx(se,{path:"/service/:id",element:s.jsx(mP,{})}),s.jsx(se,{path:"/store/:id",element:s.jsx(gP,{})}),s.jsx(se,{path:"/cart",element:s.jsx(xP,{})}),s.jsx(se,{path:"/booking-summary",element:s.jsx(yP,{})}),s.jsx(se,{path:"/checkout",element:s.jsx(vP,{})}),s.jsx(se,{path:"/login",element:s.jsx(bP,{})}),s.jsx(se,{path:"/register",element:s.jsx(wP,{})}),s.jsx(se,{path:"/profile",element:s.jsx(jP,{})}),s.jsx(se,{path:"/dashboard",element:s.jsx(NP,{})}),s.jsx(se,{path:"/create-store",element:s.jsx(_P,{})}),s.jsx(se,{path:"/create-product",element:s.jsx(EP,{})}),s.jsx(se,{path:"/create-service",element:s.jsx(CP,{})}),s.jsx(se,{path:"/manage-products",element:s.jsx(TP,{})}),s.jsx(se,{path:"/manage-services",element:s.jsx(IP,{})}),s.jsx(se,{path:"/orders",element:s.jsx(PP,{})}),s.jsx(se,{path:"/bookings",element:s.jsx(OP,{})}),s.jsx(se,{path:"/store-management",element:s.jsx(AP,{})}),s.jsx(se,{path:"/sales-analytics",element:s.jsx(LP,{})}),s.jsx(se,{path:"/admin",element:s.jsx(DP,{})}),s.jsx(se,{path:"/platform-settings",element:s.jsx(MP,{})}),s.jsx(se,{path:"/help-center",element:s.jsx($P,{})}),s.jsx(se,{path:"/contact-us",element:s.jsx(BP,{})}),s.jsx(se,{path:"/privacy-policy",element:s.jsx(VP,{})}),s.jsx(se,{path:"/terms-of-service",element:s.jsx(WP,{})}),s.jsx(se,{path:"/notifications",element:s.jsx(zP,{})}),s.jsx(se,{path:"*",element:s.jsx(RP,{})})]})}),s.jsx(UC,{})]})})})})})})}N0(document.getElementById("root")).render(s.jsx(j.StrictMode,{children:s.jsx(HP,{})}));
